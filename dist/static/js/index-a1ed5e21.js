import{u as e,E as t,F as n,_ as o}from"./index-deb4ddfb.js";import{reactive as u,ref as r,computed as a,onMounted as l,nextTick as i}from"vue";import{b as s}from"./product-c166a0f6.js";const c={class:"header"},V=["src"],d={class:"content"},p=(e=>(Vue.pushScopeId("data-v-6209abe6"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("h4",null,"温馨提示，您已进入投保流程：",-1))),m={class:"statement"},f={class:"footer"},v={key:0},N={class:"review-pdf"},g=Vue.defineComponent({name:"preNotice"});var C=o(Vue.defineComponent({...g,props:{productDetail:{default:()=>({})}},setup(o){const g=o,C=e(),{tenantId:h="",preview:w}=C.query,k=u({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),y=r(!1),E=r(!1),b=new t({source:"sessionStorage"}),x=n({time:4e3,onFinish:()=>{b.set("PRENOTICE-isShow","1")}}),I=r({title:"",link:""}),S=a((()=>x.current.value.seconds)),P=a((()=>{if(I.value.link){const e=(I.value.link||"").split("?"),t=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",t),"pdf"===t?"pdf":"picture"}return"link"})),_=()=>{y.value=!1};return l((()=>{!w&&(async()=>{const{code:e,data:t}=await s({insureCode:g.productDetail.insurerCode,tenantId:h});"10000"===e&&(k.insureConfig=t,k.statement=`本产品由${t.tenantName}销售本页面仅做产品展示，具体承保方案以实际保单约定为准`,i((()=>{x.start()}))),y.value=!0})()})),(e,t)=>{var n;const o=Vue.resolveComponent("VanButton"),u=Vue.resolveComponent("ProPopup"),r=Vue.resolveComponent("ProFilePreview");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(u,{class:"pre-notice-wrap",show:Vue.unref(y),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:Vue.withCtx((()=>{var e;return[Vue.createElementVNode("div",c,[Vue.createElementVNode("img",{src:Vue.unref("/static/png/header-logo-f6f405b0.png")},null,8,V)]),Vue.createElementVNode("div",d,[p,Vue.createElementVNode("p",null,[Vue.createTextVNode(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),Vue.createElementVNode("span",{class:"file-name",onClick:t[0]||(t[0]=e=>((e,t)=>{var n;E.value=!E.value,I.value.link=null==(n=k.insureConfig)?void 0:n[t].link,I.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+Vue.toDisplayString((null==(e=Vue.unref(k).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),Vue.createTextVNode(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),Vue.createElementVNode("abbr",m,Vue.toDisplayString(Vue.unref(k).statement),1),Vue.createElementVNode("div",f,[Vue.createVNode(o,{type:"primary",block:"",round:"",onClick:_},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 好的 "),Vue.unref(S)?(Vue.openBlock(),Vue.createElementBlock("span",v,Vue.toDisplayString(Vue.unref(S))+"s",1)):Vue.createCommentVNode("",!0)])),_:1})])]})),_:1},8,["show"]),Vue.createVNode(u,{show:Vue.unref(E),"onUpdate:show":t[1]||(t[1]=e=>Vue.isRef(E)?E.value=e:null),class:"pre-notice-wrap",title:null==(n=Vue.unref(I))?void 0:n.title,position:"bottom",style:{overflow:"hidden"}},{default:Vue.withCtx((()=>{var e;return[Vue.createElementVNode("div",N,[Vue.createVNode(r,{content:null==(e=Vue.unref(I))?void 0:e.link,type:Vue.unref(P)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-6209abe6"]]);export{C as P};
