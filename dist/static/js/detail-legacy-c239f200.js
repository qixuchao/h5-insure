!function(){var e=document.createElement("style");e.innerHTML=".popup-body{width:100%;height:100%}.previewSign{width:1.33333rem;height:1.33333rem}.sign-container-wrap{width:100%;padding-left:2rem;height:100%;display:flex;flex-direction:row-reverse;justify-content:space-between;overflow:hidden}.sign-container-wrap .operate-bar{position:absolute;width:100vh;display:flex;align-items:center;transform:rotate(90deg) translate(8rem);padding-left:1.33333rem}.sign-container-wrap .com-sign-wrap{width:100%;height:100%}.sign-container-wrap .com-sign-wrap .placeholder{transform:rotate(90deg)}.net-sale-wrap[data-v-3b7b4166]{padding-bottom:2rem}.net-sale-wrap .common-cell-wrapper[data-v-3b7b4166]{height:1.38667rem;align-items:center;width:100%}.net-sale-wrap .common-cell-wrapper .cell-container[data-v-3b7b4166]{width:100%;align-items:flex-start;justify-content:center}.net-sale-wrap .sign-cell[data-v-3b7b4166]{display:flex;align-items:center;justify-content:space-between}.net-sale-wrap[data-v-3b7b4166] .van-field__value{align-items:flex-end}\n",document.head.appendChild(e),System.register(["./vendor-legacy-80c9b6be.js","./theme-legacy-41f77bf2.js","./trial-legacy-dfd630dc.js","./nextStep-legacy-50170f8e.js","./verify-legacy-41d04642.js","./product-legacy-4542fd4f.js","./index-legacy-9bc5dba8.js","./infoCollection-legacy-27f85deb.js","./relativeTime-legacy-29fbfa3f.js","./useDicData-legacy-b3575827.js"],(function(e){"use strict";var t,n,a,l,o,i,r,c,d,s,u,f,p,v,m,b,g,y,w,h,I,j,C,_,x,E,L,N,O;return{setters:[function(e){t=e.m,n=e.r,a=e.e,l=e.s,o=e.t,i=e.C,r=e.E,c=e.F,d=e.z,s=e.U,u=e.x,f=e.I,p=e.H,v=e.u,m=e.ab,b=e.o,g=e.v,y=e.N,w=e.T,h=e.a6,I=e.a7},function(e){j=e.u},function(e){C=e.g,_=e.i},function(e){x=e._,E=e.n},function(e){L=e.s},function(e){N=e.p},function(e){O=e._},function(){},function(){},function(){}],execute:function(){const T={class:"sign-wrap"},R=["src"],S=p("点击签字"),k={class:"popup-body"},H={class:"sign-container-wrap"},V={class:"operate-bar"},A=r("span",null,"请投保人正楷签署您的签名:",-1),B=p("返回"),D=p("重写"),P=p("确定签字"),U=t({props:{option:{default:{}},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const p=n(!1),v=n(),m=a((()=>{let e="";return v.value&&(e=v.value.save()),e})),b=()=>{p.value=!0},g=()=>{p.value=!1},y=()=>{v.value?.clear?.()},w=()=>{t("update:modelValue",m.value),p.value=!1};return(e,t)=>{const n=l("van-button"),a=l("ProSign"),h=l("van-popup");return o(),i(f,null,[r("div",T,[c(m)?(o(),i("img",{key:0,class:"previewSign",src:c(m),alt:""},null,8,R)):d("",!0),s(n,{type:"primary",size:"small",onClick:b},{default:u((()=>[S])),_:1})]),s(h,{show:p.value,"onUpdate:show":t[0]||(t[0]=e=>p.value=e),position:"bottom",style:{height:"100%"}},{default:u((()=>[r("div",k,[r("div",H,[s(a,{ref_key:"signRef",ref:v},null,512),r("div",V,[A,s(n,{type:"default",onClick:g},{default:u((()=>[B])),_:1}),s(n,{type:"default",onClick:y},{default:u((()=>[D])),_:1}),s(n,{type:"default",disabled:!c(m),onClick:w},{default:u((()=>[P])),_:1},8,["disabled"])])])])])),_:1},8,["show"])],64)}}});const F={class:"net-sale-wrap"},z={class:"part"},q={class:"product-name"},G={class:"part"},J={class:"part"},M={class:"part"},W={class:"sign-cell"},X=(e=>(h("data-v-3b7b4166"),e=e(),I(),e))((()=>r("div",{class:"sign-label"},"签名",-1))),Y={class:"footer-button"},$=p("提交");e("default",O(t({setup(e){const t=j(),a=v();m();const{orderNo:i="2022120119060692150",tenantId:f="9991000001",productCode:p="HTEJBX"}=a.query;n();const h=n({}),I=n({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:f,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:f}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),O=n(),T=n(),R=n(""),S=async()=>{R.value?(await L("HOLDER",R.value,I.value.id,`${f}`),E(I.value)):w("请先签字")};return b((()=>{(async()=>{const{code:e,data:t}=await _({productCode:p,tenantId:f});"10000"===e&&(O.value=t,h.value=t.productFactor)})(),(async()=>{const{data:e,code:t}=await N({productCode:p,tenantId:f});"10000"===t&&(T.value=e)})(),(async()=>{const{code:e,data:t}=await C({orderNo:i,tenantId:f});"10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",I.value=t)})()})),(e,n)=>{const a=l("ProCell"),i=l("ProCard"),f=l("van-cell"),p=l("van-button"),v=l("ProPageWrap"),m=l("van-config-provider");return o(),g(m,{"theme-vars":c(t)},{default:u((()=>[s(v,null,{default:u((()=>[r("div",F,[I.value.id?(o(),g(i,{key:0,"show-line":!1,title:"投保信息"},{default:u((()=>[r("div",z,[r("div",q,y(O.value?.productBasicInfoVO.productFullName),1)]),r("div",G,[s(a,{title:"保费",content:I.value.orderAmount},null,8,["content"]),s(a,{title:"保险期限",content:I.value.tenantOrderInsuredList[0]?.planName},null,8,["content"]),s(a,{title:"起保日期",content:I.value.commencementTime},null,8,["content"]),s(a,{title:"终保日期",content:I.value.expiryDate},null,8,["content"]),s(a,{title:"保单状态",content:I.value.orderStatus},null,8,["content"])]),r("div",J,[s(a,{title:"订单编号",content:I.value.orderNo},null,8,["content"]),s(a,{title:"销售人名称",content:""}),s(a,{title:"房屋地址",content:I.value.tenantOrderHolder?.extInfo?.familyAddress},null,8,["content"]),s(a,{title:"燃气编号",content:I.value.tenantOrderInsuredList?.[0]?.extInfo.subjectRelatedUserId},null,8,["content"])])])),_:1})):d("",!0),s(x,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":I.value,"factor-object":h.value,"input-align":"right"},null,8,["form-info","factor-object"]),s(i,{title:"阅读条款合同"},{default:u((()=>[r("div",M,[s(f,{title:"客户告知书","is-link":""})])])),_:1}),s(i,{title:"客户签名"},{default:u((()=>[r("div",W,[X,s(U,{modelValue:R.value,"onUpdate:modelValue":n[0]||(n[0]=e=>R.value=e)},null,8,["modelValue"])])])),_:1}),r("div",Y,[s(p,{type:"primary",block:"",onClick:S},{default:u((()=>[$])),_:1})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-3b7b4166"]]))}}}))}();
