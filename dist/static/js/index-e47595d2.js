import{ref as e,watch as t,onMounted as l,computed as u,onUnmounted as n,nextTick as a,defineAsyncComponent as o,toRefs as r}from"vue";import{_ as c,Y as i,x as V,y as s,z as d,A as m,B as p,q as v}from"./index-deb4ddfb.js";import{o as f}from"./utils-f063477c.js";import{C as k}from"./infoCollection-f930e52f.js";const C={class:"com-video"},A=["src"],E=["src"];var B=c(Vue.defineComponent({__name:"Video",props:{src:{}},setup(u){const n=u,a=e(!1),o=e("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASAQMAAAC+UBZMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURf/////+/0xnxC0AAAArSURBVHjaFcSxEQAQEACwvFMofwylEdjsR0eRwCFS0jH+i6BoJalpEw/7u0clA1/PTeAgAAAAAElFTkSuQmCC");return t((()=>n),(e=>{o.value=`${window.location.origin}/api/app/common/file/generateLink?type=2&url=${e.src}`}),{deep:!0,immediate:!0}),l((()=>{})),(e,t)=>{const l=Vue.resolveComponent("ProSvg");return Vue.openBlock(),Vue.createElementBlock("div",C,[Vue.createElementVNode("img",{src:Vue.unref(o),class:"cover-image",onClick:t[0]||(t[0]=e=>a.value=!0)},null,8,A),Vue.createVNode(l,{name:"play",class:"cover-image-play",onClick:t[1]||(t[1]=e=>a.value=!0)}),Vue.unref(a)?(Vue.openBlock(),Vue.createElementBlock("video",{key:0,src:n.src,autoplay:"",controls:"",class:"banner-video",onEnded:t[2]||(t[2]=e=>a.value=!1)},null,40,E)):Vue.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-38686bfe"]]);const g={class:"guarantee-list"},_=(e=>(Vue.pushScopeId("data-v-72bcb63c"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("span",null,"保障计划",-1))),y={key:0,class:"plan-list"},N=["onClick"],h={key:2,class:"feerate-view"},L={key:0},b={class:"extinfo-info-list"},S={class:"guarantee-detail"},w={class:"content"},x=Vue.defineComponent({name:"guarantee"});var I=c(Vue.defineComponent({...x,props:{dataSource:{default:()=>({})},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{default:5},planList:{default:()=>[]}},emits:["updateActivePlan"],setup(l,{emit:o}){var r,c;const v=l;Vue.useCssVars((e=>({"47c8f96c":Vue.unref(k)})));const k=e(""),C=e((null==(c=null==(r=v.planList)?void 0:r[0])?void 0:c.planCode)||void 0),A=e(),E=e([]),B=e([]),x=e(),I=u((()=>!!v.planList.length));t([()=>v.dataSource,()=>C.value],(()=>{var e,t;E.value=((null==(t=((null==(e=v.dataSource)?void 0:e.GUARANTEE)||[]).find((e=>e.planCode===C.value)))?void 0:t.data)||[]).filter((e=>e.isShowOn===`${i.YES}`))}),{immediate:!0,deep:!0});const F=u((()=>{var e;return(null==(e=v.dataSource)?void 0:e.rateUri)||""})),T=u((()=>!!(x.value&&x.value.paymentFrequencyValue&&x.value.premiumUnit&&F))),[P,O]=V(!1),R=u((()=>{var e;return!(!E.value||!(null==(e=E.value)?void 0:e.length))&&(E.value.length>v.count&&(!!v.isShowClose||!P.value))})),U=()=>{O()},D=u((()=>{var e;return E.value&&(null==(e=E.value)?void 0:e.length)?E.value.length<=v.count||P.value?E.value:E.value.slice(0,v.count):[]})),M=e(!1),j=e=>{const t=e||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,"A"===t.target.tagName&&t.target.href&&(m()?p("",t.target.href):window.open(t.target.href))},W=()=>{M.value=!0,a((()=>{var e,t;null==(t=null==(e=document.getElementsByClassName("guarantee-detail"))?void 0:e[0])||t.addEventListener("click",j,!1)}))};n((()=>{var e,t;null==(t=null==(e=document.getElementsByClassName("guarantee-detail"))?void 0:e[0])||t.removeEventListener("click",j,!1)}));const z=()=>{f({fileType:"pdf",fileUri:F.value})},G=e=>{C.value=v.planList[e.name].planCode};return(e,t)=>{var l,u;const n=Vue.resolveComponent("ProCell"),a=Vue.resolveComponent("ProTab"),r=Vue.resolveComponent("ProPopup"),c=Vue.resolveDirective("dompurify-html");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createElementVNode("div",g,[Vue.createElementVNode("div",{class:"header"},[_,Vue.createElementVNode("span",{onClick:W},"查看详情")]),Vue.unref(I)?(Vue.openBlock(),Vue.createElementBlock("div",y,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.planList,((e,t)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:`${e.planCode}_${t}`,class:Vue.normalizeClass("plan-list-item "+(e.planCode===Vue.unref(C)?"plan-list-item-active":"")),onClick:t=>{return l=e.planCode,C.value=l,A.value=v.planList.findIndex((e=>e.planCode===l)),void o("updateActivePlan",l);var l}},[Vue.createElementVNode("span",null,Vue.toDisplayString(e.planName),1)],10,N)))),128))])):Vue.createCommentVNode("",!0),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(D),((e,t)=>(Vue.openBlock(),Vue.createBlock(n,{key:t,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128)),Vue.unref(R)?(Vue.openBlock(),Vue.createElementBlock("div",{key:1,class:"show-more",onClick:U},[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(P)?"收起":"查看更多")+" ",1),Vue.createVNode(s,{name:"arrow-down-dobule",class:Vue.normalizeClass(["icon",{showMore:Vue.unref(P)}])},null,8,["class"])])):Vue.createCommentVNode("",!0),Vue.unref(T)?(Vue.openBlock(),Vue.createElementBlock("div",h,[Vue.createElementVNode("span",null,Vue.toDisplayString(`${(null==(l=Vue.unref(x))?void 0:l.paymentFrequencyValue)||""}${(null==(u=Vue.unref(x))?void 0:u.premiumUnit)||""}`),1),Vue.unref(F)?(Vue.openBlock(),Vue.createElementBlock("span",{key:0,onClick:z},"查看保费")):Vue.createCommentVNode("",!0)])):Vue.createCommentVNode("",!0)]),Vue.createVNode(d),Vue.createVNode(r,{show:Vue.unref(M),"onUpdate:show":t[1]||(t[1]=e=>Vue.isRef(M)?M.value=e:null),title:"保障详情",class:"guarantee-popup"},{default:Vue.withCtx((()=>[Vue.unref(B)&&Vue.unref(B).length>0?(Vue.openBlock(),Vue.createElementBlock("div",L,[Vue.createElementVNode("div",b,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(B),((e,t)=>(Vue.openBlock(),Vue.createBlock(n,{key:t,title:e.name,content:e.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),Vue.createVNode(d)])):Vue.createCommentVNode("",!0),Vue.unref(I)?(Vue.openBlock(),Vue.createBlock(a,{key:1,active:Vue.unref(A),"onUpdate:active":t[0]||(t[0]=e=>Vue.isRef(A)?A.value=e:null),list:e.planList.map(((e,t)=>({title:e.planName}))),class:"custom-plan-tab",onClickTab:G},null,8,["active","list"])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",S,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(E),((e,t)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:t,class:"guarantee-item"},[Vue.createVNode(n,{title:e.title,content:e.desc,border:!1,size:"small"},null,8,["title","content"]),Vue.withDirectives(Vue.createElementVNode("div",w,null,512),[[c,e.tips]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-72bcb63c"]]);const F={class:"spec"},T={class:"rich-text"},P={key:1,class:"spec"},O={class:"rich-text"},R={key:1,class:"spec"},U={class:"rich-text"},D=Vue.defineComponent({name:"ScrollInfo"}),M=Vue.defineComponent({...D,props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(t,{expose:l}){const n=t,a=o((()=>v((()=>import("./index-deb4ddfb.js").then((function(e){return e.bh}))),["static/js/index-deb4ddfb.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"])));o((()=>v((()=>import("./index-dba3eb9c.js")),["static/js/index-dba3eb9c.js","static/css/index-f22f2764.css","static/js/index-deb4ddfb.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"])));const c=o((()=>v((()=>import("./index-deb4ddfb.js").then((function(e){return e.bf}))),["static/js/index-deb4ddfb.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),i=o((()=>v((()=>import("./index-889a9413.js")),["static/js/index-889a9413.js","static/css/index-7b3feb06.css","static/js/index-deb4ddfb.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),V=o((()=>v((()=>import("./index-bcff34a0.js")),["static/js/index-bcff34a0.js","static/css/index-194b9c66.css","static/js/index-deb4ddfb.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),{dataSource:s}=r(n),d=e(),m=e([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),p=u((()=>{var e,t;return null==(t=null==(e=s.value.SPECIAL_FEATURE)?void 0:e.spec)?void 0:t.length})),f=u((()=>{var e,t,l,u;const n=null==(e=s.value.CLAIM_FLOW)?void 0:e.processCaseType;return!!(n===k.WORD&&(null==(t=s.value.CLAIM_FLOW)?void 0:t.processContent)||n===k.IMAGE&&(null==(u=null==(l=s.value.CLAIM_FLOW)?void 0:l.processCasePicList)?void 0:u.length))})),C=u((()=>{var e,t,l,u,n;const a=null==(t=null==(e=s.value)?void 0:e.CLAIM_CASE)?void 0:t.claimCaseType;return!!(a===k.WORD&&(null==(l=s.value.CLAIM_CASE)?void 0:l.claimContent)||a===k.IMAGE&&(null==(n=null==(u=s.value.CLAIM_CASE)?void 0:u.claimCasePicList)?void 0:n.length))})),A=u((()=>{var e,t;return null==(t=null==(e=s.value)?void 0:e.ISSUE_NOTICE)?void 0:t.noticeContent})),E=u((()=>{var e,t;return null==(t=null==(e=s.value)?void 0:e.FAQ)?void 0:t.length})),B=u((()=>{let e=[...m.value];return p.value||(e=e.filter((e=>"tab1"!==e.slotName))),f.value||C.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return l({handleClickTab:()=>{var e;return null==(e=d.value)?void 0:e.handleClickTab}}),(e,t)=>{const l=Vue.resolveComponent("van-image"),u=Vue.resolveComponent("ProSvg"),n=Vue.resolveDirective("dompurify-html");return Vue.openBlock(),Vue.createBlock(Vue.unref(a),{ref_key:"scrollRef",ref:d,class:"tabs",list:Vue.unref(B),sticky:"",scrollspy:""},Vue.createSlots({tab3:Vue.withCtx((()=>[Vue.renderSlot(e.$slots,"form")])),_:2},[Vue.unref(p)?{name:"tab1",fn:Vue.withCtx((()=>{var e;return[Vue.createElementVNode("div",F,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList((null==(e=Vue.unref(s).SPECIAL_FEATURE)?void 0:e.spec)||[],((e,t)=>(Vue.openBlock(),Vue.createBlock(Vue.Suspense,{key:t},{fallback:Vue.withCtx((()=>[Vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createBlock(l,{key:t,class:"detail-img",width:"100%",src:e},null,8,["src"]))])),_:2},1024)))),128)),Vue.createVNode(Vue.unref(c))])]})),key:"0"}:void 0,Vue.unref(f)||Vue.unref(C)||Vue.unref(A)||Vue.unref(E)?{name:"tab2",fn:Vue.withCtx((()=>{var e,t;return[Vue.unref(f)?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[(null==(e=Vue.unref(s).CLAIM_FLOW)?void 0:e.processCaseType)===Vue.unref(k).WORD?(Vue.openBlock(),Vue.createBlock(Vue.unref(i),{key:0,class:"tab-card",title:"理赔说明"},{default:Vue.withCtx((()=>{var e;return[Vue.withDirectives(Vue.createElementVNode("div",T,null,512),[[n,null==(e=Vue.unref(s).CLAIM_FLOW)?void 0:e.processContent]])]})),_:1})):(Vue.openBlock(),Vue.createElementBlock("div",P,[(Vue.openBlock(),Vue.createBlock(Vue.Suspense,null,{fallback:Vue.withCtx((()=>[Vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:Vue.withCtx((()=>{var e;return[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList((null==(e=Vue.unref(s).CLAIM_FLOW)?void 0:e.processCasePicList)||[],((e,t)=>(Vue.openBlock(),Vue.createBlock(l,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),Vue.createVNode(Vue.unref(c))],64)):Vue.createCommentVNode("",!0),Vue.unref(C)?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[(null==(t=Vue.unref(s).CLAIM_CASE)?void 0:t.claimCaseType)===Vue.unref(k).WORD?(Vue.openBlock(),Vue.createBlock(Vue.unref(i),{key:0,class:"tab-card",title:"理赔案例"},{default:Vue.withCtx((()=>{var e;return[Vue.withDirectives(Vue.createElementVNode("div",O,null,512),[[n,null==(e=Vue.unref(s).CLAIM_CASE)?void 0:e.claimContent]])]})),_:1})):(Vue.openBlock(),Vue.createElementBlock("div",R,[(Vue.openBlock(),Vue.createBlock(Vue.Suspense,null,{fallback:Vue.withCtx((()=>[Vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:Vue.withCtx((()=>{var e;return[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList((null==(e=Vue.unref(s).CLAIM_CASE)?void 0:e.claimCasePicList)||[],((e,t)=>(Vue.openBlock(),Vue.createBlock(l,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),Vue.createVNode(Vue.unref(c))],64)):Vue.createCommentVNode("",!0),Vue.unref(A)?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:2},[Vue.createVNode(Vue.unref(i),{class:"tab-card",title:"投保须知"},{default:Vue.withCtx((()=>{var e;return[Vue.withDirectives(Vue.createElementVNode("div",U,null,512),[[n,null==(e=Vue.unref(s).ISSUE_NOTICE)?void 0:e.noticeContent]])]})),_:1}),Vue.createVNode(Vue.unref(c))],64)):Vue.createCommentVNode("",!0),Vue.unref(E)?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:3},[Vue.createVNode(Vue.unref(i),{title:"常见问题"},{default:Vue.withCtx((()=>{var e,t;return[Vue.createVNode(Vue.unref(V),{list:null==(t=null==(e=Vue.unref(s).FAQ)?void 0:e[0])?void 0:t.data},null,8,["list"])]})),_:1}),Vue.createVNode(Vue.unref(c))],64)):Vue.createCommentVNode("",!0)]})),key:"1"}:void 0]),1032,["list"])}}});export{I as G,B as V,M as _};
