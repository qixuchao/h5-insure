import{_ as e,d as a,bv as t,ah as s,bw as r,i as o,h as n,aI as l,bT as u,j as d,o as c,c as i,a as p,b as m,e as y,u as f,w as _,a8 as b,m as v,p as h,f as I,bU as w,ae as N,ag as q,bV as R,bW as g,T as k,bX as C}from"./index-cdaa140a.js";import{P as T,M as E}from"./constants-4b08cf92.js";import{c as L}from"./order-f81c201c.js";import{o as A}from"./verify-bdac398e.js";const D={class:"page-underwrite-result-wrap"},S={class:"result-content"},U={class:"result-icon"},j={class:"result-status"},x={class:"result-desc"},F={key:0,class:"operate-btn"},V={key:1,class:"operate-btn"},W={class:"dialog-content"},$=a({name:"underwriteResult"});var G=e(a({...$,setup(e){var a,$;const G={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==($=s.get(`${r}_underwriteResult`))?void 0:$[t.UNDER_WRITE_FAIL]}},z=o(),M=n(),{orderNo:P,tenantId:X,underwriteStatus:B}=z.query,H=l.Component,[J,K]=u(!1),O=d(),Q=async()=>{const{code:e,data:a}=await A({orderNo:P,tenantId:X});"10000"===e&&a&&(delete z.query.orderNo,M.push({path:T.orderList,query:{...z.query}}))},Y=e=>{L({orderNo:P,tenantId:X}).then((({code:a,data:t})=>{"10000"===a&&(k("撤单成功"),C({orderNo:P,tenantId:X}).then((({code:a})=>{"10000"===a&&(null==e||e())})))}))},Z=()=>{K(!0)},ee=()=>{w({messageType:E.AGENT,orderNo:P,tenantId:X}).then((({code:e})=>{"10000"===e&&M.push({path:T.sign,query:z.query})}))},ae=()=>{Y((()=>{delete z.query.orderNo,M.push({path:T.productList,query:z.query})}))},te=()=>{Y((()=>{K(!1),M.push({path:O.value,query:z.query})}))},se=()=>{K(!1),ae()};return(e,a)=>{const s=N,r=q,o=R,n=g;return c(),i("div",D,[p("div",S,[p("div",U,[m(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),p("p",j,y(G[`${f(B)}`].resultStatus),1),p("p",x,y(G[`${f(B)}`].resultDesc),1),f(B)===f(t).UNDER_WRITE_FAIL?(c(),i("div",F,[m(r,{type:"primary",plain:"",onClick:Z},{default:_((()=>[b("返回修改")])),_:1}),m(r,{type:"primary",onClick:ee},{default:_((()=>[b("继续投保")])),_:1}),m(r,{class:"no-border",onClick:ae},{default:_((()=>[b("放弃投保")])),_:1})])):(c(),i("div",V,[m(r,{type:"primary",onClick:Q},{default:_((()=>[b("确定")])),_:1})]))]),f(J)?(c(),v(f(H),{key:0,show:f(J),"onUpdate:show":a[1]||(a[1]=e=>h(J)?J.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!f(O),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:te,onCancel:se},{default:_((()=>[p("div",W,[m(n,{modelValue:f(O),"onUpdate:modelValue":a[0]||(a[0]=e=>h(O)?O.value=e:null)},{default:_((()=>[m(o,{name:f(T).premiumTrial},{default:_((()=>[b("保费试算页")])),_:1},8,["name"]),m(o,{name:f(T).questionNotice},{default:_((()=>[b("健康告知页")])),_:1},8,["name"]),m(o,{name:f(T).infoCollection},{default:_((()=>[b("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):I("",!0)])}}}),[["__scopeId","data-v-6b494c98"]]);export{G as default};
