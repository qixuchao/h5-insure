var j=Object.defineProperty,M=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(t,e,o)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,c=(t,e)=>{for(var o in e||(e={}))w.call(e,o)&&A(t,o,e[o]);if(x)for(var o of x(e))z.call(e,o)&&A(t,o,e[o]);return t},E=(t,e)=>M(t,U(e));import{g as O,af as $,Q as G,C as S,L as Q,M as W,r as l,h,j as b,k as p,n as d,m as J,E as H,z as K,F as X,y as r,a1 as Y,a2 as Z,B as y,T as P,J as ee}from"./vendor-50171071.js";import{_ as te,j as T,P as oe}from"./index-d863bc16.js";import{l as ae}from"./inform-31a884fa.js";import{a as se,n as ne}from"./index-4a108071.js";import{s as ue}from"./useStorage-15777c7e.js";import{s as re}from"./verify-a30fa5eb.js";const ie=t=>(Y("data-v-44e50b1f"),t=t(),Z(),t),ce={class:"footer-btn"},le={class:"inform-file"},pe=ie(()=>r("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),r("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),de={class:"footer-button"},_e=y("\u4E0B\u4E00\u6B65"),fe=O({setup(t){const e=$(),o=G(),{productCode:me="MMBBSF",agentCode:I="65434444",tenantId:B="9991000007",agencyCode:ge="3311222",insurerCode:k="zhongan",productCategory:q="1",templateId:F="1",orderNo:v="2022080217103534947"}=o.query,_=S(null),D=S(!1),N=()=>{var a;(a=_.value)==null||a.clear()},u=Q({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),R=()=>{se({orderNo:v,saleUserId:I,tenantId:B}).then(({code:a,data:s})=>{a==="10000"&&Object.assign(u.pageData,s)})};W(()=>{R(),ae({insurerCode:k,orderNo:v,productCategory:q,tenantId:B,noticeType:9,objectType:3}).then(({code:a,data:s})=>{a==="10000"&&(u.noticeList=s)})});const L=a=>{ue.set("questionData",a),e.push({path:"/healthNotice",query:c({questionnaireType:a.questionnaireType},o.query)})},V=()=>{var f,m;if(!u.noticeList.every(i=>i.isDone===1)){P("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((f=_.value)==null?void 0:f.isEmpty()){P("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(m=_.value)==null?void 0:m.save();re("AGENT",s,v,B).then(i=>{i&&ne(E(c({},u.pageData),{extInfo:E(c({},u.pageData.extInfo),{templateId:F,pageCode:"salesNotice"}),venderCode:k})).then(({code:C,data:g})=>{C==="10000"&&g.pageAction.pageAction==="jumpToPage"&&e.push({path:oe[g.pageAction.data.nextPageCode],query:c({},o.query)})})})};return(a,s)=>{const f=l("van-cell"),m=l("ProSign"),i=l("van-checkbox"),C=l("van-button"),g=l("ProPageWrap");return h(),b(g,{class:"page-salesman-inform"},{default:p(()=>[d(T,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:p(()=>[(h(!0),J(X,null,H(K(u).noticeList,n=>(h(),b(f,{key:n.id,class:ee({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>L(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),d(T,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:p(()=>[r("div",{class:"resign",onClick:N},"\u91CD\u7B7E")]),default:p(()=>[d(m,{ref_key:"agentSignRef",ref:_,selector:"sign2"},null,512)]),_:1}),r("footer",ce,[r("div",le,[d(i,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=n=>D.value=n),shape:"square"},null,8,["modelValue"]),pe]),r("div",de,[d(C,{type:"primary",block:"",onClick:V},{default:p(()=>[_e]),_:1})])])]),_:1})}}});var xe=te(fe,[["__scopeId","data-v-44e50b1f"]]);export{xe as default};
