!function(){var e=document.createElement("style");e.innerHTML=".popup-body{width:100%;height:100%}.previewSign{width:1.33333rem;height:1.33333rem}.sign-container-wrap{width:100%;padding-left:2rem;height:100%;display:flex;flex-direction:row-reverse;justify-content:space-between;overflow:hidden}.sign-container-wrap .operate-bar{position:absolute;width:100vh;display:flex;align-items:center;transform:rotate(90deg) translate(8rem);padding-left:1.33333rem}.sign-container-wrap .com-sign-wrapper{width:100%;height:100%}.sign-container-wrap .com-sign-wrapper .placeholder{transform:rotate(90deg)}.net-sale-wrap[data-v-7fa504e2]{padding:0 var(--zaui-page-border, .4rem) 2rem;background-color:#f4f4f4}.net-sale-wrap .part[data-v-7fa504e2]{border-radius:.05333rem;margin-bottom:.13333rem}.net-sale-wrap .common-cell-wrapper[data-v-7fa504e2]{height:1.38667rem;align-items:center;width:100%;display:inline-flex}.net-sale-wrap .common-cell-wrapper[data-v-7fa504e2] .cell-container{align-items:flex-start;justify-content:center;width:100%;color:var(--van-field-label-color);font-size:.4rem}.net-sale-wrap .sign-cell[data-v-7fa504e2]{display:flex;align-items:center;justify-content:space-between}.net-sale-wrap[data-v-7fa504e2] .van-field__value{align-items:flex-end}\n",document.head.appendChild(e),System.register(["./vendor-legacy-e942cbdc.js","./theme-legacy-2a115a2b.js","./trial-legacy-79bb48d1.js","./nextStep-legacy-d1d27e11.js","./verify-legacy-342be94b.js","./product-legacy-034a1035.js","./order-legacy-84f105b1.js","./core-legacy-cc9ac1b8.js","./index-legacy-ed7649fd.js","./index-legacy-9bbf19fd.js","./infoCollection-legacy-e5c1acf4.js","./relativeTime-legacy-6f514b10.js","./useDicData-legacy-7e6c7639.js","./index-legacy-33d8a1e1.js"],(function(e){"use strict";var t,n,a,l,o,i,r,c,d,s,u,f,p,v,m,g,y,w,b,h,I,j,C,x,_,E,L,O,N,k,T,S,R,V,A;return{setters:[function(e){t=e.h,n=e.r,a=e.x,l=e.k,o=e.l,i=e.y,r=e.z,c=e.A,d=e.s,s=e.Q,u=e.n,f=e.F,p=e.C,v=e.N,m=e.a8,g=e.j,y=e.m,w=e.I,b=e.E,h=e.T,I=e.a3,j=e.a4},function(e){C=e.u},function(e){x=e.g,_=e.a,E=e.i},function(e){L=e._,O=e.n},function(e){N=e.s},function(e){k=e.p},function(e){T=e.a},function(e){S=e.u,R=e.s},function(e){V=e.P},function(e){A=e._},function(){},function(){},function(){},function(){}],execute:function(){const H={class:"sign-wrap"},P=["src"],B=p("点击签字"),D={class:"popup-body"},U={class:"sign-container-wrap"},z={class:"operate-bar"},F=r("span",null,"请投保人正楷签署您的签名:",-1),G=p("返回"),Y=p("重写"),q=p("确定签字"),J=t({props:{option:{default:{}},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const p=n(!1),v=n(),m=a((()=>{let e="";return v.value&&(e=v.value.save()),e})),g=()=>{p.value=!0},y=()=>{p.value=!1},w=()=>{v.value?.clear?.()},b=()=>{t("update:modelValue",m.value),p.value=!1};return(e,t)=>{const n=l("van-button"),a=l("ProSign"),h=l("van-popup");return o(),i(f,null,[r("div",H,[c(m)?(o(),i("img",{key:0,class:"previewSign",src:c(m),alt:""},null,8,P)):d("",!0),s(n,{type:"primary",size:"small",onClick:g},{default:u((()=>[B])),_:1})]),s(h,{show:p.value,"onUpdate:show":t[0]||(t[0]=e=>p.value=e),position:"bottom",style:{height:"100%"}},{default:u((()=>[r("div",D,[r("div",U,[s(a,{ref_key:"signRef",ref:v},null,512),r("div",z,[F,s(n,{type:"default",onClick:y},{default:u((()=>[G])),_:1}),s(n,{type:"default",onClick:w},{default:u((()=>[Y])),_:1}),s(n,{type:"default",disabled:!c(m),onClick:b},{default:u((()=>[q])),_:1},8,["disabled"])])])])])),_:1},8,["show"])],64)}}});const M={class:"net-sale-wrap"},Q={class:"part"},W={class:"product-name"},X={class:"part"},$={class:"part"},K={class:"part"},Z={class:"sign-cell"},ee=(e=>(I("data-v-7fa504e2"),e=e(),j(),e))((()=>r("div",{class:"sign-label"},"签名",-1))),te={class:"footer-button"};e("default",A(t({setup(e){const t=C(),p=v();m();const{orderNo:I="2022113021181894998",tenantId:j="9991000001",productCode:A="HTEJBX"}=p.query;n();const H=n({}),P=n({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:j,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:j}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),B=n(),D=n(),U=n(""),z=a((()=>{const{planCode:e}=P.value.tenantOrderInsuredList?.[0]||{};return e&&(D.value?.planList||[]).find((t=>t.plaCode===e))?.attachmentVOList||[]})),F=async()=>{U.value?(await N("HOLDER",U.value,P.value.id,`${j}`),O(P.value)):h("请先签字")};return S(),g((()=>{(async()=>{const{code:e,data:t}=await E({productCode:A,tenantId:j});"10000"===e&&(B.value=t,H.value=t.productFactor)})(),(async()=>{const{data:e,code:t}=await k({productCode:A,tenantId:j,withInsureInfo:!0});"10000"===t&&(D.value=e)})(),(async()=>{const{code:e,data:t}=await x({orderNo:I,tenantId:j});if("10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",P.value=t,t.orderStatus===T.PAYING)){P.value.extInfo.redirectUrl="";const{code:e,data:t}=await _(P.value);"10000"===e&&R(t.paymentUrl)}})()})),(e,n)=>{const a=l("ProCell"),p=l("ProCard"),v=l("van-cell"),m=l("ProPageWrap"),g=l("van-config-provider");return o(),y(g,{"theme-vars":c(t)},{default:u((()=>[s(m,null,{default:u((()=>[r("div",M,[P.value.id?(o(),y(p,{key:0,"show-line":!1,title:"投保信息"},{default:u((()=>[r("div",Q,[r("div",W,w(B.value?.productBasicInfoVO.productFullName),1)]),r("div",X,[s(a,{title:"保费",content:P.value.orderAmount},null,8,["content"]),s(a,{title:"保险期限",content:P.value.tenantOrderInsuredList[0]?.planName},null,8,["content"]),s(a,{title:"起保日期",content:P.value.commencementTime},null,8,["content"]),s(a,{title:"终保日期",content:P.value.expiryDate},null,8,["content"]),s(a,{title:"保单状态",content:P.value.orderStatus},null,8,["content"])]),r("div",$,[s(a,{title:"订单编号",content:P.value.orderNo},null,8,["content"]),s(a,{title:"销售人名称",content:""}),s(a,{title:"房屋地址",content:P.value.tenantOrderHolder?.extInfo?.familyAddress},null,8,["content"]),s(a,{title:"燃气编号",content:P.value.tenantOrderInsuredList?.[0]?.extInfo.subjectRelatedUserId},null,8,["content"])])])),_:1})):d("",!0),s(L,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":P.value,"factor-object":H.value,"input-align":"right"},null,8,["form-info","factor-object"]),s(p,{title:"阅读条款合同"},{default:u((()=>[r("div",K,[(o(!0),i(f,null,b(Object.keys(c(z)),((e,t)=>(o(),y(v,{key:t,title:e,"is-link":"",onClick:t=>{c(z)[e]}},null,8,["title","onClick"])))),128))])])),_:1}),s(p,{title:"客户签名"},{default:u((()=>[r("div",Z,[ee,s(J,{modelValue:U.value,"onUpdate:modelValue":n[0]||(n[0]=e=>U.value=e)},null,8,["modelValue"])])])),_:1}),r("div",te,[s(V,{text:"提交",onClick:F})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-7fa504e2"]]))}}}))}();
