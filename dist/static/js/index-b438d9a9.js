var M=Object.defineProperty,L=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var w=(o,s,n)=>s in o?M(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n,f=(o,s)=>{for(var n in s||(s={}))V.call(s,n)&&w(o,n,s[n]);if(A)for(var n of A(s))O.call(s,n)&&w(o,n,s[n]);return o},C=(o,s)=>L(o,R(s));import{_ as U,a as z}from"./pengyouquan-46cbea57.js";import{g as W,ae as Z,Q as H,L as J,M as G,r as c,h as r,m as y,n as m,k as l,j as v,F as k,E as S,s as F,y as u,z as D,B as q,a1 as K,a2 as X,w as g,T as Y,J as N}from"./vendor-89e50ef2.js";import{l as T}from"./inform-3d4ef0e8.js";import{a as ee}from"./index-e009ac36.js";import{s as te}from"./useStorage-33a21488.js";import{_ as se}from"./index-b98bfe67.js";const B=o=>(K("data-v-0d6f9892"),o=o(),X(),o),oe={class:"footer-button"},ne=q("\u5206\u4EAB"),ae=q("\u4E0B\u4E00\u6B65"),ue={class:"content"},ie=B(()=>u("div",{class:"wechat"},[u("img",{src:U,alt:""})],-1)),re=B(()=>u("div",{class:"txt"},"\u5FAE\u4FE1\u597D\u53CB",-1)),le=[ie,re],ce={class:"bx"},de=B(()=>u("img",{src:z,alt:""},null,-1)),_e=[de],pe=B(()=>u("div",{class:"txt"},"\u670B\u53CB\u5708",-1)),he=W({setup(o){const s=Z(),n=H();n.query;const i=J({listQuestions:[],pageData:{},showShare:!1,tenantOrderNoticeList:[]}),d=a=>i.listQuestions.filter(e=>e.objectType===a),E=a=>{const e={title:"\u544A\u77E5\u4E66",desc:"\u5BA2\u6237\u544A\u77E5\u4E66",link:`${window.location.href}?isShare=1`,imgUrl:"",success(){console.log("\u5206\u4EAB\u6210\u529F")}};g.ready(()=>{a==="1"?g.onMenuShareAppMessage(e):g.onMenuShareTimeline(e)})},$=()=>{ee({orderNo:"2022021815432987130620",saleUserId:"D1234567-1",tenantId:"9991000007"}).then(({code:a,data:e})=>{a==="10000"&&Object.assign(i.pageData,e)})},b=()=>{const a={insurerCode:"andainsurer",orderNo:"2022021815432987130620",productCategory:1,tenantId:9991000007};Promise.all([T(C(f({},a),{noticeType:4,objectType:1})),T(C(f({},a),{noticeType:5,objectType:2}))]).then(([{code:e,data:_},{code:p,data:h}])=>{e==="10000"&&p==="10000"&&(i.listQuestions=[..._,...h])})},x=a=>{te.set("questionData",a),s.push({path:"/healthNotice",query:{questionnaireType:a.questionnaireType}})},I=()=>{if(!i.listQuestions.every(e=>e.isDone===1)){Y("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}s.push({path:"/verify",query:n.query})};return G(()=>{b(),$()}),(a,e)=>{const _=c("van-cell"),p=c("ProCard"),h=c("van-button"),Q=c("ZaPageWrap"),P=c("van-action-sheet");return r(),y(k,null,[m(Q,{class:"page-question-notice"},{default:l(()=>[d(1).length>0?(r(),v(p,{key:0,title:"\u6295\u4FDD\u4EBA"},{default:l(()=>[(r(!0),y(k,null,S(d(1),t=>(r(),v(_,{key:t.id,class:N({"is-active":t.isDone===2}),title:`\u300A${t.questionnaireName}\u300B`,"is-link":"",value:`${t.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:j=>x(t)},null,8,["class","title","value","onClick"]))),128))]),_:1})):F("",!0),d(2).length>0?(r(),v(p,{key:1,title:"\u88AB\u4FDD\u4EBA"},{default:l(()=>[(r(!0),y(k,null,S(d(2),t=>(r(),v(_,{key:t.id,class:N({"is-active":t.isDone===2}),title:`\u300A${t.questionnaireName}\u300B`,"is-link":"",value:`${t.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:j=>x(t)},null,8,["class","title","value","onClick"]))),128))]),_:1})):F("",!0),u("div",oe,[m(h,{plain:"",type:"primary",onClick:e[0]||(e[0]=t=>D(i).showShare=!0)},{default:l(()=>[ne]),_:1}),m(h,{type:"primary",onClick:I},{default:l(()=>[ae]),_:1})])]),_:1}),m(P,{show:D(i).showShare,"onUpdate:show":e[3]||(e[3]=t=>D(i).showShare=t),"cancel-text":"\u53D6\u6D88","close-on-click-action":""},{default:l(()=>[u("div",ue,[u("div",{class:"bx",onClick:e[1]||(e[1]=t=>E("1"))},le),u("div",ce,[u("div",{class:"friend",onClick:e[2]||(e[2]=t=>E("2"))},_e),pe])])]),_:1},8,["show"])],64)}}});var De=se(he,[["__scopeId","data-v-0d6f9892"]]);export{De as default};
