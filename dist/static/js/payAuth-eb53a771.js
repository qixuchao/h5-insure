import{_ as e,d as a,h as l,g as o,i as s,j as d,ah as r,O as t,o as n,c as m,a as i,b as c,e as u,u as p,l as b,w as f,q as h,a8 as y,T as v,bK as j,am as k,at as V,au as g}from"./index-a701edf7.js";import{s as x,_,b as C,d as q}from"./index-873f5512.js";import{g as I}from"./trial-be4721b4.js";import{b as N}from"./verify-b8d06411.js";import"./keysIn-131bbce9.js";import"./isObjectLike-a9798079.js";import"./_getTag-0507d0b1.js";import"./debounce-6981b306.js";import"./phoneVerify-307a6997.js";import"./merge-e7788e50.js";import"./index-f8d021e2.js";import"./useDicData-c5252af3.js";const T={class:"page-pay-auth-wrap"},w={class:"header"},U={class:"content"},O={class:"bank-card"},D={class:"card-content"},L={class:"main"},R={class:"bank-name"},W={class:"bank-no"},A={class:"bank-card-type"},B=(e=>(V("data-v-74ef486e"),e=e(),g(),e))((()=>i("p",{class:"desc"},"实时单笔限额5W 实时单日限额5W",-1))),E={class:"footer-button"},K=a({name:"payAuth"});var P=e(a({...K,setup(e){const a=l(),V=o(),{orderNo:g,tenantId:K}=a.query,P=s(),z=s(),F=s({}),G=d((()=>z.value.holder.certType===r.CERT?"身份证号":"证件号")),H=()=>{P.value.validate().then((e=>{N(z.value).then((({code:e,data:a})=>{"10000"===e&&(V.back(),v("成功"))}))})).catch((e=>{console.log("e",e)}))};return t((()=>{(async()=>{await I({orderNo:g,tenantId:K}).then((({code:e,data:a})=>{"10000"===e&&(z.value=a,F.value=a.tenantOrderPayInfoList.find((e=>1===e.payInfoType)))}))})()})),(e,a)=>{const l=j,o=_,s=C,d=q,r=k;return n(),m("div",T,[i("div",w,[c(l,{type:"warning",content:"根据央行发布《关于规范支付创新业务的通知》，明确代收服务机构应当要求收款人事先与付款人签订收款协议，取得持卡人授权，并在代收交易处理中验证协议关系，银行与持卡人的直接授权。"})]),i("div",U,[i("div",O,[i("div",D,[i("div",L,[i("span",R,u(p(F).payBank||"中国工商银行"),1),i("span",W,u(p(F).bankCardNo||"**** **** **** 3941"),1)]),i("p",A,u(p(F).bankCardType||"储蓄卡"),1),B])]),p(z)?(n(),b(d,{key:0,ref_key:"formRef",ref:P,model:p(z).holder},{default:f((()=>[c(o,{modelValue:p(z).holder.name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(z).holder.name=e),label:"姓名",name:"name",maxlength:"11",required:""},null,8,["modelValue"]),c(o,{modelValue:p(z).holder.certNo,"onUpdate:modelValue":a[1]||(a[1]=e=>p(z).holder.certNo=e),label:p(G),name:"certNo",maxlength:"18",required:""},null,8,["modelValue","label"]),c(o,{modelValue:p(z).holder.mobile,"onUpdate:modelValue":a[2]||(a[2]=e=>p(z).holder.mobile=e),label:"银行预留手机",name:"mobile",maxlength:"11",required:""},null,8,["modelValue"]),c(s,{modelValue:p(z).holder.verifyCode,"onUpdate:modelValue":a[3]||(a[3]=e=>p(z).holder.verifyCode=e),label:"验证码",maxlength:"6",name:"verifyCode","related-name":"mobile","send-s-m-s-code":p(x),required:""},null,8,["modelValue","send-s-m-s-code"])])),_:1},8,["model"])):h("",!0)]),i("div",E,[c(r,{type:"primary",onClick:H},{default:f((()=>[y("提交")])),_:1})])])}}}),[["__scopeId","data-v-74ef486e"]]);export{P as default};
