import{_ as e,d as a,i as t,h as s,aI as r,bQ as o,j as n,o as l,c as u,a as d,b as c,e as i,u as p,bt as m,w as f,a8 as y,m as _,p as b,f as v,ae as h,ag as q,bR as I,bS as w,T as N}from"./index-f312854e.js";import{P as k}from"./constants-fe95ef6f.js";import{c as C}from"./order-8fcaec8c.js";import{o as R}from"./verify-a0a46150.js";const S={class:"page-underwrite-result-wrap"},g={class:"result-content"},j={class:"result-icon"},x={class:"result-status"},D={class:"result-desc"},L={key:0,class:"operate-btn"},E={key:1,class:"operate-btn"},T={class:"dialog-content"},U=a({name:"underwriteResult"});var A=e(a({...U,setup(e){const a={[m.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:"您提交的投保资料需进一步人工审核，请耐心等待公司审核结果"},[m.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:"核保结果: BMI>24"}},U=t(),A=s(),{orderNo:F,tenantId:V,underwriteStatus:W}=U.query,$=r.Component,[z,B]=o(!1),G=n(),M=async()=>{const{code:e,data:a}=await R({orderNo:F,tenantId:V});"10000"===e&&a&&(delete U.query.orderNo,A.push({path:k.orderList,query:{...U.query}}))},P=e=>{C({orderNo:F,tenantId:V}).then((({code:a,data:t})=>{"10000"===a&&(N("撤单成功"),null==e||e())}))},Q=()=>{B(!0)},H=()=>{A.push({path:k.sign,query:U.query})},J=()=>{P((()=>{delete U.query.orderNo,A.push({path:k.productList,query:U.query})}))},K=()=>{P((()=>{B(!1),A.push({path:G.value,query:U.query})}))},O=()=>{B(!1),J()};return(e,t)=>{const s=h,r=q,o=I,n=w;return l(),u("div",S,[d("div",g,[d("div",j,[c(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),d("p",x,i(a[`${p(W)}`].resultStatus),1),d("p",D,i(a[`${p(W)}`].resultDesc),1),p(W)===p(m).UNDER_WRITE_FAIL?(l(),u("div",L,[c(r,{type:"primary",plain:"",onClick:Q},{default:f((()=>[y("返回修改")])),_:1}),c(r,{type:"primary",onClick:H},{default:f((()=>[y("继续投保")])),_:1}),c(r,{class:"no-border",onClick:J},{default:f((()=>[y("放弃投保")])),_:1})])):(l(),u("div",E,[c(r,{type:"primary",onClick:M},{default:f((()=>[y("确定")])),_:1})]))]),p(z)?(l(),_(p($),{key:0,show:p(z),"onUpdate:show":t[1]||(t[1]=e=>b(z)?z.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!p(G),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:K,onCancel:O},{default:f((()=>[d("div",T,[c(n,{modelValue:p(G),"onUpdate:modelValue":t[0]||(t[0]=e=>b(G)?G.value=e:null)},{default:f((()=>[c(o,{name:p(k).premiumTrial},{default:f((()=>[y("保费试算页")])),_:1},8,["name"]),c(o,{name:p(k).questionNotice},{default:f((()=>[y("健康告知页")])),_:1},8,["name"]),c(o,{name:p(k).infoCollection},{default:f((()=>[y("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):v("",!0)])}}}),[["__scopeId","data-v-5066f540"]]);export{A as default};
