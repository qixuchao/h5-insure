import{d as e,u as t,t as a,r as s,ah as n,bh as l,I as i,$ as r,b as o,c as u,e as c,w as d,f as p,i as v,g as f,x as m,Z as g,ad as h,W as w,z as y,as as k,B as b,ae as C,_ as x,U as I,V as _}from"./index-3300826d.js";import{c as N}from"./product-276c1373.js";const A={class:"header"},j=["src"],D={class:"content"},E=(e=>(I("data-v-9c4946e8"),e=e(),_(),e))((()=>p("h4",null,"温馨提示，您已进入投保流程：",-1))),O={class:"statement"},P={class:"footer"},S={key:0},T={class:"review-pdf"},U=e({name:"preNotice"});var $=y(e({...U,props:{productDetail:{default:()=>({})}},setup(e){const y=e,I=t(),{tenantId:_=""}=I.query,U=a({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),$=s(!1),q=s(!1),z=new n({source:"sessionStorage"}),B=l({time:4e3,onFinish:()=>{z.set("PRENOTICE-isShow","1")}}),F=s({title:"",link:""}),L=i((()=>B.current.value.seconds)),R=i((()=>{if(F.value.link){const e=(F.value.link||"").split("?"),t=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",t),"pdf"===t?"pdf":"picture"}return"link"})),V=()=>{$.value=!1};return r((()=>{(async()=>{const{code:e,data:t}=await N({insureCode:y.productDetail.insurerCode,tenantId:_});"10000"===e&&(U.insureConfig=t,U.statement=`本产品由${t.tenantName}销售本页面仅做产品展示，具体承保方案以实际保单约定为准`,k((()=>{B.start()}))),$.value=!0})()})),(e,t)=>{var a;const s=b,n=C,l=x;return o(),u(w,null,[c(n,{class:"pre-notice-wrap",show:v($),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:d((()=>{var e;return[p("div",A,[p("img",{src:v("/static/png/header-logo-f6f405b0.png")},null,8,j)]),p("div",D,[E,p("p",null,[f(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),p("span",{class:"file-name",onClick:t[0]||(t[0]=e=>((e,t)=>{var a;q.value=!q.value,F.value.link=null==(a=U.insureConfig)?void 0:a[t].link,F.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+m((null==(e=v(U).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),f(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),p("abbr",O,m(v(U).statement),1),p("div",P,[c(s,{type:"primary",block:"",round:"",onClick:V},{default:d((()=>[f(" 好的 "),v(L)?(o(),u("span",S,m(v(L))+"s",1)):g("",!0)])),_:1})])]})),_:1},8,["show"]),c(n,{show:v(q),"onUpdate:show":t[1]||(t[1]=e=>h(q)?q.value=e:null),class:"pre-notice-wrap",title:null==(a=v(F))?void 0:a.title,position:"bottom",style:{overflow:"hidden"}},{default:d((()=>{var e;return[p("div",T,[c(l,{content:null==(e=v(F))?void 0:e.link,type:v(R)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-9c4946e8"]]);export{$ as P};
