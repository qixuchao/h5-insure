import{d as e,i,r as n,z as r,o as a,l as o,w as s,f as t,u as l,b8 as d,b9 as u,_ as c,ba as m,bb as f,bc as p,bd as v,am as g,be as y,j as h,aA as V,bf as O,bg as b,c as I,b as T,q as S,F as x,n as L,a8 as N,az as C,ae as k,h as w,ac as j,aw as F,bh as B,aq as _,a0 as J,a as H,a9 as $,T as E,bi as M,b7 as R,bj as P,bk as U}from"./index-f919c47f.js";import{c as q}from"./cloneDeep-38d03c69.js";import"./PolicyInfo-a974ff18.js";import{l as A}from"./lodash-b211663e.js";import{B as D}from"./infoCollection-a69ca12a.js";import{O as z}from"./questionnaire-62331097.js";import{g as Y,c as G}from"./util-332338db.js";const K=e({name:"BeneficiaryItem"});var Q=c(e({...K,props:{modelValue:{default:()=>({})},schema:{default:()=>[]},config:{default:()=>({})},isView:{type:Boolean,default:!1},isTrial:{type:Boolean,default:!1},title:{default:"受益人"}},emits:["update:modelValue","trailChange"],setup(e,{expose:c,emit:h}){const V=e,O=i(null),b=n({validated:!1,schema:[],config:{},personVO:{}});return r((()=>V.config),(e=>{e&&Object.assign(b.config,e)}),{deep:!0,immediate:!0}),r((()=>V.schema),(e=>{e&&Object.assign(b.schema,q(V.schema))}),{deep:!0,immediate:!0}),r((()=>V.modelValue),((e,i)=>{JSON.stringify(e)!==JSON.stringify(i)&&(p("受益人数据变动了"),Object.assign(b.personVO,e))}),{deep:!0,immediate:!0}),r((()=>b.personVO),(e=>{e&&h("update:modelValue",e)}),{deep:!0,immediate:!0}),r((()=>{var e;return null==(e=b.personVO)?void 0:e.relationToInsured}),((e,i)=>{if(e===i)return!1;p("受益人与被保人关系变动了");const{certType:n}=b.personVO||{},[r,a]=v(b.schema,{certType:n,relationToHolder:e});return g(b.config,a),!V.isView&&e&&i&&Object.assign(b.personVO,{...y(b.personVO,(e=>!(r&&"certType"===e))),relationToInsured:e}),!1}),{immediate:!0}),c({validate:e=>f(O,V.trialFactorCodes,e),validateTrialFields:()=>m({personVO:b.personVO,trialFactorCodes:V.trialFactorCodes})}),(e,i)=>(a(),o(l(u),{ref_key:"formRef",ref:O,class:"personal-info-card",title:e.title,model:l(b).personVO,schema:l(b).schema,config:l(b).config,"is-view":e.isView,"extra-provision":{objectType:l(d).BENEFICIARY,objectId:l(b).personVO.id}},{cardTitleExtra:s((()=>[t(e.$slots,"default",{},void 0,!0)])),customer:s((()=>[t(e.$slots,"customer",{},void 0,!0)])),_:3},8,["title","model","schema","config","is-view","extra-provision"]))}}),[["__scopeId","data-v-844ffeca"]]);const W=["onClick"],X=e({name:"InsuredItem"});var Z=c(e({...X,props:{modelValue:{default:()=>({})},title:{default:""},holderPersonVO:{},schema:{default:()=>[]},config:{default:()=>({})},isView:{type:Boolean,default:!1},isTrial:{type:Boolean,default:!1},trialFactorCodes:{default:()=>[]},multiBeneficiaryMaxNum:{default:null},beneficiaryList:{default:()=>[]},beneficiarySchema:{default:()=>[]},guardian:{default:()=>({})},guardianSchema:{default:()=>[]}},emits:["update:modelValue","update:beneficiaryList","update:guardian"],setup(e,{expose:c,emit:w}){const j=e,F=i(null),B=i(null),_=i(null),J={schema:[],trialFactorCodes:[],config:{},personVO:{}},H=n({validated:!1,schema:[],config:{},personVO:{},beneficiaryTypeSchemaList:[],beneficiarySchemaList:[],beneficiaryList:[],guardianSchema:[],guardian:{}}),$=h((()=>{const{age:e,relationToHolder:i}=H.personVO;return!["4","5"].includes(i)&&+e<18||(H.guardian={},!1)})),E=()=>{H.beneficiaryList.push(q({...J,nanoid:O(),schema:j.beneficiarySchema}))},M=h((()=>!j.multiBeneficiaryMaxNum||H.beneficiaryList.length<j.multiBeneficiaryMaxNum)),R=h((()=>!H.schema.filter((e=>{var i;return!(e.hidden||(null==(i=H.config[e.name])?void 0:i.hidden))})).length)),P=h((()=>H.schema.filter((e=>e.isSelfInsuredNeed)).map((e=>e.name)))),U=h((()=>V(j.beneficiarySchema))),Y=h((()=>{var e;return String(null==(e=H.personVO)?void 0:e.insuredBeneficiaryType)===D.SPECIFY}));return r((()=>j.holderPersonVO),A.exports.debounce((e=>{var i;p("------投保人信息变动了-----");const{id:n,...r}=e||{};if("1"===String(null==(i=H.personVO)?void 0:i.relationToHolder)){const e=V(P.value)?Object.keys(r).reduce(((e,i)=>([...P.value,"occupationClass"].includes(i)&&!["birthday","age","gender"].includes(i)||(e[i]=r[i]),e)),{}):r,i=r.certImage.map((e=>({...e,objectId:H.personVO.id,objectType:z.INSURED})));Object.assign(H.personVO,e,{certImage:i})}}),300),{deep:!0,immediate:!0}),r((()=>j.beneficiarySchema),(e=>{H.beneficiarySchemaList=V(e)?e.filter((e=>"insuredBeneficiaryType"!==e.name)):[],H.beneficiaryTypeSchemaList=V(e)?e.filter((e=>"insuredBeneficiaryType"===e.name)):[]}),{deep:!0,immediate:!0}),r((()=>j.guardianSchema),(e=>{H.guardianSchema=e}),{deep:!0,immediate:!0}),r(Y,((e,i)=>{String(e)!==String(i)&&(p("受益人类型关系变动了"),e?!V(H.beneficiaryList)&&E():H.beneficiaryList=[])}),{immediate:!0}),r((()=>q(H.beneficiaryList).map((e=>({personVO:e.personVO,nanoid:e.nanoid})))),((e,i)=>{JSON.stringify(e)!==JSON.stringify(i)&&w("update:beneficiaryList",e)}),{deep:!0,immediate:!0}),r((()=>{var e;return null==(e=H.personVO)?void 0:e.relationToHolder}),((e,i)=>{if(!e)return;p("与投保人关系变动了");const{personVO:n,schema:r=[],config:a}=H||{},{id:o,...s}=j.holderPersonVO||{},t="1"===String(n.relationToHolder),[l,d]=v(r,n);if(g(a,d),r.forEach((e=>{e.relationToHolder=n.relationToHolder,e.hidden=!e.isSelfInsuredNeed&&t})),!j.isView&&i&&String(e)!==String(i)){let e={...n,...s};t||(e={...y(n,(e=>!(l&&"certType"===e))),relationToHolder:n.relationToHolder}),Object.assign(H.personVO,e)}}),{deep:!0}),r((()=>{var e;return null==(e=H.personVO)?void 0:e.relationToMainInsured}),((e,i)=>{if(!e)return;p("次被保人与主被保人关系变动了");const{personVO:n,schema:r=[],config:a}=H||{},{certType:o}=n||{},[s,t]=v(r,{certType:o,relationToHolder:e});g(a,t),!j.isView&&i&&String(e)!==String(i)&&Object.assign(H.personVO,{...y(n,(e=>!(s&&"certType"===e))),relationToMainInsured:n.relationToMainInsured})})),r((()=>j.config),(e=>{e&&Object.assign(H.config,e)}),{deep:!0,immediate:!0}),r((()=>j.schema),((e,i)=>{e&&JSON.stringify(e)!==JSON.stringify(H.schema)&&(H.schema=q(e))}),{deep:!0,immediate:!0}),r((()=>j.modelValue),((e,i)=>{if(JSON.stringify(e)!==JSON.stringify(i)){const{beneficiaryList:i,...n}=e;g(H.personVO,n)}}),{deep:!0,immediate:!0}),r((()=>q(j.beneficiaryList)),A.exports.debounce(((e,i)=>{JSON.stringify(e)!==JSON.stringify(i)&&(H.beneficiaryList=V(e)?e.map((e=>({...e,nanoid:e.nanoid||O()}))):[])}),500),{deep:!0,immediate:!0}),r((()=>j.guardian),A.exports.debounce(((e,i)=>{JSON.stringify(e)!==JSON.stringify(i)&&(H.guardian=e)}),300),{deep:!0,immediate:!0}),r((()=>H.guardian),(e=>{}),{deep:!0,immediate:!0}),r((()=>H.personVO),(e=>{e&&w("update:modelValue",e)}),{deep:!0,immediate:!0}),c({validate:e=>{var i;return Promise.all([f(F,j.trialFactorCodes,e),f(B,[],e),...(null==(i=_.value)?void 0:i.map((i=>i.validate(e))))||[]])},validateTrialFields:()=>m({personVO:H.personVO,trialFactorCodes:j.trialFactorCodes})}),(e,i)=>{var n,r;const c=k,m=b;return a(),I(x,null,[T(l(u),{ref_key:"insuredFormRef",ref:F,class:"personal-info-card",title:l(R)?"":e.title,model:l(H).personVO,schema:l(H).schema,config:l(H).config,"is-view":e.isView,"extra-provision":{objectType:l(d).INSURED,objectId:l(H).personVO.id}},{cardTitleExtra:s((()=>[t(e.$slots,"default",{},void 0,!0)])),customer:s((()=>[t(e.$slots,"customer",{},void 0,!0)])),_:3},8,["title","model","schema","config","is-view","extra-provision"]),l($)?(a(),o(l(u),{key:0,ref:"guardianFormRef",class:"personal-info-card",title:"监护人",model:l(H).guardian.personVO,schema:l(H).guardianSchema,config:l(H).config,"is-view":e.isView,"extra-provision":{objectType:l(d).GUARDIAN,objectId:null==(r=null==(n=l(H).guardian)?void 0:n.personVO)?void 0:r.id}},{cardTitleExtra:s((()=>[t(e.$slots,"default",{},void 0,!0)])),customer:s((()=>[t(e.$slots,"customer",{},void 0,!0)])),_:3},8,["model","schema","config","is-view","extra-provision"])):S("",!0),l(U)?(a(),I(x,{key:1},[T(l(u),{ref_key:"beneficiaryTypeFormRef",ref:B,class:"personal-info-card",title:"受益人",model:l(H).personVO,schema:l(H).beneficiaryTypeSchemaList,"is-view":e.isView},null,8,["model","schema","is-view"]),l(Y)?(a(),I(x,{key:0},[(a(!0),I(x,null,L(l(H).beneficiaryList,((i,n)=>(a(),o(Q,{ref_for:!0,ref_key:"beneficiaryFormRef",ref:_,key:`${i.nanoid}_${n}`,modelValue:i.personVO,"onUpdate:modelValue":e=>i.personVO=e,title:`受益人${n+1}`,schema:l(H).beneficiarySchemaList,config:i.config,"is-view":e.isView},{customer:s((()=>[t(e.$slots,"benefitCustomer",{index:n},void 0,!0)])),default:s((()=>[n>0&&!e.isView?(a(),I("span",{key:0,class:"delete-button",onClick:e=>(e=>{C.confirm({message:"确定要删除该受益人吗？"}).then((()=>{H.beneficiaryList.splice(e,1)}))})(n)},[T(c,{name:"delete"})],8,W)):S("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","title","schema","config","is-view"])))),128)),!e.isView&&l(M)?(a(),I("span",{key:0,class:"add-button",onClick:E},[T(m,{name:"plus"}),N("添加受益人")])):S("",!0)],64)):S("",!0)],64)):S("",!0),t(e.$slots,"riskList",{},void 0,!0)],64)}}}),[["__scopeId","data-v-14ce5c66"]]);const ee=["onClick"],ie=["onClick"],ne=["onClick"],re=e({name:"PersonalInfo"});var ae=c(e({...re,props:{productFactor:{default:()=>({})},modelValue:{default:()=>({})},isTrial:{type:Boolean,default:!1},isView:{type:Boolean,default:!1},isOnlyHolder:{type:Boolean,default:!1},isHolderExempt:{type:Boolean,default:!1},multiInsuredConfig:{}},emits:["update:modelValue","trailChange","trailValidateFailed","closeCustomerPopoup"],setup(e,{expose:c,emit:y}){const A=e,D=w();j(),D.query;const z=i(null),K=i(null),Q=n({count:0,slotProps:{},uniqKey:"",currentIndex:0,currentBenifitIndex:0,currentType:"",keyword:void 0,show:!1,list:[],config:{},trialValidated:!1,holder:{personVO:{},schema:[],trialFactorCodes:[],config:{}},beneficiarySchema:[],initInsuredIList:[],insured:[]}),W=h((()=>!A.isTrial||A.isHolderExempt)),X=(e,i,n)=>{Q.currentType=e,"benifit"!==e?Q.currentIndex=i:(Q.currentIndex=i,Q.currentBenifitIndex=n);const{selectedType:r,customerId:a,selected:o,...s}=D.query;$("customerList",{...s,selectedType:e})},re=h((()=>{var e,i;return null==(i=null==(e=null==Q?void 0:Q.holder)?void 0:e.personVO)?void 0:i.name})),ae=h((()=>{var e,i;return null==(i=null==(e=null==Q?void 0:Q.holder)?void 0:e.personVO)?void 0:i.gender})),oe=h((()=>{var e,i;return null==(i=null==(e=null==Q?void 0:Q.holder)?void 0:e.personVO)?void 0:i.birthday})),se=h((()=>{var e,i;return null==(i=null==(e=null==Q?void 0:Q.holder)?void 0:e.personVO)?void 0:i.certType})),te=h((()=>{var e,i;return null==(i=null==(e=null==Q?void 0:Q.holder)?void 0:e.personVO)?void 0:i.certNo})),le=e=>{var i,n,r,a,o,s,t,l,d,u,c;const m="holder"===Q.currentType?Q.holder.schema.map((e=>e.name))||[]:"insured"===Q.currentType?Q.insured[Q.currentIndex].schema.map((e=>e.name))||[]:"benifit"===Q.currentType?Q.beneficiarySchema.map((e=>e.name))||[]:void 0;if("holder"===Q.currentType&&Object.assign((null==(i=null==Q?void 0:Q.holder)?void 0:i.personVO)||{},G(e,m)),"insured"===Q.currentType){const i=null==(n=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:n.schema.some((e=>"relationToHolder"===e.name&&e.attributeValueList.some((e=>"1"===e.code)))),{name:o,gender:s,birthday:t,certType:l,certNo:d}=G(e,m);if(re.value===o&&ae.value===s&&oe.value===t&&se.value===l&&te.value===d)return i?void Object.assign((null==(r=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:r.personVO)||{},{relationToHolder:"1"}):void E("与投保人关系未配置本人");Object.assign((null==(a=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:a.personVO)||{},G(e,m))}if("benifit"===Q.currentType){const{name:i,gender:n,birthday:r,certType:a,certNo:f}=G(e,m);(null==(o=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:o.personVO.name)===i&&(null==(s=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:s.personVO.gender)===n&&(null==(t=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:t.personVO.birthday)===r&&(null==(l=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:l.personVO.certType)===a&&(null==(d=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:d.personVO.certNo)===f?E("指定受益人不可为被保人本人"):Object.assign((null==(c=null==(u=null==Q?void 0:Q.insured[Q.currentIndex])?void 0:u.beneficiaryList[Q.currentBenifitIndex])?void 0:c.personVO)||{},G(e,m))}},de=()=>{var e;const i=!K.value||(null==(e=K.value)?void 0:e.every((e=>e.validateTrialFields())));return(!z.value||m(Q.holder))&&i},ue=e=>{var i;return Promise.all([...(null==(i=K.value)?void 0:i.map((i=>i.validate(e))))||[],f(z,Q.holder.trialFactorCodes,e)])},ce=e=>{const{productList:i,config:n,schema:r,trialFactorCodes:a,beneficiaryList:o,guardian:s,personVO:t,nanoid:l,...d}=e||{};return d},me=()=>{const{length:e,[e-1]:i}=Q.initInsuredIList;Q.insured.push(q({...i,nanoid:O()}))},fe=h((()=>{const{multiInsuredMaxNum:e,multiInsuredSupportFlag:i}=Q.config;return i&&(!e||Q.insured.length<e)})),pe=h((()=>V(Q.holder.schema))),ve=h((()=>Q.insured.some((e=>V(e.schema)))));r((()=>{var e;return null==(e=Q.holder.personVO)?void 0:e.certType}),F(((e,i)=>{if(`${e}`==`${i}`)return!1;p("投保人信息变动了====");const[n,r]=v(Q.holder.schema,{certType:e});return g(Q.holder.config,r),!1}),300));let ge=!0;r([()=>{var e;return{...null==(e=Q.holder)?void 0:e.personVO}},()=>Q.insured.map((e=>{const{beneficiaryList:i,guardian:n,personVO:r}=e||{},a=V(i)?i.map((e=>({...e.personVO}))):[];return{...r,guardian:n.personVO||{},beneficiaryList:a}}))],F(((e,i)=>{var n,r,a,o;if(JSON.stringify(e)===JSON.stringify(i)&&!ge)return!1;ge=!1;const[s,t]=e,{insuredList:l}=A.modelValue,d={holder:s,insuredList:t.map(((e,i)=>({...(null==l?void 0:l[i])||{},...e})))};if(null==(n=Q.config)?void 0:n.isSpouseInsured){const[e,i]=t.map((e=>null==e?void 0:e.gender));if(e&&i&&String(e)===String(i))return E("被保人性别与投保要求不符")}if(JSON.stringify(null==(r=null==t?void 0:t[0])?void 0:r.personVO),ce(null==(o=null==(a=A.modelValue)?void 0:a.insuredList)?void 0:o[0]),console.log("-------result = ",d),y("update:modelValue",d),!de())return Q.trialValidated=!1,y("trailValidateFailed",d);ue(!0).then((()=>{Q.trialValidated=!0,A.isOnlyHolder||y("trailChange",d)})).catch((()=>{Q.trialValidated=!1,y("trailValidateFailed",d)}))}),500),{deep:!0}),r([()=>A.productFactor,()=>A.isTrial],F(((e,i)=>{if(M(e,i)||!(null==e?void 0:e[0]))return!1;p("投被保人要素变动了");const{insuredFactorCodes:n,holderFactorCodes:r}=R(P)||{},{holder:a,insured:o,beneficiary:s,guardian:t,config:l}=U(e[0],{isTrial:e[1],...A.multiInsuredConfig,insuredFactorCodes:n,holderFactorCodes:r});return Object.assign(Q.holder,a),Q.config=l,V(o)&&(Q.initInsuredIList=o.map((e=>({...e,guardian:{},beneficiaryList:[]})))),Q.beneficiarySchema=q((null==s?void 0:s.schema)||[]),Q.guardianSchema=q((null==t?void 0:t.schema)||[]),!1}),300),{deep:!0,immediate:!0}),r((()=>{var e,i,n,r;return null==(r=null==(n=null==(i=null==(e=null==Q?void 0:Q.insured)?void 0:e[Q.currentIndex])?void 0:i.beneficiaryList)?void 0:n[Q.currentBenifitIndex])?void 0:r.personVO}),((e,i)=>{var n,r,a,o;(null==(o=null==(a=null==(r=null==(n=null==Q?void 0:Q.insured)?void 0:n[Q.currentIndex])?void 0:r.beneficiaryList)?void 0:a[Q.currentBenifitIndex])?void 0:o.personVO)&&(null==e?void 0:e.relationToInsured)!==(null==i?void 0:i.relationToInsured)&&(p("受益人关系变动了+++++"),Q.insured[Q.currentIndex].beneficiaryList[Q.currentBenifitIndex].personVO={relationToInsured:null==e?void 0:e.relationToInsured})}),{deep:!0,immediate:!0}),r((()=>{var e,i,n,r;return null==(r=null==(n=null==(i=null==(e=null==Q?void 0:Q.insured)?void 0:e[Q.currentIndex])?void 0:i.guardian)?void 0:n.personVO)?void 0:r.relationToInsured}),((e,i)=>{e!==i&&(p("监护人关系变动了+++++"),Q.insured[Q.currentIndex].guardian.personVO={relationToInsured:null==e?void 0:e.relationToInsured})}),{deep:!0,immediate:!0});const ye=i(!1);return r([()=>{const{holder:e,insuredList:i=[]}=A.modelValue,n=V(i)?i.map((e=>({config:e.config,personVO:ce(e),guardian:{personVO:e.guardian||{}},beneficiaryList:V(e.beneficiaryList)?e.beneficiaryList.map((({config:e,...i})=>({config:e,personVO:ce(i)}))):[]}))):[];return[null==e?void 0:e.config,ce(e),n]},()=>Q.config,()=>Q.initInsuredIList],F((([[e,i,n]],[[r,a,o]])=>{if(JSON.stringify(e)===JSON.stringify(r)&&JSON.stringify(i)===JSON.stringify(a)&&JSON.stringify(n)===JSON.stringify(o)&&ye.value)return;ye.value=!0,Object.assign(Q.holder.config,e),console.log("投保人数据===",q(Q.holder.personVO),q(i)),console.log("投保人数据===",q(Q.holder.personVO),q(i)),Object.assign(Q.holder.personVO,i);const{length:s}=n||[],{length:t}=Q.insured,{length:l,0:d={},[l-1]:u}=Q.initInsuredIList,{multiInsuredMaxNum:c=1,multiInsuredMinNum:m=1,multiInsuredSupportFlag:f}=(null==Q?void 0:Q.config)||{},p=A.isView||s>t?Math.min(s,c):t||m;Q.insured=Array.from({length:p}).reduce(((e,i,r)=>{const{personVO:a,config:o={},guardian:s,beneficiaryList:t}=(null==n?void 0:n[r])||{},l=q(0===r?d:u);return e[r]?g(e[r],{...q(l),personVO:a,config:o,guardian:s,beneficiaryList:t}):e[r]={...l,personVO:a,config:o,guardian:s,beneficiaryList:t,nanoid:O()},e}),Q.insured)}),300),{deep:!0,immediate:!0}),r((()=>Q.list),((e,i)=>{e&&(Q.list=e)})),c({validate:ue,validateTrialFields:de,validateHolder:(...e)=>{var i;return null==(i=z.value)?void 0:i.validate(...e)},canTrail:()=>Q.trialValidated}),B((()=>{const e=Y();e&&le(e)})),(e,i)=>{var n,r;const c=k,m=b,f=_;return a(),I(x,null,[l(pe)&&l(W)?(a(),o(l(u),{key:0,ref_key:"holderFormRef",ref:z,title:"投保人信息",class:"personal-info-card",model:l(Q).holder.personVO,schema:l(Q).holder.schema,config:l(Q).holder.config,"is-view":e.isView,"extra-provision":{objectType:l(d).HOLDER,objectId:null==(r=null==(n=l(Q).holder)?void 0:n.personVO)?void 0:r.id}},{customer:s((()=>[(a(),I("div",{key:0,class:"choose-customer",onClick:i[0]||(i[0]=e=>X("holder",1,0))},[T(c,{name:"customer",color:"#333"})]))])),_:1},8,["model","schema","config","is-view","extra-provision"])):S("",!0),l(ve)&&!e.isOnlyHolder?(a(),I(x,{key:1},[(a(!0),I(x,null,L(l(Q).insured,((i,n)=>{var r;return a(),o(Z,J({ref_for:!0,ref_key:"insuredFormRef",ref:K,key:`${i.nanoid}_${n}`,modelValue:i.personVO,"onUpdate:modelValue":e=>i.personVO=e,"beneficiary-list":i.beneficiaryList,"onUpdate:beneficiaryList":e=>i.beneficiaryList=e,guardian:i.guardian,"onUpdate:guardian":e=>i.guardian=e,title:""+(l(Q).insured.length>1?`被保人${n+1}`:"被保人信息"),"holder-person-v-o":l(Q).holder.personVO},i,{"beneficiary-schema":l(Q).beneficiarySchema,"guardian-schema":l(Q).guardianSchema,"is-view":e.isView,"multi-beneficiary-num":null==(r=l(Q).config)?void 0:r.multiBeneficiaryMaxNum}),{riskList:s((()=>[t(e.$slots,"riskInfo",{insuredIndex:n},void 0,!0)])),customer:s((()=>[(a(),I("div",{key:0,class:"choose-customer",onClick:e=>X("insured",n,0)},[T(c,{name:"customer",color:"#333"})],8,ee))])),benefitCustomer:s((e=>[(a(),I("div",{key:0,class:"choose-customer",onClick:i=>X("benifit",n,null==e?void 0:e.index)},[T(c,{name:"customer",color:"#333"})],8,ie))])),default:s((()=>[!e.isView&&n+1>l(Q).config.multiInsuredMinNum?(a(),I("span",{key:0,class:"delete-button",onClick:e=>(e=>{C.confirm({message:"确定要删除该被保人吗？"}).then((()=>{Q.insured.splice(e,1)}))})(n)},[T(c,{name:"delete",color:"var(--van-primary-color)"})],8,ne)):S("",!0)])),_:2},1040,["modelValue","onUpdate:modelValue","beneficiary-list","onUpdate:beneficiaryList","guardian","onUpdate:guardian","title","holder-person-v-o","beneficiary-schema","guardian-schema","is-view","multi-beneficiary-num"])})),128)),!e.isView&&l(fe)?(a(),o(f,{key:0,class:"add-button-wrap"},{title:s((()=>[H("span",{class:"add-button",onClick:me},[T(m,{name:"plus"}),N("添加被保人")])])),_:1})):S("",!0)],64)):S("",!0)],64)}}}),[["__scopeId","data-v-e5413644"]]);export{ae as P};
