import{g as Q,Q as G,C as M,L,v as X,ag as ee,r as c,h as t,j as p,k as r,n as m,m as D,E as N,y as x,I as O,z as i,a6 as F,F as A,s as I,ah as te,B as w,T as ne,ak as oe,G as ue,M as z,af as se,x as R}from"./vendor-94f9fb13.js";import{_ as U,g as ae,i as re}from"./index-e5acd5ea.js";import{p as Z,w as le,n as ce}from"./pdf_viewer-f051cdbc.js";import{g as ie,s as de}from"./inform-6df3e0a3.js";import{s as pe}from"./useStorage-acc5f16f.js";const _e={class:"problem"},me={class:"footer-button"},ve=w("\u63D0\u4EA4"),fe=Q({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(B,{emit:g}){const v=B,f=G(),l=M([]),{questionnaireType:y}=f.query,P={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},T=L({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:o,checked:s,modelValue:d,inputValue:n}=X(T),h=u=>{l.value[u].toggle()},b=u=>u?JSON.parse(u).map(e=>({title:e.value,value:e.uid})):{},E=()=>{if([o.value,d.value,n.value].includes("")||s.value.length===0){ne("\u8BF7\u5B8C\u6210\u6240\u6709\u9898\u76EE\u8FDB\u884C\u4E0B\u4E00\u6B65");return}g("onSubmitCurrentStatus",1)};return ee(()=>{l.value=[]}),(u,e)=>{const k=c("van-radio"),_=c("van-cell"),C=c("van-cell-group"),V=c("van-radio-group"),$=c("van-checkbox"),J=c("van-checkbox-group"),Y=c("van-field"),H=c("van-button"),K=c("ZaPageWrap");return t(),p(K,{class:"com-quersion"},{default:r(()=>[m(re,{title:`${P[i(y)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:r(()=>[(t(!0),D(A,null,N(v.currentPageInfo,(S,W)=>(t(),D("div",{key:W,class:"question-item"},[x("div",_e,O(W+1)+". "+O(S.title),1),S.questionType===1?(t(),p(V,{key:0,modelValue:i(o),"onUpdate:modelValue":e[0]||(e[0]=a=>F(o)?o.value=a:null)},{default:r(()=>[m(C,{inset:""},{default:r(()=>[(t(!0),D(A,null,N(b(S.options),a=>(t(),p(_,{key:a.uid,title:a.title,clickable:"",onClick:q=>o.value=a.value},{"right-icon":r(()=>[m(k,{name:a.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),S.questionType===2?(t(),p(J,{key:1,modelValue:i(s),"onUpdate:modelValue":e[2]||(e[2]=a=>F(s)?s.value=a:null)},{default:r(()=>[m(C,{inset:""},{default:r(()=>[(t(!0),D(A,null,N(b(S.options),(a,q)=>(t(),p(_,{key:a.uid,clickable:"",title:a.title,onClick:j=>h(q)},{"right-icon":r(()=>[m($,{ref_for:!0,ref:j=>l.value[q]=j,shape:"square",name:a,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),S.questionType===3?(t(),p(ae,{key:2,"model-value":i(d),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):I("",!0),S.questionType===4?(t(),p(C,{key:3,inset:""},{default:r(()=>[m(Y,{modelValue:i(n),"onUpdate:modelValue":e[3]||(e[3]=a=>F(n)?n.value=a:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):I("",!0)]))),128))]),_:1},8,["title"]),x("div",me,[m(H,{type:"primary",block:"",onClick:E},{default:r(()=>[ve]),_:1})])]),_:1})}}});var ge=U(fe,[["__scopeId","data-v-1c6951c4"]]);const ye={class:"title"},ke={class:"content"},Ce={class:"footer-button"},he=w("\u4E86\u89E3\u5E76\u7EE7\u7EED"),be=Q({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(B,{emit:g}){const v=B;return(f,l)=>{const y=c("van-button"),P=c("ZaPageWrap"),T=oe("dompurify-html");return t(),p(P,{class:"com-document"},{default:r(()=>{var o,s;return[x("div",ye,O((o=v.currentPageInfo[0])==null?void 0:o.title),1),ue(x("div",ke,null,512),[[T,(s=v.currentPageInfo[0])==null?void 0:s.content]]),x("div",Ce,[m(y,{type:"primary",onClick:l[0]||(l[0]=d=>g("onSubmitCurrentStatus",1))},{default:r(()=>[he]),_:1})])]}),_:1})}}});var Ee=U(be,[["__scopeId","data-v-4f58f5d4"]]);const Se={class:"com-pdf-viewer"},Ie=["id","isee_pdf"],xe={class:"footer-button"},Be=w("\u90E8\u5206\u4E3A\u662F"),Pe=w("\u4EE5\u4E0A\u7686\u5426"),Te=Q({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(B,{emit:g}){const v=B;Z.exports.GlobalWorkerOptions.workerSrc=le;const f=ce(),l=M(!1),y=M(!0),P=()=>{const o=document.getElementById(f);if(o.hasChildNodes()){y.value=!1;return}Z.exports.getDocument({url:v.url}).promise.then(d=>{const n=d.numPages;for(let h=1;h<=n;h++)d.getPage(h).then(b=>{const E=b.getViewport({scale:1}),u=document.createElement("canvas"),e=u.getContext("2d");u.width=E.width,u.height=E.height,u.style.width="100%",o.append(u);const k={canvasContext:e,viewport:E};b.render(k),y.value=!1})})},T=async()=>{l.value=!0,setTimeout(()=>{P()},0)};return z(()=>{T()}),(o,s)=>{const d=c("van-button");return t(),D("div",Se,[x("div",{id:i(f),isee_pdf:o.pdfUrl,class:"pdf-wapper"},null,8,Ie),x("div",xe,[m(d,{plain:"",type:"primary",onClick:s[0]||(s[0]=n=>g("onSubmitCurrentStatus",2))},{default:r(()=>[Be]),_:1}),m(d,{type:"primary",onClick:s[1]||(s[1]=n=>g("onSubmitCurrentStatus",1))},{default:r(()=>[Pe]),_:1})])])}}});var Ve=U(Te,[["__scopeId","data-v-280ffd98"]]);const De={class:"com-health-notice"},Fe=Q({setup(B){const g=se(),v=G(),f=pe.get("questionData"),{questionnaireType:l}=v.query,{orderNo:y="2022021815432987130620",productCode:P="CQ75CQ76",templateId:T=1,orderId:o=13005,tenantId:s=9991000007}=v.query,d={1:4,2:5,3:9},n=L({pageData:{},currentQuestionInfo:[]}),h=R(()=>l==="2"),b=R(()=>{var e;return l==="1"&&[1,3].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),E=R(()=>{var e;return l==="1"&&[2].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),u=e=>{var C;const{id:k,objectType:_}=f;de({content:(C=n.currentQuestionInfo[0])==null?void 0:C.content,contentType:l,isDone:e,noticeType:d[_],objectId:k,objectType:_,orderId:o,orderNo:y,tenantId:9991000007}).then(({code:V,data:$})=>{console.log(V),V==="10000"&&g.go(-1)})};return z(()=>{console.log(f);const{insurerCode:e,id:k,objectType:_,productCategory:C}=f;ie({insurerCode:e,id:k,objectType:_,productCategory:C,orderNo:"2022011815151382958351",tenantId:9991000007}).then(({code:V,data:$})=>{V==="10000"&&(n.currentQuestionInfo=$)})}),(e,k)=>{var _;return t(),D("div",De,[i(h)?(t(),p(ge,{key:0,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):I("",!0),i(E)?(t(),p(Ee,{key:1,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):I("",!0),i(b)?(t(),p(Ve,{key:2,url:(_=i(n).currentQuestionInfo[0])==null?void 0:_.content,onOnSubmitCurrentStatus:u},null,8,["url"])):I("",!0)])}}});export{Fe as default};
