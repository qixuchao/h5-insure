import{d as e,j as a,k as l,o as t,m as s,w as d,b as c,c as n,F as o,q as r,u,a as i,e as v,p as m,dw as f,g as p,c2 as b,c3 as I,_ as g,i as h,h as x,O as k,a8 as y,T as C,s as _,af as w,aj as N,av as j,aw as U}from"./index-1e2bc5d8.js";import{a as V}from"./third-5c19f7b0.js";import{e as D,f as S,h as q}from"./util-b3fc7ccd.js";import{C as $}from"./index-f2204102.js";import{C as A}from"./index-7cad659d.js";import{f as B,m as F,g as O}from"./gender-bdd67324.js";const T={class:"label"},E={class:"content"},L=e({name:"BasicInfo"}),z=e({...L,props:{data:{type:Object,default:()=>({})}},setup(e){const f=e,p=a(["1"]),b={1:"工薪",2:"个体",3:"私营",4:"房屋租赁",5:"金融投资",6:"存款利息",7:"其他"},I=l((()=>{var e,a;return[{label:"出生日期",value:f.data.birthday},{label:"电子邮箱",value:f.data.email},{label:"国籍",value:f.data.nationalityName},{label:"年收入",value:f.data.personalAnnualIncome,unit:"万元"},{label:"社保",value:f.data.hasSocialInsuranceName},{label:"是否吸烟",value:f.data.smokeFlagName},{label:"收入来源",value:b[f.data.incomeSource]},{label:"身高",value:f.data.height,unit:"厘米"},{label:"体重",value:f.data.weight,unit:"千克"},{label:"婚姻状况",value:f.data.marriageName},{label:"教育程度",value:f.data.educationDegreeName},{label:"职业",value:null==(a=null==(e=f.data)?void 0:e.occunationNameList)?void 0:a.join("/")}]}));return(e,a)=>{const l=$,f=A;return t(),s(f,{modelValue:u(p),"onUpdate:modelValue":a[0]||(a[0]=e=>m(p)?p.value=e:null)},{default:d((()=>[c(l,{title:"基础信息",name:"1"},{default:d((()=>[(t(!0),n(o,null,r(u(I),((e,a)=>(t(),n("div",{key:a,class:"collapse-list"},[i("div",T,v(e.label),1),i("div",E,v(e.value)+" "+v(e.unit),1)])))),128))])),_:1})])),_:1},8,["modelValue"])}}});const G={class:"com-card-select"},H={class:"collapse-content"},J={class:"card-header"},K={class:"card-header-title"},M={class:"card-header-content"},P=e({name:"CardSelect"}),Q=e({...P,props:{title:{type:String,default:""},selected:{type:Number,default:0},data:{type:Array,default:()=>[]}},emits:["update:selected"],setup(e,{emit:a}){const l=f(e,"selected",a),s=e=>{a("update:selected",e)};return(a,f)=>{const g=b,h=I;return t(),n("div",G,[i("div",H,[i("div",J,[i("div",K,v(e.title),1),i("div",M,v(e.data.length)+"张",1)]),c(h,{modelValue:u(l),"onUpdate:modelValue":f[0]||(f[0]=e=>m(l)?l.value=e:null),onChange:s},{default:d((()=>[(t(!0),n(o,null,r(e.data,((e,l)=>(t(),n("div",{key:l,class:"communicate-list pt20"},[c(g,{name:l},{default:d((()=>[p(a.$slots,"default",{scope:e})])),_:2},1032,["name"])])))),128))])),_:3},8,["modelValue"])])])}}});const R={class:"customer-detail"},W={class:"customer-img"},X=["src"],Y={class:"customer-img-content"},Z={class:"customer-img-title"},ee={class:"collapse-content"},ae={class:"cert-row"},le={class:"label"},te={class:"value"},se={class:"cert-row"},de=(e=>(j("data-v-124821a0"),e=e(),U(),e))((()=>i("div",{class:"label"},"证件有效期",-1))),ce={class:"value"},ne={class:"cert-row"},oe={class:"value"},re={class:"cert-row"},ue={class:"value"},ie={class:"cert-row"},ve={class:"value"},me={class:"cert-row"},fe={class:"value"},pe={class:"cert-row"},be={class:"value"},Ie={class:"footer"},ge=e({name:"CustomerDetail"});var he=g(e({...ge,setup(e){const r=h(),m=x();r.query;const f=a({addressIndex:0,certIndex:0,bankIndex:0,contactIndex:0}),p=a({addressInfo:[],certInfo:[],bankCardInfo:[],contactInfo:[],gender:1,name:""});l((()=>{var e;return(null==(e=p.value)?void 0:e.avatar)||p.value.gender?1==+p.value.gender?B:F:O}));const b=e=>{console.log("暂存的客户信息：",p.value);const a=S(p.value,f.value);q(a),m.replace({path:_.infoCollection,query:{...r.query,selected:"true"}})},I=(e="",a="")=>`${e?`${e}~`:""}${(null==a?void 0:a.includes("9999"))?"长期":a}`;return k((()=>{(()=>{C.loading({message:"加载中...",forbidClick:!0});const e=D(),a=(e=[])=>(e&&e.length&&(e[0].isDefault="1"),e||[]);V(e).then((e=>{const{code:l,data:t}=e;if("10000"===l&&t){const{bankCardInfo:e=[],addressInfo:l=[],contactInfo:s=[],certInfo:d=[],...c}=t;p.value=t,p.value.addressInfo=a(l),p.value.bankCardInfo=a(e),p.value.contactInfo=a(s),p.value.certInfo=a(d)}})).then((()=>{C.clear()}))})()})),(e,a)=>{const l=w,r=N;return t(),n(o,null,[i("div",R,[i("div",W,[i("img",{src:p.value.gender?1==+p.value.gender?u(B):u(F):u(O),alt:"",class:"customer-header-img"},null,8,X),i("div",Y,[i("div",Z,[y(v(p.value.name||"")+"   ",1),2==+p.value.gender?(t(),s(l,{key:0,name:"male"})):(t(),s(l,{key:1,name:"female"}))])])]),i("div",ee,[c(z,{data:p.value},null,8,["data"])]),c(Q,{title:"证件信息",data:p.value.certInfo,selected:f.value.certIndex,"onUpdate:selected":a[0]||(a[0]=e=>f.value.certIndex=e)},{default:d((({scope:e})=>[i("div",ae,[i("div",le,v(e.certTypeName),1),i("div",te,v(e.certNo),1)]),i("div",se,[de,i("div",ce,v(I(e.certStartDate,e.certEndDate)),1)])])),_:1},8,["data","selected"]),c(Q,{title:"常用通讯信息",data:p.value.contactInfo,selected:f.value.contactIndex,"onUpdate:selected":a[1]||(a[1]=e=>f.value.contactIndex=e)},{default:d((({scope:e})=>[i("div",ne,[i("div",oe,v(e.contactNo),1)])])),_:1},8,["data","selected"]),c(Q,{title:"常用通讯地址",data:p.value.addressInfo,selected:f.value.addressIndex,"onUpdate:selected":a[2]||(a[2]=e=>f.value.addressIndex=e)},{default:d((({scope:e})=>[i("div",re,[i("div",ue,v(e.detail),1)]),i("div",ie,[i("div",ve,v(e.postCode),1)])])),_:1},8,["data","selected"]),c(Q,{title:"银行卡信息",data:p.value.bankCardInfo,selected:f.value.bankIndex,"onUpdate:selected":a[3]||(a[3]=e=>f.value.bankIndex=e)},{default:d((({scope:e})=>[i("div",me,[i("div",fe,v(e.bankBranch),1)]),i("div",pe,[i("div",be,v(e.bankCardNo),1)])])),_:1},8,["data","selected"])]),i("div",Ie,[c(r,{color:"#c41e21",round:"",style:{"margin-left":"20px",flex:"1"},onClick:b},{default:d((()=>[y("去投保")])),_:1})])],64)}}}),[["__scopeId","data-v-124821a0"]]);export{he as default};
