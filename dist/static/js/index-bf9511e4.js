import{B as a,b as i,R as e}from"./index-c1cb4b1a.js";import{d as l,r as u,z as t,aR as s,a1 as r,R as n,c as o,A as d,i as m,g as v,U as g,h as c,G as f}from"./index-77c302b9.js";function k(a){return Object.keys(a)}const p=l({name:"InsureInfos"});var D=f(l({...p,props:{originData:{default:()=>({})},modelValue:{default:()=>({})},defaultValue:{default:()=>({})},trialResult:{default:()=>({})}},emits:["trialChange"],setup(l,{expose:f,emit:p}){const D=l,V=u(null),C=u({}),b=u({}),I=t({personalInfo:{},basicsAmount:"",basicsPremium:"",defaultValues:D.defaultValue,changeData:null,sValues:C.value});s("premium"),b.value=s("enumList")||{},r((()=>{}));const R=a=>{D.originData.mainRiskFlag,C.value.riskCategory=D.originData.riskCategory,C.value.riskCode=D.originData.riskCode,C.value.riskId=D.originData.riskId,C.value.riskType=D.originData.riskType,C.value.riskName=D.originData.riskName,C.value.riskType=D.originData.riskType,C.value.mainRiskCode=D.originData.mainRiskCode,C.value.mainRiskId=D.originData.mainRiskId,a?p("trialChange",C.value,a):p("trialChange",C.value)},h=(a,i)=>{k(a).forEach((i=>{C.value[i]=a[i]})),R(i)},y=a=>{var i,e;1==+(null==(e=null==(i=D.originData)?void 0:i.productRiskInsureLimitVO)?void 0:e.amountPremiumConfigVO.saleMethod)?I.basicsAmount=null==a?void 0:a.amount:I.basicsAmount=null==a?void 0:a.premium,k(a).forEach((i=>{C.value[i]=a[i]})),R()},O=a=>{C.value.liabilityVOList=a,console.log(">>>handleRiskLiabilityChange = ",C.value),R()};return n((()=>D.defaultValue),(a=>{a&&(I.defaultValues=a,C.value={...a})}),{deep:!0,immediate:!0}),n((()=>C.value),(a=>{I.sValues=a}),{deep:!0,immediate:!0}),f({validate:async()=>{var a;await(null==(a=V.value)?void 0:a.validate())}}),(u,t)=>{var s,r,n,f,k,p;return 1===(null==(s=l.originData)?void 0:s.factorDisPlayFlag)?(o(),d(g,{key:0},[m(v(a),{"v-model":v(I).sValues,"origin-data":null==(n=null==(r=l.originData)?void 0:r.productRiskInsureLimitVO)?void 0:n.amountPremiumConfigVO,"defalut-value":v(I).defaultValues,"trial-result":l.trialResult,onTrialChange:y},null,8,["v-model","origin-data","defalut-value","trial-result"]),m(v(i),{"v-model":v(C),"origin-data":l.originData.productRiskInsureLimitVO,"risk-info":l.originData,"default-value":v(I).defaultValues,onTrialChange:h},null,8,["v-model","origin-data","risk-info","default-value"]),m(v(e),{"data-source-folmulate":v(C),"data-source":l.originData,params:{amountUnit:null==(k=null==(f=l.originData)?void 0:f.productRiskInsureLimitVO)?void 0:k.amountPremiumConfigVO.displayUnit,basicsAmount:v(I).basicsAmount,basicsPremium:v(I).basicsPremium,riskId:null==(p=l.originData)?void 0:p.riskId},"default-value":v(I).defaultValues,onTrialChange:O},null,8,["data-source-folmulate","data-source","params","default-value"])],64)):c("",!0)}}}),[["__scopeId","data-v-2c249d07"]]);export{D as I};
