import{_ as e,d as a,h as t,g as s,az as r,bL as o,i as n,o as l,c as u,a as d,b as c,e as i,u as p,bn as m,w as f,a8 as y,l as b,m as _,q as v,ae as h,ag as q,ap as w,ar as I,T as N}from"./index-c2b6bc52.js";import{P as k}from"./constants-fe95ef6f.js";import{c as C}from"./order-ab1fbf30.js";import{o as g}from"./verify-b8f67c1f.js";const L={class:"page-underwrite-result-wrap"},x={class:"result-content"},D={class:"result-icon"},R={class:"result-status"},S={class:"result-desc"},j={key:0,class:"operate-btn"},E={key:1,class:"operate-btn"},T={class:"dialog-content"},U=a({name:"underwriteResult"});var A=e(a({...U,setup(e){const a={[m.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:"您提交的投保资料需进一步人工审核，请耐心等待公司审核结果"},[m.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:"核保结果: BMI>24"}},U=t(),A=s(),{orderNo:F,tenantId:V,underwriteStatus:z}=U.query,W=r.Component,[$,B]=o(!1),G=n(),M=async()=>{const{code:e,data:a}=await g({orderNo:F,tenantId:V});"10000"===e&&a&&(delete U.query.orderNo,A.push({path:k.orderList,query:{...U.query}}))},P=e=>{C({orderNo:F,tenantId:V}).then((({code:a,data:t})=>{"10000"===a&&(N("撤单成功"),null==e||e())}))},H=()=>{B(!0)},J=()=>{A.push({path:k.sign,query:U.query})},K=()=>{P((()=>{delete U.query.orderNo,A.push({path:k.productList,query:U.query})}))},O=()=>{P((()=>{B(!1),A.push({path:G.value,query:U.query})}))},Q=()=>{B(!1),K()};return(e,t)=>{const s=h,r=q,o=w,n=I;return l(),u("div",L,[d("div",x,[d("div",D,[c(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),d("p",R,i(a[`${p(z)}`].resultStatus),1),d("p",S,i(a[`${p(z)}`].resultDesc),1),p(z)===p(m).UNDER_WRITE_FAIL?(l(),u("div",j,[c(r,{type:"primary",plain:"",onClick:H},{default:f((()=>[y("返回修改")])),_:1}),c(r,{type:"primary",onClick:J},{default:f((()=>[y("继续投保")])),_:1}),c(r,{class:"no-border",onClick:K},{default:f((()=>[y("放弃投保")])),_:1})])):(l(),u("div",E,[c(r,{type:"primary",onClick:M},{default:f((()=>[y("确定")])),_:1})]))]),p($)?(l(),b(p(W),{key:0,show:p($),"onUpdate:show":t[1]||(t[1]=e=>_($)?$.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!p(G),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:O,onCancel:Q},{default:f((()=>[d("div",T,[c(n,{modelValue:p(G),"onUpdate:modelValue":t[0]||(t[0]=e=>_(G)?G.value=e:null)},{default:f((()=>[c(o,{name:p(k).premiumTrial},{default:f((()=>[y("保费试算页")])),_:1},8,["name"]),c(o,{name:p(k).questionNotice},{default:f((()=>[y("健康告知页")])),_:1},8,["name"]),c(o,{name:p(k).infoCollection},{default:f((()=>[y("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):v("",!0)])}}}),[["__scopeId","data-v-5066f540"]]);export{A as default};
