!function(){var e=document.createElement("style");e.innerHTML=".com-field-info[data-v-34962902]{display:flex;align-items:center;justify-content:space-between;height:1.41333rem;border-top:1px solid #eeeff4}.com-field-info .title[data-v-34962902]{flex:0 0 3.33333rem;font-size:.4rem;font-weight:600;color:#393d46}.com-field-info .desc[data-v-34962902]{flex:1;text-align:right;font-size:.4rem;color:#515865;line-height:.56rem}.page-activity-upgrade[data-v-1602ac94]{background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%);position:relative}.page-activity-upgrade .logo[data-v-1602ac94]{width:50%;margin:.4rem;position:absolute}.page-activity-upgrade .container[data-v-1602ac94]{position:absolute;left:0;width:100%;padding:.26667rem;bottom:.8rem}.page-activity-upgrade .container .main-form[data-v-1602ac94]{background:url(/static/assets/bg.c7f48ab0.png) no-repeat;background-size:100% 100%;position:relative;padding:.26667rem}.page-activity-upgrade .container .main-form .com-field-info[data-v-1602ac94]:first-child{border-top:none}.page-activity-upgrade .container .main-form .upgrade-btn[data-v-1602ac94]{margin-bottom:.26667rem;background-color:#ff6d23;border-color:#ff6d23}.page-activity-upgrade .container .main-form .submit[data-v-1602ac94]{height:1.33333rem;margin-top:.53333rem;margin-bottom:.46667rem;background:url(/static/assets/up.66fa7d45.png) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-upgrade[data-v-1602ac94] .com-check-btn.activated-disabled,[data-v-1602ac94] .com-check-btn.activated-disabled{background-color:#ff6d23}[data-v-1602ac94] .van-cell{padding:.26667rem 0;border-top:1px solid #eeeff4}[data-v-1602ac94] .van-field__label{font-size:.4rem;font-weight:600;color:#393d46}\n",document.head.appendChild(e),System.register(["./vendor-legacy-1e86c4b9.js","./infoCollection-legacy-f3c4910f.js","./index-legacy-5a15f51e.js","./modal-bg-legacy-85287d35.js","./trial-legacy-607b283d.js","./logo-legacy-6244d35f.js","./product-legacy-d6f5a2da.js","./blank-legacy-3a1efa43.js","./trial-legacy-47721fe0.js"],(function(e){"use strict";var a,t,n,i,o,d,l,r,c,s,u,v,m,f,p,g,b,h,y,I,k,w,x,j,L,O,C,D,S,_;return{setters:[function(e){a=e.g,t=e.j,n=e.n,i=e.z,o=e.J,d=e.O,l=e.E,r=e.h,c=e.r,s=e.A,u=e.p,v=e.m,m=e.T},function(e){f=e.S},function(e){p=e._},function(e){g=e.m,b=e.P},function(e){h=e.i,y=e.a,I=e.s,k=e.e,w=e.E},function(e){x=e.g,j=e.l,L=e.a,O=e.t,C=e.c,D=e.d},function(e){S=e.p},function(e){_=e.b},function(){}],execute:function(){const z={class:"com-field-info"},P={class:"title"},V={class:"desc"};var M=p(a({props:{title:{type:String,default:""},desc:{type:String,default:""}},setup:e=>(a,d)=>(t(),n("div",z,[i("div",P,o(e.title),1),i("div",V,o(e.desc),1)]))}),[["__scopeId","data-v-34962902"]]);const E={class:"page-activity-upgrade"},H=["src"],N=["src"],R={class:"container"},T={class:"main-form"};e("default",p(a({setup(e){const a=d(),{productCode:o="BWYL2022",tenantId:p,orderId:z,extInfo:P}=a.query,V=x(P),{phoneNo:U,saleChannelId:q,paymentMethod:B,certNo:F,name:J}=V,K=l(),A=l(),W=l(),Y=l(),$=l(),G=l(),Q=l(!1),X=()=>{Q.value=!1},Z=async()=>{const e=D({tenantId:p,premium:Y.value,orderDetail:W.value,productDetail:K.value,insureDetail:A.value}),a=await k(e),{code:t,data:n}=a;"10000"===t&&(Y.value=n.installmentPremium,G.value=n.signUrl)},ee=async e=>{try{m.loading({forbidClick:!0,message:"升级中"}),await Z();const e=await(async()=>{var e,a,t,n,i;const o=L({tenantId:p,saleChannelId:q,orderStatus:"",orderTopStatus:"",detail:K.value,paymentMethod:null===(e=W.value.extInfo)||void 0===e||null===(a=e.extraInfo)||void 0===a?void 0:a.paymentMethod,renewalDK:null===(t=W.value.extInfo)||void 0===t||null===(n=t.extraInfo)||void 0===n?void 0:n.renewalDK,successJumpUrl:"",premium:Y.value,holder:W.value.tenantOrderHolder,insured:{...W.value.tenantOrderInsuredList[0],socialFlag:W.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:O({tenantId:p,riskList:C(A.value.productRiskVoList[0].riskDetailVOList,K.value),riskPremium:{},productId:null===(i=K.value)||void 0===i?void 0:i.id})}),d=await I(o),{code:l,data:r}=d;return"10000"===l?r.data:""})();G.value?window.location.href=G.value:(async e=>{const a=D({tenantId:p,premium:Y.value,orderDetail:W.value,productDetail:K.value,insureDetail:A.value}),t=await w({id:e,...a}),{code:n,data:i}=t;"10000"===n&&(Q.value=!0)})(e)}catch(a){m.clear()}};return r((()=>{(()=>{const e=S({productCode:o,withInsureInfo:!0}),a=h({productCode:o}),t=y({id:z||V.orderId,tenantId:p});Promise.all([e,a,t]).then((([e,a,t])=>{"10000"===e.code&&(K.value=e.data),"10000"===a.code&&(A.value=a.data),"10000"===t.code&&(W.value=t.data,$.value=t.data.tenantOrderInsuredList[0].extInfo.hasSocialInsurance),Z()}))})()})),(e,a)=>{var o,d,l,r,m,p;const h=c("ProRadioButton"),y=c("ProField");return t(),n("div",E,[i("img",{class:"logo",src:s(j)},null,8,H),i("img",{src:s(_)},null,8,N),i("div",R,[i("div",T,[u(M,{title:"姓名",desc:null===(o=W.value)||void 0===o||null===(d=o.tenantOrderInsuredList)||void 0===d?void 0:d[0].name},null,8,["desc"]),u(M,{title:"证件号码",desc:null===(l=W.value)||void 0===l||null===(r=l.tenantOrderInsuredList)||void 0===r?void 0:r[0].certNo},null,8,["desc"]),u(M,{title:"手机号码",desc:null===(m=W.value)||void 0===m||null===(p=m.tenantOrderHolder)||void 0===p?void 0:p.mobile},null,8,["desc"]),u(M,{title:"每月保费",desc:`${Y.value||"0"} / 每月`},null,8,["desc"]),u(y,{label:"有无社保",name:"name",required:"",placeholder:"请选择"},{input:v((()=>[u(h,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),disabled:!0,options:s(f)},null,8,["modelValue","options"])])),_:1}),i("div",{class:"submit",onClick:ee})])]),u(b,{"is-show":Q.value,bg:s(g),onOnClose:X},null,8,["is-show","bg"])])}}}),[["__scopeId","data-v-1602ac94"]]))}}}))}();
