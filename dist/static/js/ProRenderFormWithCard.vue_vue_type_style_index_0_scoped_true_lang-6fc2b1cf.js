import{aT as e,v as a,C as t,au as r,Y as o,av as n,Z as l,S as i,E as s,d,c as u,y as c,z as m,aU as p,aV as f,aQ as v,x as N,K as y,Q as b,a0 as C,e as h,aj as E,w as g,i as A,g as O,U as V,k as _,f as I,aw as T,aP as S,aD as R,A as $,aW as P,ai as w,j as D,aX as k,aY as x,a9 as M}from"./index-000b7445.js";import{P as B,a as H}from"./bankCard-e3843884.js";import{s as L}from"./phoneVerify-14f3a6d4.js";import{e as j,b as Z,i as F,g as U,c as z,k as G,a as K,d as q,f as W,h as Y,j as X,l as Q,m as J,n as ee,o as ae,S as te,p as re,q as oe}from"./keysIn-3ff85984.js";import{i as ne,b as le,a as ie}from"./isObjectLike-a9798079.js";const se=async({mobile:e},a)=>{const t=await L(e),{code:r}=t;"10000"===r&&"function"==typeof a&&a()},de="ProFieldV2",ue="ProDatePickerV2",ce="ProPickerV2",me="ProRadioV2",pe="ProCheckboxV2",fe="ProSwitchV2",ve="ProCascaderV2",Ne="ProBank",ye="ProAddress",be="ProUploadV2",Ce="ProStepperV2",he="ProSMSCode",Ee="ProOccupation",ge="ProIDCardUploadV2",Ae=18,Oe=20,Ve=50,_e="name",Ie="external",Te="email",Se="zipCode",Re="tel",$e="mobile",Pe="zhCN",we="notZhCN",De="normalChar",ke="alphabetNumber",xe="cert",Me="houseHold",Be="birth",He="passport",Le="otherCert",je="militaryCard",Ze="solider",Fe="hongkongMacao",Ue="taiwanTravel",ze="foreignPermanent",Ge="HKMacaoResidencePermit",Ke="taiwanResidencePermit",qe="socialCreditCode",We="OCC",Ye="businessLicense",Xe="bandCard",Qe={NAME:{maxlength:25,ruleType:_e},MOBILE:{type:"digit",ruleType:$e,maxlength:11},AGE:{type:"digit",maxlength:3},HEIGHT_WEIGHT:{type:"number",precision:1,maxlength:5},INCOME:{type:"number",precision:2,unit:"万元",isPrecisionCompleted:!0},ZIP_CODE:{type:"digit",ruleType:Se,maxlength:6},CONTENT:{maxlength:200},GAS_NUMBER:{maxlength:Oe},BANK:{type:"digit",maxlength:Oe},ADDRESS:{dictCode:e.NATIONAL_REGION_CODE,customFieldName:{text:"name",value:"code",children:"children"}},COUNTRY:{dictCode:e.NATIONALITY,customFieldName:{text:"name",value:"code",children:"children"}}},Je=[{code:"input",name:"单行文本",value:1,componentName:de},{code:"textarea",name:"多行文本",value:2,type:"textarea",componentName:de},{code:"number",name:"数字输入框",value:3,componentName:de},{code:"date",name:"日期",value:4,componentName:ue},{code:"select",name:"下拉框",value:5,componentName:ce},{code:"radio",name:"单选框",value:6,componentName:me},{code:"checkbox",name:"多选框",value:7,componentName:pe},{code:"switch",name:"switch开关",value:8,componentName:fe},{code:"cascader",name:"级联选择",value:9,componentName:ve},{code:"bank",name:"银行卡",value:10,componentName:Ne},{code:"address",name:"地址",value:11,componentName:ye},{code:"upload",name:"文件上传",value:12,componentName:be},{code:"stepper",name:"步进器",value:13,componentName:Ce}],ea={BANK_CARD_NO:"bankCardNo",CARD_HOLDER:"cardHolder",DEPOSIT_BANK:"depositBank",BANK_CARD_IMAGE:"bankCardImage",RESERVE_MOBILE:"reserveMobile",VERIFICATION_CODE:"verificationCode"},aa=Object.values(ea),ta={sameFirstIssue:{name:"sameFirstIssue",componentName:me,columns:B},renewalSameFirstIssue:{name:"sameFirstIssue",componentName:fe,activeValue:`${H.FIRST_SAME}`,inactiveValue:`${H.OTHER}`},bankCardNo:{...Qe.BANK,name:ea.BANK_CARD_NO,componentName:de},cardHolder:{...Qe.NAME,name:ea.CARD_HOLDER,componentName:de},depositBank:{name:ea.DEPOSIT_BANK,dictCode:e.BANK,componentName:ce},bankCardImage:{maxCount:2,subLabel:"（需上传正反两面）",name:ea.BANK_CARD_IMAGE,componentName:be},reserveMobile:{...Qe.MOBILE,name:ea.RESERVE_MOBILE,componentName:de},verificationCode:{...Qe.ZIP_CODE,sendSMSCode:se,name:ea.VERIFICATION_CODE,relatedName:ea.RESERVE_MOBILE,componentName:he}},ra={certType:{[t.CERT]:[xe],[t.HOUSE_HOLD]:[Me],[t.MILITARY_CARD]:[je],[t.PASSPORT]:[He],[t.HONGKONG_MACAO]:[Fe],[t.OTHER]:[Le],[t.SOLIDER]:[Ze],[t.BIRTH]:[Be],[t.TAIWAN_TRAVEL]:[Ue],[t.FOREIGN_PERMANENT]:[ze],[t.HK_MACAO_RESIDENCE_PERMIT]:[Ge],[t.TAIWAN_RESIDENCE_PERMIT]:[Ke],[t.SOCIAL_CREDIT_CODE]:[qe]}},oa={INSURE_AREA:"insureArea",RESIDENCE:"residence",LONG_AREA:"longArea",WORK_ADDRESS:"workAddress"};Object.values(oa);const na=[{key:oa.INSURE_AREA,valuePrefix:"insure"},{key:oa.RESIDENCE,valuePrefix:""},{key:oa.LONG_AREA,valuePrefix:""},{key:oa.WORK_ADDRESS,valuePrefix:"work"}].reduce(((e,{key:a,valuePrefix:t})=>(e[a]={valuePrefix:t,...Qe.ADDRESS},e)),{}),la={name:Qe.NAME,certNo:{relatedName:"certType",maxlength:Ae},certType:{relatedName:"certNo"},mobile:Qe.MOBILE,age:Qe.AGE,height:{...Qe.HEIGHT_WEIGHT,unit:"cm"},weight:{...Qe.HEIGHT_WEIGHT,unit:"kg"},email:{ruleType:Te},personalAnnualIncome:Qe.INCOME,familyAnnualIncome:Qe.INCOME,workZipCode:Qe.ZIP_CODE,homePostalCode:Qe.ZIP_CODE,workContent:Qe.CONTENT,gasNumberCollection:{...Qe.GAS_NUMBER,ruleType:we},verificationCode:{sendSMSCode:se,componentName:he,...Qe.ZIP_CODE},...na,nationalityCode:{...Qe.COUNTRY},certEndDate:{minDate:new Date,maxDate:a().add(100,"year").toDate()},companyName:{maxlength:Ve},occupationCodeList:{componentName:Ee,dictCode:(ia=(window.location.search.match(/&insurerCode=([^&]*)&/)||[])[1]||"",(ia?`${ia.toUpperCase()}_`:"")+"OCCUPATION")},certImage:{componentName:ge}};var ia;const sa=2,da={1:"holder",2:"insured",3:"beneficiary",4:"payInfo",5:"signInfo"},ua=Symbol("VAN_PRO_FORM_KEY"),ca=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/,ma=e=>{if(!ca.test(e))return!1;if(18!==e.length)return!1;const a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];let t=0;for(let n=0;n<17;n++)t+=e.substring(n,n+1)*a[n];const r=t%11,o=e.substring(17);return 2===r?"X"===o.toUpperCase():Number(o)===[1,0,10,9,8,7,6,5,4,3,2][r]},pa={isName:e=>/^[\u4e00-\u9fa5a-z].{0,23}[\u4e00-\u9fa5a-z]/i.test(e),isExternal:e=>/^(https?:|mailto:|tel:)/.test(e),isEmail:e=>/^[A-Za-z0-9]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e),isZipCode:e=>/^[0-9]{6,6}$/.test(e),isTel:e=>/0\d{2,3}-\d{7,8}/.test(e),isPhone:e=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e),isZhCN:e=>/^[\u4e00-\u9fa5]+$/.test(e),isNotZhCN:e=>/^[^\u4e00-\u9fa5]+$/.test(e),isCommonChar:e=>/^[\w_]{6,20}$/.test(e),isNormalChar:e=>/^[\u4e00-\u9fa5a-zA-Z0-9]+$/.test(e),isAlphabetNumber:e=>/^[a-z0-9]+$/i.test(e),isAlphabetNumberOrSpecial:e=>/^[a-z0-9`~!@#$%^&*()_\-+=<>?:"{}|,./;'\\[\]·~！@#￥¥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]+$/i.test(e),isIdCardNo:e=>ma(e),isHouseHold:e=>ma(e),isBirthType:e=>/^[a-zA-Z]\d{9}$/.test(e),isPassword:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,20}$/.test(e),isPassportType:e=>e.length>=5&&/^[^\u4e00-\u9fa5]+$/.test(e),isMilitaryCard:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isSolider:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isHongkongMacaoTravel:e=>/^[C]\d{8}$|^[C][a-hA-Hj-nJ-Np-zP-Z][0-9]{7}$/.test(e),isTaiwanTravel:e=>/^[L]\d{8}$/.test(e),isForeignPermanent:e=>/^[A-Z]{3}[0-9]{12}$/.test(e),isHKMacaoResidencePermit:e=>/^8[12]0000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isTaiwanResidencePermit:e=>/^830000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isUSCC:e=>/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/.test(e),isUSCCPolicy:e=>/^[A-Z0-9]{18}$/.test(e),isOCC:e=>/^[A-Z0-9]{8}-[A-Z0-9]{1}$/.test(e),isBusinessLicense:e=>/(^\d{15}$)|(^[A-Z0-9]{18}$)/.test(e),isBandcard:e=>/^\d{12,20}$/g.test(e),isOtherCert:e=>/^.{1,18}$/.test(e)},fa={[_e]:[pa.isName],[Ie]:[pa.isExternal],[Te]:[pa.isEmail],[Se]:[pa.isZipCode],[Re]:[pa.isTel],[$e]:[pa.isPhone],[Pe]:[pa.isZhCN],[we]:[pa.isNotZhCN],[De]:[pa.isNormalChar],[ke]:[pa.isAlphabetNumber],[xe]:[pa.isIdCardNo],[Me]:[pa.isHouseHold],[Be]:[pa.isBirthType],[He]:[pa.isPassportType],[je]:[pa.isMilitaryCard],[Ze]:[pa.isSolider],[Fe]:[pa.isHongkongMacaoTravel],[Ue]:[pa.isTaiwanTravel],[ze]:[pa.isForeignPermanent],[Ge]:[pa.isHKMacaoResidencePermit],[Ke]:[pa.isTaiwanResidencePermit],[qe]:[pa.isUSCCPolicy],[We]:[pa.isOCC],[Ye]:[pa.isBusinessLicense],[Xe]:[pa.isBandcard],[Le]:[pa.isOtherCert]};function va(e,a,t){(void 0!==t&&!j(e[a],t)||void 0===t&&!(a in e))&&Z(e,a,t)}var Na,ya=function(e,a,t){for(var r=-1,o=Object(e),n=t(e),l=n.length;l--;){var i=n[Na?l:++r];if(!1===a(o[i],i,o))break}return e};var ba=Function.prototype,Ca=Object.prototype,ha=ba.toString,Ea=Ca.hasOwnProperty,ga=ha.call(Object);function Aa(e,a){if(("constructor"!==a||"function"!=typeof e[a])&&"__proto__"!=a)return e[a]}function Oa(e,a,t,r,o,n,l){var i=Aa(e,t),s=Aa(a,t),d=l.get(s);if(d)va(e,t,d);else{var u,c=n?n(i,s,t+"",e,a,l):void 0,m=void 0===c;if(m){var p=K(s),f=!p&&q(s),v=!p&&!f&&W(s);c=s,p||f||v?K(i)?c=i:ne(u=i)&&F(u)?c=Y(i):f?(m=!1,c=X(s,!0)):v?(m=!1,c=Q(s,!0)):c=[]:function(e){if(!ne(e)||"[object Object]"!=le(e))return!1;var a=U(e);if(null===a)return!0;var t=Ea.call(a,"constructor")&&a.constructor;return"function"==typeof t&&t instanceof t&&ha.call(t)==ga}(s)||J(s)?(c=i,J(i)?c=function(e){return z(e,G(e))}(i):ie(i)&&!ee(i)||(c=ae(s))):m=!1}m&&(l.set(s,c),o(c,s,r,n,l),l.delete(s)),va(e,t,c)}}function Va(e,a,t,r,o){e!==a&&ya(a,(function(n,l){if(o||(o=new te),ie(n))Oa(e,a,l,t,Va,r,o);else{var i=r?r(Aa(e,l),n,l+"",e,a,o):void 0;void 0===i&&(i=n),va(e,l,i)}}),G)}function _a(e){return e}function Ia(e,a,t){switch(t.length){case 0:return e.call(a);case 1:return e.call(a,t[0]);case 2:return e.call(a,t[0],t[1]);case 3:return e.call(a,t[0],t[1],t[2])}return e.apply(a,t)}var Ta=Math.max;var Sa=re?function(e,a){return re(e,"toString",{configurable:!0,enumerable:!1,value:(t=a,function(){return t}),writable:!0});var t}:_a,Ra=Sa,$a=Date.now;var Pa,wa,Da,ka=(Pa=Ra,wa=0,Da=0,function(){var e=$a(),a=16-(e-Da);if(Da=e,a>0){if(++wa>=800)return arguments[0]}else wa=0;return Pa.apply(void 0,arguments)});function xa(e,a){return ka(function(e,a,t){return a=Ta(void 0===a?e.length-1:a,0),function(){for(var r=arguments,o=-1,n=Ta(r.length-a,0),l=Array(n);++o<n;)l[o]=r[a+o];o=-1;for(var i=Array(a+1);++o<a;)i[o]=r[o];return i[a]=t(l),Ia(e,this,i)}}(e,a,_a),e+"")}var Ma,Ba=(Ma=function(e,a,t){Va(e,a,t)},xa((function(e,a){var t=-1,r=a.length,o=r>1?a[r-1]:void 0,n=r>2?a[2]:void 0;for(o=Ma.length>3&&"function"==typeof o?(r--,o):void 0,n&&function(e,a,t){if(!ie(t))return!1;var r=typeof a;return!!("number"==r?F(t)&&oe(a,t.length):"string"==r&&a in t)&&j(t[a],e)}(a[0],a[1],n)&&(o=r<3?void 0:o,r=1),e=Object(e);++t<r;){var l=a[t];l&&Ma(e,l,t,o)}return e})));function Ha(e){return null==e}const La=["v-model","label","name","id","type","size","maxlength","placeholder","border","disabled","readonly","colon","required","center","clearable","clear-icon","clear-trigger","clickable","is-link","autofocus","show-word-limit","error","error-message","error-message-align","formatter","format-trigger","arrow-direction","label-class","label-width","label-align","input-align","autosize","left-icon","right-icon","icon-prefix","rules","autocomplete","enterkeyhint","visible"],ja=["label","input","left-icon","right-icon","button","error-message","extra"],Za={autocomplete:"off"},Fa=e=>console.log(`%c🔥 ${e}`,"color:#1989fa;background:#5e4;padding:3px 5px;"),Ua=e=>{const{trialFactorCodes:a,personVO:t}=e||{};return!r(a)||!a.some((e=>{const a=t[e];return Ha(a)||""===a||Array.isArray(a)&&!a.length}))},za=(e,a,t)=>{var o;return t&&!r(a)?Promise.resolve():null==(o=e.value)?void 0:o.validate(t?a:[])},Ga=(e,a="children")=>r(e)?e.map((({[`${a}`]:e,...t})=>{const o={};return r(e)&&(o.children=Ga(e)),{...t,...o}})):[],Ka=(e,a=0,t="children")=>{const o=(e,n=1)=>r(e)?e.map((({[`${t}`]:e,...l})=>{const i={};return(!a||a&&a>n)&&r(e)&&(i.children=o(e,n+1)),{...l,...i}})):[];return o(e)},qa=(e,a,t={})=>{const o=Object.keys(e);return r(o)?o.reduce(((t,r)=>{const o=a.includes(r);return t[Number(!o)][r]=e[r],t}),[{...t},{}]):[{...t},{}]},Wa=e=>{if("certType"!==(null==e?void 0:e.name))return!1;const{columns:a,title:o}=e||{};return r(a)&&1===a.length&&a.find((e=>e.code===t.CERT))},Ya=(e,a)=>{let t=[];const l=[];return r(e)&&(t=e.map((e=>{const{code:a,name:t,value:r,componentName:i,...s}=Je.find((a=>`${a.value}`==`${e.displayType}`))||{};e.isCalculationFactor===o.YES&&l.push(e.code);const d={},{componentName:u,...c}=la[e.code]||{},m=u||i||"ProFieldV2";2===e.moduleType&&(d.isSelfInsuredNeed=e.isSelfInsuredNeed);const p={...s,...d,customFieldName:{text:"value",value:"code",children:"children"},label:e.title,name:e.code,componentName:m,required:1===e.isMustInput,nanoid:n(),...c},f={...p,attributeValueList:e.attributeValueList,columns:p.dictCode?[]:e.attributeValueList||[]};return Wa(f)&&(f.visible=!1),f}))),a.push(...l),{schema:t,trialFactorCodes:l}},Xa=(e,a=!1)=>{const t={};if(!e)return t;const o=Object.keys(e)||[];if(!r(o))return t;const n=[],l=o.reduce(((t,o)=>(t[da[o]]=r(e[o])?e[o].filter((e=>!a||1===e.isCalculationFactor)):[],t)),{}),i=r(l.holder)?l.holder.map((e=>e.code)):[];let s=[];r(l.insured)&&(s=l.insured.reduce(((e,a)=>(a.subModuleType===sa?e[1].push(a):e[0].push({...a,isSelfInsuredNeed:!i.includes(a.code)}),e)),[[],[]]).filter((e=>r(e))));const d=Object.keys(l).reduce(((e,a)=>(e[a]="insured"!==a?Ya(l[a],n):r(s)?s.map((e=>Ya(e,n))):[],e)),{});return d.config={hasTrialFactorCodes:!1,hasTrialFactorCodes:r(n)},d},Qa=e=>"string"==typeof e&&e?`${e[0].toUpperCase()}${e.substring(1)}`:"",Ja=(e,a={})=>Object.keys(e).reduce(((e,t)=>(e[a[t]||t]=t,e)),{}),et={certNo:{onChangeEffect:(e,a)=>{Object.assign(a.formData,{certNo:"",gender:"",birthday:""}),l((()=>{const e=![t.CERT,t.HOUSE_HOLD].includes(a.formData.certType);Ba(a.config,{gender:{visible:e},birthday:{visible:e}})}))}},certType:{extraAttrs:{4:{maxlength:10}},onChangeEffect:(e,a)=>{if([t.CERT,t.HOUSE_HOLD].includes(a.formData.certType)){const t=(e=>{const a={gender:"",birthday:""};if("string"==typeof e&&e&&ma(e)){const t={15:[6,12],18:[6,14]};a.birthday=e.slice(...t[e.length]).replace(/(.{4})(.{2})/,"$1-$2-"),a.gender=[i.FEMALE,i.MALE][Number(e.slice(-2,-1))%2]}return a})(e);Object.assign(a.formData,t)}}}};var at=function(e){return null==e};var tt=function(e){var a=typeof e;return null!=e&&("object"==a||"function"==a)};const rt={class:"value-view-wrap"};var ot=s(d({__name:"ValueView",props:{value:{type:String,default:""},isView:{type:Boolean,default:!1}},setup:e=>(a,t)=>(u(),c("span",rt,m(e.value||"-"),1))}),[["__scopeId","data-v-505dc7b6"]]);const nt={class:"com-van-field-unit"},lt=d({inheritAttrs:!1,__name:"ProFieldV2",props:{ruleType:{type:String,default:""},modelValue:{type:[String,Number,Object,Array,Boolean],default:""},isView:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rules:{type:Array,default:()=>[]},relatedName:{type:String,default:""},precision:{type:Number,default:0},isPrecisionCompleted:{type:Boolean,default:!1},unit:{type:String,default:""}},emits:["update:model-value","blur"],setup(e,{emit:a}){const t=e,o=p(),n=f(),{formState:l,markRequired:i}=v(ua)||{},s=N({modelValue:""}),d=y((()=>{const e=Ja(n,o.slots),{extra:a,...r}=e;return t.unit?r:e})),c=y((()=>o.placeholder||`请输入${o.label||""}`)),R=y((()=>`${s.modelValue||""}`)),$=y((()=>{var e,a;if(t.ruleType)return t.ruleType;if(t.relatedName){const r=null==(e=null==l?void 0:l.formData)?void 0:e[t.relatedName];if(r)return null==(a=ra[t.relatedName])?void 0:a[r]}return""})),P=e=>at(e)||""===e||Array.isArray(e)&&!e.length||tt(e)&&Object.keys(e).some((e=>P(e))),w=y((()=>r(t.rules)?t.rules:[{required:t.required,validator:e=>{if(t.required&&P(e))return o.placeholder;if($.value){const[a]=fa[$.value]||[];if("function"!=typeof a)return console.warn(`%c 字段 ${o.label} 的规则 ${$} 校验函数不存在，请先确认～`,"color: #3e7;"),"";if(!a(e))return`请输入正确的${o.label}`}return""}}])),D=y((()=>"number"===o.type&&t.precision)),k=e=>D.value&&e?e.replace(/^(0)\d+$/g,"$1").replace(new RegExp(`^(\\d+\\.\\d{${t.precision}})\\d+$`,"g"),"$1"):e,x=y((()=>{var e;if(t.relatedName){const{extraAttrs:a}=et[t.relatedName]||{},r=null==(e=null==l?void 0:l.formData)?void 0:e[t.relatedName];if(a&&!at(r)&&""!==r)return a[r]||{}}return{}})),M=(e,a)=>{if(t.relatedName&&e){const r=(et[t.relatedName]||{})[`${e}Effect`];"function"==typeof r&&r(a,l)}},B=e=>{M("onChange",e),(null==l?void 0:l.formData)&&o.name&&(l.formData[o.name]=e),s.modelValue=e,a("update:model-value",e)},H=e=>{let r=s.modelValue;D.value&&r&&t.isPrecisionCompleted&&(r=Number(r).toFixed(t.precision),B(r)),M("onBlur",r),a("blur",e)};return b((()=>t.modelValue),(e=>{s.modelValue=e}),{immediate:!0,deep:!0}),b((()=>{var e;return null==(e=null==l?void 0:l.formData)?void 0:e[o.name]}),(e=>{s.modelValue=e}),{immediate:!0,deep:!0}),C((()=>{o.name&&(null==l?void 0:l.nameList)&&l.nameList.push(o.name)})),(a,t)=>{const r=S;return u(),h(r,T({"model-value":O(s).modelValue,class:`com-van-field ${O(i)?"":"field-mark--hidden"} ${!1===O(o).visible?"com-van-field--hidden":""}`,autocomplete:"off",formatter:k},{maxlength:25,...a.$attrs,placeholder:O(c),required:e.required,rules:O(w),...O(x)},{onBlur:H,"onUpdate:modelValue":B}),E({_:2},[e.isView?{name:"input",fn:g((()=>[A(ot,{value:O(R)},null,8,["value"])])),key:"0"}:void 0,V(Object.keys(O(d)),(e=>({name:e,fn:g((()=>[_(a.$slots,O(d)[e])]))}))),e.unit?{name:"extra",fn:g((()=>[I("div",nt,m(e.unit),1)])),key:"1"}:void 0]),1040,["model-value","class"])}}}),it={input:"请输入",select:"请选择"};function st({placeholderType:e}={placeholderType:"select"}){const a=p(),t=f(),r=N({filedAttrs:{},filedSlots:{},attrs:{},slots:{}});return b((()=>a),(()=>{const[t,o]=(e=>qa(e,La,Za))(a);r.filedAttrs={...t,placeholder:a.placeholder||`${it[e]}${a.label||""}`},r.attrs={title:`请选择${t.label}`,...o}}),{deep:!0,immediate:!0}),b([()=>t,()=>a.slots],(e=>{const[o,n]=(e=>qa(e,ja))(Ja(t,a.slots));r.filedSlots=o||{},r.slots=n||{}}),{deep:!0,immediate:!0}),r}const dt={class:"custom-input-wrap"},ut={key:1,class:"placeholder"},ct=d({inheritAttrs:!1,__name:"CustomInput",props:{fieldValueView:{type:String,default:""},isView:{type:Boolean,default:!1},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup(e){const a=e,t=p(),{formState:r}=v(ua)||{};return R((()=>((null==r?void 0:r.formData)&&t.name&&(r.formData[t.name]=a.modelValue),a.modelValue))),(a,t)=>(u(),c("div",dt,[e.fieldValueView||e.isView?(u(),h(ot,{key:0,value:e.fieldValueView},null,8,["value"])):(u(),c("span",ut,m(a.$attrs.placeholder),1))]))}});const mt=d({name:"ProFormItem"}),pt=d({...mt,props:{fieldValueView:{type:String,default:""},name:{type:String,default:""},isView:{type:Boolean,default:!1},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup:e=>(a,t)=>(u(),h(lt,{class:$({"com-form-item":!0,"com-form-item--view":e.isView}),"is-link":!e.isView},E({input:g((()=>[A(ct,{name:e.name,"model-value":e.modelValue,"is-view":e.isView,"field-value-view":e.fieldValueView,placeholder:a.$attrs.placeholder},null,8,["name","model-value","is-view","field-value-view","placeholder"])])),_:2},[V(Object.keys(a.$slots),(e=>({name:e,fn:g((()=>[_(a.$slots,e)]))})))]),1032,["class","is-link"]))});const ft={class:"sub-label"},vt={class:"com-image-upload"},Nt={class:"upload-item"};var yt=s(d({__name:"ProUploadV2",props:{modelValue:{type:Array,default:()=>[]},maxCount:{type:Number,default:1},subLabel:{type:String,default:""},uploadType:{type:String,default:P.OTHER},isView:{type:Boolean,default:!1}},emits:["update:modelValue","onUploaded"],setup(e,{emit:a}){const t=e,{filedAttrs:r,filedSlots:o,attrs:n,slots:l}=w(st()),{formState:i}=v(ua)||{},s=y((()=>Object.keys(l).filter((e=>"default"!==e)))),d=N({modelValue:[]}),c=y((()=>d.modelValue.map((e=>({url:e})))));R((()=>d.modelValue));const p=e=>{k(e.file,t.uploadType).then((e=>{const{code:t,data:r}=e||{};"10000"===t&&r.url&&(d.modelValue.push(r.url),a("onUploaded",r))}))},f=(e,a)=>{const{index:t}=a;d.modelValue.splice(t,1)};return b((()=>d.modelValue),(e=>{(null==i?void 0:i.formData)&&r.value.name&&(i.formData[r.value.name]=e),a("update:modelValue",e)}),{deep:!0,immediate:!0}),b((()=>t.modelValue),(e=>{Array.isArray(d.modelValue)&&(d.modelValue=e)}),{deep:!0,immediate:!0}),(a,t)=>{const o=x,n=pt;return u(),h(n,{class:$({"com-van-upload-wrap":!0,"com-van-upload-wrap-view":e.isView}),"model-value":O(d).modelValue},E({input:g((()=>[I("div",vt,[A(o,{"model-value":O(c),"after-read":p,"max-count":e.maxCount,"before-delete":f,disabled:e.isView},E({default:g((()=>[_(a.$slots,"default",{},(()=>[I("div",Nt,[A(M,{name:"image-upload",class:"icon"})])]),!0)])),_:2},[V(O(s),(e=>({name:e,fn:g((()=>[_(a.$slots,e,{},void 0,!0)]))})))]),1032,["model-value","max-count","disabled"])])])),_:2},[e.subLabel?{name:"label",fn:g((()=>[D(m(O(r).label),1),I("span",ft,m(e.subLabel),1)])),key:"0"}:void 0]),1032,["class","model-value"])}}}),[["__scopeId","data-v-53390cb2"]]);export{aa as B,ta as P,ua as V,lt as _,za as a,Ha as b,Fa as c,ot as d,pt as e,Ga as f,Ka as g,Qa as h,Wa as i,yt as j,et as r,Xa as t,st as u,Ua as v};
