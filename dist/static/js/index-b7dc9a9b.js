import{g as re,Q as _e,C as r,M as ve,d as he,r as f,h as l,j as E,k as i,y as e,I as u,n as v,m as h,E as F,F as B,z as pe,s as j,B as d,a1 as me,a2 as fe,w as S}from"./vendor-89e50ef2.js";import{P as ge,_ as J,a as Ae,b as ke}from"./index-17d3cc70.js";import{_ as be,a as ye}from"./pengyouquan-46cbea57.js";import{a as Ce,g as De}from"./proposalList-a9c133d5.js";import{P as Ee}from"./index-8af3143b.js";import{_ as Fe}from"./index-2f841139.js";var Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAM1BMVEUAAAAHe/8JfP8HfP8ghf8IfP8Jfv8SgP8Lff8Iev8Kf/8Nf/8Ie/8KfP8Mff8Iff8Ke/9WxKgsAAAAEXRSTlMATTpGCEIdDS0kGBI+NCogMWRIF20AAADeSURBVDjL3ZOxDgMhDENdCOGAg+P/v7aI4oalQ3VT+6YoAaPYAkB2PtQII9bgXcagPSYKoq9GA/JjEXmLjQzHsq1ZY8PBWzmxwx6BZV2zykZAZ5nWLLHRIe9ThEoC5PniGW29c742FxQ9mmJH26GCf0HHrq7AKG54MTfutJMk2gn9mK1aXMeaHbezNYlrzS57RJboCXIuSQHKVHWWl7ip+No4p1SwU1LK+DFEPjWSH5vu++QwXEmb7w2kMRezttAUM/92tn3N+hfZmqSJeuE3rVu2dfvI5dKInahXAfAESeEGZRES0sEAAAAASUVORK5CYII=";const n=V=>(me("data-v-513b9502"),V=V(),fe(),V),Ve={class:"page-composition-proposal"},Re={class:"head-bg"},xe={class:"container head-cover"},Ie={class:"info-detail"},Pe={class:"name"},Le={class:"img"},Se=["src"],we={clase:"p1"},Ne={class:"p2"},Oe={class:"fe"},Me=d(" \u9996\u5E74\u4FDD\u8D39\uFF1A "),Ue=n(()=>e("div",{class:"line"},null,-1)),$e={class:"tp"},Ke={class:"container"},Te={class:"common-title"},He={class:"title"},Ge=n(()=>e("img",{src:Be,class:"ig"},null,-1)),We=n(()=>e("div",{class:"text-detail"},"\u6761\u6B3E\u8BE6\u60C5",-1)),ze={class:"product-detail"},je=n(()=>e("div",{class:"line2"},null,-1)),Je={class:"container"},Qe=n(()=>e("div",{class:"common-title"},"\u5229\u76CA\u6F14\u793A",-1)),Xe={class:"benefit"},Ze={class:"benefit-title"},qe=n(()=>e("div",{class:"line"},null,-1)),Ye={key:0},et={class:"box"},tt={class:"box-title"},st=n(()=>e("img",{src:J,alt:""},null,-1)),at=d(" \u4FDD\u5355\u5E74\u5EA6"),ot=d("\u5E74\u5EA6\uFF0C\u88AB\u4FDD\u4EBA"),nt=d("\u5C81\u65F6 "),lt=n(()=>e("img",{src:J,alt:""},null,-1)),ut={class:"box-price"},it={class:"text1"},dt={class:"text2"},ct={class:"slider"},rt=n(()=>e("img",{src:Ae,alt:""},null,-1)),_t=[rt],vt={style:{flex:"1"}},ht={class:"custom-button"},pt=n(()=>e("img",{src:ke,alt:""},null,-1)),mt=[pt],ft={key:1},gt=n(()=>e("p",{class:"slider-dec"},"\u62D6\u52A8\u6309\u94AE\u67E5\u770B\u4E0D\u540C\u5E74\u9F84\u4FDD\u969C",-1)),At={class:"btn-two"},kt=d("\u56FE\u8868\u5C55\u793A"),bt=d("\u8D8B\u52BF\u5C55\u793A"),yt={class:"container"},Ct=n(()=>e("div",{class:"common-title"},"\u4FDD\u9669\u516C\u53F8\u7B80\u4ECB",-1)),Dt=n(()=>e("span",{class:"poiner"},null,-1)),Et={class:"content"},Ft=n(()=>e("div",{class:"wechat"},[e("img",{src:be,alt:""})],-1)),Bt=n(()=>e("div",{class:"txt"},"\u5FAE\u4FE1\u597D\u53CB",-1)),Vt=[Ft,Bt],Rt={class:"bx"},xt=n(()=>e("img",{src:ye,alt:""},null,-1)),It=[xt],Pt=n(()=>e("div",{class:"txt"},"\u670B\u53CB\u5708",-1)),Lt={key:0,class:"footer-btn"},St=d("\u751F\u6210PDF"),wt=d("\u5206\u4EAB\u8BA1\u5212\u4E66"),Nt=re({setup(V){const Q=_e(),{isShare:X,id:w}=Q.query,Z=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"key1",width:180},{title:"\u4FDD\u989D",dataIndex:"key2"},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"key3",width:110},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"key4",width:110},{title:"\u4FDD\u8D39",dataIndex:"key5",width:120}],N=r([]),P=r(0),a=r(),R=r(0),k=r([]),b=r(0),y=r(0),O=r(""),p=r(0),C=r(!0),L=r(!1),q={1:"\u7537",2:"\u5973"},x=()=>{a.value.benefitRiskResultVOList[P.value].benefitRiskItemResultVOList[0].dataList.map(s=>{p.value.toString()===s[s.length-1]&&(k.value=s)})},Y=()=>{a.value.benefitRiskResultVOList[0].benefitRiskItemResultVOList[0].dataList.map((s,t)=>{s.push(t+1),s.push((R.value+t+1).toString())})},ee=s=>{const t=s.split("_");if(s==="to_life")return"\u4FDD\u7EC8\u751F";switch(t[0]){case"year":return`${t[1]}\u5E74`;case"month":return`${t[1]}\u6708`;case"day":return`${t[1]}\u5929`;case"to":return`\u4FDD\u81F3${t[1]}\u5C81`;default:return""}},te=s=>{const t=s.split("_");switch(t[0]){case"year":return`${t[1]}\u5E74\u4EA4`;case"month":return`${t[1]}\u6708\u4EA4`;case"to":return`\u4EA4\u81F3${t[1]}\u5C81`;case"single":return"\u8DB8\u7F34";default:return""}};ve(()=>{Ce(Number(w)).then(s=>{var t,g,D;console.log(">>>>>>>>>>>",(t=s.data)==null?void 0:t.proposalInsuredVOList[0]),a.value=(g=s.data)==null?void 0:g.proposalInsuredVOList[0],R.value=he().diff(a.value.birthday,"y"),b.value=a.value.benefitRiskResultVOList[0].ageBegin,y.value=a.value.benefitRiskResultVOList[0].ageEnd,p.value=R.value+1,Y(),x(),(D=a.value)==null||D.proposalProductRiskVOList.map(A=>{N.value.push({key1:A.riskName,key2:A.amount,key3:ee(A.coveragePeriod),key4:te(A.chargePeriod),key5:A.premium})})})});const se=s=>{x()},ae=()=>{p.value>y.value-1||(p.value+=1,x())},oe=()=>{p.value>b.value&&(p.value-=1,x())},ne=s=>{P.value=s.name,b.value=a.value.benefitRiskResultVOList[s.name].ageBegin,y.value=a.value.benefitRiskResultVOList[s.name].ageEnd},M=s=>{s==="1"?C.value=!0:C.value=!1},U=s=>{const t={title:"\u8BA1\u5212\u4E66",desc:"\u60A8\u7684\u8D34\u5FC3\u4FDD\u9669\u7BA1\u5BB6",link:`${window.location.href}?isShare=1`,imgUrl:"",success(){console.log("f\u5206\u4EAB\u6210\u529F")}};S.ready(()=>{console.log("ready"),s==="1"?S.onMenuShareAppMessage(t):S.onMenuShareTimeline(t)})},le=()=>{De(w.toString()).then(({code:s,data:t,message:g})=>{s==="10000"&&(window.location.href=g)})};return(s,t)=>{const g=f("van-collapse-item"),D=f("van-collapse"),A=f("van-slider"),I=f("van-button"),ue=f("van-tab"),ie=f("van-tabs"),de=f("van-action-sheet"),ce=f("ProPageWrap");return l(),E(ce,null,{default:i(()=>{var $,K,T,H,G,W;return[e("div",Ve,[e("div",Re,u(($=a.value)==null?void 0:$.name)+"\u5148\u751F\u7684\u8BA1\u5212",1),e("div",xe,[e("div",Ie,[e("div",Pe,[e("div",Le,[e("img",{src:(K=a.value)==null?void 0:K.avatar,alt:""},null,8,Se)]),e("div",null,[e("p",we,u((T=a.value)==null?void 0:T.name),1),e("p",Ne,u(q[(H=a.value)==null?void 0:H.gender])+"\uFF0C"+u(R.value)+"\u5C81",1)])]),e("div",Oe,[Me,e("span",null,"\xA5"+u((G=a.value)==null?void 0:G.totalPremium),1)])]),Ue,e("div",$e,[v(Ee,{columns:Z,class:"table","data-source":N.value},null,8,["data-source"])])]),e("div",Ke,[(l(!0),h(B,null,F((W=a.value)==null?void 0:W.liabilityByRiskVOList,(o,c)=>(l(),h("div",{key:c},[e("div",Te,[e("div",He,[Ge,d(" "+u(o.riskName),1)]),We]),e("div",ze,[v(D,{modelValue:o.riskName1,"onUpdate:modelValue":_=>o.riskName1=_,accordion:"","is-link":!1,border:!1,size:"middle"},{default:i(()=>[(l(!0),h(B,null,F(o.proposalRiskLiabilityVOList,(_,m)=>(l(),E(g,{key:m,title:_.liabilityName,name:m,"value-class":"price",value:_.liabilityIndemnityContent},{default:i(()=>[d(u(_.liabilityDesc),1)]),_:2},1032,["title","name","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),je]))),128))]),e("div",Je,[Qe,v(ie,{active:P.value,"title-active-color":"#0D6EFE","title-inactive-color":"#393D46",shrink:"",scrollspy:"",onClickTab:ne},{default:i(()=>{var o;return[(l(!0),h(B,null,F((o=a.value)==null?void 0:o.benefitRiskResultVOList,(c,_)=>(l(),E(ue,{key:_,name:_,title:c.riskName},{default:i(()=>[e("div",Xe,[e("div",Ze,u(c==null?void 0:c.riskName),1),qe,C.value?(l(),h("div",Ye,[e("div",et,[e("p",tt,[st,at,e("span",null,u(k.value[k.value.length-2]),1),ot,e("span",null,u(k.value[k.value.length-1]),1),nt,lt]),e("div",ut,[(l(!0),h(B,null,F(c.benefitRiskItemResultVOList[0].headers,(m,z)=>(l(),h("div",{key:z,style:{width:"33%"}},[e("p",it,u(k.value[z]),1),e("p",dt,u(m)+"(\u5143\uFF09",1)]))),128))])]),e("div",ct,[e("div",{class:"add lf",onClick:oe},_t),e("div",vt,[b.value?(l(),E(A,{key:0,modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=m=>p.value=m),min:b.value,max:y.value,"bar-height":"8px",onChange:se},{button:i(()=>[e("div",ht,u(p.value)+" \u5C81",1)]),_:1},8,["modelValue","min","max"])):j("",!0)]),e("div",{class:"add rg",onClick:ae},mt)])])):(l(),h("div",ft,[v(ge,{min:b.value,max:y.value,data:c.benefitRiskItemResultVOList[0].benefitRiskItemList},null,8,["min","max","data"])])),gt,e("div",At,[v(I,{round:"",plain:!C.value,type:"primary",class:"btn",onClick:t[1]||(t[1]=m=>M("1"))},{default:i(()=>[kt]),_:1},8,["plain"]),v(I,{round:"",plain:C.value,type:"primary",class:"btn",onClick:t[2]||(t[2]=m=>M("2"))},{default:i(()=>[bt]),_:1},8,["plain"])])])]),_:2},1032,["name","title"]))),128))]}),_:1},8,["active"])]),e("div",yt,[Ct,v(D,{modelValue:O.value,"onUpdate:modelValue":t[3]||(t[3]=o=>O.value=o),accordion:"","is-link":!1,border:!1,size:"middle"},{default:i(()=>{var o;return[(l(!0),h(B,null,F((o=a.value)==null?void 0:o.insurerInfoVOList,(c,_)=>(l(),E(g,{key:_,name:"1","value-class":"price"},{title:i(()=>[e("div",null,[Dt,d(" "+u(c.insurerName),1)])]),default:i(()=>[d(" "+u(c.insurerDesc),1)]),_:2},1024))),128))]}),_:1},8,["modelValue"])]),v(de,{show:L.value,"onUpdate:show":t[6]||(t[6]=o=>L.value=o),"cancel-text":"\u53D6\u6D88","close-on-click-action":""},{default:i(()=>[e("div",Et,[e("div",{class:"bx",onClick:t[4]||(t[4]=o=>U("1"))},Vt),e("div",Rt,[e("div",{class:"friend",onClick:t[5]||(t[5]=o=>U("2"))},It),Pt])])]),_:1},8,["show"]),pe(X)?j("",!0):(l(),h("div",Lt,[v(I,{plain:"",type:"primary",class:"btn",onClick:le},{default:i(()=>[St]),_:1}),v(I,{type:"primary",class:"btn",onClick:t[7]||(t[7]=o=>L.value=!0)},{default:i(()=>[wt]),_:1})]))])]}),_:1})}}});var Ht=Fe(Nt,[["__scopeId","data-v-513b9502"]]);export{Ht as default};
