var j=Object.defineProperty,M=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var x=(t,e,a)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,g=(t,e)=>{for(var a in e||(e={}))w.call(e,a)&&x(t,a,e[a]);if(D)for(var a of D(e))z.call(e,a)&&x(t,a,e[a]);return t},E=(t,e)=>M(t,U(e));import{g as O,af as $,Q as G,C as A,L as Q,M as W,r as l,h,j as S,k as c,n as p,m as J,E as H,z as K,F as X,y as r,a1 as Y,a2 as Z,B as y,T as I,J as ee}from"./vendor-d47732e4.js";import{_ as te,j as P,P as ae}from"./index-9a4e2e25.js";import{l as oe}from"./inform-85719000.js";import{a as se,n as ne}from"./index-55893e40.js";import{s as ue}from"./useStorage-87d4d7f0.js";import{s as re}from"./verify-8b8eddef.js";const ie=t=>(Y("data-v-2ae7f184"),t=t(),Z(),t),le={class:"footer-btn"},ce={class:"inform-file"},pe=ie(()=>r("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),r("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),de={class:"footer-button"},_e=y("\u4E0B\u4E00\u6B65"),fe=O({setup(t){const e=$(),a=G(),{productCode:T="MMBBSF",agentCode:b="65434444",tenantId:B="9991000007",agencyCode:me="3311222",insurerCode:F="zhongan",productCategory:N="1",templateId:ge="1",orderNo:v="2022080217103534947"}=a.query,d=A(null),k=A(!1),q=()=>{var o;(o=d.value)==null||o.clear()},u=Q({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),R=()=>{se({orderNo:v,saleUserId:b,tenantId:B}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(u.pageData,s)})};W(()=>{R(),oe({insurerCode:T,orderNo:v,productCategory:N,tenantId:B,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(u.noticeList=s)})});const L=o=>{ue.set("questionData",o),e.push({path:"/healthNotice",query:{questionnaireType:o.questionnaireType}})},V=()=>{var _,f;if(!u.noticeList.every(i=>i.isDone===1)){I("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((_=d.value)==null?void 0:_.isEmpty()){I("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(f=d.value)==null?void 0:f.save();re("AGENT",s,v,B).then(i=>{i&&ne(E(g({},u.pageData),{extInfo:E(g({},u.pageData.extInfo),{templateId:"1",pageCode:"salesNotice"}),venderCode:F})).then((C,m)=>{C==="10000"&&m.pageAction.pageAction==="jumpToPage"&&e.push({path:ae[m.pageAction.data.nextPageCode],query:g({},a.query)})})})};return(o,s)=>{const _=l("van-cell"),f=l("ProSign"),i=l("van-checkbox"),C=l("van-button"),m=l("ProPageWrap");return h(),S(m,{class:"page-salesman-inform"},{default:c(()=>[p(P,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:c(()=>[(h(!0),J(X,null,H(K(u).noticeList,n=>(h(),S(_,{key:n.id,class:ee({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>L(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),p(P,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:c(()=>[r("div",{class:"resign",onClick:q},"\u91CD\u7B7E")]),default:c(()=>[p(f,{ref_key:"agentSignRef",ref:d,selector:"sign2"},null,512)]),_:1}),r("footer",le,[r("div",ce,[p(i,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=n=>k.value=n),shape:"square"},null,8,["modelValue"]),pe]),r("div",de,[p(C,{type:"primary",block:"",onClick:V},{default:c(()=>[_e]),_:1})])])]),_:1})}}});var xe=te(fe,[["__scopeId","data-v-2ae7f184"]]);export{xe as default};
