import{_ as e}from"./index-0ba4cb7d.js";import{k as a,p as t,s as l,t as s,y as n,u as o,r as i,O as r,o as d,B as u,S as c,v,C as p,E as m,M as h,H as f,G as b,I as y,N as w,b as g,$ as C,ag as k,J as x}from"./vendor-8df8a31f.js";import{a as _}from"./product-84612d36.js";import{P}from"./index-00883079.js";import{u as N}from"./theme-467ed2f7.js";import{o as I}from"./utils-d83d8c9b.js";var T=e(a({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(e){const a=e;return(e,o)=>{const i=t("van-image");return a.url?(l(),s(i,{key:0,width:"100%",class:"banner","lazy-load":"",src:a.url},null,8,["src"])):n("",!0)}}}),[["__scopeId","data-v-21e86b68"]]);const R={class:"pre-body"},j={class:"header"},B=["src"],S={class:"company-name"},D={class:"content"},O=b(" 为了更好地保护您的个人信息，请在使用前点击阅读、充分理解"),U=b("相关内容，我们对您使用过程中可能出现的个人信息收集、使用、共享和保护等情况进行了详细说明。 您已进入投保流程，请仔细阅读"),L=b("、投保须知、保险条款等信息，为维护您的合法权益，您的操作轨迹将被记录。 "),$={class:"footer"};var A=e(a({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,s=o(),{tenantId:n=""}=s.query,b=i(!1),y=i(!1),w=r({insureConfig:{insureName:"",tenantName:""}}),g=i({title:"",link:""}),C=(e,a)=>{var t;y.value=!y.value,g.value.link=null==(t=w.insureConfig)?void 0:t[a].link,g.value.title=e.target.innerText};return d((()=>{(async()=>{const{code:e,data:t}=await _({insureCode:a.productDetail.insurerCode,tenantId:n});"10000"===e&&(w.insureConfig=t),b.value=!0})()})),(e,a)=>{var s;const n=t("ProPopup"),o=t("ProFilePreview");return l(),u(f,null,[c(n,{class:"pre-notice-wrap","close-on-click-overlay":!1,show:b.value,closeable:!1,height:"395px"},{default:v((()=>[p("div",R,[p("div",j,[p("img",{src:m("/static/assets/logo.65e1895e.png")},null,8,B),p("div",S," 由"+h(m(w).insureConfig.tenantName)+"提供保险经纪服务，"+h(m(w).insureConfig.insureName)+"承保 ",1)]),p("div",D,[O,p("span",{onClick:a[0]||(a[0]=e=>C(e,"privacyAgreement"))},"《用户隐私协议》"),U,p("span",{onClick:a[1]||(a[1]=e=>C(e,"notification"))},"《客户告知书》"),L]),p("div",$,[c(P,{shadow:!1,text:"我知道了",onClick:a[2]||(a[2]=e=>b.value=!1)})])])])),_:1},8,["show"]),c(n,{show:y.value,"onUpdate:show":a[3]||(a[3]=e=>y.value=e),class:"pre-notice-wrap",title:null==(s=g.value)?void 0:s.title,position:"bottom",style:{height:"600px"}},{default:v((()=>{var e;return[c(o,{content:null==(e=g.value)?void 0:e.link,type:"link"},null,8,["content"])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-79a863b0"]]);const F=["onClick"];var H=e(a({props:{preText:{type:String,default:""},hasBgColor:{type:Boolean,default:!0},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup:(e,{emit:a})=>(t,s)=>(l(),u("div",{class:w({"com-attachment-list":!0,"has-bg":e.hasBgColor})},[p("span",null,h(e.preText),1),(l(!0),u(f,null,y(e.attachementList||[],((e,t)=>(l(),u("span",{key:t,class:"attachment-item",onClick:e=>(e=>{a("preview-file",e)})(t)}," 《"+h(e.attachmentName)+"》 ",9,F)))),128))],2))}),[["__scopeId","data-v-4c895668"]]);const E={key:0,class:"item"},M={key:1,class:"attachment-list"},V=["onClick"],q={class:"attachment-list-item-name"},z={class:"attachment-list-item-icon"},G={class:"footer"},J=a({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"同意，下一条"},forceReadCound:{type:Number,default:0},isOnlyView:{type:Boolean,default:!1}},emits:["update:show","submit","onCloseFilePreview"],setup(e,{emit:a}){const o=e,r=N(),d=i(o.show),b=i(o.contentList.map(((e,a)=>({...e,disabled:!0,readDisabled:!0})))),w=i(o.activeIndex),k=i(0),x=i(null),_=g((()=>{var e,a;return null==(a=null==(e=b.value)?void 0:e[w.value])?void 0:a.attachmentList})),T=g((()=>{var e;return null==(e=b.value[w.value])?void 0:e.readDisabled})),R=g((()=>!(w.value>=o.forceReadCound-1)&&(!(k.value>=o.forceReadCound)&&(k.value<o.forceReadCound&&w.value!==o.forceReadCound-1)))),j=()=>{w.value+=1},B=()=>{o.isOnlyView?a("update:show",!1):(a("update:show",!1),a("submit"))};C((()=>o),(()=>{d.value=o.show,w.value=o.activeIndex}),{deep:!0,immediate:!0});const S=e=>{e&&Math.floor(e.target.scrollHeight-e.target.scrollTop)===e.target.clientHeight&&b.value[w.value].readDisabled&&(b.value[w.value].disabled=!1,b.value[w.value].readDisabled=!1,b.value[w.value+1].disabled=!1,k.value+=1)};return C((()=>w.value),(()=>{o.show&&(k.value>=o.forceReadCound&&b.value.forEach((e=>{e.disabled=!1,e.readDisabled=!1})),x.value&&(x.value.scrollTop=0))}),{immediate:!0}),(i,g)=>{const C=t("ProTab"),k=t("ProFilePreview"),N=t("ProSvg"),D=t("van-config-provider"),O=t("ProPopup");return l(),s(O,{show:d.value,"onUpdate:show":g[1]||(g[1]=e=>d.value=e),class:"file-preview-popup-wrap",closeable:!1,onClose:g[2]||(g[2]=e=>a("onCloseFilePreview"))},{default:v((()=>[c(D,{"theme-vars":m(r),class:"custom-provider"},{default:v((()=>[d.value?(l(),s(C,{key:0,active:w.value,"onUpdate:active":g[0]||(g[0]=e=>w.value=e),list:b.value.map(((e,a)=>({title:e.attachmentName,disabled:a!=w.value&&(e.disabled||!1),slotName:`guarantee-${a}`}))),class:"tab"},null,8,["active","list"])):n("",!0),p("div",{ref_key:"previewRef",ref:x,class:"list",onScroll:S},[1===m(_).length?(l(),u("div",E,[(l(),s(k,{key:m(_)[0].attachmentName,content:m(_)[0].attachmentUri,type:m(_)[0].attachmentType,"forbid-click":!0},null,8,["content","type"]))])):(l(),u("div",M,[(l(!0),u(f,null,y(m(_),((e,a)=>(l(),u("div",{key:a,class:"attachment-list-item",onClick:a=>(e=>{const a={fileType:e.attachmentType,fileUri:e.attachmentUri};I(a)})(e)},[p("div",q,h(e.attachmentName),1),p("div",z,[c(N,{name:"arrow-right"})])],8,V)))),128))]))],544),p("div",G,[m(R)?(l(),s(P,{key:0,shadow:!1,"theme-vars":m(r),disabled:m(T),class:"right",text:`${e.beforeReadOverText}(${w.value+1}/${e.forceReadCound})`,onClick:j},null,8,["theme-vars","disabled","text"])):(l(),s(P,{key:1,disabled:m(T),shadow:!1,"theme-vars":m(r),text:o.text,onClick:B},null,8,["disabled","theme-vars","text"]))])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}});const K={class:"inscribedContent-content"},Q={class:"content"};var W=e(a({props:{inscribedContent:{type:String,default:""}},setup(e){const a=e,t=i();return C((()=>a.inscribedContent),(e=>{t.value=e?e.replaceAll("\n","<br />"):""}),{immediate:!0,deep:!0}),(e,a)=>{const s=k("dompurify-html");return l(),u("div",K,[x(p("div",Q,null,512),[[s,t.value]])])}}}),[["__scopeId","data-v-702b2de2"]]);export{H as A,T as B,W as I,A as P,J as _};
