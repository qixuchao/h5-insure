import{l as a,B as i,b as e,R as l}from"./index-65f73c33.js";import{d as u,r as s,z as t,aT as n,a1 as r,R as o,c as d,A as m,i as v,g,U as c,h as f,G as k}from"./index-23662367.js";function p(a){return Object.keys(a)}const V=u({name:"InsureInfos"});var D=k(u({...V,props:{originData:{default:()=>({})},modelValue:{default:()=>({})},defaultValue:{default:()=>({})},trialResult:{default:()=>({})}},emits:["trialChange"],setup(u,{expose:k,emit:V}){const D=u,C=s(null),I=s({}),y=s({}),R=t({personalInfo:{},basicsAmount:"",basicsPremium:"",defaultValues:D.defaultValue,changeData:null,sValues:I.value});n("premium"),y.value=n("enumList")||{},r((()=>{}));const h=a=>{D.originData.mainRiskFlag,I.value.riskCategory=D.originData.riskCategory,I.value.riskCode=D.originData.riskCode,I.value.riskId=D.originData.riskId,I.value.riskType=D.originData.riskType,I.value.riskName=D.originData.riskName,I.value.riskType=D.originData.riskType,I.value.mainRiskCode=D.originData.mainRiskCode,I.value.mainRiskId=D.originData.mainRiskId,a?V("trialChange",I.value,a):V("trialChange",I.value)},b=(a,i)=>{i?I.value[i.key]=i.newValue:p(a).forEach((i=>{I.value[i]=a[i]})),h(i)},O=a=>{var i,e;1==+(null==(e=null==(i=D.originData)?void 0:i.productRiskInsureLimitVO)?void 0:e.amountPremiumConfigVO.saleMethod)?R.basicsAmount=null==a?void 0:a.initialAmount:R.basicsAmount=null==a?void 0:a.initialPremium,p(a).forEach((i=>{I.value[i]=a[i]})),h()},P=a=>{I.value.liabilityList=a,h()};return o((()=>D.defaultValue),(i=>{i&&(console.log("--default change ",i),R.defaultValues=a.exports.cloneDeep(i),I.value={...i})}),{deep:!0,immediate:!0}),o((()=>I.value),(a=>{R.sValues=a}),{deep:!0,immediate:!0}),k({validate:async()=>{var a;await(null==(a=C.value)?void 0:a.validate())}}),(a,s)=>{var t,n,r,o,k,p;return 1===(null==(t=u.originData)?void 0:t.factorDisPlayFlag)?(d(),m(c,{key:0},[v(g(i),{"v-model":g(R).sValues,"origin-data":null==(r=null==(n=u.originData)?void 0:n.productRiskInsureLimitVO)?void 0:r.amountPremiumConfigVO,"defalut-value":g(R).defaultValues,"trial-result":u.trialResult,onTrialChange:O},null,8,["v-model","origin-data","defalut-value","trial-result"]),v(g(e),{"v-model":g(R).sValues,"use-data":g(R).sValues,"origin-data":u.originData.productRiskInsureLimitVO,"risk-info":u.originData,"default-value":g(R).defaultValues,onTrialChange:b},null,8,["v-model","use-data","origin-data","risk-info","default-value"]),v(g(l),{"data-source-folmulate":g(I),"data-source":u.originData,params:{amountUnit:null==(k=null==(o=u.originData)?void 0:o.productRiskInsureLimitVO)?void 0:k.amountPremiumConfigVO.displayUnit,basicsAmount:g(R).basicsAmount,basicsPremium:g(R).basicsPremium,riskId:null==(p=u.originData)?void 0:p.riskId},"default-value":g(R).defaultValues,onTrialChange:P},null,8,["data-source-folmulate","data-source","params","default-value"])],64)):f("",!0)}}}),[["__scopeId","data-v-319cc05c"]]);export{D as I};
