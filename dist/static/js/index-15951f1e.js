import{g as B,Q as z,C as U,L as J,v as Z,ag as ee,r as i,h as t,j as d,k as s,n as m,m as x,E as O,y as $,I as W,z as a,a6 as R,F as M,s as P,ah as te,B as D,ak as ne,G as oe,x as q,M as Y,af as ue}from"./vendor-ee04cf44.js";import{_ as F,h as se,j as re}from"./index-3a735287.js";import{w as ae,n as ie}from"./pdf.worker.entry-ad9ffe3b.js";import{p as G}from"./pdf_viewer-0ca62f69.js";import{g as le,s as ce}from"./inform-4a157b48.js";import{s as de}from"./useStorage-cc16e2fb.js";const pe={class:"problem"},_e={class:"footer-button"},me=D("\u63D0\u4EA4"),ve=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S,y=z(),n=U([]),{questionnaireType:p}=y.query,E={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},Q=J({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:f,checked:r,modelValue:k,inputValue:o}=Z(Q),I=_=>{console.log(n.value[_].toggle),n.value[_].toggle()},b=_=>_?JSON.parse(_).map(e=>({title:e.value,value:e.uid})):[],T=()=>{v("onSubmitCurrentStatus",1)};return ee(()=>{n.value=[]}),(_,e)=>{const u=i("van-radio"),h=i("van-cell"),g=i("van-cell-group"),C=i("van-radio-group"),w=i("van-checkbox"),N=i("van-checkbox-group"),H=i("van-field"),K=i("van-button"),X=i("ProPageWrap");return t(),d(X,{class:"com-quersion"},{default:s(()=>[m(re,{title:`${E[a(p)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:s(()=>[(t(!0),x(M,null,O(l.currentPageInfo,(V,L)=>(t(),x("div",{key:L,class:"question-item"},[$("div",pe,W(L+1)+". "+W(V.title),1),V.questionType===1?(t(),d(C,{key:0,modelValue:a(f),"onUpdate:modelValue":e[0]||(e[0]=c=>R(f)?f.value=c:null)},{default:s(()=>[m(g,{inset:""},{default:s(()=>[(t(!0),x(M,null,O(b(V.options),(c,A)=>(t(),d(h,{key:A,title:c.title,clickable:"",onClick:j=>f.value=c.value},{"right-icon":s(()=>[m(u,{name:c.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):P("",!0),V.questionType===2?(t(),d(N,{key:1,modelValue:a(r),"onUpdate:modelValue":e[2]||(e[2]=c=>R(r)?r.value=c:null)},{default:s(()=>[m(g,{inset:""},{default:s(()=>[(t(!0),x(M,null,O(b(V.options),(c,A)=>(t(),d(h,{key:c.uid,clickable:"",title:c.title,onClick:j=>I(A)},{"right-icon":s(()=>[m(w,{ref_for:!0,ref:j=>n.value[A]=j,shape:"square",name:c.value,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):P("",!0),V.questionType===3?(t(),d(se,{key:2,"model-value":a(k),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):P("",!0),V.questionType===4?(t(),d(g,{key:3,inset:""},{default:s(()=>[m(H,{modelValue:a(o),"onUpdate:modelValue":e[3]||(e[3]=c=>R(o)?o.value=c:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):P("",!0)]))),128))]),_:1},8,["title"]),$("div",_e,[m(K,{type:"primary",block:"",onClick:T},{default:s(()=>[me]),_:1})])]),_:1})}}});var fe=F(ve,[["__scopeId","data-v-1b2662a1"]]);const ge={class:"title"},ye={class:"content"},ke={class:"footer-button"},be=D("\u4E86\u89E3\u5E76\u7EE7\u7EED"),he=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;return(y,n)=>{const p=i("van-button"),E=i("ProPageWrap"),Q=ne("dompurify-html");return t(),d(E,{class:"com-document"},{default:s(()=>{var f,r;return[$("div",ge,W((f=l.currentPageInfo[0])==null?void 0:f.title),1),oe($("div",ye,null,512),[[Q,(r=l.currentPageInfo[0])==null?void 0:r.content]]),$("div",ke,[m(p,{type:"primary",onClick:n[0]||(n[0]=k=>v("onSubmitCurrentStatus",1))},{default:s(()=>[be]),_:1})])]}),_:1})}}});var Ce=F(he,[["__scopeId","data-v-27a7d770"]]);const Se={class:"com-pdf-viewer"},Ee=["id","isee_pdf"],Ie={class:"footer-button"},xe=D("\u90E8\u5206\u4E3A\u662F"),Pe=D("\u4EE5\u4E0A\u7686\u5426"),$e=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;G.exports.GlobalWorkerOptions.workerSrc=ae;const y=ie(),n=U(!1),p=U(!0),E=q(()=>["png","jpg","jpeg"].some(r=>l.url.includes(r))),Q=()=>{const r=document.getElementById(y);if(r.hasChildNodes()){p.value=!1;return}G.exports.getDocument({url:l.url}).promise.then(o=>{const I=o.numPages;for(let b=1;b<=I;b++)o.getPage(b).then(T=>{const _=T.getViewport({scale:1}),e=document.createElement("canvas"),u=e.getContext("2d");e.width=_.width,e.height=_.height,e.style.width="100%",r.append(e);const h={canvasContext:u,viewport:_};T.render(h),p.value=!1})})},f=async()=>{n.value=!0,setTimeout(()=>{Q()},0)};return Y(()=>{f()}),(r,k)=>{const o=i("van-image"),I=i("van-button");return t(),x("div",Se,[a(E)?(t(),d(o,{key:0,width:"100%",height:"80vh",fit:"contain",src:l.url},null,8,["src"])):(t(),x("div",{key:1,id:a(y),isee_pdf:r.pdfUrl,class:"pdf-wapper"},null,8,Ee)),$("div",Ie,[m(I,{plain:"",type:"primary",onClick:k[0]||(k[0]=b=>v("onSubmitCurrentStatus",2))},{default:s(()=>[xe]),_:1}),m(I,{type:"primary",onClick:k[1]||(k[1]=b=>v("onSubmitCurrentStatus",1))},{default:s(()=>[Pe]),_:1})])])}}});var Ve=F($e,[["__scopeId","data-v-4c70488e"]]);const Qe={class:"iframe-wrap"},Te=["src"],we={class:"footer-button"},De=D("\u90E8\u5206\u4E3A\u662F"),qe=D("\u4EE5\u4E0A\u7686\u5426"),Be=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;return(y,n)=>{const p=i("van-button");return t(),x("div",Qe,[$("iframe",{src:l.url,frameborder:"0"},null,8,Te),$("div",we,[m(p,{plain:"",type:"primary",onClick:n[0]||(n[0]=E=>v("onSubmitCurrentStatus",2))},{default:s(()=>[De]),_:1}),m(p,{type:"primary",onClick:n[1]||(n[1]=E=>v("onSubmitCurrentStatus",1))},{default:s(()=>[qe]),_:1})])])}}});var Ne=F(Be,[["__scopeId","data-v-1ac7e729"]]);const Ae={class:"com-health-notice"},We=B({setup(S){const v=ue(),l=z(),y=de.get("questionData"),{questionnaireType:n}=l.query,{orderNo:p="2022021815432987130620",productCode:E="CQ75CQ76",templateId:Q=1,orderId:f=13005,tenantId:r=9991000007}=l.query,k={1:4,2:5,3:9},o=J({pageData:{},currentQuestionInfo:[]}),I=q(()=>n==="2"),b=q(()=>{var u;return n==="1"&&[1].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),T=q(()=>{var u;return n==="1"&&[2].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),_=q(()=>{var u;return n==="1"&&[3].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),e=u=>{var C;const{id:h,objectType:g}=y;ce({content:(C=o.currentQuestionInfo[0])==null?void 0:C.content,contentType:n,isDone:u,noticeType:k[g],objectId:h,objectType:g,orderId:f,orderNo:p,tenantId:9991000007}).then(({code:w,data:N})=>{console.log(w),w==="10000"&&v.go(-1)})};return Y(()=>{console.log(y);const{insurerCode:u,id:h,objectType:g,productCategory:C}=y;le({insurerCode:u,id:h,objectType:g,productCategory:C,orderNo:p,tenantId:r}).then(({code:w,data:N})=>{w==="10000"&&(o.currentQuestionInfo=N)})}),(u,h)=>{var g,C;return t(),x("div",Ae,[a(I)?(t(),d(fe,{key:0,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):P("",!0),a(T)?(t(),d(Ce,{key:1,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):P("",!0),a(b)?(t(),d(Ve,{key:2,url:(g=a(o).currentQuestionInfo[0])==null?void 0:g.content,onOnSubmitCurrentStatus:e},null,8,["url"])):P("",!0),a(_)?(t(),d(Ne,{key:3,url:(C=a(o).currentQuestionInfo[0])==null?void 0:C.content,onOnSubmitCurrentStatus:e},null,8,["url"])):P("",!0)])}}});export{We as default};
