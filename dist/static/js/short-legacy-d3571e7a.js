!function(){var e=document.createElement("style");e.innerHTML='.guarantee-list[data-v-5e998d80]{background:#ffffff;padding:.66667rem .53333rem 0px}.guarantee-list .header[data-v-5e998d80]{display:flex;justify-content:space-between;align-items:center}.guarantee-list .header span[data-v-5e998d80]{display:inline-block;color:#333}.guarantee-list .header span[data-v-5e998d80]:first-child{height:.74667rem;line-height:.74667rem;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500}.guarantee-list .header span[data-v-5e998d80]:last-child{height:.49333rem;font-size:.34667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#006afc;line-height:.49333rem}.guarantee-list .feerate-view[data-v-5e998d80]{padding:.42667rem 0px;border-top:1px solid #eeeeee;display:flex;justify-content:space-between}.guarantee-list .feerate-view span[data-v-5e998d80]{display:inline-block;height:.53333rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666;line-height:.53333rem}.guarantee-list .feerate-view span[data-v-5e998d80]:last-child{color:var(--van-primary-color, var(--zaui-brand))}.guarantee-list .show-more[data-v-5e998d80]{padding:.21333rem 0 .42667rem;width:100%;display:flex;justify-content:center;align-items:center;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999}.guarantee-list .show-more .icon[data-v-5e998d80]{margin-left:.13333rem;font-size:.26667rem;transition:transform .5s}.guarantee-list .show-more .icon.showMore[data-v-5e998d80]{transform:rotate(180deg)}.guarantee-list .service-config img[data-v-5e998d80]{width:100%}.guarantee-popup .body[data-v-5e998d80]{display:flex;flex-direction:column}.guarantee-popup .body .guarantee-detail[data-v-5e998d80]{flex:1;height:0}.guarantee-popup .body .guarantee-detail .plan-list[data-v-5e998d80]{padding:.53333rem .53333rem 0px}.guarantee-popup .body .guarantee-detail .guarantee-item[data-v-5e998d80]{margin-top:.53333rem;padding:0 .53333rem}.guarantee-popup .body .guarantee-detail .guarantee-item[data-v-5e998d80] .right-part{color:#f60!important}.guarantee-popup .body .guarantee-detail .guarantee-item .content[data-v-5e998d80]{margin-top:.18667rem;font-size:.34667rem;color:#393d46;line-height:.58667rem;padding-bottom:.53333rem;border-bottom:1px solid #eeeef4}.guarantee-popup .body .extinfo-info-list[data-v-5e998d80]{padding:.21333rem .53333rem}.plan-list[data-v-5e998d80]{display:flex;width:100%;overflow-x:auto;overflow-y:hidden;padding:.4rem 0px}.plan-list[data-v-5e998d80]::-webkit-scrollbar{display:none}.plan-list .plan-list-item[data-v-5e998d80]{min-width:2.8rem;height:1.01333rem;line-height:1.01333rem;text-align:center;border-radius:.10667rem;background:#f6f6f6;margin-right:.26667rem}.plan-list .plan-list-item[data-v-5e998d80]:last-child{margin-right:0}.plan-list .plan-list-item span[data-v-5e998d80]{font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666}.plan-list .plan-list-item-active[data-v-5e998d80]{border:1px solid #ff6600;background:#fff3eb}.plan-list .plan-list-item-active span[data-v-5e998d80]{color:#f60}.picture-payment-content[data-v-5e998d80]{padding:0px .53333rem .42667rem;display:flex;flex-wrap:wrap;justify-content:space-between}.picture-payment-content .picture-payment-item[data-v-5e998d80]{width:calc(50% - .21333rem);margin-top:.42667rem}.picture-payment-content .picture-payment-item img[data-v-5e998d80]{width:100%}.com-custom-card[data-v-059c21ee]{background:#ffffff;padding:.53333rem .53333rem .13333rem}.com-custom-card .title[data-v-059c21ee]{margin:0 auto .53333rem;text-align:center;height:.74667rem;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.74667rem}.com-question-item[data-v-0d7ea124] .van-cell{align-items:center;padding-left:0;padding-right:0}.com-question-item[data-v-0d7ea124] .van-cell--clickable:active{background:#ffffff}.com-question-item[data-v-0d7ea124] .van-collapse-item__title{font-size:.4rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.com-question-item[data-v-0d7ea124] .van-collapse-item__content{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999;line-height:.49333rem}.com-question-item .question[data-v-0d7ea124]{display:flex;align-items:center}.com-question-item .question .svg-icon[data-v-0d7ea124]{width:.42667rem;height:.42667rem;font-size:.42667rem;fill:var(--van-primary-color)}.com-question-item .question .title[data-v-0d7ea124]{flex:1;margin-left:.4rem;font-size:.37333rem;font-weight:500;color:#393d46}.com-question-item .question .arrow-icon[data-v-0d7ea124]{margin-top:.10667rem;margin-left:.4rem;color:#c1ccdd;transition:transform .5s;font-size:.34667rem;line-height:.53333rem}.com-question-item .question .arrow-icon.show[data-v-0d7ea124]{transform:rotate(180deg)}.com-question-item .answer[data-v-0d7ea124]{padding-left:.8rem;padding-top:.10667rem;font-size:.34667rem;color:#99a9c0;line-height:.50667rem;transition:height .5s;overflow:hidden}.com-question[data-v-1b7e97e9]{margin-top:-.09333rem}.com-question .show-more[data-v-1b7e97e9]{padding:.4rem 0;width:100%;display:flex;justify-content:center;align-items:center;font-size:.34667rem;color:#aab9d0}.com-question .show-more .icon[data-v-1b7e97e9]{margin-left:.13333rem;font-size:.26667rem;transition:transform .5s}.com-question .show-more .icon.showMore[data-v-1b7e97e9]{transform:rotate(180deg)}.tabs[data-v-4383aeea] .tab-title{font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500}.tabs[data-v-4383aeea] .active:after{width:.64rem!important;height:.08rem!important;border-radius:.05333rem!important}.spec img[data-v-4383aeea]{width:100%;display:block}.sub-title[data-v-4383aeea]{font-size:.34667rem;font-weight:400;color:#99a9c0;line-height:.50667rem;margin-bottom:.13333rem}.tab-1-content[data-v-4383aeea]{font-size:.34667rem;font-weight:400;color:#393d46;line-height:.50667rem;margin-top:.33333rem;margin-bottom:.53333rem}[data-v-4383aeea] .com-time-line .item .left .num{background:var(--van-primary-background-color);border:1px solid var(--van-primary-color)}[data-v-4383aeea] .com-time-line .item .left .num:after{border-left:1px dashed var(--van-primary-background-color);border-right:1px dashed var(--van-primary-background-color)}.page-waiting[data-v-ead4d7ae]{position:fixed;left:0;right:0;top:0;bottom:0;background:#ffffff;z-index:999;padding:.66667rem 1.2rem}.page-waiting .loading[data-v-ead4d7ae]{width:100%}.page-waiting .tips[data-v-ead4d7ae]{font-size:.64rem;font-weight:500;color:var(--zaui-text, #393d46);line-height:.90667rem;text-align:center}.com-payment-type[data-v-c0f1fa00]{width:100%;background:white;padding-top:.53333rem}.com-payment-type .custom-cell[data-v-c0f1fa00]{width:100%;padding:0px .53333rem .42667rem}.com-payment-type .cell-label[data-v-c0f1fa00]{min-width:1.6rem;height:.8rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.8rem;margin-right:.73333rem}.com-payment-type .check-btn-cell[data-v-c0f1fa00]{display:flex}.com-payment-type .check-btn-cell .cell-label[data-v-c0f1fa00]{margin-top:.06667rem}.com-payment-type .check-btn-cell .cell-content[data-v-c0f1fa00] .radio-btn{justify-content:flex-start}.com-payment-type .check-btn-cell .cell-content[data-v-c0f1fa00] .btn-wrapper:nth-child(3n+1){margin-left:0!important}.com-payment-type .common-cell[data-v-c0f1fa00]{display:flex;justify-content:flex-start}.com-payment-type .common-cell .cell-label[data-v-c0f1fa00]{height:.56rem;line-height:.56rem}.com-payment-type .common-cell .cell-content[data-v-c0f1fa00]{height:.56rem;line-height:.56rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333}.com-payment-type[data-v-a110c0f6]{width:100%;background:white;padding-top:.53333rem}.com-payment-type .title[data-v-a110c0f6]{margin-bottom:.42667rem;height:.6rem;font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.6rem;display:flex;align-items:center}.com-payment-type .title[data-v-a110c0f6]:before{display:inline-block;content:" ";width:.08rem;height:.4rem;background:var(--van-primary-color);border-radius:0px .05333rem .05333rem 0px;margin-right:.45333rem}.com-payment-type .cell-label[data-v-a110c0f6]{min-width:1.6rem;height:.8rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.8rem;margin-right:.73333rem}.com-payment-type .custom-cell[data-v-a110c0f6]{width:100%;padding:0px .53333rem .42667rem}.com-payment-type .check-btn-cell[data-v-a110c0f6]{display:flex}.com-payment-type .check-btn-cell .cell-label[data-v-a110c0f6]{margin-top:.06667rem}.com-payment-type .check-btn-cell .cell-content[data-v-a110c0f6] .radio-btn{justify-content:flex-start}.com-payment-type .check-btn-cell .cell-content[data-v-a110c0f6] .btn-wrapper:nth-child(3n+1){margin-left:0!important}.com-payment-type .default-payment-content[data-v-a110c0f6]{padding:.6rem .53333rem .42667rem;display:flex;justify-content:space-between;text-align:center;align-items:center}.com-payment-type .default-payment-content .com-payment-type-item[data-v-a110c0f6]{width:4.25333rem;height:1.46667rem;line-height:1.46667rem;background:#f6f6f6;border-radius:.73333rem;padding:.21333rem 0px;position:relative}.com-payment-type .default-payment-content .com-payment-type-item .triangle[data-v-a110c0f6]{position:absolute;width:0px;height:0px;top:-.42667rem;left:1.06667rem;border:.24rem solid transparent;border-top:.24rem solid var(--van-primary-color)}.com-payment-type .default-payment-content .com-payment-type-item .tip[data-v-a110c0f6]{position:absolute;top:-.88rem;left:.62667rem;width:3.73333rem;height:.56rem;background:var(--van-primary-color);border-radius:.58667rem;display:flex;color:#fff!important;justify-content:space-between;vertical-align:center;padding:.06667rem .26667rem}.com-payment-type .default-payment-content .com-payment-type-item .tip span[data-v-a110c0f6]{display:inline-block;height:.44rem;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;line-height:.44rem}.com-payment-type .default-payment-content .com-payment-type-item .tip span[data-v-a110c0f6]:first-child{width:2.56rem}.com-payment-type .default-payment-content .com-payment-type-item .tip span[data-v-a110c0f6]:last-child{width:.53333rem;font-size:.37333rem;font-weight:500;margin-top:1px}.com-payment-type .default-payment-content .com-payment-type-item .pay-method .method[data-v-a110c0f6],.com-payment-type .default-payment-content .com-payment-type-item .pay-method .acount[data-v-a110c0f6]{display:block;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666}.com-payment-type .default-payment-content .com-payment-type-item .pay-method .method[data-v-a110c0f6]{font-size:.4rem;line-height:.56rem}.com-payment-type .default-payment-content .com-payment-type-item .pay-method .acount[data-v-a110c0f6]{font-size:.32rem;line-height:.44rem}.com-payment-type .default-payment-content .active[data-v-a110c0f6]{background:#fff3eb;border:1px solid #ff6600}.com-payment-type .default-payment-content .active .method[data-v-a110c0f6],.com-payment-type .default-payment-content .active .acount[data-v-a110c0f6]{color:#f60!important}.com-payment-type .picture-payment-content[data-v-a110c0f6]{padding:0px .53333rem .42667rem;display:flex;flex-wrap:wrap;justify-content:space-between}.com-payment-type .picture-payment-content .picture-payment-item[data-v-a110c0f6]{width:calc(50% - .21333rem);margin-top:.42667rem}.com-payment-type .picture-payment-content .picture-payment-item img[data-v-a110c0f6]{width:100%}.com-payment-type .common-cell[data-v-a110c0f6]{display:flex;justify-content:flex-start}.com-payment-type .common-cell .cell-label[data-v-a110c0f6]{height:.56rem;line-height:.56rem}.com-payment-type .common-cell .cell-content[data-v-a110c0f6]{height:.56rem;line-height:.56rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333}.com-payment-type .active[data-v-a110c0f6]{background:var(--van-checkbox-checked-bg-color)!important;border:1px solid var(--van-primary-color)}.com-payment-type .active span[data-v-a110c0f6]{color:var(--van-primary-color)!important}.com-payment-type .active .tip span[data-v-a110c0f6]{color:#fff!important}.com-payment-type .actual-premium[data-v-a110c0f6]{font-size:.4rem!important;font-family:PingFangSC-Medium,PingFang SC!important;font-weight:500!important;color:var(--van-primary-color)!important}.com-payment-type .feerate-explain[data-v-a110c0f6]{padding:0px .53333rem .66667rem}.com-payment-type .feerate-explain .content[data-v-a110c0f6]{background:#f6f6f6;position:relative;padding:.21333rem .32rem;border-radius:.10667rem}.com-payment-type .feerate-explain .content .triangle-top[data-v-a110c0f6]{position:absolute;width:0px;height:0px;top:-.4rem;left:.66667rem;border:.24rem solid transparent;border-bottom:.24rem solid #f6f6f6}.com-payment-type .feerate-explain .content span[data-v-a110c0f6]{font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#888;line-height:.50667rem}.com-payment-type .feerate-explain .content .file-name[data-v-a110c0f6]{color:#006afc}.inscribedContent-content[data-v-702b2de2]{background:#f4f4f4;padding:.66667rem .53333rem;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#b7bec4;line-height:.50667rem;text-align:center}.com-attachment-list[data-v-17da129e]{width:100%;padding:.21333rem .52rem .33333rem;background:#fff8f3}.com-attachment-list span[data-v-17da129e]{font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666;line-height:.48rem}.com-attachment-list .attachment-item[data-v-17da129e]{color:#006afc}.page-internet-product-detail[data-v-6e0d1097]{padding-bottom:2rem;background:#f1f5fc}.page-internet-product-detail .footer-area[data-v-6e0d1097]{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.page-internet-product-detail .price[data-v-6e0d1097]{color:#393d46;font-size:.45333rem;font-weight:400}.page-internet-product-detail .price span[data-v-6e0d1097]{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .right[data-v-6e0d1097]{width:4.26667rem;height:1.17333rem;border-radius:.58667rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-7a787c2a.js","./index-legacy-6fcb4608.js","./infoCollection-legacy-e082f9f0.js","./trial-legacy-c52e4031.js","./product-legacy-d17d076a.js","./utils-legacy-5620ffe6.js","./theme-legacy-83ec434c.js","./index-legacy-230a9cb4.js","./index-legacy-0ff6c09a.js","./loading-legacy-62d8052a.js","./index-legacy-2d3a6bdf.js","./useDicData-legacy-4c3dda3b.js","./index-legacy-56e2d23b.js","./index-legacy-9aa1b079.js","./useStorage-legacy-14ea4028.js","./trial-legacy-6d714af9.js","./check-detail-legacy-537607dd.js","./relativeTime-legacy-1661dccd.js"],(function(e){"use strict";var t,a,n,i,l,o,r,c,s,d,m,u,p,f,v,g,y,h,b,P,w,I,C,k,O,x,V,S,F,L,D,q,_,N,T,R,M,j,z,E,U,A,Y,B,$,H,G,K,W,J,X,Z,Q,ee,te,ae,ne,ie,le,oe,re,ce,se,de,me,ue,pe,fe,ve;return{setters:[function(e){t=e.d,a=e.h,n=e.r,i=e.$,l=e.A,o=e.R,r=e.k,c=e.ag,s=e.m,d=e.s,m=e.B,u=e.F,p=e.C,f=e.H,v=e.M,g=e.L,y=e.x,h=e.n,b=e.G,P=e.t,w=e.p,I=e.I,C=e.a5,k=e.a6,O=e.Z,x=e._,V=e.N,S=e.U,F=e.T,L=e.aa,D=e.P,q=e.l,_=e.j,N=e.D},function(e){T=e._,R=e.e,M=e.i,j=e.a7,z=e.C,E=e.I,U=e.K,A=e.a1},function(e){Y=e.C,B=e.k,$=e.l,H=e.m,G=e.S,K=e.R,W=e.g},function(e){J=e.p,X=e.i,Z=e.n},function(e){Q=e.p},function(e){ee=e.o,te=e.g,ae=e.a,ne=e.v,ie=e.r,le=e.t},function(e){oe=e.t,re=e.u},function(e){ce=e.B},function(e){se=e.P},function(e){de=e.L},function(e){me=e._,ue=e.a},function(e){pe=e.u},function(e){fe=e.P},function(e){ve=e._},function(){},function(){},function(){},function(){}],execute:function(){const ge=(e,a="YYYY-MM-DD")=>t(e).format(a),ye=(e,a=0,n="day",i="YYYY-MM-DD")=>t(e).add(a,n).format(i);const he={class:"guarantee-list"},be=(e=>(C("data-v-5e998d80"),e=e(),k(),e))((()=>m("span",null,"保障计划",-1))),Pe={key:0,class:"picture-payment-content"},we=["onClick"],Ie=["src"],Ce=["src"],ke={key:1,class:"plan-list"},Oe=["onClick"],xe={key:2,class:"feerate-view"},Ve={class:"guarantee-detail"},Se={key:0,class:"plan-list"},Fe=["onClick"],Le={key:1},De={class:"extinfo-info-list"},qe={class:"content"},_e=a({props:{dataSource:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:5},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(e,{emit:t}){const a=e,C=n(a.dataSource?.planList),k=n(a.activePlanCode);i((()=>a.dataSource),(()=>{a.isMultiplePlan&&(C.value=a.dataSource?.planList)}),{immediate:!0});const O=n([]),x=n([]),V=n(),S=l((()=>a.isMultiplePlan?a.dataSource.planList.map((e=>({...e.planPicList,planCode:e.planCode,planName:e.planName}))):[]));i([()=>a.dataSource,()=>a.activePlanCode],(()=>{if(k.value=a.activePlanCode,a.isMultiplePlan){if(C.value&&C.value.length>0){let e=0;const t=C.value.findIndex((e=>e.planCode===k.value));t>-1&&(e=t),O.value=C.value[e].guaranteeItemVOS,x.value=C.value[e].extInfoVOList,V.value=C.value[e]?.productPremiumVOList[0]}}else O.value=a.dataSource?.planInsureVO.guaranteeItemVOS,x.value=a.dataSource?.planInsureVO.extInfoVOList,V.value=a.dataSource?.planInsureVO.productPremiumVOList[0]}),{immediate:!0,deep:!0});const F=l((()=>a.dataSource?.rateUri||"")),L=l((()=>!!(V.value&&V.value.paymentFrequencyValue&&V.value.premiumUnit&&F))),[D,q]=o(!1),_=l((()=>!(!O.value||!O.value?.length)&&(O.value.length>a.count&&(!!a.isShowClose||!D.value)))),N=()=>{q()},T=l((()=>O.value&&O.value?.length?O.value.length<=a.count||D.value?O.value:O.value.slice(0,a.count):[])),j=e=>{k.value=e,t("update-active-plan",e)},z=n(!1),E=()=>{z.value=!0},U=()=>{ee({fileType:"pdf",feeFileUri:F.value})};return(t,a)=>{const n=r("ProCell"),i=r("ProPopup"),l=c("dompurify-html");return s(),d(u,null,[m("div",he,[m("div",{class:"header"},[be,m("span",{onClick:E},"查看详情")]),e.isMultiplePlan?(s(),d(u,{key:0},[p(S).length>0?(s(),d("div",Pe,[(s(!0),d(u,null,f(p(S),(e=>(s(),d("div",{key:e.planCode,class:v("picture-payment-item"),onClick:t=>j(e.planCode)},[k.value==e.planCode?(s(),d("img",{key:0,src:e.selectedPic},null,8,Ie)):(s(),d("img",{key:1,src:e.unSelectedPic},null,8,Ce))],8,we)))),128))])):(s(),d("div",ke,[(s(!0),d(u,null,f(C.value,((e,t)=>(s(),d("div",{key:`${e.planCode}_${t}`,class:v("plan-list-item "+(e.planCode===k.value?"plan-list-item-active":"")),onClick:t=>j(e.planCode)},[m("span",null,g(e.planName),1)],10,Oe)))),128))]))],64)):y("",!0),(s(!0),d(u,null,f(p(T),((e,t)=>(s(),h(n,{key:t,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128)),p(_)?(s(),d("div",{key:1,class:"show-more",onClick:N},[b(g(p(D)?"收起":"查看更多")+" ",1),P(R,{name:"down",class:v(["icon",{showMore:p(D)}])},null,8,["class"])])):y("",!0),p(L)?(s(),d("div",xe,[m("span",null,g(`${V.value?.paymentFrequencyValue||""}${V.value?.premiumUnit||""}`),1),p(F)?(s(),d("span",{key:0,onClick:U},"查看保费")):y("",!0)])):y("",!0)]),P(M),P(i,{show:z.value,"onUpdate:show":a[0]||(a[0]=e=>z.value=e),title:"保障详情",class:"guarantee-popup"},{default:w((()=>[m("div",Ve,[e.isMultiplePlan?(s(),d("div",Se,[(s(!0),d(u,null,f(C.value,((e,t)=>(s(),d("div",{key:`${e.planCode}_${t}`,class:v("plan-list-item "+(e.planCode===k.value?"plan-list-item-active":"")),onClick:t=>j(e.planCode)},[m("span",null,g(e.planName),1)],10,Fe)))),128))])):y("",!0),x.value&&x.value.length>0?(s(),d("div",Le,[m("div",De,[(s(!0),d(u,null,f(x.value,((e,t)=>(s(),h(n,{key:t,title:e.name,content:e.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),P(M)])):y("",!0),(s(!0),d(u,null,f(O.value,((e,t)=>(s(),d("div",{key:t,class:"guarantee-item"},[P(n,{title:e.title,content:e.desc,border:!1,size:"small"},null,8,["title","content"]),I(m("div",qe,null,512),[[l,e.content]])])))),128))])])),_:1},8,["show"])],64)}}});var Ne=T(_e,[["__scopeId","data-v-5e998d80"]]);const Te={class:"com-custom-card"},Re={class:"title"};var Me=T(a({props:{title:{type:String,required:!0}},setup:e=>(t,a)=>(s(),d("div",Te,[m("div",Re,g(e.title),1),m("div",null,[O(t.$slots,"default",{},void 0,!0)])]))}),[["__scopeId","data-v-059c21ee"]]);const je={class:"question"},ze={class:"title"};var Ee=T(a({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup:e=>(t,a)=>{const n=r("ProSvg"),i=r("van-collapse-item");return s(),h(i,{name:e.name,class:"com-question-item"},{title:w((()=>[m("div",je,[P(n,{name:"question"}),m("div",ze,g(e.question),1)])])),default:w((()=>[b(" "+g(e.answer),1)])),_:1},8,["name"])}}),[["__scopeId","data-v-0d7ea124"]]);const Ue={class:"com-question"};var Ae=T(a({props:{list:{type:Array,default:()=>[]}},setup(e){const t=e,[a,i]=o(!1),c=n([]),m=()=>{i()},I=l((()=>t.list.length<=4||a.value?t.list:t.list.slice(0,4)));return(t,n)=>{const i=r("van-collapse");return s(),d("div",Ue,[P(i,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e)},{default:w((()=>[(s(!0),d(u,null,f(p(I),((e,t)=>(s(),h(Ee,{key:t,name:t.toString(),question:e.title,answer:e.desc},null,8,["name","question","answer"])))),128))])),_:1},8,["modelValue"]),e.list.length>4?(s(),d("div",{key:0,class:"show-more",onClick:m},[b(g(p(a)?"收起":"展开")+" ",1),P(R,{name:"down",class:v(["icon",{showMore:p(a)}])},null,8,["class"])])):y("",!0)])}}}),[["__scopeId","data-v-1b7e97e9"]]);const Ye={class:"spec"},Be=["src"],$e={key:1,class:"spec"},He=["src"],Ge=a({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(e,{expose:t}){const a=e,i=n(),o=n([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),r=l((()=>a.detail?.tenantProductInsureVO?.spec&&a.detail?.tenantProductInsureVO?.spec.length>0)),c=l((()=>{const e=a.detail?.tenantProductInsureVO?.settlementProcessVO.settlementProcessType;return!!(e===Y.WORD&&a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessList&&a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessList.length>0||e===Y.IMAGE&&a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessPicList&&a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessPicList.length>0)})),v=l((()=>a.detail?.tenantProductInsureVO?.questionList&&a.detail?.tenantProductInsureVO?.questionList.length>0)),g=l((()=>{let e=[...o.value];return r.value||(e=e.filter((e=>"tab1"!==e.slotName))),c.value||v.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return t({handleClickTab:()=>i.value?.handleClickTab}),(e,t)=>(s(),h(j,{ref_key:"scrollRef",ref:i,class:"tabs",list:p(g),sticky:"",scrollspy:""},x({tab3:w((()=>[O(e.$slots,"form",{},void 0,!0)])),_:2},[p(r)?{name:"tab1",fn:w((()=>[m("div",Ye,[(s(!0),d(u,null,f(a.detail?.tenantProductInsureVO?.spec||[],((e,t)=>(s(),d("img",{key:t,src:e,class:"detail-img"},null,8,Be)))),128)),P(M)])]))}:void 0,p(c)||p(v)?{name:"tab2",fn:w((()=>[p(c)?(s(),d(u,{key:0},[a.detail?.tenantProductInsureVO?.settlementProcessVO.settlementProcessType===p(Y).WORD?(s(),h(Me,{key:0,title:"理赔流程"},{default:w((()=>[P(se,{list:a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessList},null,8,["list"])])),_:1})):(s(),d("div",$e,[(s(!0),d(u,null,f(a.detail?.tenantProductInsureVO?.settlementProcessVO?.settlementProcessPicList||[],((e,t)=>(s(),d("img",{key:t,src:e,class:"detail-img"},null,8,He)))),128))])),P(M)],64)):y("",!0),p(v)?(s(),d(u,{key:1},[P(Me,{title:"常见问题"},{default:w((()=>[P(Ae,{list:a.detail?.tenantProductInsureVO?.questionList},null,8,["list"])])),_:1}),P(M)],64)):y("",!0)]))}:void 0]),1032,["list"]))}});var Ke=T(Ge,[["__scopeId","data-v-4383aeea"]]);const We={key:0,class:"page-waiting"},Je=["src"],Xe=(e=>(C("data-v-ead4d7ae"),e=e(),k(),e))((()=>m("div",{class:"tips"},[m("p",null,"支付成功，承保中...")],-1))),Ze=a({props:{isShow:{type:Boolean,default:()=>{}}},setup(e){const t=e;return i((()=>t.isShow),(e=>{document.body.style.overflow=e?"hidden":"inherit"})),(e,a)=>t.isShow?(s(),d("div",We,[m("img",{class:"loading",src:p(de)},null,8,Je),Xe])):y("",!0)}});var Qe=T(Ze,[["__scopeId","data-v-ead4d7ae"]]);const et=e=>(C("data-v-c0f1fa00"),e=e(),k(),e),tt={class:"com-period-cell"},at={key:0,class:"custom-cell check-btn-cell"},nt=et((()=>m("div",{class:"cell-label"},"保障期间",-1))),it={class:"cell-content"},lt={key:1,class:"custom-cell common-cell"},ot=et((()=>m("div",{class:"cell-label"},"生效日期",-1))),rt={key:2,class:"custom-cell common-cell"},ct=et((()=>m("div",{class:"cell-label"},"保障期限",-1))),st={class:"cell-content"};var dt=T(a({props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:t,emit:a}){const c=e;n({});const f=(e,t)=>"year"===e?`${t}年`:"month"===e?`${t}月`:"day"===e?`${t}日`:t,v=n(new Date),h=pe("RISK_INSURANCE_PERIOD"),b=V({formInfo:c.formInfo});i((()=>b.formInfo.commencementTime),(e=>{e&&"string"==typeof e&&(v.value=new Date(e))}));const I=n(),C=n([]);i([()=>c.insureDetail,()=>b.formInfo.activePlanCode],(()=>{if(b.formInfo.insurancePeriodValue="",b.formInfo.commencementTime="",c.insureDetail)if(c.insureDetail.productRelationPlanVOList&&c.insureDetail.productRelationPlanVOList.length>0){let e=0;const t=c.insureDetail.productRelationPlanVOList.findIndex((e=>e.planCode===b.formInfo.activePlanCode));t>-1&&(e=t);const a=(c.insureDetail.productRelationPlanVOList[e]?.productRiskVoList[0].riskDetailVOList||[]).find((e=>1===e.riskType));a&&(I.value=a)}else{const e=(c.insureDetail.productRiskVoList[0].riskDetailVOList||[]).find((e=>1===e.riskType));e&&(I.value=e)}}),{deep:!0,immediate:!0}),i([()=>I.value,()=>h.value],(()=>{C.value=[],Array.isArray(h.value)&&h.value.length>1&&I.value&&(C.value=(I.value.riskInsureLimitVO.insurancePeriodValueList||[]).map((e=>{const t=h.value.find((t=>t.value===e));return t?{label:t.name,value:t.value}:null})).filter((e=>!!e))),C.value.length>0&&(b.formInfo.insurancePeriodValue=C.value[0].value)}),{deep:!0,immediate:!0});const k=l((()=>I.value?.riskInsureLimitVO.guaranteeStartDate||B.CURRENT_DAY)),[O,x]=o(!1),F=()=>{x(!0)},L=new Date(ye(new Date,1,"day")),D=l((()=>{if(k.value===B.CUSTOM_DAY){const e=I.value?.riskInsureLimitVO.maxInsuranceDay;if(!e)return new Date;const t=ye(new Date,Number(e),"day");return new Date(t)}return new Date})),q=e=>{b.formInfo.commencementTime=ge(e),x(!1)},_=()=>{x(!1)},N=l((()=>{if(k.value===B.CUSTOM_DAY)return"";if(!b.formInfo.insurancePeriodValue)return"";const[e,t]=b.formInfo.insurancePeriodValue.split("_");if("to"!==e){let a=ge(new Date);if(k.value===B.NEXT_DAY)return a=ye(new Date,1,"day"),"";return`${a} - ${ye(a,Number(t),e)}`}return b.formInfo.insured.certNo,""}));return i([()=>k.value,()=>N.value,()=>b.formInfo.commencementTime,()=>b.formInfo.insurancePeriodValue],(()=>{const[e,t]=b.formInfo.insurancePeriodValue.split("_");k.value===B.CUSTOM_DAY?b.formInfo.insuranceStartDate=`${ge(b.formInfo.commencementTime)} 00:00:00`:k.value===B.NEXT_DAY?b.formInfo.insuranceStartDate=`${ye(new Date,1,"day")} 00:00:00`:b.formInfo.insuranceStartDate=`${ge(new Date)} 00:00:00`,"to"!==e||(b.formInfo.tenantOrderInsuredList[0].birthday,b.formInfo.tenantOrderInsuredList[0].certType===z.CERT&&b.formInfo.tenantOrderInsuredList[0].certNo&&E(b.formInfo.tenantOrderInsuredList[0].certNo)&&U(b.formInfo.tenantOrderInsuredList[0].certNo),"single"===t&&(b.formInfo.insuranceEndDate="9999-99-99 23:59:59")),b.formInfo.insuranceEndDate=`${ye(b.formInfo.insuranceStartDate,Number(t),e)} 23:59:59`}),{immediate:!0}),t({}),(e,t)=>{const a=r("ProRadioButton"),n=r("van-config-provider"),i=r("van-datetime-picker"),l=r("ProPopup");return s(),d(u,null,[P(n,{"theme-vars":p(oe)},{default:w((()=>[m("div",tt,[C.value.length>1?(s(),d("div",at,[nt,m("div",it,[P(a,{modelValue:p(b).formInfo.insurancePeriodValue,"onUpdate:modelValue":t[0]||(t[0]=e=>p(b).formInfo.insurancePeriodValue=e),options:C.value},null,8,["modelValue","options"])])])):y("",!0),p(k)===p(B).CUSTOM_DAY?(s(),d("div",lt,[ot,m("div",{class:"cell-content",onClick:F},g(p(b).formInfo.commencementTime),1)])):y("",!0),p(k)!==p(B).CUSTOM_DAY?(s(),d("div",rt,[ct,m("div",st,g(p(N)),1)])):y("",!0)])])),_:1},8,["theme-vars"]),P(l,{show:p(O),"onUpdate:show":t[2]||(t[2]=e=>S(O)?O.value=e:null),height:40,closeable:!1},{default:w((()=>[P(i,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),type:"date",title:"选择年月","min-date":p(L),"max-date":p(D),formatter:f,onConfirm:q,onCancel:_},null,8,["modelValue","min-date","max-date"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-c0f1fa00"]]);const mt=e=>(C("data-v-a110c0f6"),e=e(),k(),e),ut={class:"com-payment-type"},pt={class:"title"},ft={key:0,class:"picture-payment-content"},vt=["onClick"],gt=["src"],yt=["src"],ht={key:1,class:"custom-cell check-btn-cell"},bt=mt((()=>m("div",{class:"cell-label"},"保障方案",-1))),Pt={class:"cell-content"},wt={key:0,class:"picture-payment-content"},It=["onClick"],Ct=["src"],kt=["src"],Ot={key:1,class:"default-payment-content"},xt=[mt((()=>m("div",{class:"pay-method"},[m("span",{class:"method"},g("按月交费")),m("span",{class:"acount"},g("共12期"))],-1)))],Vt=[mt((()=>m("div",null,[m("div",{class:"tip"},[m("span",null,g("比按月支付最高省")),b(),m("span",null,"16%")]),m("div",{class:"triangle"}),m("div",{class:"pay-method"},[m("span",{class:"method"},g("一次交清")),m("span",{class:"acount"},g("比月交保费省最高2014元"))])],-1)))],St={key:2,class:"custom-cell check-btn-cell"},Ft=mt((()=>m("div",{class:"cell-label"},"交费方式",-1))),Lt={class:"cell-content"},Dt={class:"custom-cell common-cell"},qt=mt((()=>m("div",{class:"cell-label"},"实付保费",-1))),_t={class:"cell-content actual-premium"},Nt={key:0,class:"feerate-explain"},Tt={class:"content"},Rt=mt((()=>m("div",{class:"triangle-top"},null,-1))),Mt=a({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}},configDetail:{type:Object,default:()=>{}},isMultiplePlan:{type:Boolean,default:!1},premium:{type:[Number||null],default:null}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:t,emit:a}){const o=e;n({});const c=V({formInfo:o.formInfo}),b=n([]),I=n(),C=n(),k=l((()=>"1"===String(I.value?.paymentFrequencyFlag))),O=l((()=>C.value?.productPremiumVOList.find((e=>e.paymentFrequency===c.formInfo.paymentFrequency)))),x=l((()=>o.premium&&O.value?`${o.premium}${O.value.premiumUnit||""}`:O.value?`${O.value.paymentFrequencyValue||""}${O.value.premiumUnit||""}`:"")),S=l((()=>{if(C){const{premiumExplain:e,premiumExplainViewName:t,premiumExplainUri:a}=C.value||{};return{premiumExplain:e,premiumExplainUri:a,premiumExplainViewName:t}}return null}));i((()=>o.configDetail),(()=>{o.isMultiplePlan&&o.configDetail&&(b.value=o.configDetail.tenantProductInsureVO?.planList)}),{immediate:!0,deep:!0}),i([()=>o.configDetail,()=>o.isMultiplePlan,()=>c.formInfo.activePlanCode],(()=>{if(o.configDetail)if(o.isMultiplePlan){let e=0;const t=o.configDetail.tenantProductInsureVO.planList.findIndex((e=>e.planCode===c.formInfo.activePlanCode));t>-1&&(e=t),I.value=o.configDetail.tenantProductInsureVO.planList[e].productPlanInsureConditionVO,C.value=o.configDetail.tenantProductInsureVO.planList[e]}else I.value=o.configDetail.tenantProductInsureVO.planInsureVO.productPlanInsureConditionVO,C.value=o.configDetail.tenantProductInsureVO.planInsureVO}),{deep:!0,immediate:!0});const L=l((()=>{if(I.value){return I.value.paymentFrequency.split(",").length>1}return!1})),D=l((()=>{if(I.value){const e=I.value.paymentFrequency.split(",");if(1===e.length)return c.formInfo.paymentFrequency=I.value.paymentFrequency,!1;if(2===e.length&&e.filter((e=>![$.SINGLE,$.MONTH].includes(e))).length<1)return!0}return!1})),q=l((()=>I.value?(I.value.paymentFrequencyList||[])?.map((e=>({...e,paymentFrequency:e.skinValue}))):[])),_=l((()=>q.value.length>0)),N=l((()=>o.isMultiplePlan?o.configDetail.tenantProductInsureVO.planList.map((e=>({...e.planPicList,planCode:e.planCode,planName:e.planName}))):[])),T=l((()=>{if(I.value){return(I.value.paymentFrequency.split(",")||[])?.map((e=>({label:H[e],value:e})))}return[]})),R=e=>{c.formInfo.paymentFrequency=e},M=()=>{S.value?.premiumExplainUri?ee({fileType:"pdf",fileUri:S.value?.premiumExplainUri}):F("无费率文件！")};return t({}),(t,a)=>{const n=r("ProRadioButton"),i=r("templat"),l=r("ProDivider"),o=r("van-config-provider");return s(),h(o,{"theme-vars":p(oe)},{default:w((()=>[m("div",ut,[m("div",pt,g(p(L)?"交费方式":"保障计划"),1),e.isMultiplePlan?(s(),d(u,{key:0},[p(N).length>0?(s(),d("div",ft,[(s(!0),d(u,null,f(p(N),(e=>(s(),d("div",{key:e.planCode,class:v("picture-payment-item"),onClick:t=>{return a=e.planCode,void(c.formInfo.activePlanCode=a);var a}},[p(c).formInfo.activePlanCode==e.planCode?(s(),d("img",{key:0,src:e.selectedPic},null,8,gt)):(s(),d("img",{key:1,src:e.unSelectedPic},null,8,yt))],8,vt)))),128))])):(s(),d("div",ht,[bt,m("div",Pt,[P(n,{modelValue:p(c).formInfo.activePlanCode,"onUpdate:modelValue":a[0]||(a[0]=e=>p(c).formInfo.activePlanCode=e),options:b.value,prop:{value:"planCode",label:"planName"}},null,8,["modelValue","options"])])]))],64)):y("",!0),p(k)?(s(),h(i,{key:1},{default:w((()=>[p(_)?(s(),d("div",wt,[(s(!0),d(u,null,f(p(q),(e=>(s(),d("div",{key:e.paymentFrequency,class:v("picture-payment-item"),onClick:t=>R(e.paymentFrequency)},[p(c).formInfo.paymentFrequency==e.paymentFrequency?(s(),d("img",{key:0,src:e.selectedPic},null,8,Ct)):(s(),d("img",{key:1,src:e.unSelectedPic},null,8,kt))],8,It)))),128))])):p(D)?(s(),d("div",Ot,[m("div",{class:v("com-payment-type-item "+(p(c).formInfo.paymentFrequency==p($).MONTH?"active":"")),onClick:a[1]||(a[1]=e=>R(p($).MONTH))},xt,2),m("div",{class:v("com-payment-type-item "+(p(c).formInfo.paymentFrequency==p($).SINGLE?"active":"")),onClick:a[2]||(a[2]=e=>R(p($).SINGLE))},Vt,2)])):p(T).length>1?(s(),d("div",St,[Ft,m("div",Lt,[P(n,{modelValue:p(c).formInfo.paymentFrequency,"onUpdate:modelValue":a[3]||(a[3]=e=>p(c).formInfo.paymentFrequency=e),options:p(T)},null,8,["modelValue","options"])])])):y("",!0)])),_:1})):y("",!0),P(dt,{"form-info":p(c).formInfo,"insure-detail":e.insureDetail,"config-detail":e.configDetail},null,8,["form-info","insure-detail","config-detail"]),p(O)&&p(O).premiumUnit?(s(),d(u,{key:2},[m("div",Dt,[qt,m("div",_t,g(p(x)),1)]),p(S)&&p(S).premiumExplain&&p(S).premiumExplainViewName?(s(),d("div",Nt,[m("div",Tt,[Rt,m("div",null,[m("span",null,g(p(S).premiumExplain||""),1),m("span",{class:"file-name",onClick:M},"《"+g(p(S).premiumExplainViewName||"")+"》",1)])])])):y("",!0)],64)):y("",!0)]),P(l)])),_:1},8,["theme-vars"])}}});var jt=T(Mt,[["__scopeId","data-v-a110c0f6"]]);const zt={class:"inscribedContent-content"},Et={class:"content"};var Ut=T(a({props:{inscribedContent:{type:String,default:""}},setup(e){const t=e,a=n();return i((()=>t.inscribedContent),(e=>{a.value=e?e.replaceAll("\n","<br />"):""}),{immediate:!0,deep:!0}),(e,t)=>{const n=c("dompurify-html");return s(),d("div",zt,[I(m("div",Et,null,512),[[n,a.value]])])}}}),[["__scopeId","data-v-702b2de2"]]);const At={class:"com-attachment-list"},Yt=["onClick"];var Bt=T(a({props:{preText:{type:String,default:""},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup:(e,{emit:t})=>(a,n)=>(s(),d("div",At,[m("span",null,g(e.preText),1),(s(!0),d(u,null,f(e.attachementList||[],((e,a)=>(s(),d("span",{key:a,class:"attachment-item",onClick:e=>(e=>{t("preview-file",e)})(a)}," 《"+g(e.attachmentName)+"》 ",9,Yt)))),128))]))}),[["__scopeId","data-v-17da129e"]]);const $t={class:"page-internet-product-detail"},Ht={class:"info"},Gt={class:"footer-area"},Kt={class:"price"},Wt=b(" 总保费"),Jt=b(g("立即投保")),Xt=a({setup(e){const t=re();L();const a=D(),{productCode:o="BWYL2021",tenantId:c,orderNo:f,phoneNo:v,agentCode:b="",saleChannelId:I,paymentMethod:C,certNo:k,name:O,templateId:x,pageCode:S,from:F,extraInfo:T}=a.query;let R={};try{R=JSON.parse(decodeURIComponent(T))}catch(Te){}const M=n(),j=n(),U=n(),Y=n(),B=n(),H=n(!1),ee=n(!1),oe=n(!1),se=n(0),de=n(!1);n(!1);let pe="";const ye=n(!0),he=V({holder:{certNo:k,certType:z.CERT,mobile:v,name:O,socialFlag:G.HAS},insured:{certNo:k,certType:z.CERT,name:O,socialFlag:G.HAS,relationToHolder:K.SELF},paymentMethod:C,renewalDK:"Y",packageProductList:[],mobileSmsCode:"",activePlanCode:"",paymentFrequency:$.MONTH,insurancePeriodValue:"",commencementTime:ge(new Date)}),be=n({tenantId:c,agencyId:b,orderCategory:1,saleUserId:I,saleChannelId:I,venderCode:U.value?.insurerCode,insuranceStartDate:null,insuranceEndDate:null,activePlanCode:"",paymentFrequency:$.MONTH,insurancePeriodValue:"",commencementTime:ge(new Date),tenantOrderHolder:{extInfo:{},socialFlag:"1"},tenantOrderInsuredList:[{socialFlag:"1",relationToHolder:K.SELF,extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{tenantId:c,productCode:U.value?.productCode,productName:U.value?.productName,premium:B.value||0}]}],extInfo:{buttonCode:"EVENT_SHORT_saveOrder",successJumpUrl:"",...R},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),Pe=l((()=>!!U.value&&!!(U.value?.tenantProductInsureVO?.planList&&Array.isArray(U.value?.tenantProductInsureVO?.planList)&&U.value?.tenantProductInsureVO?.planList.length>0))),we=l((()=>{if(Pe.value){if(be.value.activePlanCode)return Y.value?.planFactor[be.value.activePlanCode]||{}}else if(Y.value?.productFactor)return Y.value?.productFactor;return{}}));i((()=>Pe.value),(()=>{Pe.value&&(be.value.activePlanCode=U.value?.tenantProductInsureVO?.planList[0].planCode)}),{immediate:!0});const Ie=l((()=>Pe.value?Y.value?.productRelationPlanVOList.find((e=>e.planCode===be.value.activePlanCode))?.productRiskVoList||[]:Y.value?.productRiskVoList||[])),Ce=e=>{be.value.activePlanCode=e},ke=l((()=>[])),Oe=l((()=>{let e={};if(Pe){const t=U.value?.tenantProductInsureVO.planList.find((e=>e.planCode===(be.value.activePlanCode||"")));e=t?.attachmentVOList}else e=U.value?.tenantProductInsureVO.planInsureVO.attachmentVOList;if(!e)return{};const t={2:"richText",3:"link"};return Object.keys(e).map((a=>(e[a].forEach((e=>{if("1"===e.attachmentType){const t=e.attachmentUri.split("?"),a=t[0].substr(t[0].lastIndexOf(".")+1);e.attachmentType="pdf"===a?"pdf":"picture"}else e.attachmentType=t[e.attachmentType]})),{attachmentName:a,attachmentList:e[a]})))})),xe=()=>{j.value.handleClickTab()("tab3")},Ve=async e=>{const{code:t,data:a}=await Z(((e={},t={},a={})=>{const n={...a},i={tenantId:c,riskList:n.tenantOrderInsuredList[0]?.tenantOrderProductList[0].riskVOList||[],riskPremium:t,productId:e?.productBasicInfoVO.id};return n.extInfo.iseeBizNo=pe,n.commencementTime=ge(n.commencementTime||new Date,"YYYY-MM-DD HH:mm:ss"),n.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:e.productBasicInfoVO.productCode,productName:e.productBasicInfoVO.productName,tenantOrderRiskList:le(i)},n})(Y.value,{},be.value));"10000"===t&&(ye.value=!1)},Se=async()=>{try{await(async(e,t,a)=>{const n=ie(a).map((t=>({...t,paymentFrequency:e.paymentFrequency,insurancePeriodValue:e.insurancePeriodValue}))),i={tenantId:c,productCode:U.value?.productCode,insuranceStartDate:e.insuranceStartDate,insuranceEndDate:e.insuranceEndDate,holder:{personVO:e.tenantOrderHolder},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",personVO:e,productPlanVOList:[{insurerCode:t.productBasicInfoVO.insurerCode,planCode:be.value.activePlanCode||0,riskVOList:n}]})))};await J(i),be.value.tenantOrderInsuredList[0].tenantOrderProductList=i.insuredVOList[0]?.productPlanVOList})(be.value,Y.value,Ie.value),Ve()}catch(e){}},Fe=e=>{"allFalse"===e?(ee.value=!1,H.value=!0,Se()):N.confirm({message:"您当前的健康状况不符合该产品",confirmButtonText:"确定"}).then((()=>{window.history.back()})).catch((()=>{M.value?.reEditForm(),H.value=!1}))},Le=()=>{M.value?.reEditForm(),H.value=!1},De=()=>{ee.value=!1,Le()},qe=()=>{oe.value=!1,Le()},_e=()=>{oe.value=!1,ee.value=!0};i([()=>he.insured.certNo,()=>he.insured.socialFlag,()=>he.packageProductList,()=>he.paymentFrequency],q.exports.debounce((()=>{he.insured.certNo&&he.insured.socialFlag&&(()=>{const{holder:{certNo:e,mobile:t,name:a,socialFlag:n},insured:{certNo:i,name:l,socialFlag:o,relationToHolder:r},paymentMethod:c}=he;return!(!E(i)||!o)})()&&(async()=>{const{calcData:e,riskVOList:t}=te({holder:he.holder,insured:he.insured,tenantId:c,productDetail:U.value,insureDetail:Y.value,paymentFrequency:he.paymentFrequency,packageRiskIdList:ae(he.packageProductList)},!1,ne);if(!Array.isArray(t)||t.length<1)return B.value=null,{};const a=await J(e),{code:n,data:i}=a;"10000"===n?B.value=i.premium:B.value=null})()}),500),{deep:!0,immediate:!0});return _((()=>{(async()=>{const e=Q({productCode:o,withInsureInfo:!0,tenantId:c}),t=X({productCode:o});await Promise.all([e,t]).then((([e,t])=>{"10000"===e.code&&(U.value={...e.data},document.title=e.data?.productFullName||""),"10000"===t.code&&(Y.value=t.data)}))})(),setTimeout((async()=>{pe=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const n=r("van-config-provider");return s(),d(u,null,[P(n,{"theme-vars":p(t)},{default:w((()=>[m("div",$t,[m("div",Ht,[P(ce,{url:U.value?.tenantProductInsureVO?.banner[0]},null,8,["url"]),U.value?.tenantProductInsureVO?.bannerMove?(s(),h(ce,{key:0,url:U.value?.tenantProductInsureVO?.bannerMove[0],onClick:xe},null,8,["url"])):y("",!0)]),P(Ne,{"show-service-config":"","data-source":U.value?.tenantProductInsureVO,"is-multiple-plan":p(Pe),"active-plan-code":be.value.activePlanCode,onUpdateActivePlan:Ce},null,8,["data-source","is-multiple-plan","active-plan-code"]),P(Ke,{ref_key:"detailScrollRef",ref:j,detail:U.value},{form:w((()=>[P(ve,{ref_key:"formRef",ref:M,"title-collection":{HOLDER:"本人信息（投保人）",INSURER:"为谁投保（被保人）"},"form-info":be.value,"send-sms-code":()=>{},"factor-object":p(we)||{}},null,8,["form-info","send-sms-code","factor-object"]),P(jt,{"form-info":be.value,"insure-detail":Y.value,"config-detail":U.value,"is-multiple-plan":p(Pe),"risk-info-period-list":e.riskInfoPeriodList,premium:B.value},null,8,["form-info","insure-detail","config-detail","is-multiple-plan","risk-info-period-list","premium"])])),_:1},8,["detail"]),U.value?.tenantProductInsureVO.inscribedContent?(s(),h(Ut,{key:0,"inscribed-content":U.value?.tenantProductInsureVO.inscribedContent},null,8,["inscribed-content"])):y("",!0),p(Oe)&&p(Oe).length>1?(s(),h(Bt,{key:1,"attachement-list":p(Oe),"pre-text":"请阅读",onPreviewFile:a[0]||(a[0]=e=>(e=>{se.value=e,oe.value=!0})(e))},null,8,["attachement-list"])):y("",!0),m("div",Gt,[m("div",Kt,[Wt,m("span",null,g(B.value?"￥":"")+g(p(A)(B.value))+" "+g(B.value?be.value.paymentFrequency==p(W).YEAR?"元/年":"元/月":""),1)]),P(fe,{shadow:!1,"theme-vars":p(t),class:"right",text:"立即投保",onClick:Se},{default:w((()=>[Jt])),_:1},8,["theme-vars"])])])])),_:1},8,["theme-vars"]),P(me,{show:ee.value,"onUpdate:show":a[1]||(a[1]=e=>ee.value=e),"content-list":p(ke),"active-index":0,onOnConfirmHealth:Fe,onOnCloseHealth:De},null,8,["show","content-list"]),oe.value?(s(),h(ue,{key:0,show:oe.value,"onUpdate:show":a[2]||(a[2]=e=>oe.value=e),"content-list":p(Oe),"is-only-view":ye.value,"active-index":se.value,text:ye.value?"关闭":"我已逐页阅读并确认告知内容","force-read-cound":0,"on-close-file-preview":"",onSubmit:_e,onOnCloseFilePreview:qe},null,8,["show","content-list","is-only-view","active-index","text"])):y("",!0),P(Qe,{"is-show":de.value},null,8,["is-show"])],64)}}});e("default",T(Xt,[["__scopeId","data-v-6e0d1097"]]))}}}))}();
