import{d as e,g as a,h as t,j as o,ag as r,o as s,c as n,u as d,l,w as i,a8 as c,cx as p,q as u,_ as f,aI as m,T as y}from"./index-d0a5373e.js";import{P as I}from"./constants-fe95ef6f.js";import{c as h}from"./order-4e2337aa.js";const k={class:"operate-wrap"},C=e({name:"operateBtn"});var g=f(e({...C,props:{detail:{default:()=>({})}},setup(e){const f=e,C=a(),g=t(),{tenantId:N,nextPageCode:x}=g.query,P=o((()=>{const{orderTopStatus:e}=f.detail;return"-1"===e&&I.orderList===g.path})),_=o((()=>{const{orderStatus:e}=f.detail;return!["acceptPolicy","canceled"].includes(e)})),q=o((()=>{const{orderStatus:e}=f.detail;return"offlinePayment"===e})),j=()=>{const{orderStatus:e,orderNo:a}=f.detail;let t=I.sign;"collectInfo"===e&&(t=I.infoCollection),C.push({path:t,query:{tenantId:N,orderNo:a}})},S=()=>{const{orderNo:e,orderId:a}=f.detail;x?m.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{h({orderNo:e,tenantId:N}).then((({code:e,data:a})=>{"10000"===e&&y("撤单成功")}))})):m.confirm({message:"确认取消当前订单？"}).then((()=>{C.push({path:I.phoneVerify,query:{tenantId:N,orderNo:e,orderId:a,nextPageCode:I.orderDetail}})}))},v=()=>{const{orderNo:e,orderId:a}=f.detail;C.push({path:I.updateBankInfo,query:{tenantId:N,orderNo:e,orderId:a,nextPageCode:I.orderDetail}})};return(e,a)=>{const t=r;return s(),n("div",k,[d(P)?(s(),l(t,{key:0,type:"primary",size:"small",onClick:p(j,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),d(_)?(s(),l(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(S,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),d(q)?(s(),l(t,{key:2,size:"small",onClick:p(v,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-9a59b54e"]]);export{g as O};
