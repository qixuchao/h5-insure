import{useSlots as e,ref as i,onMounted as t,computed as o,reactive as a,onBeforeMount as n,watch as l,onBeforeUpdate as r,getCurrentInstance as u}from"vue";import{_ as d,x as s,D as c,a as V,u as m,a7 as p,T as f}from"./index-deb4ddfb.js";import{c as v,d as k,e as y,A as g,f as h,L as b,g as C,P as I,I as D}from"./trial-a75330fd.js";import{i as L,p as N}from"./trial-90e504aa.js";import{_ as O}from"./index-11981141.js";import{q as x}from"./createProposal-a7e18ac8.js";import"./pdfh5-e588f83d.js";import"./cloneDeep-6abacc69.js";import"./keysIn-131bbce9.js";import"./isObjectLike-a9798079.js";import"./_getTag-d5b47d26.js";import"./index-9ba6d482.js";import"./infoCollection-f930e52f.js";/* empty css              */import"./debounce-6981b306.js";import"./merge-e7788e50.js";import"./PayInfo-e8550347.js";import"./phoneVerify-8d7afc24.js";import"./useDicData-48f91541.js";import"./bankCard-1cedc592.js";const P={class:"risk-responsibility"},R={class:"title"},B={class:"content"};var w=d(Vue.defineComponent({__name:"index",props:{modelValue:Boolean,title:{type:String,default:""},minHeight:{type:[Number,String],default:80},maxHeight:{type:[Number,String],default:200}},emits:["update:modelValue"],setup(a,{emit:n}){const l=a;e();const r=i();t((()=>{r.value=l.modelValue}));const u=o((()=>r.value?`${l.maxHeight}px`:`${l.minHeight}px`)),d=()=>{r.value=!r.value,n("update:modelValue",r.value)};return(e,i)=>{const t=Vue.resolveComponent("ProSvg");return Vue.openBlock(),Vue.createElementBlock("div",P,[Vue.createElementVNode("div",R,Vue.toDisplayString(a.title),1),Vue.createElementVNode("div",{class:"responsibility-content",style:Vue.normalizeStyle({height:Vue.unref(u)})},[Vue.createElementVNode("div",B,[Vue.renderSlot(e.$slots,"default",{},void 0,!0)]),Vue.createElementVNode("div",{class:"show-button",onClick:d},[Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(r)?"收起":"展开"),1),Vue.createVNode(t,{style:{width:"20px",height:"20px"},name:Vue.unref(r)?"arrow-up":"arrow-down"},null,8,["name"])])],4)])}}}),[["__scopeId","data-v-27faf794"]]);const _={class:"com-risk-card-wrapper part-card"},F={class:"custom-field"},E={class:"field-tip"},T={class:"custom-field"},A={class:"field-tip"},M={class:"custom-field"},j={class:"field-tip"},q={class:"pro-radio-wrap"},S={class:"pro-radio-wrap"},U={class:"pro-radio-wrap"},$={class:"pro-radio-wrap"},H={class:"pro-radio-wrap"},K={key:0},Y={key:1,class:"pro-radio-wrap"},J={key:9,class:"liab-desc"};var z=d(Vue.defineComponent({__name:"index",props:{originData:{default:()=>({})},formInfo:{default:()=>({})},mainRiskData:{default:()=>({})},mainRiskInfo:{default:()=>({})},index:{default:0},removeRisk:{type:Function,default:()=>{}},removeRiskList:{default:()=>[]},enums:{default:()=>({})}},setup(e){const t=e,r=i({}),u=Vue.inject("premium")||{};r.value=Vue.inject("enumList")||{};const d=i({chargePeriod:{disabled:!1,prevent:!1},coveragePeriod:{disabled:!1,prevent:!1},paymentFrequency:{disabled:!1,prevent:!1}}),s=a({formInfo:t.formInfo}),c=e=>"boolean"!=typeof e&&!e||(!(!Array.isArray(e)||e.length)||"[object Object]"==={}.toString.call(e)&&Object.keys(e).length),V=(e,i,t={})=>{let o=i;return Array.isArray(i)||(o=[`${o}`]),(e||[]).filter((e=>o.includes(`${e.value}`)||o.includes(e.value)))},m=o((()=>{var e,i,o,a,n,l,r,u;return 1===(null==(e=t.originData)?void 0:e.riskType)?V(t.enums.RISK_INSURANCE_PERIOD,(null==(i=t.originData.riskInsureLimitVO)?void 0:i.insurancePeriodValueList)||[]):2===(null==(o=t.originData)?void 0:o.periodType)?V([{value:"year_1",name:"1年"}],["year_1"]):1===(null==(a=t.originData)?void 0:a.exemptFlag)?V(v,[`${null==(l=null==(n=null==t?void 0:t.originData)?void 0:n.riskInsureLimitVO)?void 0:l.insurancePeriodRule}`]):V(null==(r=t.enums)?void 0:r.RISK_INSURANCE_PERIOD,(null==(u=t.mainRiskData.riskInsureLimitVO)?void 0:u.insurancePeriodValueList)||[])})),p=o((()=>{var e,i,o,a,n,l,r,u;return 1===(null==(e=t.originData)?void 0:e.riskType)?V(null==(i=null==t?void 0:t.enums)?void 0:i.RISK_PAYMENT_PERIOD,(null==(o=t.originData.riskInsureLimitVO)?void 0:o.paymentPeriodValueList)||[]):1===(null==(a=t.originData)?void 0:a.exemptFlag)?V(k,[`${null==(l=null==(n=null==t?void 0:t.originData)?void 0:n.riskInsureLimitVO)?void 0:l.paymentPeriodRule}`]):2===(null==(r=t.originData)?void 0:r.periodType)?V([{value:"year_1",name:"1年交"}],["year_1"]):V(t.enums.RISK_PAYMENT_PERIOD,(null==(u=t.mainRiskData.riskInsureLimitVO)?void 0:u.paymentPeriodValueList)||[])})),f=o((()=>{var e,i,o,a,n;return 1===(null==(e=t.originData)?void 0:e.riskType)?V(y,(null==(i=t.originData.riskInsureLimitVO)?void 0:i.paymentFrequencyList)||[]):1===(null==(o=t.originData.riskInsureLimitVO)?void 0:o.paymentTypeRule)?V(y,(null==(a=t.mainRiskData.riskInsureLimitVO)?void 0:a.paymentFrequencyList)||[]):V(y,(null==(n=t.mainRiskData.riskInsureLimitVO)?void 0:n.paymentFrequencyList)||[])})),I=o((()=>{var e,i;let o=0,a=0;return((null==(i=null==(e=t.originData)?void 0:e.riskCalcMethodInfoVO)?void 0:i.paymentMethodLimitList)||[]).forEach(((e,i)=>{0===i&&(o=e.minAmount,a=e.maxAmount),o>e.minAmount&&(o=e.minAmount),a<e.maxAmount&&(a=e.maxAmount)})),s.formInfo.amount=s.formInfo.amount||o,{min:o,max:a||1/0}})),D=o((()=>{var e,i;let o=0,a=0;return((null==(i=null==(e=t.originData)?void 0:e.riskCalcMethodInfoVO)?void 0:i.paymentMethodLimitList)||[]).forEach(((e,i)=>{0===i&&(o=e.minPremium,a=e.maxPremium),o>e.minPremium&&(o=e.minPremium),a<e.maxPremium&&(a=e.maxPremium)})),s.formInfo.premium=s.formInfo.premium||o,{min:o,max:a||1/0}})),L=o((()=>{var e,i,o,a;const n=(null==(i=null==(e=t.originData)?void 0:e.riskCalcMethodInfoVO)?void 0:i.minCopy)||1,l=null==(a=null==(o=t.originData)?void 0:o.riskCalcMethodInfoVO)?void 0:a.maxCopy;return s.formInfo.copy=`${s.formInfo.copy||n||1}`,{min:n,max:l}})),N=(e,i,o)=>{var a,n;const l=(null==(n=null==(a=t.originData)?void 0:a.riskCalcMethodInfoVO)?void 0:n.increaseDecreaseNum)||1;if("sumInsured"===o){if(I.value.max&&+e>I.value.max)return`金额最大${I.value.max}元`;if(+e<I.value.min)return`金额最小${I.value.min}元`}else{if(D.value.max&&+e>D.value.max)return`金额最大${D.value.max}元`;if(+e<D.value.min)return`金额最小${D.value.min}元`}return+e%l==0?"":`金额必须是${l}的倍数`},O=e=>{var i;const t=((null==(i=s.formInfo)?void 0:i.liabilityVOList)||[]).find((i=>i.liabilityCode===e.liabilityCode));return t?t.liabilityAttributeValue?t.liabilityAttributeValue:1!==e.optionalFlag?"0":"-1":""};return n((()=>{var e,i,o,a;const n={riskType:t.originData.riskType,riskId:t.originData.id,riskName:t.originData.riskName,riskCode:t.originData.riskCode,amount:s.formInfo.amount,mainRiskCode:1!==t.originData.riskType?null==(e=t.mainRiskData)?void 0:e.riskCode:void 0,mainRiskId:1!==t.originData.riskType?null==(i=t.mainRiskData)?void 0:i.id:void 0,exemptFlag:t.originData.exemptFlag,exemptType:t.originData.exemptType,riskCategory:t.originData.riskCategory,liabilityVOList:(t.originData.riskLiabilityInfoVOList||[]).map((e=>({...e,liabilityAttributeCode:e.liabilityAttributeType,liabilityCode:e.liabilityCode,liabilityRateType:e.liabilityRateType,liabilityAttributeValue:O(e)})))};[1].includes((null==(o=t.originData.riskCalcMethodInfoVO)?void 0:o.saleMethod)||0)&&1!==(null==(a=t.originData)?void 0:a.exemptFlag)||!t.originData.riskCalcMethodInfoVO.fixedAmount||(n.amount=t.originData.riskCalcMethodInfoVO.fixedAmount),Object.assign(s.formInfo,n)})),l((()=>{var e;return null==(e=s.formInfo)?void 0:e.paymentFrequency}),((e=0)=>{var i,o,a;[3].includes((null==(i=t.originData.riskCalcMethodInfoVO)?void 0:i.saleMethod)||0)&&((null==(a=null==(o=t.originData)?void 0:o.riskCalcMethodInfoVO)?void 0:a.paymentMethodLimitList)||[]).forEach((i=>{+i.paymentFrequency==+e&&Object.assign(s.formInfo,{amount:i.perCopyAmount,premium:i.perCopyPremium})})),1==+e&&"single"!==s.formInfo.chargePeriod&&(s.formInfo.chargePeriod="single")})),l((()=>{var e;return null==(e=s.formInfo)?void 0:e.copy}),(e=>{var i,o;4===(null==(i=t.originData.riskCalcMethodInfoVO)?void 0:i.saleMethod)&&(s.formInfo.amount=null==(o=t.originData.riskCalcMethodInfoVO)?void 0:o.fixedAmount)})),l((()=>{var e;return null==(e=s.formInfo)?void 0:e.chargePeriod}),(e=>{"single"===e&&1!=+(s.formInfo.paymentFrequency||0)&&(s.formInfo.paymentFrequency=1)})),l((()=>null==t?void 0:t.mainRiskInfo),(e=>{var i,o,a,n,l,r;e&&2===t.originData.riskType&&(1===(null==(o=null==(i=t.originData)?void 0:i.riskInsureLimitVO)?void 0:o.insurancePeriodRule)&&(e.coveragePeriod?d.value.coveragePeriod.disabled=!0:d.value.coveragePeriod.prevent=!0,s.formInfo.coveragePeriod=e.coveragePeriod||""),1===(null==(n=null==(a=t.originData)?void 0:a.riskInsureLimitVO)?void 0:n.paymentPeriodRule)&&(e.chargePeriod?d.value.chargePeriod.disabled=!0:d.value.chargePeriod.prevent=!0,s.formInfo.chargePeriod=e.chargePeriod||""),1===(null==(r=null==(l=t.originData)?void 0:l.riskInsureLimitVO)?void 0:r.paymentTypeRule)&&(e.paymentFrequency?d.value.paymentFrequency.disabled=!0:d.value.paymentFrequency.prevent=!0,s.formInfo.paymentFrequency=e.paymentFrequency||0))}),{immediate:!0,deep:!0}),(e,i)=>{var t,o,a,n,l,r,v,k,y,O,x,P,R,B,z,W,G,Q,X,Z,ee,ie,te,oe,ae,ne,le,re,ue,de;const se=Vue.resolveComponent("ProSvg"),ce=Vue.resolveComponent("ProTitle"),Ve=Vue.resolveComponent("VanStepper"),me=Vue.resolveComponent("VanField"),pe=Vue.resolveComponent("ProRadioButton"),fe=Vue.resolveComponent("ProField");return Vue.openBlock(),Vue.createElementBlock("div",_,[Vue.createVNode(ce,{"risk-type":e.originData.riskType,title:e.originData.riskName},{default:Vue.withCtx((()=>[e.removeRiskList.includes(e.originData.id)?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"delete-risk",onClick:i[0]||(i[0]=i=>e.removeRisk(e.originData.id))},[Vue.createVNode(se,{name:"img-lajitong",color:"var(--van-primary-color)"})])):Vue.createCommentVNode("",!0)])),_:1},8,["risk-type","title"]),1===(null==(t=e.originData.riskCalcMethodInfoVO)?void 0:t.saleMethod)&&2===e.originData.exemptFlag?(Vue.openBlock(),Vue.createBlock(me,{key:0,modelValue:Vue.unref(s).formInfo.amount,"onUpdate:modelValue":i[2]||(i[2]=e=>Vue.unref(s).formInfo.amount=e),label:"保额",name:"amount",rules:[{required:!0,message:"请填写"},{trigger:"onChange",validator:(...e)=>N(...e,"sumInsured")}]},{input:Vue.withCtx((()=>{var t,o;return[Vue.createElementVNode("div",F,[Vue.createVNode(Ve,{modelValue:Vue.unref(s).formInfo.amount,"onUpdate:modelValue":i[1]||(i[1]=e=>Vue.unref(s).formInfo.amount=e),"input-width":"64px",min:Vue.unref(I).min,step:(null==(t=e.originData.riskCalcMethodInfoVO)?void 0:t.increaseDecreaseNum)||1,max:Vue.unref(I).max},null,8,["modelValue","min","step","max"]),Vue.createElementVNode("span",E,Vue.toDisplayString(`金额最低${Vue.unref(I).min}元，为${(null==(o=e.originData.riskCalcMethodInfoVO)?void 0:o.increaseDecreaseNum)||1}的倍数`),1)])]})),_:1},8,["modelValue","rules"])):Vue.createCommentVNode("",!0),2===(null==(a=null==(o=e.originData)?void 0:o.riskCalcMethodInfoVO)?void 0:a.saleMethod)?(Vue.openBlock(),Vue.createBlock(me,{key:1,modelValue:Vue.unref(s).formInfo.premium,"onUpdate:modelValue":i[4]||(i[4]=e=>Vue.unref(s).formInfo.premium=e),label:"保费",name:"premium",rules:[{required:!0,message:"请填写"},{trigger:"onChange",validator:(...e)=>N(...e,"premium")}]},{input:Vue.withCtx((()=>{var t,o,a,n;return[Vue.createElementVNode("div",T,[Vue.createVNode(Ve,{modelValue:Vue.unref(s).formInfo.premium,"onUpdate:modelValue":i[3]||(i[3]=e=>Vue.unref(s).formInfo.premium=e),step:(null==(o=null==(t=e.originData)?void 0:t.riskCalcMethodInfoVO)?void 0:o.increaseDecreaseNum)||1,min:Vue.unref(D).min,"input-width":"64px",max:Vue.unref(D).max},null,8,["modelValue","step","min","max"]),Vue.createElementVNode("span",A,Vue.toDisplayString(`金额最低${Vue.unref(D).min}元，为${(null==(n=null==(a=e.originData)?void 0:a.riskCalcMethodInfoVO)?void 0:n.increaseDecreaseNum)||1}的倍数`),1)])]})),_:1},8,["modelValue","rules"])):Vue.createCommentVNode("",!0),3===(null==(l=null==(n=e.originData)?void 0:n.riskCalcMethodInfoVO)?void 0:l.saleMethod)||4===(null==(v=null==(r=e.originData)?void 0:r.riskCalcMethodInfoVO)?void 0:v.saleMethod)&&((null==(y=null==(k=e.originData)?void 0:k.riskCalcMethodInfoVO)?void 0:y.minCopy)||(null==(x=null==(O=e.originData)?void 0:O.riskCalcMethodInfoVO)?void 0:x.maxCopy))?(Vue.openBlock(),Vue.createBlock(me,{key:2,modelValue:Vue.unref(s).formInfo.copy,"onUpdate:modelValue":i[6]||(i[6]=e=>Vue.unref(s).formInfo.copy=e),label:"投保份数",name:"copy",rules:[{required:!0,message:"请填写"}]},{input:Vue.withCtx((()=>[Vue.createElementVNode("div",M,[Vue.createVNode(Ve,{modelValue:Vue.unref(s).formInfo.copy,"onUpdate:modelValue":i[5]||(i[5]=e=>Vue.unref(s).formInfo.copy=e),step:1,min:Vue.unref(L).min,max:Vue.unref(L).max},null,8,["modelValue","min","max"]),Vue.createElementVNode("span",j,Vue.toDisplayString(`${Vue.unref(L).min}份起购，最多购买${Vue.unref(L).max}份`),1)])])),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0),[1].includes((null==(P=e.originData.riskCalcMethodInfoVO)?void 0:P.saleMethod)||0)&&1!==(null==(R=e.originData)?void 0:R.exemptFlag)||!e.originData.riskCalcMethodInfoVO.fixedAmount&&!(null==(z=Vue.unref(u))?void 0:z[null==(B=e.originData)?void 0:B.riskCode])?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(me,{key:3,label:"保额"},{input:Vue.withCtx((()=>{var i,t,o,a;return[Vue.createElementVNode("div",null,Vue.toDisplayString((null==(i=e.originData.riskCalcMethodInfoVO)?void 0:i.fixedAmount)||(null==(a=null==(o=Vue.unref(u))?void 0:o[null==(t=e.originData)?void 0:t.riskCode])?void 0:a.amount)),1)]})),_:1})),c(null==(G=null==(W=e.originData)?void 0:W.riskInsureLimitVO)?void 0:G.insurancePeriodValueList)&&c(null==(X=null==(Q=e.originData)?void 0:Q.riskInsureLimitVO)?void 0:X.insurancePeriodRule)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(fe,{key:4,modelValue:Vue.unref(s).formInfo.coveragePeriod,"onUpdate:modelValue":i[8]||(i[8]=e=>Vue.unref(s).formInfo.coveragePeriod=e),label:"保障期间",name:"coveragePeriod",rules:[{required:!0,message:"请选择保障期间"}]},{input:Vue.withCtx((()=>[Vue.createElementVNode("div",q,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.coveragePeriod,"onUpdate:modelValue":i[7]||(i[7]=e=>Vue.unref(s).formInfo.coveragePeriod=e),disabled:Vue.unref(d).coveragePeriod.disabled,prevent:Vue.unref(d).coveragePeriod.prevent?"请先选择主险保障期间":"",options:Vue.unref(m),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])])])),_:1},8,["modelValue"])),c(null==(ee=null==(Z=e.originData)?void 0:Z.riskInsureLimitVO)?void 0:ee.paymentPeriodValueList)&&c(null==(te=null==(ie=e.originData)?void 0:ie.riskInsureLimitVO)?void 0:te.paymentPeriodRule)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(fe,{key:5,modelValue:Vue.unref(s).formInfo.chargePeriod,"onUpdate:modelValue":i[10]||(i[10]=e=>Vue.unref(s).formInfo.chargePeriod=e),label:"交费期间",name:"chargePeriod",rules:[{required:!0,message:"请选择交费期间"}]},{input:Vue.withCtx((()=>[Vue.createElementVNode("div",S,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.chargePeriod,"onUpdate:modelValue":i[9]||(i[9]=e=>Vue.unref(s).formInfo.chargePeriod=e),disabled:Vue.unref(d).chargePeriod.disabled,prevent:Vue.unref(d).chargePeriod.prevent?"请先选择主险交费期间":"",options:Vue.unref(p),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])])])),_:1},8,["modelValue"])),c(null==(oe=e.originData.riskInsureLimitVO)?void 0:oe.paymentFrequencyList)&&c(null==(ae=e.originData.riskInsureLimitVO)?void 0:ae.paymentPeriodRule)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(fe,{key:6,modelValue:Vue.unref(s).formInfo.paymentFrequency,"onUpdate:modelValue":i[12]||(i[12]=e=>Vue.unref(s).formInfo.paymentFrequency=e),label:"交费方式",name:"paymentFrequency",rules:[{required:!0,message:"请选择交费方式"}]},{input:Vue.withCtx((()=>[Vue.createElementVNode("div",U,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.paymentFrequency,"onUpdate:modelValue":i[11]||(i[11]=e=>Vue.unref(s).formInfo.paymentFrequency=e),disabled:Vue.unref(d).paymentFrequency.disabled,prevent:Vue.unref(d).paymentFrequency.prevent?"请先选择主险交费方式":"",options:Vue.unref(f)},null,8,["modelValue","disabled","prevent","options"])])])),_:1},8,["modelValue"])),c(null==(le=null==(ne=e.originData)?void 0:ne.riskInsureLimitVO)?void 0:le.annuityDrawValueList)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(fe,{key:7,modelValue:Vue.unref(s).formInfo.annuityDrawDate,"onUpdate:modelValue":i[14]||(i[14]=e=>Vue.unref(s).formInfo.annuityDrawDate=e),label:"领取时间",name:"annuityDrawDate"},{input:Vue.withCtx((()=>{var t;return[Vue.createElementVNode("div",$,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.annuityDrawDate,"onUpdate:modelValue":i[13]||(i[13]=e=>Vue.unref(s).formInfo.annuityDrawDate=e),options:V(Vue.unref(g),(null==(t=e.originData.riskInsureLimitVO)?void 0:t.annuityDrawValueList)||[])},null,8,["modelValue","options"])])]})),_:1},8,["modelValue"])),c(null==(ue=null==(re=e.originData)?void 0:re.riskInsureLimitVO)?void 0:ue.annuityDrawFrequencyList)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(fe,{key:8,modelValue:Vue.unref(s).formInfo.annuityDrawFrequency,"onUpdate:modelValue":i[16]||(i[16]=e=>Vue.unref(s).formInfo.annuityDrawFrequency=e),label:"领取方式",name:"annuityDrawFrequency"},{input:Vue.withCtx((()=>{var t;return[Vue.createElementVNode("div",H,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.annuityDrawFrequency,"onUpdate:modelValue":i[15]||(i[15]=e=>Vue.unref(s).formInfo.annuityDrawFrequency=e),options:V(Vue.unref(h),(null==(t=e.originData.riskInsureLimitVO)?void 0:t.annuityDrawFrequencyList)||[])},null,8,["modelValue","options"])])]})),_:1},8,["modelValue"])),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.originData.riskLiabilityInfoVOList||[],((i,t)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:t},[1!==i.optionalFlag||c(i.liabilityAttributeValueList)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(me,{key:0,modelValue:Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue,"onUpdate:modelValue":e=>Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue=e,label:i.liabilityName,name:"liabilityAttributeValue",rules:[{required:i.liabilityAttributeValue,message:`请选择${i.liabilityName}`}]},{input:Vue.withCtx((()=>{var o,a;return[Vue.createElementVNode("div",null,[c(i.liabilityAttributeValueList)?(Vue.openBlock(),Vue.createElementBlock("span",K,"50万")):(Vue.openBlock(),Vue.createElementBlock("div",Y,[Vue.createVNode(pe,{modelValue:Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue,"onUpdate:modelValue":e=>Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue=e,options:V(Vue.unref(b),null==(a=null==(o=e.originData.riskLiabilityInfoVOList)?void 0:o[t])?void 0:a.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"])]))])]})),_:2},1032,["modelValue","onUpdate:modelValue","label","rules"])),1!==i.optionalFlag?(Vue.openBlock(),Vue.createBlock(me,{key:1,modelValue:Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue,"onUpdate:modelValue":e=>Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue=e,label:i.liabilityName,name:"liabilityAttributeValue"},{input:Vue.withCtx((()=>{var o,a;return[Vue.createElementVNode("div",null,[c(i.liabilityAttributeValueList)?(Vue.openBlock(),Vue.createBlock(pe,{key:0,modelValue:Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue,"onUpdate:modelValue":e=>Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue=e,options:Vue.unref(C)},null,8,["modelValue","onUpdate:modelValue","options"])):(Vue.openBlock(),Vue.createBlock(pe,{key:1,modelValue:Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue,"onUpdate:modelValue":e=>Vue.unref(s).formInfo.liabilityVOList[t].liabilityAttributeValue=e,options:V(Vue.unref(b),null==(a=null==(o=e.originData.riskLiabilityInfoVOList)?void 0:o[t])?void 0:a.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]})),_:2},1032,["modelValue","onUpdate:modelValue","label"])):Vue.createCommentVNode("",!0)],64)))),128)),(null==(de=e.originData)?void 0:de.relationDesc)?(Vue.openBlock(),Vue.createElementBlock("div",J,[Vue.createVNode(w,{title:"责任投保说明"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,Vue.toDisplayString(e.originData.relationDesc),1)])),_:1})])):Vue.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-2b72d08b"]]);const W={class:"com-risk-list-wrapper"},G=(e=>(Vue.pushScopeId("data-v-10dda951"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("div",{class:"popup-title"},"选择附加险",-1))),Q={class:"risk-list"},X={class:"cell-title"},Z={class:"title"},ee={class:"footer-button"};var ie=d(Vue.defineComponent({__name:"index",props:{riskList:{default:()=>[]},show:{type:Boolean,default:!1},collocationList:{default:()=>[]},disabled:{default:()=>[]},modelValue:{default:()=>[]}},emits:["finished","close","update:modelValue"],setup(e,{emit:t}){const o=e,n=i([]),u=i([]),d=i([...o.disabled]),s=a({show:o.show,currentChecked:[...o.modelValue]}),c=e=>{var i,t,a;if(d.value.includes(e))return;((e,i)=>{if(!o.collocationList.length)return i?void(s.currentChecked=[]):void s.currentChecked.push(e);let t=s.currentChecked,a=d.value;i?(o.collocationList.forEach((i=>{e===i.riskId&&(2===i.collocationType?t=t.filter((t=>t!==i.collocationRiskId||t!==e)):3===i.collocationType?(t=t.filter((i=>i!==e)),a=a.filter((e=>e!==i.collocationRiskId))):t=t.filter((i=>i!==e)))})),s.currentChecked=t,d.value=a):(o.collocationList.forEach((o=>{e===o.riskId&&(i||(2===o.collocationType?t.push(o.collocationRiskId):3===o.collocationType&&a.push(o.collocationRiskId),t.push(e)))})),s.currentChecked.push(...t),d.value=a)})(e,s.currentChecked.includes(e)),null==(a=null==(t=null==(i=null==n?void 0:n.value)?void 0:i[e])?void 0:t.toggle)||a.call(t)},V=()=>{t("close")},m=()=>{const e=o.riskList.filter((e=>s.currentChecked.includes(e.id)));t("update:modelValue",[...new Set(u.value)]),t("finished",e,d.value),t("close")};return r((()=>{n.value=[]})),l((()=>s.currentChecked),(e=>{u.value=e}),{deep:!0,immediate:!0}),l((()=>o.modelValue),(e=>{u.value=e||[],d.value.push(...e||[])}),{deep:!0,immediate:!0}),(e,i)=>{const t=Vue.resolveComponent("van-checkbox"),o=Vue.resolveComponent("VanCell"),a=Vue.resolveComponent("van-cell-group"),l=Vue.resolveComponent("van-checkbox-group"),r=Vue.resolveComponent("VanButton"),p=Vue.resolveComponent("VanPopup");return Vue.openBlock(),Vue.createElementBlock("div",W,[Vue.createVNode(p,{show:Vue.unref(s).show,"onUpdate:show":i[1]||(i[1]=e=>Vue.unref(s).show=e),title:"选择附加险","show-footer":"",round:"",position:"bottom",closeable:"",onClose:V},{default:Vue.withCtx((()=>[G,Vue.createElementVNode("div",Q,[Vue.createVNode(l,{modelValue:Vue.unref(u),"onUpdate:modelValue":i[0]||(i[0]=e=>Vue.isRef(u)?u.value=e:null)},{default:Vue.withCtx((()=>[Vue.createVNode(a,{inset:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.riskList,(e=>(Vue.openBlock(),Vue.createBlock(o,{key:e.id,title:e.riskName,disabled:Vue.unref(d).includes(e.id),onClick:i=>c(e.id)},{"right-icon":Vue.withCtx((()=>[Vue.createVNode(t,{ref_for:!0,ref:i=>Vue.unref(n)[e.id]=i,shape:"square",disabled:Vue.unref(d).includes(e.id),name:e.id,onClick:Vue.withModifiers((i=>c(e.id)),["stop"])},null,8,["disabled","name","onClick"])])),title:Vue.withCtx((()=>[Vue.createElementVNode("div",X,[Vue.createElementVNode("div",Z,Vue.toDisplayString(e.riskName),1)])])),_:2},1032,["title","disabled","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),Vue.createElementVNode("div",ee,[Vue.createVNode(r,{type:"primary",disabled:!Vue.unref(s).currentChecked.length,block:"",onClick:m},{default:Vue.withCtx((()=>[Vue.createTextVNode("确认")])),_:1},8,["disabled"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-10dda951"]]);const te={class:"risk-list-wrapper"},oe={key:0,class:"add-rider-risk"},ae={class:"left-part"},ne=(e=>(Vue.pushScopeId("data-v-fb5e5424"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("span",{class:"btn-plus"},"+",-1)));var le=d(Vue.defineComponent({__name:"index",props:{riskInfo:{default:()=>({})},originData:{default:()=>[]},pickFactor:{type:Function,default:()=>{}},enums:{default:()=>{}}},setup(e){const t=e,o=Vue.inject("source")||{},[n,r]=s(!1);u(),i(null),i(null);const d=a({mainRiskInfo:t.riskInfo,riskInfo:t.riskInfo,requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[],checkedList:[],relationListNum:0,disabledList:[],currentRiskList:[]}),V=(e,i)=>{d.currentRiskList=d.currentRiskList.concat(e),d.disabledList=i},m=e=>{c.confirm({message:"确定要删除附加险么？",confirmButtonText:"删除"}).then((()=>{var i;const t=[e];((null==(i=d.mainRiskData)?void 0:i.collocationVOList)||[]).forEach((i=>{e!==i.riskId||2!==i.collocationType&&3!==i.collocationType||t.push(i.collocationRiskId)})),d.checkedList=d.checkedList.filter((e=>!t.includes(e))),d.currentRiskList=d.currentRiskList.filter((e=>!t.includes(e.id)||(Object.assign(d.riskInfo,{[e.id]:void 0}),!1))),d.disabledList=d.disabledList.filter((e=>!t.includes(e)))})).catch((()=>{}))},p=(e,i)=>{var t,o;const a=((null==(o=null==(t=d.riskInfo)?void 0:t[i])?void 0:o.liabilityVOList)||[]).find((i=>i.liabilityCode===e.liabilityCode));return a?a.liabilityAttributeValue?a.liabilityAttributeValue:1!==e.optionalFlag?"0":"-1":""};return l((()=>d.currentRiskList),(e=>{const i=[d.mainRiskData,...e];let o=[],a=[];const n=[];i.forEach(((e,i)=>{var t,l,r;const u=(null==(t=null==e?void 0:e.riskCalcMethodInfoVO)?void 0:t.riskFactorRelationList)||[];o=o.concat(u.filter((e=>"insured"===e.factorObject)).map((e=>e.factorCode))),a=a.concat(u.filter((e=>"holder"===e.factorObject)).map((e=>e.factorCode))),n.push(null==(l=null==e?void 0:e.riskInsureLimitVO)?void 0:l.minHolderAge,null==(r=null==e?void 0:e.riskInsureLimitVO)?void 0:r.maxHolderAge)})),(e||[]).forEach((e=>{var i,o;const a={riskType:e.riskType,riskId:e.id,riskCode:e.riskCode,riskName:e.riskName,mainRiskCode:1!==e.riskType?null==(i=d.mainRiskData)?void 0:i.riskCode:void 0,mainRiskId:1!==e.riskType?null==(o=d.mainRiskData)?void 0:o.id:void 0,riskCategory:e.riskCategory,exemptFlag:t.originData.exemptFlag,exemptType:t.originData.exemptType,liabilityVOList:(e.riskLiabilityInfoVOList||[]).map((i=>({...i,liabilityAttributeCode:i.liabilityAttributeType,liabilityCode:i.liabilityCode,liabilityRateType:i.liabilityRateType,liabilityAttributeValue:p(i,e.id)})))};d.riskInfo[e.id]||Object.assign(d.riskInfo,{[e.id]:a})})),t.pickFactor({insuredFactorList:[...new Set(o)],holderFactorList:[...new Set(a)],ageRange:n})}),{deep:!0,immediate:!0}),l((()=>t.riskInfo),(e=>{d.mainRiskInfo=Object.values(e||{}).find((e=>1===(null==e?void 0:e.riskType)))||{}}),{deep:!0,immediate:!0}),l((()=>t.originData),(e=>{let i=[];const t=[];"proposal"===o.origin&&"add"!==o.type&&"repeatAdd"!==o.type?((e||[]).forEach((e=>{1===e.riskType&&(d.mainRiskData=e),i.push(e)})),i=i.filter((e=>o.showRiskList.includes(e.id)))):(e||[]).forEach((e=>{1===e.riskType?(d.mainRiskData=e,i.push(e)):2===e.collocationType?i.push(e):t.push(e)})),d.riderRiskList=t,d.currentRiskList=i}),{deep:!0,immediate:!0}),(e,i)=>{var t,a,l;const u=Vue.resolveComponent("ProCheckButton");return Vue.openBlock(),Vue.createElementBlock("div",te,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(d).currentRiskList,((i,t)=>(Vue.openBlock(),Vue.createBlock(z,{key:i.id,"form-info":Vue.unref(d).riskInfo[i.id],index:t,enums:e.enums,"main-risk-data":Vue.unref(d).mainRiskData,"main-risk-info":Vue.unref(d).mainRiskInfo,"origin-data":i,"remove-risk":m,"remove-risk-list":Vue.unref(d).checkedList},null,8,["form-info","index","enums","main-risk-data","main-risk-info","origin-data","remove-risk-list"])))),128)),(null==(t=Vue.unref(d).riderRiskList)?void 0:t.length)-(null==(a=Vue.unref(d).checkedList)?void 0:a.length)&&"proposal"!==Vue.unref(o).origin?(Vue.openBlock(),Vue.createElementBlock("div",oe,[Vue.createElementVNode("span",ae,Vue.toDisplayString(`共有${Vue.unref(d).riderRiskList.length-Vue.unref(d).checkedList.length}款附加险可以添加`),1),Vue.createVNode(u,{activated:"",class:"btn-rider-risk",onClick:i[0]||(i[0]=e=>Vue.unref(r)(!0))},{default:Vue.withCtx((()=>[ne,Vue.createTextVNode(" 附加险")])),_:1})])):Vue.createCommentVNode("",!0),Vue.unref(n)?(Vue.openBlock(),Vue.createBlock(ie,{key:1,modelValue:Vue.unref(d).checkedList,"onUpdate:modelValue":i[1]||(i[1]=e=>Vue.unref(d).checkedList=e),show:Vue.unref(n),disabled:Vue.unref(d).disabledList,"risk-list":Vue.unref(d).riderRiskList,"collocation-list":(null==(l=Vue.unref(d).mainRiskData)?void 0:l.collocationVOList)||[],onFinished:V,onClose:i[2]||(i[2]=e=>Vue.unref(r)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):Vue.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-fb5e5424"]]);const re={key:0,class:"part-card"},ue={key:1,class:"part-card"},de={class:"risk-content"},se={key:0,class:"risk"},ce={key:1,class:"plan-risk"},Ve={class:"footer-bar van-safe-area-bottom"},me={class:"trial-result"},pe={class:"result-num"},fe={class:"trial-operate"};var ve=d(Vue.defineComponent({__name:"trialPreview",setup(e){V();const o=m(),{agentCode:r="test",agencyCode:u="",tenantId:d=9991000007,insurerCode:s="99",productCode:c="MMBBSF",templateId:v,proposalId:k,saleChannelId:y}=o.query,g=i(!0),h=i({personVO:{occupationCodeList:[]}}),b=i({insuredCode:"",personVO:{occupationCodeList:[]}}),C=i({}),P=i({}),R=i({}),B=i(null),w=i({}),_=i({}),F=a({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0,retrialTip:!1,enumList:{},ageRange:[],collapseName:["1"],insuredRiskList:[],currentRiskList:[],productInfo:{}});Vue.provide("premium",w.value);const E=()=>{const e=JSON.parse(JSON.stringify(C.value[F.currentPlan])),i=Object.values(e).find((e=>1===e.riskType)),t=Object.values(e).map((e=>{const t=e;return((e,i)=>{var t,o,a,n;const l=e;if("3"===l.chargePeriod){const e=(i.chargePeriod||"").split("_");if(e[1]-=1,1===l.exemptFlag){if("to"===e[0]){let i=0;1===l.exemptType?(null==(t=h.value.personVO)?void 0:t.birthday)&&(i=parseInt(""+(+new Date-new Date(null==(o=h.value.personVO)?void 0:o.birthday))/31536e6,10)):2===l.exemptType&&(null==(a=b.value.personVO)?void 0:a.birthday)&&(i=parseInt(""+(+new Date-new Date(null==(n=b.value.personVO)?void 0:n.birthday))/31536e6,10)),e[1]=e[1]-i}e[0]="year",l.coveragePeriod=e.join("_")}l.chargePeriod=e.join("_")}})(t,i),t.liabilityVOList=(t.liabilityVOList||[]).filter((e=>1===e.optionalFlag||e.liabilityAttributeValue&&"-1"!==e.liabilityAttributeValue)).map((e=>{const i=e;return"0"===i.liabilityAttributeValue&&(i.liabilityAttributeValue=""),i})),t})),o={holder:h.value,productCode:F.riskBaseInfo.productCode,insuredVOList:[{...b.value,productPlanVOList:[{planCode:F.currentPlan||"",insurerCode:F.riskBaseInfo.insurerCode,riskVOList:t}]}]};N({...o}).then((({code:e,data:i})=>{if("10000"===e){(null==i?void 0:i.errorInfo)&&f(`${i.errorInfo}`),F.retrialTip=!1,F.trialResult=i,F.canTrial=!1;const e={},t=(i=[])=>{(i||[]).forEach((i=>{var o;e[i.riskCode]=i,(null==(o=i.riskPremiumDetailVOList)?void 0:o.length)&&t(i.riskPremiumDetailVOList)}))};t(i.riskPremiumDetailVOList),((e,i)=>{F.insuredRiskList=e.map((e=>{var t,o;return{initialAmount:null==(t=i[e.riskCode])?void 0:t.amount,amountUnit:1,annuityDrawFrequency:e.annuityDrawFrequency,paymentFrequency:e.paymentFrequency,paymentPeriod:e.chargePeriod.split("_")[1],paymentPeriodType:I[e.chargePeriod.split("_")[0]],insurancePeriodType:D["to_life"===e.coveragePeriod?"to_life":e.coveragePeriod.split("_")[0]],insurancePeriodValue:Number.isNaN(+e.coveragePeriod.split("_")[1])?0:e.coveragePeriod.split("_")[1],riskCode:e.riskCode,riskType:e.riskType,riskName:e.riskName,extInfo:{riskId:e.riskId,copy:e.copy},initialPremium:null==(o=i[e.riskCode])?void 0:o.premium,liabilityDetails:e.liabilityVOList.map((e=>({liabilityCode:e.liabilityCode,liabilityName:e.liabilityName,refundMethod:e.liabilityAttributeValue}))),productId:F.riskBaseInfo.id}}))})(o.insuredVOList[0].productPlanVOList[0].riskVOList,e),Object.assign(w.value,e)}}))},T=()=>{var e,i,t,o,a;Promise.all([null==(i=null==(e=P.value)?void 0:e.validateForm)?void 0:i.call(e),null==(o=null==(t=R.value)?void 0:t.validateForm)?void 0:o.call(t),null==(a=B.value)?void 0:a.validate()]).then((()=>{E()}),(e=>{var i;(null==e?void 0:e.length)&&(null==(i=null==B?void 0:B.value)||i.scrollToField(e[0].name))}))},A=()=>{L({productCode:c,source:k?2:1}).then((({code:e,data:i})=>{var t,o;"10000"===e&&(_.value=i,F.riskBaseInfo=i.productBasicInfoVO,(i.productRelationPlanVOList.length?i.productRelationPlanVOList:i.productRiskVoList[0].riskDetailVOList||[]).forEach(((e,i)=>{0===i&&(F.currentPlan=e.planCode||"0"),k||Object.assign(C.value,{[e.planCode||i]:{}})})),F.riskData=(null==(t=i.productRiskVoList[0])?void 0:t.riskDetailVOList)||[],F.riskPlanData=i.productRelationPlanVOList||[],k&&(o=i.productBasicInfoVO.id,x({id:k,tenantId:d}).then((({code:e,data:i})=>{var t;if("10000"===e){const{proposalInsuredProductList:e=[],...a}=(null==(t=i.proposalInsuredList)?void 0:t[0])||{};Object.assign(h.value.personVO,i.proposalHolder);const n=e.find((e=>e.productId===o));Object.assign(b.value.personVO,a,{occupationCodeList:(null==n?void 0:n.occupationCodeList)||[]});const l={};((null==n?void 0:n.proposalProductRiskList)||[]).forEach((e=>{l[e.riskId]=e})),Object.assign(C.value,{0:l})}}))))})).finally((()=>{}))},M=e=>{F.holderFactor=e.holderFactorList,F.insuredFactor=e.insuredFactorList,F.ageRange=e.ageRange};return l([()=>C.value,()=>h.value,()=>b.value],(e=>{e&&!F.canTrial&&(F.canTrial=!0)}),{deep:!0}),t((()=>{})),n((()=>{A(),p({dictCodeList:["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD"]}).then((({code:e,data:i})=>{if("10000"===e){const e={};i.forEach((i=>{e[i.dictCode]=i.dictItemList})),F.enumList=e}}))})),(e,i)=>{const t=Vue.resolveComponent("ProTitle"),o=Vue.resolveComponent("VanForm"),a=Vue.resolveComponent("ProTabButton"),n=Vue.resolveComponent("VanTab"),l=Vue.resolveComponent("VanTabs"),r=Vue.resolveComponent("van-collapse-item"),u=Vue.resolveComponent("van-collapse"),d=Vue.resolveComponent("VanButton"),s=Vue.resolveComponent("van-action-sheet"),c=Vue.resolveComponent("ProPageWrap");return Vue.openBlock(),Vue.createBlock(c,{class:"page-trial-wrapper"},{default:Vue.withCtx((()=>{var e;return[Vue.createTextVNode(" 试算因子渲染 参考short中表单渲染 -------- 投保人试算因子 "),Vue.unref(F).holderFactor.length?(Vue.openBlock(),Vue.createElementBlock("div",re,[Vue.createVNode(t,{title:"投保人"})])):Vue.createCommentVNode("",!0),Vue.createTextVNode(" 投保人试算因子 "),Vue.unref(F).insuredFactor.length?(Vue.openBlock(),Vue.createElementBlock("div",ue,[Vue.createVNode(t,{title:"被保人"})])):Vue.createCommentVNode("",!0),Vue.createTextVNode(" 保障方案 "),Vue.createElementVNode("div",de,[Vue.createVNode(u,{modelValue:Vue.unref(F).collapseName,"onUpdate:modelValue":i[1]||(i[1]=e=>Vue.unref(F).collapseName=e)},{default:Vue.withCtx((()=>[Vue.createVNode(r,{name:"1"},{title:Vue.withCtx((()=>[Vue.createVNode(t,{title:"投保方案"})])),default:Vue.withCtx((()=>[Vue.unref(F).riskData.length&&Vue.unref(C)[0]?(Vue.openBlock(),Vue.createElementBlock("div",se,[Vue.createVNode(o,{ref_key:"riskFormRef",ref:B,"input-align":"right","error-message-align":"right"},{default:Vue.withCtx((()=>[Vue.createVNode(le,{"risk-info":Vue.unref(C)[0],enums:Vue.unref(F).enumList,"origin-data":Vue.unref(F).riskData,"pick-factor":M},null,8,["risk-info","enums","origin-data"])])),_:1},512)])):Vue.createCommentVNode("",!0),Vue.unref(F).riskPlanData.length?(Vue.openBlock(),Vue.createElementBlock("div",ce,[Vue.createVNode(o,{ref_key:"riskFormRef",ref:B,"input-align":"right","error-message-align":"right"},{default:Vue.withCtx((()=>[Vue.createVNode(l,{active:Vue.unref(F).currentPlan,"onUpdate:active":i[0]||(i[0]=e=>Vue.unref(F).currentPlan=e)},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(F).riskPlanData,(e=>(Vue.openBlock(),Vue.createBlock(n,{key:e.planCode,name:e.planCode,title:e.planName},{title:Vue.withCtx((()=>[Vue.createVNode(a,{title:e.planName,active:Vue.unref(F).currentPlan===e.planCode},null,8,["title","active"])])),default:Vue.withCtx((()=>{var i;return[e.planCode===Vue.unref(F).currentPlan?(Vue.openBlock(),Vue.createBlock(le,{key:0,"risk-info":Vue.unref(C)[e.planCode],enums:Vue.unref(F).enumList,"origin-data":null==(i=e.productRiskVoList)?void 0:i[0].riskDetailVOList,"pick-factor":M},null,8,["risk-info","enums","origin-data"])):Vue.createCommentVNode("",!0)]})),_:2},1032,["name","title"])))),128))])),_:1},8,["active"])])),_:1},512)])):Vue.createCommentVNode("",!0)])),_:1})])),_:1},8,["modelValue"])]),Vue.createElementVNode("div",Ve,[Vue.createElementVNode("span",me,[Vue.createTextVNode("总保费"),Vue.createElementVNode("span",pe,Vue.toDisplayString((Vue.unref(F).retrialTip?0:(null==(e=Vue.unref(F).trialResult)?void 0:e.premium)||0).toLocaleString("hanidec",{style:"currency",currency:"CNY"})),1)]),Vue.createElementVNode("div",fe,[Vue.unref(F).canTrial?(Vue.openBlock(),Vue.createBlock(d,{key:0,type:"primary",onClick:T},{default:Vue.withCtx((()=>[Vue.createTextVNode("立即投保")])),_:1})):Vue.createCommentVNode("",!0)])]),Vue.createVNode(s,{show:Vue.unref(g),"onUpdate:show":i[2]||(i[2]=e=>Vue.isRef(g)?g.value=e:null),title:"标题",style:{height:"100%"}},{default:Vue.withCtx((()=>[Vue.unref(_).productCode?(Vue.openBlock(),Vue.createBlock(O,{key:0,class:"content","origin-data":Vue.unref(_)},null,8,["origin-data"])):Vue.createCommentVNode("",!0)])),_:1},8,["show"])]})),_:1})}}}),[["__scopeId","data-v-126a84e7"]]);export{ve as default};
