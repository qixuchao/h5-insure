!function(){var e=document.createElement("style");e.innerHTML=".van-field--error .van-field__control--error .placeholder{color:var(--van-danger-color, var(--zaui-danger))}.van-cell{align-items:center}.van-cell .van-field__label{margin:unset;padding-right:.53333rem}.input-extra{margin-left:.33333rem;margin-top:.18667rem}.date-extra{padding-left:var(--zaui-card-border, .4rem);margin-left:var(--zaui-card-border, .4rem);border-left:1px solid #EEEFF4;margin-top:.21333rem;display:flex}.button-extra{padding-top:.05333rem}.sms-code{border:none;background:transparent}.van-cell:after{width:unset}.relation-holder{align-items:flex-start}.relation-holder .van-field__label{margin:.21333rem 0 .10667rem}.page-info-wrapper .van-cell .van-field__value{align-items:flex-start}.page-info-wrapper .com-card .com-card-wrap .body{padding:0}.page-info-wrapper .beneficiary-part .part-title{display:flex;align-items:center;justify-content:space-between;padding:0 var(--zaui-card-border, .4rem);background-color:var(--zaui-global-bg, #f2f5fc);height:1.2rem}.page-info-wrapper .beneficiary-part .part-title .title{font-size:.4rem;font-weight:600;color:#393d46}.page-info-wrapper .radio-item-wrapper{padding:0}.page-info-wrapper .radio-item-wrapper p{font-size:.4rem;color:#393d46;margin:.06667rem 0;word-break:break-all}.page-info-wrapper .radio-item-wrapper .name{font-weight:600;margin-right:.4rem}.page-info-wrapper .radio-item-wrapper .phone{font-weight:400}\n",document.head.appendChild(e),System.register(["./index-legacy-c3cd4036.js","./infoCollection-legacy-51f077ba.js","./relativeTime-legacy-4b5b6d28.js","./validator-legacy-5e43cc69.js","./useDicData-legacy-8a523723.js","./pdfh5-legacy-9f98dc45.js"],(function(e){"use strict";var a,o,l,i,n,r,t,d,u,s,f,m,c,p,I,v,V,b,w,x,y,h,C,g,k,R,L,O,U,_,T,E,q,S,A;return{setters:[function(e){a=e.d,o=e.G,l=e.a,i=e.r,n=e.x,r=e.a0,t=e.a4,d=e.ap,u=e.ac,s=e.aq,f=e.ar,m=e.as,c=e.b,p=e.g,I=e.c,v=e.h,V=e.e,b=e.w,w=e.f,x=e.k,y=e.aD,h=e.X,C=e.j,g=e.n,k=e.aJ,R=e.B,L=e.t,O=e.T,U=e.Z,_=e.u,T=e.z},function(e){E=e.R},function(e){q=e.r},function(e){S=e.v},function(e){A=e.u},function(){}],execute:function(){const D={key:0,class:"com-personal-wrapper"},N={class:"date-extra"},$=C("span",{class:"input-extra"},"万",-1),P=C("span",{class:"input-extra"},"万",-1),H={class:"button-extra"},j=C("span",{class:"input-extra"},"%",-1),B=a({__name:"PersonalInfo",props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]},isView:{type:Boolean,default:!1},prefix:{default:""},beneficiaryList:{default:()=>[]},sendSmsCode:{type:Function,default:(e,a)=>{}},needDesensitize:{type:Boolean,default:!1}},emits:["update:images"],setup(e,{emit:a}){const _=e;o();const{insurerCode:T=""}=l().query,B=A(`${T.toLocaleUpperCase()}_OCCUPATION`),M=A("NATIONAL_REGION_CODE"),z=i([]),F=i(!1),Y=i(),Z=i(),G=i({formInfo:_.formInfo,birth:{min:new Date("1900-01-01"),max:new Date},certEndDate:{min:new Date("1900-01-01"),max:new Date("2099-12-31")},occupationalText:""}),J=i(!1),K=n((()=>J.value?(G.value.formInfo.mobile||"").replace(/^(.{3})(?:\d+)(.{4})$/,"$1****$2"):_.formInfo.mobile)),W=i(!1),X=n((()=>W.value?(G.value.formInfo.certNo||"").replace(/^(.{6})(?:\d+)(.{2})$/,"$1**********$2"):_.formInfo.certNo));r.extend(q);const Q=i(2===_.formInfo.certEndType),ee=i(18),ae=i(0),oe=i("验证码"),le=i(!1),ie=n((()=>{const e={};return _.factorList.forEach((a=>{e[a.code]=a})),e})),ne=(e,a)=>{G.value.formInfo[a]=e};n((()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(G.value.formInfo.mobile)));const re=e=>{"mobile"===e&&(J.value=!1),"certNo"===e&&(W.value=!1)},te=async()=>{ae.value>0||_.sendSmsCode({mobile:G.value.formInfo.mobile,type:_.prefix},(()=>{le.value=!0,O({message:"短信发送成功，请查收"}),(()=>{if(ae.value>0)return;ae.value=60;const e=()=>{oe.value=`${ae.value}s`,ae.value-=1};e();const a=setInterval((()=>{0===ae.value?(oe.value="验证码",ae.value=0,clearInterval(a)):e()}),1e3)})()}))},de=e=>{G.value.formInfo.certNo=e.personIdCard,G.value.formInfo.name=e.personName,G.value.formInfo.certEndDate=r(e.validDateEnd,"YYYYMMDD").toDate()},ue=e=>ie.value&&ie.value[e]&&ie.value[e]?.isDisplay===U.YES,se=e=>ie.value&&ie.value[e]&&ie.value[e].isMustInput===U.YES,fe=(e,a)=>ie.value?.[e]?.[a]||"",me=n((()=>{if(!ue("certType"))return G.value.formInfo.certType=+t.CERT,!1;const e=fe("certType","attributeValueList")||[];return 1!==e.length||e[0]?.code!==t.CERT||(G.value.formInfo.certType=+t.CERT,!1)})),ce=n((()=>fe("certType","attributeValueList")?.length>1?"证件号码":"insure"===_.prefix&&G.value.formInfo?.relationToHolder===E.CHILD?"身份证号(户口簿)":fe("certType","attributeValueList")?.[0].code===t.CERT?"身份证号":fe("certType","title"))),pe=(e,a)=>S(e)?"":"请输入正确的姓名",Ie=n((()=>(ee.value=18,[t.CERT,t.HOUSE_HOLD].includes(`${G.value.formInfo.certType}`)?(F.value=!0,[d.ID_CARD]):`${G.value.formInfo.certType}`===t.BIRTH?(F.value=!1,ee.value=10,[d.BIRTH]):`${G.value.formInfo.certType}`===t.PASSPORT?(F.value=!1,[d.PASSPORT]):`${G.value.formInfo.certType}`===t.SOCIAL_CREDIT_CODE?(F.value=!1,[d.SOCIAL_CREDIT_CODE]):`${G.value.formInfo.certType}`===t.OTHER?(F.value=!1,[d.OTHER]):(F.value=!0,[d.ID_CARD])))),ve=(e,a)=>se("attachment")?2===G.value.formInfo.certEndType||G.value.formInfo.certEndDate?"":"请选择有效期至":"",Ve=(e,a)=>/^\d{1,10}(\.\d{1,2})?$/.test(e)?"":"年收入最多录入10位数字",be=(e,a)=>/^[1-9]$|^[1-9][0-9]$|^100$/.test(e)?"":"收益比例只能填写1-100的正整数",we=(e,a)=>e.length>=5&&e.length<=99?"":"最多99个字符最少5个字符",xe=(e,a,o)=>a.length>e?`最大不能超过${e}个字符`:"",ye=(e,a)=>{if(!ue("nationality"))return"";if("CHN"===G.value.formInfo?.extInfo?.nationalityCode){if(![t.CERT,t.HOUSE_HOLD,t.BIRTH,t.MILITARY_CARD].includes(`${e}`))return"国籍为中国时，证件类型只允许选择身份证、户口本、出生证、军官证"}else if(["HKG","MAC"].includes(G.value.formInfo?.extInfo?.nationalityCode)){if(![t.HK_MACAO_RESIDENCE_PERMIT,t.HONGKONG_MACAO].includes(`${e}`))return"国籍为中国香港、中国澳门时，证件类型只允许选择港澳通行证、港澳居民居住证"}else if("TWN"===G.value.formInfo?.extInfo?.nationalityCode){if(![t.TAIWAN_RESIDENCE_PERMIT,t.TAIWAN_TRAVEL].includes(`${e}`))return"国籍为中国台湾时，证件类型只允许选择台湾通行证、台湾居民居住证"}else if(![t.PASSPORT,t.FOREIGN_PERMANENT].includes(`${e}`))return"国籍为非中国、港澳台时，证件类型只允许选择护照、外国人永久居留身份证";return r().year()-r(G.value.formInfo?.birthday).year()>2&&e===t.BIRTH?"年龄大于等于2周岁时，证件类型不能选择出生证":""},he=e=>Array.isArray(e)&&2===e.length&&e[0]&&e[1]?"":"请上传身份证正反面照片";return u((()=>Q.value),(e=>{e?(G.value.formInfo.certEndType=2,G.value.formInfo.certEndDate=""):G.value.formInfo.certEndType=1}),{immediate:!0}),u((()=>G.value.formInfo.mobile),(()=>{G.value.formInfo.mobile=G.value.formInfo.mobile?.replace(/[\u4e00-\u9fa5/\s+/]|[^0-9\u4E00-\u9FA5]/g,"")}),{deep:!0,immediate:!0}),u([()=>G.value.formInfo.certNo,()=>G.value.formInfo.mobile],(()=>{G.value.formInfo.certNo=G.value.formInfo.certNo?.replace(/[\u4e00-\u9fa5/\s+/]/g,""),G.value.formInfo.mobile=G.value.formInfo.mobile?.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,"")}),{deep:!0,immediate:!0}),u((()=>_.needDesensitize),((e=!1)=>{J.value=e,W.value=e}),{immediate:!0}),u((()=>G.value.formInfo.certType),(e=>{[t.CERT,t.HOUSE_HOLD].includes(e)?F.value=!0:F.value=!1}),{deep:!0,immediate:!0}),u([()=>G.value.formInfo.certNo,()=>G.value.formInfo.certType],(([e])=>{[t.CERT,t.HOUSE_HOLD].includes(`${G.value.formInfo.certType}`)&&(s(e)?(G.value.formInfo.gender=+f(e),G.value.formInfo.birthday=r(new Date(m(e))).format("YYYY-MM-DD")):(G.value.formInfo.gender=null,G.value.formInfo.birthday=""))}),{deep:!0,immediate:!0}),u((()=>_.images),(e=>{z.value=e}),{immediate:!0}),u((()=>_.formInfo),(()=>{G.value.formInfo=_.formInfo}),{deep:!0,immediate:!0}),u(z,(e=>{a("update:images",e)}),{deep:!0}),(a,o)=>{const l=c("ProRadioButton"),i=c("ProField"),n=c("ProPicker"),r=c("ProIDCardUpload"),t=c("ProImageUpload"),u=c("ProDatePicker"),s=c("van-checkbox"),f=c("ProCascader"),m=c("van-button");return Object.keys(p(ie)).length?(I(),v("div",D,[ue("insuredBeneficiaryType")?(I(),V(i,{key:0,modelValue:p(G).formInfo.insuredBeneficiaryType,"onUpdate:modelValue":o[1]||(o[1]=e=>p(G).formInfo.insuredBeneficiaryType=e),label:fe("insuredBeneficiaryType","title"),name:"insuredBeneficiaryType"},{input:b((()=>[w(l,{modelValue:p(G).formInfo.insuredBeneficiaryType,"onUpdate:modelValue":o[0]||(o[0]=e=>p(G).formInfo.insuredBeneficiaryType=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("insuredBeneficiaryType","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label"])):x("",!0),ue("insuredRelation")?(I(),V(i,{key:1,modelValue:p(G).formInfo.insuredRelation,"onUpdate:modelValue":o[3]||(o[3]=e=>p(G).formInfo.insuredRelation=e),label:fe("insuredRelation","title"),name:"insuredRelation"},{input:b((()=>[w(l,{modelValue:p(G).formInfo.insuredRelation,"onUpdate:modelValue":o[2]||(o[2]=e=>p(G).formInfo.insuredRelation=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("insuredRelation","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label"])):x("",!0),ue("name")?(I(),V(i,{key:2,modelValue:p(G).formInfo.name,"onUpdate:modelValue":o[4]||(o[4]=e=>p(G).formInfo.name=e),label:fe("name","title"),name:`${e.prefix}_name`,"is-view":e.isView,required:se("name"),rules:[{validator:pe}]},{"right-icon":b((()=>[y(a.$slots,"name")])),_:3},8,["modelValue","label","name","is-view","required","rules"])):x("",!0),ue("sex")?(I(),V(i,{key:3,modelValue:p(G).formInfo.gender,"onUpdate:modelValue":o[6]||(o[6]=e=>p(G).formInfo.gender=e),required:se("sex"),label:fe("sex","title"),name:`${e.prefix}_gender`,"is-view":p(F)},{input:b((()=>[w(l,{modelValue:p(G).formInfo.gender,"onUpdate:modelValue":o[5]||(o[5]=e=>p(G).formInfo.gender=e),disabled:p(F),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("sex","attributeValueList")||[]},null,8,["modelValue","disabled","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):x("",!0),p(me)?(I(),V(n,{key:4,modelValue:p(G).formInfo.certType,"onUpdate:modelValue":o[7]||(o[7]=e=>p(G).formInfo.certType=e),label:fe("certType","title"),name:`${e.prefix}_certType`,"data-source":fe("certType","attributeValueList"),mapping:{label:"value",value:"code",children:"child"},required:se("certType"),rules:[{validator:ye}],"is-view":e.isView},null,8,["modelValue","label","name","data-source","required","rules","is-view"])):x("",!0),ue("certImage")&&p(G).formInfo.certType+""=="1"?(I(),V(i,{key:5,label:"身份证上传",block:"",required:se("certImage"),rules:[{validator:he}],name:`${e.prefix}_idCard`},{input:b((()=>[w(r,{modelValue:p(z),"onUpdate:modelValue":o[8]||(o[8]=e=>h(z)?z.value=e:null),"is-view":e.isView,onOnOCR:de},null,8,["modelValue","is-view"])])),_:1},8,["required","rules","name"])):x("",!0),ue("certImage")&&p(G).formInfo.certType&&p(G).formInfo.certType+""!="1"?(I(),V(i,{key:6,label:fe("certImage","title"),block:"",required:se("certImage")},{input:b((()=>[w(t,{modelValue:p(z),"onUpdate:modelValue":o[9]||(o[9]=e=>h(z)?z.value=e:null),"is-view":e.isView,"max-count":1},null,8,["modelValue","is-view"])])),_:1},8,["label","required"])):x("",!0),ue("certNo")?(I(),V(i,{key:7,ref_key:"certNoRef",ref:Y,modelValue:p(X),"onUpdate:modelValue":[o[10]||(o[10]=e=>h(X)?X.value=e:null),o[12]||(o[12]=e=>ne(e,"certNo"))],label:p(ce),name:`${e.prefix}_certNo`,required:se("certNo"),maxlength:p(ee),"is-view":e.isView,"validate-type":p(W)?void 0:p(Ie),onFocus:o[11]||(o[11]=e=>re("certNo"))},null,8,["modelValue","label","name","required","maxlength","is-view","validate-type"])):x("",!0),ue("birthDate")?(I(),V(u,{key:8,modelValue:p(G).formInfo.birthday,"onUpdate:modelValue":o[13]||(o[13]=e=>p(G).formInfo.birthday=e),label:fe("birthDate","title"),name:`${e.prefix}_birthday`,min:p(G).birth.min,max:p(G).birth.max,type:"date","is-view":p(F)||e.isView,required:se("birthDate")},null,8,["modelValue","label","name","min","max","is-view","required"])):x("",!0),ue("certExpiry")?(I(),V(u,{key:9,modelValue:p(G).formInfo.certEndDate,"onUpdate:modelValue":o[15]||(o[15]=e=>p(G).formInfo.certEndDate=e),label:fe("certExpiry","title"),name:`${e.prefix}_certEndDate`,type:"date",min:p(G).certEndDate.min,max:p(G).certEndDate.max,"is-view":p(Q)||e.isView,read:"",rules:[{validator:ve}]},{extra:b((()=>[C("div",N,[w(s,{modelValue:p(Q),"onUpdate:modelValue":o[14]||(o[14]=e=>h(Q)?Q.value=e:null),"icon-size":16,disabled:e.isView},{default:b((()=>[g("长期")])),_:1},8,["modelValue","disabled"])])])),_:1},8,["modelValue","label","name","min","max","is-view","rules"])):x("",!0),ue("age")?(I(),V(i,{key:10,modelValue:p(G).formInfo.name,"onUpdate:modelValue":o[16]||(o[16]=e=>p(G).formInfo.name=e),label:fe("age","title"),name:`${e.prefix}_age`,"is-view":e.isView,required:se("age")},null,8,["modelValue","label","name","is-view","required"])):x("",!0),ue("residence")?(I(),V(f,{key:11,modelValue:p(G).formInfo.extInfo.provinceCode,"onUpdate:modelValue":o[17]||(o[17]=e=>p(G).formInfo.extInfo.provinceCode=e),field1:p(G).formInfo.extInfo.provinceCode,"onUpdate:field1":o[18]||(o[18]=e=>p(G).formInfo.extInfo.provinceCode=e),field2:p(G).formInfo.extInfo.cityCode,"onUpdate:field2":o[19]||(o[19]=e=>p(G).formInfo.extInfo.cityCode=e),field3:p(G).formInfo.extInfo.areaCode,"onUpdate:field3":o[20]||(o[20]=e=>p(G).formInfo.extInfo.areaCode=e),label:fe("residence","title"),name:`${e.prefix}_provinceCode`,"is-link":"","is-view":e.isView,required:se("residence"),"data-source":p(M),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):x("",!0),ue("social")&&"insure"!==e.prefix?(I(),V(i,{key:12,modelValue:p(G).formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[22]||(o[22]=e=>p(G).formInfo.extInfo.hasSocialInsurance=e),label:fe("social","title"),name:`${e.prefix}_hasSocialInsurance`,required:se("social")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[21]||(o[21]=e=>p(G).formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("social","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("height")?(I(),V(i,{key:13,modelValue:p(G).formInfo.name,"onUpdate:modelValue":o[23]||(o[23]=e=>p(G).formInfo.name=e),label:fe("height","title"),"is-view":e.isView,name:`${e.prefix}_height`,required:se("height")},null,8,["modelValue","label","is-view","name","required"])):x("",!0),ue("weight")?(I(),V(i,{key:14,modelValue:p(G).formInfo.name,"onUpdate:modelValue":o[24]||(o[24]=e=>p(G).formInfo.name=e),label:fe("weight","title"),name:`${e.prefix}_weight`,"is-view":e.isView,required:se("weight")},null,8,["modelValue","label","name","is-view","required"])):x("",!0),ue("BMI")?(I(),V(i,{key:15,modelValue:p(G).formInfo.name,"onUpdate:modelValue":o[25]||(o[25]=e=>p(G).formInfo.name=e),label:fe("BMI","title"),name:`${e.prefix}_BMI`,"is-view":e.isView,required:se("BMI")},null,8,["modelValue","label","name","is-view","required"])):x("",!0),ue("insuredRiskManagementLevel")?(I(),V(i,{key:16,modelValue:p(G).formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[27]||(o[27]=e=>p(G).formInfo.extInfo.hasSocialInsurance=e),label:fe("insuredRiskManagementLevel","title"),name:`${e.prefix}_hasSocialInsurance`,required:se("insuredRiskManagementLevel")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[26]||(o[26]=e=>p(G).formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("insuredRiskManagementLevel","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("purchaseOtherInsurance")?(I(),V(i,{key:17,modelValue:p(G).formInfo.extInfo.purchaseOtherInsurance,"onUpdate:modelValue":o[29]||(o[29]=e=>p(G).formInfo.extInfo.purchaseOtherInsurance=e),label:fe("purchaseOtherInsurance","title"),name:`${e.prefix}_purchaseOtherInsurance`,required:se("purchaseOtherInsurance")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[28]||(o[28]=e=>p(G).formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("purchaseOtherInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("injuryInsurance")?(I(),V(i,{key:18,modelValue:p(G).formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":o[31]||(o[31]=e=>p(G).formInfo.extInfo.injuryInsurance=e),label:fe("injuryInsurance","title"),name:`${e.prefix}_hasSocialInsurance`,required:se("injuryInsurance")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":o[30]||(o[30]=e=>p(G).formInfo.extInfo.injuryInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("injuryInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("insureArea")?(I(),V(f,{key:19,label:fe("insureArea","title"),name:"insureAreaCode","is-link":"","is-view":e.isView,required:se("insureArea"),"data-source":p(M),mapping:{label:"name",value:"code",children:"children"}},null,8,["label","is-view","required","data-source"])):x("",!0),ue("occupation")&&"insure"!==e.prefix?(I(),V(f,{key:20,modelValue:p(G).formInfo.extInfo.occupationCodeList[0],"onUpdate:modelValue":o[32]||(o[32]=e=>p(G).formInfo.extInfo.occupationCodeList[0]=e),field0:p(G).formInfo.extInfo.occupationCodeList[0],"onUpdate:field0":o[33]||(o[33]=e=>p(G).formInfo.extInfo.occupationCodeList[0]=e),field1:p(G).formInfo.extInfo.occupationCodeList[1],"onUpdate:field1":o[34]||(o[34]=e=>p(G).formInfo.extInfo.occupationCodeList[1]=e),field2:p(G).formInfo.extInfo.occupationCodeList[2],"onUpdate:field2":o[35]||(o[35]=e=>p(G).formInfo.extInfo.occupationCodeList[2]=e),label:fe("occupation","title"),name:`${e.prefix}_occupationCodeList`,"is-view":e.isView,required:se("occupation"),"data-source":p(B),mapping:{label:"value",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","name","is-view","required","data-source"])):x("",!0),ue("personalAnnualIncome")?(I(),V(i,{key:21,modelValue:p(G).formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":o[36]||(o[36]=e=>p(G).formInfo.extInfo.personalAnnualIncome=e),label:fe("personalAnnualIncome","title"),name:`${e.prefix}_personalAnnualIncome`,required:se("personalAnnualIncome"),"is-view":e.isView,rules:[{validator:Ve}]},{extra:b((()=>[$])),_:1},8,["modelValue","label","name","required","is-view","rules"])):x("",!0),ue("familyAnnualIncome")?(I(),V(i,{key:22,modelValue:p(G).formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":o[37]||(o[37]=e=>p(G).formInfo.extInfo.familyAnnualIncome=e),label:fe("familyAnnualIncome","title"),name:`${e.prefix}_familyAnnualIncome`,"is-view":e.isView,rules:[{validator:Ve}],required:se("familyAnnualIncome")},{extra:b((()=>[P])),_:1},8,["modelValue","label","name","is-view","rules","required"])):x("",!0),ue("country")?(I(),V(n,{key:23,modelValue:p(G).formInfo.extInfo.nationalityCode,"onUpdate:modelValue":o[38]||(o[38]=e=>p(G).formInfo.extInfo.nationalityCode=e),label:fe("country","title"),name:`${e.prefix}_nationalityCode`,"data-source":fe("country","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:se("country"),"is-link":"","is-view":e.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):x("",!0),ue("hasUsCard")?(I(),V(i,{key:24,modelValue:p(G).formInfo.extInfo.hasUsCard,"onUpdate:modelValue":o[40]||(o[40]=e=>p(G).formInfo.extInfo.hasUsCard=e),label:fe("hasUsCard","title"),name:`${e.prefix}_hasUsCard`,required:se("hasUsCard")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.hasUsCard,"onUpdate:modelValue":o[39]||(o[39]=e=>p(G).formInfo.extInfo.hasUsCard=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("hasUsCard","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("marritalStatus")?(I(),V(n,{key:25,modelValue:p(G).formInfo.extInfo.marriageStatus,"onUpdate:modelValue":o[41]||(o[41]=e=>p(G).formInfo.extInfo.marriageStatus=e),label:fe("marritalStatus","title"),name:`${e.prefix}_marriageStatus`,"data-source":fe("marritalStatus","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},"is-link":"","is-view":e.isView,required:se("marritalStatus")},null,8,["modelValue","label","name","data-source","is-view","required"])):x("",!0),ue("degree")?(I(),V(n,{key:26,modelValue:p(G).formInfo.extInfo.educationDegree,"onUpdate:modelValue":o[42]||(o[42]=e=>p(G).formInfo.extInfo.educationDegree=e),label:fe("degree","title"),name:`${e.prefix}_educationDegree`,"data-source":fe("degree","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},required:se("degree"),"is-link":"","is-view":e.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):x("",!0),ue("mobile")?(I(),V(i,{key:27,ref_key:"phoneRef",ref:Z,modelValue:p(K),"onUpdate:modelValue":[o[43]||(o[43]=e=>h(K)?K.value=e:null),o[45]||(o[45]=e=>ne(e,"mobile"))],label:fe("mobile","title"),name:`${e.prefix}_mobile`,maxlength:11,"is-view":e.isView,required:se("mobile"),"validate-type":p(J)?void 0:[p(d).PHONE],onFocus:o[44]||(o[44]=e=>re("mobile"))},null,8,["modelValue","label","name","is-view","required","validate-type"])):x("",!0),ue("verificationCode")?(I(),V(i,{key:28,modelValue:p(G).formInfo.verificationCode,"onUpdate:modelValue":o[46]||(o[46]=e=>p(G).formInfo.verificationCode=e),label:fe("verificationCode","title"),name:`${e.prefix}_verificationCode`,type:"digit",maxlength:6,"is-view":e.isView,required:se("verificationCode")},k({_:2},[e.isView?void 0:{name:"extra",fn:b((()=>[C("div",H,[w(m,{class:R(["sms-code",{"count-down":p(ae)>0}]),size:"small",plain:"",type:"primary",onClick:te},{default:b((()=>[g(L(p(oe)),1)])),_:1},8,["class"])])])),key:"0"}]),1032,["modelValue","label","name","is-view","required"])):x("",!0),ue("isSmoke")?(I(),V(i,{key:29,modelValue:p(G).formInfo.isSmoke,"onUpdate:modelValue":o[48]||(o[48]=e=>p(G).formInfo.isSmoke=e),required:se("isSmoke"),label:fe("isSmoke","title"),name:`${e.prefix}_isSmoke`,"is-view":p(F)},{input:b((()=>[w(l,{modelValue:p(G).formInfo.isSmoke,"onUpdate:modelValue":o[47]||(o[47]=e=>p(G).formInfo.isSmoke=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("isSmoke","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):x("",!0),ue("contactNo")?(I(),V(i,{key:30,modelValue:p(G).formInfo.contactNo,"onUpdate:modelValue":o[49]||(o[49]=e=>p(G).formInfo.contactNo=e),label:fe("contactNo","title"),name:`${e.prefix}_contactNo`,"is-view":e.isView,required:se("contactNo")},null,8,["modelValue","label","name","is-view","required"])):x("",!0),ue("email")?(I(),V(i,{key:31,modelValue:p(G).formInfo.email,"onUpdate:modelValue":o[50]||(o[50]=e=>p(G).formInfo.email=e),label:fe("email","title"),name:`${e.prefix}_email`,"is-view":e.isView,required:se("email"),"validate-type":[p(d).EMAIL]},null,8,["modelValue","label","name","is-view","required","validate-type"])):x("",!0),ue("homeAddress")?(I(),V(f,{key:32,modelValue:p(G).formInfo.extInfo.familyAreaCode,"onUpdate:modelValue":o[51]||(o[51]=e=>p(G).formInfo.extInfo.familyAreaCode=e),field1:p(G).formInfo.extInfo.familyProvinceCode,"onUpdate:field1":o[52]||(o[52]=e=>p(G).formInfo.extInfo.familyProvinceCode=e),field2:p(G).formInfo.extInfo.familyCityCode,"onUpdate:field2":o[53]||(o[53]=e=>p(G).formInfo.extInfo.familyCityCode=e),field3:p(G).formInfo.extInfo.familyAreaCode,"onUpdate:field3":o[54]||(o[54]=e=>p(G).formInfo.extInfo.familyAreaCode=e),label:fe("homeAddress","title"),name:`${e.prefix}_familyProvinceCode`,"is-link":"","is-view":e.isView,required:se("homeAddress"),"data-source":p(M),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):x("",!0),ue("homeAddressDetail")?(I(),V(i,{key:33,modelValue:p(G).formInfo.extInfo.familyAddress,"onUpdate:modelValue":o[55]||(o[55]=e=>p(G).formInfo.extInfo.familyAddress=e),label:fe("homeAddressDetail","title"),name:`${e.prefix}_familyAddress`,"is-view":e.isView,maxlength:99,rules:[{validator:we}],required:se("homeAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):x("",!0),ue("homePostalCode")?(I(),V(i,{key:34,modelValue:p(G).formInfo.extInfo.familyZipCode,"onUpdate:modelValue":o[56]||(o[56]=e=>p(G).formInfo.extInfo.familyZipCode=e),label:fe("homePostalCode","title"),name:`${e.prefix}_familyZipCode`,"is-view":e.isView,required:se("homePostalCode"),"validate-type":[p(d).ZIP_CODE]},null,8,["modelValue","label","name","is-view","required","validate-type"])):x("",!0),ue("workAddress")?(I(),V(f,{key:35,modelValue:p(G).formInfo.extInfo.workAreaCode,"onUpdate:modelValue":o[57]||(o[57]=e=>p(G).formInfo.extInfo.workAreaCode=e),field1:p(G).formInfo.extInfo.workProvinceCode,"onUpdate:field1":o[58]||(o[58]=e=>p(G).formInfo.extInfo.workProvinceCode=e),field2:p(G).formInfo.extInfo.workCityCode,"onUpdate:field2":o[59]||(o[59]=e=>p(G).formInfo.extInfo.workCityCode=e),field3:p(G).formInfo.extInfo.workAreaCode,"onUpdate:field3":o[60]||(o[60]=e=>p(G).formInfo.extInfo.workAreaCode=e),label:fe("workAddress","title"),name:`${e.prefix}_workProvinceCode`,"is-link":"","is-view":e.isView,required:se("workAddress"),"data-source":p(M),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):x("",!0),ue("workAddressDetail")?(I(),V(i,{key:36,modelValue:p(G).formInfo.extInfo.workAddress,"onUpdate:modelValue":o[61]||(o[61]=e=>p(G).formInfo.extInfo.workAddress=e),label:fe("workAddressDetail","title"),name:`${e.prefix}_workAddress`,"is-view":e.isView,rules:[{validator:we}],required:se("workAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):x("",!0),ue("workPostalCode")?(I(),V(i,{key:37,modelValue:p(G).formInfo.extInfo.workZipCode,"onUpdate:modelValue":o[62]||(o[62]=e=>p(G).formInfo.extInfo.workZipCode=e),label:fe("workPostalCode","title"),required:se("workZipCode"),name:`${e.prefix}_workPostCode`,"is-view":e.isView,"validate-type":[p(d).ZIP_CODE]},null,8,["modelValue","label","required","name","is-view","validate-type"])):x("",!0),ue("companyName")?(I(),V(i,{key:38,modelValue:p(G).formInfo.extInfo.workStation,"onUpdate:modelValue":o[63]||(o[63]=e=>p(G).formInfo.extInfo.workStation=e),label:fe("companyName","title"),name:`${e.prefix}_workPostCode`,"is-view":e.isView,rules:[{validator:(...e)=>xe(20,...e)}],required:se("companyName")},null,8,["modelValue","label","name","is-view","rules","required"])):x("",!0),ue("workContent")?(I(),V(i,{key:39,modelValue:p(G).formInfo.extInfo.workContent,"onUpdate:modelValue":o[64]||(o[64]=e=>p(G).formInfo.extInfo.workContent=e),label:fe("workContent","title"),name:`${e.prefix}_workContent`,required:se("workContent"),"is-view":e.isView,rules:[{validator:(...e)=>xe(100,...e)}]},null,8,["modelValue","label","name","required","is-view","rules"])):x("",!0),ue("chineseTaxResident")?(I(),V(i,{key:40,modelValue:p(G).formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":o[66]||(o[66]=e=>p(G).formInfo.extInfo.chineseTaxResident=e),label:fe("chineseTaxResident","title"),name:`${e.prefix}_taxResident`,required:se("chineseTaxResident")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":o[65]||(o[65]=e=>p(G).formInfo.extInfo.chineseTaxResident=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("chineseTaxResident","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("taxResident")?(I(),V(n,{key:41,modelValue:p(G).formInfo.taxResident,"onUpdate:modelValue":o[67]||(o[67]=e=>p(G).formInfo.taxResident=e),"is-view":e.isView,label:fe("taxResident","title"),name:`${e.prefix}_benefitOrder`,"data-source":fe("taxResident","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:se("taxResident")},null,8,["modelValue","is-view","label","name","data-source","required"])):x("",!0),ue("partTimeJob")?(I(),V(i,{key:42,modelValue:p(G).formInfo.extInfo.isPartTime,"onUpdate:modelValue":o[69]||(o[69]=e=>p(G).formInfo.extInfo.isPartTime=e),label:fe("partTimeJob","title"),name:`${e.prefix}_isPartTime`,required:se("partTimeJob")},{input:b((()=>[w(l,{modelValue:p(G).formInfo.extInfo.isPartTime,"onUpdate:modelValue":o[68]||(o[68]=e=>p(G).formInfo.extInfo.isPartTime=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:fe("partTimeJob","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):x("",!0),ue("benefitOrder")?(I(),V(n,{key:43,modelValue:p(G).formInfo.benefitOrder,"onUpdate:modelValue":o[70]||(o[70]=e=>p(G).formInfo.benefitOrder=e),label:fe("benefitOrder","title"),name:`${e.prefix}_benefitOrder`,"is-view":e.isView,"data-source":fe("benefitOrder","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:se("benefitOrder")},null,8,["modelValue","label","name","is-view","data-source","required"])):x("",!0),ue("benefitRate")?(I(),V(i,{key:44,modelValue:p(G).formInfo.benefitRate,"onUpdate:modelValue":o[71]||(o[71]=e=>p(G).formInfo.benefitRate=e),required:se("benefitRate"),name:`${e.prefix}_benefitRate`,"is-view":e.isView,rules:[{validator:be}],label:fe("benefitRate","title")},{extra:b((()=>[j])),_:1},8,["modelValue","required","name","is-view","rules","label"])):x("",!0),y(a.$slots,"default")])):x("",!0)}}});const M={class:"page-info-wrapper"};e("default",a({__name:"index",props:{factorObject:null,formInfo:{default:()=>({})},isView:{type:Boolean,default:!1},sendSmsCode:{type:Function,default:(e,a)=>{}},titleCollection:{default:()=>({})},inputAlign:{default:"left"},needDesensitize:{type:Boolean,default:!1}},setup(e,{expose:a}){const o=e,{insurerCode:r=""}=l().query;_(),l();const t=A(`${r.toLocaleUpperCase()}_OCCUPATION`),d=i({}),s=i({extInfo:{},tenantOrderHolder:{extInfo:{occupationCodeList:[]}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",subjectNo:""}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),f=i(null),m=i([]),C=i([]);i([]),i([]);i([]);T({beneficiaryId:0,nextPage:"",currentAddress:null,isLoading:!0});const g=n((()=>{const e={INSURER:{},HOLDER:{}};return(d.value?.INSURER||[]).forEach((a=>{e.INSURER[a.code]=a})),(d.value?.HOLDER||[]).forEach((a=>{e.HOLDER[a.code]=a})),e})),k=(e,a)=>g.value?.[a]?.[e]?.isDisplay===U.YES,R=(e,a)=>g.value?.[a]?.[e].isMustInput===U.YES,L=(e,a,o)=>g.value?.[o]?.[e]?.[a]||"",O=(e,a)=>{const o=e;return Object.keys(o).forEach((e=>{a.includes(e)||(o[e]="")})),o};return a({validateForm:e=>new Promise(((a,o)=>{f.value?.validate(e).then((()=>{a(s.value)}),(()=>{o()}))}))}),u((()=>o.factorObject),(()=>{const e={BENEFICIARY:o.factorObject[3],INSURER:o.factorObject[2],HOLDER:o.factorObject[1]};d.value=e}),{immediate:!0,deep:!0}),u([()=>s.value.tenantOrderInsuredList[0].relationToHolder,()=>s.value.tenantOrderHolder],(([e],[a])=>{`${s.value.tenantOrderInsuredList[0].relationToHolder}`===E.SELF?(Object.assign(s.value.tenantOrderInsuredList[0],{...O(s.value?.tenantOrderInsuredList?.[0],["extInfo","relationToHolder","tenantOrderBeneficiaryList","tenantOrderProductList"]),extInfo:{occupationCodeList:[]}}),Object.assign(s.value.tenantOrderInsuredList[0],s.value.tenantOrderHolder,{id:s.value.tenantOrderInsuredList[0].id,extInfo:{...s.value.tenantOrderHolder.extInfo,insureProvinceCode:s.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,insureCityCode:s.value.tenantOrderInsuredList[0].extInfo.insureCityCode,insureAreaCode:s.value.tenantOrderInsuredList[0].extInfo.insureAreaCode}})):e===a||o.isView||Object.assign(s.value.tenantOrderInsuredList[0],{...O(s.value?.tenantOrderInsuredList?.[0],["extInfo","relationToHolder","tenantOrderBeneficiaryList","tenantOrderProductList"]),extInfo:{occupationCodeList:[]}})}),{deep:!0}),u((()=>o.formInfo),(()=>{Object.keys(o.formInfo).length&&(s.value=o.formInfo)}),{deep:!0,immediate:!0}),(a,o)=>{const l=c("ProField"),i=c("ProCard"),n=c("ProRadioButton"),r=c("ProCascader"),u=(c("ProSvg"),c("ProForm"));return I(),v("div",M,[w(u,{ref_key:"formRef",ref:f,"show-error":"","show-error-message":!1,"input-align":e.inputAlign},{default:b((()=>[p(d).HOLDER?.length?(I(),V(i,{key:0,"show-line":!1,"show-divider":!1,title:e.titleCollection?.HOLDER},{default:b((()=>[w(B,{images:p(m),"onUpdate:images":o[1]||(o[1]=e=>h(m)?m.value=e:null),"form-info":p(s).tenantOrderHolder,"factor-list":p(d).HOLDER,prefix:"holder","is-view":e.isView,"need-desensitize":e.needDesensitize,"send-sms-code":e.sendSmsCode},{name:b((()=>[y(a.$slots,"holderName")])),default:b((()=>[k("gasNumberCollection","HOLDER")&&p(s).tenantOrderSubjectList?.[0]?.extInfo?(I(),V(l,{key:0,modelValue:p(s).tenantOrderSubjectList[0].subjectNo,"onUpdate:modelValue":o[0]||(o[0]=e=>p(s).tenantOrderSubjectList[0].subjectNo=e),label:L("gasNumberCollection","title","HOLDER"),name:"subjectNo",required:R("gasNumberCollection","HOLDER"),"is-view":e.isView,maxlength:100},null,8,["modelValue","label","required","is-view"])):x("",!0)])),_:3},8,["images","form-info","factor-list","is-view","need-desensitize","send-sms-code"])])),_:3},8,["title"])):x("",!0),p(d).INSURER?.length?(I(),V(i,{key:1,"show-line":!1,"show-divider":!1,title:e.titleCollection?.INSURER},{default:b((()=>[k("relationToHolder","INSURER")?(I(),V(l,{key:0,modelValue:p(s).tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":o[3]||(o[3]=e=>p(s).tenantOrderInsuredList[0].relationToHolder=e),class:"relation-holder",name:"insure_relationToHolder",required:R("relationToHolder","INSURER"),label:L("relationToHolder","title","INSURER")},{input:b((()=>[w(n,{modelValue:p(s).tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":o[2]||(o[2]=e=>p(s).tenantOrderInsuredList[0].relationToHolder=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:L("relationToHolder","attributeValueList","INSURER")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required","label"])):x("",!0),e.isView||1!=+p(s).tenantOrderInsuredList[0].relationToHolder?(I(),V(B,{key:1,images:p(C),"onUpdate:images":o[4]||(o[4]=e=>h(C)?C.value=e:null),"form-info":p(s).tenantOrderInsuredList[0],"factor-list":p(d).INSURER||[],prefix:"insure","need-desensitize":e.needDesensitize,"send-sms-code":e.sendSmsCode,"is-view":e.isView},{name:b((()=>[y(a.$slots,"insurerName")])),_:3},8,["images","form-info","factor-list","need-desensitize","send-sms-code","is-view"])):x("",!0),k("social","INSURER")?(I(),V(l,{key:2,modelValue:p(s).tenantOrderInsuredList[0].extInfo.hasSocialInsurance,"onUpdate:modelValue":o[6]||(o[6]=e=>p(s).tenantOrderInsuredList[0].extInfo.hasSocialInsurance=e),label:L("social","title","INSURER"),name:"insure_hasSocialInsurance",required:R("social","INSURER")},{input:b((()=>[w(n,{modelValue:p(s).tenantOrderInsuredList[0].extInfo.hasSocialInsurance,"onUpdate:modelValue":o[5]||(o[5]=e=>p(s).tenantOrderInsuredList[0].extInfo.hasSocialInsurance=e),disabled:e.isView,prop:{label:"value",value:"code"},options:L("social","attributeValueList","INSURER")||[]},null,8,["modelValue","disabled","options"])])),_:1},8,["modelValue","label","required"])):x("",!0),k("occupation","INSURER")?(I(),V(r,{key:3,modelValue:p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[0],"onUpdate:modelValue":o[7]||(o[7]=e=>p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[0]=e),field0:p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[0],"onUpdate:field0":o[8]||(o[8]=e=>p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[0]=e),field1:p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[1],"onUpdate:field1":o[9]||(o[9]=e=>p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[1]=e),field2:p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[2],"onUpdate:field2":o[10]||(o[10]=e=>p(s).tenantOrderInsuredList[0].extInfo.occupationCodeList[2]=e),label:L("occupation","title","INSURER"),name:"insure_occupationCodeList","is-view":e.isView,required:R("occupation","INSURER"),"data-source":p(t),mapping:{label:"value",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","is-view","required","data-source"])):x("",!0)])),_:3},8,["title"])):x("",!0),x("",!0)])),_:3},8,["input-align"])])}}}))}}}))}();
