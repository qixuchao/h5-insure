!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-product-list-wrapper .content[data-v-0fddfe52]{padding:0 var(--zaui-card-border, .4rem)}.com-product-list-wrapper .premium-total[data-v-0fddfe52]{padding:0 var(--zaui-card-border, .4rem);font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;margin:.26667rem 0 .4rem}.com-product-list-wrapper .premium-total .premium[data-v-0fddfe52]{color:#ff5840;font-weight:600}.com-product-list-wrapper .risk-item-wrapper[data-v-0fddfe52]{margin:var(--zaui-card-border, .4rem);background-color:#f6f6fa;border-radius:.26667rem}.com-product-list-wrapper .risk-item-wrapper[data-v-0fddfe52] .card-title .van-cell{background-color:#f6f6fa;padding-bottom:0;border-radius:.26667rem}.com-product-list-wrapper .risk-item-wrapper .premium[data-v-0fddfe52]{color:var(--zaui-price, #ff5840)}.com-product-list-wrapper .risk-item-wrapper .risk-premium[data-v-0fddfe52]{color:#333;font-weight:400;font-size:.34667rem}.com-product-list-wrapper .risk-item-wrapper .risk-factor[data-v-0fddfe52]{display:flex;justify-content:space-between}.com-product-list-wrapper .risk-item-wrapper .risk-factor .factor[data-v-0fddfe52]{display:flex;flex-direction:column;align-items:center;padding:.37333rem 0 .54667rem}.com-product-list-wrapper .risk-item-wrapper .risk-factor .factor .factor-value[data-v-0fddfe52]{width:100%;text-align:center;font-size:.37333rem;font-family:Arial-BoldMT,Arial,self;font-weight:400;color:#393d46;line-height:.42667rem;margin-bottom:.10667rem}.com-product-list-wrapper .risk-item-wrapper .risk-factor .factor .factor-name[data-v-0fddfe52]{width:100%;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC,serif;font-weight:400;color:#99a9c0;line-height:.44rem}.com-product-list-wrapper .risk-item-wrapper .operate-bar[data-v-0fddfe52]{display:flex;align-content:center;justify-content:flex-end;padding-bottom:.26667rem}.com-product-list-wrapper .risk-item-wrapper .operate-bar .border[data-v-0fddfe52]{border:.02667rem solid #e6e6eb}.com-product-list-wrapper .risk-item-wrapper .operate-bar[data-v-0fddfe52] .com-check-btn{margin-left:.21333rem}@charset "UTF-8";.page-create-wrapper[data-v-7afe8830]{background-color:#f2f5fc}.page-create-wrapper .container[data-v-7afe8830]{padding:.4rem .4rem 2.4rem}.page-create-wrapper .container[data-v-7afe8830] .com-card-wrap .body{padding:0}.page-create-wrapper .container .operate-bar[data-v-7afe8830]{width:100%;justify-content:center;display:flex;margin-top:.53333rem}.page-create-wrapper .container .operate-bar[data-v-7afe8830] .com-check-btn{height:.90667rem;width:3.2rem}.page-create-wrapper .footer-bar[data-v-7afe8830]{position:fixed;width:100%;bottom:0;left:0;background-color:#fff;height:2rem;padding:.4rem;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #efeff4}.page-create-wrapper .footer-bar .trial-result[data-v-7afe8830]{width:5.86667rem;color:#ff5840;font-size:.32rem;font-weight:600}.page-create-wrapper .footer-bar .trial-result .result-num[data-v-7afe8830]{font-size:.61333rem;font-weight:500;margin-left:.17333rem}.page-create-wrapper .footer-bar .trial-operate button[data-v-7afe8830]{width:3.73333rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-c0d7778e.js","./index-legacy-e9fcc05e.js","./index-legacy-7e64c754.js","./index-legacy-deb8466a.js","./trial-legacy-fd2c3a57.js"],(function(e){"use strict";var a,r,t,o,i,s,d,l,p,n,c,u,f,m,v,k,g,h,w,b,I,L,y,C,P,R,V,_,x,D,O,S,U,j;return{setters:[function(e){a=e.g,r=e.a5,t=e.C,o=e.x,i=e.X,s=e.r,d=e.h,l=e.m,p=e.F,n=e.E,c=e.y,u=e.n,f=e.I,m=e.k,v=e.z,k=e.j,g=e.s,h=e.B,w=e.a1,b=e.a2,I=e.ad,L=e.Q,y=e.o,C=e.d,P=e.a6,R=e.D},function(e){V=e.g},function(e){_=e.u,x=e.P},function(e){D=e.b,O=e._,S=e.n},function(e){U=e.b,j=e.i}],execute:function(){const z=e=>(w("data-v-0fddfe52"),e=e(),b(),e),F={class:"com-product-list-wrapper"},T={class:"risk-item-wrapper"},N={class:"content"},q={class:"risk-premium"},B=h(" 保费:"),E={class:"premium"},A={class:"risk-factor"},M={class:"factor"},Y={class:"factor-value"},H=z((()=>c("span",{class:"factor-name"}," 保额(元) ",-1))),K={class:"factor"},$={class:"factor-value"},Q=z((()=>c("span",{class:"factor-name"}," 保障期间 ",-1))),W={class:"factor"},X={class:"factor-value"},G=z((()=>c("span",{class:"factor-name"}," 缴费期间 ",-1))),J={class:"operate-bar"},Z=h("删除"),ee=h("+ 附加险"),ae=h("修改"),re={class:"content"},te={class:"risk-premium"},oe=h(" 保费:"),ie={class:"premium"},se={class:"risk-factor"},de={class:"factor"},le={class:"factor-value"},pe=z((()=>c("span",{class:"factor-name"}," 保额(元) ",-1))),ne={class:"factor"},ce={class:"factor-value"},ue=z((()=>c("span",{class:"factor-name"}," 保障期间 ",-1))),fe={class:"factor"},me={class:"factor-value"},ve=z((()=>c("span",{class:"factor-name"}," 缴费期间 ",-1))),ke={class:"operate-bar"},ge=h("删除"),he=h("+ 附加险"),we=h("修改"),be=z((()=>c("div",{class:"premium-total"},[h(" 保费: "),c("span",{class:"premium"},"￥"+f(234234))],-1)));var Ie=O(a({props:{productRiskList:{default:()=>[]},enumList:{default:()=>({})},productInfo:{default:()=>({})},productData:{default:()=>({})}},emits:["deleteRisk","updateRisk","addRisk"],setup(e,{emit:a}){const h=e,[w,b]=r(),I=t({checkedList:[],disabledList:[],riderRiskList:[],mainRiskData:{}}),L=o((()=>{var e,a;return(null===(e=h.productData)||void 0===e||null===(a=e.riskDetailVOList)||void 0===a?void 0:a[0].optionalRiderRiskVOList)||[]})),y=o((()=>{var e,a;return(null===(e=h.productData)||void 0===e||null===(a=e.riskDetailVOList)||void 0===a?void 0:a[0].collocationVOList)||[]})),C=()=>{},P=e=>{a("deleteRisk",e,h.productInfo)},R=e=>{a("updateRisk",e,h.productInfo)},V=e=>{b(!0),a("addRisk",e,h.productInfo)};return i((()=>h),(()=>{}),{deep:!0,immediate:!0}),(a,r)=>{const t=s("ProTitle"),o=s("ProCheckButton");return d(),l("div",F,[(d(!0),l(p,null,n(e.productRiskList,(e=>(d(),l("div",{key:e.riskId},[c("div",T,[u(t,{"risk-type":e.riskType,title:e.riskName},null,8,["risk-type","title"]),c("div",N,[c("div",q,[B,c("span",E,"￥"+f(e.premium.toLocaleString()),1)]),c("div",A,[c("div",M,[c("span",Y,f(e.amount.toLocaleString()),1),H]),c("div",K,[c("span",$,f(e.coveragePeriod),1),Q]),c("div",W,[c("span",X,f(e.chargePeriod),1),G])]),c("div",J,[u(o,{round:32,class:"border",onClick:a=>P(e)},{default:m((()=>[Z])),_:2},1032,["onClick"]),u(o,{activated:"",round:32,onClick:a=>V(e)},{default:m((()=>[ee])),_:2},1032,["onClick"]),u(o,{activated:"",round:32,onClick:a=>R(e)},{default:m((()=>[ae])),_:2},1032,["onClick"])])])]),(d(!0),l(p,null,n(e.riderRiskVOList,(a=>(d(),l("div",{key:a.riskCode,class:"risk-item-wrapper"},[u(t,{"risk-type":a.riskType,title:a.riskName},null,8,["risk-type","title"]),c("div",re,[c("div",te,[oe,c("span",ie,"￥"+f(a.premium.toLocaleString()),1)]),c("div",se,[c("div",de,[c("span",le,f(e.amount.toLocaleString()),1),pe]),c("div",ne,[c("span",ce,f(e.coveragePeriod),1),ue]),c("div",fe,[c("span",me,f(e.chargePeriod),1),ve])]),c("div",ke,[u(o,{round:32,class:"border",onClick:e=>P(a)},{default:m((()=>[ge])),_:2},1032,["onClick"]),u(o,{activated:"",round:32,onClick:e=>V(a)},{default:m((()=>[he])),_:2},1032,["onClick"]),u(o,{activated:"",round:32,onClick:e=>R(a)},{default:m((()=>[we])),_:2},1032,["onClick"])])])])))),128)),be])))),128)),v(w)?(d(),k(U,{key:0,modelValue:I.value.checkedList,"onUpdate:modelValue":r[0]||(r[0]=e=>I.value.checkedList=e),show:v(w),disabled:I.value.disabledList,"risk-list":v(L),"collocation-list":v(y),onFinished:C,onClose:r[1]||(r[1]=e=>v(b)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):g("",!0)])}}}),[["__scopeId","data-v-0fddfe52"]]);const Le={class:"container"},ye=(e=>(w("data-v-7afe8830"),e=e(),b(),e))((()=>c("span",null,"计划书名称",-1))),Ce={class:"operate-bar"},Pe=h("添加主险"),Re={class:"footer-bar"},Ve={class:"trial-result"},_e=h(" 总保费 "),xe={class:"result-num"},De={class:"trial-operate"},Oe=h("保存并预览");e("default",O(a({setup(e){const[a,o]=r(!1),[i,h]=r(),w=t({proposalHolder:{},proposalInsuredList:[{name:"",gender:"",birthday:"",proposalInsuredProductList:[]}],proposalName:"",totalPremium:0,relationUserType:2}),b=I(),O=L(),U=_(),{id:z,type:F="add"}=O.query,T=t({enumList:{},productId:0,productCollection:{},productInfo:{}}),N=t();t({}),t([]);const q=(e,a)=>{const r=a;R.confirm({message:"确认删除该险种？"}).then((()=>{1===e.riskType?w.value.proposalInsuredList[0].proposalInsuredProductList=w.value.proposalInsuredList[0].proposalInsuredProductList.filter((e=>e.productId!==a.productId)):r.proposalProductRiskList[0].riderRiskVOList=r.proposalProductRiskList[0].riderRiskVOList.filter((a=>a.riskId!==e.riskId))}))},B=(e,a)=>{T.value.productId=a.productId,T.value.productInfo=a,h(!0)},E=e=>{},A=()=>{((e={})=>D.get(`/api/app/insure/proposal/queryProposalDetail/${e.id}`,e))({id:z}).then((({code:e,data:a})=>{"10000"===e&&Object.assign(w.value,a)}))},M=()=>{var e;(e=w.value,D.post("/api/app/insure/proposal/AddOrUpdateProposal",e)).then((({code:e,data:a})=>{"10000"===e&&b.push({path:"/compositionProposal",query:{id:a}})}))},Y=e=>{w.value.proposalInsuredList[0]=w.value.proposalInsuredList[0].map((a=>{let r=a;return a[0].productId===e.proposalInsuredList[0].proposalInsuredProductList[0].productId&&(r=e.proposalInsuredList[0].proposalInsuredProductList),r}))},H=()=>{U.setProposalInfo(w.value),b.push({path:"/proposalList",query:{isCreateProposal:"1"}})},K=()=>{h(!1)};return y((()=>{const e=U.$state.trialData;z?A():e.length&&Object.assign(w.value,e[0]),j({productId:118,source:2}).then((({code:e,data:a})=>{"10000"===e&&(T.value.productCollection[a.productBasicInfoVO.id]=a)})).finally((()=>{})),V({dictCodeList:["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD"]}).then((({code:e,data:a})=>{if("10000"===e){const e={};a.forEach((a=>{e[a.dictCode]=a.dictItemList})),T.enumList=e}}))})),(e,r)=>{const t=s("VanField"),h=s("ProCard"),b=s("ProRadioButton"),I=s("VanForm"),L=s("ProCheckButton"),y=s("VanButton"),R=s("van-datetime-picker"),V=s("van-popup"),_=s("ProPageWrap");return d(),k(_,{class:"page-create-wrapper"},{default:m((()=>[c("div",Le,[u(I,{ref_key:"formRef",ref:N,"input-align":"right","error-message-align":"right"},{default:m((()=>[u(h,null,{default:m((()=>[u(t,{modelValue:w.value.proposalName,"onUpdate:modelValue":r[0]||(r[0]=e=>w.value.proposalName=e),name:"proposalName",placeholder:"请输入计划书名称",rules:[{required:!0,message:"请输入计划书名称"}]},{label:m((()=>[ye])),_:1},8,["modelValue"])])),_:1}),u(h,{title:"被保人信息"},{default:m((()=>[u(t,{modelValue:w.value.proposalInsuredList[0].name,"onUpdate:modelValue":r[1]||(r[1]=e=>w.value.proposalInsuredList[0].name=e),name:"name",label:"姓名",placeholder:"请输入（选填）"},null,8,["modelValue"]),u(t,{modelValue:w.value.proposalInsuredList[0].birthday,"onUpdate:modelValue":r[2]||(r[2]=e=>w.value.proposalInsuredList[0].birthday=e),name:"birthday",label:"出生日期","is-link":"",readonly:"",placeholder:"请选择",rules:[{required:!0,message:"请选择"}],onClick:r[3]||(r[3]=e=>v(o)(!0))},null,8,["modelValue"]),u(t,{modelValue:w.value.proposalInsuredList[0].gender,"onUpdate:modelValue":r[5]||(r[5]=e=>w.value.proposalInsuredList[0].gender=e),name:"gender",label:"性别",rules:[{required:!0,message:"请选择"}]},{input:m((()=>[u(b,{modelValue:w.value.proposalInsuredList[0].gender,"onUpdate:modelValue":r[4]||(r[4]=e=>w.value.proposalInsuredList[0].gender=e),options:v(S)},null,8,["modelValue","options"])])),_:1},8,["modelValue"])])),_:1})])),_:1},512),(d(!0),l(p,null,n(w.value.proposalInsuredList[0].proposalInsuredProductList||[],(e=>(d(),k(h,{key:e.productId},{default:m((()=>[u(Ie,{"enum-list":T.value.enumList,"product-risk-list":e.proposalProductRiskList,"product-info":e,"product-data":T.value.productCollection[e.productId],onAddRisk:E,onUpdateRisk:B,onDeleteRisk:q},null,8,["enum-list","product-risk-list","product-info","product-data"])])),_:2},1024)))),128)),c("div",Ce,[u(L,{activated:"",round:34,onClick:H},{default:m((()=>[Pe])),_:1})])]),c("div",Re,[c("span",Ve,[_e,c("span",xe,"￥"+f(w.value.totalPremium.toLocaleString()),1)]),c("div",De,[u(y,{type:"primary",onClick:M},{default:m((()=>[Oe])),_:1})])]),u(V,{show:v(a),"onUpdate:show":r[8]||(r[8]=e=>P(a)?a.value=e:null),position:"bottom"},{default:m((()=>[u(R,{type:"date",onConfirm:r[6]||(r[6]=e=>{w.value.proposalInsuredList[0].birthday=v(C)(e).format("YYYY-MM-DD"),v(o)(!1)}),onCancel:r[7]||(r[7]=e=>v(o)(!1))})])),_:1},8,["show"]),v(i)?(d(),k(x,{key:0,"is-show":v(i),type:"edit","product-data":T.value.productCollection[T.value.productId],"form-info":T.value.productInfo,onClose:K,onFinished:Y},null,8,["is-show","product-data","form-info"])):g("",!0)])),_:1})}}}),[["__scopeId","data-v-7afe8830"]]))}}}))}();
