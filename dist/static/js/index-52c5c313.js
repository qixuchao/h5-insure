var Je=Object.defineProperty,Ge=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Ie=(t,a,o)=>a in t?Je(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,Z=(t,a)=>{for(var o in a||(a={}))Xe.call(a,o)&&Ie(t,o,a[o]);if(ye)for(var o of ye(a))Ze.call(a,o)&&Ie(t,o,a[o]);return t},ee=(t,a)=>Ge(t,Qe(a));import{g as oe,Q as Te,E as x,y as te,j as _,n as C,z as r,J as H,p as d,L as Ne,A as n,B as et,a4 as _e,a5 as he,F as q,G as K,k as z,C as G,t as J,r as U,m as w,M as Se,_ as ce,a9 as tt,O as ot,h as at,af as nt,H as st,l as lt}from"./vendor-667a94d7.js";import{_ as ae,u as rt,q as Ae,a2 as re,x as ue,l as ie,y as be,G as ut,z as it,Q as Fe,A as dt,a3 as we,O as ct}from"./index-aaaeb354.js";import{P as mt}from"./index-0f72578f.js";import{c as ft}from"./close-df102554.js";import{a as me,S as Ce,R as pt,f as de}from"./infoCollection-242da9b6.js";import{A as _t}from"./bankCard-b0679059.js";import{b as fe,v as ht}from"./validator-ebd71d12.js";import{a as Ee}from"./order-b675ac95.js";import{p as Be,i as vt,s as Dt,a as gt,u as yt,b as It}from"./trial-b82e060b.js";import{p as bt}from"./product-de7477cb.js";import{g as Ft,t as wt,b as Ve,c as Ct,a as Et}from"./theme-a2ceff24.js";import"./trial-a34b2702.js";const Bt=t=>(_e("data-v-47f4f4ca"),t=t(),he(),t),Vt={class:"com-question-item"},Ot={class:"question"},Pt=Bt(()=>r("div",{class:"icon"},H("?"),-1)),Tt={class:"title"},Nt=oe({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Te(!1),s=x(),e=()=>{o()},i=te(()=>a.value?rt(s.value):0);return(I,f)=>(_(),C("div",Vt,[r("div",Ot,[Pt,r("div",Tt,H(t.question),1),d(Ae,{name:"down",class:Ne(["arrow-icon",{show:n(a)}]),onClick:e},null,8,["class"])]),r("div",{ref_key:"answerDom",ref:s,class:"answer",style:et({height:`${n(i)}px`})},H(t.answer),5)]))}});var St=ae(Nt,[["__scopeId","data-v-47f4f4ca"]]);const At={class:"com-question"},Lt=oe({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,s]=Te(!1),e=()=>{s()},i=te(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(I,f)=>(_(),C("div",At,[(_(!0),C(q,null,K(n(i),(S,P)=>(_(),z(St,{key:P,question:S.title,answer:S.desc},null,8,["question","answer"]))),128)),t.list.length>4?(_(),C("div",{key:0,class:"show-more",onClick:e},[G(H(n(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),d(Ae,{name:"down",class:Ne(["icon",{showMore:n(o)}])},null,8,["class"])])):J("",!0)]))}});var $t=ae(Lt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const kt=t=>typeof t=="number"&&isFinite(t),xt=t=>Y(t)&&Object.keys(t).length===0,Mt=Object.assign;let Oe;const Ut=()=>Oe||(Oe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),se=Array.isArray,W=t=>typeof t=="string",pe=t=>typeof t=="boolean",Ht=Object.prototype.toString,Rt=t=>Ht.call(t),Y=t=>Rt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function qt(t,a,o={}){const{domain:s,messages:e,args:i}=o,I=t,f=new SyntaxError(String(I));return f.code=t,a&&(f.location=a),f.domain=s,f}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Wt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Yt=null;Wt.FunctionTranslate;function jt(t){return a=>Yt}const Kt=-1;function zt(t,a,o,s,e){const{missing:i,onWarn:I}=t;if(i!==null){const f=i(t,o,a,e);return W(f)?f:a}else return a}function Jt(t,a,o){const s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let e=s.__localeChainCache.get(o);if(!e){e=[];let i=[o];for(;se(i);)i=Pe(e,i,a);const I=se(a)?a:Y(a)?a.default?a.default:null:a;i=W(I)?[I]:I,se(i)&&Pe(e,i,!1),s.__localeChainCache.set(o,e)}return e}function Pe(t,a,o){let s=!0;for(let e=0;e<a.length&&pe(s);e++){const i=a[e];W(i)&&(s=Gt(t,a[e],o))}return s}function Gt(t,a,o){let s;const e=a.split("-");do{const i=e.join("-");s=Qt(t,i,o),e.splice(-1,1)}while(e.length&&s===!0);return s}function Qt(t,a,o){let s=!1;if(!t.includes(a)&&(s=!0,a)){s=a[a.length-1]!=="!";const e=a.replace(/!/g,"");t.push(e),(se(o)||Y(o))&&o[e]&&(s=o[e])}return s}function Xt(t){return qt(t,null,void 0)}function Zt(t,...a){const{numberFormats:o,unresolving:s,fallbackLocale:e,onWarn:i}=t,{__numberFormatters:I}=t,[f,S,P,D]=eo(...a),l=pe(P.missingWarn)?P.missingWarn:t.missingWarn;pe(P.fallbackWarn)?P.fallbackWarn:t.fallbackWarn;const b=!!P.part,R=W(P.locale)?P.locale:t.locale,L=Jt(t,e,R);if(!W(f)||f==="")return new Intl.NumberFormat(R).format(S);let Q={},k,M=null;const u="number format";for(let E=0;E<L.length&&(k=L[E],Q=o[k]||{},M=Q[f],!Y(M));E++)zt(t,f,k,l,u);if(!Y(M)||!W(k))return s?Kt:f;let m=`${k}__${f}`;xt(D)||(m=`${m}__${JSON.stringify(D)}`);let T=I.get(m);return T||(T=new Intl.NumberFormat(k,Mt({},M,D)),I.set(m,T)),b?T.formatToParts(S):T.format(S)}function eo(...t){const[a,o,s,e]=t;let i={},I={};if(!kt(a))throw Xt(14);const f=a;return W(o)?i.key=o:Y(o)&&(i=o),W(s)?i.locale=s:Y(s)&&(I=s),Y(e)&&(I=e),[i.key||"",f,i,I]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ut().__INTLIFY_PROD_DEVTOOLS__=!1);const Le=t=>(_e("data-v-3e427589"),t=t(),he(),t),to={key:0,class:"pro-modal"},oo=Le(()=>r("div",{class:"pro-overlay"},null,-1)),ao={class:"pro-modal-wrapper"},no={class:"pro-modal-body"},so={class:"pro-modal-content"},lo=Le(()=>r("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),ro={class:"pro-modal-content"},uo={class:"product-attachment-list"},io=G(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),co={key:0,class:"dun-hao"},mo=["src"],fo=oe({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:Zt,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,s=()=>{a("on-close")},e=()=>{a("on-confirm")};return(i,I)=>{const f=U("ProPDFviewer");return o.isShow?(_(),C("div",to,[oo,r("div",ao,[r("div",no,[r("div",so,[r("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+H(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),lo]),r("div",{class:"pro-modal-btn",onClick:e},"\u4E00\u952E\u5347\u7EA7"),r("div",ro,[r("div",uo,[io,(_(!0),C(q,null,K(o.attachmentList,(S,P)=>(_(),z(f,{key:P,class:"file-name",title:`\u300A${S.attachmentName}\u300B`,content:S.attachmentUri,type:"pdf"},{default:w(()=>[P!==(o.attachmentList||[]).length-1?(_(),C("span",co,"\u3001")):J("",!0)]),_:2},1032,["title","content"]))),128))])])]),r("div",{class:"pro-modal-close",onClick:s},[r("img",{src:n(ft)},null,8,mo)])])])):J("",!0)}}});var po=ae(fo,[["__scopeId","data-v-3e427589"]]);const ve=t=>(_e("data-v-25fa5172"),t=t(),he(),t),_o=ve(()=>r("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),ho=ve(()=>r("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),vo=ve(()=>r("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),Do={class:"attachment-list"},go={class:"product-attachment-list"},yo=G(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Io={key:0,class:"dun-hao"},bo={class:"rate-attachment-list"},Fo=G(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),wo={key:0,class:"dun-hao"},Co=oe({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,s=x({}),e=Se({insureDisable:!0,formInfo:o.formInfo}),i=D=>fe(D)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",I=te(()=>{var D,l;return(l=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:l.attachmentVOList.filter(b=>b.attachmentName==="\u8D39\u7387\u8868")}),f=te(()=>{var D,l;return((l=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:l.attachmentVOList.filter(b=>b.attachmentName!=="\u8D39\u7387\u8868"))||[]}),S=()=>new Promise((D,l)=>{s==null||s.value.validate().then(()=>{D("")},()=>{l()})}),P=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return ce(()=>e.formInfo.insured.relationToHolder,(D,l)=>{o.disable||D!==l&&(D.toString()===me.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:D},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:D},e.insureDisable=!1))}),ce(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===me.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:S}),(D,l)=>{const b=U("ProField"),R=U("ProRadioButton"),L=U("ProPicker"),Q=U("ProTabButton"),k=U("ProPDFviewer"),M=U("ProForm");return _(),z(M,{ref_key:"formRef",ref:s},{default:w(()=>[r("div",null,[_o,d(b,{modelValue:n(e).formInfo.holder.name,"onUpdate:modelValue":l[0]||(l[0]=u=>n(e).formInfo.holder.name=u),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:i}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(b,{modelValue:n(e).formInfo.holder.certNo,"onUpdate:modelValue":l[1]||(l[1]=u=>n(e).formInfo.holder.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(re).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.holder.mobile,"onUpdate:modelValue":l[2]||(l[2]=u=>n(e).formInfo.holder.mobile=u),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[n(re).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":l[4]||(l[4]=u=>n(e).formInfo.holder.socialFlag=u),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(R,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":l[3]||(l[3]=u=>n(e).formInfo.holder.socialFlag=u),disabled:o.disable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(ue),r("div",null,[ho,d(b,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[6]||(l[6]=u=>n(e).formInfo.insured.relationToHolder=u),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(R,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[5]||(l[5]=u=>n(e).formInfo.insured.relationToHolder=u),disabled:o.disable,options:n(pt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),d(b,{modelValue:n(e).formInfo.insured.name,"onUpdate:modelValue":l[7]||(l[7]=u=>n(e).formInfo.insured.name=u),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:i}],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(b,{modelValue:n(e).formInfo.insured.certNo,"onUpdate:modelValue":l[8]||(l[8]=u=>n(e).formInfo.insured.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(re).ID_CARD],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":l[10]||(l[10]=u=>n(e).formInfo.insured.socialFlag=u),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(R,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":l[9]||(l[9]=u=>n(e).formInfo.insured.socialFlag=u),disabled:o.disable||n(e).insureDisable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(ue),r("div",null,[vo,d(b,{label:"\u6BCF\u6708\u4FDD\u8D39","is-view":!0},{input:w(()=>[G(H(o.premium)+" /\u6708 \u517112\u671F",1)]),_:1}),d(L,{modelValue:n(e).formInfo.paymentMethod,"onUpdate:modelValue":l[11]||(l[11]=u=>n(e).formInfo.paymentMethod=u),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":n(_t),"is-view":o.disable||n(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),d(b,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:w(()=>[d(Q,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:n(e).formInfo.renewalDK,onClick:P},null,8,["disabled","active"])]),_:1}),r("div",Do,[r("div",go,[yo,(_(!0),C(q,null,K(n(f),(u,m)=>(_(),z(k,{key:m,class:"file-name",title:`\u300A${u.attachmentName}\u300B`,content:u.attachmentUri,type:"pdf"},{default:w(()=>{var T,E;return[m!==(((E=(T=t.productDetail)==null?void 0:T.tenantProductInsureVO)==null?void 0:E.attachmentVOList)||[]).length-1?(_(),C("span",Io,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))]),r("div",bo,[Fo,(_(!0),C(q,null,K(n(I),(u,m)=>(_(),z(k,{key:m,class:"file-name",title:`\u300A${u.attachmentName}\u300B`,content:u.attachmentUri,type:"pdf"},{default:w(()=>{var T,E;return[m!==(((E=(T=t.productDetail)==null?void 0:T.tenantProductInsureVO)==null?void 0:E.attachmentVOList)||[]).length-1?(_(),C("span",wo,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))])])]),d(ue)]),_:1},512)}}});var Eo=ae(Co,[["__scopeId","data-v-25fa5172"]]),Bo="/static/assets/logo.020372b9.png";const Vo={class:"page-product-detail"},Oo={class:"info"},Po=["src"],To=["src"],No={class:"guarantee-list"},So={key:0,class:"basic"},Ao={class:"tab-1"},Lo=["src"],$o={class:"footer-button"},ko={class:"price"},xo=G(" \u603B\u4FDD\u8D39"),Mo={class:"guarantee-list"},Uo={class:"title"},Ho={class:"content"},Ro=oe({setup(t){const a=tt(),o=ot(),{productCode:s="BWYL2021",tenantId:e,extInfo:i,orderId:I}=o.query,f=Ft(i),{phoneNo:S,saleChannelId:P,paymentMethod:D,certNo:l,name:b,orderId:R}=f,L=I||R,Q=x([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),k=x(),M=x(0),u=x(!1),m=x(),T=x(),E=x(),$e=!!(b&&l&&S),ke=!!L,B=Se({holder:{certNo:l,certType:Fe.CERT,mobile:S,name:b,socialFlag:de.HAS},insured:{certNo:l,certType:Fe.CERT,name:b,socialFlag:de.HAS,relationToHolder:me.SELF},paymentMethod:D,paymentMethodDisable:!!D,renewalDK:!0}),le=x(!1),X=x(!1),xe=()=>{le.value=!1},Me=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ee(Z({},o.query),{tenantId:e,productCode:"BWYL2022",extInfo:JSON.stringify(ee(Z({},f),{orderId:L}))})})},Ue=()=>{u.value=!0},ne=te(()=>{var v,p,c,h,g,V,A;return((c=(p=(v=m.value)==null?void 0:v.tenantProductInsureVO)==null?void 0:p.guaranteeList)==null?void 0:c.length)?(g=(h=m.value)==null?void 0:h.tenantProductInsureVO)==null?void 0:g.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(A=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:A.titleAndDescVOS}]}),De=()=>{const{holder:{certNo:v,mobile:p,name:c,socialFlag:h},insured:{certNo:g,name:V,socialFlag:A,relationToHolder:y},paymentMethod:O}=B,N=we(v)&&ht(p)&&fe(c)&&!!h,F=we(g)&&fe(V)&&!!A&&!!y;return!!(N&&F&&!!O)},He=async v=>{try{const p=await yt(v),{code:c}=p;if(c==="10000"){const h=await It({id:v.id,tenantId:e}),{data:g}=h;c==="10000"?window.location.href=g:X.value=!1}}catch{X.value=!1}},Re=v=>`${ct}/chuangxin/baigebao/productDetail?tenantId=${e}&productCode=${s}&orderId=${v}`,qe=async v=>{const p=Et({tenantId:e,saleChannelId:P,detail:m.value,paymentMethod:B.paymentMethod,renewalDK:B.renewalDK?"Y":"N",successJumpUrl:"",premium:E.value,holder:B.holder,insured:B.insured,tenantOrderRiskList:v,orderStatus:"",orderTopStatus:""});try{const c=await Dt(p),{code:h,data:g}=c;h==="10000"&&He(ee(Z({},p),{id:g.data,extInfo:{extraInfo:{renewalDK:B.renewalDK,paymentMethod:B.paymentMethod,successJumpUrl:Re(g.data)}}}))}catch{X.value=!1}},ge=async()=>{const{calcData:v,riskVOList:p}=Ve({holder:B.holder,insured:B.insured,tenantId:e,productDetail:m.value,insureDetail:T.value}),c=async()=>{const h=await Be(v),{code:g,data:V}=h;return g==="10000"?(E.value=V.premium,{condition:p,data:V}):{}};c(),lt.exports.debounce(c,500,{trailing:!0})},We=()=>new Promise((v,p)=>{var c,h;(h=(c=k.value)==null?void 0:c.validateForm)==null||h.call(c).then(async()=>{const{calcData:g,riskVOList:V}=Ve({holder:B.holder,insured:B.insured,tenantId:e,productDetail:m.value,insureDetail:T.value}),A=await Be(g),{code:y,data:O}=A;y==="10000"?(E.value=O.premium,v({condition:V,data:O})):p(new Error)})}),Ye=async()=>{var v;if(L){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ee(Z({},o.query),{tenantId:e,productCode:"BWYL2022",extInfo:JSON.stringify(ee(Z({},f),{orderId:L}))})});return}X.value=!0;try{const{condition:p,data:c}=await We(),h={},g=(A=[])=>{(A||[]).forEach(y=>{var O;h[y.riskCode]=y,((O=y.riskPremiumDetailVOList)==null?void 0:O.length)&&g(y.riskPremiumDetailVOList)})};g(c.riskPremiumDetailVOList);const V=Ct({tenantId:e,riskList:p,riskPremium:h,productId:(v=m.value)==null?void 0:v.id});qe(V)}catch{X.value=!1}};ce(()=>B,()=>{m.value&&T.value&&!L&&De()&&ge()},{deep:!0,immediate:!0});const je=async()=>{var h,g,V,A,y,O,N;const v=await gt({id:L,tenantId:e}),{code:p,data:c}=v;if(p==="10000"){const{tenantOrderHolder:F,tenantOrderInsuredList:$,extInfo:j}=c;B.holder={certNo:F.certNo,certType:F.certType,mobile:F.mobile,name:F.name,socialFlag:de.HAS},B.insured={certNo:$==null?void 0:$[0].certNo,certType:(h=$[0])==null?void 0:h.certType,name:(g=$[0])==null?void 0:g.name,socialFlag:(A=(V=$[0])==null?void 0:V.extInfo)==null?void 0:A.hasSocialInsurance,relationToHolder:(y=$[0])==null?void 0:y.relationToHolder},B.paymentMethod=j.extraInfo.paymentMethod,E.value=(N=(O=$[0])==null?void 0:O.tenantOrderProductList[0])==null?void 0:N.premium,B.renewalDK=j.extraInfo.renewalDK==="Y",(c.orderStatus===Ee.ACCEPT_POLICY||c.orderStatus===Ee.PAYMENT_SUCCESS)&&(le.value=!0)}},Ke=async()=>{const v=bt({productCode:s,withInsureInfo:!0}),p=vt({productCode:s});await Promise.all([v,p]).then(([c,h])=>{c.code==="10000"&&(m.value=c.data),h.code==="10000"&&(T.value=h.data)}),L?je():De()&&ge()};return at(()=>{Ke(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(v,p)=>{var V,A;const c=U("van-button"),h=U("van-config-provider"),g=nt("dompurify-html");return _(),C(q,null,[d(h,{"theme-vars":n(wt)},{default:w(()=>{var y,O;return[r("div",Vo,[r("div",Oo,[r("img",{class:"logo",src:n(Bo)},null,8,Po),r("img",{src:(O=(y=m.value)==null?void 0:y.tenantProductInsureVO)==null?void 0:O.banner[0],class:"banner"},null,8,To),r("div",No,[d(ie,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:Ue},{default:w(()=>{var N,F,$;return[m.value&&((N=m.value)==null?void 0:N.tenantProductInsureVO)?(_(),C("div",So,[(_(!0),C(q,null,K(($=(F=n(ne))==null?void 0:F[M.value])==null?void 0:$.titleAndDescVOS,(j,ze)=>(_(),z(dt,{key:ze,class:"guarantee-item",title:j.title,content:j.desc,border:!1},null,8,["title","content"]))),128))])):J("",!0)]}),_:1})])]),d(be,{class:"tabs",list:Q.value,sticky:"",scrollspy:""},{tab1:w(()=>[d(Eo,{ref_key:"formRef",ref:k,"holder-disable":$e,disable:ke,"form-info":n(B),premium:E.value,"product-detail":m.value},null,8,["form-info","premium","product-detail"])]),tab2:w(()=>{var N,F;return[r("div",Ao,[(_(!0),C(q,null,K(((F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.spec)||[],($,j)=>(_(),C("img",{key:j,src:$,class:"detail-img"},null,8,Lo))),128))])]}),tab3:w(()=>[d(ie,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:w(()=>{var N,F;return[d(mt,{list:(F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.settlementProcessList},null,8,["list"])]}),_:1}),d(ie,{title:"\u5E38\u89C1\u95EE\u9898"},{default:w(()=>{var N,F;return[d($t,{list:(F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),r("div",$o,[r("div",ko,[xo,r("span",null,"\uFFE5"+H(n(ut)(E.value))+"/\u6708",1)]),d(c,{type:"primary",class:"right",disabled:X.value,onClick:Ye},{default:w(()=>[G(H(n(L)?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["theme-vars"]),d(it,{show:u.value,"onUpdate:show":p[0]||(p[0]=y=>u.value=y),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:w(()=>[n(ne).length>1?(_(),z(be,{key:0,list:n(ne).map((y,O)=>({title:y.guaranteeType,slotName:`guarantee-${O}`})),class:"tab"},null,8,["list"])):J("",!0),r("div",Mo,[(_(!0),C(q,null,K(n(ne)[M.value].titleAndDescVOS,(y,O)=>(_(),C("div",{key:O,class:"guarantee-item"},[r("div",Uo,H(y.title),1),st(r("div",Ho,null,512),[[g,y.content]])]))),128))])]),_:1},8,["show"]),d(po,{"is-show":le.value,premium:E.value,"attachment-list":(A=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:A.attachmentVOList,onOnConfirm:Me,onOnClose:xe},null,8,["is-show","premium","attachment-list"])],64)}}});var oa=ae(Ro,[["__scopeId","data-v-333c48f8"]]);export{oa as default};
