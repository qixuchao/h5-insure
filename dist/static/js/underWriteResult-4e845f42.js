import{_ as e,d as a,bv as t,ah as s,bw as r,i as o,h as l,aI as n,bT as u,j as d,o as i,c,a as p,b as m,e as f,u as y,w as _,a8 as b,m as v,p as h,f as I,ae as w,ag as q,bU as N,bV as R,T as k}from"./index-efaa0a46.js";import{P as C}from"./constants-7e2ba334.js";import{c as g}from"./order-2272ef99.js";import{o as L}from"./verify-b9f7ac7f.js";const D={class:"page-underwrite-result-wrap"},E={class:"result-content"},S={class:"result-icon"},T={class:"result-status"},U={class:"result-desc"},j={key:0,class:"operate-btn"},x={key:1,class:"operate-btn"},A={class:"dialog-content"},F=a({name:"underwriteResult"});var V=e(a({...F,setup(e){var a,F;const V={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(F=s.get(`${r}_underwriteResult`))?void 0:F[t.UNDER_WRITE_FAIL]}},$=o(),W=l(),{orderNo:G,tenantId:z,underwriteStatus:P}=$.query,B=n.Component,[H,J]=u(!1),K=d(),M=async()=>{const{code:e,data:a}=await L({orderNo:G,tenantId:z});"10000"===e&&a&&(delete $.query.orderNo,W.push({path:C.orderList,query:{...$.query}}))},O=e=>{g({orderNo:G,tenantId:z}).then((({code:a,data:t})=>{"10000"===a&&(k("撤单成功"),null==e||e())}))},Q=()=>{J(!0)},X=()=>{W.push({path:C.sign,query:$.query})},Y=()=>{O((()=>{delete $.query.orderNo,W.push({path:C.productList,query:$.query})}))},Z=()=>{O((()=>{J(!1),W.push({path:K.value,query:$.query})}))},ee=()=>{J(!1),Y()};return(e,a)=>{const s=w,r=q,o=N,l=R;return i(),c("div",D,[p("div",E,[p("div",S,[m(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),p("p",T,f(V[`${y(P)}`].resultStatus),1),p("p",U,f(V[`${y(P)}`].resultDesc),1),y(P)===y(t).UNDER_WRITE_FAIL?(i(),c("div",j,[m(r,{type:"primary",plain:"",onClick:Q},{default:_((()=>[b("返回修改")])),_:1}),m(r,{type:"primary",onClick:X},{default:_((()=>[b("继续投保")])),_:1}),m(r,{class:"no-border",onClick:Y},{default:_((()=>[b("放弃投保")])),_:1})])):(i(),c("div",x,[m(r,{type:"primary",onClick:M},{default:_((()=>[b("确定")])),_:1})]))]),y(H)?(i(),v(y(B),{key:0,show:y(H),"onUpdate:show":a[1]||(a[1]=e=>h(H)?H.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!y(K),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:Z,onCancel:ee},{default:_((()=>[p("div",A,[m(l,{modelValue:y(K),"onUpdate:modelValue":a[0]||(a[0]=e=>h(K)?K.value=e:null)},{default:_((()=>[m(o,{name:y(C).premiumTrial},{default:_((()=>[b("保费试算页")])),_:1},8,["name"]),m(o,{name:y(C).questionNotice},{default:_((()=>[b("健康告知页")])),_:1},8,["name"]),m(o,{name:y(C).infoCollection},{default:_((()=>[b("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):I("",!0)])}}}),[["__scopeId","data-v-5b5587c1"]]);export{V as default};
