import{d as e,g as t,h as a,j as o,an as r,o as s,c as n,u as d,l,w as i,a8 as c,cm as p,q as u,_ as f,az as m,T as y}from"./index-8914665e.js";import{P as h}from"./constants-fe95ef6f.js";import{c as I}from"./order-8ae71108.js";const k={class:"operate-wrap"},C=e({name:"operateBtn"});var g=f(e({...C,props:{detail:{default:()=>({})}},setup(e){const f=e,C=t(),g=a(),{tenantId:N,nextPageCode:P}=g.query,_=o((()=>{const{orderTopStatus:e}=f.detail;return"-1"===e&&h.orderList===g.path})),q=o((()=>{const{orderStatus:e}=f.detail;return!["acceptPolicy","canceled"].includes(e)})),x=o((()=>{const{orderStatus:e}=f.detail;return"offlinePayment"===e})),j=()=>{const{orderStatus:e,orderNo:t}=f.detail;let a=h.sign;"collectInfo"===e&&(a=h.infoCollection),C.push({path:a,query:{tenantId:N,orderNo:t}})},z=()=>{const{orderNo:e,orderId:t}=f.detail;P?m.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{I({orderNo:e,tenantId:N}).then((({code:e,data:t})=>{"10000"===e&&y("撤单成功")}))})):m.confirm({message:"确认取消当前订单？"}).then((()=>{C.push({path:h.phoneVerify,query:{tenantId:N,orderNo:e,orderId:t,nextPageCode:h.orderDetail}})}))},S=()=>{const{orderNo:e,orderId:t}=f.detail;C.push({path:h.updateBankInfo,query:{tenantId:N,orderNo:e,orderId:t,nextPageCode:h.orderDetail}})};return(e,t)=>{const a=r;return s(),n("div",k,[d(_)?(s(),l(a,{key:0,type:"primary",size:"small",onClick:p(j,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),d(q)?(s(),l(a,{key:1,type:"primary",plain:"",size:"small",onClick:p(z,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),d(x)?(s(),l(a,{key:2,size:"small",onClick:p(S,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-9a59b54e"]]);export{g as O};
