import{a2 as e,d as a,g as t,o as l,c as s,a as n,e as i,b as o,F as d,n as c,l as r,u,al as p,_ as v,at as m,au as f,cw as b,h as g,i as y,j as h,z as _,O as j,b7 as N,w as k,m as x,da as D,a9 as I,T as C}from"./index-13a0c8c7.js";import{_ as O}from"./index-5a3b6a38.js";import{L as w}from"./index-4add6218.js";import{I as S}from"./infoItem-5307e2ec.js";import{O as Y}from"./OperateBtn-7abb72fe.js";import"./empty-ae586b6c.js";import"./constants-5480429b.js";const L={class:"com-order-item"},T={class:"header"},z={class:"product-name"},H={class:"status"},M={class:"info"},q={class:"info-bottom"},A=(e=>(m("data-v-220f8eb7"),e=e(),f(),e))((()=>n("div",{style:{width:"25%"}},[n("img",{src:"/static/png/tree-0f48942e.png",alt:"",style:{width:"80%"}})],-1))),B={class:"footer"};var F=v(a({__name:"item",props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup:(e,{emit:a})=>(t(),(a,t)=>{var v;return l(),s("div",L,[n("div",T,[n("div",z,i(e.detail.productName),1),n("div",H,i(e.detail.orderStatusDesc),1)]),n("div",M,[o(S,{label:"订单号",content:e.detail.orderNo,line:"","is-copy":""},null,8,["content"]),(l(!0),s(d,null,c(e.detail.applicationNo,(e=>(l(),r(S,{key:e,label:"投保单号",content:e,line:"","is-copy":""},null,8,["content"])))),128)),o(S,{label:"保单号",content:e.detail.policyNo,line:"","is-copy":""},null,8,["content"]),n("div",q,[n("div",null,[o(S,{label:"投保人",content:e.detail.holderName,line:""},null,8,["content"]),o(S,{label:"被保人",content:null==(v=e.detail.insuredName)?void 0:v[0],line:""},null,8,["content"]),o(S,{label:"创建时间",content:u(p)(e.detail.orderStartDate).format("YYYY-MM-DD HH:mm:ss"),line:""},null,8,["content"]),o(S,{label:"保费：",content:`￥${e.detail.premium}`,line:""},null,8,["content"])]),A])]),n("div",B,[o(Y,{detail:e.detail},null,8,["detail"])])])})}),[["__scopeId","data-v-220f8eb7"]]);const P={class:"page-order"},R=(e=>(m("data-v-0237aa7e"),e=e(),f(),e))((()=>n("div",{class:"footer"},[n("img",{src:"/static/png/logo-b728275d.png",alt:"",style:{width:"100%",height:"128px"}})],-1))),U={key:1,class:"empty-box"};var $=v(a({__name:"index",setup(a){const i=b();t();const p=g(),{type:v,tenantId:m,agentCode:f}=p.query,S=y({"-1":1,0:2,1:3,2:4}[v]||0),Y=y(1),L=y(!1),T=y(!1),z=y([]);y(0),y(0),y(0);const H=[{title:"全部",status:""},{title:"待处理",status:"-1"},{title:"待支付",status:"0"},{title:"已完成",status:"1"},{title:"已失效",status:"2"}],M=h((()=>(z.value=[],H[S.value].status))),q=()=>{C.loading({message:"加载中...",forbidClick:!0}),L.value=!0,((a={})=>e({url:"/api/app/insure/insurance/pageOrder",method:"POST",data:a}))({condition:{orderTopStatus:M.value,tenantId:m,agentCode:f},pageSize:10,pageNum:Y.value}).then((e=>{var a;L.value=!1;const{code:t,data:l}=e;"10000"===t&&l&&(1===Y.value?z.value=l.datas||[]:z.value=[...z.value,...(null==(a=l.datas[0])?void 0:a.applicationResList)||[]]),T.value=!l||z.value.length>=(null==l?void 0:l.total)})).then((()=>{C.clear()}))},A=()=>{Y.value+=1,q()},B=()=>{Y.value=1,q()};return _(M,(()=>{Y.value=1,q()})),j((()=>{q()})),(e,a)=>{const t=w,p=O,v=N;return l(),r(v,{"theme-vars":u(i)},{default:k((()=>[n("div",P,[o(D,{active:u(S),"onUpdate:active":a[0]||(a[0]=e=>x(S)?S.value=e:null),list:H,class:"tab","title-active-color":"#c41e21"},null,8,["active"]),u(z).length?(l(),r(t,{key:0,class:"body",loading:u(L),finished:u(T),onLoad:A},{default:k((()=>[(l(!0),s(d,null,c(u(z),((e,a)=>(l(),r(F,{key:a,detail:e,onClick:a=>(e=>{const{orderNo:a}=e;I("orderDetail",{orderNo:a,agentCode:f,tenantId:m})})(e),onAfterDelete:B},null,8,["detail","onClick"])))),128)),R])),_:1},8,["loading","finished"])):(l(),s("div",U,[o(p,{title:"暂无投保单","empty-class":"empty-select"})]))])])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-0237aa7e"]]);export{$ as default};
