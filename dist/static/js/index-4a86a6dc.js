var O=Object.defineProperty,S=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var x=(o,e,t)=>e in o?O(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,y=(o,e)=>{for(var t in e||(e={}))z.call(e,t)&&x(o,t,e[t]);if(C)for(var t of C(e))R.call(e,t)&&x(o,t,e[t]);return o},N=(o,e)=>S(o,j(e));import{g as M,v as Q,K as U,r as l,L as W,p as G,N as H,A as B,a7 as K,o as d,E as L,B as P,j as n,i as _,a8 as J,t as X,H as Y}from"./vendor-efd23fdb.js";import{p as Z}from"./pdf_viewer-2bdec52c.js";import{a as $,n as ee}from"./index-f1464a1b.js";import{b as te,P as oe}from"./index-4efca34e.js";const ae=(o={})=>te.get("/api/app/insure/insurance/getCustomerNotices",{params:o}),se={class:"notice-content"},ne=n("h3",{class:"title"},null,-1),ce={key:0},re={class:"content"},ie={key:1},ue=n("div",{id:"customerNotice",isee_pdf:"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/planetOssFile/2022080122423069709444bc4acd84f4481ab140e84456c0f/\u590D\u661F\u8054\u5408\u6D41\u7A0B\u56FEV1.5.pdf?Expires=16599",class:"pdf-wapper"},null,-1),le=[ue],de={key:2},pe=["src"],me=Y("\u6211\u5DF2\u9605\u8BFB"),Ce=M({setup(o){const e="customerNotice",t=Q(),w=U(),{orderNo:D="2022021815432987130620",productCode:E="CQ75CQ76",templateId:b=1,tenantId:k=9991000007}=t.query,i=l({pageCode:e}),f=l(!0);l(!0);const c=l({}),V=s=>{const a=document.getElementById("customerNotice");if(a.hasChildNodes()){f.value=!1;return}Z.exports.getDocument({url:s}).promise.then(u=>{const p=u.numPages;for(let m=1;m<=p;m++)u.getPage(m).then(v=>{const h=v.getViewport({scale:1}),r=document.createElement("canvas"),T=r.getContext("2d");r.width=h.width,r.height=h.height,r.style.width="100%",a.append(r);const q={canvasContext:T,viewport:h};v.render(q),f.value=!1})})};W({nextPage:""});const F=()=>{ae({productCode:E,objectType:3}).then(({code:s,data:a})=>{s==="10000"&&(c.value=a,a.materialSource===1&&setTimeout(()=>{V("https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/planetOssFile/2022080122423069709444bc4acd84f4481ab140e84456c0f/\u590D\u661F\u8054\u5408\u6D41\u7A0B\u56FEV1.5.pdf?Expires=16599")},0))})},A=()=>{$({orderNo:D,tenantId:k}).then(({code:s,data:a})=>{s==="10000"&&Object.assign(i.value,a)})},I=()=>{i.value.extInfo=N(y({},i.value.extInfo),{isReadCustomerNotice:1,pageCode:e,templateId:b}),ee(i.value).then(({code:s,data:a})=>{s==="10000"&&a.pageAction.pageAction==="jumpToPage"&&w.push({path:oe[a.pageAction.data.nextPageCode],query:t.query})})};return G(()=>{}),H(()=>{A(),F()}),(s,a)=>{const g=B("VanButton"),u=B("ProPageWrap"),p=K("dompurify-html");return d(),L(u,{class:"page-customer-notice-wrapper"},{default:P(()=>[n("div",se,[ne,c.value.materialSource===2?(d(),_("div",ce,[J(n("div",re,null,512),[[p,c.value.materialContent]])])):c.value.materialSource===1?(d(),_("div",ie,le)):(d(),_("div",de,[n("iframe",{src:c.value.materialContent,width:"100%",frameborder:"0"},null,8,pe)]))]),n("div",{class:"footer-button",onClick:I},[X(g,{block:"",type:"primary"},{default:P(()=>[me]),_:1})])]),_:1})}}});export{Ce as default};
