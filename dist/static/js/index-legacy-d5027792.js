!function(){var e=document.createElement("style");e.innerHTML=".van-config-provider.router-view{background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%)}.page-activity-invite{width:100%;height:100%;background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%)}.page-activity-invite .banner{width:100%}.page-activity-invite .container{width:100%;padding:.26667rem}.page-activity-invite .container .main-form{background:url(/static/assets/bg.c7f48ab0.png) no-repeat;background-size:100% 100%;position:relative;padding:.6rem 0}.page-activity-invite .container .main-form .sms-code{width:2rem;text-align:center;font-size:.4rem;font-weight:500;color:var(--van-primary-color);padding:0;white-space:nowrap}.page-activity-invite .container .main-form .submit{height:2.66667rem;margin-top:.53333rem;background:url(/static/assets/check.689cf047.gif) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-invite .van-field__body{width:100%}\n",document.head.appendChild(e),System.register(["./vendor-legacy-3ea6fac5.js","./phoneVerify-legacy-c129b863.js","./validator-legacy-70be20af.js","./utils-legacy-ecb80daf.js","./theme-legacy-0d67cf8b.js","./index-legacy-aabc01f7.js","./trial-legacy-353dd5bd.js"],(function(e){"use strict";var a,n,t,i,o,l,c,r,s,d,u,m,v,f,g,p,b,h,y,k,C,w,I;return{setters:[function(e){a=e.h,n=e.G,t=e.N,i=e.$,o=e.r,l=e.k,c=e.m,r=e.n,s=e.s,d=e.B,u=e.A,m=e.L,v=e.M,f=e.T,g=e.P,p=e.aa,b=e.v},function(e){h=e.s,y=e.c},function(e){k=e.v,C=e.a},function(e){w=e.F},function(e){I=e.t},function(){},function(){}],execute:function(){const V=a({props:{isCheck:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>{}}},emits:["on-verify"],setup(e,{emit:a}){var g;const p=e,b=n({}),I=n(!1),V=n(0),j=n("获取验证码"),x=t({mobile:null===(g=p.userInfo)||void 0===g?void 0:g.mobile,smsCode:""}),_=e=>!!k(e)||"请输入正确的手机号",M=e=>!!C(e)||"请输入正确的验证码",B=async()=>{V.value>0||null==b||b.value.validate("mobile").then((async()=>{const e=await h(x.mobile),{code:a,data:n}=e;"10000"===a&&(I.value=!0,f({message:"短信发送成功，请查收"}),(()=>{if(V.value>0)return;V.value=30;const e=()=>{j.value=`${V.value}s`,V.value-=1};e();const a=setInterval((()=>{0===V.value?(j.value="获取验证码",V.value=0,clearInterval(a)):e()}),1e3)})())}))},L=async()=>{const e=await y(x.mobile,x.smsCode),{data:n}=e;n&&a("on-verify",x)},O=async()=>{null==b||b.value.validate().then((async()=>{L()}))};return i((()=>x),(()=>{k(x.mobile)&&C(x.smsCode)&&I.value&&L()}),{deep:!0,immediate:!0}),(e,a)=>{const n=o("van-field"),t=o("van-cell-group"),i=o("VanForm");return l(),c(i,{ref_key:"formRef",ref:b,"label-width":"80"},{default:r((()=>[s(t,null,{default:r((()=>[s(n,{modelValue:d(x).mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>d(x).mobile=e),name:"mobile",label:"手机号",clearable:"",placeholder:"请输入手机号",maxlength:d(w).MOBILE,rules:[{validator:_}]},null,8,["modelValue","maxlength","rules"]),s(n,{modelValue:d(x).smsCode,"onUpdate:modelValue":a[1]||(a[1]=e=>d(x).smsCode=e),name:"smsCode",label:"验证码",clearable:"",placeholder:"请输入验证码",maxlength:d(w).SMS_CODE,rules:[{validator:M}]},{button:r((()=>[u("div",{class:v(["sms-code",{"count-down":V.value>0}]),onClick:B},m(j.value),3)])),_:1},8,["modelValue","maxlength","rules"])])),_:1}),u("div",{class:v([{"check-submit":p.isCheck},{submit:!p.isCheck}]),onClick:O},null,2)])),_:1},512)}}});const j={class:"page-activity-invite"},x=["src"],_={class:"container"},M={class:"main-form"};e("default",a({setup(e){const a=g(),i=p(),{productCode:s="7X9",tenantId:m="",phoneNo:v,saleChannelId:f,agentCode:h="",paymentMethod:y,from:k}=a.query,C=n(!0),w=t({userInfo:{mobile:v,name:""}}),B=async e=>{w.userInfo.mobile=e.mobile,i.push({path:"/chuangxin/baigebao/productDetail",query:{...a.query,tenantId:m,phoneNo:w.userInfo.mobile,productCode:"BWYL2021"}})};return(e,a)=>{const n=o("van-config-provider");return l(),c(n,{"theme-vars":d(I)},{default:r((()=>[u("div",j,[u("img",{src:d("/static/assets/check-img.a2b49089.png"),class:"banner"},null,8,x),u("div",_,[u("div",M,[C.value?(l(),c(V,{key:0,"is-check":e.isCheck,"user-info":d(w).userInfo,onOnVerify:B},null,8,["is-check","user-info"])):b("",!0)])])])])),_:1},8,["theme-vars"])}}}))}}}))}();
