!function(){var e=document.createElement("style");e.innerHTML=".com-body[data-v-28780074]{height:100%;padding:.42667rem .53333rem .21333rem}.com-body .header[data-v-28780074]{display:flex;justify-content:space-between;border:none;height:.56rem;font-size:.4rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.56rem;align-items:center;margin-bottom:.4rem}.com-body .container[data-v-28780074]{height:90%;padding-bottom:2rem;overflow-y:auto}.com-body .container[data-v-28780074]::-webkit-scrollbar{display:none}.com-body .container[data-v-28780074] .risk-select-field{display:inline-flex;padding:0;align-items:center}.com-body .container[data-v-28780074] .risk-select-field :deep(.van-field__label){color:#000}.com-body .container[data-v-28780074] .com-pro-field,.com-body .container[data-v-28780074] .com-van-field{padding-left:0;padding-right:0}.com-body .container[data-v-28780074] .com-pro-field:after,.com-body .container[data-v-28780074] .com-van-field:after{left:0;right:0}.benefit-table{overflow-y:hidden}.benefit-container[data-v-da5503ea]{widows:100%;background:#ffffff;border-radius:.21333rem;margin-bottom:.26667rem;padding:0 .26667rem .4rem}.benefit-container .common-title[data-v-da5503ea]{padding-top:.45333rem;margin-bottom:.4rem;font-weight:500;color:#333}.benefit-container .benefit[data-v-da5503ea]{border-top:1px solid #EEEFF4}.benefit-container .benefit-title[data-v-da5503ea]{margin-top:.48rem;font-size:.37333rem;font-weight:600;color:#393d46}.benefit-container .benefit .box[data-v-da5503ea]{width:8.4rem;margin:0 auto;background:#fafafa;border:1px solid #9fb3d2;padding:.53333rem 0;border-radius:.26667rem;margin-top:.53333rem}.benefit-container .benefit .box-title[data-v-da5503ea]{padding:0 .21333rem;font-size:.42667rem;font-weight:500;color:#333;text-align:center;display:flex;align-items:center;justify-content:center}.benefit-container .benefit .box-title img[data-v-da5503ea]{width:.54667rem;height:.38667rem}.benefit-container .benefit .box-title span[data-v-da5503ea]{color:var(--zaui-price, #ff5840)}.benefit-container .benefit .box-title.box-title-chart[data-v-da5503ea]{margin:.53333rem 0}.benefit-container .benefit .box-price[data-v-da5503ea]{margin-top:.53333rem;display:flex;justify-content:space-between;align-items:center;text-align:center;flex-wrap:wrap}.benefit-container .benefit .box-price .text1[data-v-da5503ea]{font-size:.37333rem;font-weight:500;color:var(--zaui-price, #ff5840)}.benefit-container .benefit .box-price .text2[data-v-da5503ea]{font-size:.32rem;font-weight:400;color:#393d46}.benefit-container .benefit .tl[data-v-da5503ea]{margin-right:.13333rem}.benefit-container .benefit .tr[data-v-da5503ea]{margin-left:.13333rem}.benefit-container .benefit .transform-z180[data-v-da5503ea]{transform:rotate(180deg)}.benefit-container .benefit .slider[data-v-da5503ea]{display:flex;align-items:center;margin-top:.4rem}.benefit-container .benefit .slider .opt[data-v-da5503ea]{color:var(--van-primary-color);font-size:.53333rem}.benefit-container .benefit .slider .lf[data-v-da5503ea]{margin-right:.66667rem;display:flex;align-items:center}.benefit-container .benefit .slider .rg[data-v-da5503ea]{margin-left:.66667rem}.benefit-container .benefit .slider .custom-button[data-v-da5503ea]{width:1.38667rem;height:.61333rem;background:var(--van-primary-color, var(--zaui-brand));box-shadow:0 .02667rem .08rem rgba(0,0,0,.1);border-radius:.37333rem;border:.06667rem solid var(--van-primary-color-light05);font-size:.32rem;font-weight:600;color:#fff;text-align:center}.benefit-container .benefit .slider-dec[data-v-da5503ea]{font-size:.32rem;font-weight:400;color:#99a9c0;text-align:center;margin:.26667rem 0 .53333rem}.benefit-container .benefit .btn-two[data-v-da5503ea]{display:flex;padding:.26667rem 0;justify-content:space-between}.benefit-container .benefit .btn-two .btn[data-v-da5503ea]{width:7.46667rem;height:.8rem;margin-right:.13333rem}.benefit-container .benefit .btn-two .btn[data-v-da5503ea] .van-button__text{font-size:.29333rem}.trial-button[data-v-f26543be]{padding:.4rem;text-align:right;background-color:#fff}.com-body[data-v-f26543be]{height:100%}.com-body .header[data-v-f26543be]{padding:0 .4rem;display:flex;justify-content:space-between;border:none;height:1.46667rem;font-size:.48rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.53333rem;align-items:center;border-bottom:1px solid #eeeeee}.com-body .header i[data-v-f26543be]{font-size:.53333rem}.com-body .header span[data-v-f26543be]{width:8rem;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.com-body .container[data-v-f26543be]{height:90%;padding:0 .4rem 2rem;overflow-y:auto}.com-body .container[data-v-f26543be]::-webkit-scrollbar{display:none}.com-body .container[data-v-f26543be] .risk-select-field{display:inline-flex;padding:0;align-items:center}.com-body .container[data-v-f26543be] .risk-select-field :deep(.van-field__label){color:#000}.com-body .container[data-v-f26543be] .com-pro-field,.com-body .container[data-v-f26543be] .com-van-field{padding-left:0;padding-right:0}.com-body .container[data-v-f26543be] .com-pro-field:after,.com-body .container[data-v-f26543be] .com-van-field:after{left:0;right:0}\n",document.head.appendChild(e),System.register(["./index-legacy-f1256a32.js","./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-legacy-2d7ac314.js","./index-legacy-a8227048.js","./index-legacy-70fb3daf.js","./index-legacy-7ffc6fd9.js","./index-legacy-85eb653a.js","./trial-legacy-627142b1.js","./TrialButton-legacy-b6e903f8.js","./box-title-legacy-9360143c.js","./index-legacy-c119743e.js","./Table-legacy-eeb27a78.js","./pdfh5-legacy-9f98dc45.js","./isObjectLike-legacy-7cedb542.js","./_nodeUtil-legacy-acbb75ec.js","./index-legacy-368af3ef.js","./echarts-legacy-dec3ace5.js","./empty-legacy-7d56bad5.js"],(function(e){"use strict";var a,t,i,n,o,r,d,l,s,c,u,f,m,p,b,v,g,h,y,k,I,x,V,O,C,w,_,R,L,S,F,j,T,P,z,D,E,N,U,B,M,H,q,W,A,$,Z,G;return{setters:[function(e){a=e._,t=e.d,i=e.a,n=e.r,o=e.J,r=e.E,d=e.cd,l=e.an,s=e.c,c=e.h,u=e.f,f=e.g,m=e.F,p=e.i,b=e.e,v=e.aE,g=e.G,h=e.w,y=e.k,k=e.y,I=e.A,x=e.j,V=e.n,O=e.t,C=e.a4,w=e.bB,_=e.a7,R=e.V,L=e.B,S=e.bE,F=e.bF,j=e.X,T=e.Y,P=e.b4,z=e.a8},function(e){D=e.l},function(){},function(e){E=e.I},function(e){N=e.c,U=e.t,B=e._},function(e){M=e.S},function(e){H=e.f,q=e.p},function(e){W=e._},function(e){A=e.S,$=e._},function(e){Z=e._},function(e){G=e.T},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const J=t({__name:"PersonalInfo",props:{productFactor:{default:()=>({})},modelValue:{default:()=>({})}},emits:["update:modelValue","trailChange"],setup(e,{expose:a,emit:t}){const v=e,{query:{insurerCode:g}={}}=i(),h=n(null),y=n(null),k=o({validated:!1,holder:{personVO:{},schema:[],trialFactorCodes:[],config:{occupation:{dictCode:N(g)}}},insured:{schema:[],trialFactorCodes:[],config:{occupation:{dictCode:N(g)}},insuredVOList:[{personVO:{}}]}}),I=r((()=>d(k.holder.schema)!==d(k.insured.schema))),x=()=>{var e,a;const t=null===(e=y.value)||void 0===e?void 0:e.map((e=>null==e?void 0:e.validate()));return Promise.all([null===(a=h.value)||void 0===a?void 0:a.validate(),...t])};return l((()=>v.productFactor),(()=>{const[e,a]=U(v.productFactor,!0);Object.assign(k.holder,e),Object.assign(k.insured,a)}),{deep:!0,immediate:!0}),l([()=>k.holder.personVO,()=>k.insured.insuredVOList],(()=>{const e={holder:k.holder.personVO,insuredVOList:k.insured.insuredVOList};t("update:modelValue",e),(()=>{const e=!!d(k.holder.trialFactorCodes)&&k.holder.trialFactorCodes.some((e=>{const a=k.holder.personVO[e];return D.exports.isNil(a)||""===a})),a=!!d(k.insured.trialFactorCodes)&&k.insured.trialFactorCodes.some((e=>k.insured.insuredVOList.some((a=>{const t=a.personVO[e];return D.exports.isNil(t)||""===t}))));return e||a})()||x().then((()=>{k.validated=!0,t("trailChange",e)})).catch((()=>{k.validated=!1}))}),{deep:!0}),a({validate:x}),(e,a)=>(s(),c(m,null,[u(f(B),{ref_key:"holderInfoRef",ref:h,title:f(I)?"":"投保人信息",class:"trail-personal-info",model:f(k).holder.personVO,schema:f(k).holder.schema,config:f(k).holder.config},null,8,["title","model","schema","config"]),(s(!0),c(m,null,p(f(k).insured.insuredVOList,((e,a)=>(s(),b(f(B),{ref_for:!0,ref_key:"insuredFormRef",ref:y,key:a,class:"trail-personal-info",title:f(I)?"":"被保人信息",model:e.personVO,schema:f(k).insured.schema,config:f(k).insured.config},null,8,["title","model","schema","config"])))),128))],64))}});var X=a(J,[["__scopeId","data-v-a2c06736"]]);const Y={key:0},K={key:0,class:"risk2-field"},Q=t({__name:"index",props:{dataSource:{type:Array,default:()=>[]},productInfo:{type:Object,default:()=>({productCode:"",productName:""})},showMainRisk:{type:Boolean,default:()=>!0}},emits:["trialChange"],setup(e,{emit:a}){const t=e;console.log("pop data source = ",t.dataSource);const i=o({loading:!1,show:!0,select:{},list:[],userData:{},riskIsInsure:{},submitData:{}}),r=n(),d=n({tenantId:"9991000007",productCode:"BDFZCHUN",holder:{personVO:{extInfo:{},certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456"}},insuredVOList:[{insuredCode:"",relationToHolder:"1",personVO:{extInfo:{hasSocialInsurance:"1"},relationToHolder:"1",certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456",socialFlag:"1"},productPlanVOList:[{insurerCode:"zhongan",planCode:"",riskVOList:[{amount:"6000000",chargePeriod:"year_5",copy:1,coveragePeriod:"to_68",paymentFrequency:"2",riskCategory:4,riskCode:"CBE00CHUN",riskName:"(勿动)利益演示测试",riskId:10325,riskType:1}]}]}]}),b=(e,n)=>{i.riskIsInsure[n].data=e;const o=[];t.dataSource.insureProductRiskVOList.forEach((e=>{if(1!==e.mainRiskFlag){const a=i.riskIsInsure[e.riskId];a.data&&Object.keys(a.data).length>0&&o.push(a.data)}})),a("trialChange",o)};return v((()=>{(()=>{i.riskIsInsure={};let e=null;t.dataSource.insureProductRiskVOList.forEach((a=>{const n=1!==a.mainRiskFlag?t.dataSource.productRiskRelationVOList.find((e=>e.collocationRiskId===a.riskId)):{};1===a.mainRiskFlag&&(e=a),i.riskIsInsure[a.riskId]={selected:"2",data:null,relation:n,isMust:!1}})),e&&t.dataSource.productRiskRelationVOList.filter((a=>a.riskId===e.riskId)).forEach((e=>{2===e.collocationType&&(i.riskIsInsure[e.collocationRiskId].selected="1",i.riskIsInsure[e.collocationRiskId].isMust=!0)}))})()})),g((()=>{i.loading=!0,H(d.value).then((e=>{r.value=e.data})).finally((()=>{i.loading=!1}))})),l((()=>i.riskIsInsure),(e=>{}),{deep:!0,immediate:!0}),(a,n)=>{const o=M,r=k;return s(!0),c(m,null,p(e.dataSource.insureProductRiskVOList,(a=>(s(),c(m,{key:a.riskCode},[(!e.showMainRisk&&1!==a.mainRiskFlag||e.showMainRisk)&&f(i).riskIsInsure[a.riskId].relation?(s(),c("div",Y,[u(r,{modelValue:f(i).riskIsInsure[a.riskId].selected,"onUpdate:modelValue":e=>f(i).riskIsInsure[a.riskId].selected=e,label:a.riskName,name:"selected","label-width":"50%",border:!1,class:"risk-select-field"},{input:h((()=>[u(o,{modelValue:f(i).riskIsInsure[a.riskId].selected,"onUpdate:modelValue":e=>f(i).riskIsInsure[a.riskId].selected=e,"active-value":"1","inactive-value":"2",size:"26px",disabled:f(i).riskIsInsure[a.riskId].isMust,onChange:e=>{return i=e,n=a,console.log("----data = ",n),t.dataSource.productRiskRelationVOList.forEach((e=>{})),void("2"===i&&b({},n.riskId));var i,n}},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"]),"1"===f(i).riskIsInsure[a.riskId].selected?(s(),c("div",K,[u(E,{modelValue:f(i).riskIsInsure[a.riskId].data,"onUpdate:modelValue":e=>f(i).riskIsInsure[a.riskId].data=e,"origin-data":a,"product-factor":e.dataSource.productFactor,onTrialChange:e=>b(e,a.riskId)},null,8,["modelValue","onUpdate:modelValue","origin-data","product-factor","onTrialChange"])])):y("",!0)])):y("",!0)],64)))),128)}}});var ee=a(Q,[["__scopeId","data-v-28780074"]]);const ae={class:"benefit-table"},te=t({__name:"Table",props:{dataSource:null},setup(e){const a=e,t=r((()=>{const e=a.dataSource.headers.length,t=12*a.dataSource.headers.join("").length+20*a.dataSource.headers.length;return a.dataSource.headers.map(((a,i)=>{const n=t>320?12*a.length+20:Math.max(12*a.length+20,320/e);return console.log("totalWordWidth:",t,"titleWidth:",n,"word-width:",12*a.length+20),{title:a,key:`header_${i}`,fixed:i<2,minWidth:n}}))})),i=r((()=>a.dataSource.dataList.map((e=>{const a={};return e.forEach(((e,t)=>{a[`header_${t}`]=e})),a}))));return g((()=>{})),(e,a)=>(s(),c("div",ae,[u(G,{"top-height":400,columns:f(t),data:f(i),"is-clone":!0},null,8,["columns","data"])]))}});const ie=e=>(j("data-v-da5503ea"),e=e(),T(),e),ne={class:"benefit-container"},oe={key:0,class:"benefit"},re=ie((()=>x("div",{class:"line"},null,-1))),de={class:"box-title box-title-chart"},le=ie((()=>x("img",{class:"tl",src:$,alt:""},null,-1))),se=ie((()=>x("img",{class:"transform-z180 tr",src:$,alt:""},null,-1))),ce={key:0},ue={class:"box"},fe={class:"box-title"},me=ie((()=>x("img",{class:"tl",src:$,alt:""},null,-1))),pe=ie((()=>x("img",{class:"transform-z180 tr",src:$,alt:""},null,-1))),be={class:"box-price"},ve={class:"text1"},ge={class:"text2"},he={key:1},ye={key:2,style:{width:"100%, minWidth: 338px"}},ke={class:"slider"},Ie={style:{flex:"1",margin:"0px 5px"}},xe={class:"custom-button"},Ve=ie((()=>x("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Oe={class:"btn-two"};var Ce=a(t({__name:"index",props:{dataSource:{default:()=>[{}]},showTypeList:{default:()=>["1"]}},setup(e){const a=e,t="1",i="2",o="3",r=n(0),d=n(0),v=n(0),g=n(),k=n(0),j=n("3"),T=n(),P=e=>{if(null==e||!e.benefitRiskResultVOList)return;const a=null==e?void 0:e.benefitRiskResultVOList[r.value];d.value=a.ageBegin+1,k.value=a.ageBegin+1,v.value=a.ageEnd},z=()=>{var e,t,i,n,o;const l=null===(e=a.dataSource)||void 0===e||null===(t=e.benefitRiskResultVOList)||void 0===t?void 0:t[r.value];T.value=null===(i=a.dataSource)||void 0===i||null===(n=i.benefitRiskResultVOList)||void 0===n?void 0:n[r.value].benefitRiskTableResultVOList[0];const{a:s,year:c}=((e,a)=>{const t=[],i=[];for(let n=e,o=0;n<=a;n++,o++)t.push(n.toString()),i.push(o+1);return{a:t,year:i}})(d.value,v.value),u={index:s.indexOf(k.value.toString()),age:s,year:c,result:null==l||null===(o=l.benefitRiskItemResultVOList)||void 0===o?void 0:o[0]};g.value=u},D=()=>{k.value>v.value-1||(k.value+=1,z())},E=()=>{k.value>d.value&&(k.value-=1,z())},N=e=>{r.value=e.name,P(a.dataSource),z()};return l((()=>a.dataSource),(e=>{e&&(P(e),z())}),{deep:!0,immediate:!0}),l(k,(()=>{z()})),(e,n)=>{const l=R,P=A,z=L,U=S,B=F;return s(),c("div",ne,[u(B,{active:f(r),onClickTab:N},{default:h((()=>{var e;return[(s(!0),c(m,null,p(null===(e=a.dataSource)||void 0===e?void 0:e.benefitRiskResultVOList,((e,a)=>(s(),b(U,{key:a,name:a,title:e.riskName},{default:h((()=>{var e,R,L,S,F,N,U,B,M,H,q,W,A,$,G,J;return[a==f(r)?(s(),c("div",oe,[re,I(x("p",de,[le,V(" 保单年度"),x("span",null,O(null===(e=f(g))||void 0===e||null===(R=e.year)||void 0===R?void 0:R[null===(L=f(g))||void 0===L?void 0:L.index]),1),V("年度，被保人"),x("span",null,O(null===(S=f(g))||void 0===S||null===(F=S.age)||void 0===F?void 0:F[null===(N=f(g))||void 0===N?void 0:N.index]),1),V("岁时 "),se],512),[[C,f(j)===i]]),f(j)===o?(s(),c("div",ce,[x("div",ue,[x("p",fe,[me,V(" 保单年度"),x("span",null,O(null===(U=f(g))||void 0===U||null===(B=U.year)||void 0===B?void 0:B[null===(M=f(g))||void 0===M?void 0:M.index]),1),V("年度，被保人"),x("span",null,O(null===(H=f(g))||void 0===H||null===(q=H.age)||void 0===q?void 0:q[null===(W=f(g))||void 0===W?void 0:W.index]),1),V("岁时 "),pe]),x("div",be,[(s(!0),c(m,null,p(null===(A=f(g))||void 0===A||null===($=A.result)||void 0===$?void 0:$.headers,((e,a)=>{var t,i,n,o,r;return s(),c("div",{key:a,style:{width:"33%"}},[x("p",ve,O(f(w)(Number(null===(t=f(g))||void 0===t||null===(i=t.result)||void 0===i||null===(n=i.dataList)||void 0===n||null===(o=n[null===(r=f(g))||void 0===r?void 0:r.index])||void 0===o?void 0:o[a]))),1),x("p",ge,O(e)+"(元）",1)])})),128))])])])):y("",!0),f(j)===t?(s(),c("div",he,[u(te,{"data-source":f(T)},null,8,["data-source"])])):y("",!0),f(j)==i?(s(),c("div",ye,[u(Z,{min:f(d),max:f(v),current:f(k),data:null===(G=f(g))||void 0===G||null===(J=G.result)||void 0===J?void 0:J.benefitRiskItemList},null,8,["min","max","current","data"])])):y("",!0),x("div",ke,[x("div",{class:"opt lf",onClick:E},[u(l,{name:"minus"})]),x("div",Ie,[f(d)?(s(),b(P,{key:0,modelValue:f(k),"onUpdate:modelValue":n[0]||(n[0]=e=>_(k)?k.value=e:null),min:f(d),max:f(v),"bar-height":"8px"},{button:h((()=>[x("div",xe,O(f(k))+" 岁",1)])),_:1},8,["modelValue","min","max"])):y("",!0)]),x("div",{class:"opt rg",onClick:D},[u(l,{name:"plus"})])]),Ve,x("div",Oe,[u(z,{round:"",plain:f(j)!==o,type:"primary",class:"btn",onClick:n[1]||(n[1]=e=>j.value=o)},{default:h((()=>[V("图表展示")])),_:1},8,["plain"]),u(z,{round:"",plain:f(j)!==i,type:"primary",class:"btn",onClick:n[2]||(n[2]=e=>j.value=i)},{default:h((()=>[V("趋势展示")])),_:1},8,["plain"]),u(z,{round:"",plain:f(j)!==t,type:"primary",class:"btn",onClick:n[3]||(n[3]=e=>j.value=t)},{default:h((()=>[V("表格展示")])),_:1},8,["plain"])])])):y("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-da5503ea"]]);const we={class:"trial-button"},_e={class:"com-body"},Re={class:"header"},Le=(e=>(j("data-v-f26543be"),e=e(),T(),e))((()=>x("span",null,"算一算保费",-1))),Se={class:"container"},Fe=t({__name:"index",props:{dataSource:{type:Array,default:()=>[]},productInfo:{type:Object,default:()=>({productCode:"",productName:"",insurerCode:"",tenantId:""})}},setup(e,{expose:a}){const t=e,i="试算中...",r=n(null);console.log("pop data source = ",t.dataSource);const d=o({loading:!1,show:!0,select:{},list:[],userData:{},riskIsInsure:{},submitData:{},riskVOList:[{}],mainRiskVO:{},ifPersonalInfoSuccess:!1,trialResult:i}),p=()=>{var e;null===(e=r.value)||void 0===e||e.validate().then((()=>{console.log("---- validate success ----")})),d.loading=!1,d.show=!0},k=()=>{d.show=!1,d.loading=!1},I=n(),O=n({tenantId:"9991000007",productCode:"BDFZCHUN",holder:{personVO:{extInfo:{},certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456"}},insuredVOList:[{insuredCode:"",relationToHolder:"1",personVO:{extInfo:{hasSocialInsurance:"1"},relationToHolder:"1",certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456",socialFlag:"1"},productPlanVOList:[{insurerCode:"zhongan",planCode:"",riskVOList:[{amount:"6000000",chargePeriod:"year_5",copy:1,coveragePeriod:"to_68",paymentFrequency:"2",riskCategory:4,riskCode:"CBE00CHUN",riskName:"(勿动)利益演示测试",riskId:10325,riskType:1}]}]}]}),C=()=>{d.riskIsInsure={},t.dataSource.insureProductRiskVOList.forEach((e=>{const a=t.dataSource.productRiskRelationVOList.find((a=>a.collocationRiskId===e.riskId));d.riskIsInsure[e.riskCode]={selected:"2",data:null,relation:a}}))},w=D.exports.debounce((()=>{d.ifPersonalInfoSuccess&&(d.submitData.productCode=t.productInfo.productCode,d.submitData.tenantId=t.productInfo.tenantId,d.submitData.insuredVOList[0].productPlanVOList=[{insurerCode:t.productInfo.insurerCode,planCode:t.dataSource.planCode,riskVOList:d.riskVOList}],console.log(">>>数据构建<<<",d.submitData),d.trialResult=i,q(d.submitData).then((e=>{d.trialResult=`${e.data.premium}元`})).finally((()=>{})))}),300),_=e=>{const{holder:a,insuredVOList:t}=e;a&&(d.submitData.holder={personVO:a}),t&&t.length>0&&t.forEach(((e,a)=>{d.submitData.insuredVOList&&d.submitData.insuredVOList.length>a?d.submitData.insuredVOList[a].personVO=e.personVO:d.submitData.insuredVOList=[{personVO:e.personVO}]})),d.ifPersonalInfoSuccess=!0,console.log("投被保人的信息回传 ",d.submitData,e),w()},R=e=>{d.mainRiskVO=e,d.riskVOList.length>0&&(d.riskVOList[0]=e),console.log("标准险种的信息回传",e),w()},S=e=>{d.riskVOList=[d.mainRiskVO,...e],console.log("附加险列表数据回传",e),w()};return v((()=>{C()})),g((()=>{d.loading=!0,H(O.value).then((e=>{I.value=e.data})).finally((()=>{d.loading=!1}))})),l((()=>d.show),(e=>{e&&C()})),a({open:()=>{d.show=!0}}),l((()=>d.riskIsInsure),(e=>{}),{deep:!0,immediate:!0}),(a,t)=>{const i=L,n=P,o=z;return s(),c(m,null,[x("div",we,[u(i,{type:"primary",onClick:t[0]||(t[0]=e=>f(d).show=!0)},{default:h((()=>[V("立即投保")])),_:1})]),u(o,{class:"com-trial-wrap",style:{height:"620px"},show:f(d).show,closeable:!1,onClose:k},{default:h((()=>[x("div",_e,[x("div",Re,[Le,u(n,{name:"cross",onClick:t[1]||(t[1]=e=>f(d).show=!1)})]),x("div",Se,[u(Ce,{"data-source":I.value},null,8,["data-source"]),e.dataSource.productFactor?(s(),b(f(X),{key:0,ref:"personalInfoRef",modelValue:f(d).userData,"onUpdate:modelValue":t[2]||(t[2]=e=>f(d).userData=e),"product-factor":e.dataSource.productFactor,onTrailChange:_},null,8,["modelValue","product-factor"])):y("",!0),u(E,{ref_key:"insureInfosRef",ref:r,"origin-data":e.dataSource.insureProductRiskVOList[0],"product-factor":e.dataSource.productFactor,onTrialChange:R},null,8,["origin-data","product-factor"]),u(ee,{"data-source":e.dataSource,"show-main-risk":!1,onTrialChange:S},null,8,["data-source"])]),u(W,{"is-share":!1,premium:100,"loading-text":f(d).trialResult,"plan-code":"todo计划的code","payment-frequency":"guaranteeObj.paymentFrequency","tenant-product-detail":"tenantProductDetail",onClick:p},{default:h((()=>[V("立即投保")])),_:1},8,["loading-text","payment-frequency"])])])),_:1},8,["show"])],64)}}});e("default",a(Fe,[["__scopeId","data-v-f26543be"]]))}}}))}();
