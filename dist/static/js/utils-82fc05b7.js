import{au as e}from"./index-c51609f0.js";import{q as i}from"./createProposal-4e85526d.js";import"./trial-c4d1a79a.js";const r=[{name:"年金领取期间",type:"checkbox",configKey:["annuityDrawValueList"],valueKey:"annuityDrawDate"},{name:"领取频率",type:"checkbox",configKey:["annuityDrawFrequencyList"],valueKey:"annuityDrawFrequency"},{name:"交费方式",type:"checkbox",configKey:["paymentFrequencyList"],valueKey:"paymentFrequency",ruleKey:"paymentTypeRule"},{name:"交费期间",type:"checkbox",configKey:["paymentPeriodValueList"],valueKey:"chargePeriod",ruleKey:"paymentPeriodRule",ruleValueKey:"chargePeriod"},{name:"保障期间",type:"checkbox",configKey:["insurancePeriodValueList"],valueKey:"coveragePeriod",ruleKey:"insurancePeriodRule",ruleValueKey:"chargePeriod"}],t=async({proposalId:e,productCode:r,tenantId:t,proposalInsuredId:a},o)=>{const n=(await i({id:e,tenantId:t})).data,l={holder:{},insuredVOList:[],productCode:r};l.holder={personVO:null==n?void 0:n.holder},l.insuredVOList=null==n?void 0:n.insuredList.filter((e=>e.id===+a)).map((e=>({personVO:{age:e.age,birthday:e.birthday,bmi:e.bmi,certNo:e.certNo,certType:e.certType,email:e.email,gender:e.gender,hasSocialInsurance:e.hasSocialInsurance,height:e.height,holderRelation:e.holderRelation,insureAreaCode:e.insureAreaCode,insureCityCode:e.insureCityCode,insureProvinceCode:e.insureProvinceCode,mobile:e.mobile,name:e.name,occupationClass:e.occupationClass,occupationCodeList:e.occupationCode,smokeFlag:e.smokeFlag,socialFlag:e.socialFlag,weight:e.weight},productPlanVOList:e.proposalInsuredProductList.map((e=>({insurerCode:null,planCode:"",relationToHolder:"1",riskVOList:e.proposalProductRiskList.map((e=>({amount:e.amount,annuityDrawDate:e.annuityDrawDate,annuityDrawType:e.annuityDrawType,chargePeriod:e.chargePeriod,copy:e.copy,coveragePeriod:e.coveragePeriod,liabilityVOList:e.liabilityVOList.map((e=>({liabilityAmount:null,liabilityAttributeType:e.liabilityAttributeType,liabilityAttributeValueList:e.liabilityAttributeValueList,liabilityCode:e.liabilityCode,liabilityId:e.liabilityId,liabilityRateType:null,liabilityValue:null}))),mainRiskCode:e.mainRiskCode,mainRiskId:e.mainRiskId,paymentFrequency:e.paymentFrequency,premium:e.premium,riskCategory:e.riskCategory,riskCode:e.riskCode,riskId:e.riskId,riskName:e.riskName,riskType:e.riskType})))})))}))),null==o||o(l)},a=(i,r,t)=>{const a={...t,...i},{insuredPremiumList:o=[],initialAmount:n,initialPremium:l=0}=r||{};return a.premium=l,a.orderAmount=l,a.orderRealAmount=l,a.insuredList=(a.insuredList||[]).map(((i,r)=>({...i,certType:i.certType||e.CERT,certNo:(i.certNo||"").toLocaleUpperCase(),productList:(i.productList||[]).map(((e,i)=>{var t,a,n;return{...e,premium:null==(n=null==(a=null==(t=null==o?void 0:o[r])?void 0:t.productPremiumList)?void 0:a[i])?void 0:n.totalPremium,riskList:(e.riskList||[]).map(((e,t)=>{var a,n,u,s;const{initialAmount:d,initialPremium:m,unitAmount:c,unitPremium:y}=(null==(s=null==(u=null==(n=null==(a=null==o?void 0:o[r])?void 0:a.productPremiumList)?void 0:n[i])?void 0:u.riskPremiumDetailVOList)?void 0:s[t])||{};return{...e,initialAmount:d,initialPremium:m,unitAmount:c,unitPremium:y,regularPremium:l,totalPremium:l}}))}}))}))),a};export{r as P,t as p,a as t};
