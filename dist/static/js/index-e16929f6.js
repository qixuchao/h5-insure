import{g as P,L as B,v as V,ad as b,M as I,r as d,h as p,j as L,k as r,n as o,z as m,a6 as E,y as n,m as h,E as N,F as A,I as v,B as l,D as R,T}from"./vendor-4dbfa310.js";import{P as w}from"./index-98a271b5.js";import{h as S,d as z}from"./proposalList-bcecc452.js";import{_ as M}from"./index-e3074f98.js";const U={class:"proposal-content"},W={class:"title"},Z={class:"premium"},$=l(" \u4FDD\u8D39\uFF1A"),j={class:"operate-btn"},q=l("\u5220\u9664"),H=l("\u7F16\u8F91"),O=l("\u9884\u89C8"),G=P({setup(J){const f=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"riskName",width:180},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"coveragePeriod"},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"chargePeriod",width:110},{title:"\u4FDD\u8D39",dataIndex:"premium",width:120}],y=B({historyList:[],searchValue:""}),{historyList:_,searchValue:u}=V(y),F=b(),c=()=>{S({name:u.value,pageNum:1,pageSize:999,relationUserType:2}).then(t=>{const{code:a,data:s}=t;a==="10000"&&(_.value=s.datas)})},D=()=>{c()},g=t=>{R.confirm({title:"\u5220\u9664\u8BA1\u5212\u4E66",message:"\u786E\u8BA4\u5220\u9664\u8BA1\u5212\u4E66"}).then(()=>{z(t).then(a=>{const{code:s}=a;s==="10000"&&(T.success("\u5220\u9664\u6210\u529F"),c())})}).catch(()=>{})},k=t=>{F.push({path:"/proposal/createProposal",query:{id:t}})};return I(()=>{c()}),(t,a)=>{const s=d("van-search"),i=d("van-button"),x=d("ZaPageWrap");return p(),L(x,{class:"page-history-proposal"},{default:r(()=>[o(s,{modelValue:m(u),"onUpdate:modelValue":a[0]||(a[0]=e=>E(u)?u.value=e:null),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",shape:"round",class:"search",onClickInput:D},null,8,["modelValue"]),n("div",U,[(p(!0),h(A,null,N(m(_),e=>(p(),h("div",{key:e.id,class:"proposal-item"},[n("div",W,v(e.proposalName),1),n("p",Z,[$,n("span",null,"\xA5"+v(e.totalPremium),1)]),o(w,{columns:f,class:"table","data-source":e.proposalProductRiskVOList},null,8,["data-source"]),n("div",j,[o(i,{plain:"",round:"",type:"primary",class:"del-btn",onClick:C=>g(e.id)},{default:r(()=>[q]),_:2},1032,["onClick"]),o(i,{plain:"",round:"",type:"primary",onClick:C=>k(e.id)},{default:r(()=>[H]),_:2},1032,["onClick"]),o(i,{plain:"",round:"",type:"primary"},{default:r(()=>[O]),_:1})])]))),128))])]),_:1})}}});var ee=M(G,[["__scopeId","data-v-064c19b1"]]);export{ee as default};
