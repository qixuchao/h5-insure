import{_ as a,d as e,i as l,h as d,j as o,k as s,al as n,O as t,o as r,c,a as m,b as i,e as u,u as p,m as h,w as v,f as b,a8 as f,cQ as y,cR as k,T as V,cE as g,bp as w,co as C,cp as x,ai as N,aE as _,aF as q}from"./index-9ddb4866.js";import{g as I}from"./trial-e64e64ad.js";const T={class:"page-pay-auth-wrap"},U={class:"header"},j={class:"content"},E={class:"bank-card"},R={class:"card-content"},O={class:"main"},W={class:"bank-name"},A={class:"bank-no"},B={class:"bank-card-type"},F=(a=>(_("data-v-35bc7f3a"),a=a(),q(),a))((()=>m("p",{class:"desc"},"实时单笔限额5W 实时单日限额5W",-1))),L={class:"footer-button"},P=e({name:"payAuth"});var Q=a(e({...P,setup(a){const e=l(),_=d(),{orderNo:q,tenantId:P}=e.query,Q=o(),z=o(),D=o({}),G=s((()=>z.value.holder.certType===n.CERT?"身份证号":"证件号")),H=(a,e)=>{y(z.value).then((({code:a,data:l})=>{"10000"===a&&(null==e||e())}))},J=()=>{Q.value.validate().then((a=>{k(z.value).then((({code:a,data:e})=>{"10000"===a&&(_.back(),V("成功"))}))})).catch((a=>{console.log("e",a)}))};return t((()=>{(async()=>{await I({orderNo:q,tenantId:P}).then((({code:a,data:e})=>{"10000"===a&&(z.value=e,D.value=e.tenantOrderPayInfoList.find((a=>1===a.payInfoType)))}))})()})),(a,e)=>{const l=g,d=w,o=C,s=x,n=N;return r(),c("div",T,[m("div",U,[i(l,{type:"warning",content:"根据央行发布《关于规范支付创新业务的通知》，明确代收服务机构应当要求收款人事先与付款人签订收款协议，取得持卡人授权，并在代收交易处理中验证协议关系，银行与持卡人的直接授权。"})]),m("div",j,[m("div",E,[m("div",R,[m("div",O,[m("span",W,u(p(D).payBank||"中国工商银行"),1),m("span",A,u(p(D).bankCardNo||"**** **** **** 3941"),1)]),m("p",B,u(p(D).bankCardType||"储蓄卡"),1),F])]),p(z)?(r(),h(s,{key:0,ref_key:"formRef",ref:Q,model:p(z).holder},{default:v((()=>[i(d,{modelValue:p(z).holder.name,"onUpdate:modelValue":e[0]||(e[0]=a=>p(z).holder.name=a),label:"姓名",name:"name",maxlength:"11","is-view":"",required:""},null,8,["modelValue"]),i(d,{modelValue:p(z).holder.certNo,"onUpdate:modelValue":e[1]||(e[1]=a=>p(z).holder.certNo=a),label:p(G),name:"certNo",maxlength:"18","is-view":"",required:""},null,8,["modelValue","label"]),i(d,{modelValue:p(z).holder.mobile,"onUpdate:modelValue":e[2]||(e[2]=a=>p(z).holder.mobile=a),label:"银行预留手机",name:"mobile",maxlength:"11","is-view":"",required:""},null,8,["modelValue"]),i(o,{modelValue:p(z).holder.verifyCode,"onUpdate:modelValue":e[3]||(e[3]=a=>p(z).holder.verifyCode=a),label:"验证码",maxlength:"6",name:"verifyCode","related-name":"mobile","send-s-m-s-code":H,required:""},null,8,["modelValue"])])),_:1},8,["model"])):b("",!0)]),m("div",L,[i(n,{type:"primary",onClick:J},{default:v((()=>[f("提交")])),_:1})])])}}}),[["__scopeId","data-v-35bc7f3a"]]);export{Q as default};
