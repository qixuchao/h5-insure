import{b5 as e,b6 as t,b7 as a,b8 as r,b9 as n,ba as o,bb as s,aP as c,bc as l,bd as i,be as u,aR as d,bf as p,bg as v,_ as f,d as b,aW as y,b4 as m,u as h,a as j,r as A,z as g,x as _,y as w,b as x,c as I,g as O,e as k,w as P,i as S,f as D,l as F,au as C,j as B,aC as L,t as R,n as U,aZ as N,T as E,K as V,L as z,aK as M}from"./index-d3e612d5.js";import{p as T}from"./product-934a4494.js";import{d as J,i as W,g as G,s as Z,e as Y,E as H}from"./trial-4ce4b0a1.js";import{a as $,t as Q,c as X,s as K,b as q,d as ee}from"./utils-2f297114.js";import{a as te}from"./order-f98be6f3.js";import ae from"./index-c739a26e.js";import{u as re}from"./theme-65292714.js";import{B as ne}from"./index-a31a21e8.js";import oe from"./index-d1b21509.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-9cfdbd26.js";import"./useStorage-7c09f879.js";import"./trial-adc0ccf6.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-ed126120.js";function se(t){var a=this.__data__=new e(t);this.size=a.size}se.prototype.clear=function(){this.__data__=new e,this.size=0},se.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(r,n){var o=this.__data__;if(o instanceof e){var s=o.__data__;if(!t||s.length<199)return s.push([r,n]),this.size=++o.size,this;o=this.__data__=new a(s)}return o.set(r,n),this.size=o.size,this};var ce=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function le(e,t,a){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var ie=Object.prototype.hasOwnProperty;function ue(e,t,a){var r=e[t];ie.call(e,t)&&n(r,a)&&(void 0!==a||t in e)||le(e,t,a)}function de(e,t,a,r){var n=!a;a||(a={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=r?r(a[c],e[c],c,a,e):void 0;void 0===l&&(l=e[c]),n?le(a,c,l):ue(a,c,l)}return a}function pe(e){return o(e)&&"[object Arguments]"==s(e)}var ve=Object.prototype,fe=ve.hasOwnProperty,be=ve.propertyIsEnumerable,ye=pe(function(){return arguments}())?pe:function(e){return o(e)&&fe.call(e,"callee")&&!be.call(e,"callee")};var me="object"==typeof exports&&exports&&!exports.nodeType&&exports,he=me&&"object"==typeof module&&module&&!module.nodeType&&module,je=he&&he.exports===me?c.Buffer:void 0,Ae=(je?je.isBuffer:void 0)||function(){return!1},ge=/^(?:0|[1-9]\d*)$/;function _e(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&ge.test(e))&&e>-1&&e%1==0&&e<t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var xe={};function Ie(e){return function(t){return e(t)}}xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1;var Oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ke=Oe&&"object"==typeof module&&module&&!module.nodeType&&module,Pe=ke&&ke.exports===Oe&&l.process,Se=function(){try{var e=ke&&ke.require&&ke.require("util").types;return e||Pe&&Pe.binding&&Pe.binding("util")}catch(t){}}(),De=Se&&Se.isTypedArray,Fe=De?Ie(De):function(e){return o(e)&&we(e.length)&&!!xe[s(e)]},Ce=Object.prototype.hasOwnProperty;function Be(e,t){var a=i(e),r=!a&&ye(e),n=!a&&!r&&Ae(e),o=!a&&!r&&!n&&Fe(e),s=a||r||n||o,c=s?function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}(e.length,String):[],l=c.length;for(var u in e)!t&&!Ce.call(e,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_e(u,l))||c.push(u);return c}var Le=Object.prototype;function Re(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)}function Ue(e,t){return function(a){return e(t(a))}}var Ne=Ue(Object.keys,Object),Ee=Object.prototype.hasOwnProperty;function Ve(e){return null!=e&&we(e.length)&&!u(e)}function ze(e){return Ve(e)?Be(e):function(e){if(!Re(e))return Ne(e);var t=[];for(var a in Object(e))Ee.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e)}var Me=Object.prototype.hasOwnProperty;function Te(e){if(!d(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=Re(e),a=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&a.push(r);return a}function Je(e){return Ve(e)?Be(e,!0):Te(e)}var We="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ge=We&&"object"==typeof module&&module&&!module.nodeType&&module,Ze=Ge&&Ge.exports===We?c.Buffer:void 0,Ye=Ze?Ze.allocUnsafe:void 0;function He(){return[]}var $e=Object.prototype.propertyIsEnumerable,Qe=Object.getOwnPropertySymbols,Xe=Qe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,o=[];++a<r;){var s=e[a];t(s,a,e)&&(o[n++]=s)}return o}(Qe(e),(function(t){return $e.call(e,t)})))}:He;function Ke(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}var qe=Ue(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ke(t,Xe(e)),e=qe(e);return t}:He;function tt(e,t,a){var r=t(e);return i(e)?r:Ke(r,a(e))}function at(e){return tt(e,ze,Xe)}function rt(e){return tt(e,Je,et)}var nt=r(c,"DataView"),ot=r(c,"Promise"),st=r(c,"Set"),ct=r(c,"WeakMap"),lt=p(nt),it=p(t),ut=p(ot),dt=p(st),pt=p(ct),vt=s;(nt&&"[object DataView]"!=vt(new nt(new ArrayBuffer(1)))||t&&"[object Map]"!=vt(new t)||ot&&"[object Promise]"!=vt(ot.resolve())||st&&"[object Set]"!=vt(new st)||ct&&"[object WeakMap]"!=vt(new ct))&&(vt=function(e){var t=s(e),a="[object Object]"==t?e.constructor:void 0,r=a?p(a):"";if(r)switch(r){case lt:return"[object DataView]";case it:return"[object Map]";case ut:return"[object Promise]";case dt:return"[object Set]";case pt:return"[object WeakMap]"}return t});var ft=vt,bt=Object.prototype.hasOwnProperty;var yt=c.Uint8Array;function mt(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}var ht=/\w*$/;var jt=v?v.prototype:void 0,At=jt?jt.valueOf:void 0;function gt(e,t,a){var r,n,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var a=t?mt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var a=t?mt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(e,a);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(n=e).constructor(n.source,ht.exec(n))).lastIndex=n.lastIndex,o;case"[object Symbol]":return r=e,At?Object(At.call(r)):{}}}var _t=Object.create,wt=function(){function e(){}return function(t){if(!d(t))return{};if(_t)return _t(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();var xt=Se&&Se.isMap,It=xt?Ie(xt):function(e){return o(e)&&"[object Map]"==ft(e)};var Ot=Se&&Se.isSet,kt=Ot?Ie(Ot):function(e){return o(e)&&"[object Set]"==ft(e)},Pt={};function St(e,t,a,r,n,o){var s,c=1&t,l=2&t,u=4&t;if(a&&(s=n?a(e,r,n,o):a(e)),void 0!==s)return s;if(!d(e))return e;var p=i(e);if(p){if(s=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!c)return function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}(e,s)}else{var v=ft(e),f="[object Function]"==v||"[object GeneratorFunction]"==v;if(Ae(e))return function(e,t){if(t)return e.slice();var a=e.length,r=Ye?Ye(a):new e.constructor(a);return e.copy(r),r}(e,c);if("[object Object]"==v||"[object Arguments]"==v||f&&!n){if(s=l||f?{}:function(e){return"function"!=typeof e.constructor||Re(e)?{}:wt(qe(e))}(e),!c)return l?function(e,t){return de(e,et(e),t)}(e,function(e,t){return e&&de(t,Je(t),e)}(s,e)):function(e,t){return de(e,Xe(e),t)}(e,function(e,t){return e&&de(t,ze(t),e)}(s,e))}else{if(!Pt[v])return n?e:{};s=gt(e,v,c)}}o||(o=new se);var b=o.get(e);if(b)return b;o.set(e,s),kt(e)?e.forEach((function(r){s.add(St(r,t,a,r,e,o))})):It(e)&&e.forEach((function(r,n){s.set(n,St(r,t,a,n,e,o))}));var y=p?void 0:(u?l?rt:at:l?Je:ze)(e);return function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););}(y||e,(function(r,n){y&&(r=e[n=r]),ue(s,n,St(r,t,a,n,e,o))})),s}Pt["[object Arguments]"]=Pt["[object Array]"]=Pt["[object ArrayBuffer]"]=Pt["[object DataView]"]=Pt["[object Boolean]"]=Pt["[object Date]"]=Pt["[object Float32Array]"]=Pt["[object Float64Array]"]=Pt["[object Int8Array]"]=Pt["[object Int16Array]"]=Pt["[object Int32Array]"]=Pt["[object Map]"]=Pt["[object Number]"]=Pt["[object Object]"]=Pt["[object RegExp]"]=Pt["[object Set]"]=Pt["[object String]"]=Pt["[object Symbol]"]=Pt["[object Uint8Array]"]=Pt["[object Uint8ClampedArray]"]=Pt["[object Uint16Array]"]=Pt["[object Uint32Array]"]=!0,Pt["[object Error]"]=Pt["[object Function]"]=Pt["[object WeakMap]"]=!1;const Dt=e=>(V("data-v-14a160e7"),e=e(),z(),e),Ft={key:0},Ct=[Dt((()=>S("div",{class:"__skeleton_free_content__"},[S("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[S("div",{class:"page-free-product-detail"},[S("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[S("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),S("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[S("div",{class:"container"},[S("div",{class:"title"},[S("svg",{class:"svg-icon icon-free-arrow"},[S("use",{"xlink:href":"#icon-free-arrow"})]),S("span",null,[S("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),S("svg",{class:"svg-icon icon-free-arrow"},[S("use",{"xlink:href":"#icon-free-arrow"})])]),S("div",{class:"page-info-wrapper"},[S("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[S("form",{class:"van-form"},[S("div",{class:"com-card"},[S("div",{class:"com-card-wrap"},[S("div",{class:"header"}),S("div",{class:"body",style:{height:"auto"}},[S("div",{class:"com-personal-wrapper"},[S("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[S("div",{class:"van-cell__title van-field__label van-field__label--left"},[S("label",{id:"van-field-1-label",for:"van-field-1-input"},[S("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),S("div",{class:"van-cell__value van-field__value"},[S("div",{class:"van-field__body"},[S("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),S("div",{class:"van-field__right-icon"})])])]),S("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[S("div",{class:"van-cell__title van-field__label van-field__label--left"},[S("label",{id:"van-field-2-label",for:"van-field-2-input"},[S("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),S("div",{class:"van-cell__value van-field__value"},[S("div",{class:"van-field__body"},[S("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),S("div",{class:"van-field__right-icon"})])]),S("div",{class:"button-extra"},[S("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[S("div",{class:"van-button__content"},[S("span",{class:"van-button__text"},[S("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),S("div",{class:"pro-shadow-button submit-btn"},[S("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[S("div",{class:"van-button__content"},[S("span",{class:"van-button__text"},[S("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),S("div",{class:"com-attachment-list"},[S("span",null,[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),S("span",{class:"attachment-item"},[S("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),S("div",{class:"product-desc"},[S("div",{class:"van-image",style:{width:"100%"}},[S("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],Bt={class:"page-upgrade-product-detail"},Lt={class:"footer-area"},Rt=Dt((()=>S("span",null,"分享",-1))),Ut={class:"upgrade-submit"},Nt={class:"price"},Et={class:"num"},Vt=Dt((()=>S("span",{class:"unit"},"元/月",-1))),zt=U(R("升级保障"));var Mt=f(b({setup(e){const t=y((()=>N((()=>import("./index-3bfc56a0.js")),["static/js/index-3bfc56a0.js","static/css/index-b9ba3011.css","static/js/index-d3e612d5.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),a=y((()=>N((()=>import("./index-92751fdc.js")),["static/js/index-92751fdc.js","static/css/index-ea588f10.css","static/js/index-d3e612d5.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-d1b21509.js","static/css/index-2dbcd337.css","static/js/utils-2f297114.js","static/js/infoCollection-9cfdbd26.js","static/js/useStorage-7c09f879.js","static/js/trial-adc0ccf6.js"]))),r=m(),n=re(),o=h(),s=j(),{productCode:c="",orderNo:l="",agencyCode:i="",tenantId:u="",saleChannelId:d="",extraInfo:p}=s.query;let v={};try{v=JSON.parse(decodeURIComponent(p))}catch(Oe){}const{openId:f,indirectCode:b="",agentCode:U}=v,V=A(!0),z=A(),se=A();A();const ce=A(),le=A(),ie=A(),ue=A(),de=A(0),pe=A();A(!1),A(!1),A(0);const ve=A(""),fe=A(!1),be=A(),ye=g({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),me=A({imgUrl:"",desc:"",title:"",link:window.location.href}),he=()=>{ye.showFilePreview=!1,ye.isOnlyView=!0},je=_((()=>`${de.value}元/月`)),Ae=e=>{var t;const a=null==(t=e.tenantOrderPaymentInfoList)?void 0:t.pop();return a?a.paymentMethod:3},ge=async()=>{var e,t,a;const r=$({tenantId:u,templateId:ue.value.tenantOrderInsuredList[0].templateId,applicationNo:ue.value.applicationNo,policyNo:ue.value.policyNo,saleUserId:U,saleChannelId:ue.value.saleChannelId,orderStatus:te.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:le.value,insureDetail:ie.value,paymentMethod:Ae(ue.value),renewalDK:null==(t=null==(e=ue.value.extInfo)?void 0:e.extraInfo)?void 0:t.renewalDK,iseeBizNo:z.value,expiryDate:ue.value.expiryDate,successJumpUrl:"",premium:de.value,holder:{...ue.value.tenantOrderHolder,extInfo:be.value,socialFlag:be.value.hasSocialInsurance},insured:{...ue.value.tenantOrderInsuredList[0],socialFlag:ue.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:Q({tenantId:u,riskList:X(K(ie.value.productRiskVoList[0].riskDetailVOList),le.value),riskPremium:{},productId:null==(a=le.value)?void 0:a.id},!0)}),n=await Z(r),{code:o,data:s}=n;return"10000"===o?s.data:""},_e=async e=>{const t=q({tenantId:u,premium:de.value,orderDetail:ue.value,productDetail:le.value,insureDetail:ie.value,successJumpUrl:`${M}/baseInsurance/orderDetail?tenantId=${u}&orderNo=${ve.value}`,iseeBizNo:z.value}),a=await H({orderNo:e,...t}),{code:r,data:n}=a;"10000"===r&&o.push(`/baseInsurance/orderDetail?tenantId=${u}&orderNo=${ve.value}`)},we=async e=>{try{E.loading({forbidClick:!0,message:"升级中",duration:0});const e=await ge();await J({tenantId:u,applicationNo:ue.value.applicationNo});if(ve.value=e,pe.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),t=`${pe.value}&failUrl=${e}`;window.location.href=t,E.clear()}else _e(e)}catch(t){E.clear()}},xe=async e=>{we()},Ie=()=>{const e=T({productCode:c,withInsureInfo:!0,tenantId:u}),t=W({productCode:c}),a=G({orderNo:l,tenantId:u});Promise.all([e,t,a]).then((([e,t,a])=>{var r,n,o;if("10000"===e.code){le.value=e.data,document.title=(null==(r=e.data)?void 0:r.productFullName)||"";const{title:t,desc:a,image:s}=(null==(n=e.data)?void 0:n.showConfigVO)||{};o={title:t,desc:a,image:s},me.value={desc:o.desc||"你好，这里是描述",imgUrl:o.image,title:o.title,link:window.location.href}}"10000"===t.code&&(ie.value=t.data,ie.value.productFactor[1]=[]),"10000"===a.code&&(ue.value=a.data,be.value=St(ue.value.tenantOrderHolder.extInfo,5),ue.value.tenantOrderHolder.extInfo=ue.value.tenantOrderInsuredList[0].extInfo),V.value=!1,(async()=>{E.loading({forbidClick:!0,duration:0,message:"试算中"});try{const e=q({tenantId:u,premium:de.value,orderDetail:ue.value,productDetail:le.value,insureDetail:ie.value,successJumpUrl:""},ee),t=await Y(e),{code:a,data:r,message:n}=t;"10000"===a?(de.value=r.installmentPremium,pe.value=r.signUrl):"已升级成功"===n&&(fe.value=!0)}catch(e){}finally{setTimeout((()=>{E.clear()}),2e3)}})(),(()=>{var e;let t={};if(t=(null==(e=le.value.tenantProductInsureVO.planInsureVO)?void 0:e.attachmentVOList)||[],!t)return void(se.value=[]);const a={2:"richText",3:"link"};se.value=Object.keys(t).map((e=>(t[e].forEach((e=>{if("1"===e.attachmentType){const t=e.attachmentUri.split("?"),a=t[0].substr(t[0].lastIndexOf(".")+1);e.attachmentType="pdf"===a?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:e,attachmentList:t[e]})))||[]})(),ge()}))};return w((()=>{Ie(),setTimeout((async()=>{z.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,o)=>{const s=x("ProField"),c=x("ProSvg"),l=x("ProShare"),i=x("van-config-provider");return V.value?(I(),O("div",Ft,Ct)):(I(),k(i,{key:1,"data-skeleton-root":"FREE","theme-vars":F(n)},{default:P((()=>{var e,i,u;return[S("div",Bt,[D(ne,{"data-skeleton-type":"img",url:null==(i=null==(e=le.value)?void 0:e.tenantProductInsureVO)?void 0:i.banner[0]},null,8,["url"]),D(ae,{ref_key:"formRef",ref:ce,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":"","input-align":"right","form-info":ue.value,"factor-object":null==(u=ie.value)?void 0:u.productFactor},null,8,["form-info","factor-object"]),D(s,{modelValue:F(je),"onUpdate:modelValue":o[0]||(o[0]=e=>C(je)?je.value=e:null),"input-align":"right",label:"每月保费",name:"insuredBeneficiaryType"},null,8,["modelValue"]),se.value&&se.value.length>0?(I(),k(F(t),{key:0,class:"attachment-bg","attachement-list":se.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:o[1]||(o[1]=e=>(e=>{ye.isOnlyView=!0,ye.activeIndex=e,ye.showFilePreview=!0})(e))},null,8,["attachement-list"])):B("",!0),S("div",Lt,[F(r)?(I(),k(l,L({key:0},me.value,{class:"share-btn"}),{default:P((()=>[D(c,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),Rt])),_:1},16)):B("",!0),S("div",Ut,[S("div",Nt,[S("span",Et,R(de.value),1),Vt]),D(oe,{shadow:!1,disabled:fe.value,"theme-vars":F(n),class:"right",text:"升级保障",onClick:xe},{default:P((()=>[zt])),_:1},8,["disabled","theme-vars"])])])]),F(ye).showFilePreview&&0!==se.value.length?(I(),k(F(a),{key:0,show:F(ye).showFilePreview,"onUpdate:show":o[2]||(o[2]=e=>F(ye).showFilePreview=e),"content-list":se.value,"is-only-view":F(ye).isOnlyView,"active-index":F(ye).activeIndex,text:F(ye).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:we,onOnCloseFilePreview:he},null,8,["show","content-list","is-only-view","active-index","text"])):B("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-14a160e7"]]);export{Mt as default};
