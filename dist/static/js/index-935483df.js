import{g as q,v as Z,j as d,n as _,J as I,t as v,A as p,Y as V,z as m,O as z,a9 as K,E as Q,h as ee,r as W,k as H,m as l,p as r,d as te,F as oe,G as ae,ab as y,C as g,D as ne,T as re}from"./vendor-3a9bcda3.js";import{d as se}from"./order-95f97737.js";import{_ as w,g as ue,s as j,ae as B}from"./index-06e81c80.js";import{O as de,b as C}from"./order-850945db.js";import{I as ce}from"./InsuredPart-9f2cef2e.js";import"./trial-aca3d053.js";const le={class:"com-field-info"},ie={key:0,class:"label"},_e={class:"content"},pe=q({props:{label:{type:String,default:""},content:{type:String,default:""}},setup(k){const b=Z();return(D,e)=>(d(),_("div",le,[k.label?(d(),_("div",ie,I(k.label),1)):v("",!0),p(b).label?V(D.$slots,"label",{key:1},void 0,!0):v("",!0),m("div",_e,I(k.content),1),p(b).content?V(D.$slots,"content",{key:2},void 0,!0):v("",!0)]))}});var h=w(pe,[["__scopeId","data-v-d673262c"]]);const ve={key:0,class:"page-order-detail"},fe={class:"card"},me={class:"header"},ye={class:"product-name"},Ce={class:"company-name"},he={class:"status"},Ie={key:0,class:"footer-button"},ge=g("\u5220\u9664"),ke=g("\u53BB\u5904\u7406"),be={key:1,class:"footer-button"},De=g("\u5220\u9664"),Oe=g("\u53BB\u652F\u4ED8"),Pe={key:2,class:"footer-button"},Se=g("\u5220\u9664"),Be=q({setup(k){const b=z(),D=K(),e=Q(),{query:{orderNo:O,agentCode:F,tenantId:P,abbreviation:Fe,productCategory:T}}=b,L=()=>{ne.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{e.value&&se(e.value.id,e.value.orderStatus).then(o=>{const{code:a,data:t}=o;a==="10000"&&re.success("\u5220\u9664\u6210\u529F")})})},E=()=>{var s,u;if(!e.value)return!1;const{agencyId:o,saleChannelId:a,orderTopStatus:t}=e.value,n=(u=(s=e.value.tenantOrderInsuredList[0])==null?void 0:s.tenantOrderProductList[0])==null?void 0:u.productCode;if((C.PENDING===t||C.PAYING===t)&&(n===B.ZXYS||n===B.BWYL)){const c={[B.ZXYS]:"/internet/productDetail/package",[B.BWYL]:"/internet/productDetail"};return D.push({path:c[n],query:{productCode:n,saleChannelId:a,agentCode:F,tenantId:P,agencyCode:o,orderNo:O}}),!0}return!1},J=()=>{var o,a;if(e.value){if(E())return;const{id:t,extInfo:{templateId:n,pageCode:s},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;j(s,{productCode:f,orderNo:O,orderId:t,agentCode:F,templateId:n,tenantId:P,productCategory:T,insurerCode:c,agencyCode:u,isFromOrderList:"1"})}},X=()=>{var o,a;if(e.value){if(E())return;const{id:t,saleUserId:n,extInfo:{templateId:s},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;j("payInfo",{productCode:f,orderNo:O,orderId:t,saleUserId:n,templateId:s,tenantId:P,productCategory:T,insurerCode:c,agencyCode:u})}};return ee(()=>{ue({orderNo:O,agentCode:F,tenantId:P}).then(o=>{const{code:a,data:t}=o;a==="10000"&&(e.value=t)})}),(o,a)=>{const t=W("van-button"),n=W("ProPageWrap");return d(),H(n,null,{default:l(()=>{var s,u,c,f,N,A,Y,x,M,U,R;return[e.value?(d(),_("div",ve,[m("div",fe,[r(h,null,{label:l(()=>{var i,S,$,G;return[m("div",me,[m("div",ye,I(($=(S=(i=e.value)==null?void 0:i.tenantOrderInsuredList[0])==null?void 0:S.tenantOrderProductList[0])==null?void 0:$.productName),1),m("div",Ce,I((G=e.value)==null?void 0:G.abbreviation),1)])]}),content:l(()=>{var i;return[m("div",he,I(e.value?p(de)[(i=e.value)==null?void 0:i.orderStatus]:""),1)]}),_:1}),r(h,{label:"\u6295\u4FDD\u5355\u53F7",content:(s=e.value)==null?void 0:s.orderNo},null,8,["content"]),r(h,{label:"\u521B\u5EFA\u65F6\u95F4",content:p(te)((u=e.value)==null?void 0:u.gmtCreated).format("YYYY-MM-DD HH:mm:ss")},null,8,["content"]),r(h,{label:"\u6295\u4FDD\u4EBA",content:(f=(c=e.value)==null?void 0:c.tenantOrderHolder)==null?void 0:f.name},null,8,["content"]),(d(!0),_(oe,null,ae(((N=e.value)==null?void 0:N.tenantOrderInsuredList)||[],(i,S)=>(d(),H(h,{key:S,label:"\u88AB\u4FDD\u4EBA",content:i.name},null,8,["content"]))),128))]),r(ce,{"product-data":(x=(Y=(A=e.value)==null?void 0:A.tenantOrderInsuredList[0])==null?void 0:Y.tenantOrderProductList)==null?void 0:x[0],class:"insure-info"},null,8,["product-data"]),((M=e.value)==null?void 0:M.orderTopStatus)===p(C).PENDING?(d(),_("div",Ie,[r(t,{type:"primary",onClick:y(L,["stop"])},{default:l(()=>[ge]),_:1},8,["onClick"]),r(t,{type:"primary",onClick:y(J,["stop"])},{default:l(()=>[ke]),_:1},8,["onClick"])])):v("",!0),((U=e.value)==null?void 0:U.orderTopStatus)===p(C).PAYING?(d(),_("div",be,[r(t,{type:"primary",onClick:y(L,["stop"])},{default:l(()=>[De]),_:1},8,["onClick"]),r(t,{type:"primary",onClick:y(X,["stop"])},{default:l(()=>[Oe]),_:1},8,["onClick"])])):v("",!0),((R=e.value)==null?void 0:R.orderTopStatus)===p(C).TIMEOUT?(d(),_("div",Pe,[r(t,{type:"primary",onClick:y(L,["stop"])},{default:l(()=>[Se]),_:1},8,["onClick"])])):v("",!0)])):v("",!0)]}),_:1})}}});var xe=w(Be,[["__scopeId","data-v-719e96a1"]]);export{xe as default};
