import{_ as e}from"./index-099ce742.js";import{h as t,r as a,k as s,l as n,p as l,N as o,C as i,L as r,v as c,j as u,x as d,Q as p,m as v,y as f,z as m,I as h,F as y,B as C,E as g,J as b,Z as k,ae as w,G as x,o as _}from"./vendor-a7f495fb.js";import{q as I,a as j}from"./product-4ed45dd7.js";import{P as B}from"./index-b2d368bb.js";var N=e(t({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(e){const t=e;return(e,o)=>{const i=a("van-image");return t.url?(s(),n(i,{key:0,width:"100%",class:"banner","lazy-load":"",src:t.url},null,8,["src"])):l("",!0)}}}),[["__scopeId","data-v-34cbd784"]]);const P={class:"pre-body"},A={class:"header"},L=["src"],O={class:"company-name"},S={class:"content"},T=C(" 为了更好地保护您的个人信息，请在使用前点击阅读、充分理解"),q=C("相关内容，我们对您使用过程中可能出现的个人信息收集、使用、共享和保护等情况进行了详细说明。 您已进入投保流程，请仔细阅读"),z=C("、投保须知、保险条款等信息，为维护您的合法权益，您的操作轨迹将被记录。 "),D={class:"footer"};var E=e(t({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const t=e,n=o(),{tenantId:l=""}=n.query,C=i(!1),g=i(!1),b=r({insureConfig:{insureName:"",tenantName:""}}),k=i({title:"",link:""}),w=c((()=>{if(k.value.link){const e=(k.value.link||"").split("?");return"pdf"===(e[0]||"").substr(e[0].lastIndexOf(".")+1)?"pdf":"picture"}return"link"})),x=(e,t)=>{var a;g.value=!g.value,k.value.link=null==(a=b.insureConfig)?void 0:a[t].link,k.value.title=e.target.innerText};return u((()=>{(async()=>{const{code:e,data:a}=await I({insureCode:t.productDetail.insurerCode,tenantId:l});"10000"===e&&(b.insureConfig=a),C.value=!0})()})),(e,t)=>{var n;const l=a("ProPopup"),o=a("ProFilePreview");return s(),d(y,null,[p(l,{class:"pre-notice-wrap","close-on-click-overlay":!1,show:C.value,closeable:!1,height:"395px"},{default:v((()=>[f("div",P,[f("div",A,[f("img",{src:m("/static/assets/logo.65e1895e.png")},null,8,L),f("div",O," 由"+h(m(b).insureConfig.tenantName)+"提供保险经纪服务，"+h(m(b).insureConfig.insureName)+"承保 ",1)]),f("div",S,[T,f("span",{onClick:t[0]||(t[0]=e=>x(e,"privacyAgreement"))},"《用户隐私协议》"),q,f("span",{onClick:t[1]||(t[1]=e=>x(e,"notification"))},"《客户告知书》"),z]),f("div",D,[p(B,{shadow:!1,text:"我知道了",onClick:t[2]||(t[2]=e=>C.value=!1)})])])])),_:1},8,["show"]),p(l,{show:g.value,"onUpdate:show":t[3]||(t[3]=e=>g.value=e),class:"pre-notice-wrap",title:null==(n=k.value)?void 0:n.title,position:"bottom",style:{height:"600px"}},{default:v((()=>{var e;return[p(o,{content:null==(e=k.value)?void 0:e.link,type:m(w)},null,8,["content","type"])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-963e3fd4"]]);const F=["onClick"];var G=e(t({props:{preText:{type:String,default:""},hasBgColor:{type:Boolean,default:!0},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup:(e,{emit:t})=>(a,n)=>(s(),d("div",{class:b({"com-attachment-list":!0,"has-bg":e.hasBgColor})},[f("span",null,h(e.preText),1),(s(!0),d(y,null,g(e.attachementList||[],((e,a)=>(s(),d("span",{key:a,class:"attachment-item",onClick:e=>(e=>{t("preview-file",e)})(a)}," 《"+h(e.attachmentName)+"》 ",9,F)))),128))],2))}),[["__scopeId","data-v-5cafe498"]]);const J={class:"inscribedContent-content"},Q={class:"content"};var U=e(t({props:{inscribedContent:{type:String,default:""}},setup(e){const t=e,a=i();return k((()=>t.inscribedContent),(e=>{a.value=e?e.replaceAll("\n","<br />"):""}),{immediate:!0,deep:!0}),(e,t)=>{const n=w("dompurify-html");return s(),d("div",J,[x(f("div",Q,null,512),[[n,a.value]])])}}}),[["__scopeId","data-v-702b2de2"]]);const Z=(e,t,a)=>{_((()=>{(async()=>{try{const{code:a,data:s}=await j(e);if("10000"===a){const e={};s.forEach((t=>{e[t.relationCode]||(e[t.relationCode]=[]),e[t.relationCode].push(t)})),null==t||t(e)}}catch(s){null==a||a(!1)}})()}))};export{G as A,N as B,U as I,E as P,Z as u};
