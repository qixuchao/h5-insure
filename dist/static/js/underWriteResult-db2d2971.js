import{_ as e,d as a,bx as t,ah as s,by as r,i as o,h as n,aH as l,bW as u,j as d,o as c,c as i,a as p,b as m,e as y,u as f,a6 as _,w as b,a8 as v,m as h,p as I,f as N,bX as w,ae as q,ag as C,bY as R,bZ as g,b_ as k}from"./index-e7a6dfe1.js";import{P as E,M as L}from"./constants-4b08cf92.js";import{c as x}from"./order-dc046d4f.js";import{o as A}from"./verify-a281c895.js";const D={class:"page-underwrite-result-wrap"},S={class:"result-content"},T={class:"result-icon"},j={class:"result-status"},F={class:"result-desc"},U={key:0,class:"operate-btn"},W={key:1,class:"operate-btn"},$={class:"dialog-content"},G=a({name:"underwriteResult"});var V=e(a({...G,setup(e){var a,G;const V={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(G=s.get(`${r}_underwriteResult`))?void 0:G[t.UNDER_WRITE_FAIL]}},z=o(),H=n(),{orderNo:M,tenantId:O,underwriteStatus:P,productClass:X}=z.query,Y=l.Component,[Z,B]=u(!1),J=d(),K=async()=>{const{code:e,data:a}=await A({orderNo:M,tenantId:O});"10000"===e&&a&&(delete z.query.orderNo,H.push({path:E.orderList,query:{...z.query}}))},Q=()=>{B(!0)},ee=()=>{w({messageType:L.AGENT,orderNo:M,tenantId:O}).then((({code:e})=>{"10000"===e&&H.push({path:E.sign,query:z.query})}))},ae=()=>{x((()=>{delete z.query.orderNo,H.push({path:E.productList,query:z.query})}))},te=()=>{var e;e=()=>{B(!1),H.push({path:J.value,query:z.query})},k({orderNo:M,tenantId:O}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},se=()=>{B(!1),ae()};return(e,a)=>{const s=q,r=C,o=R,n=g;return c(),i("div",D,[p("div",S,[p("div",T,[m(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),p("p",j,y(V[`${f(P)}`].resultStatus),1),p("p",F,y(V[`${f(P)}`].resultDesc),1),f(P)===f(t).UNDER_WRITE_FAIL&&f(X)===f(_).NO+""?(c(),i("div",U,[m(r,{type:"primary",plain:"",onClick:Q},{default:b((()=>[v("返回修改")])),_:1}),m(r,{type:"primary",onClick:ee},{default:b((()=>[v("继续投保")])),_:1}),m(r,{class:"no-border",onClick:ae},{default:b((()=>[v("放弃投保")])),_:1})])):(c(),i("div",W,[m(r,{type:"primary",onClick:K},{default:b((()=>[v("确定")])),_:1})]))]),f(Z)?(c(),h(f(Y),{key:0,show:f(Z),"onUpdate:show":a[1]||(a[1]=e=>I(Z)?Z.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!f(J),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:te,onCancel:se},{default:b((()=>[p("div",$,[m(n,{modelValue:f(J),"onUpdate:modelValue":a[0]||(a[0]=e=>I(J)?J.value=e:null)},{default:b((()=>[m(o,{name:f(E).premiumTrial},{default:b((()=>[v("保费试算页")])),_:1},8,["name"]),m(o,{name:f(E).questionNotice},{default:b((()=>[v("健康告知页")])),_:1},8,["name"]),m(o,{name:f(E).infoCollection},{default:b((()=>[v("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):N("",!0)])}}}),[["__scopeId","data-v-27801d92"]]);export{V as default};
