import{d as e,g as a,h as t,j as o,an as r,o as s,c as n,u as d,l,w as i,a8 as c,cm as p,q as u,_ as m,az as f,T as y}from"./index-a6b4898c.js";import{a as h}from"./constants-5480429b.js";import{c as I}from"./order-7b262ba0.js";const k={class:"operate-wrap"},C=e({name:"operateBtn"});var g=m(e({...C,props:{detail:{default:()=>({})}},setup(e){const m=e,C=a(),g=t(),{tenantId:N,nextPageCode:_}=g.query,b=o((()=>{const{orderTopStatus:e}=m.detail;return"-1"===e&&h.orderList===g.path})),q=o((()=>{const{orderStatus:e}=m.detail;return!["acceptPolicy","canceled"].includes(e)})),x=o((()=>{const{orderStatus:e}=m.detail;return"offlinePayment"===e})),P=()=>{const{orderStatus:e,orderNo:a}=m.detail;let t=h.sign;"collectInfo"===e&&(t=h.infoCollection),C.push({path:t,query:{tenantId:N,orderNo:a}})},j=()=>{const{orderNo:e,orderId:a}=m.detail;_?f.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{I({orderNo:e,tenantId:N}).then((({code:e,data:a})=>{"10000"===e&&y("撤单成功")}))})):f.confirm({message:"确认取消当前订单？"}).then((()=>{C.push({path:h.phoneVerify,query:{tenantId:N,orderNo:e,orderId:a,nextPageCode:h.orderDetail}})}))},z=()=>{const{orderNo:e,orderId:a}=m.detail;C.push({path:h.updateBankInfo,query:{tenantId:N,orderNo:e,orderId:a,nextPageCode:h.orderDetail}})};return(e,a)=>{const t=r;return s(),n("div",k,[d(b)?(s(),l(t,{key:0,type:"primary",size:"small",onClick:p(P,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),d(q)?(s(),l(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(j,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),d(x)?(s(),l(t,{key:2,size:"small",onClick:p(z,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-9a59b54e"]]);export{g as O};
