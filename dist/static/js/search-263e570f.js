import{v as t,d as e,i as s,y as o,x as a,bU as i,j as n,bB as l,A as r,O as c,z as d,Q as f,b as p,bV as g,K as u,C as h,bW as v,S as w,G as A,R as m,E as x,bX as C,bY as y,D as b,r as k,bZ as z,X as N,b_ as S,b$ as I,H as V,c0 as L,B as M,c1 as R,bD as E}from"./index-60e61453.js";const[B,G]=t("index-bar"),O={sticky:u,zIndex:h,teleport:[String,Object],highlightColor:String,stickyOffsetTop:v(0),indexList:{type:Array,default:function(){const t="A".charCodeAt(0);return Array(26).fill("").map(((e,s)=>String.fromCharCode(t+s)))}}},P=Symbol(B);var U=e({name:B,props:O,emits:["select","change"],setup(t,{emit:e,slots:u}){const h=s(),v=s(),k=s(""),z=o(),N=a(h),{children:S,linkChildren:I}=i(P);let V;I({props:t});const L=n((()=>{if(l(t.zIndex))return{zIndex:+t.zIndex+1}})),M=n((()=>{if(t.highlightColor)return{color:t.highlightColor}})),R=(e,s)=>{for(let o=S.length-1;o>=0;o--){const a=o>0?s[o-1].height:0;if(e+(t.sticky?a+t.stickyOffsetTop:0)>=s[o].top)return o}return-1},E=t=>S.find((e=>String(e.index)===t)),B=()=>{if(w(h))return;const{sticky:e,indexList:s}=t,o=A(N.value),a=m(N),i=S.map((t=>t.getRect(N.value,a)));let n=-1;if(V){const t=E(V);if(t){const e=t.getRect(N.value,a);n=R(e.top,i)}}else n=R(o,i);k.value=s[n],e&&S.forEach(((e,s)=>{const{state:l,$el:r}=e;if(s===n||s===n-1){const t=r.getBoundingClientRect();l.left=t.left,l.width=t.width}else l.left=null,l.width=null;if(s===n)l.active=!0,l.top=Math.max(t.stickyOffsetTop,i[s].top-o)+a.top;else if(s===n-1&&""===V){const t=i[n].top-o;l.active=t>0,l.top=t+a.top-i[s].height}else l.active=!1})),V=""},O=()=>{x(B)};r("scroll",B,{target:N,passive:!0}),c(O),d((()=>t.indexList),O),d(k,(t=>{t&&e("change",t)}));const U=s=>{V=String(s);const o=E(V);if(o){const s=A(N.value),a=m(N),{offsetHeight:i}=document.documentElement;if(o.$el.scrollIntoView(),s===i-a.height)return void B();t.sticky&&t.stickyOffsetTop&&C(y()-t.stickyOffsetTop),e("select",o.index)}},D=t=>{const{index:e}=t.dataset;e&&U(e)},K=t=>{D(t.target)};let T;const j=()=>p("div",{ref:v,class:G("sidebar"),style:L.value,onClick:K,onTouchstartPassive:z.start},[t.indexList.map((t=>{const e=t===k.value;return p("span",{class:G("index",{active:e}),style:e?M.value:void 0,"data-index":t},[t])}))]);return f({scrollTo:U}),r("touchmove",(t=>{if(z.move(t),z.isVertical()){b(t);const{clientX:e,clientY:s}=t.touches[0],o=document.elementFromPoint(e,s);if(o){const{index:t}=o.dataset;t&&T!==t&&(T=t,D(o))}}}),{target:v}),()=>{var e;return p("div",{ref:h,class:G()},[t.teleport?p(g,{to:t.teleport},{default:()=>[j()]}):j(),null==(e=u.default)?void 0:e.call(u)])}}});const[D,K]=t("index-anchor");const T=V(e({name:D,props:{index:h},setup(t,{slots:e}){const o=k({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),a=s(),{parent:i}=z(P);if(!i)return;const l=()=>o.active&&i.props.sticky,r=n((()=>{const{zIndex:t,highlightColor:e}=i.props;if(l())return N(S(t),{left:o.left?`${o.left}px`:void 0,width:o.width?`${o.width}px`:void 0,transform:o.top?`translate3d(0, ${o.top}px, 0)`:void 0,color:e})}));return f({state:o,getRect:(t,e)=>{const s=m(a);return o.rect.height=s.height,t===window||t===document.body?o.rect.top=s.top+y():o.rect.top=s.top+A(t)-e.top,o.rect}}),()=>{const s=l();return p("div",{ref:a,style:{height:s?`${o.rect.height}px`:void 0}},[p("div",{style:r.value,class:[K({sticky:s}),{[I]:s}]},[e.default?e.default():t.index])])}}})),j=V(U),[W,X]=t("swipe-cell");const Q=V(e({name:W,props:{name:M(""),disabled:Boolean,leftWidth:h,rightWidth:h,beforeClose:Function,stopPropagation:Boolean},emits:["open","close","click"],setup(t,{emit:e,slots:a}){let i,c,d;const g=s(),u=s(),h=s(),v=k({offset:0,dragging:!1}),w=o(),A=t=>t.value?m(t).width:0,x=n((()=>l(t.leftWidth)?+t.leftWidth:A(u))),C=n((()=>l(t.rightWidth)?+t.rightWidth:A(h))),y=s=>{v.offset="left"===s?x.value:-C.value,i||(i=!0,e("open",{name:t.name,position:s}))},z=s=>{v.offset=0,i&&(i=!1,e("close",{name:t.name,position:s}))},N=e=>{t.disabled||(d=v.offset,w.start(e))},S=()=>{v.dragging&&(v.dragging=!1,(t=>{const e=Math.abs(v.offset),s=i?.85:.15,o="left"===t?x.value:C.value;o&&e>o*s?y(t):z(t)})(v.offset>0?"left":"right"),setTimeout((()=>{c=!1}),0))},I=(s="outside")=>{e("click",s),i&&!c&&E(t.beforeClose,{args:[{name:t.name,position:s}],done:()=>z(s)})},V=(t,e)=>s=>{e&&s.stopPropagation(),I(t)},M=(t,e)=>{const s=a[t];if(s)return p("div",{ref:e,class:X(t),onClick:V(t,!0)},[s()])};return f({open:y,close:z}),L(g,(()=>I("outside")),{eventName:"touchstart"}),r("touchmove",(e=>{if(t.disabled)return;const{deltaX:s}=w;if(w.move(e),w.isHorizontal()){c=!0,v.dragging=!0;(!i||s.value*d<0)&&b(e,t.stopPropagation),v.offset=R(s.value+d,-C.value,x.value)}}),{target:g}),()=>{var t;const e={transform:`translate3d(${v.offset}px, 0, 0)`,transitionDuration:v.dragging?"0s":".6s"};return p("div",{ref:g,class:X(),onClick:V("cell",c),onTouchstartPassive:N,onTouchend:S,onTouchcancel:S},[p("div",{class:X("wrapper"),style:e},[M("left",u),null==(t=a.default)?void 0:t.call(a),M("right",h)])])}}}));var Y="/static/png/female-321a465f.png",Z="/static/png/male-4ddd4d22.png",H="/static/png/gender-76f48c97.png",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAZlBMVEUAAAC0wNC1wdO/v/+zwNC0v9C0wM+0wNG2wdLCydm0wNC0wNC1wdCzwNC0wNC0wNC1wNC1v9G2wdS0wM+0wNC0wNCzwdG0wdCzwc+1wNK4wta6xtO1wdGzwNC0wc+1v9WzwdCzv89PygQeAAAAIXRSTlMA/DQE896qhEQLjvjX0cC5iUwk7Oamb2ZbKxkVf8d7GIfl18UPAAABK0lEQVRIx+1V25aDIAwkiEVUvNXe7G3z/z+5pKeHs2fJyqav7byIwwxJBKL64DUUi9ZL8V+1ti1gALRWqzwqjwBIoKevMvJ7j6SOAOzvq9nM8NQFPIezXkmngYewrA/jeKhLfLw2f6Y1GSB5p2PADokxE693LdB6x5/csSGudazhgrSa/lUVRcULpz8bMlRJXWQwZ8Yw0IxNeUvrDIyhDPzWMaVtAbFM+RMtZBUDS6FPCb3HAM3uJs3sE7oGRKNYGESoE3YXM2Wr2yVsHwxX3nANhl4cQVyD+CuJ90G407PwLOGX+LQK74MV3jjvRHcaYZJ0DcKmkPSldceSdL4yxsj2VpL7sdhER7Z7+5rKj47c/2FyNEoceUTHTckc0CmRA3BQEsetG5x6Z3wDxtkpoVPsMuQAAAAASUVORK5CYII=";export{T as I,Q as S,j as a,$ as b,Y as f,H as g,Z as m};
