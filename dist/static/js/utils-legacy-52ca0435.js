!function(){var e=document.createElement("style");e.innerHTML=".input-extra{margin-left:.33333rem;margin-top:.18667rem}.date-extra{padding-left:var(--zaui-card-border, .4rem);margin-left:var(--zaui-card-border, .4rem);border-left:1px solid #EEEFF4;margin-top:.21333rem;display:flex}.page-info-wrapper .van-cell .van-field__value{align-items:flex-start}.page-info-wrapper .com-card .com-card-wrap .body{padding:0}.page-info-wrapper .beneficiary-part .part-title{display:flex;align-items:center;justify-content:space-between;padding:0 var(--zaui-card-border, .4rem);background-color:var(--zaui-global-bg, #f2f5fc);height:1.2rem}.page-info-wrapper .beneficiary-part .part-title .title{font-size:.4rem;font-weight:600;color:#393d46}.page-info-wrapper .left{flex:0 0 50%}.page-info-wrapper .left .trial-result{font-size:.45333rem;color:#393d46}.page-info-wrapper .left .trial-result .result-num{margin-left:.17333rem;color:var(--zaui-price, #ff5840);font-weight:700;margin-left:.21333rem}.page-info-wrapper .left .result-desc{font-size:.32rem;color:#666}.page-info-wrapper .operate-btn{width:50%}.page-info-wrapper .radio-item-wrapper{padding:0}.page-info-wrapper .radio-item-wrapper p{font-size:.4rem;color:#393d46;margin:.06667rem 0;word-break:break-all}.page-info-wrapper .radio-item-wrapper .name{font-weight:600;margin-right:.4rem}.page-info-wrapper .radio-item-wrapper .phone{font-weight:400}\n",document.head.appendChild(e),System.register(["./vendor-legacy-7dc0cbaa.js","./index-legacy-6ffddba4.js","./infoCollection-legacy-da24051f.js","./relativeTime-legacy-9ee3df28.js","./useDicData-legacy-77473c19.js","./trial-legacy-26d95f9d.js"],(function(e){"use strict";var a,l,r,o,n,i,t,d,u,s,m,f,c,p,I,v,y,b,V,x,C,k,h,g,w,L,O,T,_,R,q,N,D,U,A,P,E,S,$,H,F;return{setters:[function(e){a=e.h,l=e.R,r=e.P,o=e.r,n=e.d,i=e.A,t=e.$,d=e.k,u=e.C,s=e.m,m=e.s,f=e.n,c=e.p,p=e.t,I=e.x,v=e.B,y=e.G,b=e.L,V=e.M,x=e.T,C=e.aa,k=e.N,h=e.F,g=e.H},function(e){w=e.C,L=e.V,O=e.I,T=e.J,_=e.K,R=e.Y,q=e.a6,N=e.a3},function(e){D=e.R,U=e.I,A=e.g},function(e){P=e.r},function(e){E=e.u},function(e){S=e.b,$=e.a,H=e.R,F=e.i}],execute:function(){const B={key:0,class:"com-personal-wrapper"},M={class:"date-extra"},Y=y("长期"),j=v("span",{class:"input-extra"},"万",-1),z=v("span",{class:"input-extra"},"万",-1),K=v("span",{class:"input-extra"},"%",-1),J=a({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]},isView:{type:Boolean,default:!1},prefix:{default:""},beneficiaryList:{default:()=>[]},sendSmsCode:{type:Function,default:(e,a)=>{}}},emits:["update:images"],setup(e,{emit:a}){const C=e;l();const{venderCode:k=""}=r().query,h=E(`${k.toLocaleUpperCase()}_OCCUPATION`),g=E("NATIONAL_REGION_CODE"),q=o([]),N=o(!1),D=o({formInfo:C.formInfo,birth:{min:new Date("1900-01-01"),max:new Date},certEndDate:{min:new Date("1900-01-01"),max:new Date("2099-12-31")},occupationalText:""});n.extend(P);const U=o(2===C.formInfo.certEndType),A=o(0),S=o("获取验证码"),$=o(!1),H=i((()=>{const e={};return C.factorList.forEach((a=>{e[a.code]=a})),e}));i((()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(D.value.formInfo.mobile)));const F=async()=>{A.value>0||C.sendSmsCode(D.value.formInfo.mobile,(()=>{$.value=!0,x({message:"短信发送成功，请查收"}),(()=>{if(A.value>0)return;A.value=60;const e=()=>{S.value=`${A.value}s`,A.value-=1};e();const a=setInterval((()=>{0===A.value?(S.value="获取验证码",A.value=0,clearInterval(a)):e()}),1e3)})()}))},J=e=>{D.value.formInfo.certNo=e.personIdCard,D.value.formInfo.name=e.personName,D.value.formInfo.certEndDate=n(e.validDateEnd,"YYYYMMDD").toDate()},Z=e=>H.value&&H.value[e]&&H.value[e].isDisplay===R.YES,G=e=>H.value&&H.value[e]&&H.value[e].isMustInput===R.YES,W=(e,a)=>H.value?.[e]?.[a]||"",X=i((()=>[w.CERT,w.HOUSE_HOLD].includes(`${D.value.formInfo.certType}`)?[L.ID_CARD]:`${D.value.formInfo.certType}`===w.BIRTH?[L.BIRTH]:`${D.value.formInfo.certType}`===w.PASSPORT?[L.PASSPORT]:[L.ID_CARD])),Q=(e,a)=>G("attachment")?2===D.value.formInfo.certEndType||D.value.formInfo.certEndDate?"":"请选择有效期至":"",ee=(e,a)=>/^\d{1,10}(\.\d{1,2})?$/.test(e)?"":"年收入最多录入10位数字",ae=(e,a)=>/^[1-9]$|^[1-9][0-9]$|^100$/.test(e)?"":"收益比例只能填写1-100的正整数",le=(e,a,l)=>a.length>e?`最大不能超过${e}个字符`:"",re=(e,a)=>{if(!Z("nationality"))return"";if("CHN"===D.value.formInfo?.extInfo?.nationalityCode){if(![w.CERT,w.HOUSE_HOLD,w.BIRTH,w.MILITARY_CARD].includes(`${e}`))return"国籍为中国时，证件类型只允许选择身份证、户口本、出生证、军官证"}else if(["HKG","MAC"].includes(D.value.formInfo?.extInfo?.nationalityCode)){if(![w.HK_MACAO_RESIDENCE_PERMIT,w.HONGKONG_MACAO].includes(`${e}`))return"国籍为中国香港、中国澳门时，证件类型只允许选择港澳通行证、港澳居民居住证"}else if("TWN"===D.value.formInfo?.extInfo?.nationalityCode){if(![w.TAIWAN_RESIDENCE_PERMIT,w.TAIWAN_TRAVEL].includes(`${e}`))return"国籍为中国台湾时，证件类型只允许选择台湾通行证、台湾居民居住证"}else if(![w.PASSPORT,w.FOREIGN_PERMANENT].includes(`${e}`))return"国籍为非中国、港澳台时，证件类型只允许选择护照、外国人永久居留身份证";return n().year()-n(D.value.formInfo?.birthday).year()>2&&e===w.BIRTH?"年龄大于等于2周岁时，证件类型不能选择出生证":""},oe=e=>Array.isArray(e)&&2===e.length&&e[0]&&e[1]?"":"请上传身份证正反面照片";return t((()=>U.value),(e=>{e?(D.value.formInfo.certEndType=2,D.value.formInfo.certEndDate=""):D.value.formInfo.certEndType=1}),{immediate:!0}),t((()=>D.value.formInfo.certType),(e=>{[w.CERT,w.HOUSE_HOLD].includes(e)?N.value=!0:N.value=!1}),{deep:!0,immediate:!0}),t((()=>D.value.formInfo.certNo),(e=>{O(e)&&(D.value.formInfo.gender=+T(e),D.value.formInfo.birthday=n(new Date(_(e))).format("YYYY-MM-DD"))}),{deep:!0,immediate:!0}),t((()=>C.images),(e=>{q.value=e}),{immediate:!0}),t((()=>C.formInfo),(()=>{D.value.formInfo=C.formInfo}),{deep:!0,immediate:!0}),t(q,(e=>{a("update:images",e)}),{deep:!0}),(a,l)=>{const r=d("ProRadioButton"),o=d("ProField"),n=d("ProDatePicker"),i=d("ProPicker"),t=d("ProIDCardUpload"),x=d("ProImageUpload"),C=d("van-checkbox"),k=d("ProCascader"),w=d("van-button");return Object.keys(u(H)).length?(s(),m("div",B,[Z("insuredBeneficiaryType")?(s(),f(o,{key:0,modelValue:D.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value.formInfo.insuredBeneficiaryType=e),label:W("insuredBeneficiaryType","title"),name:"insuredBeneficiaryType",placeholder:"请选择"},{input:c((()=>[p(r,{modelValue:D.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[0]||(l[0]=e=>D.value.formInfo.insuredBeneficiaryType=e),prop:{label:"value",value:"code"},options:W("insuredBeneficiaryType","attributeValueList")||[]},null,8,["modelValue","options"])])),_:1},8,["modelValue","label"])):I("",!0),Z("insuredRelation")?(s(),f(o,{key:1,modelValue:D.value.formInfo.insuredRelation,"onUpdate:modelValue":l[3]||(l[3]=e=>D.value.formInfo.insuredRelation=e),label:W("insuredRelation","title"),name:"insuredRelation",placeholder:"请选择"},{input:c((()=>[p(r,{modelValue:D.value.formInfo.insuredRelation,"onUpdate:modelValue":l[2]||(l[2]=e=>D.value.formInfo.insuredRelation=e),prop:{label:"value",value:"code"},options:W("insuredRelation","attributeValueList")||[]},null,8,["modelValue","options"])])),_:1},8,["modelValue","label"])):I("",!0),Z("name")?(s(),f(o,{key:2,modelValue:D.value.formInfo.name,"onUpdate:modelValue":l[4]||(l[4]=e=>D.value.formInfo.name=e),label:W("name","title"),name:`${e.prefix}_name`,required:G("name")},null,8,["modelValue","label","name","required"])):I("",!0),Z("sex")?(s(),f(o,{key:3,modelValue:D.value.formInfo.gender,"onUpdate:modelValue":l[6]||(l[6]=e=>D.value.formInfo.gender=e),required:G("sex"),label:W("sex","title"),name:`${e.prefix}_gender`,placeholder:"请选择","is-view":N.value},{input:c((()=>[p(r,{modelValue:D.value.formInfo.gender,"onUpdate:modelValue":l[5]||(l[5]=e=>D.value.formInfo.gender=e),disabled:N.value,"is-view":e.isView,prop:{label:"value",value:"code"},options:W("sex","attributeValueList")||[]},null,8,["modelValue","disabled","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):I("",!0),Z("birthDate")?(s(),f(n,{key:4,modelValue:D.value.formInfo.birthday,"onUpdate:modelValue":l[7]||(l[7]=e=>D.value.formInfo.birthday=e),label:W("birthDate","title"),name:`${e.prefix}_birthday`,min:D.value.birth.min,max:D.value.birth.max,type:"date",required:G("birthDate")},null,8,["modelValue","label","name","min","max","required"])):I("",!0),Z("certType")?(s(),f(i,{key:5,modelValue:D.value.formInfo.certType,"onUpdate:modelValue":l[8]||(l[8]=e=>D.value.formInfo.certType=e),label:W("certType","title"),name:`${e.prefix}_certType`,"data-source":W("certType","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:G("certType"),rules:[{validator:re}]},null,8,["modelValue","label","name","data-source","required","rules"])):I("",!0),Z("certImage")&&D.value.formInfo.certType+""=="1"?(s(),f(o,{key:6,label:"身份证上传",block:"",required:G("certImage"),rules:[{validator:oe}],name:`${e.prefix}_idCard`},{input:c((()=>[p(t,{modelValue:q.value,"onUpdate:modelValue":l[9]||(l[9]=e=>q.value=e),"is-view":e.isView,onOnOCR:J},null,8,["modelValue","is-view"])])),_:1},8,["required","rules","name"])):I("",!0),Z("certImage")&&D.value.formInfo.certType&&D.value.formInfo.certType+""!="1"?(s(),f(o,{key:7,label:W("certImage","title"),block:"",required:G("certImage")},{input:c((()=>[p(x,{modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=e=>q.value=e),"max-count":1},null,8,["modelValue"])])),_:1},8,["label","required"])):I("",!0),Z("certNo")?(s(),f(o,{key:8,modelValue:D.value.formInfo.certNo,"onUpdate:modelValue":l[11]||(l[11]=e=>D.value.formInfo.certNo=e),label:W("certNo","title"),name:`${e.prefix}_certNo`,required:G("certNo"),placeholder:"请输入",maxlength:19,"validate-type":u(X)},null,8,["modelValue","label","name","required","validate-type"])):I("",!0),Z("certExpiry")?(s(),f(n,{key:9,modelValue:D.value.formInfo.certEndDate,"onUpdate:modelValue":l[13]||(l[13]=e=>D.value.formInfo.certEndDate=e),label:W("certExpiry","title"),name:`${e.prefix}_certEndDate`,type:"date",min:D.value.certEndDate.min,max:D.value.certEndDate.max,"is-view":U.value||e.isView,read:"",rules:[{validator:Q}]},{extra:c((()=>[v("div",M,[p(C,{modelValue:U.value,"onUpdate:modelValue":l[12]||(l[12]=e=>U.value=e),"icon-size":16,disabled:e.isView},{default:c((()=>[Y])),_:1},8,["modelValue","disabled"])])])),_:1},8,["modelValue","label","name","min","max","is-view","rules"])):I("",!0),Z("age")?(s(),f(o,{key:10,modelValue:D.value.formInfo.name,"onUpdate:modelValue":l[14]||(l[14]=e=>D.value.formInfo.name=e),label:W("age","title"),name:`${e.prefix}_age`,required:G("age")},null,8,["modelValue","label","name","required"])):I("",!0),Z("residence")?(s(),f(k,{key:11,modelValue:D.value.formInfo.extInfo.provinceCode,"onUpdate:modelValue":l[15]||(l[15]=e=>D.value.formInfo.extInfo.provinceCode=e),field1:D.value.formInfo.extInfo.provinceCode,"onUpdate:field1":l[16]||(l[16]=e=>D.value.formInfo.extInfo.provinceCode=e),field2:D.value.formInfo.extInfo.cityCode,"onUpdate:field2":l[17]||(l[17]=e=>D.value.formInfo.extInfo.cityCode=e),field3:D.value.formInfo.extInfo.areaCode,"onUpdate:field3":l[18]||(l[18]=e=>D.value.formInfo.extInfo.areaCode=e),label:W("residence","title"),name:`${e.prefix}_provinceCode`,placeholder:"请选择","is-link":"",required:G("residence"),"data-source":u(g),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):I("",!0),Z("social")?(s(),f(o,{key:12,modelValue:D.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[20]||(l[20]=e=>D.value.formInfo.extInfo.hasSocialInsurance=e),label:W("social","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:G("social")},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[19]||(l[19]=e=>D.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("social","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("height")?(s(),f(o,{key:13,modelValue:D.value.formInfo.name,"onUpdate:modelValue":l[21]||(l[21]=e=>D.value.formInfo.name=e),label:W("height","title"),name:`${e.prefix}_height`,required:G("height")},null,8,["modelValue","label","name","required"])):I("",!0),Z("weight")?(s(),f(o,{key:14,modelValue:D.value.formInfo.name,"onUpdate:modelValue":l[22]||(l[22]=e=>D.value.formInfo.name=e),label:W("weight","title"),name:`${e.prefix}_weight`,required:G("weight")},null,8,["modelValue","label","name","required"])):I("",!0),Z("BMI")?(s(),f(o,{key:15,modelValue:D.value.formInfo.name,"onUpdate:modelValue":l[23]||(l[23]=e=>D.value.formInfo.name=e),label:W("BMI","title"),name:`${e.prefix}_BMI`,required:G("BMI")},null,8,["modelValue","label","name","required"])):I("",!0),Z("insuredRiskManagementLevel")?(s(),f(o,{key:16,modelValue:D.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[25]||(l[25]=e=>D.value.formInfo.extInfo.hasSocialInsurance=e),label:W("insuredRiskManagementLevel","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:G("insuredRiskManagementLevel")},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[24]||(l[24]=e=>D.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("insuredRiskManagementLevel","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("purchaseOtherInsurance")?(s(),f(o,{key:17,modelValue:D.value.formInfo.extInfo.purchaseOtherInsurance,"onUpdate:modelValue":l[27]||(l[27]=e=>D.value.formInfo.extInfo.purchaseOtherInsurance=e),label:W("purchaseOtherInsurance","title"),name:`${e.prefix}_purchaseOtherInsurance`,placeholder:"请选择",required:G("purchaseOtherInsurance")},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[26]||(l[26]=e=>D.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("purchaseOtherInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("injuryInsurance")?(s(),f(o,{key:18,modelValue:D.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[29]||(l[29]=e=>D.value.formInfo.extInfo.injuryInsurance=e),label:W("injuryInsurance","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:G("injuryInsurance")},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[28]||(l[28]=e=>D.value.formInfo.extInfo.injuryInsurance=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("injuryInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("insureArea")?(s(),f(k,{key:19,label:W("insureArea","title"),name:"insureAreaCode",placeholder:"请选择","is-link":"",required:G("insureArea"),"data-source":u(g),mapping:{label:"name",value:"code",children:"children"}},null,8,["label","required","data-source"])):I("",!0),Z("occupation")?(s(),f(k,{key:20,modelValue:D.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:modelValue":l[30]||(l[30]=e=>D.value.formInfo.extInfo.occupationCodeList[0]=e),field0:D.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:field0":l[31]||(l[31]=e=>D.value.formInfo.extInfo.occupationCodeList[0]=e),field1:D.value.formInfo.extInfo.occupationCodeList[1],"onUpdate:field1":l[32]||(l[32]=e=>D.value.formInfo.extInfo.occupationCodeList[1]=e),field2:D.value.formInfo.extInfo.occupationCodeList[2],"onUpdate:field2":l[33]||(l[33]=e=>D.value.formInfo.extInfo.occupationCodeList[2]=e),label:W("occupation","title"),name:`${e.prefix}_occupationCodeList`,placeholder:"请选择",required:G("occupation"),"data-source":u(h),mapping:{label:"name",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","name","required","data-source"])):I("",!0),Z("personalAnnualIncome")?(s(),f(o,{key:21,modelValue:D.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":l[34]||(l[34]=e=>D.value.formInfo.extInfo.personalAnnualIncome=e),label:W("personalAnnualIncome","title"),name:`${e.prefix}_personalAnnualIncome`,required:G("personalAnnualIncome"),placeholder:"请输入",rules:[{validator:ee}]},{extra:c((()=>[j])),_:1},8,["modelValue","label","name","required","rules"])):I("",!0),Z("familyAnnualIncome")?(s(),f(o,{key:22,modelValue:D.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":l[35]||(l[35]=e=>D.value.formInfo.extInfo.familyAnnualIncome=e),label:W("familyAnnualIncome","title"),name:`${e.prefix}_familyAnnualIncome`,placeholder:"请输入",rules:[{validator:ee}],required:G("familyAnnualIncome")},{extra:c((()=>[z])),_:1},8,["modelValue","label","name","rules","required"])):I("",!0),Z("country")?(s(),f(i,{key:23,modelValue:D.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":l[36]||(l[36]=e=>D.value.formInfo.extInfo.nationalityCode=e),label:W("country","title"),name:`${e.prefix}_nationalityCode`,"data-source":W("country","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},placeholder:"请选择",required:G("country"),"is-link":""},null,8,["modelValue","label","name","data-source","required"])):I("",!0),Z("hasUsCard")?(s(),f(o,{key:24,modelValue:D.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[38]||(l[38]=e=>D.value.formInfo.extInfo.hasUsCard=e),label:W("hasUsCard","title"),name:`${e.prefix}_hasUsCard`,placeholder:"请选择",required:G("hasUsCard")},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[37]||(l[37]=e=>D.value.formInfo.extInfo.hasUsCard=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("hasUsCard","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("marritalStatus")?(s(),f(i,{key:25,modelValue:D.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":l[39]||(l[39]=e=>D.value.formInfo.extInfo.marriageStatus=e),label:W("marritalStatus","title"),name:`${e.prefix}_marriageStatus`,placeholder:"请选择","data-source":W("marritalStatus","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},"is-link":"",required:G("marritalStatus")},null,8,["modelValue","label","name","data-source","required"])):I("",!0),Z("degree")?(s(),f(i,{key:26,modelValue:D.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":l[40]||(l[40]=e=>D.value.formInfo.extInfo.educationDegree=e),label:W("degree","title"),name:`${e.prefix}_educationDegree`,"data-source":W("degree","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},placeholder:"请选择",required:G("degree"),"is-link":""},null,8,["modelValue","label","name","data-source","required"])):I("",!0),Z("mobile")?(s(),f(o,{key:27,modelValue:D.value.formInfo.mobile,"onUpdate:modelValue":l[41]||(l[41]=e=>D.value.formInfo.mobile=e),label:W("mobile","title"),name:`${e.prefix}_mobile`,placeholder:"请输入",maxlength:11,required:G("mobile"),"validate-type":[u(L).PHONE]},null,8,["modelValue","label","name","required","validate-type"])):I("",!0),Z("verificationCode")?(s(),f(o,{key:28,modelValue:D.value.formInfo.verificationCode,"onUpdate:modelValue":l[42]||(l[42]=e=>D.value.formInfo.verificationCode=e),label:W("verificationCode","title"),name:`${e.prefix}_verificationCode`,required:G("verificationCode")},{extra:c((()=>[p(w,{class:V(["sms-code",{"count-down":A.value>0}]),size:"small",type:"primary",onClick:F},{default:c((()=>[y(b(S.value),1)])),_:1},8,["class"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("isSmoke")?(s(),f(o,{key:29,modelValue:D.value.formInfo.isSmoke,"onUpdate:modelValue":l[44]||(l[44]=e=>D.value.formInfo.isSmoke=e),required:G("isSmoke"),label:W("isSmoke","title"),name:`${e.prefix}_isSmoke`,placeholder:"请选择","is-view":N.value},{input:c((()=>[p(r,{modelValue:D.value.formInfo.isSmoke,"onUpdate:modelValue":l[43]||(l[43]=e=>D.value.formInfo.isSmoke=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("isSmoke","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):I("",!0),Z("contactNo")?(s(),f(o,{key:30,modelValue:D.value.formInfo.contactNo,"onUpdate:modelValue":l[45]||(l[45]=e=>D.value.formInfo.contactNo=e),label:W("contactNo","title"),name:`${e.prefix}_contactNo`,required:G("contactNo")},null,8,["modelValue","label","name","required"])):I("",!0),Z("email")?(s(),f(o,{key:31,modelValue:D.value.formInfo.email,"onUpdate:modelValue":l[46]||(l[46]=e=>D.value.formInfo.email=e),label:W("email","title"),name:`${e.prefix}_email`,placeholder:"请输入",required:G("email"),"validate-type":[u(L).EMAIL]},null,8,["modelValue","label","name","required","validate-type"])):I("",!0),Z("homeAddress")?(s(),f(k,{key:32,modelValue:D.value.formInfo.extInfo.familyAreaCode,"onUpdate:modelValue":l[47]||(l[47]=e=>D.value.formInfo.extInfo.familyAreaCode=e),field1:D.value.formInfo.extInfo.familyProvinceCode,"onUpdate:field1":l[48]||(l[48]=e=>D.value.formInfo.extInfo.familyProvinceCode=e),field2:D.value.formInfo.extInfo.familyCityCode,"onUpdate:field2":l[49]||(l[49]=e=>D.value.formInfo.extInfo.familyCityCode=e),field3:D.value.formInfo.extInfo.familyAreaCode,"onUpdate:field3":l[50]||(l[50]=e=>D.value.formInfo.extInfo.familyAreaCode=e),label:W("homeAddress","title"),name:`${e.prefix}_familyProvinceCode`,placeholder:"请选择","is-link":"",required:G("homeAddress"),"data-source":u(g),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):I("",!0),Z("homeAddressDetail")?(s(),f(o,{key:33,modelValue:D.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":l[51]||(l[51]=e=>D.value.formInfo.extInfo.familyAddress=e),label:W("homeAddressDetail","title"),name:`${e.prefix}_familyAddress`,placeholder:"请输入",rules:[{validator:(...e)=>le(100,...e)}],required:G("homeAddressDetail")},null,8,["modelValue","label","name","rules","required"])):I("",!0),Z("homePostalCode")?(s(),f(o,{key:34,modelValue:D.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":l[52]||(l[52]=e=>D.value.formInfo.extInfo.familyZipCode=e),label:W("homePostalCode","title"),name:`${e.prefix}_familyZipCode`,placeholder:"请输入",required:G("homePostalCode"),"validate-type":[u(L).ZIP_CODE]},null,8,["modelValue","label","name","required","validate-type"])):I("",!0),Z("workAddress")?(s(),f(k,{key:35,modelValue:D.value.formInfo.extInfo.workAreaCode,"onUpdate:modelValue":l[53]||(l[53]=e=>D.value.formInfo.extInfo.workAreaCode=e),field1:D.value.formInfo.extInfo.workProvinceCode,"onUpdate:field1":l[54]||(l[54]=e=>D.value.formInfo.extInfo.workProvinceCode=e),field2:D.value.formInfo.extInfo.workCityCode,"onUpdate:field2":l[55]||(l[55]=e=>D.value.formInfo.extInfo.workCityCode=e),field3:D.value.formInfo.extInfo.workAreaCode,"onUpdate:field3":l[56]||(l[56]=e=>D.value.formInfo.extInfo.workAreaCode=e),label:W("workAddress","title"),name:`${e.prefix}_workProvinceCode`,placeholder:"请选择","is-link":"",required:G("workAddress"),"data-source":u(g),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):I("",!0),Z("workAddressDetail")?(s(),f(o,{key:36,modelValue:D.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":l[57]||(l[57]=e=>D.value.formInfo.extInfo.workAddress=e),label:W("workAddressDetail","title"),name:`${e.prefix}_workAddress`,placeholder:"请输入",rules:[{validator:(...e)=>le(100,...e)}],required:G("workAddressDetail")},null,8,["modelValue","label","name","rules","required"])):I("",!0),Z("workPostalCode")?(s(),f(o,{key:37,modelValue:D.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":l[58]||(l[58]=e=>D.value.formInfo.extInfo.workZipCode=e),label:W("workPostalCode","title"),required:G("workZipCode"),name:`${e.prefix}_workPostCode`,placeholder:"请输入","validate-type":[u(L).ZIP_CODE]},null,8,["modelValue","label","required","name","validate-type"])):I("",!0),Z("companyName")?(s(),f(o,{key:38,modelValue:D.value.formInfo.extInfo.workStation,"onUpdate:modelValue":l[59]||(l[59]=e=>D.value.formInfo.extInfo.workStation=e),label:W("companyName","title"),name:`${e.prefix}_workPostCode`,placeholder:"请输入",rules:[{validator:(...e)=>le(20,...e)}],required:G("companyName")},null,8,["modelValue","label","name","rules","required"])):I("",!0),Z("workContent")?(s(),f(o,{key:39,modelValue:D.value.formInfo.extInfo.workContent,"onUpdate:modelValue":l[60]||(l[60]=e=>D.value.formInfo.extInfo.workContent=e),label:W("workContent","title"),name:`${e.prefix}_workContent`,required:G("workContent"),placeholder:"请输入",rules:[{validator:(...e)=>le(100,...e)}]},null,8,["modelValue","label","name","required","rules"])):I("",!0),Z("chineseTaxResident")?(s(),f(o,{key:40,modelValue:D.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[62]||(l[62]=e=>D.value.formInfo.extInfo.chineseTaxResident=e),label:W("chineseTaxResident","title"),name:`${e.prefix}_taxResident`,required:G("chineseTaxResident"),placeholder:"请输入"},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[61]||(l[61]=e=>D.value.formInfo.extInfo.chineseTaxResident=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("chineseTaxResident","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("taxResident")?(s(),f(i,{key:41,modelValue:D.value.formInfo.taxResident,"onUpdate:modelValue":l[63]||(l[63]=e=>D.value.formInfo.taxResident=e),label:W("taxResident","title"),name:`${e.prefix}_benefitOrder`,"data-source":W("taxResident","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:G("taxResident")},null,8,["modelValue","label","name","data-source","required"])):I("",!0),Z("partTimeJob")?(s(),f(o,{key:42,modelValue:D.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[65]||(l[65]=e=>D.value.formInfo.extInfo.isPartTime=e),label:W("partTimeJob","title"),name:`${e.prefix}_isPartTime`,required:G("partTimeJob"),placeholder:"请输入"},{input:c((()=>[p(r,{modelValue:D.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[64]||(l[64]=e=>D.value.formInfo.extInfo.isPartTime=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:W("partTimeJob","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):I("",!0),Z("gasNumberCollection")?(s(),f(o,{key:43,modelValue:D.value.formInfo.extInfo.gasNumberCollection,"onUpdate:modelValue":l[66]||(l[66]=e=>D.value.formInfo.extInfo.gasNumberCollection=e),label:W("gasNumberCollection","title"),name:`${e.prefix}_gasNumberCollection`,required:G("gasNumberCollection"),placeholder:"请输入",rules:[{validator:(...e)=>le(100,...e)}]},null,8,["modelValue","label","name","required","rules"])):I("",!0),Z("benefitOrder")?(s(),f(i,{key:44,modelValue:D.value.formInfo.benefitOrder,"onUpdate:modelValue":l[67]||(l[67]=e=>D.value.formInfo.benefitOrder=e),label:W("benefitOrder","title"),name:`${e.prefix}_benefitOrder`,"data-source":W("benefitOrder","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:G("benefitOrder")},null,8,["modelValue","label","name","data-source","required"])):I("",!0),Z("benefitRate")?(s(),f(o,{key:45,modelValue:D.value.formInfo.benefitRate,"onUpdate:modelValue":l[68]||(l[68]=e=>D.value.formInfo.benefitRate=e),required:G("benefitRate"),name:`${e.prefix}_benefitRate`,rules:[{validator:ae}],label:W("benefitRate","title")},{extra:c((()=>[K])),_:1},8,["modelValue","required","name","rules","label"])):I("",!0)])):I("",!0)}}});const Z={class:"page-info-wrapper"},G={key:0,class:"beneficiary-part"},W={class:"part-title"},X={class:"title"},Q=y("删除"),ee=(e("_",a({props:{factorObject:null,formInfo:{default:()=>({})},isView:{type:Boolean,default:!1},sendSmsCode:{type:Function,default:(e,a)=>{}},titleCollection:{default:()=>({})}},setup(e,{expose:a}){const l=e;C(),r();const n=o({}),u=o({tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),y=o(null),V=o([]),x=o([]);o([]),o([]);const w=o([]);k({beneficiaryId:0,nextPage:"",currentAddress:null,isLoading:!0});const L=i((()=>{const e={};return(n.value?.INSURER||[]).forEach((a=>{e[a.code]=a})),e})),O=e=>L.value?.[e].isMustInput===R.YES,T=(e,a)=>L.value?.[e]?.[a]||"";return a({validateForm:()=>new Promise(((e,a)=>{y.value?.validate().then((()=>{e(u.value)}),(()=>{a()}))}))}),t((()=>l.factorObject),(()=>{const e={BENEFICIARY:l.factorObject[3],INSURER:l.factorObject[2],HOLDER:l.factorObject[1]};n.value=e}),{immediate:!0,deep:!0}),t([()=>u.value.tenantOrderInsuredList[0].relationToHolder,()=>u.value.tenantOrderHolder],(()=>{`${u.value.tenantOrderInsuredList[0].relationToHolder}`===D.SELF&&Object.assign(u.value.tenantOrderInsuredList[0],u.value.tenantOrderHolder,{id:u.value.tenantOrderInsuredList[0].id,extInfo:{...u.value.tenantOrderHolder.extInfo,insureProvinceCode:u.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,insureCityCode:u.value.tenantOrderInsuredList[0].extInfo.insureCityCode,insureAreaCode:u.value.tenantOrderInsuredList[0].extInfo.insureAreaCode}})}),{deep:!0,immediate:!0}),t((()=>l.formInfo),(()=>{l.formInfo&&(u.value=l.formInfo)}),{deep:!0,immediate:!0}),(a,l)=>{const r=d("ProCard"),o=d("ProRadioButton"),i=d("ProField"),t=d("ProSvg"),C=d("ProForm");return s(),m("div",Z,[p(C,{ref_key:"formRef",ref:y,"show-error":"","show-error-message":!1,"input-align":"left"},{default:c((()=>[n.value.HOLDER?.length?(s(),f(r,{key:0,"show-divider":!1,title:e.titleCollection?.HOLDER},{default:c((()=>[p(J,{images:V.value,"onUpdate:images":l[0]||(l[0]=e=>V.value=e),"form-info":u.value.tenantOrderHolder,"factor-list":n.value.HOLDER,prefix:"holder","is-view":e.isView,"send-sms-code":e.sendSmsCode},null,8,["images","form-info","factor-list","is-view","send-sms-code"])])),_:1},8,["title"])):I("",!0),n.value.INSURER?.length?(s(),f(r,{key:1,"show-divider":!1,title:e.titleCollection?.INSURER},{default:c((()=>{return[(a="relationToHolder",L.value?.[a].isDisplay===R.YES?(s(),f(i,{key:0,modelValue:u.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value.tenantOrderInsuredList[0].relationToHolder=e),class:"relation-holder",name:"insure_relationToHolder",required:O("relationToHolder"),label:T("relationToHolder","title")},{input:c((()=>[p(o,{modelValue:u.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value.tenantOrderInsuredList[0].relationToHolder=e),"is-view":e.isView,prop:{label:"value",value:"code"},options:T("relationToHolder","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required","label"])):I("",!0)),1!=+u.value.tenantOrderInsuredList[0].relationToHolder?(s(),f(J,{key:1,images:x.value,"onUpdate:images":l[3]||(l[3]=e=>x.value=e),"form-info":u.value.tenantOrderInsuredList[0],"factor-list":n.value.INSURER||[],prefix:"insure","send-sms-code":e.sendSmsCode,"is-view":e.isView},null,8,["images","form-info","factor-list","send-sms-code","is-view"])):I("",!0)];var a})),_:1},8,["title"])):I("",!0),n.value.BENEFICIARY?.length?(s(),f(r,{key:2,"show-divider":!1,title:e.titleCollection?.BENEFICIARY},{default:c((()=>[2==u.value.tenantOrderInsuredList[0].insuredBeneficiaryType?(s(),m("div",G,[(s(!0),m(h,null,g(u.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList,((a,r)=>(s(),m("div",{key:a.beneficiaryId||a.id,class:"beneficiary-item"},[v("div",W,[v("span",X,b(`受益人${r+1}`),1),p(t,{name:"delete",onClick:e=>{return l=a,void(u.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=u.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.filter((e=>e.beneficiaryId!==l.beneficiaryId||l.id!==e.id)));var l}},{default:c((()=>[Q])),_:2},1032,["onClick"])]),p(J,{images:w.value,"onUpdate:images":l[4]||(l[4]=e=>w.value=e),"form-info":a,"factor-list":n.value.BENEFICIARY||[],prefix:`beneficiary-${r}`,"is-view":e.isView,"send-sms-code":e.sendSmsCode,"beneficiary-list":u.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList},null,8,["images","form-info","factor-list","prefix","is-view","send-sms-code","beneficiary-list"])])))),128))])):I("",!0)])),_:1},8,["title"])):I("",!0)])),_:1},512)])}}})),e("t",(e=>{const{tenantId:a,riskList:l,riskPremium:r,productId:o}=e;return l.map((e=>({tenantId:a,amountUnit:1,annuityDrawFrequency:e.annuityDrawDate,annuityDrawType:e.annuityDrawType,paymentFrequency:e.paymentFrequency,paymentPeriod:e.chargePeriod.split("_")[1],paymentPeriodType:S[e.chargePeriod.split("_")[0]],insurancePeriodType:$["to_life"===e.coveragePeriod?"to_life":e.coveragePeriod.split("_")[0]],insurancePeriodValue:Number.isNaN(+e.coveragePeriod.split("_")[1])?0:e.coveragePeriod.split("_")[1],riskCode:e.riskCode,riskType:e.riskType,riskName:e.riskName,extInfo:{riskId:e.riskId,copy:e.copy},initialPremium:r[e.riskCode]?.premium,liabilityDetails:e.liabilityVOList.map((e=>({liabilityCode:e.liabilityCode,liabilityName:e.liabilityName,refundMethod:e.liabilityAttributeValue}))),productId:o,currentAmount:e.amount,initialAmount:e.amount})))})),e("r",(e=>{const a=e.find((e=>e.riskType===H.MAIN_RISK)),l=e.filter((e=>e.riskType===H.RIDER_RISK)),r=e=>e.map((e=>{const{riskCategory:o,riskCode:n,riskType:i,id:t,riskInsureLimitVO:d,riskCalcMethodInfoVO:u}=e,{annuityDrawFrequencyList:s,annuityDrawValueList:m,insurancePeriodValueList:f,paymentFrequencyList:c,paymentPeriodValueList:p}=d,{minCopy:I,maxCopy:v,fixedAmount:y,singeAmount:b}=u;return{amount:y||b,annuityDrawDate:m?.[0],annuityDrawFrequency:s?.[0],chargePeriod:p?.[0],copy:I||v||0,coveragePeriod:f?.[0],liabilityVOList:e.riskLiabilityInfoVOList,mainRisk:e.riskCode===a.riskCode,mainRiskCode:e.riskCode===a.riskCode?a.riskCode:void 0,mainRiskId:e.riskCode===a.riskCode?a.riskId:void 0,paymentFrequency:c?.[0],riderRisk:!0,riderRiskVOList:r(l),riskCategory:o,riskCode:n,riskId:t,riskType:i}}));return r([a])})),(e,a,l=[],r=A.YEAR,o=!1)=>{const n=e.filter((e=>{try{if(e.extraInfo){return!JSON.parse(e.extraInfo).packageCode||!!l.includes(e.id)}return!1}catch(a){return!1}})),i=n.find((e=>e.riskType===H.MAIN_RISK));return n.map((e=>{const{riskInsureLimitVO:l,riskCategory:r,id:o,riskType:n,riskName:t,riskCode:d,extraInfo:u,riskLiabilityInfoVOList:s,riskCalcMethodInfoVO:m}=e,{insurancePeriodType:f,insurancePeriodValueList:c,paymentFrequencyList:p,paymentPeriodValueList:I,paymentPeriodType:v,annuityDrawFrequencyList:y,annuityDrawValueList:b,insurancePeriodRule:V,paymentPeriodRule:x}=l,{fixedAmount:C,minCopy:k}=m,h={amount:C,riskCode:d,riskId:o,riskName:t,paymentFrequency:p?.[0]||A.YEAR,extraInfo:u,chargePeriod:I?.[0],annuityDrawDate:b?.[0],riskType:n,annuityDrawFrequency:y?.[0],copy:k,coveragePeriod:c?.[0],insuredCode:a?.insurerCode,liabilityVOList:s,riskCategory:r};return n===H.MAIN_RISK?h:(V===F.ONE_YEAR&&(h.coveragePeriod="year_1"),x===F.ONE_YEAR&&(h.chargePeriod="year_1"),{...h,mainRiskId:i?.id,mainRiskCode:i?.riskCode})}))}),ae=(e("a",(e=>({orderAmount:e.premium,tenantId:e.tenantId,venderCode:e.detail?.insurerCode,applicationNo:e.applicationNo,policyNo:e.policyNo,orderDataSource:"1",saleUserId:e.saleUserId,saleChannelId:e.saleChannelId,orderCategory:e.orderCategory,orderStatus:e.orderStatus,orderTopStatus:e.orderTopStatus,tenantOrderHolder:{tenantId:e.tenantId,name:e.holder.name,certNo:e.holder.certNo,certType:w.CERT,mobile:e.holder.mobile,birthday:_(e.holder.certNo),gender:T(e.holder.certNo),extInfo:{hasSocialInsurance:e.holder.socialFlag}},extInfo:{extraInfo:{renewalDK:e.renewalDK,paymentMethod:e.paymentMethod,paymentFrequency:e.paymentFrequency,successJumpUrl:e.successJumpUrl},iseeBizNo:e.iseeBizNo},tenantOrderInsuredList:[{tenantId:e.tenantId,relationToHolder:e.insured.relationToHolder,certNo:e.insured.certNo,certType:w.CERT,name:e.insured.name,mobile:e.insured.relationToHolder===D.SELF?e.holder.mobile:"",birthday:_(e.insured.certNo),gender:T(e.insured.certNo),extInfo:{hasSocialInsurance:e.insured.socialFlag},tenantOrderProductList:[{tenantId:e.tenantId,productCode:e.detail?.productCode,productName:e.detail?.productName,premium:e.premium,tenantOrderRiskList:e.tenantOrderRiskList}]}]}))),(e,a)=>{if(!e)return"";const[l,r]=e.split("_"),o=parseInt(r,10);return"day"===l?n(a).add(o,"day").format("YYYY-MM-DD"):n(a).add(o,"year").format("YYYY-MM-DD")}),le=(e,a=n().format("YYYY-MM-DD"))=>n(e).diff(a,"day"),re=(e("v",(e=>{const{riskCode:a,liabilityCode:l,birth:r,sex:o}=e,n=ae("max_18",r);return"7Y7"!==a||"FXG086"!==l||o===N.FEMALE&&le(n)<=0})),(e,a,l=(e=>!0))=>{const r=_(a),o=T(a),n=[];return e.forEach((e=>{const{riskDetailVOList:a}=e,i=a.map((e=>{const{maxHolderAge:a,minHolderAge:n}=e.riskInsureLimitVO;return((e,a,l)=>{const r=ae(e,l),o=ae(a,l);return le(r)<=1&&le(o)>=0})(n,a,r)?(e.riskLiabilityInfoVOList=e.riskLiabilityInfoVOList.filter((a=>l({riskCode:e.riskCode,liabilityCode:a.liabilityCode,birth:r,sex:o}))),e):null}));n.push({riskDetailVOList:i.filter((e=>!!(e&&e.riskLiabilityInfoVOList.length>0)))})})),n}),oe=(e("g",((e,a=!1,l=(e=>!0))=>{let r=[];if(a)r=ee(re(q(e.insureDetail.productRiskVoList),e.insured.certNo,l)?.[0]?.riskDetailVOList,e.productDetail,[],e.paymentFrequency,a);else{r=re(q(e.insureDetail.productRiskVoList),e.insured.certNo,l).map((l=>ee(l.riskDetailVOList,e.productDetail,e.packageRiskIdList,e.paymentFrequency,a)))}return{calcData:{holder:{personVO:{birthday:_(e.holder.certNo),certType:w.CERT,certNo:e.holder.certNo,gender:Number(T(e.holder.certNo)),mobile:e.holder.mobile,name:e.holder.name,socialFlag:e.holder.socialFlag}},insuredVOList:[{insuredCode:e.productDetail?.insurerCode,relationToHolder:e.insured.relationToHolder,personVO:{birthday:_(e.insured.certNo),certType:w.CERT,certNo:e.insured.certNo,gender:Number(T(e.insured.certNo)),name:e.insured.name,socialFlag:e.insured.socialFlag},productPlanVOList:[{riskVOList:r.flat()}]}],productCode:e.productDetail.productCode,tenantId:e.tenantId},riskVOList:r.flat()}})),e("o",(e=>{if(e&&e.length){return e.filter((e=>e.value===U.INSURE)).map((e=>e.productRiskVoList.map((e=>e.id)))).flat()}return[]})),e("b",((e,a="year")=>n().diff(_(e),a,!0))),e=>{const{tenantId:a,riskList:l,riskPremium:r,productId:o}=e;return l.map((e=>{var l;return{tenantId:a,amountUnit:1,annuityDrawFrequency:e.annuityDrawDate,annuityDrawType:e.annuityDrawType,paymentFrequency:e.paymentFrequency,paymentPeriod:0,paymentPeriodType:S?.[e.chargePeriod],insurancePeriodType:$["to_life"===e.coveragePeriod?"to_life":e.coveragePeriod?.split("_")?.[0]],insurancePeriodValue:(l=e.coveragePeriod,!l||Number.isNaN(+l.split("_")[1])?0:l?.split("_")[1]),riskCode:e.riskCode,riskType:e.riskType,riskName:e.riskName,extInfo:{riskId:e.riskId,copy:e.copy},initialPremium:r[e.riskCode]?.premium,liabilityDetails:e.liabilityVOList?.map((e=>({liabilityCode:e.liabilityCode,liabilityName:e.liabilityName,refundMethod:e.liabilityAttributeValue}))),productId:o,currentAmount:e.amount,initialAmount:e.amount}}))});e("f",(e=>({orderAmount:0,tenantId:e.tenantId,venderCode:e.insureDetail.productBasicInfoVO.insurerCode,orderDataSource:"1",saleUserId:e.saleUserId,saleChannelId:e.saleChannelId,orderCategory:"1",tenantOrderHolder:{tenantId:e.tenantId,certType:e.order.tenantOrderHolder.certEndType,...e.order.tenantOrderHolder},extInfo:{...e.extInfo,templateId:2,buttonCode:e.buttonCode,pageCode:e.pageCode,iseeBizNo:e.iseeBizNo},tenantOrderInsuredList:[{...e.order.tenantOrderInsuredList[0],tenantId:e.tenantId,certType:e.order.tenantOrderInsuredList[0].certEndType,mobile:e.order.tenantOrderInsuredList[0].relationToHolder===D.SELF?e.order.tenantOrderHolder.mobile:"",tenantOrderProductList:[{tenantId:e.tenantId,productCode:e.insureDetail?.productBasicInfoVO.productCode,productName:e.insureDetail?.productBasicInfoVO.productName,premium:0,tenantOrderRiskList:oe({tenantId:e.tenantId,riskList:ee(e.insureDetail.productRiskVoList[0].riskDetailVOList,e.detail),riskPremium:{},productId:e.detail?.id})}]}],operateOption:e.order?.operateOption})))}}}))}();
