import{_ as e,d as a,a as t,J as s,r as n,ab as l,bW as i,E as r,G as o,c as u,g as c,f as d,w as p,i as v,m as f,t as m,j as g,F as h,n as w,b6 as y,B as b,a7 as k,aP as C,X as _,Y as x}from"./index-dae3ff12.js";import{a as I}from"./product-9a4e8498.js";const j={class:"header"},N=["src"],A={class:"content"},E=(e=>(_("data-v-6301a9ac"),e=e(),x(),e))((()=>v("h4",null,"温馨提示，您已进入投保流程：",-1))),O=w(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),P=w(" ，为维护您的合法权益，您的操作轨迹将被记录。 "),D={class:"statement"},F={class:"footer"},S=w(" 好的 "),T={key:0},q={class:"review-pdf"};var B=e(a({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,w=t(),{tenantId:_=""}=w.query,x=s({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),B=n(!1),G=n(!1),J=new l({source:"sessionStorage"}),L=i({time:4e3,onFinish:()=>{J.set("PRENOTICE-isShow","1")}}),R=n({title:"",link:""}),U=r((()=>L.current.value.seconds)),W=r((()=>{if(R.value.link){const e=(R.value.link||"").split("?"),a=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",a),"pdf"===a?"pdf":"picture"}return"link"})),X=()=>{B.value=!1};return o((()=>{(async()=>{const{code:e,data:t}=await I({insureCode:a.productDetail.insurerCode,tenantId:_});"10000"===e&&(x.insureConfig=t,x.statement=`本产品由${t.tenantName}销售本页面仅做产品展示，具体承保方案以实际保单约定为准`,y((()=>{L.start()}))),B.value=!0})()})),(e,a)=>{var t;const s=b,n=k,l=C;return u(),c(h,null,[d(n,{class:"pre-notice-wrap",show:B.value,closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:p((()=>{var e;return[v("div",j,[v("img",{src:f("/static/png/header-logo-f6f405b0.png")},null,8,N)]),v("div",A,[E,v("p",null,[O,v("span",{class:"file-name",onClick:a[0]||(a[0]=e=>((e,a)=>{var t;G.value=!G.value,R.value.link=null==(t=x.insureConfig)?void 0:t[a].link,R.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+m((null==(e=f(x).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),P])]),v("abbr",D,m(f(x).statement),1),v("div",F,[d(s,{type:"primary",block:"",round:"",onClick:X},{default:p((()=>[S,f(U)?(u(),c("span",T,m(f(U))+"s",1)):g("",!0)])),_:1})])]})),_:1},8,["show"]),d(n,{show:G.value,"onUpdate:show":a[1]||(a[1]=e=>G.value=e),class:"pre-notice-wrap",title:null==(t=R.value)?void 0:t.title,position:"bottom",style:{overflow:"hidden"}},{default:p((()=>{var e;return[v("div",q,[d(l,{content:null==(e=R.value)?void 0:e.link,type:f(W)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-6301a9ac"]]);export{B as P};
