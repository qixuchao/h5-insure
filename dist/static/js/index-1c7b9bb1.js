import{d as e,h as a,i as n,j as o,aJ as t,o as r,c as d,d3 as s,d4 as i,a as c,bJ as l,T as u}from"./index-e22e3047.js";import{T as p}from"./infoCollection-9b20c48b.js";import{T as I}from"./constant-8927d485.js";const m={class:"page-middle-wrapper"},C=[c("h4",null,null,-1)],f=e({__name:"index",setup(e){const c=a(),f=n(),g=o(""),{extraInfo:y,agencyCode:h,insurerCode:v,productCode:x,agentCode:b,saleChannelId:q}=f.query;console.log("middlePage route.query-------",f.query);let j={};try{j=JSON.parse(decodeURIComponent(y))}catch($){}const{templateId:J,tenantId:N,orderNo:R}=j,U=e=>{s({param:e}).then((({code:e,data:a})=>{"10000"===e&&a?(()=>{var e;if(J===I.UPGRADE&&R){const a={insurerCode:v,productCode:x,tenantId:N||(null==(e=f.query)?void 0:e.tenantId),agencyCode:h,agentCode:b,orderNo:R,saleChannelId:q};return a.extraInfo=decodeURIComponent(JSON.stringify({...j,templateId:J})),void c.push(`/baseInsurance/upgrade?${l.stringify(a)}`)}if(!J||!p[J])return void u("链接上模板ID不正确不正确，请检查链接");const a=`/baseInsurance/${p[J]}`;c.replace(encodeURI(`${a}?${l.stringify(f.query)}`))})():g.value="验证失败"}))};return t((()=>{var e;U((e=window.location.search,i(["ext"],e).split("?")[1]))})),(e,a)=>(r(),d("div",m,C))}});export{f as default};
