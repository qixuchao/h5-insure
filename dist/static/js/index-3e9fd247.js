import{g as T,aj as P,r as N,h as a,m as r,y as s,I as k,z as c,d as O,n as o,k as d,al as m,s as f,a1 as L,a2 as Y,B as _,D as j,T as w,C as F,x as V,X as $,M as G,j as B,E as H,F as W}from"./vendor-bf3e5d1d.js";import{_ as x,P as A,u as q}from"./index-2712a36a.js";import{d as z,g as J}from"./order-cd8f784c.js";import{O as X,a as C}from"./order-bd6d2330.js";import"./utils-b6782348.js";const U=t=>(L("data-v-31abdaa0"),t=t(),Y(),t),K={class:"com-order-item"},Q={class:"header"},Z={class:"product-name"},tt={class:"company-name"},et={class:"status"},st={class:"info"},at={class:"info-item"},ot=U(()=>s("div",{class:"label"},"\u6295\u4FDD\u4EBA",-1)),dt={class:"desc"},nt={class:"info-item"},ut=U(()=>s("div",{class:"label"},"\u521B\u5EFA\u65F6\u95F4",-1)),lt={class:"desc"},it={class:"footer"},ct={class:"fee"},rt=_(" \u4FDD\u8D39\uFF1A"),_t={class:"money"},vt={key:0,class:"buttons"},ht=_("\u5220\u9664"),mt=_("\u53BB\u5904\u7406"),pt={key:1,class:"buttons"},ft=_("\u5220\u9664"),Ct=_("\u53BB\u652F\u4ED8"),kt={key:2,class:"buttons"},yt=_("\u5220\u9664"),gt=_("\u53BB\u652F\u4ED8"),Dt={key:3,class:"buttons"},Et={key:4,class:"buttons"},bt={key:5,class:"buttons"},St=_("\u5220\u9664"),Ft={key:6,class:"buttons"},It=_("\u5220\u9664"),Nt=T({props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup(t,{emit:I}){const n=t,u=P(),l=()=>{j.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{z(n.detail.id,n.detail.orderStatus).then(i=>{const{code:v,data:e}=i;v==="10000"&&(w.success("\u5220\u9664\u6210\u529F"),I("afterDelete"))})})},p=()=>{const{goodsCode:i,orderNo:v,id:e,saleUserId:y,templateId:g,tenantId:h}=n.detail;u.push({path:A.payInfo,query:{productCode:i,orderNo:v,orderId:e,saleUserId:y,templateId:g,tenantId:h}})},D=()=>{const{goodsCode:i,orderNo:v,id:e,saleUserId:y,templateId:g,tenantId:h}=n.detail;u.push({path:A[n.detail.pageCode],query:{productCode:i,orderNo:v,orderId:e,agentCode:y,templateId:g,tenantId:h}})};return(i,v)=>{const e=N("van-button");return a(),r("div",K,[s("div",Q,[s("div",Z,k(t.detail.goodsName),1),s("div",tt,k(t.detail.companyName),1),s("div",et,k(c(X)[t.detail.orderStatus]),1)]),s("div",st,[s("div",at,[ot,s("div",dt,k(t.detail.policyHolder),1)]),s("div",nt,[ut,s("div",lt,k(c(O)(t.detail.orderStartDate).format("YYYY-MM-DD HH:mm:ss")),1)])]),s("div",it,[s("div",ct,[rt,s("span",_t,"\uFFE5"+k(t.detail.prem),1)]),t.detail.orderStatus===c(C).PENDING?(a(),r("div",vt,[o(e,{class:"button",onClick:m(l,["stop"])},{default:d(()=>[ht]),_:1},8,["onClick"]),o(e,{class:"button primary",onClick:m(D,["stop"])},{default:d(()=>[mt]),_:1},8,["onClick"])])):f("",!0),t.detail.orderStatus===c(C).PAYING?(a(),r("div",pt,[o(e,{class:"button",onClick:m(l,["stop"])},{default:d(()=>[ft]),_:1},8,["onClick"]),o(e,{class:"button primary",onClick:m(p,["stop"])},{default:d(()=>[Ct]),_:1},8,["onClick"])])):f("",!0),t.detail.orderStatus===c(C).PAYMENT_FAILED?(a(),r("div",kt,[o(e,{class:"button",onClick:m(l,["stop"])},{default:d(()=>[yt]),_:1},8,["onClick"]),o(e,{class:"button primary",onClick:m(p,["stop"])},{default:d(()=>[gt]),_:1},8,["onClick"])])):f("",!0),t.detail.orderStatus===c(C).PAYMENT_SUCCESS?(a(),r("div",Dt)):f("",!0),t.detail.orderStatus===c(C).UNDERWRITE?(a(),r("div",Et)):f("",!0),t.detail.orderStatus===c(C).INSURER_REJECT?(a(),r("div",bt,[o(e,{class:"button",onClick:m(l,["stop"])},{default:d(()=>[St]),_:1},8,["onClick"])])):f("",!0),t.detail.orderStatus===c(C).TIMEOUT?(a(),r("div",Ft,[o(e,{class:"button",onClick:m(l,["stop"])},{default:d(()=>[It]),_:1},8,["onClick"])])):f("",!0)])])}}});var Bt=x(Nt,[["__scopeId","data-v-31abdaa0"]]);const At={class:"page-order"},Tt=T({setup(t){const I=P(),n=F(0),u=F(1),l=F(!1),p=F([]),D=[{title:"\u5168\u90E8",status:""},{title:"\u5F85\u5904\u7406",status:"-1"},{title:"\u5F85\u652F\u4ED8",status:"0"},{title:"\u5DF2\u5B8C\u6210",status:"1"},{title:"\u5DF2\u5931\u6548",status:"2"}],i=V(()=>D[n.value].status),v=h=>{I.push(`/orderDetail?id=${h.id}`)},e=()=>{l.value=!0,J({condition:{orderTopStatus:i.value},pageSize:10,pageNum:u.value}).then(h=>{l.value=!1;const{code:E,data:b}=h;E==="10000"&&(u.value===1?p.value=b.datas:p.value=[...p.value,...b.datas])})},y=()=>{u.value+=1,e(),console.log("\u{1F680} ~ handleLoad ~ pageNum.value",u.value)},g=()=>{u.value=1,e()};return $(i,()=>{u.value=1,e()}),G(()=>{e()}),(h,E)=>{const b=N("van-list"),M=N("ProPageWrap");return a(),B(M,{"main-class":"page-order-list"},{default:d(()=>[s("div",At,[o(q,{active:n.value,"onUpdate:active":E[0]||(E[0]=S=>n.value=S),list:D,"small-gap":"",class:"tab"},null,8,["active"]),o(b,{class:"body",loading:l.value,onLoad:y},{default:d(()=>[(a(!0),r(W,null,H(p.value,(S,R)=>(a(),B(Bt,{key:R,detail:S,onClick:Pt=>v(S),onAfterDelete:g},null,8,["detail","onClick"]))),128))]),_:1},8,["loading"])])]),_:1})}}});var Lt=x(Tt,[["__scopeId","data-v-c108a554"]]);export{Lt as default};
