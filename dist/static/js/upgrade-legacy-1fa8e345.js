!function(){var e=document.createElement("style");e.innerHTML=".page-upgrade-product-detail .com-card-wrap .van-field__body{width:100%}.page-upgrade-product-detail .attachment-bg{background:rgba(0,106,252,.05)}.page-upgrade-product-detail .attachment-bg.com-attachment-list{padding:.21333rem .50667rem}.page-upgrade-product-detail .footer-area{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.page-upgrade-product-detail .footer-area .price{color:#ff5840;font-size:.64rem;font-weight:600}.page-upgrade-product-detail .footer-area .price span:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.page-upgrade-product-detail .footer-area .right{width:5.33333rem;height:1.17333rem;border-radius:.58667rem}.page-upgrade-product-detail[data-v-45d4afa6] .com-card-wrap .header{margin-left:0!important}.page-upgrade-product-detail[data-v-45d4afa6] .com-card-wrap .header .title-wrapper .title:before{margin-right:.37333rem!important}.page-upgrade-product-detail[data-v-45d4afa6] .com-card-wrap .relation-holder .van-cell__title{display:none}.page-upgrade-product-detail[data-v-45d4afa6] .radio-btn{justify-content:flex-start}.page-upgrade-product-detail[data-v-45d4afa6] .radio-btn .btn-wrapper{margin-left:0!important;margin-right:.10667rem!important}\n",document.head.appendChild(e),System.register(["./index-legacy-0fd1f42b.js","./product-legacy-ab6f923a.js","./trial-legacy-dcf79d29.js","./utils-legacy-e893b261.js","./order-legacy-b52135f5.js","./index-legacy-56af4574.js","./theme-legacy-14f266cb.js","./index-legacy-c4e0efd4.js","./index-legacy-3ca9215e.js","./pdfh5-legacy-783b46b8.js","./infoCollection-legacy-b62b4c23.js","./useStorage-legacy-9d923309.js","./trial-legacy-d3c4af22.js","./relativeTime-legacy-e44dda2a.js","./validator-legacy-5e43cc69.js","./useDicData-legacy-7f6dc8a3.js"],(function(e,a){"use strict";var t,l,n,s,i,o,c,r,d,p,u,v,f,m,g,h,y,b,A,w,_,x,I,k,C,j,N,O,R,F,L,P,S,D,B,J,z,E,M,T,U,V;return{setters:[function(e){t=e._,l=e.d,n=e.aW,s=e.u,i=e.a,o=e.r,c=e.z,r=e.y,d=e.b,p=e.c,u=e.g,v=e.e,f=e.w,m=e.i,g=e.f,h=e.l,y=e.j,b=e.t,A=e.n,w=e.aZ,_=e.T,x=e.K,I=e.L,k=e.aK},function(e){C=e.p},function(e){j=e.d,N=e.i,O=e.g,R=e.s,F=e.e,L=e.E},function(e){P=e.a,S=e.t,D=e.c,B=e.s,J=e.b,z=e.d},function(e){E=e.a},function(e){M=e.default},function(e){T=e.u},function(e){U=e.B},function(e){V=e.default},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const W=e=>(x("data-v-45d4afa6"),e=e(),I(),e),Z={key:0},G=[W((()=>m("div",{class:"__skeleton_free_content__"},[m("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[m("div",{class:"page-free-product-detail"},[m("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[m("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),m("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[m("div",{class:"container"},[m("div",{class:"title"},[m("svg",{class:"svg-icon icon-free-arrow"},[m("use",{"xlink:href":"#icon-free-arrow"})]),m("span",null,[m("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),m("svg",{class:"svg-icon icon-free-arrow"},[m("use",{"xlink:href":"#icon-free-arrow"})])]),m("div",{class:"page-info-wrapper"},[m("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[m("form",{class:"van-form"},[m("div",{class:"com-card"},[m("div",{class:"com-card-wrap"},[m("div",{class:"header"}),m("div",{class:"body",style:{height:"auto"}},[m("div",{class:"com-personal-wrapper"},[m("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[m("div",{class:"van-cell__title van-field__label van-field__label--left"},[m("label",{id:"van-field-1-label",for:"van-field-1-input"},[m("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),m("div",{class:"van-cell__value van-field__value"},[m("div",{class:"van-field__body"},[m("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),m("div",{class:"van-field__right-icon"})])])]),m("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[m("div",{class:"van-cell__title van-field__label van-field__label--left"},[m("label",{id:"van-field-2-label",for:"van-field-2-input"},[m("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),m("div",{class:"van-cell__value van-field__value"},[m("div",{class:"van-field__body"},[m("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),m("div",{class:"van-field__right-icon"})])]),m("div",{class:"button-extra"},[m("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[m("div",{class:"van-button__content"},[m("span",{class:"van-button__text"},[m("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),m("div",{class:"pro-shadow-button submit-btn"},[m("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[m("div",{class:"van-button__content"},[m("span",{class:"van-button__text"},[m("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),m("div",{class:"com-attachment-list"},[m("span",null,[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),m("span",{class:"attachment-item"},[m("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),m("div",{class:"product-desc"},[m("div",{class:"van-image",style:{width:"100%"}},[m("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],Y={class:"page-upgrade-product-detail"},H={class:"footer-area"},Q={class:"price"},X={class:"num"},$=W((()=>m("span",{class:"unit"},"元/月",-1))),K=A(b("升级保障")),q=l({setup(e){const t=n((()=>w((()=>a.import("./index-legacy-4a61b1ec.js")),void 0))),l=n((()=>w((()=>a.import("./index-legacy-b87c10b2.js")),void 0))),A=T(),x=s(),I=i(),{productCode:W="",orderNo:q="",agencyCode:ee="",tenantId:ae="",saleChannelId:te="",extraInfo:le}=I.query;let ne={};try{ne=JSON.parse(decodeURIComponent(le))}catch(ke){}const{openId:se,indirectCode:ie="",agentCode:oe}=ne,ce=o(!0),re=o(),de=o();o();const pe=o(),ue=o(),ve=o(),fe=o(),me=o();o();const ge=o();o(!1),o(!1),o(0);const he=o(""),ye=c({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),be=()=>{ye.showFilePreview=!1,ye.isOnlyView=!0},Ae=e=>{const a=e.tenantOrderPaymentInfoList?.pop();return a?a.paymentMethod:3},we=async e=>{const a=J({tenantId:ae,premium:me.value,orderDetail:fe.value,productDetail:ue.value,insureDetail:ve.value,successJumpUrl:`${k}/baseInsurance/orderDetail?tenantId=${ae}&orderNo=${he.value}`,iseeBizNo:re.value}),t=await L({orderNo:e,...a}),{code:l,data:n}=t;"10000"===l&&x.push(`/baseInsurance/orderDetail?tenantId=${ae}&orderNo=${he.value}`)},_e=async e=>{try{_.loading({forbidClick:!0,message:"升级中",duration:0});const e=await(async()=>{const e=P({tenantId:ae,applicationNo:fe.value.applicationNo,policyNo:fe.value.policyNo,saleUserId:oe,saleChannelId:fe.value.saleChannelId,orderStatus:E.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:ue.value,insureDetail:ve.value,paymentMethod:Ae(fe.value),renewalDK:fe.value.extInfo?.extraInfo?.renewalDK,iseeBizNo:re.value,successJumpUrl:"",premium:me.value,holder:{...fe.value.tenantOrderHolder,socialFlag:fe.value.tenantOrderHolder.extInfo.hasSocialInsurance},insured:{...fe.value.tenantOrderInsuredList[0],socialFlag:fe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:S({tenantId:ae,riskList:D(B(ve.value.productRiskVoList[0].riskDetailVOList),ue.value),riskPremium:{},productId:ue.value?.id})}),a=await R(e),{code:t,data:l}=a;return"10000"===t?l.data:""})();await j({tenantId:ae,applicationNo:fe.value.applicationNo});if(he.value=e,ge.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),a=`${ge.value}&failUrl=${e}`;window.location.href=a,_.clear()}else we(e)}catch(a){_.clear()}},xe=async e=>{_e()},Ie=()=>{_.loading({forbidClick:!0,duration:2e4,message:"试算中"});const e=C({productCode:W,withInsureInfo:!0,tenantId:ae}),a=N({productCode:W}),t=O({orderNo:q,tenantId:ae});Promise.all([e,a,t]).then((([e,a,t])=>{"10000"===e.code&&(ue.value=e.data,document.title=e.data?.productFullName||""),"10000"===a.code&&(ve.value=a.data),"10000"===t.code&&(fe.value=t.data),ce.value=!1,(async()=>{try{const e=J({tenantId:ae,premium:me.value,orderDetail:fe.value,productDetail:ue.value,insureDetail:ve.value,successJumpUrl:""},z),a=await F(e),{code:t,data:l}=a;"10000"===t&&(me.value=l.installmentPremium,ge.value=l.signUrl)}catch(e){}finally{_.clear()}})(),(()=>{let e={};if(e=ue.value.tenantProductInsureVO.planInsureVO?.attachmentVOList||[],!e)return void(de.value=[]);const a={2:"richText",3:"link"};de.value=Object.keys(e).map((t=>(e[t].forEach((e=>{if("1"===e.attachmentType){const a=e.attachmentUri.split("?"),t=a[0].substr(a[0].lastIndexOf(".")+1);e.attachmentType="pdf"===t?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:t,attachmentList:e[t]})))||[]})()}))};return r((()=>{Ie(),setTimeout((async()=>{re.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const n=d("van-config-provider");return ce.value?(p(),u("div",Z,G)):(p(),v(n,{key:1,"data-skeleton-root":"FREE","theme-vars":h(A)},{default:f((()=>[m("div",Y,[g(U,{"data-skeleton-type":"img",url:ue.value?.tenantProductInsureVO?.banner[0]},null,8,["url"]),g(M,{ref_key:"formRef",ref:pe,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":!1,"input-align":"right","form-info":fe.value,"factor-object":ve.value?.productFactor},null,8,["form-info","factor-object"]),de.value&&de.value.length>0?(p(),v(h(t),{key:0,class:"attachment-bg","attachement-list":de.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:a[0]||(a[0]=e=>(e=>{ye.isOnlyView=!0,ye.activeIndex=e,ye.showFilePreview=!0})(e))},null,8,["attachement-list"])):y("",!0),m("div",H,[m("div",Q,[m("span",X,b(me.value),1),$]),g(V,{shadow:!1,"theme-vars":h(A),class:"right",text:"升级保障",onClick:xe},{default:f((()=>[K])),_:1},8,["theme-vars"])])]),h(ye).showFilePreview&&0!==de.value.length?(p(),v(h(l),{key:0,show:h(ye).showFilePreview,"onUpdate:show":a[1]||(a[1]=e=>h(ye).showFilePreview=e),"content-list":de.value,"is-only-view":h(ye).isOnlyView,"active-index":h(ye).activeIndex,text:h(ye).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:_e,onOnCloseFilePreview:be},null,8,["show","content-list","is-only-view","active-index","text"])):y("",!0)])),_:1},8,["theme-vars"]))}}});e("default",t(q,[["__scopeId","data-v-45d4afa6"]]))}}}))}();
