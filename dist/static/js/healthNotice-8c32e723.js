import{d as e,u as t,a,r as o,o as s,b as n,c as i,e as r,w as c,f as u,g as d,_ as l,h as p,i as m,j as f,k as I,D as j,l as q,m as v,B as y,n as b,P as h,p as N}from"./index-b1389c66.js";import{q as T}from"./product-26d73eda.js";import{g}from"./utils-a4040265.js";import{P as C}from"./index-a96750a5.js";import{n as O}from"./nextStep-33042c58.js";import{u as _}from"./useOrder-bb4f2295.js";import{P as x,B as P}from"./constants-7afb7c3d.js";import"./pdfh5-008ca364.js";import"./infoCollection-240dec52.js";import"./trial-e81258b3.js";import"./core-8e855159.js";import"./constant-8927d485.js";import"./merge-e7788e50.js";import"./keysIn-131bbce9.js";import"./isObjectLike-a9798079.js";const E=1;const k={class:"long-health-notice-wrap"},w={class:"footer-btn"},$=e({__name:"healthNotice",setup(e){const $=t(),Q=a(),S=_();console.log("route",$);const{productCode:U,orderNo:B,templateId:D,tenantId:L,preview:V,questionnaireId:A}=$.query,G=o({}),J=o(),M=o(),R=()=>{j.confirm({title:"",message:`${M.value||""}不符合当前产品投保条件，请选择其他产品`}).then((()=>{q()})).catch((()=>{}))},W=()=>{J.value?Q.push({path:`${$.path}/${J.value}`,query:{...$.query,questionnaireId:J.value}}):V?b(x.QUESTION_NOTICE,$.query):O(S.value,((e,t)=>{t===h.JUMP_PAGE&&N(e.nextPageCode,$.query)}))};return s((()=>{!V&&(async()=>{const{code:e,data:t}=await v({orderNo:B,tenantId:L});"10000"===e&&Object.assign(S.value,t,{extInfo:{...t.extInfo,templateId:D,pageCode:x.QUESTION_NOTICE,buttonCode:P.QUESTION_NOTICE}})})(),(async()=>{var e;const{code:t,data:a}=await T({productCode:U});if("10000"===t){const{productQuestionnaireVOList:t}=a||{};let o=t[0]||{};if((null==t?void 0:t.length)>1)if(A){const e=t.findIndex((e=>`${e.id}`===A));t[e]&&(o=t[e]),t[e+1]&&(J.value=t[e+1].id)}else J.value=null==(e=t[1])?void 0:e.id;const{questionnaireDetailResponseVO:s,questionnaireId:n,questionnaireName:i}=o||{},{questions:r,basicInfo:c}=s||{},{objectType:u,questionnaireType:d}=c||{};if(M.value=u,d===E){const{content:e,textType:t}=(null==r?void 0:r[0])||{};G.value={content:e,contentType:g(`${t}`,e),questionnaireId:n,questionnaireName:i}}else G.value={content:r,contentType:"question",questionnaireId:n,questionnaireName:i}}})()})),(e,t)=>{const a=y,o=n("ProPageWrap");return i(),r(o,null,{default:c((()=>[u("div",k,[d(G).content?(i(),r(l,{key:0,type:d(G).contentType,content:d(G).content},null,8,["type","content"])):p("",!0),u("div",w,[m(a,{onClick:R},{default:c((()=>[f("部分为是")])),_:1}),m(C,{shadow:!1,onClick:W},{default:c((()=>[I(e.$slots,"default",{},(()=>[f("以上皆否")]))])),_:3})])])])),_:3})}}});export{$ as default};
