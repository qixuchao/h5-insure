import{d as a,i as e,ac as l,z as t,o as n,c as s,a as d,f as i,u as o,b as r,q as u,e as c,F as p,w as f,a8 as m,a0 as h,ad as v,ae as y}from"./index-d0a5373e.js";import{P as C}from"./index-ffa88f0d.js";const k={class:"trial-button-wrap","safe-area-inset-bottom":""},x={class:"footer-area"},S=d("span",null,"分享",-1),g={class:"price"},q=d("div",{class:"label"},"首期总保费",-1),F={key:0},P=a({name:"trialButton"}),$=a({...P,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(a,{emit:P}){const $=a,b=e(""),A=e(""),E=l(),w=e(),D=e(),I=()=>{$.handleShare?$.handleShare((()=>D.value.handleShare(w.value))):D.value.handleShare(w.value)};return t([()=>$.premium,()=>$.tenantProductDetail,()=>$.paymentFrequency,()=>$.planCode],(([a])=>{const{PREMIUM:e=[]}=$.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===$.planCode||!a.planCode))||{};const t=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===$.paymentFrequency)),{premium:n,minActualUnit:s}=t||{};a?(A.value=s,b.value=a&&`${a}`):(A.value=n,b.value="")}else a&&(A.value="",b.value=a&&`${a}`)}),{deep:!0,immediate:!0}),t((()=>$.shareInfo),(a=>{w.value=a}),{deep:!0,immediate:!0}),(a,e)=>{const l=y;return n(),s("div",k,[d("div",x,[i(a.$slots,"right",{},(()=>[a.isShare&&o(E)?(n(),s("div",{key:0,class:"com-share",onClick:I},[r(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):u("",!0)])),d("div",g,[q,a.loadingText?(n(),s("span",F,c(a.loadingText),1)):(n(),s(p,{key:1},[d("span",null,c(o(b)),1),d("span",null,c(o(A)),1)],64))]),r(C,h(a.$attrs,{shadow:!1,class:"right",onClick:e[0]||(e[0]=a=>P("handleClick"))}),{default:f((()=>[i(a.$slots,"default",{},(()=>[m("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:D},o(w)),null,16)])}}});export{$ as _};
