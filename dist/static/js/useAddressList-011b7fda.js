import{_ as e}from"./index-feb421e3.js";import{h as a,r as t,k as s,l as n,p as l,N as o,C as i,L as r,v as c,j as u,x as d,Q as p,m as v,y as f,z as m,I as h,F as y,B as C,E as g,J as k,Z as b,ae as w,G as x,o as _}from"./vendor-2c18d14d.js";import{q as I,a as j}from"./product-c9ff025c.js";import{P as B}from"./index-a72d8dfa.js";var N=e(a({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(e){const a=e;return(e,o)=>{const i=t("van-image");return a.url?(s(),n(i,{key:0,width:"100%",class:"banner","lazy-load":"",src:a.url},null,8,["src"])):l("",!0)}}}),[["__scopeId","data-v-34cbd784"]]);const P={class:"pre-body"},A={class:"header"},L=["src"],O={class:"company-name"},S={class:"content"},T=C(" 为了更好地保护您的个人信息，请在使用前点击阅读、充分理解"),q=C("相关内容，我们对您使用过程中可能出现的个人信息收集、使用、共享和保护等情况进行了详细说明。 您已进入投保流程，请仔细阅读"),z=C("、投保须知、保险条款等信息，为维护您的合法权益，您的操作轨迹将被记录。 "),D={class:"footer"};var E=e(a({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,n=o(),{tenantId:l=""}=n.query,C=i(!1),g=i(!1),k=r({insureConfig:{insureName:"",tenantName:""}}),b=i({title:"",link:""}),w=c((()=>{if(b.value.link){const e=(b.value.link||"").split("?");return"pdf"===(b.value.link||"").substr(e[0].lastIndexOf(".")+1)?"pdf":"picture"}return"link"})),x=(e,a)=>{var t;g.value=!g.value,b.value.link=null==(t=k.insureConfig)?void 0:t[a].link,b.value.title=e.target.innerText};return u((()=>{(async()=>{const{code:e,data:t}=await I({insureCode:a.productDetail.insurerCode,tenantId:l});"10000"===e&&(k.insureConfig=t),C.value=!0})()})),(e,a)=>{var n;const l=t("ProPopup"),o=t("ProFilePreview");return s(),d(y,null,[p(l,{class:"pre-notice-wrap","close-on-click-overlay":!1,show:C.value,closeable:!1,height:"395px"},{default:v((()=>[f("div",P,[f("div",A,[f("img",{src:m("/static/assets/logo.65e1895e.png")},null,8,L),f("div",O," 由"+h(m(k).insureConfig.tenantName)+"提供保险经纪服务，"+h(m(k).insureConfig.insureName)+"承保 ",1)]),f("div",S,[T,f("span",{onClick:a[0]||(a[0]=e=>x(e,"privacyAgreement"))},"《用户隐私协议》"),q,f("span",{onClick:a[1]||(a[1]=e=>x(e,"notification"))},"《客户告知书》"),z]),f("div",D,[p(B,{shadow:!1,text:"我知道了",onClick:a[2]||(a[2]=e=>C.value=!1)})])])])),_:1},8,["show"]),p(l,{show:g.value,"onUpdate:show":a[3]||(a[3]=e=>g.value=e),class:"pre-notice-wrap",title:null==(n=b.value)?void 0:n.title,position:"bottom",style:{height:"600px"}},{default:v((()=>{var e;return[p(o,{content:null==(e=b.value)?void 0:e.link,type:m(w)},null,8,["content","type"])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-11d7b8af"]]);const F=["onClick"];var G=e(a({props:{preText:{type:String,default:""},hasBgColor:{type:Boolean,default:!0},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup:(e,{emit:a})=>(t,n)=>(s(),d("div",{class:k({"com-attachment-list":!0,"has-bg":e.hasBgColor})},[f("span",null,h(e.preText),1),(s(!0),d(y,null,g(e.attachementList||[],((e,t)=>(s(),d("span",{key:t,class:"attachment-item",onClick:e=>(e=>{a("preview-file",e)})(t)}," 《"+h(e.attachmentName)+"》 ",9,F)))),128))],2))}),[["__scopeId","data-v-5cafe498"]]);const J={class:"inscribedContent-content"},Q={class:"content"};var U=e(a({props:{inscribedContent:{type:String,default:""}},setup(e){const a=e,t=i();return b((()=>a.inscribedContent),(e=>{t.value=e?e.replaceAll("\n","<br />"):""}),{immediate:!0,deep:!0}),(e,a)=>{const n=w("dompurify-html");return s(),d("div",J,[x(f("div",Q,null,512),[[n,t.value]])])}}}),[["__scopeId","data-v-702b2de2"]]);const Z=(e,a,t)=>{_((()=>{(async()=>{try{const{code:t,data:s}=await j(e);if("10000"===t){const e={};s.forEach((a=>{e[a.relationCode]||(e[a.relationCode]=[]),e[a.relationCode].push(a)})),null==a||a(e)}}catch(s){null==t||t(!1)}})()}))};export{G as A,N as B,U as I,E as P,Z as u};
