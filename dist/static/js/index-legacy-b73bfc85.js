!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.select-comp-popup{--van-popup-round-border-radius: .26667rem}.select-comp-popup .com-pop-select{position:relative}.select-comp-popup .com-pop-select .empty-select{margin-top:2.77333rem}.select-comp-popup .com-pop-select .empty-select .empty-title{font-size:.4rem}.select-comp-popup .com-pop-select .title{position:sticky;top:0;background:#ffffff;z-index:1;text-align:center;padding:.34667rem 0;font-size:.42667rem;line-height:.66667rem;font-weight:500;color:#343434;border-bottom:1px solid #f4f5f7}.select-comp-popup .com-pop-select .title .back-icon{position:absolute;left:.4rem;line-height:.66667rem;top:.4rem;display:flex}.select-comp-popup .com-pop-select .title .back-icon .back-icon-left{display:flex;align-items:center}.select-comp-popup .com-pop-select .title .back-icon .back-icon-left img{width:.32rem;height:.37333rem}.select-comp-popup .com-pop-select .title .back-icon .back-icon-left span{color:#616161}.select-comp-popup .com-pop-select .title .back-icon .back-icon-right{color:#616161;margin-left:.26667rem}.select-comp-popup .com-pop-select .title .close-img{position:absolute;right:.4rem;top:.4rem}.select-comp-popup .com-pop-select .title .close-img img{width:.37333rem;height:.37333rem}.select-comp-popup .com-pop-select .van-cell-group--inset{margin:0;margin-bottom:2.66667rem}.select-comp-popup .com-pop-select .search{margin-top:.13333rem;--van-search-content-background-color: #f3f3f3}.select-comp-popup .com-pop-select .cell{--van-checkbox-border-color: #e1e1e1;padding:.4rem .4rem .4rem 0;margin-left:.4rem;border-bottom:.02667rem solid #f4f5f7!important}.select-comp-popup .com-pop-select .cell .van-radio__label{flex:1}.select-comp-popup .com-pop-select .van-cell:after{display:none}.select-comp-popup .com-pop-select .footer{width:100%;position:fixed;bottom:0;height:2rem;padding:.4rem;background:#ffffff;box-shadow:0 -.02667rem .13333rem #f6f6f6}.select-comp-popup .com-pop-select .footer .btn{width:100%;height:1.17333rem;background:var(--van-button-primary-background-color);border-radius:.6rem;display:block;margin:0 auto;color:#fff}.select-comp-popup .com-pop-select .empty{display:none;text-align:center;color:#969696}.select-comp-popup .com-pop-select .empty .img{width:2.66667rem;height:2.66667rem;margin:2.50667rem 0 .53333rem}\n',document.head.appendChild(e),System.register(["./index-legacy-4c8de798.js","./select-legacy-7de2a63e.js","./index-legacy-9604cbf9.js","./vendor-legacy-f56233fa.js"],(function(e){"use strict";var t,o,l,a,c,n,i,p,r,s,m,u,d,g,f,b,v,y,h,k,C,x,I,S,T,w;return{setters:[function(e){t=e._},function(e){o=e.b,l=e.e,a=e.q},function(e){c=e.u,n=e.h},function(e){i=e.g,p=e.C,r=e.a4,s=e.x,m=e.aa,u=e.r,d=e.k,g=e.h,f=e.j,b=e.y,v=e.m,y=e.z,h=e.s,k=e.n,C=e.p,x=e.E,I=e.I,S=e.F,T=e.B,w=e.M}],execute:function(){const V={class:"com-pop-select"},B={class:"title"},O=T(" 搜索 "),_={class:"back-icon"},N=["src"],A={class:"close-img"},j=["src"],D={class:"search"},J=["onClick"],L={class:"footer"},z=T("确定"),U=e("a",i({props:{title:{type:String,default:"搜索"},dataSource:{type:Array,default:()=>[]},dataIndex:{type:String,default:"name"},keyIndex:{type:String,default:"id"},visible:{type:Boolean,required:!0,default:()=>!1},mode:{type:String,default:"single"},showBackIcon:{type:Boolean,default:!1},showNextIcon:{type:Boolean,default:!0},selectValue:{type:Array,default:()=>[]},searchCurrentInfo:{type:Boolean,default:!1},clearSelect:{type:Boolean,default:!1},isTarget:{type:Boolean,default:!1}},emits:["on-submit","on-close","update:visible","onItemClick","onBackIconClick","onClear","onSearch"],setup(e,{emit:a}){const i=e,{getIconUrl:T}=c(),w=p((i.mode,[])),U=p(""),q=e=>"A"!==e.memberType&&((!i.isTarget||"T"!==e.memberType)&&!1!==i.showNextIcon);r(w,((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&"single"===i.mode&&(w.value=e[e.length-1]?[e[e.length-1]]:[])}));const E=()=>{a("on-close"),a("update:visible",!1)},F=()=>{i.mode,a("on-submit",i.dataSource.filter((e=>w.value.includes(e[i.keyIndex]))))};s((()=>w.value.length));const M=s((()=>i.searchCurrentInfo?i.dataSource.filter((e=>e[i.dataIndex]&&e[i.dataIndex].includes(U.value))):i.dataSource)),H=s((()=>(i.mode,"van-checkbox-group"))),R=s((()=>(i.mode,"van-checkbox")));r((()=>i.dataSource),((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(w.value=(i.mode,[]))})),r((()=>i.visible),(e=>{e&&i.selectValue&&(w.value=0!==Object.keys(m(i.selectValue)).length?i.selectValue.map((e=>e[i.keyIndex])):[])}),{immediate:!0}),r((()=>i.selectValue),((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&e[0]&&(w.value=[e[0].memberCode])}),{immediate:!0});const G=()=>{a("onBackIconClick")},K=e=>{a("onSearch",e)},P=()=>{a("onClear")};return(c,p)=>{const r=u("van-search"),s=u("van-icon"),m=u("van-cell"),Q=u("van-cell-group"),W=u("van-button"),X=u("van-popup");return d(),g(X,{show:e.visible,round:"",position:"bottom",class:"select-comp-popup",style:{height:"70%"},onClickCloseIcon:E},{default:f((()=>[b("div",V,[b("div",B,[O,b("div",_,[e.showBackIcon?(d(),v("div",{key:0,class:"back-icon-left",onClick:G},[b("img",{src:y(o),alt:""},null,8,N)])):h("",!0)]),b("div",A,[b("img",{src:y(n),alt:"",onClick:E},null,8,j)])]),b("div",D,[k(r,{modelValue:U.value,"onUpdate:modelValue":p[0]||(p[0]=e=>U.value=e),shape:"round",clearable:"","left-icon":y(T)("target.searchImg"),placeholder:"请输入搜索关键词",onSearch:K,onClear:P},null,8,["modelValue","left-icon"])]),(d(),g(C(y(H)),{modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=e=>w.value=e)},{default:f((()=>[k(Q,{inset:""},{default:f((()=>[(d(!0),v(S,null,x(y(M),((t,o)=>(d(),g(m,{key:o,class:"cell"},{title:f((()=>[(d(),g(C(y(R)),{shape:"multiple"===i.mode?"square":"round",name:t[e.keyIndex],"label-disabled":!0},{default:f((()=>[b("div",{onClick:e=>(e=>{a("onItemClick",e)})(t)},I(t[e.dataIndex]),9,J)])),_:2},1032,["shape","name"]))])),"right-icon":f((()=>[q(t)?(d(),g(s,{key:0,name:"arrow",color:"#DDDDDD",style:{marginRight:"15px"}})):h("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])),0===y(M).length?(d(),g(t,{key:0,"empty-img":y(l),title:"没有找到相关信息~","empty-class":"empty-select"},null,8,["empty-img"])):h("",!0),b("div",L,[k(W,{type:"primary",class:"btn",onClick:F},{default:f((()=>[z])),_:1})])])])),_:1},8,["show"])}}}));e("_",i({props:{visible:{type:Boolean,default:!1},mode:{type:String,default:"single"},dataValue:{type:Array,default:()=>[]},isTarget:{type:Boolean,default:!1}},emits:["on-submit","update:visible"],setup(e,{emit:t}){const o=e,l=p([]),c=p({}),n=p([]),i=p(!1);w((()=>{i.value=o.isTarget}));const s=()=>{var e,t;a({directLevel:1,memberType:null===(e=l.value[l.value.length-1])||void 0===e?void 0:e.memberType,memberCode:null===(t=l.value[l.value.length-1])||void 0===t?void 0:t.memberCode}).then((e=>{const{status:t}=e;200===t&&(o.dataValue.length>0?(n.value=o.dataValue,c.value=o.dataValue):o.isTarget?n.value=e.data.data.filter((e=>"A"!==e.memberType)):n.value=e.data.data)}))};r((()=>o.visible),(e=>{e&&s()}));const m=e=>{c.value=e,t("on-submit",e),t("update:visible",!1)},u=e=>{var t;a({directLevel:1,keyword:e,memberType:e?"ALL":"",memberCode:null===(t=l.value[l.value.length-1])||void 0===t?void 0:t.memberCode}).then((e=>{const{status:t}=e;200===t&&(o.isTarget?n.value=e.data.data.filter((e=>"A"!==e.memberType)):n.value=e.data.data)}))},f=()=>{s()},b=()=>{t("update:visible",!1)},v=e=>{o.isTarget?e.hasSubordinate&&"T"!==e.memberType&&(l.value.push({memberType:e.memberType,memberCode:e.memberCode}),s()):e.hasSubordinate&&(l.value.push({memberType:e.memberType,memberCode:e.memberCode}),s())},y=()=>{l.value.length>0&&(l.value.pop(),s())};return(t,o)=>(d(),g(U,{visible:e.visible,"data-source":n.value,"data-index":"agencyName",mode:e.mode,"clear-select":!0,"show-back-icon":l.value.length>0,"select-value":c.value,"is-target":i.value,"key-index":"agencyId",onOnSubmit:m,onOnClose:b,onOnItemClick:v,onOnBackIconClick:y,onOnSearch:u,onOnClear:f},null,8,["visible","data-source","mode","show-back-icon","select-value","is-target"]))}}))}}}))}();
