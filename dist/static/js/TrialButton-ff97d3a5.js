import{d as e,j as a,ac as l,B as t,o as n,c as s,a as d,g as i,u as o,b as r,f as u,e as c,F as p,w as m,a8 as f,a0 as h,ad as v,ae as y}from"./index-bfdeed22.js";import{P as C}from"./index-5ce2ec68.js";const k={class:"trial-button-wrap","safe-area-inset-bottom":""},g={class:"footer-area"},x=d("span",null,"分享",-1),S={class:"price"},b=d("div",{class:"label"},"首期总保费",-1),F={key:0},P=e({name:"trialButton"}),$=e({...P,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(e,{emit:P}){const $=e,q=a(""),A=a(""),E=l(),j=a(),w=a(),B=()=>{$.handleShare?$.handleShare((()=>w.value.handleShare(j.value))):w.value.handleShare(j.value)};return t([()=>$.premium,()=>$.tenantProductDetail,()=>$.paymentFrequency,()=>$.planCode],(([e])=>{const{PREMIUM:a=[]}=$.tenantProductDetail||{};let l={};if(null==a?void 0:a.length){l=(a||[]).find((e=>e.planCode===$.planCode||!e.planCode))||{};const t=((null==l?void 0:l.data)||[]).find((e=>e.paymentFrequency===$.paymentFrequency)),{premium:n,minActualUnit:s}=t||{};e?(A.value=s,q.value=e&&`${e}`):(A.value=n,q.value="")}else e&&(A.value="",q.value=e&&`${e}`)}),{deep:!0,immediate:!0}),t((()=>$.shareInfo),(e=>{j.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const l=y;return n(),s("div",k,[d("div",g,[i(e.$slots,"right",{},(()=>[e.isShare&&o(E)?(n(),s("div",{key:0,class:"com-share",onClick:B},[r(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),x])):u("",!0)])),d("div",S,[b,e.loadingText?(n(),s("span",F,c(e.loadingText),1)):(n(),s(p,{key:1},[d("span",null,c(o(q)),1),d("span",null,c(o(A)),1)],64))]),r(C,h(e.$attrs,{shadow:!1,class:"right",onClick:a[0]||(a[0]=e=>P("handleClick"))}),{default:m((()=>[i(e.$slots,"default",{},(()=>[f("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:w},o(j)),null,16)])}}});export{$ as _};
