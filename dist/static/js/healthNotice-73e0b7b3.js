import{d as e,u as t,a,r as o,o as n,b as s,c as i,e as r,w as u,f as c,g as d,_ as p,h as l,i as m,j as f,k as q,D as I,l as j,m as y,B as O,P as h}from"./index-e033b36d.js";import{q as v}from"./product-e44d1e32.js";import{g as b}from"./utils-60a3ce63.js";import{P as C}from"./index-81f6da60.js";import{n as N}from"./nextStep-21d6e41f.js";import{u as T}from"./useOrder-c3bc11f3.js";import{p as g}from"./pageJump-3989824c.js";import{P as x,B as _}from"./constants-7afb7c3d.js";import"./pdfh5-008ca364.js";import"./infoCollection-c8c9e5e0.js";import"./trial-99eb9978.js";import"./core-910dec53.js";import"./constant-c3f28a3b.js";const P=1;const Q={class:"long-health-notice-wrap"},V={class:"footer-btn"},L=e({__name:"healthNotice",setup(e){const L=t(),w=a(),E=T(),{productCode:k,orderNo:$,templateId:S,tenantId:U,questionnaireId:B}=L.query,D=o({}),J=o(),A=o(),G=()=>{I.confirm({title:"",message:`${A.value}不符合当前产品投保条件，请选择其他产品`}).then((()=>{j()})).catch((()=>{}))},M=()=>{J.value?w.push({path:L.path,query:{...L.query,questionnaireId:J.value}}):N(E.value,((e,t)=>{t===h.JUMP_PAGE&&g(e.nextPageCode,L.query)}))};return n((()=>{(async()=>{const{code:e,data:t}=await y({orderNo:$,tenantId:U});"10000"===e&&Object.assign(E.value,t,{extInfo:{...t.extInfo,templateId:S,pageCode:x.QUESTION_NOTICE,buttonCode:_.QUESTION_NOTICE}})})(),(async()=>{const{code:e,data:t}=await v({productCode:k});if("10000"===e){let e=t.productQuestionnaireVOList[0]||{};if(B){const a=t.productQuestionnaireVOList.findIndex((e=>`${e.questionnaireId}`===B));t.productQuestionnaireVOList[a]&&(e=t.productQuestionnaireVOList[a]),t.productQuestionnaireVOList[a+1]&&(J.value=t.productQuestionnaireVOList[a+1].questionnaireId)}const{questionnaireDetailResponseVO:a,questionnaireId:o,questionnaireName:n}=e||{},{questions:s,basicInfo:i}=a||{},{objectType:r,questionnaireType:u}=i||{};if(A.value=r,u===P){const{content:e,textType:t}=(null==s?void 0:s[0])||{};D.value={content:e,contentType:b(`${t}`,e),questionnaireId:o,questionnaireName:n}}else D.value={content:s,contentType:"question",questionnaireId:o,questionnaireName:n}}})()})),(e,t)=>{const a=O,o=s("ProPageWrap");return i(),r(o,null,{default:u((()=>[c("div",Q,[d(D).content?(i(),r(p,{key:0,type:d(D).contentType,content:d(D).content},null,8,["type","content"])):l("",!0),c("div",V,[m(a,{onClick:G},{default:u((()=>[f("部分为是")])),_:1}),m(C,{shadow:!1,onClick:M},{default:u((()=>[q(e.$slots,"default",{},(()=>[f("以上皆否")]))])),_:3})])])])),_:3})}}});export{L as default};
