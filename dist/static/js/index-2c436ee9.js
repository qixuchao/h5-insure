import{_ as e,d as a,r as l,ac as t,c as i,h as n,j as s,k as o,t as d,g as u,aL as r,a0 as c,n as v,aK as m,e as p,aM as f,K as A,L as b,b as g,f as h,w as y,F as k,i as P,X as V,x as w,J as C,B as R,a as I,u as x,G as S,y as O,S as N,a3 as M,l as U,aN as B,T as E,aO as L}from"./index-637b8a09.js";import{a as j,b as T,g as _}from"./proposalList-6bebcd13.js";import{q as Q,p as Z,c as z,a as X}from"./compositionProposal-69759e25.js";import{P as D}from"./index-355a6264.js";import{_ as K}from"./index-1bd97f4e.js";import"./pdfh5-008ca364.js";import"./echarts-c4404db3.js";const J={class:"container head-cover"},G={class:"info-detail"},F={class:"name"},H={class:"img"},q={key:0,src:"/static/assets/male.441ae760.png"},W={key:1,src:"/static/assets/female.2dc8cc10.png"},Y={clase:"p1"},$={class:"p2"},ee={class:"fe"},ae=(e=>(A("data-v-0ae855a4"),e=e(),b(),e))((()=>s("div",{class:"line"},null,-1))),le={class:"tp"};var te=e(a({__name:"InsuranceList",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,A=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保额",dataIndex:"amount"},{title:"保障期间",dataIndex:"coveragePeriod",width:110},{title:"缴费期间",dataIndex:"chargePeriod",width:110},{title:"保费",dataIndex:"premium",width:120}],b=l([]),g=e=>e===+f.MALE,h=e=>{const a=e.split("_");if("to_life"===e)return"保终身";switch(a[0]){case"year":return`${a[1]}年`;case"month":return`${a[1]}月`;case"day":return`${a[1]}天`;case"to":return`保至${a[1]}岁`;default:return""}},y=e=>{const a=e.split("_");switch(a[0]){case"year":return`${a[1]}年交`;case"month":return`${a[1]}月交`;case"to":return`交至${a[1]}岁`;case"single":return"趸缴";default:return""}};return t((()=>a.info),(e=>{(e=>{const a=[];null==e||e.forEach((e=>{const{riskName:l,amount:t,coveragePeriod:i,chargePeriod:n,premium:s}=e;a.push({riskName:l,amount:t,coveragePeriod:h(i),chargePeriod:y(n),premium:s})})),b.value=a})(null==e?void 0:e.proposalProductRiskVOList)}),{deep:!0,immediate:!0}),(l,t)=>{var f,h,y,k,P,V;return i(),n("div",J,[s("div",G,[s("div",F,[s("div",H,[g(null==(f=a.info)?void 0:f.gender)?(i(),n("img",q)):o("",!0),g(null==(h=a.info)?void 0:h.gender)?o("",!0):(i(),n("img",W))]),s("div",null,[s("p",Y,d(null==(y=a.info)?void 0:y.name),1),s("p",$,d(u(r)[null==(k=a.info)?void 0:k.gender])+"，"+d(u(c)().diff(null==(P=e.info)?void 0:P.birthday,"y"))+"岁",1)])]),s("div",ee,[v(" 首年保费： "),s("span",null,"¥"+d(u(m)(null==(V=a.info)?void 0:V.totalPremium)),1)])]),ae,s("div",le,[u(b).length>0?(i(),p(D,{key:0,columns:A,class:"table","data-source":u(b)},null,8,["data-source"])):o("",!0)])])}}}),[["__scopeId","data-v-0ae855a4"]]),ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAtCAMAAADBXShDAAABYlBMVEVHcEzb7f/r9P/a8P/T6f/////P5//p+//X///////q9v+62v/z+f/D3f/w9//E5P+52//x+P/R6v/z+f/J4//g9P/h8P/w9//g7/+32v/b7P/b7f+62/+72//L4/+83P/D4P/i8P/o8//u9v+32P/O5f/K4//w9v/S6P/////g7//Q5//d7v/f7v+83P/a7P/e7f/D4P/O5f/x9v/K4v+/3f/x+P+72v/z+f/J4v+73P/1+f/0+//0+f/R6f/o8//l8f+/3P+52v/N5v+22v/x9//Q5//g7v/a7P+22f/3/P/O5f/0+v/j8P/i7//g7v/w9//d7v/r9f/O5P/R5v/d7f/e7v+22P/v9//D3//I4v/O5f/b6/+12P/u9f/1+v/v9v+93P/N5P/u9v/f7v/z+f/d7f+42f/L4/+22P/O5f/c7P+62v/h7//1+v/v9//J4v/Q5v/H4f/x9//j8P++3f8KzdOCAAAAYXRSTlMAhy4jCwIQEQYEO6S0ISMyxa45+PYZ53urj7RXOfij8EB9iOZgkcm7aAH1YLn5me9HScRbeHjyKd6ZzohH6imvcFlycWrD4N/gv2C/47vEXY+XTtGn6tbihLbq+MDb05za7zgX5AAAAvJJREFUeNrtVWdX20AQPGPL3eAKmNiYDqaG3kLvJbQEQkmTm5AtB4zJ/8+V3ZOe/MIXPvEe90me2/Gc9nZGhJBPwZWFSBMxV1P73uXoRwvg7v8SH5jxmYBvNpxZSrrY43KxWH/Ix6bl3ulYtVAqVRwScO6Wc7n7xwEXAq4l1dA07VuIav8p1ik9P9cMe83D1UKhRPmor0yVOf1xEenjqsr5YYUEgZ7vgb2e5ypXr3QAEK1x+v3jkwvE/1K6Zmi6niIrRXZ4yh+E6s/PVL1A6ZcADFF6mdOjAkgxcUOj9G1yTNU5PQLVa9Uq5VdKlX0ARmo1If7UIoAWqm4wcb2PRPDwbVDdTdX54dsBWMXDx70C8KapPFefJ00xSq/n870eqPa0incfk3f5FegzCMwydUPXA/T5MMbevddPcPlbmfrwqQQ8RznW+U6fvPaAqtLGH7j5TS0PBtu4NpZ3d4w6nBYgO9I5tThJLGtyPBzoy5L39UbX6+/9MMZm/uWpKzdOncGnTsz8Q8PMV16cefA7nfmI8LvNcQWb48p2xxnguFf6fUX43ZY2JVva5Oxpo0LaBIvM7y9mXbkh68DveoomrXh3mbTOYVC3JG2uMWk1qh5WaM5zdTPns//J+XtrzrPD6zTnX/eVeV9veLmnz64vfBbAd+FwnLqtJS1b/UNOKxDaTm4KA/kXmGV2ms0hO2FTtx+VgLefWS6+ZbI308zvSWrgxJyY+Z9eLL4Sfp9IYLED/L6BwAb4PUnIL/T7Ouyto9/P8aDo91sFPJRBv4fIAvp9Darb0e9XAHyQfl8VwLz0+waZQ7/vQPUJ+n0CgC3p9y4BdKno902yA37Pn0H1Oap/J1BdA78/ueGqVPC73kUOUd2POY3qQ9jL3ZpQvyGwbpg8Zf+g7Q6K1l0T2WjR+Q4JRO9442/lVSQyvPPpFEuXtuP6w28eNtirvUKpdV0xgdWju1y802MCnkDGSB/M47/hjtxO2ABvSCFZ+Ys+KiE+J/8AdlNUC0LetfoAAAAASUVORK5CYII=";const ne=e=>(A("data-v-50f28e3f"),e=e(),b(),e),se={class:"container"},oe=ne((()=>s("div",{class:"common-title"},"利益演示",-1))),de={key:0,class:"benefit"},ue={class:"benefit-title"},re=ne((()=>s("div",{class:"line"},null,-1))),ce={key:0,class:"box-title box-title-chart"},ve=ne((()=>s("img",{src:ie,alt:""},null,-1))),me=ne((()=>s("img",{src:ie,alt:""},null,-1))),pe={key:1},fe={class:"box"},Ae={class:"box-title"},be=ne((()=>s("img",{src:ie,alt:""},null,-1))),ge=ne((()=>s("img",{src:ie,alt:""},null,-1))),he={class:"box-price"},ye={class:"text1"},ke={class:"text2"},Pe={key:2,style:{width:"100%, minWidth: 338px"}},Ve={class:"slider"},we=[ne((()=>s("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAASFBMVEVHcEwNbv8Mbf8TcP8Nbv8Nb/8Nb/8Nbv8qf/8Nb/8Nbv8Mb/8PcP8Nbv8Pcv8Mb/8Pb/8PcP8Ocf8Nbv8Ob/8Vf/8Nbv8Nbv+Jn3KrAAAAF3RSTlMAlLEZ0ID47wZx3WBTiDGeOUQk57UMuVjVO7sAAAHeSURBVHjarVjZkoMgEARkuURIXI///9Mtga0igkGZ6RcThXa6cTiGfIMbJ8aNFEIazqbRkR4Mmsn9BMn08IxFjdt+gW1Ut2lW/bt/wa9e70Wjc0lm8XSaqF9MLlHfiOrFM0dc1kG5zDX+aoVDU0vBrKo8tkykBvRrUDNPNHS4HE2aqPh8zfNOoUeaa6ok/U0uYEWuv+2jsKSKcQ/wijShfGw7VuOJzzS5BR1b24o/oqa75aco2s/hvpnJbcwmvPnUQ/F0t4Hy3fzT0jiiDV2FuvitfIxn4fMDx19nYZ48hj+J0+n/Yyj+oWSVMcIOBE/kmgdESRdoFpI65kMx9BEN4pgzoysjIKAYUsq5LQUECGkLvw5KRrrBjv7Dv9W2n8gGuxOjVP1ESiZF6QrTJglxRZZ1ZZwjY7wA4OIHMB0XBSFSB8MUFBoCggkuH/m7wIiWY+4IdB5G5IMoWSaa/WnAlukmiQhO5Zj2JsoOokIk20SyJKpI420iXkqrmO14k8eVZqMNP9oHiZYiaEmLNo1gTWxoUy3a5I+2HGEtkGhLNtomAmtbg7zRgm/9sDej8O0x/oYdfoTAP9TAj1nwgx/+URR+OIYf15ELCPCSBn6RBV72gRei8Etj+MU6tPLhH41GXfO43AIjAAAAAElFTkSuQmCC",alt:""},null,-1)))],Ce={style:{flex:"1",margin:"0px 5px"}},Re={class:"custom-button"},Ie=[ne((()=>s("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAS1BMVEVHcEwNb/8Nbv8Ocf8Mbv8Nbf8Nbv8Qcf8zmf8Nbv8Nbv8Wbv8Ocv8Nb/8Nb/8NcP8Nbf8PcP8cjf8Nbv8Nbv8NcP8OcP8Nbv8Nbv+sb0c3AAAAGHRSTlMAXpwhsunxPwX5khcy3m5xzVQJ0oh0Rrn3uGXUAAACAUlEQVR42q2YWZKFIAxFg4KAiLM+9r/SLgNdj24VFXM+tMrhmkCCJJCiYTOfrNBa2InPrIEcTMsr94+KtwYeMbKPO+HDxvsyi3AJxHJPSnWxjOVFPc91wW0s1Sm4RE7RiDTRC6qJRm2SV+bUzqP5oA5uD1w7T500quyDTF2ePlIHqb5MuBVMLwwkMEVw/dS9QftPXQZe4w3XAxzCgjkKLlHBKHZoj0M6uEXnkAObpEa/V7jJWqF3cjcZeN2WcJvS4pf/vaH6cPU+4du9ghgfhys8YvWRCRESL7XwkNZtyMixCecdHlNg3ql4LtHZY5gQDI5R/Z+IGXHdOItno53T5izGcVUZwbMkHZM4DknnlsggbfKEjP6axPwk5glB/c25z2ZQmStUbiZ90LjtQQ65QsC3++Y3qoZ8oQFjOShWKl9IVcEjf84WCpaEkGrfCLU+nBme3gg1PgDm7aTeCKntgRk9tPBGCCyO8oTHN0JoywR2n7BGxnS4UsgYs09cC2KXaEy7CzTbpZsAjSMVI9wlAmLmTZtMiMw1ssEmm36ygCRLEbKkJVtGqBY2sqWWbPEn+x1R/SDJftlkmwiqbQ3ZRotq60e/GQWZLkPSBYmk2rCTlRCERQ19mRUXfu2TMsQNVKUoVXFMVa5TNRCoWhpUTRb6tg99I4q+NUbfrAuoJ+3DH6O5cGG4augGAAAAAElFTkSuQmCC",alt:""},null,-1)))],xe=ne((()=>s("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Se={class:"btn-two"};var Oe=e(a({__name:"Benefit",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,r=l(0),c=l(0),f=l(0),A=l(),b=l(0),w=l(!0),C=e=>{if(!(null==e?void 0:e.benefitRiskResultVOList))return;const a=null==e?void 0:e.benefitRiskResultVOList[r.value];c.value=a.ageBegin+1,b.value=a.ageBegin+1,f.value=a.ageEnd},R=()=>{var e,l,t;const i=null==(l=null==(e=a.info)?void 0:e.benefitRiskResultVOList)?void 0:l[r.value],{a:n,year:s}=((e,a)=>{const l=[],t=[];for(let i=e,n=0;i<=a;i++,n++)l.push(i.toString()),t.push(n+1);return{a:l,year:t}})(c.value,f.value),o={index:n.indexOf(b.value.toString()),age:n,year:s,result:null==(t=null==i?void 0:i.benefitRiskItemResultVOList)?void 0:t[0]};A.value=o},I=()=>{b.value>f.value-1||(b.value+=1,R())},x=()=>{b.value>c.value&&(b.value-=1,R())},S=e=>{r.value=e.name,C(a.info),R()},O=e=>{w.value="1"===e};return t((()=>a.info),(e=>{e&&(C(e),R())}),{deep:!0,immediate:!0}),t(b,(()=>{R()})),(e,l)=>{const t=g("van-slider"),C=g("van-button"),R=g("van-tab"),N=g("van-tabs");return i(),n("div",se,[oe,h(N,{active:u(r),"title-active-color":"#0d6efe","title-inactive-color":"#393D46",shrink:"",onClickTab:S},{default:y((()=>{var e;return[(i(!0),n(k,null,P(null==(e=a.info)?void 0:e.benefitRiskResultVOList,((e,a)=>(i(),p(R,{key:a,name:a,title:e.riskName},{default:y((()=>{var g,R,S,N,M,U,B,E,L,j,T,_,Q,Z,z,X;return[a==u(r)?(i(),n("div",de,[s("div",ue,d(null==e?void 0:e.riskName),1),re,u(w)?o("",!0):(i(),n("p",ce,[ve,v(" 保单年度"),s("span",null,d(null==(S=null==(g=u(A))?void 0:g.year)?void 0:S[null==(R=u(A))?void 0:R.index]),1),v("年度，被保人"),s("span",null,d(null==(U=null==(N=u(A))?void 0:N.age)?void 0:U[null==(M=u(A))?void 0:M.index]),1),v("岁时 "),me])),u(w)?(i(),n("div",pe,[s("div",fe,[s("p",Ae,[be,v(" 保单年度"),s("span",null,d(null==(L=null==(B=u(A))?void 0:B.year)?void 0:L[null==(E=u(A))?void 0:E.index]),1),v("年度，被保人"),s("span",null,d(null==(_=null==(j=u(A))?void 0:j.age)?void 0:_[null==(T=u(A))?void 0:T.index]),1),v("岁时 "),ge]),s("div",he,[(i(!0),n(k,null,P(null==(Z=null==(Q=u(A))?void 0:Q.result)?void 0:Z.headers,((e,a)=>{var l,t,o,r,c;return i(),n("div",{key:a,style:{width:"33%"}},[s("p",ye,d(u(m)(Number(null==(c=null==(r=null==(t=null==(l=u(A))?void 0:l.result)?void 0:t.dataList)?void 0:r[null==(o=u(A))?void 0:o.index])?void 0:c[a]))),1),s("p",ke,d(e)+"(元）",1)])})),128))])])])):o("",!0),u(w)?o("",!0):(i(),n("div",Pe,[h(K,{min:u(c),max:u(f),current:u(b),data:null==(X=null==(z=u(A))?void 0:z.result)?void 0:X.benefitRiskItemList},null,8,["min","max","current","data"])])),s("div",Ve,[s("div",{class:"add lf",onClick:x},we),s("div",Ce,[u(c)?(i(),p(t,{key:0,modelValue:u(b),"onUpdate:modelValue":l[0]||(l[0]=e=>V(b)?b.value=e:null),min:u(c),max:u(f),"bar-height":"8px"},{button:y((()=>[s("div",Re,d(u(b))+" 岁",1)])),_:1},8,["modelValue","min","max"])):o("",!0)]),s("div",{class:"add rg",onClick:I},Ie)]),xe,s("div",Se,[h(C,{round:"",plain:!u(w),type:"primary",class:"btn",onClick:l[1]||(l[1]=e=>O("1"))},{default:y((()=>[v("图表展示")])),_:1},8,["plain"]),h(C,{round:"",plain:u(w),type:"primary",class:"btn",onClick:l[2]||(l[2]=e=>O("2"))},{default:y((()=>[v("趋势展示")])),_:1},8,["plain"])])])):o("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-50f28e3f"]]),Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAJFBMVEVHcEwGev8Ie/8He/8QhP8Hff8Lff8ff/8Kf/8HeP8Jev8KfP88zNEzAAAADHRSTlMATTtEDx4rCBgkNDEC504AAAAAu0lEQVR42t2TzRKDMAiEV35CSN7/fTtiKOnBWz2034nZRRxYBdCJeQgKGczUz6odgSLRS2hAPxaST6XQQVm25bUUCFxlUM1c3ljeKG9m6cvzFCbs3ZXkJAN61CRIhKI3FjRtTbFzCoZ/QSlX35an2HjmORPPc0Jvs9VHsm01/kLrJcY18mMoGyAcliExCktw0t0FO+Le8WOY3QnO8RUX/RQ8T1QRVUj0cLZzefMb2UY9tmzH9iOLqiDZhBeX/QTFelEoEAAAAABJRU5ErkJggg==";const Me={class:"container"},Ue={class:"common-title"},Be={class:"title"},Ee=(e=>(A("data-v-524d386a"),e=e(),b(),e))((()=>s("img",{src:Ne,class:"ig"},null,-1))),Le={class:"product-detail"};var je=e(a({__name:"LiabilityByRisk",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const o=g("van-collapse-item"),u=g("van-collapse");return i(),n("div",Me,[(i(!0),n(k,null,P(null==(t=a.info)?void 0:t.liabilityByRiskVOList,((e,a)=>(i(),n("div",{key:a},[s("div",Ue,[s("div",Be,[Ee,v(" "+d(e.riskName),1)])]),s("div",Le,[h(u,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:y((()=>[(i(!0),n(k,null,P(e.proposalRiskLiabilityVOList,((e,a)=>(i(),p(o,{key:a,title:e.liabilityName,name:a,"value-class":"price",value:e.liabilityIndemnityContent},{default:y((()=>[v(d(e.liabilityDesc),1)])),_:2},1032,["title","name","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])))),128))])}}}),[["__scopeId","data-v-524d386a"]]);const Te={class:"container"},_e={class:"common-title"},Qe={class:"title"},Ze=(e=>(A("data-v-4990fe38"),e=e(),b(),e))((()=>s("img",{src:Ne,class:"ig"},null,-1))),ze={class:"product-detail"};var Xe=e(a({__name:"LiabilityByRes",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const o=g("ProCell"),u=g("van-collapse-item"),r=g("van-collapse");return i(),n("div",Te,[(i(!0),n(k,null,P(null==(t=a.info)?void 0:t.liabilityByTopTypeVOList,((e,a)=>(i(),n("div",{key:a},[s("div",null,[s("div",_e,[s("div",Qe,[Ze,v(" "+d(e.liabilityTopTypeName),1)])]),s("div",ze,[h(r,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:y((()=>[(i(!0),n(k,null,P(Object.keys(e.proposalRiskLiabilityVOMap),((a,l)=>(i(),p(u,{key:l,title:a,name:l,"value-class":"price"},{default:y((()=>[(i(!0),n(k,null,P(e.proposalRiskLiabilityVOMap[a],(e=>(i(),p(o,{key:e.liabilityId,title:e.liabilityName,content:e.liabilityIndemnityContent||""},null,8,["title","content"])))),128))])),_:2},1032,["title","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])])))),128))])}}}),[["__scopeId","data-v-4990fe38"]]);const De=e=>(A("data-v-ca64694e"),e=e(),b(),e),Ke={class:"com-insured-product-wrapper"},Je={class:"container"},Ge=De((()=>s("span",{class:"clear-all"},null,-1))),Fe=De((()=>s("span",{class:"title"}," 选择投保产品 ",-1))),He={class:"popup-body"},qe={class:"cell-title"},We={class:"title"},Ye={class:"error-message"},$e={class:"footer-button"};var ea=e(a({__name:"index",props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(e,{emit:a}){const o=e,r="已通过计划书进行投保",c="产品未授权，无法进行投保",m="产品暂不支持计划书转投保",f=l(""),A=l(null),b=l({isShow:o.isShow}),C=w((()=>e=>1===e.insured?r:1!==e.authStatus?c:1!==e.insureMethod?m:"")),R=()=>{a("close")};return t((()=>o.isShow),(e=>{b.value.isShow=e})),(l,t)=>{const o=g("van-radio"),r=g("VanCell"),c=g("van-cell-group"),m=g("van-radio-group"),w=g("VanButton"),I=g("VanPopup");return i(),n("div",Ke,[h(I,{show:u(b).isShow,"onUpdate:show":t[2]||(t[2]=e=>u(b).isShow=e),position:"bottom",onClose:R},{default:y((()=>[s("div",Je,[s("div",{class:"popup-header"},[Ge,Fe,s("span",{onClick:R},"X")]),s("div",He,[h(m,{modelValue:u(f),"onUpdate:modelValue":t[0]||(t[0]=e=>V(f)?f.value=e:null)},{default:y((()=>[h(c,null,{default:y((()=>[(i(!0),n(k,null,P(e.dataSource,(e=>(i(),p(r,{key:e.productCode,onClick:a=>{return l=e,void(C.value(l)||(A.value=l,f.value=l.productCode));var l}},{"right-icon":y((()=>[h(o,{name:e.productCode,disabled:!!u(C)(e)},null,8,["name","disabled"])])),title:y((()=>[s("div",qe,[s("div",We,[s("p",null,d(e.productName),1),s("span",Ye,d(u(C)(e)),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),s("div",$e,[h(w,{block:"",type:"primary",disabled:!u(f),onClick:t[1]||(t[1]=e=>a("finished",u(A)))},{default:y((()=>[v("立即投保")])),_:1},8,["disabled"])])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-ca64694e"]]);const aa={class:"popup-body"},la={class:""},ta={class:"radio-wrap"},ia=["onClick"],na={class:"footer"},sa=a({__name:"index",props:{show:{type:Boolean,default:!1},themeList:{default:()=>[]}},emits:["submit","update:show"],setup(e,{emit:a}){var t,o;const r=e,{show:c,themeList:m}=u(r),f=l(null==(t=null==m?void 0:m[0])?void 0:t.id),A=l(null==(o=null==m?void 0:m[0])?void 0:o.id),b=()=>{var e;a("submit",A.value?f.value||(null==(e=null==m?void 0:m[0])?void 0:e.id):A.value)};return(e,l)=>{const t=g("van-switch"),o=g("van-cell"),r=g("VanRadio"),w=g("VanCellGroup"),I=g("VanRadioGroup"),x=g("VanButton"),S=g("ProPopup");return i(),p(S,{show:u(c),"onUpdate:show":l[2]||(l[2]=e=>V(c)?c.value=e:null),class:"theme-select-wrap",title:"选择计划书封面",onClose:l[3]||(l[3]=e=>a("update:show",!1))},{default:y((()=>[s("div",aa,[h(o,{center:"",title:"封面图"},{"right-icon":y((()=>[h(t,{modelValue:u(A),"onUpdate:modelValue":l[0]||(l[0]=e=>V(A)?A.value=e:null),"inactive-value":0,"active-value":u(m)[0].id,size:"24"},null,8,["modelValue","active-value"])])),_:1}),s("div",la,[h(I,{modelValue:u(f),"onUpdate:modelValue":l[1]||(l[1]=e=>V(f)?f.value=e:null)},{default:y((()=>[h(w,{inset:""},{default:y((()=>[s("div",ta,[(i(!0),n(k,null,P(u(m),(e=>(i(),n("div",{key:e.id,class:"radio-item"},[s("div",{class:"radio-img",style:C({backgroundImage:`url(${e.showConfig.thumbnailImage})`}),onClick:a=>{return l=e.id,void(f.value=l);var l}},[h(r,{name:e.id},null,8,["name"])],12,ia),s("span",{class:R(""+(u(f)===e.id?"checked":""))},d(e.name),3)])))),128))])])),_:1})])),_:1},8,["modelValue"])])]),s("div",na,[h(x,{type:"primary",disabled:!(u(f)||!u(A)),block:"",onClick:b},{default:y((()=>[v("确定")])),_:1},8,["disabled"])])])),_:1},8,["show"])}}});const oa=e=>(A("data-v-50b0e2c8"),e=e(),b(),e),da={class:"page-composition-proposal"},ua={class:"head-bg"},ra={class:"container"},ca=oa((()=>s("div",{class:"common-title"},"保险公司简介",-1))),va=oa((()=>s("span",{class:"poiner"},null,-1))),ma={key:0,class:"footer-btn"};var pa=e(a({__name:"index",setup(e){const a=l(!0),r=I(),m=x(),{isShare:A,id:b,themeId:C}=r.query,R=l(),D=l(""),K=l(""),J=l({}),G=l([]);l();const[F,H]=S(),[q,W]=S(),Y=l(""),$=l([]),ee=l(),ae=l("share");let le="";const ie=()=>{a.value=!a.value},ne=w((()=>!!G.value.filter((e=>1===e.authStatus&&1===e.insureMethod)).length));t((()=>R.value),(e=>{const{gender:a,name:l,birthday:t}=e,i=c().diff(t,"y");(e=>e===+f.MALE)(a)?K.value=`${l||i}岁先生的计划书`:K.value=`${l||i}岁女士的计划书`}));const se=e=>{var a;J.value={title:`${null==(a=R.value)?void 0:a.name}的计划书`,desc:"您的贴心保险管家",link:e,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg"}},oe=e=>{const{productCode:a,insurerCode:l,tenantProductCode:t}=e;z({productCode:a,proposalId:b}).then((({code:e,data:a,message:i})=>{"10000"===e&&(a?L({insurerCode:l,productCode:t,proposalId:b}).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a)})):E(i))}))},de=()=>{var e,a;1===(null==(e=G.value)?void 0:e.length)?oe(null==(a=G.value)?void 0:a[0]):H(!0)},ue=e=>{ae.value="pdf",b?(E.loading({message:"PDF生成中...",forbidClick:!0}),_({id:b,themeHistoryId:e}).then((e=>{const{code:a,message:l}=e;"10000"===a&&(E.clear(),l?m.push(`/pdfViewer?url=${encodeURIComponent(l)}&title=${K.value}`):E("计划书为空"))}))):E("PDF生成失败")},re=async e=>{if(e){const{code:a,data:l}=await X({themeId:e,proposalId:b});"10000"===a&&(W(!1),"pdf"===ae.value?ue(l):(le=`${B}/proposalCover?id=${b}&isShare=1&tenantId=${D.value}&themeId=${l}`,se(le),setTimeout(ee.value.handleShare,100)))}else W(!1),"pdf"===ae.value?ue():(le=`${B}/proposalCover?id=${b}&isShare=1&tenantId=${D.value}`,se(le),setTimeout(ee.value.handleShare,100))},ce=()=>{ae.value="pdf",$.value.length?W(!0):ue()};return O((()=>{if(r.query.token){new N({source:"localStorage"}).set("token",r.query.token)}A||(Z({proposalId:b}).then((({code:e,data:a})=>{"10000"===e&&(G.value=a)})),(async()=>{const{code:e,data:a}=await Q();"10000"===e&&($.value=a||[])})()),(async()=>{try{let e=null;e=A?await j(`${b}?tenantId=${r.query.tenantId}`):await T(b);const{code:a,data:l}=e;if("10000"===a){const e=(null==l?void 0:l.proposalInsuredVOList[0])||{};R.value=e,D.value=null==l?void 0:l.tenantId,le=`${B}/proposalCover?id=${b}&isShare=1&tenantId=${D.value}`,se(le)}}catch(e){E("接口请求失败")}})()})),(e,l)=>{const t=g("van-collapse-item"),r=g("van-collapse"),c=g("van-button"),m=g("ProPageWrap");return i(),p(m,null,{default:y((()=>[s("div",da,[s("div",ua,d(u(K)),1),h(te,{info:u(R)},null,8,["info"]),s("div",{class:"switch-btn",onClick:ie},d(u(a)?"按责任显示":"按险种显示"),1),u(a)?(i(),p(je,{key:0,info:u(R)},null,8,["info"])):(i(),p(Xe,{key:1,info:u(R)},null,8,["info"])),h(Oe,{info:u(R)},null,8,["info"]),s("div",ra,[ca,h(r,{modelValue:u(Y),"onUpdate:modelValue":l[0]||(l[0]=e=>V(Y)?Y.value=e:null),accordion:"","is-link":!1,border:!1,size:"middle"},{default:y((()=>{var e;return[(i(!0),n(k,null,P(null==(e=u(R))?void 0:e.insurerInfoVOList,((e,a)=>(i(),p(t,{key:a,name:a,"value-class":"price"},{title:y((()=>[s("div",null,[va,v(" "+d(null==e?void 0:e.insurerName),1)])])),default:y((()=>[v(" "+d(e.insurerDesc),1)])),_:2},1032,["name"])))),128))]})),_:1},8,["modelValue"])])]),u(A)?o("",!0):(i(),n("div",ma,[h(M,{ref_key:"shareButtonRef",ref:ee,title:u(J).title,desc:u(J).desc,link:u(J).link,"img-url":u(J).imgUrl},{default:y((()=>[h(c,{type:"primary",class:"share-btn",onClick:l[1]||(l[1]=U((()=>(ae.value="share",void($.value.length?W(!0):ee.value.handleShare()))),["stop"]))},{default:y((()=>[v("分享")])),_:1})])),_:1},8,["title","desc","link","img-url"]),h(c,{plain:"",type:"primary",class:"btn",onClick:ce},{default:y((()=>[v("生成PDF")])),_:1}),u(ne)?(i(),p(c,{key:0,type:"primary",class:"btn",onClick:de},{default:y((()=>[v("立即投保")])),_:1})):o("",!0)])),u(F)?(i(),p(ea,{key:1,"is-show":u(F),"data-source":u(G),onFinished:oe,onClose:l[2]||(l[2]=e=>u(H)(!1))},null,8,["is-show","data-source"])):o("",!0),(i(),p(sa,{key:+u(q),show:u(q),"onUpdate:show":l[3]||(l[3]=e=>V(q)?q.value=e:null),"theme-list":u($),onSubmit:re},null,8,["show","theme-list"]))])),_:1})}}}),[["__scopeId","data-v-50b0e2c8"]]);export{pa as default};
