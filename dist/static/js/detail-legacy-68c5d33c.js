!function(){var e=document.createElement("style");e.innerHTML=".popup-body{width:100%;height:100%}.previewSign{width:1.33333rem;height:1.33333rem}.sign-container-wrap{width:100%;padding-left:2rem;height:100%;display:flex;flex-direction:row-reverse;justify-content:space-between;overflow:hidden}.sign-container-wrap .operate-bar{position:absolute;width:100vh;display:flex;align-items:center;transform:rotate(90deg) translate(8rem);padding-left:1.33333rem}.sign-container-wrap .com-sign-wrapper{width:100%;height:100%}.sign-container-wrap .com-sign-wrapper .placeholder{transform:rotate(90deg)}.net-sale-wrap[data-v-0aaad64f]{padding:0 var(--zaui-page-border, .4rem) 2rem;background-color:#f4f4f4}.net-sale-wrap .part[data-v-0aaad64f]{border-radius:.05333rem;margin-bottom:.13333rem}.net-sale-wrap .common-cell-wrapper[data-v-0aaad64f]{height:1.38667rem;align-items:center;width:100%;display:inline-flex}.net-sale-wrap .common-cell-wrapper[data-v-0aaad64f] .cell-container{align-items:flex-start;justify-content:center;width:100%;color:var(--van-field-label-color);font-size:.4rem}.net-sale-wrap .sign-cell[data-v-0aaad64f]{display:flex;align-items:center;justify-content:space-between}.net-sale-wrap[data-v-0aaad64f] .van-field__value{align-items:flex-end}\n",document.head.appendChild(e),System.register(["./vendor-legacy-a21b9e86.js","./theme-legacy-2a115a2b.js","./trial-legacy-3622a597.js","./nextStep-legacy-d5f13941.js","./verify-legacy-41338b1b.js","./product-legacy-05272ea8.js","./order-legacy-518e791d.js","./index-legacy-60171a77.js","./index-legacy-6d065898.js","./infoCollection-legacy-a642e406.js","./relativeTime-legacy-73264481.js","./useDicData-legacy-e8389ffd.js"],(function(e){"use strict";var t,a,n,l,o,r,i,d,c,s,u,f,p,v,m,g,y,w,h,b,I,j,x,C,_,E,L,N,O,S,T,R,k;return{setters:[function(e){t=e.k,a=e.r,n=e.b,l=e.p,o=e.s,r=e.B,i=e.C,d=e.E,c=e.y,s=e.S,u=e.v,f=e.H,p=e.G,v=e.u,m=e.aa,g=e.o,y=e.t,w=e.M,h=e.T,b=e.a5,I=e.a6},function(e){j=e.u},function(e){x=e.g,C=e.a,_=e.i},function(e){E=e._,L=e.n},function(e){N=e.s},function(e){O=e.p},function(e){S=e.a},function(e){T=e._,R=e.aa},function(e){k=e.P},function(){},function(){},function(){}],execute:function(){const H={class:"sign-wrap"},P=["src"],V=p("点击签字"),A={class:"popup-body"},B={class:"sign-container-wrap"},D={class:"operate-bar"},U=i("span",null,"请投保人正楷签署您的签名:",-1),z=p("返回"),F=p("重写"),G=p("确定签字"),M=t({props:{option:{default:{}},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const p=a(!1),v=a(),m=n((()=>{let e="";return v.value&&(e=v.value.save()),e})),g=()=>{p.value=!0},y=()=>{p.value=!1},w=()=>{v.value?.clear?.()},h=()=>{t("update:modelValue",m.value),p.value=!1};return(e,t)=>{const a=l("van-button"),n=l("ProSign"),b=l("van-popup");return o(),r(f,null,[i("div",H,[d(m)?(o(),r("img",{key:0,class:"previewSign",src:d(m),alt:""},null,8,P)):c("",!0),s(a,{type:"primary",size:"small",onClick:g},{default:u((()=>[V])),_:1})]),s(b,{show:p.value,"onUpdate:show":t[0]||(t[0]=e=>p.value=e),position:"bottom",style:{height:"100%"}},{default:u((()=>[i("div",A,[i("div",B,[s(n,{ref_key:"signRef",ref:v},null,512),i("div",D,[U,s(a,{type:"default",onClick:y},{default:u((()=>[z])),_:1}),s(a,{type:"default",onClick:w},{default:u((()=>[F])),_:1}),s(a,{type:"default",disabled:!d(m),onClick:h},{default:u((()=>[G])),_:1},8,["disabled"])])])])])),_:1},8,["show"])],64)}}});const Y={class:"net-sale-wrap"},q={class:"part"},J={class:"product-name"},W={class:"part"},X={class:"part"},$={class:"part"},K={class:"sign-cell"},Q=(e=>(b("data-v-0aaad64f"),e=e(),I(),e))((()=>i("div",{class:"sign-label"},"签名",-1))),Z={class:"footer-button"};e("default",T(t({setup(e){const t=j(),n=v();m();const{orderNo:r="2022120119060692150",tenantId:f="9991000001",productCode:p="HTEJBX"}=n.query;a();const b=a({}),I=a({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:f,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:f}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),T=a(),H=a(),P=a(""),V=async()=>{P.value?(await N("HOLDER",P.value,I.value.id,`${f}`),L(I.value)):h("请先签字")};return g((()=>{(async()=>{const{code:e,data:t}=await _({productCode:p,tenantId:f});"10000"===e&&(T.value=t,b.value=t.productFactor)})(),(async()=>{const{data:e,code:t}=await O({productCode:p,tenantId:f});"10000"===t&&(H.value=e)})(),(async()=>{const{code:e,data:t}=await x({orderNo:r,tenantId:f});if("10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",I.value=t,t.orderStatus===S.PAYING)){I.value.extInfo.redirectUrl="";const{code:e,data:t}=await C(I.value);"10000"===e&&R(t.paymentUrl)}})()})),(e,a)=>{const n=l("ProCell"),r=l("ProCard"),f=l("van-cell"),p=l("ProPageWrap"),v=l("van-config-provider");return o(),y(v,{"theme-vars":d(t)},{default:u((()=>[s(p,null,{default:u((()=>[i("div",Y,[I.value.id?(o(),y(r,{key:0,"show-line":!1,title:"投保信息"},{default:u((()=>[i("div",q,[i("div",J,w(T.value?.productBasicInfoVO.productFullName),1)]),i("div",W,[s(n,{title:"保费",content:I.value.orderAmount},null,8,["content"]),s(n,{title:"保险期限",content:I.value.tenantOrderInsuredList[0]?.planName},null,8,["content"]),s(n,{title:"起保日期",content:I.value.commencementTime},null,8,["content"]),s(n,{title:"终保日期",content:I.value.expiryDate},null,8,["content"]),s(n,{title:"保单状态",content:I.value.orderStatus},null,8,["content"])]),i("div",X,[s(n,{title:"订单编号",content:I.value.orderNo},null,8,["content"]),s(n,{title:"销售人名称",content:""}),s(n,{title:"房屋地址",content:I.value.tenantOrderHolder?.extInfo?.familyAddress},null,8,["content"]),s(n,{title:"燃气编号",content:I.value.tenantOrderInsuredList?.[0]?.extInfo.subjectRelatedUserId},null,8,["content"])])])),_:1})):c("",!0),s(E,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":I.value,"factor-object":b.value,"input-align":"right"},null,8,["form-info","factor-object"]),s(r,{title:"阅读条款合同"},{default:u((()=>[i("div",$,[s(f,{title:"客户告知书","is-link":""})])])),_:1}),s(r,{title:"客户签名"},{default:u((()=>[i("div",K,[Q,s(M,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e)},null,8,["modelValue"])])])),_:1}),i("div",Z,[s(k,{text:"提交",onClick:V})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-0aaad64f"]]))}}}))}();
