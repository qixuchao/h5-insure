import{d as a,j as e,ac as l,z as n,o as t,c as s,a as d,g as i,u as o,b as r,f as u,e as c,F as p,w as m,a8 as f,a0 as h,ad as v,ae as y}from"./index-df1d7325.js";import{P as C}from"./index-7dc2e13c.js";const k={class:"trial-button-wrap","safe-area-inset-bottom":""},g={class:"footer-area"},x=d("span",null,"分享",-1),S={class:"price"},F=d("div",{class:"label"},"首期总保费",-1),P={key:0},$=a({name:"trialButton"}),b=a({...$,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:null},emits:["handleClick"],setup(a,{emit:$}){const b=a,q=e(""),A=e(""),E=l(),j=e(),w=e(),D=()=>{b.handleShare?b.handleShare((()=>w.value.handleShare(j.value))):w.value.handleShare(j.value)};return n([()=>b.premium,()=>b.tenantProductDetail,()=>b.paymentFrequency,()=>b.planCode],(([a])=>{const{PREMIUM:e=[]}=b.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===b.planCode||!a.planCode))||{};const n=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===b.paymentFrequency)),{premium:t,minActualUnit:s}=n||{};a?(A.value=s,q.value=a&&`${a}`):(A.value=t,q.value="")}else a&&(A.value="",q.value=a&&`${a}`)}),{deep:!0,immediate:!0}),n((()=>b.shareInfo),(a=>{j.value=a}),{deep:!0,immediate:!0}),(e,l)=>{const n=y;return t(),s("div",k,[d("div",g,[i(e.$slots,"right",{},(()=>[a.isShare&&o(E)?(t(),s("div",{key:0,class:"com-share",onClick:D},[r(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),x])):u("",!0)])),d("div",S,[F,a.loadingText?(t(),s("span",P,c(a.loadingText),1)):(t(),s(p,{key:1},[d("span",null,c(o(q)),1),d("span",null,c(o(A)),1)],64))]),r(C,h(e.$attrs,{shadow:!1,class:"right",onClick:l[0]||(l[0]=a=>$("handleClick"))}),{default:m((()=>[i(e.$slots,"default",{},(()=>[f("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:w},o(j)),null,16)])}}});export{b as _};
