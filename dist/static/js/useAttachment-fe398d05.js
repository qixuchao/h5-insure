import{g as t}from"./utils-730de5fd.js";import{i as a,z as e,a6 as l}from"./index-232d6b3e.js";var i=(i,n)=>{const m=a([]),u=a(0),o=a([]);return e([()=>{var t;return null==(t=i.value)?void 0:t.planCode},()=>n.value],(([a,e])=>{let i=null;if(null==e?void 0:e.length){const t=(e||[]).find((t=>t.planCode===a||!t.planCode));t&&(i=null==t?void 0:t.productMaterialMap)}i?(m.value=Object.keys(i).map((a=>({attachmentName:a,attachmentList:i[a].map((a=>({...a,materialSource:t(`${null==a?void 0:a.materialSource}`,null==a?void 0:a.materialContent)})))}))),o.value=m.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.popUpFlag===l.YES))}))).filter((t=>t.attachmentList.length)),u.value=o.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.mustReadFlag===l.YES))}))).filter((t=>t.attachmentList.length)).length||0):m.value=[]}),{deep:!0,immediate:!0}),{fileList:m,popupFileList:o,mustReadFileCount:u}};export{i as u};
