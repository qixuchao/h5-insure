import{G as e,d as o,r as t,a$ as r,aT as i,b as s,g as a,w as d,i as l,e as n,f as u,j as c,aQ as p,B as m,A as f,bL as k,R as v,c as L,a2 as h,U as C,V as b,bA as P,E as V,bM as y,aU as g,bN as O,bO as j,bE as _,al as I,am as R,ac as w,L as x,h as D,bP as T,bb as E,a as N,u as U,bQ as F,bR as S,o as $,bz as q,z as A,D as M,aR as B,b3 as z,au as Q,T as W}from"./index-fdf9fbd9.js";import{A as G}from"./index-796013b7.js";import{P as H,a as J,b as K,c as X}from"./index-e1df1afa.js";import{d as Y}from"./debounce-eed12388.js";import{P as Z,u as ee}from"./ProductTips-0136c1e3.js";import{_ as oe}from"./ProRenderFormWithCard.vue_vue_type_style_index_0_scoped_true_lang-74a0e54e.js";/* empty css              */import"./useDicData-98d08394.js";import"./bankCard-7705ac24.js";import{a as te,b as re,c as ie}from"./createProposal-31557edd.js";import{c as se,q as ae,p as de}from"./trial-86d96a2b.js";import{_ as le}from"./index-d97eb942.js";import{a as ne,b as ue}from"./format-b5e9d8b9.js";import"./pdfh5-008ca364.js";import"./keysIn-131bbce9.js";import"./isObjectLike-a9798079.js";import"./_getTag-d5b47d26.js";import"./index-ec9b49a8.js";import"./phoneVerify-1c5d373b.js";import"./merge-e7788e50.js";import"./index-f05baa4e.js";import"./infoCollection-3947dbc3.js";import"./cloneDeep-6abacc69.js";import"./TrialButton-0bfe8ee4.js";import"./index-d3989bc7.js";import"./useOrder-b626c4df.js";import"./index-69f39d88.js";import"./index-07b79811.js";import"./index-f730388f.js";import"./empty-ae586b6c.js";import"./box-title-13bb5195.js";import"./index-c98dd7bb.js";import"./echarts-ac920fed.js";import"./trial-339d4f4a.js";import"./utils-1d75aa4c.js";import"./constants-7afb7c3d.js";import"./nextStep-0b69958f.js";import"./core-dcd3bc29.js";import"./constant-8927d485.js";const ce={class:"trial-button"};var pe=e(o({__name:"TrialPopup",props:{productCode:{default:""},productName:{default:""}},emits:["finish"],setup(e,{expose:o,emit:f}){const k=e,v=t(null);r(i,{insuredFactorCodes:["hasSocialInsurance","occupationCodeList"],holderFactorCodes:["birthday","gender","hasSocialInsurance","occupationCodeList"]});const L=(e,o)=>{const{holder:t,insuredList:r,productCode:i}=e||{},{productList:s,...a}=(null==r?void 0:r[0])||{},{riskList:d,...l}=(null==s?void 0:s[0])||{},n=p(null==o?void 0:o.riskPremiumDetailVOList)?null==o?void 0:o.riskPremiumDetailVOList.reduce(((e,o)=>(e[o.riskCode]={initialPremium:o.initialPremium,initialAmount:o.initialAmount},e)),{}):{},u=(d||[]).map((e=>{var o,t;return{...e,initialPremium:null==(o=null==n?void 0:n[e.riskCode])?void 0:o.initialPremium,initialAmount:null==(t=null==n?void 0:n[e.riskCode])?void 0:t.initialAmount}}));return{productCode:i,holder:t,insuredPersonVO:a,insuredProductInfo:{productCode:i,...l,productName:k.productName,occupationCodeList:null==a?void 0:a.occupationCodeList,riskList:u}}};return o({...["open","close"].reduce(((e,o)=>(e[o]=(...e)=>{var t;null==(t=v.value)||t[o](...e)},e)),{}),formatData:L}),(o,t)=>{const r=m;return s(),a(le,{ref_key:"trialRef",ref:v,"hide-benefit":"","hide-popup-button":"",title:"选择保障方案",class:"proposal-trial","product-info":{productCode:e.productCode},"tenant-product-detail":{}},{trialBtn:d((e=>[l("div",ce,[n(r,{disabled:!u(v).getTrialSuccessFlag(),type:"primary",onClick:o=>(({trialData:e,riskPremium:o,personalInfoRef:t})=>"function"==typeof(null==t?void 0:t.canTrail)&&t.canTrail()?f("finish",L({...e,productCode:k.productCode},o)):"function"==typeof(null==t?void 0:t.validate)&&t.validate())(e)},{default:d((()=>[c("确定")])),_:2},1032,["disabled","onClick"])])])),_:1},8,["product-info"])}}}),[["__scopeId","data-v-4df98274"]]);const me={class:"com-risk-list-wrapper"},fe=(e=>(I("data-v-7d3c3028"),e=e(),R(),e))((()=>l("div",{class:"popup-title"},"选择附加险",-1))),ke={class:"risk-list"},ve={class:"cell-title"},Le={class:"title"},he={class:"footer-button"};var Ce=e(o({__name:"index",props:{riskList:{default:()=>[]},show:{type:Boolean,default:!1},collocationList:{default:()=>[]},disabled:{default:()=>[]},modelValue:{default:()=>[]}},emits:["finished","close","update:modelValue"],setup(e,{emit:o}){const r=e,i=t([]),p=t([]),I=t([...r.disabled]),R=f({show:r.show,currentChecked:[...r.modelValue]}),w=e=>{var o,t,s;if(I.value.includes(e))return;((e,o)=>{if(!r.collocationList.length)return o?void(R.currentChecked=[]):void R.currentChecked.push(e);let t=R.currentChecked,i=I.value;o?(r.collocationList.forEach((o=>{e===o.riskId&&(2===o.collocationType?t=t.filter((t=>t!==o.collocationRiskId||t!==e)):3===o.collocationType?(t=t.filter((o=>o!==e)),i=i.filter((e=>e!==o.collocationRiskId))):t=t.filter((o=>o!==e)))})),R.currentChecked=t,I.value=i):(r.collocationList.forEach((r=>{e===r.riskId&&(o||(2===r.collocationType?t.push(r.collocationRiskId):3===r.collocationType&&i.push(r.collocationRiskId),t.push(e)))})),R.currentChecked.push(...t),I.value=i)})(e,R.currentChecked.includes(e)),null==(s=null==(t=null==(o=null==i?void 0:i.value)?void 0:o[e])?void 0:t.toggle)||s.call(t)},x=()=>{o("close")},D=()=>{const e=r.riskList.filter((e=>R.currentChecked.includes(e.id)));o("update:modelValue",[...new Set(p.value)]),o("finished",e,I.value),o("close")};return k((()=>{i.value=[]})),v((()=>R.currentChecked),(e=>{p.value=e}),{deep:!0,immediate:!0}),v((()=>r.modelValue),(e=>{p.value=e||[],I.value.push(...e||[])}),{deep:!0,immediate:!0}),(o,t)=>{const r=y,f=g,k=O,v=j,T=m,E=_;return s(),L("div",me,[n(E,{show:u(R).show,"onUpdate:show":t[1]||(t[1]=e=>u(R).show=e),title:"选择附加险","show-footer":"",round:"",position:"bottom",closeable:"",onClose:x},{default:d((()=>[fe,l("div",ke,[n(v,{modelValue:u(p),"onUpdate:modelValue":t[0]||(t[0]=e=>h(p)?p.value=e:null)},{default:d((()=>[n(k,{inset:""},{default:d((()=>[(s(!0),L(C,null,b(e.riskList,(e=>(s(),a(f,{key:e.id,title:e.riskName,disabled:u(I).includes(e.id),onClick:o=>w(e.id)},{"right-icon":d((()=>[n(r,{ref_for:!0,ref:o=>u(i)[e.id]=o,shape:"square",disabled:u(I).includes(e.id),name:e.id,onClick:P((o=>w(e.id)),["stop"])},null,8,["disabled","name","onClick"])])),title:d((()=>[l("div",ve,[l("div",Le,V(e.riskName),1)])])),_:2},1032,["title","disabled","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),l("div",he,[n(T,{type:"primary",disabled:!u(R).currentChecked.length,block:"",onClick:D},{default:d((()=>[c("确认")])),_:1},8,["disabled"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-7d3c3028"]]);const be=e=>(I("data-v-3a61def2"),e=e(),R(),e),Pe={class:"com-product-list-wrapper"},Ve={class:"risk-item-wrapper"},ye={class:"content"},ge={class:"risk-factor"},Oe={class:"factor"},je={class:"factor-value"},_e=be((()=>l("span",{class:"factor-name"}," 保额(元) ",-1))),Ie={class:"factor"},Re={class:"factor-value"},we=be((()=>l("span",{class:"factor-name"}," 保障期间 ",-1))),xe={class:"factor"},De={class:"factor-value"},Te=be((()=>l("span",{class:"factor-name"}," 交费期间 ",-1))),Ee={class:"operate-bar-wrap"},Ne={class:"risk-premium"},Ue={class:"premium"},Fe={key:0,class:"operate-bar"},Se=o({name:"ProductList"});var $e=e(o({...Se,props:{productRiskList:{default:()=>[]},productInfo:{default:()=>({})},productData:{default:()=>({})},pickProductPremium:{type:Function,default:()=>{}},productNum:{default:0},errorMsg:{default:""},productIndex:null},emits:["deleteRisk","updateRisk","addRiderRisk"],setup(e,{emit:o}){const r=e,[i,p]=w(),m=t({checkedList:[],disabledList:[],riderRiskList:[],mainRiskData:{},totalPremium:0,currentRiskRecord:{},productRiskList:[]}),f=x((()=>{var e,o;return(null==(o=null==(e=r.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.filter((e=>1===e.collocationType)))||[]}));x((()=>{var e,o;const t=r.productRiskList.map((e=>e.riskId)),i=((null==(o=null==(e=r.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList)||[]).filter((e=>t.includes(e.id)&&1===e.collocationType));return f.value.length-i.length}));const k=x((()=>e=>{var o,t;const i=(null==(t=null==(o=r.productData)?void 0:o.productRiskVoList)?void 0:t[0].riskDetailVOList.find((o=>o.id!==e)))||{};let s=!1;return s=!!r.productNum||2===i.riskType&&1===i.collocationType,s})),h=x((()=>{var e,o;return(null==(o=null==(e=r.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.find((e=>1===e.riskType)))||{}})),P=x((()=>h.value.collocationVOList||[])),y=(e,t)=>{const i=e.map((e=>e.id)).filter((e=>!m.value.disabledList.includes(e)));o("addRiderRisk",i,r.productInfo)};return v((()=>r.productInfo),(e=>{let o=0;(e.riskList||[]).forEach((e=>{o+=e.initialPremium})),m.value.totalPremium=o}),{deep:!0,immediate:!0}),v((()=>r.productRiskList),(e=>{const o=[],t=[],r=[];(e||[]).forEach((e=>{1===e.riskType?o.unshift(e):(t.push(e.riskId),r.push(e.riskId),o.push(e))})),m.value.disabledList=t,m.value.checkedList=r,m.value.productRiskList=o}),{deep:!0,immediate:!0}),(t,v)=>{const h=T,g=E;return s(),L("div",Pe,[(s(!0),L(C,null,b(u(m).productRiskList,(t=>{var i,p;return s(),L("div",{key:t.riskId},[l("div",Ve,[n(h,{"risk-type":t.riskType,title:t.riskName,class:"no-border"},null,8,["risk-type","title"]),l("div",ye,[l("div",ge,[l("div",Oe,[l("span",je,V((null==(i=t.initialAmount)?void 0:i.toLocaleString())||"-"),1),_e]),l("div",Ie,[l("span",Re,V(u(ne)(t.coveragePeriod)||"-"),1),we]),l("div",xe,[l("span",De,V(u(ue)(t.chargePeriod)||"-"),1),Te])]),l("div",Ee,[l("div",Ne,[c(" 保费:"),l("span",Ue,V(!e.errorMsg&&t.initialPremium?`￥${null==(p=t.initialPremium)?void 0:p.toLocaleString()}`:"-"),1)]),2!==t.riskType?(s(),L("div",Fe,[u(k)(t.riskId)&&e.productIndex>0?(s(),a(g,{key:0,round:32,class:"border",onClick:e=>{o("deleteRisk",t,r.productInfo)}},{default:d((()=>[c("删除")])),_:2},1032,["onClick"])):D("",!0),n(g,{activated:"",round:32,onClick:e=>{o("updateRisk",t,r.productInfo)}},{default:d((()=>[c("修改")])),_:2},1032,["onClick"])])):D("",!0)])])])])})),128)),u(i)?(s(),a(Ce,{key:0,modelValue:u(m).checkedList,"onUpdate:modelValue":v[0]||(v[0]=e=>u(m).checkedList=e),show:u(i),disabled:u(m).disabledList,"risk-list":u(f),"collocation-list":u(P),onFinished:y,onClose:v[1]||(v[1]=e=>u(p)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):D("",!0),n(Z,{"error-msg":e.errorMsg},null,8,["error-msg"])])}}}),[["__scopeId","data-v-3a61def2"]]);const qe={class:"container"},Ae={key:0,class:"operate-bar"},Me={class:"footer-bar"},Be={class:"trial-result"},ze={class:"result-num"},Qe={class:"trial-operate"},We=o({name:"CreateProposal"});var Ge=e(o({...We,setup(e){const o=[{name:"保存修改"},{name:"另存为新计划书"}];w();const[r,i]=w(),k=t({holder:{},insuredList:[{name:"",gender:"",birthday:"",productList:[]}],proposalName:"",totalPremium:0,relationUserType:2}),P=N(),y=U(),g=ee(),{productCode:O,id:j,preview:_}=y.query,I=["age","gender","birthday","hasSocialInsurance","occupationCodeList"],R=t(null),T=f({selectedProductCodeList:[],insuredPersonVO:{},currentProductCode:"",holder:{},productList:[],productCollection:{},productErrorMap:{},defaultData:null}),Z=t(!1),le=t(null),ne=t(null),ue=x((()=>T.productList.map((e=>e.productCode)).filter((e=>Boolean(e))))),ce=x((()=>{const{productPlanInsureVOList:e}=T.productCollection[O]||{},[{insureProductRiskVOList:o=[]}={}]=e||[],{riskInsureLimitVO:t}=(null==o?void 0:o.find((e=>1===e.riskType)))||{};return null==t?void 0:t.sexLimit})),me=x((()=>"-1"!==ce.value&&ce.value?F.filter((e=>ce.value===e.value)):F)),fe=x((()=>{var e;return(null==(e=T.productCollection)?void 0:e[T.currentProductCode])||{}})),ke=x((()=>{var e,o;return(null==(o=null==(e=fe.value)?void 0:e.productPlanInsureVOList)?void 0:o[0])||{}})),ve=x((()=>!Z.value||Boolean(Object.values(T.productErrorMap).join("")))),Le=x((()=>"1"!=`${_}`)),he=x((()=>T.productList.reduce(((e,o)=>e+o.riskList.reduce(((e,o)=>e+(o.initialPremium||0)),0)),0))),Ce=(e,o="")=>{T.productErrorMap[e]=o},be=e=>{const o=T.productList.findIndex((o=>o.productCode===e.productCode)),t={...e.insuredProductInfo,nanoid:B()};if(-1===o)return T.productList.push(t),!1;const r=T.productList[o],{riskList:i,...s}=t;T.productList[o]={...t,...s,riskList:p(i)?i.map((e=>({...r.riskList.find((o=>o.riskCode===e.riskCode)),...e}))):[]}},Pe=e=>{var o;Object.assign(T.holder,e.holder),Object.assign(T.insuredPersonVO,e.insuredPersonVO),be(e),Ce(e.productCode),Z.value=!0,null==(o=R.value)||o.close()},Ve=()=>{g.setProposalInfo(k.value),g.setExcludeProduct(ue.value),g.setInsuredPersonVO(T.insuredPersonVO),P.push({path:"/proposalListSelect",query:{isCreateProposal:"1"}})},ye=e=>{de(e,{isCustomError:!0}).then((({code:o,data:t,message:r})=>{var i;o===Q&&t?((null==t?void 0:t.errorInfo)&&W(`${null==t?void 0:t.errorInfo}`),p(t.riskPremiumDetailVOList)&&be(null==(i=R.value)?void 0:i.formatData(e,t)),Ce(e.productCode),Z.value=!0):Ce(e.productCode,r)}))},ge=e=>{e&&(T.insuredPersonVO.age=A(new Date).diff(e,"year"))},Oe=()=>{T.insuredPersonVO.birthday=""},je=e=>{te(e).then((({code:e,data:o})=>{"10000"===e&&p(o)&&(o.reduce(((e,o)=>(e[o.productCode]=o,e)),T.productCollection),console.log("stateInfo.productCollection = ",T.productCollection))})).finally((()=>{}))},_e=async(e,o=!1)=>{if(!p(e))return;const{code:t,data:r}=await se({calcProductFactorList:e,...T.insuredPersonVO},{isCustomError:!o});"10000"===t&&r&&p(r)&&r.forEach((e=>{const{holder:t,insuredList:r,productCode:i}=e,{productList:s,...a}=(r||[])[0]||{},[{riskList:d=[],...l}={}]=s||[],n={productCode:i,...l,riskList:d};ye(e),o&&(Object.assign(T.insuredPersonVO,a),Object.assign(T.holder,t));const u=ue.value.findIndex((e=>e===i));u>-1?T.productList[u]=n:T.productList.push(n),console.log("----add tempdata = ",n)}))},Ie=e=>T.productList.filter((o=>o.productCode===e)).map((({productCode:e,riskList:o})=>{const{productPlanInsureVOList:t}=T.productCollection[e]||{},[{insureProductRiskVOList:r}={}]=t||[];return{productCode:e,riskEditVOList:p(o)?o.filter((e=>1===e.riskType)).map((({riskCode:e,riskType:o,annuityDrawValueList:t,paymentPeriodValueList:i,insurancePeriodValueList:s,...a})=>{const d=(null==r?void 0:r.find((o=>o.riskCode===e)))||{};return{insureProductRiskVO:{...d,productRiskInsureLimitVO:{...null==d?void 0:d.productRiskInsureLimitVO,annuityDrawValueList:t,paymentPeriodValueList:i,insurancePeriodValueList:s}}}})):[]}})),Re=e=>{const{riskList:o,...t}=T.productList.find((o=>o.productCode===e))||{};return{holder:{...T.holder},insuredList:[{...T.insuredPersonVO,productList:[{...t,riskList:o}]}],productCode:e}},we=(e,o)=>{const t=o;M.confirm({message:"确认删除该险种？"}).then((()=>{1===e.riskType?T.productList=T.productList.filter((e=>e.productCode!==t.productCode)).map((e=>({...e,nanoid:B()}))):t.riskList=t.riskList.filter((o=>o.riskId!==e.riskId)),Ce(t.productCode)}))},xe=(e,o)=>{var t;T.currentProductCode=o.productCode,T.defaultData=[Re(o.productCode)],null==(t=R.value)||t.open()},De=e=>{var o,t;Promise.all([null==(o=le.value)?void 0:o.validate(),null==(t=ne.value)?void 0:t.validate()]).then((()=>{const{holder:o}=T;ie({holder:o,insuredList:[{...T.insuredPersonVO,productList:T.productList}],proposalName:T.insuredPersonVO.proposalName,totalPremium:he.value,relationUserType:2,id:e}).then((e=>{const{code:o,data:t}=e||{};"10000"===o&&(g.$reset(),P.push({path:"/compositionProposal",query:{id:t,preview:_}}))}))}))},Te=()=>{j?i(!0):De(j)},Ee=(e,o)=>{De(o?void 0:j)};return v((()=>I.map((e=>T.insuredPersonVO[e]))),((e,o)=>{e.join(",")!==o.join(",")&&(console.log("被保人条件变动"),p(Object.keys(T.productCollection))&&ue.value.forEach((e=>(async e=>{try{const{code:o,data:t,message:r}=await ae({calcProductFactorList:Ie(e),...T.insuredPersonVO},{isCustomError:!0});"10000"===o&&p(t)?(T.productList.forEach((({productCode:e,riskList:o})=>{const{productRiskDyInsureFactorVOList:r}=t[0]||t.find((o=>o.productCode===e))||{};o.forEach((e=>{const o=r.find((o=>o.riskCode===e.riskCode));Object.assign(e,{...e,...o})}))})),ye(Re(e)),Ce(e)):Ce(e,r)}catch(o){console.log("Error",o)}})(e))))}),{deep:!0}),v((()=>T.selectedProductCodeList),Y((e=>{if(p(e)){console.log("选择的产品变动了",e),_e(e.map((e=>({productCode:e}))));const o=Object.keys(T.productCollection),t=null==e?void 0:e.filter((e=>!o.includes(e)));p(t)&&je(null==t?void 0:t.map((e=>({productCode:e}))))}})),{deep:!0}),S((()=>{const{selectedProduct:e,insuredPersonVO:o}=g.$state;T.selectedProductCodeList=p(e)?e:[]})),$((()=>{if(O){const e=[{productCode:O}];je(e),_e(e,!0)}j&&(((e={})=>{re(e).then((({code:e,data:o})=>{if("10000"===e&&o){const{insuredList:e,holder:t,proposalName:r}=o||{},[{productList:i,...s}]=e||[];T.holder=t,T.insuredPersonVO={...s,proposalName:r},je(i.map((e=>({productCode:e.productCode})))),console.log("----query detail ",i),T.productList=i}}))})({id:j}),Z.value=!0);const e=(j?"编辑":"创建")+"计划书";y.meta.title=e,document.title=e})),(e,t)=>{const p=X,f=z,k=E,v=m,P=G,y=q("ProPageWrap");return s(),a(y,{class:"page-create-wrapper"},{default:d((()=>{var e;return[l("div",qe,[n(p,{ref_key:"formRef",ref:le,class:"mb20",model:u(T).insuredPersonVO},{default:d((()=>[n(u(oe),{modelValue:u(T).insuredPersonVO.proposalName,"onUpdate:modelValue":t[0]||(t[0]=e=>u(T).insuredPersonVO.proposalName=e),label:"计划书名称",name:"proposalName",maxlength:20},null,8,["modelValue"])])),_:1},8,["model"]),n(u(H),{ref_key:"insuredFormRef",ref:ne,title:"被保人信息",model:u(T).insuredPersonVO},{default:d((()=>[n(u(oe),{modelValue:u(T).insuredPersonVO.name,"onUpdate:modelValue":t[1]||(t[1]=e=>u(T).insuredPersonVO.name=e),label:"姓名",name:"name",maxlength:20,required:""},null,8,["modelValue"]),n(u(oe),{modelValue:u(T).insuredPersonVO.age,"onUpdate:modelValue":t[3]||(t[3]=e=>u(T).insuredPersonVO.age=e),class:"age-field-wrap",name:"age",label:"年龄",type:"digit",maxlength:3,required:"",onChange:Oe},{extra:d((()=>[n(u(J),{modelValue:u(T).insuredPersonVO.birthday,"onUpdate:modelValue":[t[2]||(t[2]=e=>u(T).insuredPersonVO.birthday=e),ge],class:"birthday-field-wrap",label:"出生日期",name:"birthday"},null,8,["modelValue"])])),_:1},8,["modelValue"]),n(u(K),{modelValue:u(T).insuredPersonVO.gender,"onUpdate:modelValue":t[4]||(t[4]=e=>u(T).insuredPersonVO.gender=e),label:"性别",name:"gender",columns:u(me),required:""},null,8,["modelValue","columns"])])),_:1},8,["model"]),(s(!0),L(C,null,b(u(T).productList,((e,o)=>(s(),a(f,{key:`${e.nanoid}_${o}_${e.productCode}`,class:"product-item-card","show-line":!1,"show-divider":!1},{default:d((()=>{var t;return[n($e,{"product-risk-list":e.riskList,"product-info":e,"product-num":(null==(t=u(T).productList)?void 0:t.length)-1,"product-data":u(T).productCollection[e.productCode],"error-msg":u(T).productErrorMap[e.productCode],"product-index":o,onUpdateRisk:xe,onDeleteRisk:we},null,8,["product-risk-list","product-info","product-num","product-data","error-msg","product-index"])]})),_:2},1024)))),128)),u(Le)?(s(),L("div",Ae,[n(k,{activated:"",round:34,onClick:Ve},{default:d((()=>[c("添加产品")])),_:1})])):D("",!0)]),l("div",Me,[l("span",Be,[c("总保费"),l("span",ze,V(u(ve)?"-":`￥${null==(e=u(he))?void 0:e.toLocaleString()}`),1)]),l("div",Qe,[n(v,{disabled:u(ve),type:"primary",onClick:Te},{default:d((()=>[c("保存并预览")])),_:1},8,["disabled"])])]),n(P,{show:u(r),"onUpdate:show":t[5]||(t[5]=e=>h(r)?r.value=e:null),actions:o,"cancel-text":"取消","close-on-click-action":"",onCancel:t[6]||(t[6]=e=>u(i)(!1)),onSelect:Ee},null,8,["show"]),n(pe,{ref_key:"trialPopupRef",ref:R,"data-source":u(ke),"product-code":u(T).currentProductCode,"default-data":u(T).defaultData,onFinish:Pe},null,8,["data-source","product-code","default-data"])]})),_:1})}}}),[["__scopeId","data-v-3493482c"]]);export{Ge as default};
