!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-bank-card-info .field-title .sub-title[data-v-b4bb0f9e]{font-size:.34667rem;color:#99a9c0}@charset "UTF-8";.page-bank-card[data-v-352aae5a] .com-card-wrap .body{padding:0}.page-bank-card .reprise-card .reprise-card-list[data-v-352aae5a]{padding:0 .4rem;height:1.41333rem;display:flex;justify-content:space-between;align-items:center}.page-bank-card .reprise-card .reprise-card-list .reprise-card-item[data-v-352aae5a]{text-align:center;width:2.88rem;height:.8rem;line-height:.8rem;background:#f6f7fc;border-radius:.10667rem;color:#393d46;font-size:.34667rem}.page-bank-card .reprise-card .reprise-card-list .reprise-card-item.selected[data-v-352aae5a]{background:rgba(13,110,254,.1);border:1px solid #0d6efe;color:#0d6efe}.page-bank-card .agree[data-v-352aae5a]{height:1.41333rem;display:flex;align-items:center;font-size:.37333rem;color:#393d46;background:#f2f5fc;padding:0 .4rem}.page-bank-card .agree .checkbox[data-v-352aae5a]{margin-right:.29333rem}.page-bank-card .agree .file[data-v-352aae5a]{color:#0d6efe}.page-bank-card .footer[data-v-352aae5a]{position:static}\n',document.head.appendChild(e),System.register(["./vendor-legacy-bcfc5721.js","./index-legacy-d892f54d.js","./utils-legacy-20e4723c.js","./useDicData-legacy-32ef2ef6.js","./index-legacy-a922d084.js"],(function(e){"use strict";var a,l,t,d,n,u,o,r,i,s,c,m,p,v,b,y,g,f,T,I,k,E,h,R,D,_,V,M,A,C,S,N,P,O,U,x,j;return{setters:[function(e){a=e.g,l=e.C,t=e.X,d=e.x,n=e.h,u=e.m,o=e.n,r=e.z,i=e.k,s=e.a1,c=e.a2,m=e.y,p=e.B,v=e.Q,b=e.af,y=e.M,g=e.r,f=e.j,T=e.s,I=e.E,k=e.F,E=e.T,h=e.J,R=e.I},function(e){D=e._,_=e.f,V=e.D,M=e.k,A=e.U,C=e.E,S=e.j,N=e.P},function(e){P=e.c},function(e){O=e.u},function(e){U=e.c,x=e.a,j=e.n}],execute:function(){var H=(e=>(e[e.REAL_TIME=1]="REAL_TIME",e[e.BATCH=2]="BATCH",e))(H||{});const F=[{value:1,label:"实时转账"},{value:2,label:"批量扣款"}];P(F);var B=(e=>(e[e.DEBIT=1]="DEBIT",e[e.CREDIT=2]="CREDIT",e[e.PRE_PAY=3]="PRE_PAY",e[e.PRE_CREDIT=4]="PRE_CREDIT",e[e.OTHER=5]="OTHER",e))(B||{});const w=[{value:1,label:"借记卡"},{value:2,label:"贷记卡"},{value:3,label:"预付费卡"},{value:4,label:"准贷记卡"},{value:5,label:"其他"}];P(w);var L=(e=>(e[e.FIRST_TERM=1]="FIRST_TERM",e[e.RENEW_TERM=2]="RENEW_TERM",e[e.REPRISE=3]="REPRISE",e[e.OTHER=4]="OTHER",e))(L||{});const q=[{value:1,label:"首期支付"},{value:2,label:"续期支付"},{value:3,label:"年金领取"},{value:4,label:"其他"}];P(q);var W=(e=>(e[e.FIRST_SAME=1]="FIRST_SAME",e[e.RENEW_SAME=2]="RENEW_SAME",e[e.OTHER=3]="OTHER",e))(W||{});const z=[{value:1,label:"同首期"},{value:2,label:"同续期"},{value:3,label:"其他"}];P(q);var G=(e=>(e[e.AUTOMATIC_PADDING=1]="AUTOMATIC_PADDING",e[e.CANCEL=2]="CANCEL",e))(G||{});const K=[{value:1,label:"自动垫付"},{value:2,label:"中止合同"}];P(K);const Y={class:"com-bank-card-info"},J=(e=>(s("data-v-b4bb0f9e"),e=e(),c(),e))((()=>m("span",{class:"field-title"},[p("银行卡照片 "),m("span",{class:"sub-title"},"(需上传正反两面)")],-1)));var Q=D(a({props:{modelValue:{type:Object,default:()=>{}},holderName:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,c=O("BANK"),m=l({bankCardType:B.DEBIT,bankCardNo:"",accountName:"",payBank:"",mobile:"",images:[]}),p=e=>!(!e||2!==e.length)||"请上传银行卡正反面照片";t((()=>s.modelValue),(e=>{m.value=e}),{immediate:!0}),t(m,(e=>{a("update:modelValue",e)}));const v=d((()=>c.value.map((e=>({label:e.name,value:e.code})))));return(a,l)=>(n(),u("div",Y,[o(_,{modelValue:m.value.bankCardType,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value.bankCardType=e),label:"卡片类型",name:"bankCardType","data-source":r(w),"is-view":""},null,8,["modelValue","data-source"]),o(V,{modelValue:m.value.bankCardNo,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value.bankCardNo=e),label:"银行卡号",name:"bankCardNo",type:"number",required:""},null,8,["modelValue"]),o(V,{"model-value":e.holderName,label:"持卡人",name:"accountName","is-view":""},null,8,["model-value"]),o(_,{modelValue:m.value.payBank,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value.payBank=e),name:"payBank",label:"开户银行","data-source":r(v),required:""},null,8,["modelValue","data-source"]),o(V,{label:"银行卡照片",block:"","label-width":"100%",name:"images",rules:[{validator:p}]},{label:i((()=>[J])),input:i((()=>[o(M,{modelValue:m.value.images,"onUpdate:modelValue":l[3]||(l[3]=e=>m.value.images=e),"max-count":2,"upload-type":r(A).BANK_CARD},null,8,["modelValue","upload-type"])])),_:1},8,["rules"]),o(V,{modelValue:m.value.mobile,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value.mobile=e),label:"预留手机号",type:"number",required:"",name:"mobile","validate-type":["phone"]},null,8,["modelValue"])]))}}),[["__scopeId","data-v-b4bb0f9e"]]);const X=e=>(s("data-v-352aae5a"),e=e(),c(),e),Z={class:"page-bank-card"},$={class:"reprise-card-list"},ee=["onClick"],ae={class:"agree"},le=p(" 投保人阅读并接受 "),te=X((()=>m("div",{class:"file"},"《银行转账授权》",-1))),de={class:"footer-button footer"},ne=p("下一步"),ue=a({setup(e){const a=v(),t=b(),{orderNo:d="2022072710380711215",agentCode:s="D1234567-1",tenantId:c="9991000007",templateId:p=1}=a.query;let D={};const M=l(""),A=l({payMethod:H.REAL_TIME,bankData:{imagesId:[]}}),P=l({payMethod:H.REAL_TIME,expiryMethod:G.AUTOMATIC_PADDING,bankData:{imagesId:[]},payInfoType:W.FIRST_SAME}),O=l({bankData:{imagesId:[]}}),B=l(W.FIRST_SAME),w=l(!1),q=l(),Y=l(),J=l(),X=()=>{var e,l,d;w.value?Promise.all([null===(e=q.value)||void 0===e?void 0:e.validate(),null===(l=Y.value)||void 0===l?void 0:l.validate(),null===(d=J.value)||void 0===d?void 0:d.validate()]).then((e=>{const l=[{...e[0],id:A.value.id,paymentType:L.FIRST_TERM},{...e[1],id:P.value.id,paymentType:L.RENEW_TERM},{...e[2],id:O.value.id,paymentType:L.REPRISE,payInfoType:B.value}],d=[{category:24,name:"首期签约银行卡正面",objectType:5,type:"png",uri:e[0].images[0],id:A.value.bankData.imagesId[0]},{category:25,name:"首期签约银行卡背面",objectType:5,type:"png",uri:e[0].images[1],id:A.value.bankData.imagesId[1]}];P.value.payInfoType===W.OTHER&&(d.push({category:24,name:"续期签约银行卡正面",objectType:6,type:"png",uri:e[1].images[0],id:P.value.bankData.imagesId[0]}),d.push({category:25,name:"续期签约银行卡正面",objectType:6,type:"png",uri:e[1].images[1],id:P.value.bankData.imagesId[1]})),B.value===W.OTHER&&(d.push({category:24,name:"年金签约银行卡正面",objectType:7,type:"png",uri:e[2].images[0],id:O.value.bankData.imagesId[0]}),d.push({category:25,name:"年金签约银行卡正面",objectType:7,type:"png",uri:e[2].images[1],id:O.value.bankData.imagesId[1]})),j({...D,pageCode:"payInfo",tenantOrderPayInfoList:l,extInfo:{...D.extInfo,templateId:"1",pageCode:"payInfo"},operateOption:{withPayInfo:!0,withAttachmentInfo:!0},tenantOrderAttachmentList:d}).then((e=>{const{code:l,data:d}=e;"10000"===l&&d.success&&t.push({path:N[d.pageAction.data.nextPageCode],query:a.query})}))})):E.fail("请勾选同意银行转账授权")};return y((()=>{U({pageCode:"payInfo",templateId:1}).then((e=>{})),x({orderNo:d,saleUserId:s,tenantId:c}).then((e=>{const{code:a,data:l}=e;"10000"===a&&l&&(D=l,M.value=l.tenantOrderHolder.name,l.tenantOrderPayInfoList.forEach((e=>{e.paymentType===L.FIRST_TERM?(A.value=e,A.value.bankData={...e,images:[],imagesId:[]}):e.paymentType===L.RENEW_TERM?(P.value=e,P.value.bankData={...e,images:[],imagesId:[]}):e.paymentType===L.REPRISE&&(O.value=e,O.value.bankData={...e,images:[],imagesId:[]},B.value=e.payInfoType)})),l.tenantOrderAttachmentList.forEach((e=>{5===e.objectType?(24===e.category&&(A.value.bankData.images[0]=e.uri,A.value.bankData.imagesId[0]=e.id),25===e.category&&(A.value.bankData.images[1]=e.uri,A.value.bankData.imagesId[1]=e.id)):6===e.objectType?(24===e.category&&(P.value.bankData.images[0]=e.uri,P.value.bankData.imagesId[0]=e.id),25===e.category&&(P.value.bankData.images[1]=e.uri,P.value.bankData.imagesId[1]=e.id)):7===e.objectType&&(24===e.category&&(O.value.bankData.images[0]=e.uri,O.value.bankData.imagesId[0]=e.id),25===e.category&&(O.value.bankData.images[1]=e.uri,O.value.bankData.imagesId[1]=e.id))})))}))})),(e,a)=>{const l=g("van-switch"),t=g("van-checkbox"),d=g("van-button"),s=g("ProPageWrap");return n(),f(s,null,{default:i((()=>[m("div",Z,[o(S,{title:"首期支付"},{default:i((()=>[o(C,{ref_key:"form1",ref:q},{default:i((()=>[o(_,{modelValue:A.value.payMethod,"onUpdate:modelValue":a[0]||(a[0]=e=>A.value.payMethod=e),name:"payMethod",required:"",label:"支付方式","is-link":"",placeholder:"请选择","data-source":r(F)},null,8,["modelValue","data-source"]),o(Q,{modelValue:A.value.bankData,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value.bankData=e),"holder-name":M.value},null,8,["modelValue","holder-name"])])),_:1},512)])),_:1}),o(S,{title:"续期支付"},{default:i((()=>[o(C,{ref_key:"form2",ref:Y},{default:i((()=>[o(V,{label:"同首期",name:"payInfoType"},{input:i((()=>[o(l,{modelValue:P.value.payInfoType,"onUpdate:modelValue":a[2]||(a[2]=e=>P.value.payInfoType=e),size:"22","active-value":r(W).FIRST_SAME,"inactive-value":r(W).OTHER},null,8,["modelValue","active-value","inactive-value"])])),_:1}),o(_,{modelValue:P.value.payMethod,"onUpdate:modelValue":a[3]||(a[3]=e=>P.value.payMethod=e),name:"payMethod",label:"支付方式","is-link":"",placeholder:"请选择","data-source":r(F),required:""},null,8,["modelValue","data-source"]),o(_,{modelValue:P.value.expiryMethod,"onUpdate:modelValue":a[4]||(a[4]=e=>P.value.expiryMethod=e),name:"expiryMethod",label:"保费逾期未支付","is-link":"",placeholder:"请选择","data-source":r(K),required:"","label-width":"200"},null,8,["modelValue","data-source"]),P.value.payInfoType!==r(W).FIRST_SAME?(n(),f(Q,{key:0,modelValue:P.value.bankData,"onUpdate:modelValue":a[5]||(a[5]=e=>P.value.bankData=e),"holder-name":M.value},null,8,["modelValue","holder-name"])):T("",!0)])),_:1},512)])),_:1}),o(S,{title:"年金领取银行卡",class:"reprise-card","show-divider":!1},{default:i((()=>[m("div",$,[(n(!0),u(k,null,I(r(z),((e,a)=>(n(),u("div",{key:a,class:h(["reprise-card-item",{selected:B.value===e.value}]),onClick:a=>{return l=e.value,void(B.value=l);var l}},R(e.label),11,ee)))),128))]),o(C,{ref_key:"form3",ref:J},{default:i((()=>[B.value===r(W).OTHER?(n(),f(Q,{key:0,modelValue:O.value.bankData,"onUpdate:modelValue":a[6]||(a[6]=e=>O.value.bankData=e),"holder-name":M.value},null,8,["modelValue","holder-name"])):T("",!0)])),_:1},512)])),_:1}),m("div",ae,[o(t,{modelValue:w.value,"onUpdate:modelValue":a[7]||(a[7]=e=>w.value=e),class:"checkbox",shape:"square","icon-size":16},null,8,["modelValue"]),le,te]),m("div",de,[o(d,{type:"primary",onClick:X},{default:i((()=>[ne])),_:1})])])])),_:1})}}});e("default",D(ue,[["__scopeId","data-v-352aae5a"]]))}}}))}();
