var Xe=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var Ne=(n,i,k)=>i in n?Xe(n,i,{enumerable:!0,configurable:!0,writable:!0,value:k}):n[i]=k,J=(n,i)=>{for(var k in i||(i={}))tt.call(i,k)&&Ne(n,k,i[k]);if(we)for(var k of we(i))it.call(i,k)&&Ne(n,k,i[k]);return n},ie=(n,i)=>Ze(n,et(i));import{g as G,L as z,a1 as U,r as A,k as V,m as T,n as I,j as g,y as R,z as t,a2 as He,a3 as Je,a4 as re,C as Y,x as K,d as ne,h as E,s as O,I as M,a5 as at,a6 as Se,o as se,F as ae,E as oe,a7 as ot,a8 as nt,B as Q,D as ut,J as lt,Q as rt,a9 as st,T as dt}from"./vendor-c6b9a2b7.js";import{P as S,a as ct}from"./index-c9bd57f4.js";import{b as de,S as ce,_ as W,P as ue}from"./index-973950d4.js";const mt=[{label:"\u7537",value:"1"},{label:"\u5973",value:"2"}],ft=[{label:"\u6709",value:"1"},{label:"\u65E0",value:"2"}],pt=[{value:1,label:"\u7B2C5\u4E2A\u4FDD\u5355\u5468\u5E74\u65E5"},{value:2,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8455\u5468\u5C81"},{value:3,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8460\u5468\u5C81"},{value:4,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8465\u5468\u5C81"},{value:5,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8470\u5468\u5C81"},{value:6,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8475\u5468\u5C81"}],yt=[{value:1,label:"\u5E74\u9886"},{value:2,label:"\u6708\u9886"}],le=[{label:"\u8DB8\u4EA4",value:"1"},{label:"\u5E74\u4EA4",value:"2"},{label:"\u534A\u5E74\u4EA4",value:"3"},{label:"\u5B63\u4EA4",value:"4"},{label:"\u6708\u4EA4",value:"5"}],Vt=[{name:"\u540C\u4E3B\u9669\u671F\u95F4\u51CF1",value:"3"},{name:"\u65E0\u9650\u5236",value:"2"}],Me=[{label:"\u8FD4\u4FDD\u989D",value:"1"},{label:"\u8FD4\u4FDD\u8D39",value:"2"}],Dt=[{label:"\u6295\u4FDD",value:"0"},{label:"\u4E0D\u6295\u4FDD",value:"-1"}],ze=(n={})=>de.post("/api/gateway/system/dict/v2/queryDictInfo",n);new ce({source:"sessionStorage"});const je=new ce({source:"localStorage"});new ce({source:"cookie"});const kt=n=>(He("data-v-4b261f8d"),n=n(),Je(),n),gt={class:"com-occupational-wrapper"},vt=kt(()=>R("div",{class:"popup-title"},"\u9009\u62E9\u804C\u4E1A",-1)),It={class:"popup-content"},bt=G({props:{modelValue:{type:Array,required:!0,default:()=>[]},insuredCode:{type:String,required:!0,default:""},show:{type:Boolean,required:!0,default:!1}},emits:["finish","close","update:modelValue"],setup(n,{emit:i}){const k=n,L=z({show:k.show,options:[],currentValue:""}),c=()=>{i("close")},r=({value:D,selectedOptions:a})=>{const _=(a||[]).map(v=>v.value).join("/"),f=+a[a.length-1].name;i("update:modelValue",f),i("finish",_),c()},b=D=>{const a=D,_=f=>{f.forEach(v=>{const p=v;p.children.length?_(p.children):p.children=null})};return _(a),a},F=(D="")=>{var f;const a=`${(f=D==null?void 0:D.toLocaleUpperCase)==null?void 0:f.call(D)}_OCCUPATION`,_=je.get("occupational")||{};if(_[a]){L.options=_[a];return}ze({dictCodeList:[a]}).then(({code:v,data:p})=>{var o;if(v==="10000"){const e=b(((o=p==null?void 0:p[0])==null?void 0:o.dictItemList)||[]);L.options=e,_[a]=e,je.set("occupational",_)}})};return U(()=>k,()=>{F(k.insuredCode)},{deep:!0,immediate:!0}),U(()=>k.modelValue,D=>{},{deep:!0,immediate:!0}),(D,a)=>{const _=A("van-cascader"),f=A("VanPopup");return V(),T("div",gt,[I(f,{show:t(L).show,"onUpdate:show":a[1]||(a[1]=v=>t(L).show=v),"show-footer":"",position:"bottom",closeable:"",onClose:c},{default:g(()=>[vt,R("div",It,[I(_,{modelValue:t(L).currentValue,"onUpdate:modelValue":a[0]||(a[0]=v=>t(L).currentValue=v),title:"\u8BF7\u9009\u62E9\u804C\u4E1A","show-header":!1,placeholder:"\u8BF7\u9009\u62E9",options:t(L).options,"active-color":"#0d6efe","field-names":{text:"value",value:"code",children:"children"},onFinish:r},null,8,["modelValue","options"])])]),_:1},8,["show"])])}}});var Ft=W(bt,[["__scopeId","data-v-4b261f8d"]]);const Lt={class:"com-personal-info-wrapper"},_t={key:0,class:"placeholder"},ht={key:1},Ct=G({props:{formInfo:{type:Object,required:!0,default:()=>{}},insuredCode:{type:String,required:!0,default:""},factorList:{type:Array,required:!0,default:()=>[]},ageRange:{type:Array,required:!0,default:()=>[]}},setup(n,{expose:i}){const k=n,[L,c]=re(),[r,b]=re(),F=Y(),D=z({formInfo:k==null?void 0:k.formInfo,occupationalText:""}),a=o=>{D.occupationalText=o},_=()=>{b(!1)},f=()=>new Promise((o,e)=>{F==null||F.value.validate().then(()=>{o("")},()=>{e()})}),v=o=>{const e=o||[];for(let d=0;d<e.length;d++)for(let s=d+1;s<e.length;s++){const u=e[d].split("_"),l=e[s].split("_"),m=e[d];u[0]===l[0]?u>l&&(e[d]=e[s],e[s]=m):u[0]==="age"&&(e[d]=e[s],e[s]=m)}return e},p=K(()=>{const o=v(k==null?void 0:k.ageRange),e=(m="")=>{const h=+m.split("_")[1],B=m.split("_")[0];return[h,B]},d=e(o[0]),s=e(o[o.length-1]),u=ne().subtract(d[0],d[1]==="age"?"year":"day").format("YYYY-MM-DD"),l=ne().subtract(s[0],s[1]==="age"?"year":"day").format("YYYY-MM-DD");return{minAge:new Date(l),maxAge:new Date(u)}});return i({validateForm:f}),(o,e)=>{const d=A("VanField"),s=A("VanForm"),u=A("van-datetime-picker"),l=A("van-popup");return V(),T("div",Lt,[I(s,{ref_key:"formRef",ref:F,"input-align":"right","error-message-align":"right"},{default:g(()=>[n.factorList.includes("APPLICANT.AGE")||n.factorList.includes("AGE")||n.factorList.includes("DAY")||n.factorList.includes("APPLICANT.DAY")?(V(),E(d,{key:0,modelValue:t(D).formInfo.birthday,"onUpdate:modelValue":e[0]||(e[0]=m=>t(D).formInfo.birthday=m),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F"}],name:"birth",label:"\u51FA\u751F\u65E5\u671F",class:"isLink",readonly:"","is-link":"",placeholder:"\u8BF7\u9009\u62E9",onClick:e[1]||(e[1]=m=>t(c)(!0))},null,8,["modelValue"])):O("",!0),n.factorList.includes("APPLICANT.GENDER")||n.factorList.includes("GENDER")?(V(),E(d,{key:1,modelValue:t(D).formInfo.gender,"onUpdate:modelValue":e[3]||(e[3]=m=>t(D).formInfo.gender=m),name:"gender",label:"\u6027\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]},{input:g(()=>[I(S,{modelValue:t(D).formInfo.gender,"onUpdate:modelValue":e[2]||(e[2]=m=>t(D).formInfo.gender=m),options:t(mt)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):O("",!0),n.factorList.includes("SOCIAL_INS")?(V(),E(d,{key:2,modelValue:t(D).formInfo.socialSecurity,"onUpdate:modelValue":e[5]||(e[5]=m=>t(D).formInfo.socialSecurity=m),name:"socialSecurity",label:"\u793E\u4FDD",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u793E\u4FDD"}]},{input:g(()=>[I(S,{modelValue:t(D).formInfo.socialSecurity,"onUpdate:modelValue":e[4]||(e[4]=m=>t(D).formInfo.socialSecurity=m),options:t(ft)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):O("",!0),n.factorList.includes("OCCUPATION_CATEGORY")?(V(),E(d,{key:3,modelValue:t(D).formInfo.occupationalClass,"onUpdate:modelValue":e[6]||(e[6]=m=>t(D).formInfo.occupationalClass=m),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u804C\u4E1A\u7C7B\u578B"}],name:"occupationalClass",label:"\u804C\u4E1A\u7C7B\u578B","is-link":"",readonly:"",placeholder:"\u8BF7\u9009\u62E9",onClick:e[7]||(e[7]=m=>t(b)(!0))},{input:g(()=>[t(D).occupationalText?(V(),T("div",ht,M(t(D).occupationalText),1)):(V(),T("span",_t,"\u8BF7\u9009\u62E9"))]),_:1},8,["modelValue"])):O("",!0)]),_:1},512),I(l,{show:t(L),"onUpdate:show":e[10]||(e[10]=m=>at(L)?L.value=m:null),position:"bottom"},{default:g(()=>[I(u,{type:"date","min-date":t(p).minAge,"max-date":t(p).maxAge,onConfirm:e[8]||(e[8]=m=>{t(D).formInfo.birthday=t(ne)(m).format("YYYY-MM-DD"),t(c)(!1)}),onCancel:e[9]||(e[9]=m=>t(c)(!1))},null,8,["min-date","max-date"])]),_:1},8,["show"]),t(r)?(V(),E(Ft,{key:0,modelValue:t(D).formInfo.occupationalClass,"onUpdate:modelValue":e[11]||(e[11]=m=>t(D).formInfo.occupationalClass=m),show:t(r),"insured-code":n.insuredCode,onFinish:a,onClose:_},null,8,["modelValue","show","insured-code"])):O("",!0)])}}});var Ke=W(Ct,[["__scopeId","data-v-2998f5ae"]]);const Et={class:"com-risk-card-wrapper part-card"},Ot={class:"custom-field"},Rt={class:"field-tip"},At={class:"custom-field"},Bt={class:"field-tip"},Pt={class:"custom-field"},Tt={class:"field-tip"},xt={key:0},qt={key:9,class:"liab-desc"},$t=G({props:{originData:{type:Object,required:!0,default:()=>{}},formInfo:{type:Object,required:!0,default:()=>{}},mainRiskData:{type:Object,default:()=>{}},mainRiskInfo:{type:Object,required:!1,default:()=>{}},index:{type:[Number,String],default:0,required:!0},removeRisk:{type:Function,default:()=>{}},removeRiskList:{type:Array,default:()=>[]},enums:{type:Object,default:()=>{}}},setup(n){const i=n,k=Y({}),L=Se("premium")||{};k.value=Se("enumList")||{},U(k.value,o=>{console.log(o)},{deep:!0,immediate:!0});const c=Y({paymentYear:{disabled:!1,prevent:!1},coverageYear:{disabled:!1,prevent:!1},paymentFrequency:{disabled:!1,prevent:!1}}),r=z({formInfo:i.formInfo}),b=o=>typeof o!="boolean"&&!o||Array.isArray(o)&&!o.length?!0:{}.toString.call(o)==="object Object"?Object.keys(o).length:!1,F=(o,e,d={})=>{let s=e;return Array.isArray(e)||(s=[`${s}`]),(o||[]).filter(u=>s.includes(`${u.value}`)||s.includes(u.value))},D=K(()=>{var o,e,d,s,u,l,m,h;return((o=i.originData)==null?void 0:o.riskType)===1?(console.log("enumList.value?.RISK_INSURANCE_PERIOD",(e=k.value)==null?void 0:e.RISK_INSURANCE_PERIOD),F(i==null?void 0:i.enums.RISK_INSURANCE_PERIOD,(s=(d=i==null?void 0:i.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:s.insurancePeriodValueList)):((u=i.originData)==null?void 0:u.periodType)===2?F([{value:"year_1",label:"1\u5E74"}],["year_1"]):F((l=i==null?void 0:i.enums)==null?void 0:l.RISK_INSURANCE_PERIOD,(h=(m=i==null?void 0:i.mainRiskData)==null?void 0:m.riskInsureLimitVO)==null?void 0:h.insurancePeriodValueList)}),a=K(()=>{var o,e,d,s,u,l,m,h,B,x,q;return((o=i.originData)==null?void 0:o.riskType)===1?F((e=i==null?void 0:i.enums)==null?void 0:e.RISK_PAYMENT_PERIOD,(s=(d=i==null?void 0:i.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:s.paymentPeriodValueList):((u=i.originData)==null?void 0:u.exemptFlag)===1?F(Vt,[`${(m=(l=i==null?void 0:i.originData)==null?void 0:l.riskInsureLimitVO)==null?void 0:m.paymentPeriodRule}`]):((h=i.originData)==null?void 0:h.periodType)===2?F([{value:"year_1",name:"1\u5E74\u4EA4"}],["year_1"]):F((B=i==null?void 0:i.enums)==null?void 0:B.RISK_PAYMENT_PERIOD,(q=(x=i==null?void 0:i.mainRiskData)==null?void 0:x.riskInsureLimitVO)==null?void 0:q.paymentPeriodValueList)}),_=K(()=>{var o,e,d,s,u,l,m,h;return((o=i.originData)==null?void 0:o.riskType)===1?F(le,(d=(e=i==null?void 0:i.originData)==null?void 0:e.riskInsureLimitVO)==null?void 0:d.paymentFrequencyList):((s=i==null?void 0:i.originData)==null?void 0:s.paymentTypeRule)===1?F(le,(l=(u=i==null?void 0:i.mainRiskData)==null?void 0:u.riskInsureLimitVO)==null?void 0:l.paymentFrequencyList):F(le,(h=(m=i==null?void 0:i.mainRiskData)==null?void 0:m.riskInsureLimitVO)==null?void 0:h.paymentFrequencyList)}),f=K(()=>{var d,s;let o=0,e=0;return(((s=(d=i.originData)==null?void 0:d.riskCalcMethodInfoVO)==null?void 0:s.paymentMethodLimitList)||[]).forEach((u,l)=>{l===0&&(o=u.minAmount,e=u.maxAmount),o>u.minAmount&&(o=u.minAmount),e<u.maxAmount&&(e=u.maxAmount)}),r.formInfo.sumInsured=o,{min:o,max:e}}),v=K(()=>{var d,s;let o=0,e=0;return(((s=(d=i.originData)==null?void 0:d.riskCalcMethodInfoVO)==null?void 0:s.paymentMethodLimitList)||[]).forEach((u,l)=>{l===0&&(o=u.minPremium,e=u.maxPremium),o>u.minPremium&&(o=u.minPremium),e<u.maxPremium&&(e=u.maxPremium)}),r.formInfo.premium=o,{min:o,max:e}}),p=K(()=>{var d,s,u,l;const o=((s=(d=i.originData)==null?void 0:d.riskCalcMethodInfoVO)==null?void 0:s.minCopy)||1,e=(l=(u=i.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.maxCopy;return r.formInfo.copy=o,{min:o,max:e}});return se(()=>{var e,d;const o={riskType:i.originData.riskType,riskId:i.originData.id,riskCode:i.originData.riskCode,mainRiskCode:(e=i==null?void 0:i.mainRiskData)==null?void 0:e.riskCode,mainRiskId:(d=i==null?void 0:i.mainRiskData)==null?void 0:d.id,riskCategory:i.originData.riskCategory,liabilityVOList:(i.originData.riskLiabilityInfoVOList||[]).map(s=>({liabilityAttributeCode:s.liabilityAttributeType,liabilityCode:s.liabilityCode,liabilityId:s.id,liabilityRateType:s.liabilityRateType}))};Object.assign(r==null?void 0:r.formInfo,o)}),U(()=>i,()=>{},{deep:!0,immediate:!0}),U(()=>{var o;return(o=r.formInfo)==null?void 0:o.paymentFrequency},o=>{var e,d,s,u;[3,4].includes((d=(e=i.originData)==null?void 0:e.riskCalcMethodInfoVO)==null?void 0:d.saleMethod)&&(((u=(s=i.originData)==null?void 0:s.riskCalcMethodInfoVO)==null?void 0:u.paymentMethodLimitList)||[]).forEach(l=>{+l.paymentFrequency==+o&&Object.assign(r.formInfo,{sumInsured:l.perCopyAmount,premium:l.perCopyPremium})}),o==="1"&&r.formInfo.paymentYear!=="single"&&(r.formInfo.paymentYear="single")}),U(()=>{var o;return(o=r.formInfo)==null?void 0:o.paymentYear},o=>{o==="single"&&r.formInfo.paymentFrequency!=="1"&&(r.formInfo.paymentFrequency="1")}),U(()=>i==null?void 0:i.mainRiskInfo,o=>{var e,d,s,u,l,m;o&&i.originData.riskType===2&&(((d=(e=i.originData)==null?void 0:e.riskInsureLimitVO)==null?void 0:d.insurancePeriodRule)===1&&(o.coverageYear?c.value.coverageYear.disabled=!0:c.value.coverageYear.prevent=!0,r.formInfo.coverageYear=o.coverageYear),((u=(s=i.originData)==null?void 0:s.riskInsureLimitVO)==null?void 0:u.paymentPeriodRule)===1&&(o.paymentYear?c.value.paymentYear.disabled=!0:c.value.paymentYear.prevent=!0,r.formInfo.paymentYear=o.paymentYear),((m=(l=i.originData)==null?void 0:l.riskInsureLimitVO)==null?void 0:m.paymentTypeRule)===1&&(o.paymentFrequency?c.value.paymentFrequency.disabled=!0:c.value.paymentFrequency.prevent=!0,r.formInfo.paymentFrequency=o.paymentFrequency))},{immediate:!0,deep:!0}),(o,e)=>{var h,B,x,q,H,N,X,Z,ee,$,me,fe,pe,ye,Ve,De,ke,ge,ve,Ie,be,Fe,Le,_e,he,Ce,Ee,Oe,Re,Ae,Be,Pe,Te,xe,qe,$e,Ye,Ue;const d=A("ProSvg"),s=A("ProTitle"),u=A("VanStepper"),l=A("VanField"),m=A("ProExpand");return V(),T("div",Et,[I(s,{"risk-type":(h=n.originData)==null?void 0:h.riskType,title:(B=n.originData)==null?void 0:B.riskName},{default:g(()=>[n.removeRiskList.includes(n.originData.id)?(V(),T("div",{key:0,class:"delete-risk",onClick:e[0]||(e[0]=y=>n.removeRisk(n.originData.id))},[I(d,{name:"delete",color:"#0d6efe"})])):O("",!0)]),_:1},8,["risk-type","title"]),((q=(x=n.originData)==null?void 0:x.riskCalcMethodInfoVO)==null?void 0:q.saleMethod)===1&&((H=n.originData)==null?void 0:H.exemptFlag)===2?(V(),E(l,{key:0,modelValue:t(r).formInfo.sumInsured,"onUpdate:modelValue":e[2]||(e[2]=y=>t(r).formInfo.sumInsured=y),label:"\u4FDD\u989D",name:"sumInsured",rules:[{required:!0,message:"\u8BF7\u586B\u5199"},{}]},{input:g(()=>{var y,C,P,w;return[R("div",Ot,[I(u,{modelValue:t(r).formInfo.sumInsured,"onUpdate:modelValue":e[1]||(e[1]=j=>t(r).formInfo.sumInsured=j),"input-width":"64px",min:t(f).min,step:((C=(y=n.originData)==null?void 0:y.riskCalcMethodInfoVO)==null?void 0:C.increaseDecreaseNum)||1,max:t(f).max},null,8,["modelValue","min","step","max"]),R("span",Rt,M(`\u91D1\u989D\u6700\u4F4E${t(f).min}\u5143\uFF0C\u4E3A${((w=(P=n.originData)==null?void 0:P.riskCalcMethodInfoVO)==null?void 0:w.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue"])):O("",!0),((X=(N=n.originData)==null?void 0:N.riskCalcMethodInfoVO)==null?void 0:X.saleMethod)===2?(V(),E(l,{key:1,modelValue:t(r).formInfo.premium,"onUpdate:modelValue":e[4]||(e[4]=y=>t(r).formInfo.premium=y),label:"\u4FDD\u8D39",name:"premium",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:g(()=>{var y,C,P,w;return[R("div",At,[I(u,{modelValue:t(r).formInfo.premium,"onUpdate:modelValue":e[3]||(e[3]=j=>t(r).formInfo.premium=j),step:((C=(y=n.originData)==null?void 0:y.riskCalcMethodInfoVO)==null?void 0:C.increaseDecreaseNum)||1,min:t(v).min,"input-width":"64px",max:t(v).max},null,8,["modelValue","step","min","max"]),R("span",Bt,M(`\u91D1\u989D\u6700\u4F4E${t(v).min}\u5143\uFF0C\u4E3A${((w=(P=n.originData)==null?void 0:P.riskCalcMethodInfoVO)==null?void 0:w.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue"])):O("",!0),((ee=(Z=n.originData)==null?void 0:Z.riskCalcMethodInfoVO)==null?void 0:ee.saleMethod)===3||((me=($=n.originData)==null?void 0:$.riskCalcMethodInfoVO)==null?void 0:me.saleMethod)===4&&(((pe=(fe=n.originData)==null?void 0:fe.riskCalcMethodInfoVO)==null?void 0:pe.minCopy)||((Ve=(ye=n.originData)==null?void 0:ye.riskCalcMethodInfoVO)==null?void 0:Ve.maxCopy))?(V(),E(l,{key:2,modelValue:t(r).formInfo.copy,"onUpdate:modelValue":e[6]||(e[6]=y=>t(r).formInfo.copy=y),label:"\u6295\u4FDD\u4EFD\u6570",name:"copy",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:g(()=>[R("div",Pt,[I(u,{modelValue:t(r).formInfo.copy,"onUpdate:modelValue":e[5]||(e[5]=y=>t(r).formInfo.copy=y),step:1,min:t(p).min,max:t(p).max},null,8,["modelValue","min","max"]),R("span",Tt,M(`${t(p).min}\u4EFD\u8D77\u8D2D\uFF0C\u6700\u591A\u8D2D\u4E70${t(p).max}\u4EFD`),1)])]),_:1},8,["modelValue"])):O("",!0),(![1,4].includes((ke=(De=n.originData)==null?void 0:De.riskCalcMethodInfoVO)==null?void 0:ke.saleMethod)||((ge=n.originData)==null?void 0:ge.exemptFlag)===1)&&((Ie=t(L))==null?void 0:Ie[(ve=n.originData)==null?void 0:ve.riskCode])?(V(),E(l,{key:3,label:"\u4FDD\u989D"},{input:g(()=>{var y,C,P;return[R("div",null,M((P=(C=t(L))==null?void 0:C[(y=n.originData)==null?void 0:y.riskCode])==null?void 0:P.amount),1)]}),_:1})):O("",!0),!b((Fe=(be=n.originData)==null?void 0:be.riskInsureLimitVO)==null?void 0:Fe.insurancePeriodValueList)||!b((_e=(Le=n.originData)==null?void 0:Le.riskInsureLimitVO)==null?void 0:_e.insurancePeriodRule)?(V(),E(l,{key:4,modelValue:t(r).formInfo.coverageYear,"onUpdate:modelValue":e[8]||(e[8]=y=>t(r).formInfo.coverageYear=y),label:"\u4FDD\u969C\u671F\u95F4",name:"coverageYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4FDD\u969C\u671F\u95F4"}]},{input:g(()=>[I(S,{modelValue:t(r).formInfo.coverageYear,"onUpdate:modelValue":e[7]||(e[7]=y=>t(r).formInfo.coverageYear=y),disabled:c.value.coverageYear.disabled,prevent:c.value.coverageYear.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4FDD\u969C\u671F\u95F4":"",options:t(D),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):O("",!0),!b((Ce=(he=n.originData)==null?void 0:he.riskInsureLimitVO)==null?void 0:Ce.paymentPeriodValueList)||!b((Oe=(Ee=n.originData)==null?void 0:Ee.riskInsureLimitVO)==null?void 0:Oe.paymentPeriodRule)?(V(),E(l,{key:5,modelValue:t(r).formInfo.paymentYear,"onUpdate:modelValue":e[10]||(e[10]=y=>t(r).formInfo.paymentYear=y),label:"\u4EA4\u8D39\u671F\u95F4",name:"paymentYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u671F\u95F4"}]},{input:g(()=>[I(S,{modelValue:t(r).formInfo.paymentYear,"onUpdate:modelValue":e[9]||(e[9]=y=>t(r).formInfo.paymentYear=y),disabled:c.value.paymentYear.disabled,prevent:c.value.paymentYear.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u671F\u95F4":"",options:t(a),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):O("",!0),!b((Ae=(Re=n.originData)==null?void 0:Re.riskInsureLimitVO)==null?void 0:Ae.paymentFrequencyList)||!b((Pe=(Be=n.originData)==null?void 0:Be.riskInsureLimitVO)==null?void 0:Pe.paymentPeriodRule)?(V(),E(l,{key:6,modelValue:t(r).formInfo.paymentFrequency,"onUpdate:modelValue":e[12]||(e[12]=y=>t(r).formInfo.paymentFrequency=y),label:"\u4EA4\u8D39\u65B9\u5F0F",name:"paymentFrequency",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u65B9\u5F0F"}]},{input:g(()=>[I(S,{modelValue:t(r).formInfo.paymentFrequency,"onUpdate:modelValue":e[11]||(e[11]=y=>t(r).formInfo.paymentFrequency=y),disabled:c.value.paymentFrequency.disabled,prevent:c.value.paymentFrequency.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u65B9\u5F0F":"",options:t(_)},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):O("",!0),b((xe=(Te=n.originData)==null?void 0:Te.riskInsureLimitVO)==null?void 0:xe.annuityDrawTypeList)?O("",!0):(V(),E(l,{key:7,modelValue:t(r).formInfo.annuityDrawDate,"onUpdate:modelValue":e[14]||(e[14]=y=>t(r).formInfo.annuityDrawDate=y),label:"\u9886\u53D6\u65F6\u95F4",name:"annuityDrawDate",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65F6\u95F4"}]},{input:g(()=>{var y,C;return[I(S,{modelValue:t(r).formInfo.annuityDrawDate,"onUpdate:modelValue":e[13]||(e[13]=P=>t(r).formInfo.annuityDrawDate=P),options:F(t(pt),(C=(y=n.originData)==null?void 0:y.riskInsureLimitVO)==null?void 0:C.annuityDrawTypeList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),b(($e=(qe=n.originData)==null?void 0:qe.riskInsureLimitVO)==null?void 0:$e.annuityDrawFrequencyList)?O("",!0):(V(),E(l,{key:8,modelValue:t(r).formInfo.annuityDrawType,"onUpdate:modelValue":e[16]||(e[16]=y=>t(r).formInfo.annuityDrawType=y),label:"\u9886\u53D6\u65B9\u5F0F",name:"annuityDrawType",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65B9\u5F0F"}]},{input:g(()=>{var y,C;return[I(S,{modelValue:t(r).formInfo.annuityDrawType,"onUpdate:modelValue":e[15]||(e[15]=P=>t(r).formInfo.annuityDrawType=P),options:F(t(yt),(C=(y=n.originData)==null?void 0:y.riskInsureLimitVO)==null?void 0:C.annuityDrawFrequencyList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),(V(!0),T(ae,null,oe(((Ye=n.originData)==null?void 0:Ye.riskLiabilityInfoVOList)||[],(y,C)=>(V(),T("div",{key:C},[y.optionalFlag===1?(V(),E(l,{key:0,modelValue:t(r).formInfo.liabilityVOList[C].liabilityAttributeValue,"onUpdate:modelValue":P=>t(r).formInfo.liabilityVOList[C].liabilityAttributeValue=P,label:y.liabilityName,name:"liabilityAttributeValue",rules:[{required:y.liabilityAttributeValue,message:`\u8BF7\u9009\u62E9${y.liabilityName}`}]},{input:g(()=>{var P,w,j;return[R("div",null,[b(y.liabilityAttributeValueList)?(V(),T("span",xt,"50\u4E07")):(V(),E(S,{key:1,modelValue:t(r).formInfo.liabilityVOList[C].liabilityAttributeValue,"onUpdate:modelValue":te=>t(r).formInfo.liabilityVOList[C].liabilityAttributeValue=te,options:F(t(Me),(j=(w=(P=n.originData)==null?void 0:P.riskLiabilityInfoVOList)==null?void 0:w[C])==null?void 0:j.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label","rules"])):(V(),E(l,{key:1,modelValue:t(r).formInfo.liabilityVOList[C].liabilityAttributeValue,"onUpdate:modelValue":P=>t(r).formInfo.liabilityVOList[C].liabilityAttributeValue=P,label:y.liabilityName,name:"liabilityAttributeValue"},{input:g(()=>{var P,w,j;return[R("div",null,[b(y.liabilityAttributeValueList)?(V(),E(S,{key:0,modelValue:t(r).formInfo.liabilityVOList[C].liabilityAttributeValue,"onUpdate:modelValue":te=>t(r).formInfo.liabilityVOList[C].liabilityAttributeValue=te,options:t(Dt)},null,8,["modelValue","onUpdate:modelValue","options"])):(V(),E(S,{key:1,modelValue:t(r).formInfo.liabilityVOList[C].liabilityAttributeValue,"onUpdate:modelValue":te=>t(r).formInfo.liabilityVOList[C].liabilityAttributeValue=te,options:F(t(Me),(j=(w=(P=n.originData)==null?void 0:P.riskLiabilityInfoVOList)==null?void 0:w[C])==null?void 0:j.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label"]))]))),128)),((Ue=n.originData)==null?void 0:Ue.relationDesc)?(V(),T("div",qt,[I(m,{title:"\u8D23\u4EFB\u6295\u4FDD\u8BF4\u660E"},{default:g(()=>{var y;return[R("div",null,M((y=n.originData)==null?void 0:y.relationDesc),1)]}),_:1})])):O("",!0)])}}});var Ge=W($t,[["__scopeId","data-v-57d04fec"]]);const Qe=n=>(He("data-v-0f247e43"),n=n(),Je(),n),Yt={class:"com-risk-list-wrapper"},Ut=Qe(()=>R("div",{class:"popup-title"},"\u9009\u62E9\u9644\u52A0\u9669",-1)),wt={class:"risk-list"},Nt={class:"cell-title"},St={class:"title"},Mt=Qe(()=>R("div",{class:"title-desc"},"\u6B64\u5904\u4E3A\u9669\u79CD\u7B80\u8981\u8BF4\u660E",-1)),jt={class:"footer-bar"},Kt=Q("\u786E\u8BA4"),Gt=G({props:{riskList:{type:Array,required:!0,default:()=>[]},show:{type:Boolean,required:!0,default:!1},collocationList:{type:Array,default:()=>[]},disabled:{type:Array,required:!0,default:()=>[]},modelValue:{type:Array,required:!0,default:()=>[]}},emits:["finished","close","update:modelValue"],setup(n,{emit:i}){const k=n,L=Y([]),c=Y([]),r=Y(k.disabled),b=z({show:k.show,currentChecked:[]}),F=(f,v)=>{if(!k.collocationList.length){if(v){b.currentChecked=[];return}b.currentChecked.push(f);return}let p=[],o=[];v?(k.collocationList.forEach(e=>{f===e.riskId&&(e.collocationType===2?p=p.filter(d=>d!==e.collocationRiskId||d!==f):e.collocationType===3&&(p=p.filter(d=>d!==f),o=o.filter(d=>d!==e.collocationRiskId)),o=o.filter(d=>d!==f))}),b.currentChecked=p,r.value=o):(k.collocationList.forEach(e=>{f===e.riskId&&(v||(e.collocationType===2?p.push(e.collocationRiskId):e.collocationType===3&&o.push(e.collocationRiskId),p.push(f)))}),b.currentChecked.push(...p),r.value=o)},D=f=>{var p,o,e;if(r.value.includes(f))return;const v=b.currentChecked.includes(f);F(f,v),(e=(o=(p=L==null?void 0:L.value)==null?void 0:p[f])==null?void 0:o.toggle)==null||e.call(o)},a=()=>{i("close")},_=()=>{const f=k.riskList.filter(v=>b.currentChecked.includes(v.id));i("update:modelValue",c),i("finished",f),i("close")};return ot(()=>{L.value=[]}),U(()=>b.currentChecked,f=>{c.value=f},{deep:!0,immediate:!0}),U(()=>k.modelValue,f=>{c.value=f,r.value=f},{deep:!0,immediate:!0}),(f,v)=>{const p=A("van-checkbox"),o=A("VanCell"),e=A("van-cell-group"),d=A("van-checkbox-group"),s=A("VanButton"),u=A("VanPopup");return V(),T("div",Yt,[I(u,{show:t(b).show,"onUpdate:show":v[1]||(v[1]=l=>t(b).show=l),title:"\u9009\u62E9\u9644\u52A0\u9669","show-footer":"",round:"",position:"bottom",closeable:"",onClose:a},{default:g(()=>[Ut,R("div",wt,[I(d,{modelValue:c.value,"onUpdate:modelValue":v[0]||(v[0]=l=>c.value=l)},{default:g(()=>[I(e,{inset:""},{default:g(()=>[(V(!0),T(ae,null,oe(n.riskList,l=>(V(),E(o,{key:l.id,title:l.riskName,disabled:r.value.includes(l.id),onClick:m=>D(l.id)},{"right-icon":g(()=>[I(p,{ref_for:!0,ref:m=>L.value[l.id]=m,shape:"square",disabled:r.value.includes(l.id),name:l.id,onClick:nt(m=>D(l.id),["stop"])},null,8,["disabled","name","onClick"])]),title:g(()=>[R("div",Nt,[R("div",St,M(l.riskName),1),Mt])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),R("div",jt,[I(s,{type:"primary",disabled:!t(b).currentChecked.length,block:"",onClick:_},{default:g(()=>[Kt]),_:1},8,["disabled"])])]),_:1},8,["show"])])}}});var Wt=W(Gt,[["__scopeId","data-v-0f247e43"]]);const Ht={class:"risk-list-wrapper"},Jt={key:1,class:"add-rider-risk"},zt={class:"left-part"},Qt=Q("+ \u9644\u52A0\u9669"),Xt=G({props:{riskInfo:{type:Object,required:!0,default:()=>{}},originData:{type:Object,required:!0,default:()=>{}},pickFactor:{type:Function,required:!0,default:()=>{}},enums:{type:Object,default:()=>{}}},setup(n){var F;const i=n,[k,L]=re(!1);Y(null),Y(null);const c=z({mainRiskInfo:i.riskInfo,riderRiskInfo:(F=i.riskInfo)==null?void 0:F.riderRiskVOList,requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[],checkedList:[],relationListNum:0,disabledList:[]}),r=(D,a)=>{c.requiredRiderRiskData=c.requiredRiderRiskData.concat(D)},b=D=>{ut.confirm({message:"\u786E\u5B9A\u8981\u5220\u9664\u9644\u52A0\u9669\u4E48\uFF1F"}).then(()=>{var _;const a=[D];(((_=c.mainRiskData)==null?void 0:_.collocationVOList)||[]).forEach(f=>{D===f.riskId&&f.collocationType===2&&a.push(f.collocationRiskId)}),c.checkedList=c.checkedList.filter(f=>!a.includes(f)),c.requiredRiderRiskData=c.requiredRiderRiskData.filter(f=>!a.includes(f.id)),Object.assign(c.riderRiskInfo,{[D]:void 0})}).catch(()=>{})};return se(()=>{c.requiredRiderRiskData}),U(()=>c.requiredRiderRiskData,D=>{const a=[c.mainRiskData,...D];let _=[],f=[];const v=[];a.forEach((p,o)=>{var d,s,u;const e=((d=p==null?void 0:p.riskCalcMethodInfoVO)==null?void 0:d.riskFactorRelationList)||[];_=_.concat(e.filter(l=>l.factorObject==="insured").map(l=>l.factorCode)),f=f.concat(e.filter(l=>l.factorObject==="holder").map(l=>l.factorCode)),v.push((s=p==null?void 0:p.riskInsureLimitVO)==null?void 0:s.minHolderAge,(u=p==null?void 0:p.riskInsureLimitVO)==null?void 0:u.maxHolderAge)}),(D||[]).forEach(p=>{var e;const o={riskType:p.riskType,riskId:p.id,riskCode:p.riskCode,mainRiskCode:c.mainRiskData.riskCode,mainRiskId:(e=c.mainRiskData)==null?void 0:e.id,riskCategory:p.riskCategory,liabilityVOList:(p.riskLiabilityInfoVOList||[]).map(d=>({liabilityAttributeCode:d.liabilityAttributeType,liabilityCode:d.liabilityCode,liabilityId:d.id,liabilityRateType:d.liabilityRateType}))};Object.assign(c.riderRiskInfo,{[p.id]:o})}),i.pickFactor({insuredFactorList:[...new Set(_)],holderFactorList:[...new Set(f)],ageRange:v})},{deep:!0,immediate:!0}),U(()=>i.originData,D=>{(D||[]).forEach(a=>{a.riskType===1?(c.mainRiskData=a,c.requiredRiderRiskData=(a==null?void 0:a.requiredRiderRiskVOList)||[],c.riderRiskList=a==null?void 0:a.optionalRiderRiskVOList):c.riderRiskList.push(a)})},{deep:!0,immediate:!0}),(D,a)=>{var _,f,v,p,o;return V(),T("div",Ht,[t(c).mainRiskData?(V(),E(Ge,{key:0,enums:n.enums,"form-info":t(c).mainRiskInfo,"origin-data":t(c).mainRiskData},null,8,["enums","form-info","origin-data"])):O("",!0),(V(!0),T(ae,null,oe(t(c).requiredRiderRiskData,(e,d)=>(V(),E(Ge,{key:e.id,"form-info":t(c).riderRiskInfo[e.id],index:d,enums:n.enums,"main-risk-data":t(c).mainRiskData,"main-risk-info":t(c).mainRiskInfo,"origin-data":e,"remove-risk":b,"remove-risk-list":t(c).checkedList},null,8,["form-info","index","enums","main-risk-data","main-risk-info","origin-data","remove-risk-list"]))),128)),((f=(_=t(c))==null?void 0:_.riderRiskList)==null?void 0:f.length)-((p=(v=t(c))==null?void 0:v.checkedList)==null?void 0:p.length)?(V(),T("div",Jt,[R("span",zt,M(`\u5171\u6709${t(c).riderRiskList.length-t(c).checkedList.length}\u6B3E\u9644\u52A0\u9669\u53EF\u4EE5\u6DFB\u52A0`),1),I(ct,{activied:"",onClick:a[0]||(a[0]=e=>t(L)(!0))},{default:g(()=>[Qt]),_:1})])):O("",!0),t(k)?(V(),E(Wt,{key:2,modelValue:t(c).checkedList,"onUpdate:modelValue":a[1]||(a[1]=e=>t(c).checkedList=e),show:t(k),disabled:t(c).disabledList,"risk-list":t(c).riderRiskList,"collocation-list":((o=t(c).mainRiskData)==null?void 0:o.collocationVOList)||[],onFinished:r,onClose:a[2]||(a[2]=e=>t(L)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):O("",!0)])}}});var We=W(Xt,[["__scopeId","data-v-2bfb6618"]]);const Zt=(n={})=>de.get(`/api/product/insureProductDetail/${n==null?void 0:n.productId}`,n),ei=(n={})=>de.post("/api/insurance/premiumCalc",n);const ti=G({props:{title:{type:String,default:()=>""},active:{type:Boolean,default:!1}},setup(n){return(i,k)=>(V(),T("button",{class:lt(n.active?"active-button":"")},M(n.title),3))}});var ii=W(ti,[["__scopeId","data-v-43a1c07a"]]);const ai={key:0,class:"part-card"},oi={key:1,class:"part-card"},ni={class:"risk-content"},ui={key:0,class:"risk"},li={key:1,class:"plan-risk"},ri={class:"footer-bar"},si={class:"trial-result"},di={class:"result-num"},ci=Q(" \u5143\u8D77 "),mi={class:"trial-operate"},fi={key:0,class:"retrial-tip"},pi=Q(" \u6761\u4EF6\u66F4\u6539\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u8BD5\u7B97 "),yi=Q("\u53BB\u8BD5\u7B97"),Vi=Q("\u7ACB\u5373\u6295\u4FDD"),Di=G({setup(n){const{id:i=118}=rt().query,k=Y({personVO:{}}),L=Y({insuredCode:"",personVO:{}}),c=Y({}),r=Y({}),b=Y({}),F=Y({}),D=Y({}),a=z({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0,retrialTip:!1,enumList:{},ageRange:[],collapseName:["1"]});st("premium",D.value);const _=()=>{a.retrialTip=!1},f=()=>{var m;const s=JSON.parse(JSON.stringify(c.value[a.currentPlan])),u=Object.values(s.riderRiskVOList).map(h=>{const B=h;if(B.paymentYear==="3"){const x=(c.value[a.currentPlan].paymentYear||"").split("_");x[1]&&(x[1]-=1),B.paymentYear=x.join("_")}return B.liabilityVOList=(B.liabilityVOList||[]).filter(x=>!["-1"].includes(x.liabilityAttributeValue)).map(x=>{const q=x;return q.liabilityAttributeValue==="0"&&(q.liabilityAttributeValue=""),q}),B});s.liabilityVOList=s.liabilityVOList.filter(h=>!["-1"].includes(h.liabilityAttributeValue)).map(h=>{const B=h;return B.liabilityAttributeValue==="0"&&(B.liabilityAttributeValue=""),B});const l={holder:{personVO:ie(J({},k.value.personVO),{birthday:k.value.personVO.birthday&&`${k.value.personVO.birthday} 00:00:00`})},productCode:(m=a==null?void 0:a.riskBaseInfo)==null?void 0:m.productCode,insuredVOList:[ie(J({},L.value),{personVO:ie(J({},L.value.personVO),{birthday:L.value.personVO.birthday&&`${L.value.personVO.birthday} 00:00:00`}),productPlanVOList:[{planCode:a.currentPlan||"",riskVOList:[ie(J({},s),{riderRiskVOList:u})]}]})]};ei(J({},l)).then(({code:h,data:B})=>{if(h==="10000"){a.retrialTip=!1,a.trialResult=B,a.canTrial=!1;const x={},q=(H=[])=>{(H||[]).forEach(N=>{x[N.riskCode]=N,N.riskPremiumDetailVOList&&q(N.riskPremiumDetailVOList)})};q(B.riskPremiumDetailVOList),Object.assign(D.value,x)}else a.retrialTip=!0})},v=()=>{var s,u,l,m,h;Promise.all([(u=(s=r==null?void 0:r.value)==null?void 0:s.validateForm)==null?void 0:u.call(s),(m=(l=b==null?void 0:b.value)==null?void 0:l.validateForm)==null?void 0:m.call(l),(h=F==null?void 0:F.value)==null?void 0:h.validate()]).then(()=>{f()})},p=()=>{dt("\u51C6\u5907\u6295\u4FDD")},o=()=>{ze({dictCodeList:["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD"]}).then(({code:u,data:l})=>{if(u==="10000"){const m={};l.forEach(h=>{m[h.dictCode]=h.dictItemList}),a.enumList=m}})},e=()=>{Zt({productId:i}).then(({code:s,data:u})=>{s==="10000"&&(a.riskBaseInfo=u==null?void 0:u.productBasicInfoVO,console.log("state.riskBaseInfo",a.riskBaseInfo),((u==null?void 0:u.productRelationPlanVOList)||(u==null?void 0:u.riskDetailVOList)||[]).forEach((l,m)=>{m===0&&(a.currentPlan=l.planCode||0),Object.assign(c.value,{[l.planCode||m]:{liabilityVOList:[],riderRiskVOList:{}}})}),a.riskData=(u==null?void 0:u.riskDetailVOList)||[],a.riskPlanData=(u==null?void 0:u.productRelationPlanVOList)||[])}).finally(()=>{})},d=s=>{a.holderFactor=s.holderFactorList,a.insuredFactor=s.insuredFactorList,a.ageRange=s.ageRange};return U([()=>c.value,()=>k.value,()=>L.value],s=>{s&&!a.canTrial&&(a.canTrial=!0,a.retrialTip=!0)},{deep:!0}),se(()=>{e(),o()}),(s,u)=>{const l=A("VanForm"),m=A("VanTab"),h=A("VanTabs"),B=A("van-collapse-item"),x=A("van-collapse"),q=A("VanButton"),H=A("ZaPageWrap");return V(),E(H,{class:"page-trial-wrapper"},{default:g(()=>{var N,X,Z,ee;return[t(a).holderFactor.length?(V(),T("div",ai,[I(ue,{title:"\u6295\u4FDD\u4EBA"}),I(Ke,{ref_key:"holderRef",ref:r,"insured-code":(N=t(a).riskBaseInfo)==null?void 0:N.insurerCode,"form-info":k.value.personVO,"factor-list":t(a).holderFactor,"age-range":t(a).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):O("",!0),t(a).insuredFactor.length?(V(),T("div",oi,[I(ue,{title:"\u88AB\u4FDD\u4EBA"}),I(Ke,{ref_key:"insuredRef",ref:b,"insured-code":(X=t(a).riskBaseInfo)==null?void 0:X.insurerCode,"form-info":L.value.personVO,"factor-list":t(a).insuredFactor,"age-range":t(a).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):O("",!0),R("div",ni,[I(x,{modelValue:t(a).collapseName,"onUpdate:modelValue":u[1]||(u[1]=$=>t(a).collapseName=$)},{default:g(()=>[I(B,{name:"1"},{title:g(()=>[I(ue,{title:"\u6295\u4FDD\u65B9\u6848"})]),default:g(()=>[t(a).riskData.length?(V(),T("div",ui,[I(l,{ref_key:"riskFormRef",ref:F,"input-align":"right","error-message-align":"right"},{default:g(()=>[I(We,{"risk-info":c.value[0],enums:t(a).enumList,"origin-data":t(a).riskData,"pick-factor":d},null,8,["risk-info","enums","origin-data"])]),_:1},512)])):O("",!0),t(a).riskPlanData.length?(V(),T("div",li,[I(l,{ref_key:"riskFormRef",ref:F,"input-align":"right","error-message-align":"right"},{default:g(()=>[I(h,{active:t(a).currentPlan,"onUpdate:active":u[0]||(u[0]=$=>t(a).currentPlan=$)},{default:g(()=>[(V(!0),T(ae,null,oe(t(a).riskPlanData,$=>(V(),E(m,{key:$.planCode,name:$.planCode,title:$.planName},{title:g(()=>[I(ii,{title:$.planName,active:t(a).currentPlan===$.planCode},null,8,["title","active"])]),default:g(()=>[$.planCode===t(a).currentPlan?(V(),E(We,{key:0,"risk-info":c.value[$.planCode],enums:t(a).enumList,"origin-data":$.riskDetailVOList,"pick-factor":d},null,8,["risk-info","enums","origin-data"])):O("",!0)]),_:2},1032,["name","title"]))),128))]),_:1},8,["active"])]),_:1},512)])):O("",!0)]),_:1})]),_:1},8,["modelValue"])]),R("div",ri,[R("span",si,[R("span",di,M((t(a).retrialTip?"0":((ee=(Z=t(a))==null?void 0:Z.trialResult)==null?void 0:ee.premium)||"0").toLocaleString()),1),ci]),R("div",mi,[t(a).retrialTip?(V(),T("div",fi,[pi,R("span",{class:"close-icon",onClick:_},"X")])):O("",!0),t(a).canTrial?(V(),E(q,{key:1,type:"primary",onClick:v},{default:g(()=>[yi]),_:1})):(V(),E(q,{key:2,type:"primary",onClick:p},{default:g(()=>[Vi]),_:1}))])])]}),_:1})}}});var bi=W(Di,[["__scopeId","data-v-260d15e9"]]);export{bi as default};
