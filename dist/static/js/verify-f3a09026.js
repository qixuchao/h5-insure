import{d as e,j as l,i as a,z as s,o,l as d,w as i,a as n,e as t,u as r,b as u,as as m,c as p,q as c,F as v,a8 as b,aa as y,bK as h,ap as f,am as g}from"./index-e18db70e.js";import{s as k,b as C,d as V,_ as j,R as w}from"./index-e15b0217.js";import{c as x}from"./format-b5e9d8b9.js";import"./keysIn-131bbce9.js";import"./isObjectLike-a9798079.js";import"./_getTag-0507d0b1.js";import"./debounce-6981b306.js";import"./phoneVerify-5635bdd8.js";import"./merge-e7788e50.js";import"./index-8290e5bc.js";import"./useDicData-34e49d0a.js";const L={class:"popup-container"},q={class:"popup-header"},_={class:"title"},U={class:"popup-body"},$=e({name:"checkCodePopup"}),P=e({...$,props:{show:{type:Boolean,default:!1},type:{default:"agent"},data:{default:()=>({})}},emits:["cancel","confirm"],setup(e,{emit:p}){const c=e,v=l((()=>c.show)),b=a({mobile:"",verifyCode:""}),y=l((()=>c.type)),h=a({holder:{type:"投保人",name:"",mobile:"",desc:""},agent:{type:"代理人",name:"李三",mobile:"13262278989",desc:"色卡上会计核算看回放独守空房还是空巅峰计划收款方"},insured:{type:"被保人",name:"",mobile:"",desc:""}}),f=()=>{p("cancel")},g=()=>{p("confirm")};return s(c.data,(e=>{Object.assign(b.value,e)}),{immediate:!0,deep:!0}),(e,l)=>{const a=C,s=V,p=m;return o(),d(p,{show:v.value,"onUpdate:show":l[1]||(l[1]=e=>v.value=e),class:"popup-check-mobile",closeable:!1,"close-on-click-overlay":!1},{default:i((()=>[n("div",L,[n("div",q,[n("span",{class:"clear-all",onClick:f}," 取消 "),n("span",_,t(`${h.value[y.value].type}手机号验证`),1),n("span",{class:"close",onClick:g},"确认")]),n("div",U,[n("h3",null,t(`尊敬的${h.value[y.value].type}${h.value[y.value].name}:`),1),n("p",null,t(h.value[y.value].desc),1),n("h3",null,t(`${h.value[y.value].type}手机号验证 ${r(x)(h.value[y.value].mobile||"")}`),1),u(s,{model:b.value},{default:i((()=>[u(a,{modelValue:b.value.verifyCode,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.verifyCode=e),"related-name":"mobile",label:" ",maxlength:"6","input-align":"left",placeholder:"请输入验证码",name:"verifyCode","send-s-m-s-code":r(k),rules:""},null,8,["modelValue","send-s-m-s-code"])])),_:1},8,["model"])])])])),_:1},8,["show"])}}});const R={class:"page-verify-wrap"},D={key:0,class:"header"},E={class:"sign-list"},O={class:"inner-cell"},z={class:"inner-cell"},B={class:"footer-button"},F=e({name:"verify"}),I=e({...F,setup(e){const l=a(!0),s=a({holder:{},insuredList:[{}]}),t=a(!1),m=a("agent"),x=()=>{t.value=!1},L=()=>{};return(e,a)=>{const q=y,_=h,U=f,$=g;return o(),p("div",R,[u(q),r(l)?(o(),p("div",D,[u(_,{type:"warning",content:"为保障您的合法权益，当前保单需要进行双录"})])):c("",!0),n("div",E,[u(U,{title:"代理人签名",required:"","is-link":"",value:"去签名",onClick:a[0]||(a[0]=e=>{return l="agent",m.value=l,void(t.value=!0);var l})}),r(l)?(o(),d(r(V),{key:1,model:r(s)},{default:i((()=>[u(r(j),{modelValue:r(s).holder.mobile,"onUpdate:modelValue":a[1]||(a[1]=e=>r(s).holder.mobile=e),rules:[{pattern:new RegExp(r(w).isPhone)}],label:"投保人手机号",name:"holder.mobile",maxlength:"11",required:""},null,8,["modelValue","rules"]),u(r(C),{modelValue:r(s).holder.verifyCode,"onUpdate:modelValue":a[2]||(a[2]=e=>r(s).holder.verifyCode=e),"related-name":"holder.mobile",label:"验证码",maxlength:"6",name:"holder.verifyCode","send-s-m-s-code":r(k),rules:"",required:""},null,8,["modelValue","send-s-m-s-code"]),u(r(j),{modelValue:r(s).insuredList[0].mobile,"onUpdate:modelValue":a[3]||(a[3]=e=>r(s).insuredList[0].mobile=e),label:"被保人手机号",name:"insuredList.0.mobile",maxlength:"11",required:"",rules:[{pattern:new RegExp(r(w).isPhone)}]},null,8,["modelValue","rules"]),u(r(C),{modelValue:r(s).insuredList[0].verifyCode,"onUpdate:modelValue":a[4]||(a[4]=e=>r(s).insuredList[0].verifyCode=e),label:"验证码",maxlength:"6",name:"insuredList.0.verifyCode","related-name":"insuredList.0.mobile","send-s-m-s-code":r(k),required:""},null,8,["modelValue","send-s-m-s-code"])])),_:1},8,["model"])):(o(),p(v,{key:0},[u(U,{title:"投保人签名",required:""},{value:i((()=>[n("div",O,[u(U,{"is-link":"",value:"分享空签邀约"}),u(U,{"is-link":"",value:"去签名"})])])),_:1}),u(U,{title:"被保人签名",required:""},{value:i((()=>[n("div",z,[u(U,{"is-link":"",value:"分享空签邀约"}),u(U,{"is-link":"",value:"去签名"})])])),_:1})],64))]),n("div",B,[u($,{type:"primary"},{default:i((()=>[b("下一步")])),_:1})]),u(P,{type:r(m),show:r(t),data:"",onCancel:x,onConfirm:L},null,8,["type","show"])])}}});export{I as default};
