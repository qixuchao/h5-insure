import{c as ke}from"./check-detail-c292a89b.js";import{_ as M,e as ue,i as Z,a as Fe,a7 as Se,I as Ae,V as te,S as Ne}from"./index-119d3d1b.js";import{h as O,m as l,s as f,C as t,B as o,L as D,r as y,$ as q,A as N,R as re,k as w,ag as xe,t as h,p as m,F as U,H,M as K,x as V,n as E,G as x,I as Ve,a5 as G,a6 as z,Z as Te,N as $e,T as Le,as as Oe,j as Ue,d as ge}from"./vendor-902054a7.js";import{C as Me,h as Re,i as He,R as ne,I as qe,a as Ye,j as je,S as Ke,g as oe}from"./infoCollection-38f1bb04.js";import{P as Ge}from"./index-d3e7ac0c.js";import{t as ae}from"./theme-3c294048.js";import{A as ze}from"./bankCard-9a81d270.js";import{c as Qe,n as Ie,i as we,m as We,d as Xe,e as Je,f as Ze,h as et}from"./utils-6e51d14e.js";import{v as tt,u as ot,H as at}from"./header-logo-59ba1c63.js";import{s as st,c as lt}from"./phoneVerify-3f24ff08.js";import{_ as nt}from"./index-7f9f6fac.js";import{L as ut}from"./loading-1c9c1d7b.js";import{c as rt}from"./close-bad1ffb4.js";import{i as it,g as dt,e as ct}from"./trial-4f6d7812.js";import{p as pt}from"./product-82161a47.js";const ft=["src"],mt=["src"],_t=O({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(s){const d=s;return(a,n)=>d.isCheck?(l(),f("img",{key:0,src:t(ke),class:"banner"},null,8,ft)):(l(),f("img",{key:1,src:d.url,class:"banner"},null,8,mt))}});var Ia=M(_t,[["__scopeId","data-v-574c4075"]]);const vt={class:"product-desc"},ht={class:"title"},Dt={class:"desc"},yt=O({props:{productName:{type:String,default:""},productDesc:{type:String,default:""}},setup(s){return(d,a)=>(l(),f("div",vt,[o("div",ht,D(s.productName),1),o("div",Dt,D(s.productDesc),1)]))}});var wa=M(yt,[["__scopeId","data-v-4bd6106c"]]);const bt=s=>(G("data-v-5150e01d"),s=s(),z(),s),Ct={class:"guarantee-list"},Ft={key:0,class:"plan-list"},gt=["onClick"],It={class:"basic"},wt={class:"feerate-view"},$t=bt(()=>o("span",null,"\u67E5\u770B\u4FDD\u8D39",-1)),Et={class:"guarantee-detail"},Pt={key:0,class:"plan-list"},Bt=["onClick"],kt={key:1},St={class:"extinfo-info-list"},At={class:"title"},Nt={class:"content"},xt=O({props:{dataSource:{type:Object,default:()=>{}},showConfig:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:10},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(s,{emit:d}){var $;const a=s,n=y(($=a.dataSource)==null?void 0:$.planList),i=y(a.activePlanCode);q(()=>a.dataSource,()=>{var r;a.isMultiplePlan&&(n.value=(r=a.dataSource)==null?void 0:r.planList)},{immediate:!0});const e=y([]),_=y([]);q([()=>a.dataSource,()=>a.activePlanCode],()=>{var r,S;if(i.value=a.activePlanCode,!a.isMultiplePlan)e.value=(r=a.dataSource)==null?void 0:r.planInsureVO.guaranteeItemVOS,_.value=(S=a.dataSource)==null?void 0:S.planInsureVO.extInfoVOList;else if(n.value&&n.value.length>0){let T=0;const Y=n.value.findIndex(W=>W.planCode===i.value);Y>-1&&(T=Y),e.value=n.value[T].guaranteeItemVOS,_.value=n.value[T].extInfoVOList}},{immediate:!0,deep:!0}),N(()=>{var r;return((r=a.dataSource)==null?void 0:r.rateUri)||""});const[P,b]=re(!1),v=N(()=>{var r;return!e.value||!((r=e.value)!=null&&r.length)?!1:e.value.length>a.count?a.isShowClose?!0:!P.value:!1}),c=()=>{b()},I=N(()=>{var r;return!e.value||!((r=e.value)!=null&&r.length)?[]:e.value.length<=a.count||P.value?e.value:e.value.slice(0,a.count)}),g=r=>{i.value=r,d("update-active-plan",r)},F=y(!1),p=()=>{F.value=!0};return(r,S)=>{const T=w("ProCell"),Y=w("ProCard"),W=w("ProPopup"),R=xe("dompurify-html");return l(),f(U,null,[o("div",Ct,[h(Y,{title:"\u4FDD\u969C\u8BA1\u5212",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!0,"show-icon":!0,onLinkClick:p},{default:m(()=>{var A;return[s.isMultiplePlan?(l(),f("div",Ft,[(l(!0),f(U,null,H(n.value,(L,J)=>(l(),f("div",{key:`${L.planCode}_${J}`,class:K(`plan-list-item ${L.planCode===i.value?"plan-list-item-active":""}`),onClick:ie=>g(L.planCode)},[o("span",null,D(L.planName),1)],10,gt))),128))])):V("",!0),o("div",It,[(l(!0),f(U,null,H(t(I),(L,J)=>(l(),E(T,{key:J,class:"guarantee-item",title:L.title,content:L.desc,border:!1},null,8,["title","content"]))),128))]),t(v)?(l(),f("div",{key:1,class:"show-more",onClick:c},[x(D(t(P)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),h(ue,{name:"down",class:K(["icon",{showMore:t(P)}])},null,8,["class"])])):V("",!0),o("div",wt,[o("span",null,D((A=a.showConfig)==null?void 0:A.price),1),$t])]}),_:1})]),h(W,{show:F.value,"onUpdate:show":S[0]||(S[0]=A=>F.value=A),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:m(()=>[o("div",Et,[s.isMultiplePlan?(l(),f("div",Pt,[(l(!0),f(U,null,H(n.value,(A,L)=>(l(),f("div",{key:`${A.planCode}_${L}`,class:K(`plan-list-item ${A.planCode===i.value?"plan-list-item-active":""}`),onClick:J=>g(A.planCode)},[o("span",null,D(A.planName),1)],10,Bt))),128))])):V("",!0),_.value&&_.value.length>0?(l(),f("div",kt,[o("div",St,[(l(!0),f(U,null,H(_.value,(A,L)=>(l(),f("div",{key:L,class:"extinfo-info-list-item"},[o("span",null,D(A.name),1),o("span",null,D(A.description),1)]))),128))]),h(Z)])):V("",!0),(l(!0),f(U,null,H(e.value,(A,L)=>(l(),f("div",{key:L,class:"guarantee-item"},[o("div",At,[o("span",null,D(A.title),1),o("span",null,D(A.desc),1)]),Ve(o("div",Nt,null,512),[[R,A.content]])]))),128))])]),_:1},8,["show"])],64)}}});var $a=M(xt,[["__scopeId","data-v-5150e01d"]]);const Vt=s=>(G("data-v-32c878ed"),s=s(),z(),s),Tt={class:"question"},Lt=Vt(()=>o("div",{class:"icon"},D("?"),-1)),Ot={class:"title"},Ut=O({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup(s){return(d,a)=>{const n=w("van-collapse-item");return l(),E(n,{name:s.name,class:"com-question-item"},{title:m(()=>[o("div",Tt,[Lt,o("div",Ot,D(s.question),1)])]),default:m(()=>[x(" "+D(s.answer),1)]),_:1},8,["name"])}}});var Mt=M(Ut,[["__scopeId","data-v-32c878ed"]]);const Rt={class:"com-question"},Ht=O({props:{list:{type:Array,default:()=>[]}},setup(s){const d=s,[a,n]=re(!1),i=y([]),e=()=>{n()},_=N(()=>d.list.length<=4||a.value?d.list:d.list.slice(0,4));return(P,b)=>{const v=w("van-collapse");return l(),f("div",Rt,[h(v,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=c=>i.value=c)},{default:m(()=>[(l(!0),f(U,null,H(t(_),(c,I)=>(l(),E(Mt,{key:I,name:I.toString(),question:c.title,answer:c.desc},null,8,["name","question","answer"]))),128))]),_:1},8,["modelValue"]),s.list.length>4?(l(),f("div",{key:0,class:"show-more",onClick:e},[x(D(t(a)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),h(ue,{name:"down",class:K(["icon",{showMore:t(a)}])},null,8,["class"])])):V("",!0)])}}});var qt=M(Ht,[["__scopeId","data-v-3476d8ba"]]);const Yt={class:"spec"},jt=["src"],Kt={key:1,class:"spec"},Gt=["src"],zt=O({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(s,{expose:d}){const a=s,n=y(),i=y([{title:"\u4EA7\u54C1\u4EAE\u70B9",slotName:"tab1"},{title:"\u7406\u8D54\u8BF4\u660E",slotName:"tab2"},{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab3"}]);return d({handleClickTab:()=>{var _;return(_=n.value)==null?void 0:_.handleClickTab}}),(_,P)=>(l(),E(Se,{ref_key:"scrollRef",ref:n,class:"tabs",list:i.value,sticky:"",scrollspy:""},{tab1:m(()=>{var b,v;return[o("div",Yt,[(l(!0),f(U,null,H(((v=(b=a.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.spec)||[],(c,I)=>(l(),f("img",{key:I,src:c,class:"detail-img"},null,8,jt))),128)),h(Z)])]}),tab2:m(()=>[h(Fe,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:m(()=>{var b,v,c,I,g,F,p,$;return[((v=(b=a.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.settlementProcessVO.settlementProcessType)===t(Me).WORD?(l(),E(Ge,{key:0,list:(g=(I=(c=a.detail)==null?void 0:c.tenantProductInsureVO)==null?void 0:I.settlementProcessVO)==null?void 0:g.settlementProcessList},null,8,["list"])):(l(),f("div",Kt,[(l(!0),f(U,null,H((($=(p=(F=a.detail)==null?void 0:F.tenantProductInsureVO)==null?void 0:p.settlementProcessVO)==null?void 0:$.settlementProcessPicList)||[],(r,S)=>(l(),f("img",{key:S,src:r,class:"detail-img"},null,8,Gt))),128)),h(Z)]))]}),_:1}),h(Fe,{title:"\u5E38\u89C1\u95EE\u9898"},{default:m(()=>{var b,v;return[h(qt,{list:(v=(b=a.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.questionList},null,8,["list"])]}),_:1})]),tab3:m(()=>[Te(_.$slots,"form",{},void 0,!0)]),_:3},8,["list"]))}});var Ea=M(zt,[["__scopeId","data-v-2d02091d"]]);const Qt=s=>(G("data-v-7cc672ae"),s=s(),z(),s),Wt={class:"refueling-package-com"},Xt=Qt(()=>o("div",{class:"title"},"\u52A0\u6CB9\u5305",-1)),Jt=O({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(s){const d=s,[a,n]=re(!1),i=N(()=>d.packageProductList.length>d.count?d.isShowClose?!0:!a.value:!1),e=()=>{n()},_=N(()=>d.packageProductList.length<=d.count||a.value?d.packageProductList:d.packageProductList.slice(0,d.count));return(P,b)=>{const v=w("ProRadioButton"),c=w("ProField"),I=w("ProForm");return l(),f("div",Wt,[Xt,h(I,{ref:"formRef"},{default:m(()=>[(l(!0),f(U,null,H(t(_),(g,F)=>(l(),E(c,{key:`${g.value}_${F}`,modelValue:g.value,"onUpdate:modelValue":p=>g.value=p,label:g.packageName,required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:m(()=>[h(v,{modelValue:g.value,"onUpdate:modelValue":p=>g.value=p,options:t(Re),disabled:g.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"]))),128)),t(i)?(l(),f("div",{key:0,class:"show-more",onClick:e},[x(D(t(a)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),h(ue,{name:"down",class:K(["icon",{showMore:t(a)}])},null,8,["class"])])):V("",!0)]),_:1},512)])}}});var Zt=M(Jt,[["__scopeId","data-v-7cc672ae"]]);const se=s=>(G("data-v-5b5f3948"),s=s(),z(),s),eo={class:"holder container"},to=se(()=>o("div",{class:"title"},"\u6295\u4FDD\u4EBA\u4FE1\u606F",-1)),oo={class:"insured-relation container"},ao=se(()=>o("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),so={class:"insured container"},lo=se(()=>o("div",{class:"title"},"\u88AB\u4FDD\u4EBA\u4FE1\u606F",-1)),no={key:0,class:"container"},uo=se(()=>o("div",{class:"payment container"},null,-1)),ro=O({props:{disable:{type:Boolean,default:!1},formAuth:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},payments:{type:Array,default:()=>[0,1]},paymentMethod:{type:Array,default:()=>[0,1]},productDetail:{type:Object,default:()=>{}},isShowPackage:{type:Boolean,default:!1}},emits:["onReset","onUpdate","onVerify"],setup(s,{expose:d,emit:a}){const n=s,i=y({}),e=$e({formInfo:n.formInfo}),_=y(!1),P=y(0),b=y(!1),v=60,c=y(0),I=y("\u83B7\u53D6\u9A8C\u8BC1\u7801"),g=y(!1),F=C=>tt(C)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D";N(()=>He.filter((C,u)=>n.payments.includes(u))),N(()=>ze.filter((C,u)=>n.paymentMethod.includes(u)));const p=N(()=>e.formInfo.insured.relationToHolder===ne.SELF),$=N(()=>{var C,u;return(((u=(C=n.productDetail)==null?void 0:C.tenantProductInsureVO)==null?void 0:u.attachmentVOList)||[]).filter(k=>k.attachmentName==="\u8D39\u7387\u8868")}),r=N(()=>{var C,u;return(((u=(C=n.productDetail)==null?void 0:C.tenantProductInsureVO)==null?void 0:u.attachmentVOList)||[]).filter(k=>!["\u5065\u5EB7\u544A\u77E5","\u8D39\u7387\u8868"].includes(k.attachmentName))||[]}),S=N(()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formInfo.holder.mobile)),T=()=>(b.value=!0,b),Y=C=>{P.value=C,_.value=!0},W=()=>{b.value=!1},R=()=>new Promise((C,u)=>{i==null||i.value.validate().then(()=>{C("")},()=>{u()})}),A=()=>{if(c.value>0)return;c.value=v;const C=()=>{I.value=`${c.value}s`,c.value-=1};C();const u=setInterval(()=>{c.value===0?(I.value="\u83B7\u53D6\u9A8C\u8BC1\u7801",c.value=0,clearInterval(u)):C()},1e3)},L=async()=>{c.value>0||i==null||i.value.validate("mobile").then(async()=>{const C=await st(e.formInfo.holder.mobile),{code:u,data:k}=C;u==="10000"&&(g.value=!0,Le({message:"\u77ED\u4FE1\u53D1\u9001\u6210\u529F\uFF0C\u8BF7\u67E5\u6536"}),A())})},J=()=>{const{relationToHolder:C}=e.formInfo.insured;C===ne.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:C},a("onReset")):(e.formInfo.insured={certNo:"",name:"",socialFlag:Ke.HAS,relationToHolder:C},a("onUpdate"))},ie=C=>new Promise((u,k)=>{if(!C||!Xe(C)||!e.formInfo.holder.mobile){u(!1);return}lt(e.formInfo.holder.mobile,e.formInfo.holder.mobileSmsCode).then(j=>{const{data:ee}=j;u(!!ee)})});return q([()=>e.formInfo.holder.certNo,()=>e.formInfo.insured.certNo],()=>{var C,u;e.formInfo.holder.certNo=(C=e.formInfo.holder.certNo)==null?void 0:C.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,""),e.formInfo.insured.certNo=(u=e.formInfo.insured.certNo)==null?void 0:u.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,"")},{deep:!0,immediate:!0}),q(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ne.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),q(()=>e.formInfo.insured.certNo,()=>{var u,k;let C=!1;Ae(e.formInfo.insured.certNo)&&(C=!0),(k=(u=e.formInfo)==null?void 0:u.packageProductList)==null||k.forEach(j=>{C?Qe(j,e.formInfo.insured.certNo)||(j.disabled=!0,j.value=qe.UN_INSURE):j.disabled=!1})}),d({validateForm:R,previewFile:Y,reEditForm:W,isAgreeFile:b,onSubmit:T}),(C,u)=>{const k=w("ProField"),j=w("van-button"),ee=w("ProRadioButton"),Pe=w("ProForm"),Be=w("van-config-provider");return l(),E(Be,{"theme-vars":t(ae)},{default:m(()=>[h(Pe,{ref_key:"formRef",ref:i},{default:m(()=>{var de,ce,pe,fe,me,_e,ve,he,De,ye,be,Ce;return[o("div",eo,[to,(de=n.formAuth)!=null&&de.holderNameDisable?(l(),E(k,{key:0,label:"\u59D3\u540D",class:"pro-field","is-view":!0},{input:m(()=>[x(D(t(Ie)(t(e).formInfo.holder.name)),1)]),_:1})):(l(),E(k,{key:1,modelValue:t(e).formInfo.holder.name,"onUpdate:modelValue":u[0]||(u[0]=B=>t(e).formInfo.holder.name=B),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"50",rules:[{validator:F}]},null,8,["modelValue","rules"])),(ce=n.formAuth)!=null&&ce.holderCertDisable?(l(),E(k,{key:2,label:"\u8BC1\u4EF6\u53F7\u7801",class:"pro-field","is-view":!0},{input:m(()=>[x(D(t(we)(t(e).formInfo.holder.certNo)),1)]),_:1})):(l(),E(k,{key:3,modelValue:t(e).formInfo.holder.certNo,"onUpdate:modelValue":u[1]||(u[1]=B=>t(e).formInfo.holder.certNo=B),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"18","validate-type":[t(te).ID_CARD]},null,8,["modelValue","validate-type"])),(pe=n.formAuth)!=null&&pe.holderMobileDisable?(l(),E(k,{key:4,label:"\u624B\u673A\u53F7",class:"pro-field","is-view":!0},{input:m(()=>[x(D(t(We)(t(e).formInfo.holder.mobile)),1)]),_:1})):(l(),E(k,{key:5,modelValue:t(e).formInfo.holder.mobile,"onUpdate:modelValue":u[2]||(u[2]=B=>t(e).formInfo.holder.mobile=B),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",type:"digit",maxlength:"11","validate-type":[t(te).PHONE]},null,8,["modelValue","validate-type"])),(fe=n.formAuth)!=null&&fe.holderMobileDisable?V("",!0):(l(),E(k,{key:6,modelValue:t(e).formInfo.holder.mobileSmsCode,"onUpdate:modelValue":u[3]||(u[3]=B=>t(e).formInfo.holder.mobileSmsCode=B),label:"\u9A8C\u8BC1\u7801",name:"mobileSmsCode",type:"digit",required:"",rules:[{validator:ie,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u9A8C\u8BC1\u7801"}],"input-align":"left",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801","error-message-align":"left",maxlength:"6","validate-type":[t(te).SMS_CODE]},{extra:m(()=>[h(j,{class:K(["sms-code",{"count-down":c.value>0}]),size:"small",type:"primary",disabled:!t(S),onClick:L},{default:m(()=>[x(D(I.value),1)]),_:1},8,["class","disabled"])]),_:1},8,["modelValue","rules","validate-type"]))]),h(Z),o("div",oo,[ao,h(k,{modelValue:t(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":u[5]||(u[5]=B=>t(e).formInfo.insured.relationToHolder=B),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9",onClick:J},{input:m(()=>{var B;return[h(ee,{modelValue:t(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":u[4]||(u[4]=le=>t(e).formInfo.insured.relationToHolder=le),disabled:(B=n.formAuth)==null?void 0:B.relationToHolderDisable,options:t(Ye)},null,8,["modelValue","disabled","options"])]}),_:1},8,["modelValue"])]),h(Z),o("div",so,[lo,(me=n.formAuth)!=null&&me.insuredNameDisable?(l(),E(k,{key:0,label:"\u59D3\u540D",class:"pro-field","is-view":!0},{input:m(()=>[x(D(t(Ie)(t(e).formInfo.insured.name)),1)]),_:1})):V("",!0),!((_e=n.formAuth)!=null&&_e.insuredNameDisable)&&!t(p)?(l(),E(k,{key:1,modelValue:t(e).formInfo.insured.name,"onUpdate:modelValue":u[6]||(u[6]=B=>t(e).formInfo.insured.name=B),label:"\u59D3\u540D",name:"name",required:"",maxlength:"50",rules:[{validator:F}]},null,8,["modelValue","rules"])):V("",!0),(ve=n.formAuth)!=null&&ve.insuredCertDisable?(l(),E(k,{key:2,label:"\u8BC1\u4EF6\u53F7\u7801",class:"pro-field","is-view":!0},{input:m(()=>[x(D(t(we)(t(e).formInfo.insured.certNo)),1)]),_:1})):V("",!0),!((he=n.formAuth)!=null&&he.insuredCertDisable)&&!t(p)?(l(),E(k,{key:3,modelValue:t(e).formInfo.insured.certNo,"onUpdate:modelValue":u[7]||(u[7]=B=>t(e).formInfo.insured.certNo=B),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[t(te).ID_CARD]},null,8,["modelValue","validate-type"])):V("",!0),h(k,{modelValue:t(e).formInfo.insured.socialFlag,"onUpdate:modelValue":u[9]||(u[9]=B=>t(e).formInfo.insured.socialFlag=B),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:m(()=>{var B;return[h(ee,{modelValue:t(e).formInfo.insured.socialFlag,"onUpdate:modelValue":u[8]||(u[8]=le=>t(e).formInfo.insured.socialFlag=le),disabled:(B=n.formAuth)==null?void 0:B.insuredSocialDisable,options:t(je)},null,8,["modelValue","disabled","options"])]}),_:1},8,["modelValue"])]),s.isShowPackage&&Array.isArray((De=s.formInfo)==null?void 0:De.packageProductList)&&((be=(ye=s.formInfo)==null?void 0:ye.packageProductList)==null?void 0:be.length)>0?(l(),f("div",no,[h(Z),h(Zt,{"package-product-list":(Ce=s.formInfo)==null?void 0:Ce.packageProductList},null,8,["package-product-list"])])):V("",!0),uo,h(nt,{show:_.value,"onUpdate:show":u[10]||(u[10]=B=>_.value=B),"content-list":t(r).concat(t($)),"active-index":P.value,text:"\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u544A\u77E5\u5185\u5BB9",onSubmit:T},null,8,["show","content-list","active-index"])]}),_:1},512)]),_:1},8,["theme-vars"])}}});var Pa=M(ro,[["__scopeId","data-v-5b5f3948"]]);const io=s=>(G("data-v-f8de4658"),s=s(),z(),s),co={key:0,class:"page-waiting"},po=["src"],fo=io(()=>o("div",{class:"tips"},[o("p",null,"\u652F\u4ED8\u6210\u529F\uFF0C\u627F\u4FDD\u4E2D...")],-1)),mo=O({props:{isShow:{type:Boolean,default:()=>{}}},setup(s){const d=s;return q(()=>d.isShow,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow="inherit"}),(a,n)=>d.isShow?(l(),f("div",co,[o("img",{class:"loading",src:t(ut)},null,8,po),fo])):V("",!0)}});var Ba=M(mo,[["__scopeId","data-v-f8de4658"]]);const Ee=s=>(G("data-v-6e6a8f5e"),s=s(),z(),s),_o={key:0,class:"pro-modal"},vo=Ee(()=>o("div",{class:"pro-overlay"},null,-1)),ho={class:"pro-modal-wrapper"},Do=["src"],yo={class:"pro-modal-body"},bo={class:"pro-modal-content"},Co=Ee(()=>o("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),Fo={class:"pro-modal-content"},go={class:"product-attachment-list"},Io=x(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),wo={key:0,class:"dun-hao"},$o={class:"pro-modal-close"},Eo=["src"],Po=O({props:{orderNo:{type:String,default:""},tenantId:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},upgradeCode:{type:String,default:""}},emits:["on-confirm","on-close"],setup(s,{emit:d}){const a=s,n=y(),i=y(),e=y(),_=y(),P=y([]),b=y(a.upgradeCode),v=()=>{d("on-close")},c=()=>{d("on-confirm")},I=async()=>{try{const F=Ze({tenantId:a.tenantId,premium:_.value,orderDetail:e.value,productDetail:n.value,insureDetail:i.value,successJumpUrl:"",iseeBizNo:""},et),p=await ct(F),{code:$,data:r}=p;$==="10000"&&(_.value=r.installmentPremium)}catch(F){console.log(F)}},g=()=>{const F=pt({productCode:b.value,withInsureInfo:!0,tenantId:a.tenantId}),p=it({productCode:b.value}),$=dt({orderNo:a.orderNo,tenantId:a.tenantId});Promise.all([F,p,$]).then(([r,S,T])=>{r.code==="10000"&&(n.value=r.data,P.value=r.data.tenantProductInsureVO.attachmentVOList),S.code==="10000"&&(i.value=S.data),T.code==="10000"&&(e.value=T.data),I()})};return q(()=>a.isShow,F=>{b.value=a.upgradeCode,F?(document.body.style.overflow="hidden",g()):document.body.style.overflow="inherit"}),(F,p)=>{const $=w("ProPDFviewer");return a.isShow?(l(),f("div",_o,[vo,o("div",ho,[o("img",{class:"cover",src:t(ot)},null,8,Do),o("div",yo,[o("div",bo,[o("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+D(t(Je)(_.value||0))+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),Co]),o("div",{class:"pro-modal-btn",onClick:c},"\u4E00\u952E\u5347\u7EA7"),o("div",Fo,[o("div",go,[Io,(l(!0),f(U,null,H(P.value,(r,S)=>(l(),E($,{key:S,class:"file-name",title:`\u300A${r.attachmentName}\u300B`,content:r.attachmentUri,type:"pdf"},{default:m(()=>[S!==(P.value||[]).length-1?(l(),f("span",wo,"\u3001")):V("",!0)]),_:2},1032,["title","content"]))),128))])])]),o("div",$o,[o("img",{src:t(rt),onClick:v},null,8,Eo)])])])):V("",!0)}}});var ka=M(Po,[["__scopeId","data-v-6e6a8f5e"]]);const Bo=s=>(G("data-v-b5fc84b4"),s=s(),z(),s),ko={class:"header"},So=["src"],Ao={class:"content"},No=Bo(()=>o("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A",-1)),xo=x(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Vo=["onClick"],To=x(" \uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 "),Lo={class:"footer"},Oo=x(" \u597D\u7684 "),Uo={key:0},Mo=O({props:{productDetail:{type:Object,default:()=>{}}},setup(s){const d=s,a="PRENOTICE",n=new Ne({source:"sessionStorage"}),i=y(!1),e=y(!1),_=Oe({time:4e3,onFinish:()=>{n.set(`${a}-isShow`,"1"),i.value=!1}}),P=y(),b=N(()=>{var I,g;return(((g=(I=d.productDetail)==null?void 0:I.tenantProductInsureVO)==null?void 0:g.attachmentVOList)||[]).filter(F=>F.attachmentName==="\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56")}),v=N(()=>_.current.value.seconds),c=I=>{e.value=!e.value,P.value=I};return Ue(()=>{i.value=!0,_.start()}),(I,g)=>{const F=w("VanButton"),p=w("ProPopup"),$=w("ProFilePreview");return l(),f(U,null,[h(p,{class:"pre-notice-wrap",show:i.value,closeable:!1,height:45},{default:m(()=>[o("div",ko,[o("img",{src:t(at)},null,8,So)]),o("div",Ao,[No,o("p",null,[xo,(l(!0),f(U,null,H(t(b),(r,S)=>(l(),f("span",{key:S,class:"file-name",onClick:T=>c(r.attachmentUri)}," \u300A"+D(r.attachmentName)+"\u300B ",9,Vo))),128)),To])]),o("div",Lo,[h(F,{type:"primary",block:"",round:""},{default:m(()=>[Oo,t(v)?(l(),f("span",Uo,D(t(v))+"s",1)):V("",!0)]),_:1})])]),_:1},8,["show"]),h(p,{show:e.value,"onUpdate:show":g[0]||(g[0]=r=>e.value=r),class:"pre-notice-wrap","close-icon":"close",position:"bottom",style:{height:"600px",paddingTop:"40px"}},{default:m(()=>[h($,{content:P.value,type:"pdf"},null,8,["content"])]),_:1},8,["show"])],64)}}});var Sa=M(Mo,[["__scopeId","data-v-b5fc84b4"]]);const Ro={class:"item"},Ho={class:"footer"},Aa=O({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"\u540C\u610F\uFF0C\u4E0B\u4E00\u6761"},forceReadCound:{type:Number,default:0}},emits:["update:show","submit","onCloseFilePreview"],setup(s,{emit:d}){const a=s,n=y(a.show),i=y(a.contentList.map((p,$)=>({...p,disabled:!0,readDisabled:!0}))),e=y(a.activeIndex),_=y(0),P=y(null),b=N(()=>{var p,$;return($=(p=i.value)==null?void 0:p[e.value])==null?void 0:$.attachmentUri}),v=N(()=>{var p;return(p=i.value[e.value])==null?void 0:p.readDisabled}),c=N(()=>e.value>=a.forceReadCound-1||_.value>=a.forceReadCound?!1:_.value<a.forceReadCound?e.value!==a.forceReadCound-1:!1),I=()=>{e.value+=1},g=()=>{d("update:show",!1),d("submit")};q(()=>a,()=>{n.value=a.show,e.value=a.activeIndex},{deep:!0,immediate:!0});const F=p=>{p&&Math.floor(p.target.scrollHeight-p.target.scrollTop)===p.target.clientHeight&&i.value[e.value].readDisabled&&(i.value[e.value].disabled=!1,i.value[e.value].readDisabled=!1,i.value[e.value+1].disabled=!1,_.value+=1)};return q(()=>e.value,()=>{a.show&&(_.value>=a.forceReadCound&&i.value.forEach(p=>{p.disabled=!1,p.readDisabled=!1}),P.value&&(P.value.scrollTop=0))},{immediate:!0}),(p,$)=>{const r=w("ProTab"),S=w("ProFilePreview"),T=w("VanButton"),Y=w("van-config-provider"),W=w("ProPopup");return l(),E(W,{show:n.value,"onUpdate:show":$[1]||($[1]=R=>n.value=R),class:"file-preview-popup-wrap",closeable:!1,onClose:$[2]||($[2]=R=>d("onCloseFilePreview"))},{default:m(()=>[h(Y,{"theme-vars":t(ae),class:"custom-provider"},{default:m(()=>[n.value?(l(),E(r,{key:0,active:e.value,"onUpdate:active":$[0]||($[0]=R=>e.value=R),list:i.value.map((R,A)=>({title:R.attachmentName,disabled:A==e.value?!1:R.disabled||!1,slotName:`guarantee-${A}`})),class:"tab"},null,8,["active","list"])):V("",!0),o("div",{ref_key:"previewRef",ref:P,class:"list",onScroll:F},[o("div",Ro,[(l(),E(S,{key:t(b),content:t(b),type:"pdf","forbid-click":!0},null,8,["content"]))])],544),o("div",Ho,[t(c)?(l(),E(T,{key:0,disabled:t(v),type:"primary",block:"",round:"",onClick:I},{default:m(()=>[x(D(`${s.beforeReadOverText}(${e.value+1}/${s.forceReadCound})`),1)]),_:1},8,["disabled"])):(l(),E(T,{key:1,disabled:t(v),type:"primary",block:"",round:"",onClick:g},{default:m(()=>[x(D(a.text),1)]),_:1},8,["disabled"]))])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const qo={class:"list"},Yo={class:"item"},jo={class:"footer"},Ko=x("\u90E8\u5206\u4E3A\u662F"),Go=x("\u5168\u90E8\u4E3A\u5426"),Na=O({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(s,{emit:d}){const a=s,n=y(a.show),i=y(a.activeIndex),e=N(()=>{var v;return(v=a.contentList[i.value])==null?void 0:v.attachmentUri}),_=y(!0),P=v=>{_.value=!1,d("update:show",!1),d("onConfirmHealth",v)},b=()=>{_.value&&d("onCloseHealth")};return q(()=>a,()=>{n.value=a.show,i.value=a.activeIndex},{deep:!0,immediate:!0}),(v,c)=>{const I=w("ProTab"),g=w("ProFilePreview"),F=w("VanButton"),p=w("van-config-provider"),$=w("ProPopup");return l(),E($,{show:n.value,"onUpdate:show":c[3]||(c[3]=r=>n.value=r),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:c[4]||(c[4]=r=>b())},{default:m(()=>[h(p,{"theme-vars":t(ae),class:"custom-provider"},{default:m(()=>[n.value?(l(),E(I,{key:0,active:i.value,"onUpdate:active":c[0]||(c[0]=r=>i.value=r),list:s.contentList.map((r,S)=>({title:r.attachmentName,slotName:`guarantee-${S}`})),class:"tab"},null,8,["active","list"])):V("",!0),o("div",qo,[o("div",Yo,[(l(),E(g,{key:t(e),content:t(e),type:"pdf"},null,8,["content"]))])]),o("div",jo,[h(F,{type:"primary",block:"",round:"",onClick:c[1]||(c[1]=r=>P("N"))},{default:m(()=>[Ko]),_:1}),h(F,{type:"primary",plain:"",block:"",round:"",onClick:c[2]||(c[2]=r=>P("allFalse"))},{default:m(()=>[Go]),_:1})])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const X=s=>(G("data-v-654d2e2c"),s=s(),z(),s),zo={class:"com-payment-type"},Qo=X(()=>o("div",{class:"title"},"\u4EA4\u8D39\u65B9\u5F0F",-1)),Wo={class:"content"},Xo=X(()=>o("div",{class:"pay-method"},[o("span",{class:"method"},D("\u6309\u6708\u4EA4\u8D39")),o("span",{class:"acount"},D("\u517112\u671F"))],-1)),Jo=[Xo],Zo=X(()=>o("div",{class:"tip"},[o("span",null,D("\u6BD4\u6309\u6708\u652F\u4ED8\u6700\u9AD8\u7701")),x(),o("span",null,"16%")],-1)),ea=X(()=>o("div",{class:"triangle"},null,-1)),ta=X(()=>o("div",{class:"pay-method"},[o("span",{class:"method"},D("\u4E00\u6B21\u4EA4\u6E05")),o("span",{class:"acount"},D("\u6BD4\u6708\u4EA4\u4FDD\u8D39\u7701\u6700\u9AD82014\u5143"))],-1)),oa=[Zo,ea,ta],aa={class:"guarantee-date"},sa=X(()=>o("span",null,"\u4FDD\u969C\u671F\u9650",-1)),la={class:"guarantee-date"},na=X(()=>o("span",null,"\u5B9E\u4ED8\u4FDD\u8D39",-1)),ua={class:"fee-text"},ra=O({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},productDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(s,{expose:d,emit:a}){const n=s;y({}),y(!0);const i=$e({formInfo:n.formInfo}),e=N(()=>ge(new Date).add(1,"day").format("YYYY.MM.DD")),_=N(()=>ge(new Date).add(1,"year").format("YYYY.MM.DD")),P=b=>{i.formInfo.paymentFrequency=b};return d({}),(b,v)=>{const c=w("ProDivider"),I=w("van-config-provider");return l(),E(I,{"theme-vars":t(ae)},{default:m(()=>{var g;return[o("div",zo,[Qo,o("div",Wo,[o("div",{class:K(`com-payment-type-item ${t(i).formInfo.paymentFrequency===t(oe).MONTH?"active":""}`),onClick:v[0]||(v[0]=F=>P(t(oe).MONTH))},Jo,2),o("div",{class:K(`com-payment-type-item ${t(i).formInfo.paymentFrequency===t(oe).YEAR?"active":""}`),onClick:v[1]||(v[1]=F=>P(t(oe).YEAR))},oa,2)]),o("div",aa,[sa,o("span",null,D(t(e))+" - "+D(t(_)),1)]),o("div",la,[na,o("span",ua,D((g=n.showConfig)==null?void 0:g.price),1)])]),h(c)]}),_:1},8,["theme-vars"])}}});var xa=M(ra,[["__scopeId","data-v-654d2e2c"]]);const Q={holderNameDisable:!0,holderCertDisable:!0,holderMobileDisable:!0,holderSocialDisable:!0,relationToHolderDisable:!0,insuredNameDisable:!0,insuredCertDisable:!0,insuredSocialDisable:!0,paymentDisable:!0,renewalDKDisable:!0,paymentFrequencyDisable:!0};({...Q});({...Q});({...Q});({...Q});({...Q});const Va={...Q,holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1};({...Q});({...Q});export{Ia as B,wa as D,$a as G,Pa as H,xa as P,Ea as S,ka as U,Ba as W,Na as _,Sa as a,Aa as b,Va as c,Q as d};
