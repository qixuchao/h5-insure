import{c as e}from"./check-detail-c292a89b.js";import{_ as a,e as l,i as t,a as o,a7 as s,I as n,V as r,S as i}from"./index-0db00022.js";import{i as d,m as u,s as c,C as v,B as m,L as p,r as f,$ as h,A as y,R as b,l as g,ag as I,t as k,p as w,F as C,H as P,M as V,x as _,n as D,G as S,I as N,a5 as O,a6 as x,Z as F,N as U,T as L,aw as A,k as j,d as H}from"./vendor-86ac9d42.js";import{C as R,h as T,i as M,R as q,I as B,a as $,j as E,S as Y,g as z}from"./infoCollection-4b71a25b.js";import{P as G}from"./index-9c7d57d5.js";import{t as K}from"./theme-3c294048.js";import{A as W}from"./bankCard-f85f1584.js";import{c as X,n as J,i as Z,m as Q,d as ee,e as ae,f as le,h as te}from"./utils-8c333450.js";import{v as oe,u as se,H as ne}from"./header-logo-59ba1c63.js";import{s as re,c as ie}from"./phoneVerify-f9ae5726.js";import{_ as de}from"./index-635678d6.js";import{L as ue}from"./loading-1c9c1d7b.js";import{c as ce}from"./close-bad1ffb4.js";import{i as ve,g as me,e as pe}from"./trial-cce58dca.js";import{p as fe}from"./product-0948d6f7.js";const he=["src"],ye=["src"];var be=a(d({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(a){const l=a;return(a,t)=>l.isCheck?(u(),c("img",{key:0,src:v(e),class:"banner"},null,8,he)):(u(),c("img",{key:1,src:l.url,class:"banner"},null,8,ye))}}),[["__scopeId","data-v-574c4075"]]);const ge={class:"product-desc"},Ie={class:"title"},ke={class:"desc"};var we=a(d({props:{productName:{type:String,default:""},productDesc:{type:String,default:""}},setup:e=>(a,l)=>(u(),c("div",ge,[m("div",Ie,p(e.productName),1),m("div",ke,p(e.productDesc),1)]))}),[["__scopeId","data-v-4bd6106c"]]);const Ce={class:"guarantee-list"},Pe={key:0,class:"plan-list"},Ve=["onClick"],_e={class:"basic"},De={class:"feerate-view"},Se=(e=>(O("data-v-5150e01d"),e=e(),x(),e))((()=>m("span",null,"查看保费",-1))),Ne={class:"guarantee-detail"},Oe={key:0,class:"plan-list"},xe=["onClick"],Fe={key:1},Ue={class:"extinfo-info-list"},Le={class:"title"},Ae={class:"content"};var je=a(d({props:{dataSource:{type:Object,default:()=>{}},showConfig:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:10},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(e,{emit:a}){var o;const s=e,n=f(null==(o=s.dataSource)?void 0:o.planList),r=f(s.activePlanCode);h((()=>s.dataSource),(()=>{var e;s.isMultiplePlan&&(n.value=null==(e=s.dataSource)?void 0:e.planList)}),{immediate:!0});const i=f([]),d=f([]);h([()=>s.dataSource,()=>s.activePlanCode],(()=>{var e,a;if(r.value=s.activePlanCode,s.isMultiplePlan){if(n.value&&n.value.length>0){let e=0;const a=n.value.findIndex((e=>e.planCode===r.value));a>-1&&(e=a),i.value=n.value[e].guaranteeItemVOS,d.value=n.value[e].extInfoVOList}}else i.value=null==(e=s.dataSource)?void 0:e.planInsureVO.guaranteeItemVOS,d.value=null==(a=s.dataSource)?void 0:a.planInsureVO.extInfoVOList}),{immediate:!0,deep:!0}),y((()=>{var e;return(null==(e=s.dataSource)?void 0:e.rateUri)||""}));const[O,x]=b(!1),F=y((()=>{var e;return!(!i.value||!(null==(e=i.value)?void 0:e.length))&&(i.value.length>s.count&&(!!s.isShowClose||!O.value))})),U=()=>{x()},L=y((()=>{var e;return i.value&&(null==(e=i.value)?void 0:e.length)?i.value.length<=s.count||O.value?i.value:i.value.slice(0,s.count):[]})),A=e=>{r.value=e,a("update-active-plan",e)},j=f(!1),H=()=>{j.value=!0};return(a,o)=>{const f=g("ProCell"),h=g("ProCard"),y=g("ProPopup"),b=I("dompurify-html");return u(),c(C,null,[m("div",Ce,[k(h,{title:"保障计划",link:"查看详情","show-divider":!0,"show-icon":!0,onLinkClick:H},{default:w((()=>{var a;return[e.isMultiplePlan?(u(),c("div",Pe,[(u(!0),c(C,null,P(n.value,((e,a)=>(u(),c("div",{key:`${e.planCode}_${a}`,class:V("plan-list-item "+(e.planCode===r.value?"plan-list-item-active":"")),onClick:a=>A(e.planCode)},[m("span",null,p(e.planName),1)],10,Ve)))),128))])):_("",!0),m("div",_e,[(u(!0),c(C,null,P(v(L),((e,a)=>(u(),D(f,{key:a,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128))]),v(F)?(u(),c("div",{key:1,class:"show-more",onClick:U},[S(p(v(O)?"收起":"查看更多")+" ",1),k(l,{name:"down",class:V(["icon",{showMore:v(O)}])},null,8,["class"])])):_("",!0),m("div",De,[m("span",null,p(null==(a=s.showConfig)?void 0:a.price),1),Se])]})),_:1})]),k(y,{show:j.value,"onUpdate:show":o[0]||(o[0]=e=>j.value=e),title:"保障详情",class:"guarantee-popup"},{default:w((()=>[m("div",Ne,[e.isMultiplePlan?(u(),c("div",Oe,[(u(!0),c(C,null,P(n.value,((e,a)=>(u(),c("div",{key:`${e.planCode}_${a}`,class:V("plan-list-item "+(e.planCode===r.value?"plan-list-item-active":"")),onClick:a=>A(e.planCode)},[m("span",null,p(e.planName),1)],10,xe)))),128))])):_("",!0),d.value&&d.value.length>0?(u(),c("div",Fe,[m("div",Ue,[(u(!0),c(C,null,P(d.value,((e,a)=>(u(),c("div",{key:a,class:"extinfo-info-list-item"},[m("span",null,p(e.name),1),m("span",null,p(e.description),1)])))),128))]),k(t)])):_("",!0),(u(!0),c(C,null,P(i.value,((e,a)=>(u(),c("div",{key:a,class:"guarantee-item"},[m("div",Le,[m("span",null,p(e.title),1),m("span",null,p(e.desc),1)]),N(m("div",Ae,null,512),[[b,e.content]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-5150e01d"]]);const He={class:"question"},Re=(e=>(O("data-v-32c878ed"),e=e(),x(),e))((()=>m("div",{class:"icon"},p("?"),-1))),Te={class:"title"};var Me=a(d({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup:e=>(a,l)=>{const t=g("van-collapse-item");return u(),D(t,{name:e.name,class:"com-question-item"},{title:w((()=>[m("div",He,[Re,m("div",Te,p(e.question),1)])])),default:w((()=>[S(" "+p(e.answer),1)])),_:1},8,["name"])}}),[["__scopeId","data-v-32c878ed"]]);const qe={class:"com-question"};var Be=a(d({props:{list:{type:Array,default:()=>[]}},setup(e){const a=e,[t,o]=b(!1),s=f([]),n=()=>{o()},r=y((()=>a.list.length<=4||t.value?a.list:a.list.slice(0,4)));return(a,o)=>{const i=g("van-collapse");return u(),c("div",qe,[k(i,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e)},{default:w((()=>[(u(!0),c(C,null,P(v(r),((e,a)=>(u(),D(Me,{key:a,name:a.toString(),question:e.title,answer:e.desc},null,8,["name","question","answer"])))),128))])),_:1},8,["modelValue"]),e.list.length>4?(u(),c("div",{key:0,class:"show-more",onClick:n},[S(p(v(t)?"收起":"展开")+" ",1),k(l,{name:"down",class:V(["icon",{showMore:v(t)}])},null,8,["class"])])):_("",!0)])}}}),[["__scopeId","data-v-3476d8ba"]]);const $e={class:"spec"},Ee=["src"],Ye={key:1,class:"spec"},ze=["src"];var Ge=a(d({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(e,{expose:a}){const l=e,n=f(),r=f([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]);return a({handleClickTab:()=>{var e;return null==(e=n.value)?void 0:e.handleClickTab}}),(e,a)=>(u(),D(s,{ref_key:"scrollRef",ref:n,class:"tabs",list:r.value,sticky:"",scrollspy:""},{tab1:w((()=>{var e,a;return[m("div",$e,[(u(!0),c(C,null,P((null==(a=null==(e=l.detail)?void 0:e.tenantProductInsureVO)?void 0:a.spec)||[],((e,a)=>(u(),c("img",{key:a,src:e,class:"detail-img"},null,8,Ee)))),128)),k(t)])]})),tab2:w((()=>[k(o,{title:"理赔流程"},{default:w((()=>{var e,a,o,s,n,r,i,d;return[(null==(a=null==(e=l.detail)?void 0:e.tenantProductInsureVO)?void 0:a.settlementProcessVO.settlementProcessType)===v(R).WORD?(u(),D(G,{key:0,list:null==(n=null==(s=null==(o=l.detail)?void 0:o.tenantProductInsureVO)?void 0:s.settlementProcessVO)?void 0:n.settlementProcessList},null,8,["list"])):(u(),c("div",Ye,[(u(!0),c(C,null,P((null==(d=null==(i=null==(r=l.detail)?void 0:r.tenantProductInsureVO)?void 0:i.settlementProcessVO)?void 0:d.settlementProcessPicList)||[],((e,a)=>(u(),c("img",{key:a,src:e,class:"detail-img"},null,8,ze)))),128)),k(t)]))]})),_:1}),k(o,{title:"常见问题"},{default:w((()=>{var e,a;return[k(Be,{list:null==(a=null==(e=l.detail)?void 0:e.tenantProductInsureVO)?void 0:a.questionList},null,8,["list"])]})),_:1})])),tab3:w((()=>[F(e.$slots,"form",{},void 0,!0)])),_:3},8,["list"]))}}),[["__scopeId","data-v-2d02091d"]]);const Ke={class:"refueling-package-com"},We=(e=>(O("data-v-7cc672ae"),e=e(),x(),e))((()=>m("div",{class:"title"},"加油包",-1)));var Xe=a(d({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(e){const a=e,[t,o]=b(!1),s=y((()=>a.packageProductList.length>a.count&&(!!a.isShowClose||!t.value))),n=()=>{o()},r=y((()=>a.packageProductList.length<=a.count||t.value?a.packageProductList:a.packageProductList.slice(0,a.count)));return(e,a)=>{const o=g("ProRadioButton"),i=g("ProField"),d=g("ProForm");return u(),c("div",Ke,[We,k(d,{ref:"formRef"},{default:w((()=>[(u(!0),c(C,null,P(v(r),((e,a)=>(u(),D(i,{key:`${e.value}_${a}`,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.packageName,required:"",placeholder:"请选择"},{input:w((()=>[k(o,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,options:v(T),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),v(s)?(u(),c("div",{key:0,class:"show-more",onClick:n},[S(p(v(t)?"收起":"查看更多")+" ",1),k(l,{name:"down",class:V(["icon",{showMore:v(t)}])},null,8,["class"])])):_("",!0)])),_:1},512)])}}}),[["__scopeId","data-v-7cc672ae"]]);const Je=e=>(O("data-v-5b5f3948"),e=e(),x(),e),Ze={class:"holder container"},Qe=Je((()=>m("div",{class:"title"},"投保人信息",-1))),ea={class:"insured-relation container"},aa=Je((()=>m("div",{class:"title"},"为谁投保",-1))),la={class:"insured container"},ta=Je((()=>m("div",{class:"title"},"被保人信息",-1))),oa={key:0,class:"container"},sa=Je((()=>m("div",{class:"payment container"},null,-1)));var na=a(d({props:{disable:{type:Boolean,default:!1},formAuth:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},payments:{type:Array,default:()=>[0,1]},paymentMethod:{type:Array,default:()=>[0,1]},productDetail:{type:Object,default:()=>{}},isShowPackage:{type:Boolean,default:!1}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:a,emit:l}){const o=e,s=f({}),i=U({formInfo:o.formInfo}),d=f(!1),b=f(0),I=f(!1),C=f(0),P=f("获取验证码"),N=f(!1),O=e=>!!oe(e)||"请输入正确的姓名";y((()=>M.filter(((e,a)=>o.payments.includes(a))))),y((()=>W.filter(((e,a)=>o.paymentMethod.includes(a)))));const x=y((()=>i.formInfo.insured.relationToHolder===q.SELF)),F=y((()=>{var e,a;return((null==(a=null==(e=o.productDetail)?void 0:e.tenantProductInsureVO)?void 0:a.attachmentVOList)||[]).filter((e=>"费率表"===e.attachmentName))})),A=y((()=>{var e,a;return((null==(a=null==(e=o.productDetail)?void 0:e.tenantProductInsureVO)?void 0:a.attachmentVOList)||[]).filter((e=>!["健康告知","费率表"].includes(e.attachmentName)))||[]})),j=y((()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(i.formInfo.holder.mobile))),H=()=>(I.value=!0,I),R=async()=>{C.value>0||null==s||s.value.validate("mobile").then((async()=>{const e=await re(i.formInfo.holder.mobile),{code:a,data:l}=e;"10000"===a&&(N.value=!0,L({message:"短信发送成功，请查收"}),(()=>{if(C.value>0)return;C.value=60;const e=()=>{P.value=`${C.value}s`,C.value-=1};e();const a=setInterval((()=>{0===C.value?(P.value="获取验证码",C.value=0,clearInterval(a)):e()}),1e3)})())}))},T=()=>{const{relationToHolder:e}=i.formInfo.insured;e===q.SELF?(i.formInfo.insured={certNo:i.formInfo.holder.certNo,name:i.formInfo.holder.name,socialFlag:i.formInfo.holder.socialFlag,relationToHolder:e},l("onReset")):(i.formInfo.insured={certNo:"",name:"",socialFlag:Y.HAS,relationToHolder:e},l("onUpdate"))},z=e=>new Promise(((a,l)=>{e&&ee(e)&&i.formInfo.holder.mobile?ie(i.formInfo.holder.mobile,i.formInfo.holder.mobileSmsCode).then((e=>{const{data:l}=e;a(!!l)})):a(!1)}));return h([()=>i.formInfo.holder.certNo,()=>i.formInfo.insured.certNo],(()=>{var e,a;i.formInfo.holder.certNo=null==(e=i.formInfo.holder.certNo)?void 0:e.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,""),i.formInfo.insured.certNo=null==(a=i.formInfo.insured.certNo)?void 0:a.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,"")}),{deep:!0,immediate:!0}),h((()=>i.formInfo.holder),(()=>{i.formInfo.insured.relationToHolder===q.SELF&&Object.assign(i.formInfo.insured,i.formInfo.holder)}),{deep:!0,immediate:!0}),h((()=>i.formInfo.insured.certNo),(()=>{var e,a;let l=!1;n(i.formInfo.insured.certNo)&&(l=!0),null==(a=null==(e=i.formInfo)?void 0:e.packageProductList)||a.forEach((e=>{if(l){X(e,i.formInfo.insured.certNo)||(e.disabled=!0,e.value=B.UN_INSURE)}else e.disabled=!1}))})),a({validateForm:()=>new Promise(((e,a)=>{null==s||s.value.validate().then((()=>{e("")}),(()=>{a()}))})),previewFile:e=>{b.value=e,d.value=!0},reEditForm:()=>{I.value=!1},isAgreeFile:I,onSubmit:H}),(a,l)=>{const n=g("ProField"),f=g("van-button"),h=g("ProRadioButton"),y=g("ProForm"),I=g("van-config-provider");return u(),D(I,{"theme-vars":v(K)},{default:w((()=>[k(y,{ref_key:"formRef",ref:s},{default:w((()=>{var a,s,y,g,I,N,U,L,M,q,B,Y;return[m("div",Ze,[Qe,(null==(a=o.formAuth)?void 0:a.holderNameDisable)?(u(),D(n,{key:0,label:"姓名",class:"pro-field","is-view":!0},{input:w((()=>[S(p(v(J)(v(i).formInfo.holder.name)),1)])),_:1})):(u(),D(n,{key:1,modelValue:v(i).formInfo.holder.name,"onUpdate:modelValue":l[0]||(l[0]=e=>v(i).formInfo.holder.name=e),label:"姓名",name:"name",required:"",placeholder:"请输入姓名",maxlength:"50",rules:[{validator:O}]},null,8,["modelValue","rules"])),(null==(s=o.formAuth)?void 0:s.holderCertDisable)?(u(),D(n,{key:2,label:"证件号码",class:"pro-field","is-view":!0},{input:w((()=>[S(p(v(Z)(v(i).formInfo.holder.certNo)),1)])),_:1})):(u(),D(n,{key:3,modelValue:v(i).formInfo.holder.certNo,"onUpdate:modelValue":l[1]||(l[1]=e=>v(i).formInfo.holder.certNo=e),label:"证件号码",name:"certNo",required:"",placeholder:"请输入身份证号",maxlength:"18","validate-type":[v(r).ID_CARD]},null,8,["modelValue","validate-type"])),(null==(y=o.formAuth)?void 0:y.holderMobileDisable)?(u(),D(n,{key:4,label:"手机号",class:"pro-field","is-view":!0},{input:w((()=>[S(p(v(Q)(v(i).formInfo.holder.mobile)),1)])),_:1})):(u(),D(n,{key:5,modelValue:v(i).formInfo.holder.mobile,"onUpdate:modelValue":l[2]||(l[2]=e=>v(i).formInfo.holder.mobile=e),label:"手机号",name:"mobile",required:"",placeholder:"请输入手机号",type:"digit",maxlength:"11","validate-type":[v(r).PHONE]},null,8,["modelValue","validate-type"])),(null==(g=o.formAuth)?void 0:g.holderMobileDisable)?_("",!0):(u(),D(n,{key:6,modelValue:v(i).formInfo.holder.mobileSmsCode,"onUpdate:modelValue":l[3]||(l[3]=e=>v(i).formInfo.holder.mobileSmsCode=e),label:"验证码",name:"mobileSmsCode",type:"digit",required:"",rules:[{validator:z,message:"请输入正确的验证码"}],"input-align":"left",placeholder:"请输入验证码","error-message-align":"left",maxlength:"6","validate-type":[v(r).SMS_CODE]},{extra:w((()=>[k(f,{class:V(["sms-code",{"count-down":C.value>0}]),size:"small",type:"primary",disabled:!v(j),onClick:R},{default:w((()=>[S(p(P.value),1)])),_:1},8,["class","disabled"])])),_:1},8,["modelValue","rules","validate-type"]))]),k(t),m("div",ea,[aa,k(n,{modelValue:v(i).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[5]||(l[5]=e=>v(i).formInfo.insured.relationToHolder=e),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"请选择",onClick:T},{input:w((()=>{var e;return[k(h,{modelValue:v(i).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[4]||(l[4]=e=>v(i).formInfo.insured.relationToHolder=e),disabled:null==(e=o.formAuth)?void 0:e.relationToHolderDisable,options:v($)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"])]),k(t),m("div",la,[ta,(null==(I=o.formAuth)?void 0:I.insuredNameDisable)?(u(),D(n,{key:0,label:"姓名",class:"pro-field","is-view":!0},{input:w((()=>[S(p(v(J)(v(i).formInfo.insured.name)),1)])),_:1})):_("",!0),(null==(N=o.formAuth)?void 0:N.insuredNameDisable)||v(x)?_("",!0):(u(),D(n,{key:1,modelValue:v(i).formInfo.insured.name,"onUpdate:modelValue":l[6]||(l[6]=e=>v(i).formInfo.insured.name=e),label:"姓名",name:"name",required:"",maxlength:"50",rules:[{validator:O}]},null,8,["modelValue","rules"])),(null==(U=o.formAuth)?void 0:U.insuredCertDisable)?(u(),D(n,{key:2,label:"证件号码",class:"pro-field","is-view":!0},{input:w((()=>[S(p(v(Z)(v(i).formInfo.insured.certNo)),1)])),_:1})):_("",!0),(null==(L=o.formAuth)?void 0:L.insuredCertDisable)||v(x)?_("",!0):(u(),D(n,{key:3,modelValue:v(i).formInfo.insured.certNo,"onUpdate:modelValue":l[7]||(l[7]=e=>v(i).formInfo.insured.certNo=e),label:"证件号码",name:"certNo",required:"",placeholder:"请输入身份证号",maxlength:"20","validate-type":[v(r).ID_CARD]},null,8,["modelValue","validate-type"])),k(n,{modelValue:v(i).formInfo.insured.socialFlag,"onUpdate:modelValue":l[9]||(l[9]=e=>v(i).formInfo.insured.socialFlag=e),label:"有无社保",name:"name",required:"",placeholder:"请选择"},{input:w((()=>{var e;return[k(h,{modelValue:v(i).formInfo.insured.socialFlag,"onUpdate:modelValue":l[8]||(l[8]=e=>v(i).formInfo.insured.socialFlag=e),disabled:null==(e=o.formAuth)?void 0:e.insuredSocialDisable,options:v(E)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"])]),e.isShowPackage&&Array.isArray(null==(M=e.formInfo)?void 0:M.packageProductList)&&(null==(B=null==(q=e.formInfo)?void 0:q.packageProductList)?void 0:B.length)>0?(u(),c("div",oa,[k(t),k(Xe,{"package-product-list":null==(Y=e.formInfo)?void 0:Y.packageProductList},null,8,["package-product-list"])])):_("",!0),sa,k(de,{show:d.value,"onUpdate:show":l[10]||(l[10]=e=>d.value=e),"content-list":v(A).concat(v(F)),"active-index":b.value,text:"我已逐页阅读并确认告知内容",onSubmit:H},null,8,["show","content-list","active-index"])]})),_:1},512)])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-5b5f3948"]]);const ra={key:0,class:"page-waiting"},ia=["src"],da=(e=>(O("data-v-f8de4658"),e=e(),x(),e))((()=>m("div",{class:"tips"},[m("p",null,"支付成功，承保中...")],-1)));var ua=a(d({props:{isShow:{type:Boolean,default:()=>{}}},setup(e){const a=e;return h((()=>a.isShow),(e=>{document.body.style.overflow=e?"hidden":"inherit"})),(e,l)=>a.isShow?(u(),c("div",ra,[m("img",{class:"loading",src:v(ue)},null,8,ia),da])):_("",!0)}}),[["__scopeId","data-v-f8de4658"]]);const ca=e=>(O("data-v-6e6a8f5e"),e=e(),x(),e),va={key:0,class:"pro-modal"},ma=ca((()=>m("div",{class:"pro-overlay"},null,-1))),pa={class:"pro-modal-wrapper"},fa=["src"],ha={class:"pro-modal-body"},ya={class:"pro-modal-content"},ba=ca((()=>m("p",{class:"tips"},"升级后的保障将于第二期保费扣费/缴费成功后生效",-1))),ga={class:"pro-modal-content"},Ia={class:"product-attachment-list"},ka=S(" 请您重点阅读并知晓 "),wa={key:0,class:"dun-hao"},Ca={class:"pro-modal-close"},Pa=["src"];var Va=a(d({props:{orderNo:{type:String,default:""},tenantId:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},upgradeCode:{type:String,default:""}},emits:["on-confirm","on-close"],setup(e,{emit:a}){const l=e,t=f(),o=f(),s=f(),n=f(),r=f([]),i=f(l.upgradeCode),d=()=>{a("on-close")},y=()=>{a("on-confirm")},b=()=>{const e=fe({productCode:i.value,withInsureInfo:!0,tenantId:l.tenantId}),a=ve({productCode:i.value}),d=me({orderNo:l.orderNo,tenantId:l.tenantId});Promise.all([e,a,d]).then((([e,a,i])=>{"10000"===e.code&&(t.value=e.data,r.value=e.data.tenantProductInsureVO.attachmentVOList),"10000"===a.code&&(o.value=a.data),"10000"===i.code&&(s.value=i.data),(async()=>{try{const e=le({tenantId:l.tenantId,premium:n.value,orderDetail:s.value,productDetail:t.value,insureDetail:o.value,successJumpUrl:"",iseeBizNo:""},te),a=await pe(e),{code:r,data:i}=a;"10000"===r&&(n.value=i.installmentPremium)}catch(e){}})()}))};return h((()=>l.isShow),(e=>{i.value=l.upgradeCode,e?(document.body.style.overflow="hidden",b()):document.body.style.overflow="inherit"})),(e,a)=>{const t=g("ProPDFviewer");return l.isShow?(u(),c("div",va,[ma,m("div",pa,[m("img",{class:"cover",src:v(se)},null,8,fa),m("div",ha,[m("div",ya,[m("p",null,"每月保费仅需"+p(v(ae)(n.value||0))+"元，无需重复投保",1),ba]),m("div",{class:"pro-modal-btn",onClick:y},"一键升级"),m("div",ga,[m("div",Ia,[ka,(u(!0),c(C,null,P(r.value,((e,a)=>(u(),D(t,{key:a,class:"file-name",title:`《${e.attachmentName}》`,content:e.attachmentUri,type:"pdf"},{default:w((()=>[a!==(r.value||[]).length-1?(u(),c("span",wa,"、")):_("",!0)])),_:2},1032,["title","content"])))),128))])])]),m("div",Ca,[m("img",{src:v(ce),onClick:d},null,8,Pa)])])])):_("",!0)}}}),[["__scopeId","data-v-6e6a8f5e"]]);const _a={class:"header"},Da=["src"],Sa={class:"content"},Na=(e=>(O("data-v-b5fc84b4"),e=e(),x(),e))((()=>m("h4",null,"温馨提示，您已进入投保流程：",-1))),Oa=S(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),xa=["onClick"],Fa=S(" ，为维护您的合法权益，您的操作轨迹将被记录。 "),Ua={class:"footer"},La=S(" 好的 "),Aa={key:0};var ja=a(d({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,l=new i({source:"sessionStorage"}),t=f(!1),o=f(!1),s=A({time:4e3,onFinish:()=>{l.set("PRENOTICE-isShow","1"),t.value=!1}}),n=f(),r=y((()=>{var e,l;return((null==(l=null==(e=a.productDetail)?void 0:e.tenantProductInsureVO)?void 0:l.attachmentVOList)||[]).filter((e=>"个人信息保护政策"===e.attachmentName))})),d=y((()=>s.current.value.seconds));return j((()=>{t.value=!0,s.start()})),(e,a)=>{const l=g("VanButton"),s=g("ProPopup"),i=g("ProFilePreview");return u(),c(C,null,[k(s,{class:"pre-notice-wrap",show:t.value,closeable:!1,height:45},{default:w((()=>[m("div",_a,[m("img",{src:v(ne)},null,8,Da)]),m("div",Sa,[Na,m("p",null,[Oa,(u(!0),c(C,null,P(v(r),((e,a)=>(u(),c("span",{key:a,class:"file-name",onClick:a=>{return l=e.attachmentUri,o.value=!o.value,void(n.value=l);var l}}," 《"+p(e.attachmentName)+"》 ",9,xa)))),128)),Fa])]),m("div",Ua,[k(l,{type:"primary",block:"",round:""},{default:w((()=>[La,v(d)?(u(),c("span",Aa,p(v(d))+"s",1)):_("",!0)])),_:1})])])),_:1},8,["show"]),k(s,{show:o.value,"onUpdate:show":a[0]||(a[0]=e=>o.value=e),class:"pre-notice-wrap","close-icon":"close",position:"bottom",style:{height:"600px",paddingTop:"40px"}},{default:w((()=>[k(i,{content:n.value,type:"pdf"},null,8,["content"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-b5fc84b4"]]);const Ha={class:"item"},Ra={class:"footer"},Ta=d({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"同意，下一条"},forceReadCound:{type:Number,default:0}},emits:["update:show","submit","onCloseFilePreview"],setup(e,{emit:a}){const l=e,t=f(l.show),o=f(l.contentList.map(((e,a)=>({...e,disabled:!0,readDisabled:!0})))),s=f(l.activeIndex),n=f(0),r=f(null),i=y((()=>{var e,a;return null==(a=null==(e=o.value)?void 0:e[s.value])?void 0:a.attachmentUri})),d=y((()=>{var e;return null==(e=o.value[s.value])?void 0:e.readDisabled})),c=y((()=>!(s.value>=l.forceReadCound-1)&&(!(n.value>=l.forceReadCound)&&(n.value<l.forceReadCound&&s.value!==l.forceReadCound-1)))),b=()=>{s.value+=1},I=()=>{a("update:show",!1),a("submit")};h((()=>l),(()=>{t.value=l.show,s.value=l.activeIndex}),{deep:!0,immediate:!0});const C=e=>{e&&Math.floor(e.target.scrollHeight-e.target.scrollTop)===e.target.clientHeight&&o.value[s.value].readDisabled&&(o.value[s.value].disabled=!1,o.value[s.value].readDisabled=!1,o.value[s.value+1].disabled=!1,n.value+=1)};return h((()=>s.value),(()=>{l.show&&(n.value>=l.forceReadCound&&o.value.forEach((e=>{e.disabled=!1,e.readDisabled=!1})),r.value&&(r.value.scrollTop=0))}),{immediate:!0}),(n,f)=>{const h=g("ProTab"),y=g("ProFilePreview"),P=g("VanButton"),V=g("van-config-provider"),N=g("ProPopup");return u(),D(N,{show:t.value,"onUpdate:show":f[1]||(f[1]=e=>t.value=e),class:"file-preview-popup-wrap",closeable:!1,onClose:f[2]||(f[2]=e=>a("onCloseFilePreview"))},{default:w((()=>[k(V,{"theme-vars":v(K),class:"custom-provider"},{default:w((()=>[t.value?(u(),D(h,{key:0,active:s.value,"onUpdate:active":f[0]||(f[0]=e=>s.value=e),list:o.value.map(((e,a)=>({title:e.attachmentName,disabled:a!=s.value&&(e.disabled||!1),slotName:`guarantee-${a}`}))),class:"tab"},null,8,["active","list"])):_("",!0),m("div",{ref_key:"previewRef",ref:r,class:"list",onScroll:C},[m("div",Ha,[(u(),D(y,{key:v(i),content:v(i),type:"pdf","forbid-click":!0},null,8,["content"]))])],544),m("div",Ra,[v(c)?(u(),D(P,{key:0,disabled:v(d),type:"primary",block:"",round:"",onClick:b},{default:w((()=>[S(p(`${e.beforeReadOverText}(${s.value+1}/${e.forceReadCound})`),1)])),_:1},8,["disabled"])):(u(),D(P,{key:1,disabled:v(d),type:"primary",block:"",round:"",onClick:I},{default:w((()=>[S(p(l.text),1)])),_:1},8,["disabled"]))])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}});const Ma={class:"list"},qa={class:"item"},Ba={class:"footer"},$a=S("部分为是"),Ea=S("全部为否"),Ya=d({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(e,{emit:a}){const l=e,t=f(l.show),o=f(l.activeIndex),s=y((()=>{var e;return null==(e=l.contentList[o.value])?void 0:e.attachmentUri})),n=f(!0),r=e=>{n.value=!1,a("update:show",!1),a("onConfirmHealth",e)};return h((()=>l),(()=>{t.value=l.show,o.value=l.activeIndex}),{deep:!0,immediate:!0}),(l,i)=>{const d=g("ProTab"),c=g("ProFilePreview"),p=g("VanButton"),f=g("van-config-provider"),h=g("ProPopup");return u(),D(h,{show:t.value,"onUpdate:show":i[3]||(i[3]=e=>t.value=e),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:i[4]||(i[4]=e=>{n.value&&a("onCloseHealth")})},{default:w((()=>[k(f,{"theme-vars":v(K),class:"custom-provider"},{default:w((()=>[t.value?(u(),D(d,{key:0,active:o.value,"onUpdate:active":i[0]||(i[0]=e=>o.value=e),list:e.contentList.map(((e,a)=>({title:e.attachmentName,slotName:`guarantee-${a}`}))),class:"tab"},null,8,["active","list"])):_("",!0),m("div",Ma,[m("div",qa,[(u(),D(c,{key:v(s),content:v(s),type:"pdf"},null,8,["content"]))])]),m("div",Ba,[k(p,{type:"primary",block:"",round:"",onClick:i[1]||(i[1]=e=>r("N"))},{default:w((()=>[$a])),_:1}),k(p,{type:"primary",plain:"",block:"",round:"",onClick:i[2]||(i[2]=e=>r("allFalse"))},{default:w((()=>[Ea])),_:1})])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}});const za=e=>(O("data-v-654d2e2c"),e=e(),x(),e),Ga={class:"com-payment-type"},Ka=za((()=>m("div",{class:"title"},"交费方式",-1))),Wa={class:"content"},Xa=[za((()=>m("div",{class:"pay-method"},[m("span",{class:"method"},p("按月交费")),m("span",{class:"acount"},p("共12期"))],-1)))],Ja=[za((()=>m("div",{class:"tip"},[m("span",null,p("比按月支付最高省")),S(),m("span",null,"16%")],-1))),za((()=>m("div",{class:"triangle"},null,-1))),za((()=>m("div",{class:"pay-method"},[m("span",{class:"method"},p("一次交清")),m("span",{class:"acount"},p("比月交保费省最高2014元"))],-1)))],Za={class:"guarantee-date"},Qa=za((()=>m("span",null,"保障期限",-1))),el={class:"guarantee-date"},al=za((()=>m("span",null,"实付保费",-1))),ll={class:"fee-text"};var tl=a(d({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},productDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:a,emit:l}){const t=e;f({}),f(!0);const o=U({formInfo:t.formInfo}),s=y((()=>H(new Date).add(1,"day").format("YYYY.MM.DD"))),n=y((()=>H(new Date).add(1,"year").format("YYYY.MM.DD"))),r=e=>{o.formInfo.paymentFrequency=e};return a({}),(e,a)=>{const l=g("ProDivider"),i=g("van-config-provider");return u(),D(i,{"theme-vars":v(K)},{default:w((()=>{var e;return[m("div",Ga,[Ka,m("div",Wa,[m("div",{class:V("com-payment-type-item "+(v(o).formInfo.paymentFrequency===v(z).MONTH?"active":"")),onClick:a[0]||(a[0]=e=>r(v(z).MONTH))},Xa,2),m("div",{class:V("com-payment-type-item "+(v(o).formInfo.paymentFrequency===v(z).YEAR?"active":"")),onClick:a[1]||(a[1]=e=>r(v(z).YEAR))},Ja,2)]),m("div",Za,[Qa,m("span",null,p(v(s))+" - "+p(v(n)),1)]),m("div",el,[al,m("span",ll,p(null==(e=t.showConfig)?void 0:e.price),1)])]),k(l)]})),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-654d2e2c"]]);const ol={holderNameDisable:!0,holderCertDisable:!0,holderMobileDisable:!0,holderSocialDisable:!0,relationToHolderDisable:!0,insuredNameDisable:!0,insuredCertDisable:!0,insuredSocialDisable:!0,paymentDisable:!0,renewalDKDisable:!0,paymentFrequencyDisable:!0},sl={...ol,holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1};export{be as B,we as D,je as G,na as H,tl as P,Ge as S,Va as U,ua as W,Ya as _,ja as a,Ta as b,sl as c,ol as d};
