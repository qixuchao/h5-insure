!function(){var e=document.createElement("style");e.innerHTML=".page-history-proposal[data-v-5f363c3e] .van-search{margin:.4rem 0}.page-history-proposal[data-v-5f363c3e] .search{width:100%;min-height:.74667rem;line-height:.74667rem}.page-history-proposal[data-v-5f363c3e] .search .van-search__content{border-radius:.10667rem}.page-history-proposal[data-v-5f363c3e] .search .van-search__content .van-cell{padding:0}.page-history-proposal .proposal-content[data-v-5f363c3e]{padding:0 .4rem}.page-history-proposal .proposal-content .proposal-item[data-v-5f363c3e]{background:#fafafa;border-radius:.26667rem;padding:.4rem .26667rem 0}.page-history-proposal .proposal-content .proposal-item[data-v-5f363c3e]:not(:first-child){margin-top:.26667rem}.page-history-proposal .proposal-content .proposal-item .title[data-v-5f363c3e]{font-size:.37333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#393d46;line-height:.53333rem}.page-history-proposal .proposal-content .proposal-item .premium[data-v-5f363c3e]{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.49333rem;margin:.08rem 0 .18667rem}.page-history-proposal .proposal-content .proposal-item .premium>span[data-v-5f363c3e]{color:#ff5840;font-weight:700}.page-history-proposal .proposal-content .proposal-item[data-v-5f363c3e] .table-header .table-cell{background:#f2f2f2;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#393d46;line-height:.44rem}.page-history-proposal .proposal-content .proposal-item .operate-btn[data-v-5f363c3e]{padding:.4rem 0;display:flex;justify-content:flex-end}.page-history-proposal .proposal-content .proposal-item .operate-btn .van-button[data-v-5f363c3e]{height:.8rem;font-size:.37333rem;border-radius:.42667rem;border:1px solid #0d6efe}.page-history-proposal .proposal-content .proposal-item .operate-btn .van-button[data-v-5f363c3e]:not(:first-child){margin-left:.21333rem}.page-history-proposal .proposal-content .proposal-item .operate-btn .del-btn[data-v-5f363c3e]{color:#393d46;border:1px solid #e6e6eb}[data-v-5f363c3e] .van-list__finished-text{margin-bottom:.4rem}\n",document.head.appendChild(e),System.register(["./vendor-legacy-31bd2bc4.js","./index-legacy-90e0bb46.js","./index-legacy-88e822d5.js","./proposalList-legacy-1fe2797f.js"],(function(e){"use strict";var a,o,t,r,n,l,i,s,p,d,c,u,m,h,g,f,v,y,b,P,_,x,C,k,S;return{setters:[function(e){a=e.g,o=e.M,t=e.E,r=e.x,n=e.aj,l=e.r,i=e.j,s=e.k,p=e.m,d=e.p,c=e.A,u=e.a6,m=e.z,h=e.n,g=e.G,f=e.F,v=e.J,y=e.C,b=e.D,P=e.T},function(e){_=e._,x=e.A},function(e){C=e.P},function(e){k=e.h,S=e.d}],execute:function(){const w={class:"proposal-content"},j={class:"title"},F={class:"premium"},z=y(" 保费："),L={class:"operate-btn"},V=y("删除"),I=y("编辑"),$=y("预览");e("default",_(a({setup(e){const a=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保障期间",dataIndex:"coveragePeriod",render:e=>(e=>{const a=e,[o,t]=a.split("_");return"to_life"===a?"保终生":`${t}${{year:"年",month:"月",day:"天",to:"岁"}[o]}`})(null==e?void 0:e.coveragePeriod)},{title:"缴费期间",dataIndex:"chargePeriod",width:110,render:e=>(e=>{const a=e,[o,t]=a.split("_"),r={year:"年交",month:"月交",day:"天",to:"岁"};return"single"===a?"趸缴":"to"===r[o]?`交至${t}岁`:`${t}${r[o]}`})(null==e?void 0:e.chargePeriod)},{title:"保费",dataIndex:"premium",width:120}],y=o({historyList:[],searchValue:""}),_=t(!1),M=t(!1),N=t(1),{historyList:R,searchValue:T}=r(y),U=n(),q=()=>{k({name:T.value,pageNum:N.value,pageSize:20,relationUserType:2}).then((e=>{const{code:a,data:o}=e;"10000"===a&&(1===N.value?R.value=o.datas||[]:R.value=R.value.concat(o.datas),N.value+=1,_.value=!1,M.value=R.value.length>=o.total)}))},A=()=>{q()},E=e=>{T.value=e,N.value=1,q()};return(e,o)=>{const t=l("van-search"),r=l("van-button"),n=l("van-list"),y=l("ProPageWrap");return i(),s(y,{class:"page-history-proposal"},{default:p((()=>[d(t,{modelValue:c(T),"onUpdate:modelValue":o[0]||(o[0]=e=>u(T)?T.value=e:null),placeholder:"请输入关键词",shape:"round",class:"search",onSearch:E},null,8,["modelValue"]),m("div",w,[d(n,{loading:_.value,"onUpdate:loading":o[1]||(o[1]=e=>_.value=e),finished:M.value,"finished-text":"- 没有更多了 -",onLoad:A},{default:p((()=>[(i(!0),h(f,null,g(c(R),(e=>(i(),h("div",{key:e.id,class:"proposal-item"},[m("div",j,v(e.proposalName),1),m("p",F,[z,m("span",null,"¥"+v(c(x)(e.totalPremium)),1)]),d(C,{columns:a,class:"table","data-source":e.proposalProductRiskVOList},null,8,["data-source"]),m("div",L,[d(r,{plain:"",round:"",type:"primary",class:"del-btn",onClick:a=>{return o=e.id,void b.confirm({message:"是否确定删除计划书？"}).then((()=>{S(o).then((e=>{const{code:a}=e;"10000"===a&&(P.success("删除成功"),N.value=1,q())}))})).catch((()=>{}));var o}},{default:p((()=>[V])),_:2},1032,["onClick"]),d(r,{plain:"",round:"",type:"primary",onClick:a=>{return o=e.id,void U.push({path:"/proposal/createProposal",query:{id:o}});var o}},{default:p((()=>[I])),_:2},1032,["onClick"]),d(r,{plain:"",round:"",type:"primary",onClick:a=>{return o=e.id,void U.push({path:"compositionProposal",query:{id:o}});var o}},{default:p((()=>[$])),_:2},1032,["onClick"])])])))),128))])),_:1},8,["loading","finished"])])])),_:1})}}}),[["__scopeId","data-v-5f363c3e"]]))}}}))}();
