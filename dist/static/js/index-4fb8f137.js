import{G as a,d as e,r as l,R as t,a1 as n,b as s,c as i,i as o,f as u,e as r,h as c,aa as d,ab as v,L as p,Z as m,ac as A,ad as C,ae as f,U as _,V as y,F as k,E,g,j as L,af as b,w as h,a2 as I,ag as S,ah as w,ai as x,$ as O,W as T,aj as U,ak as F,al as R,am as M,X as P,Y as N,an as j,a6 as V,ao as B,ap as W,k as D}from"./index-1b2a9a19.js";import{o as G}from"./utils-1bab4d69.js";import{C as $}from"./infoCollection-907a2f4f.js";const Q={class:"com-video"},z=["src"],H=["src"];var q=a(e({__name:"Video",props:{src:null},setup(a){const e=a,v=l(!1),p=l("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASAQMAAAC+UBZMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURf/////+/0xnxC0AAAArSURBVHjaFcSxEQAQEACwvFMofwylEdjsR0eRwCFS0jH+i6BoJalpEw/7u0clA1/PTeAgAAAAAElFTkSuQmCC");return t((()=>e),(a=>{p.value=`${window.location.origin}/api/app/common/file/generateLink?type=2&url=${a.src}`}),{deep:!0,immediate:!0}),n((()=>{})),(a,l)=>{const t=d;return s(),i("div",Q,[o("img",{src:u(p),class:"cover-image",onClick:l[0]||(l[0]=a=>v.value=!0)},null,8,z),r(t,{name:"play",class:"cover-image-play",onClick:l[1]||(l[1]=a=>v.value=!0)}),u(v)?(s(),i("video",{key:0,src:e.src,autoplay:"",controls:"",class:"banner-video",onEnded:l[2]||(l[2]=a=>v.value=!1)},null,40,H)):c("",!0)])}}}),[["__scopeId","data-v-38686bfe"]]);const K={class:"guarantee-list"},Y=(a=>(R("data-v-1995f5bd"),a=a(),M(),a))((()=>o("span",null,"保障计划",-1))),Z={key:0,class:"plan-list"},J=["onClick"],X={key:2,class:"feerate-view"},aa={key:0},ea={class:"extinfo-info-list"},la={class:"guarantee-detail"},ta={class:"content"},na=e({name:"guarantee"});var sa=a(e({...na,props:{dataSource:{default:()=>({})},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{default:5},planList:{default:()=>[]}},emits:["updateActivePlan"],setup(a,{emit:e}){var n,R;const M=a;v((a=>({"314b4015":u(P)})));const P=l(""),N=l((null==(R=null==(n=M.planList)?void 0:n[0])?void 0:R.planCode)||void 0),j=l(),V=l([]),B=l([]),W=l(),D=p((()=>!!M.planList.length));t([()=>M.dataSource,()=>N.value],(()=>{var a,e;V.value=((null==(e=((null==(a=M.dataSource)?void 0:a.GUARANTEE)||[]).find((a=>a.planCode===N.value)))?void 0:e.data)||[]).filter((a=>a.isShowOn===`${m.YES}`))}),{immediate:!0,deep:!0});const $=p((()=>{var a;return(null==(a=M.dataSource)?void 0:a.rateUri)||""})),Q=p((()=>!!(W.value&&W.value.paymentFrequencyValue&&W.value.premiumUnit&&$))),[z,H]=A(!1),q=p((()=>{var a;return!(!V.value||!(null==(a=V.value)?void 0:a.length))&&(V.value.length>M.count&&(!!M.isShowClose||!z.value))})),na=()=>{H()},sa=p((()=>{var a;return V.value&&(null==(a=V.value)?void 0:a.length)?V.value.length<=M.count||z.value?V.value:V.value.slice(0,M.count):[]})),ia=l(!1),oa=a=>{const e=a||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,"A"===e.target.tagName&&e.target.href&&(w()?x("",e.target.href):window.open(e.target.href))},ua=()=>{ia.value=!0,O((()=>{var a,e;null==(e=null==(a=document.getElementsByClassName("guarantee-detail"))?void 0:a[0])||e.addEventListener("click",oa,!1)}))};C((()=>{var a,e;null==(e=null==(a=document.getElementsByClassName("guarantee-detail"))?void 0:a[0])||e.removeEventListener("click",oa,!1)}));const ra=()=>{G({fileType:"pdf",fileUri:$.value})},ca=a=>{N.value=M.planList[a.name].planCode};return(l,t)=>{var n,v;const p=T,m=U,A=F,C=f("dompurify-html");return s(),i(_,null,[o("div",K,[o("div",{class:"header"},[Y,o("span",{onClick:ua},"查看详情")]),u(D)?(s(),i("div",Z,[(s(!0),i(_,null,y(a.planList,((a,l)=>(s(),i("div",{key:`${a.planCode}_${l}`,class:k("plan-list-item "+(a.planCode===u(N)?"plan-list-item-active":"")),onClick:l=>{return t=a.planCode,N.value=t,j.value=M.planList.findIndex((a=>a.planCode===t)),void e("updateActivePlan",t);var t}},[o("span",null,E(a.planName),1)],10,J)))),128))])):c("",!0),(s(!0),i(_,null,y(u(sa),((a,e)=>(s(),g(p,{key:e,class:"guarantee-item",title:a.title,content:a.desc,border:!1},null,8,["title","content"])))),128)),u(q)?(s(),i("div",{key:1,class:"show-more",onClick:na},[L(E(u(z)?"收起":"查看更多")+" ",1),r(d,{name:"arrow-down-dobule",class:k(["icon",{showMore:u(z)}])},null,8,["class"])])):c("",!0),u(Q)?(s(),i("div",X,[o("span",null,E(`${(null==(n=u(W))?void 0:n.paymentFrequencyValue)||""}${(null==(v=u(W))?void 0:v.premiumUnit)||""}`),1),u($)?(s(),i("span",{key:0,onClick:ra},"查看保费")):c("",!0)])):c("",!0)]),r(b),r(A,{show:u(ia),"onUpdate:show":t[1]||(t[1]=a=>I(ia)?ia.value=a:null),title:"保障详情",class:"guarantee-popup"},{default:h((()=>[u(B)&&u(B).length>0?(s(),i("div",aa,[o("div",ea,[(s(!0),i(_,null,y(u(B),((a,e)=>(s(),g(p,{key:e,title:a.name,content:a.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),r(b)])):c("",!0),u(D)?(s(),g(m,{key:1,active:u(j),"onUpdate:active":t[0]||(t[0]=a=>I(j)?j.value=a:null),list:a.planList.map(((a,e)=>({title:a.planName}))),class:"custom-plan-tab",onClickTab:ca},null,8,["active","list"])):c("",!0),o("div",la,[(s(!0),i(_,null,y(u(V),((a,e)=>(s(),i("div",{key:e,class:"guarantee-item"},[r(p,{title:a.title,content:a.desc,border:!1,size:"small"},null,8,["title","content"]),S(o("div",ta,null,512),[[C,a.tips]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-1995f5bd"]]);const ia={class:"spec"},oa={class:"rich-text"},ua={key:1,class:"spec"},ra={class:"rich-text"},ca={key:1,class:"spec"},da={class:"rich-text"},va=e({name:"ScrollInfo"}),pa=e({...va,props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(a,{expose:e}){const t=a,n=P((()=>N((()=>import("./index-1b2a9a19.js").then((function(a){return a.cR}))),["static/js/index-1b2a9a19.js","static/css/index-32bbfd6b.css","static/js/pdfh5-008ca364.js"])));P((()=>N((()=>import("./index-4fca6f4c.js")),["static/js/index-4fca6f4c.js","static/css/index-f22f2764.css","static/js/index-1b2a9a19.js","static/css/index-32bbfd6b.css","static/js/pdfh5-008ca364.js"])));const v=P((()=>N((()=>import("./index-1b2a9a19.js").then((function(a){return a.cP}))),["static/js/index-1b2a9a19.js","static/css/index-32bbfd6b.css","static/js/pdfh5-008ca364.js"]))),m=P((()=>N((()=>import("./index-24155541.js")),["static/js/index-24155541.js","static/css/index-7b3feb06.css","static/js/index-1b2a9a19.js","static/css/index-32bbfd6b.css","static/js/pdfh5-008ca364.js"]))),A=P((()=>N((()=>import("./index-33a3006c.js")),["static/js/index-33a3006c.js","static/css/index-194b9c66.css","static/js/index-1b2a9a19.js","static/css/index-32bbfd6b.css","static/js/pdfh5-008ca364.js","static/js/index-750784b7.js"]))),{dataSource:C}=j(t),k=l(),E=l([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),L=p((()=>{var a,e;return null==(e=null==(a=C.value.SPECIAL_FEATURE)?void 0:a.spec)?void 0:e.length})),b=p((()=>{var a,e,l,t;const n=null==(a=C.value.CLAIM_FLOW)?void 0:a.processCaseType;return!!(n===$.WORD&&(null==(e=C.value.CLAIM_FLOW)?void 0:e.processContent)||n===$.IMAGE&&(null==(t=null==(l=C.value.CLAIM_FLOW)?void 0:l.processCasePicList)?void 0:t.length))})),I=p((()=>{var a,e,l,t,n;const s=null==(e=null==(a=C.value)?void 0:a.CLAIM_CASE)?void 0:e.claimCaseType;return!!(s===$.WORD&&(null==(l=C.value.CLAIM_CASE)?void 0:l.claimContent)||s===$.IMAGE&&(null==(n=null==(t=C.value.CLAIM_CASE)?void 0:t.claimCasePicList)?void 0:n.length))})),w=p((()=>{var a,e;return null==(e=null==(a=C.value)?void 0:a.ISSUE_NOTICE)?void 0:e.noticeContent})),x=p((()=>{var a,e;return null==(e=null==(a=C.value)?void 0:a.FAQ)?void 0:e.length})),O=p((()=>{let a=[...E.value];return L.value||(a=a.filter((a=>"tab1"!==a.slotName))),b.value||I.value||(a=a.filter((a=>"tab2"!==a.slotName))),a}));return e({handleClickTab:()=>{var a;return null==(a=k.value)?void 0:a.handleClickTab}}),(a,e)=>{const l=V,t=d,p=f("dompurify-html");return s(),g(u(n),{ref_key:"scrollRef",ref:k,class:"tabs",list:u(O),sticky:"",scrollspy:""},B({tab3:h((()=>[D(a.$slots,"form")])),_:2},[u(L)?{name:"tab1",fn:h((()=>{var a;return[o("div",ia,[(s(!0),i(_,null,y((null==(a=u(C).SPECIAL_FEATURE)?void 0:a.spec)||[],((a,e)=>(s(),g(W,{key:e},{fallback:h((()=>[r(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:h((()=>[(s(),g(l,{key:e,class:"detail-img",width:"100%",src:a},null,8,["src"]))])),_:2},1024)))),128)),r(u(v))])]})),key:"0"}:void 0,u(b)||u(I)||u(w)||u(x)?{name:"tab2",fn:h((()=>{var a,e;return[u(b)?(s(),i(_,{key:0},[(null==(a=u(C).CLAIM_FLOW)?void 0:a.processCaseType)===u($).WORD?(s(),g(u(m),{key:0,class:"tab-card",title:"理赔说明"},{default:h((()=>{var a;return[S(o("div",oa,null,512),[[p,null==(a=u(C).CLAIM_FLOW)?void 0:a.processContent]])]})),_:1})):(s(),i("div",ua,[(s(),g(W,null,{fallback:h((()=>[r(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:h((()=>{var a;return[(s(!0),i(_,null,y((null==(a=u(C).CLAIM_FLOW)?void 0:a.processCasePicList)||[],((a,e)=>(s(),g(l,{key:e,width:"100%",src:a,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),r(u(v))],64)):c("",!0),u(I)?(s(),i(_,{key:1},[(null==(e=u(C).CLAIM_CASE)?void 0:e.claimCaseType)===u($).WORD?(s(),g(u(m),{key:0,class:"tab-card",title:"理赔案例"},{default:h((()=>{var a;return[S(o("div",ra,null,512),[[p,null==(a=u(C).CLAIM_CASE)?void 0:a.claimContent]])]})),_:1})):(s(),i("div",ca,[(s(),g(W,null,{fallback:h((()=>[r(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:h((()=>{var a;return[(s(!0),i(_,null,y((null==(a=u(C).CLAIM_CASE)?void 0:a.claimCasePicList)||[],((a,e)=>(s(),g(l,{key:e,width:"100%",src:a,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),r(u(v))],64)):c("",!0),u(w)?(s(),i(_,{key:2},[r(u(m),{class:"tab-card",title:"投保须知"},{default:h((()=>{var a;return[S(o("div",da,null,512),[[p,null==(a=u(C).ISSUE_NOTICE)?void 0:a.noticeContent]])]})),_:1}),r(u(v))],64)):c("",!0),u(x)?(s(),i(_,{key:3},[r(u(m),{title:"常见问题"},{default:h((()=>{var a,e;return[r(u(A),{list:null==(e=null==(a=u(C).FAQ)?void 0:a[0])?void 0:e.data},null,8,["list"])]})),_:1}),r(u(v))],64)):c("",!0)]})),key:"1"}:void 0]),1032,["list"])}}});export{sa as G,q as V,pa as _};
