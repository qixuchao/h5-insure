System.register(["./utils-legacy-748db6a8.js","./index-legacy-b67dea36.js","./vendor-legacy-55810259.js","./index-legacy-a61c290e.js"],(function(e){"use strict";var l,a,t,i,n,u,d,o,s,r,p,c,f,m,v,b,y,g,h,k,V,w,S,_;return{setters:[function(e){l=e.f},function(e){a=e._},function(e){t=e.g,i=e.a0,n=e.S,u=e.h,d=e.A,o=e.o,s=e.E,r=e.X,p=e.k,c=e.B,f=e.a1,m=e.H,v=e.J,b=e.m,y=e.R,g=e.r,h=e.z,k=e.i,V=e.t,w=e.U,S=e.G},function(e){_=e._}],execute:function(){const B=t({props:{placeholder:{default:"请输入"},label:{default:""},title:{default:""},block:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1},rules:{default:()=>[]},required:{type:Boolean,default:!1},isView:{type:Boolean,default:!1},validateType:{default:()=>[]}},emits:["click"],setup(e,{emit:a}){const t=e,y=i(),g=n("formProps")||{},h=u((()=>{let e=[];return t.rules&&t.rules.length>0&&(e=[...t.rules]),t.required&&(e=[...e,{required:!0,message:`${t.isLink?"请选择":"请输入"}${t.label}`}]),t.validateType&&t.validateType.length>0&&(e=[...e,...t.validateType.map((e=>l(e,t.label)))]),e})),k=()=>{t.isView||g.isView||a("click")},V=u((()=>!t.isView&&!g.isView&&t.isLink));return(l,a)=>{const t=d("VanField");return o(),s(t,b(l.$attrs,{label:e.label,"input-align":"right","is-link":p(V),placeholder:e.placeholder,rules:p(h),class:["com-pro-field",{block:e.block}],readonly:p(g).isView||e.isView,onClick:k}),r({_:2},[p(y).label?{name:"label",fn:c((()=>[f(l.$slots,"label",{},(()=>[m(v(e.label),1)]),!0)]))}:void 0,p(y).input?{name:"input",fn:c((()=>[f(l.$slots,"input",{},void 0,!0)]))}:void 0]),1040,["label","is-link","placeholder","rules","class","readonly"])}}});e("P",a(B,[["__scopeId","data-v-6a3b98c0"]]));const $={key:0,class:"displayValue"},q={key:1,class:"placeholder"},x=t({props:{modelValue:{type:[String,Number],default:""},dataSource:{type:Array,default:()=>[]},title:{type:String,default:""},label:{type:String,default:""},isLink:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择"},isView:{type:Boolean,default:!1},required:{type:Boolean,default:!1},mapping:{type:Object,default:()=>({label:"label",value:"value",children:"children"})}},emits:["update:show","confirm","cancel","update:modelValue"],setup(e,{emit:l}){const a=e,[t,i]=y(!1),n=()=>{i(!0)},s=e=>{var a;null!=e&&null!==(a=e[0])&&void 0!==a&&a.value&&(l("update:modelValue",e[0].value),i(!1))},r=()=>{i(!1)},f=g([]),m=u((()=>a.modelValue?a.dataSource.findIndex((e=>e[a.mapping.value]===a.modelValue)):"")),B=u((()=>{const e=a.dataSource.find((e=>`${e[a.mapping.value]}`==`${a.modelValue}`));return e?e[a.mapping.label]:a.modelValue||""}));return h((()=>a.dataSource),((e=[])=>{f.value=e.map((e=>({...e,text:e[a.mapping.label],value:e[a.mapping.value],children:null})))}),{deep:!0,immediate:!0}),(l,a)=>{const i=d("ProField"),u=d("van-picker");return o(),k(S,null,[V(i,b({"model-value":e.modelValue},l.$attrs,{"is-link":e.isLink,label:e.label,"is-view":e.isView,required:e.required,onClick:n}),{input:c((()=>[p(B)?(o(),k("span",$,v(p(B)),1)):(o(),k("span",q,v(e.placeholder),1))])),_:1},16,["model-value","is-link","label","is-view","required"]),V(_,{show:p(t),"onUpdate:show":a[0]||(a[0]=e=>w(t)?t.value=e:null),height:40,closeable:!1},{default:c((()=>[V(u,{title:e.title||e.label,columns:f.value,"default-index":p(m),onCancel:r,onConfirm:s},null,8,["title","columns","default-index"])])),_:1},8,["show"])],64)}}});e("a",a(x,[["__scopeId","data-v-64e41aa4"]]))}}}));
