import{h as ae,R as re,P as oe,r as y,d as h,A as K,$ as A,k as E,C as k,m as t,s as ue,n as d,p as f,t as w,x as i,Z as z,B as Q,_ as de,G as te,L as se,M as me,T as fe,aa as ve,N as Ie}from"./vendor-dfbc3b9e.js";import{C,V as T,I as Ve,J as pe,K as ce,Y as W}from"./index-54f8560b.js";import{R as be}from"./infoCollection-06db3c02.js";import{r as we}from"./relativeTime-1474ed2d.js";import{u as ee}from"./useDicData-ed55d41b.js";const Ce={key:0,class:"com-personal-wrapper"},xe={class:"date-extra"},ye=te("\u957F\u671F"),Ee=Q("span",{class:"input-extra"},"\u4E07",-1),Fe=Q("span",{class:"input-extra"},"\u4E07",-1),Be=Q("span",{class:"input-extra"},"%",-1),le=ae({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]},isView:{type:Boolean,default:!1},prefix:{default:""},beneficiaryList:{default:()=>[]},sendSmsCode:{type:Function,default:(o,S)=>{}}},emits:["update:images"],setup(o,{emit:S}){const x=o;re();const{venderCode:R=""}=oe().query,I=ee(`${R.toLocaleUpperCase()}_OCCUPATION`),q=ee("NATIONAL_REGION_CODE"),U=y([]),g=y(!1),e=y({formInfo:x.formInfo,birth:{min:new Date("1900-01-01"),max:new Date},certEndDate:{min:new Date("1900-01-01"),max:new Date("2099-12-31")},occupationalText:""});h.extend(we);const O=y(x.formInfo.certEndType===2),j=60,F=y(0),P=y("\u83B7\u53D6\u9A8C\u8BC1\u7801"),_=y(!1),v=K(()=>{const r={};return x.factorList.forEach(l=>{r[l.code]=l}),r});K(()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.value.formInfo.mobile));const V=()=>{if(F.value>0)return;F.value=j;const r=()=>{P.value=`${F.value}s`,F.value-=1};r();const l=setInterval(()=>{F.value===0?(P.value="\u83B7\u53D6\u9A8C\u8BC1\u7801",F.value=0,clearInterval(l)):r()},1e3)},c=async()=>{F.value>0||x.sendSmsCode(e.value.formInfo.mobile,()=>{_.value=!0,fe({message:"\u77ED\u4FE1\u53D1\u9001\u6210\u529F\uFF0C\u8BF7\u67E5\u6536"}),V()})},p=r=>{e.value.formInfo.certNo=r.personIdCard,e.value.formInfo.name=r.personName,e.value.formInfo.certEndDate=h(r.validDateEnd,"YYYYMMDD").toDate()},n=r=>v.value&&v.value[r]&&v.value[r].isDisplay===W.YES,s=r=>v.value&&v.value[r]&&v.value[r].isMustInput===W.YES,u=(r,l)=>{var b,m;return((m=(b=v.value)==null?void 0:b[r])==null?void 0:m[l])||""},M=K(()=>[C.CERT,C.HOUSE_HOLD].includes(`${e.value.formInfo.certType}`)?[T.ID_CARD]:`${e.value.formInfo.certType}`===C.BIRTH?[T.BIRTH]:`${e.value.formInfo.certType}`===C.PASSPORT?[T.PASSPORT]:[T.ID_CARD]),Y=(r,l)=>s("attachment")?e.value.formInfo.certEndType===2||e.value.formInfo.certEndDate?"":"\u8BF7\u9009\u62E9\u6709\u6548\u671F\u81F3":"",N=(r,l)=>/^\d{1,10}(\.\d{1,2})?$/.test(r)?"":"\u5E74\u6536\u5165\u6700\u591A\u5F55\u516510\u4F4D\u6570\u5B57",B=(r,l)=>/^[1-9]$|^[1-9][0-9]$|^100$/.test(r)?"":"\u6536\u76CA\u6BD4\u4F8B\u53EA\u80FD\u586B\u51991-100\u7684\u6B63\u6574\u6570",L=(r,l,b)=>l.length>r?`\u6700\u5927\u4E0D\u80FD\u8D85\u8FC7${r}\u4E2A\u5B57\u7B26`:"",X=(r,l)=>{var b,m,$,D,Z,G,J;if(!n("nationality"))return"";if(((m=(b=e.value.formInfo)==null?void 0:b.extInfo)==null?void 0:m.nationalityCode)==="CHN"){if(![C.CERT,C.HOUSE_HOLD,C.BIRTH,C.MILITARY_CARD].includes(`${r}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u8EAB\u4EFD\u8BC1\u3001\u6237\u53E3\u672C\u3001\u51FA\u751F\u8BC1\u3001\u519B\u5B98\u8BC1"}else if(["HKG","MAC"].includes((D=($=e.value.formInfo)==null?void 0:$.extInfo)==null?void 0:D.nationalityCode)){if(![C.HK_MACAO_RESIDENCE_PERMIT,C.HONGKONG_MACAO].includes(`${r}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u9999\u6E2F\u3001\u4E2D\u56FD\u6FB3\u95E8\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u6E2F\u6FB3\u901A\u884C\u8BC1\u3001\u6E2F\u6FB3\u5C45\u6C11\u5C45\u4F4F\u8BC1"}else if(((G=(Z=e.value.formInfo)==null?void 0:Z.extInfo)==null?void 0:G.nationalityCode)==="TWN"){if(![C.TAIWAN_RESIDENCE_PERMIT,C.TAIWAN_TRAVEL].includes(`${r}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u53F0\u6E7E\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u53F0\u6E7E\u901A\u884C\u8BC1\u3001\u53F0\u6E7E\u5C45\u6C11\u5C45\u4F4F\u8BC1"}else if(![C.PASSPORT,C.FOREIGN_PERMANENT].includes(`${r}`))return"\u56FD\u7C4D\u4E3A\u975E\u4E2D\u56FD\u3001\u6E2F\u6FB3\u53F0\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u62A4\u7167\u3001\u5916\u56FD\u4EBA\u6C38\u4E45\u5C45\u7559\u8EAB\u4EFD\u8BC1";return h().year()-h((J=e.value.formInfo)==null?void 0:J.birthday).year()>2&&r===C.BIRTH?"\u5E74\u9F84\u5927\u4E8E\u7B49\u4E8E2\u5468\u5C81\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u4E0D\u80FD\u9009\u62E9\u51FA\u751F\u8BC1":""},ie=r=>Array.isArray(r)&&r.length===2&&r[0]&&r[1]?"":"\u8BF7\u4E0A\u4F20\u8EAB\u4EFD\u8BC1\u6B63\u53CD\u9762\u7167\u7247";return A(()=>O.value,r=>{r?(e.value.formInfo.certEndType=2,e.value.formInfo.certEndDate=""):e.value.formInfo.certEndType=1},{immediate:!0}),A(()=>e.value.formInfo.certType,r=>{[C.CERT,C.HOUSE_HOLD].includes(r)?g.value=!0:g.value=!1},{deep:!0,immediate:!0}),A(()=>e.value.formInfo.certNo,r=>{Ve(r)&&(e.value.formInfo.gender=+pe(r),e.value.formInfo.birthday=h(new Date(ce(r))).format("YYYY-MM-DD"))},{deep:!0,immediate:!0}),A(()=>x.images,r=>{U.value=r},{immediate:!0}),A(()=>x.formInfo,()=>{e.value.formInfo=x.formInfo},{deep:!0,immediate:!0}),A(U,r=>{S("update:images",r)},{deep:!0}),(r,l)=>{const b=E("ProRadioButton"),m=E("ProField"),$=E("ProDatePicker"),D=E("ProPicker"),Z=E("ProIDCardUpload"),G=E("ProImageUpload"),J=E("van-checkbox"),H=E("ProCascader"),ne=E("van-button");return Object.keys(k(v)).length?(t(),ue("div",Ce,[n("insuredBeneficiaryType")?(t(),d(m,{key:0,modelValue:e.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.formInfo.insuredBeneficiaryType=a),label:u("insuredBeneficiaryType","title"),name:"insuredBeneficiaryType",placeholder:"\u8BF7\u9009\u62E9"},{input:f(()=>[w(b,{modelValue:e.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.formInfo.insuredBeneficiaryType=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredBeneficiaryType","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label"])):i("",!0),n("insuredRelation")?(t(),d(m,{key:1,modelValue:e.value.formInfo.insuredRelation,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.formInfo.insuredRelation=a),label:u("insuredRelation","title"),name:"insuredRelation",placeholder:"\u8BF7\u9009\u62E9"},{input:f(()=>[w(b,{modelValue:e.value.formInfo.insuredRelation,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.formInfo.insuredRelation=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredRelation","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label"])):i("",!0),n("name")?(t(),d(m,{key:2,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.formInfo.name=a),label:u("name","title"),name:`${o.prefix}_name`,"is-view":o.isView,required:s("name")},{"right-icon":f(()=>[z(r.$slots,"name")]),_:3},8,["modelValue","label","name","is-view","required"])):i("",!0),n("sex")?(t(),d(m,{key:3,modelValue:e.value.formInfo.gender,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.formInfo.gender=a),required:s("sex"),label:u("sex","title"),name:`${o.prefix}_gender`,placeholder:"\u8BF7\u9009\u62E9","is-view":g.value},{input:f(()=>[w(b,{modelValue:e.value.formInfo.gender,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.formInfo.gender=a),disabled:g.value,"is-view":o.isView,prop:{label:"value",value:"code"},options:u("sex","attributeValueList")||[]},null,8,["modelValue","disabled","is-view","options"])]),_:1},8,["modelValue","required","label","name","is-view"])):i("",!0),n("birthDate")?(t(),d($,{key:4,modelValue:e.value.formInfo.birthday,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.formInfo.birthday=a),label:u("birthDate","title"),name:`${o.prefix}_birthday`,min:e.value.birth.min,max:e.value.birth.max,type:"date","is-view":o.isView,required:s("birthDate")},null,8,["modelValue","label","name","min","max","is-view","required"])):i("",!0),n("certType")?(t(),d(D,{key:5,modelValue:e.value.formInfo.certType,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.formInfo.certType=a),label:u("certType","title"),name:`${o.prefix}_certType`,"data-source":u("certType","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:s("certType"),rules:[{validator:X}],"is-view":o.isView},null,8,["modelValue","label","name","data-source","required","rules","is-view"])):i("",!0),n("certImage")&&e.value.formInfo.certType+""=="1"?(t(),d(m,{key:6,label:"\u8EAB\u4EFD\u8BC1\u4E0A\u4F20",block:"",required:s("certImage"),rules:[{validator:ie}],name:`${o.prefix}_idCard`},{input:f(()=>[w(Z,{modelValue:U.value,"onUpdate:modelValue":l[9]||(l[9]=a=>U.value=a),"is-view":o.isView,onOnOCR:p},null,8,["modelValue","is-view"])]),_:1},8,["required","rules","name"])):i("",!0),n("certImage")&&e.value.formInfo.certType&&e.value.formInfo.certType+""!="1"?(t(),d(m,{key:7,label:u("certImage","title"),block:"",required:s("certImage")},{input:f(()=>[w(G,{modelValue:U.value,"onUpdate:modelValue":l[10]||(l[10]=a=>U.value=a),"is-view":o.isView,"max-count":1},null,8,["modelValue","is-view"])]),_:1},8,["label","required"])):i("",!0),n("certNo")?(t(),d(m,{key:8,modelValue:e.value.formInfo.certNo,"onUpdate:modelValue":l[11]||(l[11]=a=>e.value.formInfo.certNo=a),label:u("certNo","title"),name:`${o.prefix}_certNo`,required:s("certNo"),placeholder:"\u8BF7\u8F93\u5165",maxlength:18,"is-view":o.isView,"validate-type":k(M)},null,8,["modelValue","label","name","required","is-view","validate-type"])):i("",!0),n("certExpiry")?(t(),d($,{key:9,modelValue:e.value.formInfo.certEndDate,"onUpdate:modelValue":l[13]||(l[13]=a=>e.value.formInfo.certEndDate=a),label:u("certExpiry","title"),name:`${o.prefix}_certEndDate`,type:"date",min:e.value.certEndDate.min,max:e.value.certEndDate.max,"is-view":O.value||o.isView,read:"",rules:[{validator:Y}]},{extra:f(()=>[Q("div",xe,[w(J,{modelValue:O.value,"onUpdate:modelValue":l[12]||(l[12]=a=>O.value=a),"icon-size":16,disabled:o.isView},{default:f(()=>[ye]),_:1},8,["modelValue","disabled"])])]),_:1},8,["modelValue","label","name","min","max","is-view","rules"])):i("",!0),n("age")?(t(),d(m,{key:10,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[14]||(l[14]=a=>e.value.formInfo.name=a),label:u("age","title"),name:`${o.prefix}_age`,"is-view":o.isView,required:s("age")},null,8,["modelValue","label","name","is-view","required"])):i("",!0),n("residence")?(t(),d(H,{key:11,modelValue:e.value.formInfo.extInfo.provinceCode,"onUpdate:modelValue":l[15]||(l[15]=a=>e.value.formInfo.extInfo.provinceCode=a),field1:e.value.formInfo.extInfo.provinceCode,"onUpdate:field1":l[16]||(l[16]=a=>e.value.formInfo.extInfo.provinceCode=a),field2:e.value.formInfo.extInfo.cityCode,"onUpdate:field2":l[17]||(l[17]=a=>e.value.formInfo.extInfo.cityCode=a),field3:e.value.formInfo.extInfo.areaCode,"onUpdate:field3":l[18]||(l[18]=a=>e.value.formInfo.extInfo.areaCode=a),label:u("residence","title"),name:`${o.prefix}_provinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:s("residence"),"data-source":k(q),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):i("",!0),n("social")?(t(),d(m,{key:12,modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[20]||(l[20]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),label:u("social","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:s("social")},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[19]||(l[19]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("social","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("height")?(t(),d(m,{key:13,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[21]||(l[21]=a=>e.value.formInfo.name=a),label:u("height","title"),"is-view":o.isView,name:`${o.prefix}_height`,required:s("height")},null,8,["modelValue","label","is-view","name","required"])):i("",!0),n("weight")?(t(),d(m,{key:14,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[22]||(l[22]=a=>e.value.formInfo.name=a),label:u("weight","title"),name:`${o.prefix}_weight`,"is-view":o.isView,required:s("weight")},null,8,["modelValue","label","name","is-view","required"])):i("",!0),n("BMI")?(t(),d(m,{key:15,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[23]||(l[23]=a=>e.value.formInfo.name=a),label:u("BMI","title"),name:`${o.prefix}_BMI`,"is-view":o.isView,required:s("BMI")},null,8,["modelValue","label","name","is-view","required"])):i("",!0),n("insuredRiskManagementLevel")?(t(),d(m,{key:16,modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[25]||(l[25]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),label:u("insuredRiskManagementLevel","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:s("insuredRiskManagementLevel")},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[24]||(l[24]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredRiskManagementLevel","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("purchaseOtherInsurance")?(t(),d(m,{key:17,modelValue:e.value.formInfo.extInfo.purchaseOtherInsurance,"onUpdate:modelValue":l[27]||(l[27]=a=>e.value.formInfo.extInfo.purchaseOtherInsurance=a),label:u("purchaseOtherInsurance","title"),name:`${o.prefix}_purchaseOtherInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:s("purchaseOtherInsurance")},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[26]||(l[26]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("purchaseOtherInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("injuryInsurance")?(t(),d(m,{key:18,modelValue:e.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[29]||(l[29]=a=>e.value.formInfo.extInfo.injuryInsurance=a),label:u("injuryInsurance","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:s("injuryInsurance")},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[28]||(l[28]=a=>e.value.formInfo.extInfo.injuryInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("injuryInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("insureArea")?(t(),d(H,{key:19,label:u("insureArea","title"),name:"insureAreaCode",placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:s("insureArea"),"data-source":k(q),mapping:{label:"name",value:"code",children:"children"}},null,8,["label","is-view","required","data-source"])):i("",!0),n("occupation")?(t(),d(H,{key:20,modelValue:e.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:modelValue":l[30]||(l[30]=a=>e.value.formInfo.extInfo.occupationCodeList[0]=a),field0:e.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:field0":l[31]||(l[31]=a=>e.value.formInfo.extInfo.occupationCodeList[0]=a),field1:e.value.formInfo.extInfo.occupationCodeList[1],"onUpdate:field1":l[32]||(l[32]=a=>e.value.formInfo.extInfo.occupationCodeList[1]=a),field2:e.value.formInfo.extInfo.occupationCodeList[2],"onUpdate:field2":l[33]||(l[33]=a=>e.value.formInfo.extInfo.occupationCodeList[2]=a),label:u("occupation","title"),name:`${o.prefix}_occupationCodeList`,placeholder:"\u8BF7\u9009\u62E9","is-view":o.isView,required:s("occupation"),"data-source":k(I),mapping:{label:"name",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","name","is-view","required","data-source"])):i("",!0),n("personalAnnualIncome")?(t(),d(m,{key:21,modelValue:e.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":l[34]||(l[34]=a=>e.value.formInfo.extInfo.personalAnnualIncome=a),label:u("personalAnnualIncome","title"),name:`${o.prefix}_personalAnnualIncome`,required:s("personalAnnualIncome"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:N}]},{extra:f(()=>[Ee]),_:1},8,["modelValue","label","name","required","is-view","rules"])):i("",!0),n("familyAnnualIncome")?(t(),d(m,{key:22,modelValue:e.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":l[35]||(l[35]=a=>e.value.formInfo.extInfo.familyAnnualIncome=a),label:u("familyAnnualIncome","title"),name:`${o.prefix}_familyAnnualIncome`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:N}],required:s("familyAnnualIncome")},{extra:f(()=>[Fe]),_:1},8,["modelValue","label","name","is-view","rules","required"])):i("",!0),n("country")?(t(),d(D,{key:23,modelValue:e.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":l[36]||(l[36]=a=>e.value.formInfo.extInfo.nationalityCode=a),label:u("country","title"),name:`${o.prefix}_nationalityCode`,"data-source":u("country","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},placeholder:"\u8BF7\u9009\u62E9",required:s("country"),"is-link":"","is-view":o.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):i("",!0),n("hasUsCard")?(t(),d(m,{key:24,modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[38]||(l[38]=a=>e.value.formInfo.extInfo.hasUsCard=a),label:u("hasUsCard","title"),name:`${o.prefix}_hasUsCard`,placeholder:"\u8BF7\u9009\u62E9",required:s("hasUsCard")},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[37]||(l[37]=a=>e.value.formInfo.extInfo.hasUsCard=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("hasUsCard","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("marritalStatus")?(t(),d(D,{key:25,modelValue:e.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":l[39]||(l[39]=a=>e.value.formInfo.extInfo.marriageStatus=a),label:u("marritalStatus","title"),name:`${o.prefix}_marriageStatus`,placeholder:"\u8BF7\u9009\u62E9","data-source":u("marritalStatus","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},"is-link":"","is-view":o.isView,required:s("marritalStatus")},null,8,["modelValue","label","name","data-source","is-view","required"])):i("",!0),n("degree")?(t(),d(D,{key:26,modelValue:e.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":l[40]||(l[40]=a=>e.value.formInfo.extInfo.educationDegree=a),label:u("degree","title"),name:`${o.prefix}_educationDegree`,"data-source":u("degree","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},placeholder:"\u8BF7\u9009\u62E9",required:s("degree"),"is-link":"","is-view":o.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):i("",!0),n("mobile")?(t(),d(m,{key:27,modelValue:e.value.formInfo.mobile,"onUpdate:modelValue":l[41]||(l[41]=a=>e.value.formInfo.mobile=a),label:u("mobile","title"),name:`${o.prefix}_mobile`,placeholder:"\u8BF7\u8F93\u5165",maxlength:11,"is-view":o.isView,required:s("mobile"),"validate-type":[k(T).PHONE]},null,8,["modelValue","label","name","is-view","required","validate-type"])):i("",!0),n("verificationCode")?(t(),d(m,{key:28,modelValue:e.value.formInfo.verificationCode,"onUpdate:modelValue":l[42]||(l[42]=a=>e.value.formInfo.verificationCode=a),label:u("verificationCode","title"),name:`${o.prefix}_verificationCode`,"is-view":o.isView,required:s("verificationCode")},de({_:2},[o.isView?void 0:{name:"extra",fn:f(()=>[w(ne,{class:me(["sms-code",{"count-down":F.value>0}]),size:"small",type:"primary",onClick:c},{default:f(()=>[te(se(P.value),1)]),_:1},8,["class"])])}]),1032,["modelValue","label","name","is-view","required"])):i("",!0),n("isSmoke")?(t(),d(m,{key:29,modelValue:e.value.formInfo.isSmoke,"onUpdate:modelValue":l[44]||(l[44]=a=>e.value.formInfo.isSmoke=a),required:s("isSmoke"),label:u("isSmoke","title"),name:`${o.prefix}_isSmoke`,placeholder:"\u8BF7\u9009\u62E9","is-view":g.value},{input:f(()=>[w(b,{modelValue:e.value.formInfo.isSmoke,"onUpdate:modelValue":l[43]||(l[43]=a=>e.value.formInfo.isSmoke=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("isSmoke","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","required","label","name","is-view"])):i("",!0),n("contactNo")?(t(),d(m,{key:30,modelValue:e.value.formInfo.contactNo,"onUpdate:modelValue":l[45]||(l[45]=a=>e.value.formInfo.contactNo=a),label:u("contactNo","title"),name:`${o.prefix}_contactNo`,"is-view":o.isView,required:s("contactNo")},null,8,["modelValue","label","name","is-view","required"])):i("",!0),n("email")?(t(),d(m,{key:31,modelValue:e.value.formInfo.email,"onUpdate:modelValue":l[46]||(l[46]=a=>e.value.formInfo.email=a),label:u("email","title"),name:`${o.prefix}_email`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,required:s("email"),"validate-type":[k(T).EMAIL]},null,8,["modelValue","label","name","is-view","required","validate-type"])):i("",!0),n("homeAddress")?(t(),d(H,{key:32,modelValue:e.value.formInfo.extInfo.familyAreaCode,"onUpdate:modelValue":l[47]||(l[47]=a=>e.value.formInfo.extInfo.familyAreaCode=a),field1:e.value.formInfo.extInfo.familyProvinceCode,"onUpdate:field1":l[48]||(l[48]=a=>e.value.formInfo.extInfo.familyProvinceCode=a),field2:e.value.formInfo.extInfo.familyCityCode,"onUpdate:field2":l[49]||(l[49]=a=>e.value.formInfo.extInfo.familyCityCode=a),field3:e.value.formInfo.extInfo.familyAreaCode,"onUpdate:field3":l[50]||(l[50]=a=>e.value.formInfo.extInfo.familyAreaCode=a),label:u("homeAddress","title"),name:`${o.prefix}_familyProvinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:s("homeAddress"),"data-source":k(q),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):i("",!0),n("homeAddressDetail")?(t(),d(m,{key:33,modelValue:e.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":l[51]||(l[51]=a=>e.value.formInfo.extInfo.familyAddress=a),label:u("homeAddressDetail","title"),name:`${o.prefix}_familyAddress`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>L(100,...a)}],required:s("homeAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):i("",!0),n("homePostalCode")?(t(),d(m,{key:34,modelValue:e.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":l[52]||(l[52]=a=>e.value.formInfo.extInfo.familyZipCode=a),label:u("homePostalCode","title"),name:`${o.prefix}_familyZipCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,required:s("homePostalCode"),"validate-type":[k(T).ZIP_CODE]},null,8,["modelValue","label","name","is-view","required","validate-type"])):i("",!0),n("workAddress")?(t(),d(H,{key:35,modelValue:e.value.formInfo.extInfo.workAreaCode,"onUpdate:modelValue":l[53]||(l[53]=a=>e.value.formInfo.extInfo.workAreaCode=a),field1:e.value.formInfo.extInfo.workProvinceCode,"onUpdate:field1":l[54]||(l[54]=a=>e.value.formInfo.extInfo.workProvinceCode=a),field2:e.value.formInfo.extInfo.workCityCode,"onUpdate:field2":l[55]||(l[55]=a=>e.value.formInfo.extInfo.workCityCode=a),field3:e.value.formInfo.extInfo.workAreaCode,"onUpdate:field3":l[56]||(l[56]=a=>e.value.formInfo.extInfo.workAreaCode=a),label:u("workAddress","title"),name:`${o.prefix}_workProvinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:s("workAddress"),"data-source":k(q),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):i("",!0),n("workAddressDetail")?(t(),d(m,{key:36,modelValue:e.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":l[57]||(l[57]=a=>e.value.formInfo.extInfo.workAddress=a),label:u("workAddressDetail","title"),name:`${o.prefix}_workAddress`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>L(100,...a)}],required:s("workAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):i("",!0),n("workPostalCode")?(t(),d(m,{key:37,modelValue:e.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":l[58]||(l[58]=a=>e.value.formInfo.extInfo.workZipCode=a),label:u("workPostalCode","title"),required:s("workZipCode"),name:`${o.prefix}_workPostCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,"validate-type":[k(T).ZIP_CODE]},null,8,["modelValue","label","required","name","is-view","validate-type"])):i("",!0),n("companyName")?(t(),d(m,{key:38,modelValue:e.value.formInfo.extInfo.workStation,"onUpdate:modelValue":l[59]||(l[59]=a=>e.value.formInfo.extInfo.workStation=a),label:u("companyName","title"),name:`${o.prefix}_workPostCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>L(20,...a)}],required:s("companyName")},null,8,["modelValue","label","name","is-view","rules","required"])):i("",!0),n("workContent")?(t(),d(m,{key:39,modelValue:e.value.formInfo.extInfo.workContent,"onUpdate:modelValue":l[60]||(l[60]=a=>e.value.formInfo.extInfo.workContent=a),label:u("workContent","title"),name:`${o.prefix}_workContent`,required:s("workContent"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>L(100,...a)}]},null,8,["modelValue","label","name","required","is-view","rules"])):i("",!0),n("chineseTaxResident")?(t(),d(m,{key:40,modelValue:e.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[62]||(l[62]=a=>e.value.formInfo.extInfo.chineseTaxResident=a),label:u("chineseTaxResident","title"),name:`${o.prefix}_taxResident`,required:s("chineseTaxResident"),placeholder:"\u8BF7\u8F93\u5165"},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[61]||(l[61]=a=>e.value.formInfo.extInfo.chineseTaxResident=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("chineseTaxResident","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("taxResident")?(t(),d(D,{key:41,modelValue:e.value.formInfo.taxResident,"onUpdate:modelValue":l[63]||(l[63]=a=>e.value.formInfo.taxResident=a),"is-view":o.isView,label:u("taxResident","title"),name:`${o.prefix}_benefitOrder`,"data-source":u("taxResident","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:s("taxResident")},null,8,["modelValue","is-view","label","name","data-source","required"])):i("",!0),n("partTimeJob")?(t(),d(m,{key:42,modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[65]||(l[65]=a=>e.value.formInfo.extInfo.isPartTime=a),label:u("partTimeJob","title"),name:`${o.prefix}_isPartTime`,required:s("partTimeJob"),placeholder:"\u8BF7\u8F93\u5165"},{input:f(()=>[w(b,{modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[64]||(l[64]=a=>e.value.formInfo.extInfo.isPartTime=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("partTimeJob","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):i("",!0),n("benefitOrder")?(t(),d(D,{key:43,modelValue:e.value.formInfo.benefitOrder,"onUpdate:modelValue":l[66]||(l[66]=a=>e.value.formInfo.benefitOrder=a),label:u("benefitOrder","title"),name:`${o.prefix}_benefitOrder`,"is-view":o.isView,"data-source":u("benefitOrder","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:s("benefitOrder")},null,8,["modelValue","label","name","is-view","data-source","required"])):i("",!0),n("benefitRate")?(t(),d(m,{key:44,modelValue:e.value.formInfo.benefitRate,"onUpdate:modelValue":l[67]||(l[67]=a=>e.value.formInfo.benefitRate=a),required:s("benefitRate"),name:`${o.prefix}_benefitRate`,"is-view":o.isView,rules:[{validator:B}],label:u("benefitRate","title")},{extra:f(()=>[Be]),_:1},8,["modelValue","required","name","is-view","rules","label"])):i("",!0),z(r.$slots,"default")])):i("",!0)}}});const ke={class:"page-info-wrapper"},Te=ae({props:{factorObject:null,formInfo:{default:()=>({})},isView:{type:Boolean,default:!1},sendSmsCode:{type:Function,default:(o,S)=>{}},titleCollection:{default:()=>({})},inputAlign:{default:"left"}},setup(o,{expose:S}){const x=o;ve(),oe();const R=y({}),I=y({extInfo:{},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL"}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),q=y(null),U=y([]),g=y([]);y([]),y([]),y([]),Ie({beneficiaryId:0,nextPage:"",currentAddress:null,isLoading:!0});const e=K(()=>{var V,c;const v={INSURER:{},HOLDER:{}};return(((V=R.value)==null?void 0:V.INSURER)||[]).forEach(p=>{v.INSURER[p.code]=p}),(((c=R.value)==null?void 0:c.HOLDER)||[]).forEach(p=>{v.HOLDER[p.code]=p}),v}),O=(v,V)=>{var c,p;return((p=(c=e.value)==null?void 0:c[V])==null?void 0:p[v].isDisplay)===W.YES},j=(v,V)=>{var c,p;return((p=(c=e.value)==null?void 0:c[V])==null?void 0:p[v].isMustInput)===W.YES},F=(v,V,c)=>{var p,n,s;return((s=(n=(p=e.value)==null?void 0:p[c])==null?void 0:n[v])==null?void 0:s[V])||""},P=()=>{Object.assign(I.value.tenantOrderInsuredList[0],I.value.tenantOrderHolder,{id:I.value.tenantOrderInsuredList[0].id,extInfo:{...I.value.tenantOrderHolder.extInfo,insureProvinceCode:I.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,insureCityCode:I.value.tenantOrderInsuredList[0].extInfo.insureCityCode,insureAreaCode:I.value.tenantOrderInsuredList[0].extInfo.insureAreaCode}})};return S({validateForm:()=>new Promise((v,V)=>{var c;(c=q.value)==null||c.validate().then(()=>{v(I.value)},()=>{V()})})}),A(()=>x.factorObject,()=>{const v={BENEFICIARY:x.factorObject[3],INSURER:x.factorObject[2],HOLDER:x.factorObject[1]};R.value=v},{immediate:!0,deep:!0}),A([()=>I.value.tenantOrderInsuredList[0].relationToHolder,()=>I.value.tenantOrderHolder],()=>{`${I.value.tenantOrderInsuredList[0].relationToHolder}`===be.SELF&&P()},{deep:!0,immediate:!0}),A(()=>x.formInfo,()=>{Object.keys(x.formInfo).length&&(I.value=x.formInfo)},{deep:!0,immediate:!0}),(v,V)=>{const c=E("ProField"),p=E("ProCard"),n=E("ProRadioButton");E("ProSvg");const s=E("ProForm");return t(),ue("div",ke,[w(s,{ref_key:"formRef",ref:q,"show-error":"","show-error-message":!1,"input-align":o.inputAlign},{default:f(()=>{var u,M,Y,N;return[(u=R.value.HOLDER)!=null&&u.length?(t(),d(p,{key:0,"show-divider":!1,title:(M=o.titleCollection)==null?void 0:M.HOLDER},{default:f(()=>[w(le,{images:U.value,"onUpdate:images":V[1]||(V[1]=B=>U.value=B),"form-info":I.value.tenantOrderHolder,"factor-list":R.value.HOLDER,prefix:"holder","is-view":o.isView,"send-sms-code":o.sendSmsCode},{name:f(()=>[z(v.$slots,"holderName")]),default:f(()=>{var B,L;return[O("gasNumberCollection","HOLDER")&&((L=(B=I.value.tenantOrderSubjectList)==null?void 0:B[0])==null?void 0:L.extInfo)?(t(),d(c,{key:0,modelValue:I.value.tenantOrderSubjectList[0].extInfo.subjectRelatedUserId,"onUpdate:modelValue":V[0]||(V[0]=X=>I.value.tenantOrderSubjectList[0].extInfo.subjectRelatedUserId=X),label:F("gasNumberCollection","title","HOLDER"),name:"subjectRelatedUserId",required:j("gasNumberCollection","HOLDER"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,maxlength:100},null,8,["modelValue","label","required","is-view"])):i("",!0)]}),_:3},8,["images","form-info","factor-list","is-view","send-sms-code"])]),_:3},8,["title"])):i("",!0),(Y=R.value.INSURER)!=null&&Y.length?(t(),d(p,{key:1,"show-divider":!1,title:(N=o.titleCollection)==null?void 0:N.INSURER},{default:f(()=>[O("relationToHolder","INSURER")?(t(),d(c,{key:0,modelValue:I.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":V[3]||(V[3]=B=>I.value.tenantOrderInsuredList[0].relationToHolder=B),class:"relation-holder",name:"insure_relationToHolder",required:j("relationToHolder","INSURER"),label:F("relationToHolder","title","INSURER")},{input:f(()=>[w(n,{modelValue:I.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":V[2]||(V[2]=B=>I.value.tenantOrderInsuredList[0].relationToHolder=B),"is-view":o.isView,prop:{label:"value",value:"code"},options:F("relationToHolder","attributeValueList","INSURER")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","required","label"])):i("",!0),+I.value.tenantOrderInsuredList[0].relationToHolder!=1?(t(),d(le,{key:1,images:g.value,"onUpdate:images":V[4]||(V[4]=B=>g.value=B),"form-info":I.value.tenantOrderInsuredList[0],"factor-list":R.value.INSURER||[],prefix:"insure","send-sms-code":o.sendSmsCode,"is-view":o.isView},{name:f(()=>[z(v.$slots,"insurerName")]),_:3},8,["images","form-info","factor-list","send-sms-code","is-view"])):i("",!0)]),_:3},8,["title"])):i("",!0),i("",!0)]}),_:3},8,["input-align"])])}}});export{Te as _};
