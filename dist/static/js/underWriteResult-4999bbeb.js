import{_ as e,d as a,bU as t,b4 as s,af as l,i as r,h as o,bi as u,k as n,aY as d,cd as i,j as c,l as p,o as y,c as v,a as m,b as f,e as b,u as _,w as h,v as I,p as w,q,y as N,f as g,ce as k,cf as C,b2 as R,b3 as E,cg as L,ch as S,ci as T,cj as A}from"./index-83a8b446.js";import{c as D}from"./order-ca254a7f.js";const U={class:"page-underwrite-result-wrap"},x={class:"result-content"},F={class:"result-icon"},$={class:"result-status"},j={class:"result-desc"},z={key:0,class:"operate-btn"},G={key:1,class:"operate-btn"},V={class:"dialog-content"},W=a({name:"underwriteResult"});var B=e(a({...W,setup(e){var a,W;const B={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${l}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(W=s.get(`${l}_underwriteResult`))?void 0:W[t.UNDER_WRITE_FAIL]}},Y=r(),H=o(),{orderNo:J,tenantId:K,underwriteStatus:M,productClass:O}=Y.query,P=u.Component,Q=n((()=>O===`${d.YES}`)),[X,Z]=i(!1),ee=c(),ae=c(!1),te=async()=>{if(ae.value=!0,Q.value)return H.push({path:N.orderList,query:{...Y.query}}),void(ae.value=!1);const{code:e,data:a}=await k({orderNo:J,tenantId:K});"10000"===e&&a&&(delete Y.query.orderNo,H.push({path:N.orderList,query:{...Y.query}})),ae.value=!1},se=()=>{Z(!0)},le=()=>{ae.value=!0,C({messageType:A.AGENT,orderNo:J,tenantId:K}).then((({code:e})=>{"10000"===e&&H.push({path:N.sign,query:Y.query})})).finally((()=>{ae.value=!1}))},re=()=>{ae.value=!0,D({orderNo:J,tenantId:K}).then((({code:e,data:a})=>{"10000"===e&&(delete Y.query.orderNo,H.push({path:N.productList,query:Y.query}))})).finally((()=>{ae.value=!1}))},oe=()=>{var e;e=()=>{Z(!1),delete Y.query.questionnaireId,H.push({path:ee.value,query:Y.query})},T({orderNo:J,tenantId:K}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},ue=()=>{Z(!1),re()},ne=c();return p((()=>{setTimeout((async()=>{ne.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const s=R,l=E,r=L,o=S;return y(),v("div",U,[m("div",x,[m("div",F,[f(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),m("p",$,b(B[`${_(M)}`].resultStatus),1),m("p",j,b(B[`${_(M)}`].resultDesc),1),_(M)!==_(t).UNDER_WRITE_FAIL||_(Q)?(y(),v("div",G,[f(l,{type:"primary",disabled:_(ae),onClick:te},{default:h((()=>[I("确定")])),_:1},8,["disabled"])])):(y(),v("div",z,[f(l,{type:"primary",plain:"",onClick:se},{default:h((()=>[I("返回修改")])),_:1}),f(l,{type:"primary",disabled:_(ae),onClick:le},{default:h((()=>[I("继续投保")])),_:1},8,["disabled"]),f(l,{class:"no-border",disabled:_(ae),onClick:re},{default:h((()=>[I("放弃投保")])),_:1},8,["disabled"])]))]),_(X)?(y(),w(_(P),{key:0,show:_(X),"onUpdate:show":a[1]||(a[1]=e=>q(X)?X.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!_(ee),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:oe,onCancel:ue},{default:h((()=>[m("div",V,[f(o,{modelValue:_(ee),"onUpdate:modelValue":a[0]||(a[0]=e=>q(ee)?ee.value=e:null)},{default:h((()=>[f(r,{name:_(N).premiumTrial},{default:h((()=>[I("保费试算页")])),_:1},8,["name"]),f(r,{name:_(N).questionNotice},{default:h((()=>[I("健康告知页")])),_:1},8,["name"]),f(r,{name:_(N).infoCollection},{default:h((()=>[I("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):g("",!0)])}}}),[["__scopeId","data-v-3ff4c4ae"]]);export{B as default};
