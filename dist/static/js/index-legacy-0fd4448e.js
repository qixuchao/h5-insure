!function(){var e=document.createElement("style");e.innerHTML=".net-sale-wrap[data-v-311dd4f3]{padding-bottom:2rem;background:#f1f5fc}.net-sale-wrap .footer-button[data-v-311dd4f3]{justify-content:space-between}.net-sale-wrap .product-name[data-v-311dd4f3]{font-size:.48rem;font-weight:500;line-height:1.06667rem}.net-sale-wrap .part[data-v-311dd4f3]{background-color:#fff;padding:0 var(--zaui-page-border, .4rem)}.net-sale-wrap .part .common-cell-wrapper[data-v-311dd4f3]{height:1.38667rem;align-items:center;width:100%;display:inline-flex}.net-sale-wrap .part .common-cell-wrapper[data-v-311dd4f3] .cell-container{align-items:flex-start;justify-content:center;width:100%;color:var(--van-field-label-color);font-size:.4rem}.net-sale-wrap .radio-group[data-v-311dd4f3]{width:100%}.net-sale-wrap .radio-group .radio-btn[data-v-311dd4f3]{justify-content:space-between}.net-sale-wrap .price[data-v-311dd4f3]{color:#393d46;font-size:.45333rem;font-weight:400}.net-sale-wrap .price span[data-v-311dd4f3]{color:var(--van-primary-color);font-weight:700}.net-sale-wrap .right[data-v-311dd4f3]{width:3.73333rem;background:var(--van-primary-color);border-color:var(--van-primary-color)}\n",document.head.appendChild(e),System.register(["./vendor-legacy-8b41b3e4.js","./debounce-legacy-7f94bee5.js","./utils-legacy-5b2dbce6.js","./product-legacy-94736a27.js","./trial-legacy-49c6de9a.js","./nextStep-legacy-87463c23.js","./theme-legacy-41f77bf2.js","./index-legacy-9ea04cd4.js","./index-legacy-4406d2b3.js","./useStorage-legacy-b53bb4d5.js","./infoCollection-legacy-27aa093c.js","./trial-legacy-e5b4e155.js","./relativeTime-legacy-32a38f57.js","./useDicData-legacy-6c2eebbc.js"],(function(e){"use strict";var t,a,n,r,o,d,i,l,u,c,s,p,f,m,v,I,O,y,g,L,w,b,C,h,V,j,P,D,R,N,k,x;return{setters:[function(e){t=e.k,a=e.aa,n=e.u,r=e.r,o=e.b,d=e.$,i=e.o,l=e.p,u=e.s,c=e.t,s=e.v,p=e.S,f=e.C,m=e.M,v=e.E,I=e.y,O=e.d,y=e.D,g=e.a5,L=e.a6},function(e){w=e.d},function(e){b=e.r,C=e.t},function(e){h=e.p},function(e){V=e.i,j=e.b,P=e.p},function(e){D=e._,R=e.n},function(e){N=e.u},function(e){k=e.P},function(e){x=e._},function(){},function(){},function(){},function(){},function(){}],execute:function(){const Y=e=>(g("data-v-311dd4f3"),e=e(),L(),e),B={class:"net-sale-wrap"},E={class:"part product-name"},T=Y((()=>f("span",null,null,-1))),_=Y((()=>f("span",null,null,-1))),M={class:"part"},$={class:"footer-button"};e("default",x(t({setup(e){const t=N();a();const g=n(),{productCode:L="HTEJBX",tenantId:x="9991000001",orderNo:Y,agentCode:H="",saleChannelId:S,extraInfo:z,from:F}=g.query,A=r(),U=r(),q=r(),J=r(),W=r(),G=r({});let X={};try{X=JSON.parse(decodeURIComponent(z))}catch(oe){}const K=r({agencyId:H,commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_underWrite",pageCode:"infoCollection",templateId:X?.templateId,iseeBizNo:"",extraInfo:X},orderCategory:1,saleUserId:S,tenantId:x,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"1",extInfo:{occupationCodeList:[]},tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"xinao",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:x}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),Q=o((()=>!!q.value?.productRelationPlanVOList?.length)),Z=o((()=>{const{premium:e}=W.value||{};if(!e){const{tenantProductInsureVO:e}=J.value||{};let t={};t=e?.planList?.length?e?.planList.find((e=>e.plaCode===U.value)):e?.planInsureVO;const{paymentFrequencyValue:a,premiumUnit:n}=t?.productPremiumVOList?.[0]||{};return a&&`${a}${n}`}return""})),ee=o((()=>{let e=[];return e=Q.value?q.value?.productRelationPlanVOList.find((e=>e.planCode===U.value))?.productRiskVoList||[]:q.value?.productRiskVoList||[],e})),te=o((()=>1===((ee.value||[])?.[0]?.riskDetailVOList?.[0]?.insuranceStartType||1)?`${O(new Date).format("YYYY-MM-DD")} 00:00:00`:`${O(new Date).add(1,"day").format("YYYY-MM-DD")} 00:00:00`)),ae=o((()=>{const e=ee.value||[],{insuranceEndType:t,riskInsureLimitVO:a}=e?.[0]?.riskDetailVOList?.[0]||{},{insurancePeriodValueList:n}=a||{},[r,o]=(n?.[0]||"").split("_");return 1===t?`${O(new Date).add(o||0,r).format("YYYY-MM-DD")} 23:59:59`:`${O(new Date).add(o,r).format("YYYY-MM-DD")} 00:00:00`})),ne=async()=>{K.value.venderCode=q.value?.productBasicInfoVO.insurerCode,K.value.orderAmount=W.value.premium,K.value.orderRealAmount=W.value.premium,K.value.commencementTime=te.value,K.value.expiryDate=ae.value,K.value.tenantOrderInsuredList[0].planCode=U.value,K.value.tenantOrderInsuredList[0].planName=q.value?.productRelationPlanVOList.find((e=>e.planCode===U.value))?.planName,R(((e={},t={},a={})=>{const n={...a},r={tenantId:x,riskList:n.tenantOrderInsuredList[0]?.tenantOrderProductList[0].riskVOList||[],riskPremium:t,productId:e?.productBasicInfoVO.id};return n.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:e.productBasicInfoVO.productCode,productName:e.productBasicInfoVO.productName,tenantOrderRiskList:C(r)},n})(q.value,W.value,K.value),(()=>{}))},re=async()=>{A.value?.validateForm().then((()=>{y.confirm({title:"分享",message:`即将向客户【${K.value.tenantOrderHolder.name}】发送投保确认信息,请确认是否继续？`}).then((()=>{ne()}))}))};d([()=>K.value.tenantOrderInsuredList?.[0].gender,()=>K.value.tenantOrderInsuredList?.[0].birthday,()=>U.value],w((([e,t])=>{e&&t&&(async(e,t,a)=>{const n={holder:{personVO:e.tenantOrderHolder},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",personVO:e,productPlanVOList:[{insurerCode:t.productBasicInfoVO.insurerCode,planCode:U.value||0,riskVOList:b(a)}]}))),productCode:t.productBasicInfoVO.productCode,tenantId:x},{code:r}=await j(n);if("10000"===r){const{code:e,data:t}=await P(n);W.value="10000"===e?t:null}K.value.tenantOrderInsuredList[0].tenantOrderProductList=n.insuredVOList[0]?.productPlanVOList})(K.value,q.value,ee.value)}),500));return i((()=>{(async()=>{const{code:e,data:t}=await h({productCode:L,withInsureInfo:!0,tenantId:x});"10000"===e&&(J.value=t,document.title=t.productFullName||"");const{code:a,data:n}=await V({productCode:L});"10000"===a&&(q.value=n,G.value=n.productFactor,n?.productRelationPlanVOList?.length&&(U.value=n.productRelationPlanVOList[0].planCode))})(),setTimeout((async()=>{window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const n=l("ProRadioButton"),r=l("ProCard"),o=l("ProCell"),d=l("ProPageWrap"),i=l("van-config-provider");return u(),c(i,{"theme-vars":v(t)},{default:s((()=>[p(d,null,{default:s((()=>[f("div",B,[f("div",E,m(q.value?.productBasicInfoVO?.productFullName),1),v(Q)?(u(),c(r,{key:0,"show-line":!1,title:"保障年期"},{default:s((()=>[p(n,{modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value=e),class:"radio-group",prop:{label:"planName",value:"planCode"},options:q.value?.productRelationPlanVOList},null,8,["modelValue","options"])])),_:1})):I("",!0),p(D,{ref_key:"formRef",ref:A,"title-collection":{HOLDER:"投保人",INSURER:"被保人",BENEFICIARY:"收益人"},"form-info":K.value,"send-sms-code":()=>{},"input-align":"left","factor-object":G.value},{holderName:s((()=>[T])),insurerName:s((()=>[_])),_:1},8,["form-info","send-sms-code","factor-object"]),f("div",M,[p(o,{title:"保费",content:v(Z)},null,8,["content"]),p(o,{title:"保障期间",content:`${v(te).split(" ")[0]}~${v(ae).split(" ")[0]}`},null,8,["content"])]),f("div",$,[p(k,{text:"分享用户确认投保",onClick:re})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-311dd4f3"]]))}}}))}();
