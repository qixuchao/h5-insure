import{d as e,u as a,A as t,r as s,a6 as n,b8 as l,L as i,Z as r,b as o,c as u,e as c,w as d,i as p,f as v,j as f,E as m,h as g,a0 as b,$ as h,G as w,W as y,B as k,a$ as C,_,aD as x,aE as I}from"./index-aba19b63.js";import{b as N}from"./product-02236136.js";const A={class:"header"},E=["src"],j={class:"content"},D=(e=>(x("data-v-6209abe6"),e=e(),I(),e))((()=>p("h4",null,"温馨提示，您已进入投保流程：",-1))),$={class:"statement"},L={class:"footer"},O={key:0},S={class:"review-pdf"},T=e({name:"preNotice"});var q=w(e({...T,props:{productDetail:{default:()=>({})}},setup(e){const w=e,x=a(),{tenantId:I="",preview:T}=x.query,q=t({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),B=s(!1),F=s(!1),G=new n({source:"sessionStorage"}),P=l({time:4e3,onFinish:()=>{G.set("PRENOTICE-isShow","1")}}),R=s({title:"",link:""}),U=i((()=>P.current.value.seconds)),W=i((()=>{if(R.value.link){const e=(R.value.link||"").split("?"),a=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",a),"pdf"===a?"pdf":"picture"}return"link"})),Z=()=>{B.value=!1};return r((()=>{!T&&(async()=>{const{code:e,data:a}=await N({insureCode:w.productDetail.insurerCode,tenantId:I});"10000"===e&&(q.insureConfig=a,q.statement=`本产品由${a.tenantName}销售本页面仅做产品展示，具体承保方案以实际保单约定为准`,y((()=>{P.start()}))),B.value=!0})()})),(e,a)=>{var t;const s=k,n=C,l=_;return o(),u(h,null,[c(n,{class:"pre-notice-wrap",show:v(B),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:d((()=>{var e;return[p("div",A,[p("img",{src:v("/static/png/header-logo-f6f405b0.png")},null,8,E)]),p("div",j,[D,p("p",null,[f(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),p("span",{class:"file-name",onClick:a[0]||(a[0]=e=>((e,a)=>{var t;F.value=!F.value,R.value.link=null==(t=q.insureConfig)?void 0:t[a].link,R.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+m((null==(e=v(q).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),f(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),p("abbr",$,m(v(q).statement),1),p("div",L,[c(s,{type:"primary",block:"",round:"",onClick:Z},{default:d((()=>[f(" 好的 "),v(U)?(o(),u("span",O,m(v(U))+"s",1)):g("",!0)])),_:1})])]})),_:1},8,["show"]),c(n,{show:v(F),"onUpdate:show":a[1]||(a[1]=e=>b(F)?F.value=e:null),class:"pre-notice-wrap",title:null==(t=v(R))?void 0:t.title,position:"bottom",style:{overflow:"hidden"}},{default:d((()=>{var e;return[p("div",S,[c(l,{content:null==(e=v(R))?void 0:e.link,type:v(W)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-6209abe6"]]);export{q as default};
