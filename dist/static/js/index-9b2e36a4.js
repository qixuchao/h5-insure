import{ref as e,watch as t,computed as l,unref as u,onMounted as o}from"vue";import{aN as n,h as a,R as i,_ as r,S as V,T as c,aI as d,u as s,a as m,x as p,E as v,I as f,aO as k}from"./index-deb4ddfb.js";import{b as N,c as h,g}from"./proposalList-f0d28251.js";import{q as C,p as E,c as b,a as y}from"./compositionProposal-a1546a2a.js";import{P as B}from"./index-537a5f71.js";import{_ as A}from"./box-title-70dc1627.js";import{_ as x}from"./index-97a63e34.js";import{d as w}from"./trial-90e504aa.js";import"./pdfh5-e588f83d.js";import"./echarts-6ee22673.js";const S={class:"container head-cover"},R={class:"info-detail"},I={class:"name"},P={class:"img"},T={key:0,src:"/static/png/male-441ae760.png"},M={key:1,src:"/static/png/female-2dc8cc10.png"},L={clase:"p1"},_={class:"p2"},O={class:"fe"},U=(e=>(Vue.pushScopeId("data-v-07cb0a74"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("div",{class:"line"},null,-1))),j={class:"tp"};var D=r(Vue.defineComponent({__name:"InsuranceList",props:{info:{type:Object,default:()=>{}}},setup(l){const u=l,o=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保额",dataIndex:"initialAmount"},{title:"保障期间",dataIndex:"coveragePeriod",width:110},{title:"交费期间",dataIndex:"chargePeriod",width:110},{title:"保费",dataIndex:"initialPremium",width:120}],r=e([]),c=e=>{const t=e.split("_");if("to_life"===e)return"保终身";switch(t[0]){case"year":return`${t[1]}年`;case"month":return`${t[1]}月`;case"day":return`${t[1]}天`;case"to":return`保至${t[1]}岁`;default:return""}},d=e=>{const t=e.split("_");switch(t[0]){case"year":return`${t[1]}年交`;case"month":return`${t[1]}月交`;case"to":return`交至${t[1]}岁`;case"single":return"趸缴";default:return""}};return t((()=>u.info),(e=>{(e=>{const t=[];null==e||e.forEach((e=>{const{riskName:l,initialAmount:u,coveragePeriod:o,chargePeriod:n,initialPremium:a}=e;t.push({riskName:l,initialAmount:u,coveragePeriod:c(o),chargePeriod:d(n),initialPremium:a})})),r.value=t})(null==e?void 0:e.proposalProductRiskVOList)}),{deep:!0,immediate:!0}),(e,t)=>{var c,d,s,m,p,v,f;return Vue.openBlock(),Vue.createElementBlock("div",S,[Vue.createElementVNode("div",R,[Vue.createElementVNode("div",I,[Vue.createElementVNode("div",P,[(null==(c=u.info)?void 0:c.gender)?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[(f=null==(d=u.info)?void 0:d.gender,f===+V.MALE?(Vue.openBlock(),Vue.createElementBlock("img",T)):(Vue.openBlock(),Vue.createElementBlock("img",M)))],64)):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",null,[Vue.createElementVNode("p",L,Vue.toDisplayString(null==(s=u.info)?void 0:s.name),1),Vue.createElementVNode("p",_,Vue.toDisplayString(Vue.unref(n)[null==(m=u.info)?void 0:m.gender])+"，"+Vue.toDisplayString(Vue.unref(a)().diff(null==(p=l.info)?void 0:p.birthday,"y"))+"岁",1)])]),Vue.createElementVNode("div",O,[Vue.createTextVNode(" 首年保费： "),Vue.createElementVNode("span",null,"¥"+Vue.toDisplayString(Vue.unref(i)(null==(v=u.info)?void 0:v.totalPremium)),1)])]),U,Vue.createElementVNode("div",j,[Vue.unref(r).length>0?(Vue.openBlock(),Vue.createBlock(B,{key:0,columns:o,class:"table","data-source":Vue.unref(r)},null,8,["data-source"])):Vue.createCommentVNode("",!0)])])}}}),[["__scopeId","data-v-07cb0a74"]]);const F=e=>(Vue.pushScopeId("data-v-f8272ed6"),e=e(),Vue.popScopeId(),e),H={class:"container"},z=F((()=>Vue.createElementVNode("div",{class:"common-title"},"利益演示",-1))),Z={key:0,class:"benefit"},Q={key:0,class:"box-title box-title-chart"},G=F((()=>Vue.createElementVNode("img",{src:A,alt:""},null,-1))),q=F((()=>Vue.createElementVNode("img",{src:A,alt:""},null,-1))),K={key:1},J={class:"box"},W={class:"box-title"},X=F((()=>Vue.createElementVNode("img",{src:A,alt:""},null,-1))),$=F((()=>Vue.createElementVNode("img",{src:A,alt:""},null,-1))),Y={class:"box-price"},ee={class:"text1"},te={class:"text2"},le={key:2,style:{width:"100%, minWidth: 338px"}},ue={class:"slider"},oe=[F((()=>Vue.createElementVNode("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAASFBMVEVHcEwNbv8Mbf8TcP8Nbv8Nb/8Nb/8Nbv8qf/8Nb/8Nbv8Mb/8PcP8Nbv8Pcv8Mb/8Pb/8PcP8Ocf8Nbv8Ob/8Vf/8Nbv8Nbv+Jn3KrAAAAF3RSTlMAlLEZ0ID47wZx3WBTiDGeOUQk57UMuVjVO7sAAAHeSURBVHjarVjZkoMgEARkuURIXI///9Mtga0igkGZ6RcThXa6cTiGfIMbJ8aNFEIazqbRkR4Mmsn9BMn08IxFjdt+gW1Ut2lW/bt/wa9e70Wjc0lm8XSaqF9MLlHfiOrFM0dc1kG5zDX+aoVDU0vBrKo8tkykBvRrUDNPNHS4HE2aqPh8zfNOoUeaa6ok/U0uYEWuv+2jsKSKcQ/wijShfGw7VuOJzzS5BR1b24o/oqa75aco2s/hvpnJbcwmvPnUQ/F0t4Hy3fzT0jiiDV2FuvitfIxn4fMDx19nYZ48hj+J0+n/Yyj+oWSVMcIOBE/kmgdESRdoFpI65kMx9BEN4pgzoysjIKAYUsq5LQUECGkLvw5KRrrBjv7Dv9W2n8gGuxOjVP1ESiZF6QrTJglxRZZ1ZZwjY7wA4OIHMB0XBSFSB8MUFBoCggkuH/m7wIiWY+4IdB5G5IMoWSaa/WnAlukmiQhO5Zj2JsoOokIk20SyJKpI420iXkqrmO14k8eVZqMNP9oHiZYiaEmLNo1gTWxoUy3a5I+2HGEtkGhLNtomAmtbg7zRgm/9sDej8O0x/oYdfoTAP9TAj1nwgx/+URR+OIYf15ELCPCSBn6RBV72gRei8Etj+MU6tPLhH41GXfO43AIjAAAAAElFTkSuQmCC",alt:""},null,-1)))],ne={style:{flex:"1",margin:"0px 5px"}},ae={class:"custom-button"},ie=[F((()=>Vue.createElementVNode("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAS1BMVEVHcEwNb/8Nbv8Ocf8Mbv8Nbf8Nbv8Qcf8zmf8Nbv8Nbv8Wbv8Ocv8Nb/8Nb/8NcP8Nbf8PcP8cjf8Nbv8Nbv8NcP8OcP8Nbv8Nbv+sb0c3AAAAGHRSTlMAXpwhsunxPwX5khcy3m5xzVQJ0oh0Rrn3uGXUAAACAUlEQVR42q2YWZKFIAxFg4KAiLM+9r/SLgNdj24VFXM+tMrhmkCCJJCiYTOfrNBa2InPrIEcTMsr94+KtwYeMbKPO+HDxvsyi3AJxHJPSnWxjOVFPc91wW0s1Sm4RE7RiDTRC6qJRm2SV+bUzqP5oA5uD1w7T500quyDTF2ePlIHqb5MuBVMLwwkMEVw/dS9QftPXQZe4w3XAxzCgjkKLlHBKHZoj0M6uEXnkAObpEa/V7jJWqF3cjcZeN2WcJvS4pf/vaH6cPU+4du9ghgfhys8YvWRCRESL7XwkNZtyMixCecdHlNg3ql4LtHZY5gQDI5R/Z+IGXHdOItno53T5izGcVUZwbMkHZM4DknnlsggbfKEjP6axPwk5glB/c25z2ZQmStUbiZ90LjtQQ65QsC3++Y3qoZ8oQFjOShWKl9IVcEjf84WCpaEkGrfCLU+nBme3gg1PgDm7aTeCKntgRk9tPBGCCyO8oTHN0JoywR2n7BGxnS4UsgYs09cC2KXaEy7CzTbpZsAjSMVI9wlAmLmTZtMiMw1ssEmm36ygCRLEbKkJVtGqBY2sqWWbPEn+x1R/SDJftlkmwiqbQ3ZRotq60e/GQWZLkPSBYmk2rCTlRCERQ19mRUXfu2TMsQNVKUoVXFMVa5TNRCoWhpUTRb6tg99I4q+NUbfrAuoJ+3DH6O5cGG4augGAAAAAElFTkSuQmCC",alt:""},null,-1)))],re=F((()=>Vue.createElementVNode("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Ve={class:"btn-two"};var ce=r(Vue.defineComponent({__name:"Benefit",props:{info:{type:Object,default:()=>{}}},setup(l){const u=l,o=e(0),n=e(0),a=e(0),r=e(),V=e(0),c=e(!0),d=e=>{if(!(null==e?void 0:e.benefitRiskResultVOList))return;const t=(null==e?void 0:e.benefitRiskResultVOList[o.value])||{};n.value=t.ageBegin+1,V.value=t.ageBegin+1,a.value=t.ageEnd},s=()=>{var e,t,l;const i=null==(t=null==(e=u.info)?void 0:e.benefitRiskResultVOList)?void 0:t[o.value],{a:c,year:d}=((e,t)=>{const l=[],u=[];for(let o=e,n=0;o<=t;o++,n++)l.push(o.toString()),u.push(n+1);return{a:l,year:u}})(n.value,a.value),s={index:c.indexOf(V.value.toString()),age:c,year:d,result:null==(l=null==i?void 0:i.benefitRiskItemResultVOList)?void 0:l[0]};r.value=s},m=()=>{V.value>a.value-1||(V.value+=1,s())},p=()=>{V.value>n.value&&(V.value-=1,s())},v=e=>{o.value=e.name,d(u.info),s()},f=e=>{c.value="1"===e};return t((()=>u.info),(e=>{e&&(d(e),s())}),{deep:!0,immediate:!0}),t(V,(()=>{s()})),(e,t)=>{const l=Vue.resolveComponent("van-slider"),d=Vue.resolveComponent("van-button"),s=Vue.resolveComponent("van-tab"),k=Vue.resolveComponent("van-tabs");return Vue.openBlock(),Vue.createElementBlock("div",H,[z,Vue.createVNode(k,{active:Vue.unref(o),"title-active-color":"#0d6efe","title-inactive-color":"#393D46",shrink:"",onClickTab:v},{default:Vue.withCtx((()=>{var e;return[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(null==(e=u.info)?void 0:e.benefitRiskResultVOList,((e,u)=>(Vue.openBlock(),Vue.createBlock(s,{key:u,name:u,title:e.productName},{default:Vue.withCtx((()=>{var e,s,v,k,N,h,g,C,E,b,y,B,A,w,S,R;return[u==Vue.unref(o)?(Vue.openBlock(),Vue.createElementBlock("div",Z,[Vue.unref(c)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",Q,[G,Vue.createElementVNode("div",null,[Vue.createTextVNode(" 保单年度"),Vue.createElementVNode("span",null,Vue.toDisplayString(null==(v=null==(e=Vue.unref(r))?void 0:e.year)?void 0:v[null==(s=Vue.unref(r))?void 0:s.index]),1),Vue.createTextVNode("年度，被保人"),Vue.createElementVNode("span",null,Vue.toDisplayString(null==(h=null==(k=Vue.unref(r))?void 0:k.age)?void 0:h[null==(N=Vue.unref(r))?void 0:N.index]),1),Vue.createTextVNode("岁时 ")]),q])),Vue.unref(c)?(Vue.openBlock(),Vue.createElementBlock("div",K,[Vue.createElementVNode("div",J,[Vue.createElementVNode("div",W,[X,Vue.createElementVNode("div",null,[Vue.createTextVNode(" 保单年度"),Vue.createElementVNode("span",null,"  "+Vue.toDisplayString(null==(E=null==(g=Vue.unref(r))?void 0:g.year)?void 0:E[null==(C=Vue.unref(r))?void 0:C.index])+"  ",1),Vue.createTextVNode("年度，被保人"),Vue.createElementVNode("span",null,"  "+Vue.toDisplayString(null==(B=null==(b=Vue.unref(r))?void 0:b.age)?void 0:B[null==(y=Vue.unref(r))?void 0:y.index])+"  ",1),Vue.createTextVNode("岁时 ")]),$]),Vue.createElementVNode("div",Y,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(null==(w=null==(A=Vue.unref(r))?void 0:A.result)?void 0:w.headers,((e,t)=>{var l,u,o,n,a;return Vue.openBlock(),Vue.createElementBlock("div",{key:t,style:{width:"33%"}},[Vue.createElementVNode("p",ee,Vue.toDisplayString(Vue.unref(i)(Number(null==(a=null==(n=null==(u=null==(l=Vue.unref(r))?void 0:l.result)?void 0:u.dataList)?void 0:n[null==(o=Vue.unref(r))?void 0:o.index])?void 0:a[t]))||"--"),1),Vue.createElementVNode("p",te,Vue.toDisplayString(e)+"(元）",1)])})),128))])])])):Vue.createCommentVNode("",!0),Vue.unref(c)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",le,[Vue.createVNode(x,{min:Vue.unref(n),max:Vue.unref(a),current:Vue.unref(V),data:null==(R=null==(S=Vue.unref(r))?void 0:S.result)?void 0:R.benefitRiskItemList},null,8,["min","max","current","data"])])),Vue.createElementVNode("div",ue,[Vue.createElementVNode("div",{class:"add lf",onClick:p},oe),Vue.createElementVNode("div",ne,[Vue.unref(n)?(Vue.openBlock(),Vue.createBlock(l,{key:0,modelValue:Vue.unref(V),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(V)?V.value=e:null),min:Vue.unref(n),max:Vue.unref(a),"bar-height":"8px"},{button:Vue.withCtx((()=>[Vue.createElementVNode("div",ae,Vue.toDisplayString(Vue.unref(V))+" 岁",1)])),_:1},8,["modelValue","min","max"])):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",{class:"add rg",onClick:m},ie)]),re,Vue.createElementVNode("div",Ve,[Vue.createVNode(d,{round:"",plain:!Vue.unref(c),type:"primary",class:"btn",onClick:t[1]||(t[1]=e=>f("1"))},{default:Vue.withCtx((()=>[Vue.createTextVNode("图表展示")])),_:1},8,["plain"]),Vue.createVNode(d,{round:"",plain:Vue.unref(c),type:"primary",class:"btn",onClick:t[2]||(t[2]=e=>f("2"))},{default:Vue.withCtx((()=>[Vue.createTextVNode("趋势展示")])),_:1},8,["plain"])])])):Vue.createCommentVNode("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-f8272ed6"]]),de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAJFBMVEVHcEwGev8Ie/8He/8QhP8Hff8Lff8ff/8Kf/8HeP8Jev8KfP88zNEzAAAADHRSTlMATTtEDx4rCBgkNDEC504AAAAAu0lEQVR42t2TzRKDMAiEV35CSN7/fTtiKOnBWz2034nZRRxYBdCJeQgKGczUz6odgSLRS2hAPxaST6XQQVm25bUUCFxlUM1c3ljeKG9m6cvzFCbs3ZXkJAN61CRIhKI3FjRtTbFzCoZ/QSlX35an2HjmORPPc0Jvs9VHsm01/kLrJcY18mMoGyAcliExCktw0t0FO+Le8WOY3QnO8RUX/RQ8T1QRVUj0cLZzefMb2UY9tmzH9iOLqiDZhBeX/QTFelEoEAAAAABJRU5ErkJggg==";const se={class:"container"},me={class:"common-title"},pe={class:"title"},ve=(e=>(Vue.pushScopeId("data-v-b9c0979e"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("img",{src:de,class:"ig"},null,-1))),fe={class:"product-detail"},ke=["innerHTML"];var Ne=r(Vue.defineComponent({__name:"LiabilityByRisk",props:{info:{type:Object,default:()=>{}}},setup(t){const l=t,u=e([]);return(e,t)=>{var o;const n=Vue.resolveComponent("van-collapse-item"),a=Vue.resolveComponent("van-collapse");return Vue.openBlock(),Vue.createElementBlock("div",se,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(null==(o=l.info)?void 0:o.liabilityByRiskVOList,((e,l)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:l},[Vue.createElementVNode("div",me,[Vue.createElementVNode("div",pe,[ve,Vue.createTextVNode(" "+Vue.toDisplayString(e.riskName),1)])]),Vue.createElementVNode("div",fe,[Vue.createVNode(a,{modelValue:Vue.unref(u),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(u)?u.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.proposalRiskLiabilityVOList,((e,t)=>(Vue.openBlock(),Vue.createBlock(n,{key:t,title:e.liabilityName,name:t,"value-class":"price",value:e.liabilityIndemnityContent},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",{innerHTML:e.liabilityDesc},null,8,ke)])),_:2},1032,["title","name","value"])))),128))])),_:2},1032,["modelValue"])])])))),128))])}}}),[["__scopeId","data-v-b9c0979e"]]);const he={class:"container"},ge={class:"common-title"},Ce={class:"title"},Ee=(e=>(Vue.pushScopeId("data-v-16042596"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("img",{src:de,class:"ig"},null,-1))),be={class:"product-detail"};var ye=r(Vue.defineComponent({__name:"LiabilityByRes",props:{info:{type:Object,default:()=>{}}},setup(t){const l=t,u=e([]);return(e,t)=>{var o;const n=Vue.resolveComponent("ProCell"),a=Vue.resolveComponent("van-collapse-item"),i=Vue.resolveComponent("van-collapse");return Vue.openBlock(),Vue.createElementBlock("div",he,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(null==(o=l.info)?void 0:o.liabilityByTopTypeVOList,((e,l)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:l},[Vue.createElementVNode("div",null,[Vue.createElementVNode("div",ge,[Vue.createElementVNode("div",Ce,[Ee,Vue.createTextVNode(" "+Vue.toDisplayString(e.liabilityTopTypeName),1)])]),Vue.createElementVNode("div",be,[Vue.createVNode(i,{modelValue:Vue.unref(u),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(u)?u.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Object.keys(e.proposalRiskLiabilityVOMap),((t,u)=>(Vue.openBlock(),Vue.createBlock(a,{key:u+l,title:t,name:u+l,"value-class":"price"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.proposalRiskLiabilityVOMap[t],(e=>(Vue.openBlock(),Vue.createBlock(n,{key:e.liabilityId,title:e.liabilityName,content:e.liabilityIndemnityContent||""},null,8,["title","content"])))),128))])),_:2},1032,["title","name"])))),128))])),_:2},1032,["modelValue"])])])])))),128))])}}}),[["__scopeId","data-v-16042596"]]);const Be=e=>(Vue.pushScopeId("data-v-654d11f6"),e=e(),Vue.popScopeId(),e),Ae={class:"com-insured-product-wrapper"},xe={class:"container"},we=Be((()=>Vue.createElementVNode("span",{class:"clear-all"},null,-1))),Se=Be((()=>Vue.createElementVNode("span",{class:"title"}," 选择投保产品 ",-1))),Re={class:"popup-body"},Ie={class:"cell-title"},Pe={class:"title"},Te={class:"error-message"},Me={class:"footer-button"};var Le=r(Vue.defineComponent({__name:"index",props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(u,{emit:o}){const n=u,a="已通过计划书进行投保",i="产品未授权，无法进行投保",r="产品暂不支持计划书转投保",V=e(""),d=e(null),s=e({isShow:n.isShow}),m=l((()=>e=>1===e.insured?a:1!==e.authStatus?i:1!==e.insureMethod?r:"")),p=()=>{o("close")},v=()=>{if(!V.value)return c("请选择投保产品");o("finished",d.value)};return t((()=>n.isShow),(e=>{s.value.isShow=e})),(e,t)=>{const l=Vue.resolveComponent("van-radio"),u=Vue.resolveComponent("VanCell"),o=Vue.resolveComponent("van-cell-group"),n=Vue.resolveComponent("van-radio-group"),a=Vue.resolveComponent("VanButton"),i=Vue.resolveComponent("VanPopup");return Vue.openBlock(),Vue.createElementBlock("div",Ae,[Vue.createVNode(i,{show:Vue.unref(s).isShow,"onUpdate:show":t[1]||(t[1]=e=>Vue.unref(s).isShow=e),position:"bottom",onClose:p},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",xe,[Vue.createElementVNode("div",{class:"popup-header"},[we,Se,Vue.createElementVNode("span",{onClick:p},"X")]),Vue.createElementVNode("div",Re,[Vue.createVNode(n,{modelValue:Vue.unref(V),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(V)?V.value=e:null)},{default:Vue.withCtx((()=>[Vue.createVNode(o,null,{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.dataSource,(e=>(Vue.openBlock(),Vue.createBlock(u,{key:e.productCode,onClick:t=>{return l=e,void(m.value(l)||(d.value=l,V.value=l.productCode));var l}},{"right-icon":Vue.withCtx((()=>[Vue.createVNode(l,{name:e.productCode,disabled:!!Vue.unref(m)(e)},null,8,["name","disabled"])])),title:Vue.withCtx((()=>[Vue.createElementVNode("div",Ie,[Vue.createElementVNode("div",Pe,[Vue.createElementVNode("p",null,Vue.toDisplayString(e.productName),1),Vue.createElementVNode("span",Te,Vue.toDisplayString(Vue.unref(m)(e)),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),Vue.createElementVNode("div",Me,[Vue.createVNode(a,{block:"",type:"primary",onClick:v},{default:Vue.withCtx((()=>[Vue.createTextVNode("立即投保")])),_:1})])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-654d11f6"]]);const _e={class:"popup-body"},Oe={class:""},Ue={class:"radio-wrap"},je=["onClick"],De={class:"footer"},Fe=Vue.defineComponent({name:"themeSelect"}),He=Vue.defineComponent({...Fe,props:{show:{type:Boolean,default:!1},themeList:{default:()=>[]}},emits:["submit","update:show"],setup(t,{emit:l}){var o,n;const a=t,{show:i,themeList:r}=u(a),V=e(null==(o=null==r?void 0:r[0])?void 0:o.id),c=e(null==(n=null==r?void 0:r[0])?void 0:n.id),d=()=>{var e;l("submit",c.value?V.value||(null==(e=null==r?void 0:r[0])?void 0:e.id):c.value)};return(e,t)=>{const u=Vue.resolveComponent("van-switch"),o=Vue.resolveComponent("van-cell"),n=Vue.resolveComponent("VanRadio"),a=Vue.resolveComponent("VanCellGroup"),s=Vue.resolveComponent("VanRadioGroup"),m=Vue.resolveComponent("VanButton"),p=Vue.resolveComponent("ProPopup");return Vue.openBlock(),Vue.createBlock(p,{show:Vue.unref(i),"onUpdate:show":t[2]||(t[2]=e=>Vue.isRef(i)?i.value=e:null),class:"theme-select-wrap",title:"选择计划书封面",onClose:t[3]||(t[3]=e=>l("update:show",!1))},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",_e,[Vue.createVNode(o,{center:"",title:"封面图"},{"right-icon":Vue.withCtx((()=>[Vue.createVNode(u,{modelValue:Vue.unref(c),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(c)?c.value=e:null),"inactive-value":0,"active-value":Vue.unref(r)[0].id,size:"0.7rem"},null,8,["modelValue","active-value"])])),_:1}),Vue.createElementVNode("div",Oe,[Vue.createVNode(s,{modelValue:Vue.unref(V),"onUpdate:modelValue":t[1]||(t[1]=e=>Vue.isRef(V)?V.value=e:null)},{default:Vue.withCtx((()=>[Vue.createVNode(a,{inset:""},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",Ue,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(r),(e=>(Vue.openBlock(),Vue.createElementBlock("div",{key:e.id,class:"radio-item"},[Vue.createElementVNode("div",{class:"radio-img",style:Vue.normalizeStyle({backgroundImage:`url(${e.showConfig.thumbnailImage})`}),onClick:t=>{return l=e.id,void(0!==c.value&&(V.value=l));var l}},[Vue.createVNode(n,{name:e.id,disabled:0===Vue.unref(c)},null,8,["name","disabled"])],12,je),Vue.createElementVNode("span",{class:Vue.normalizeClass(""+(Vue.unref(V)===e.id?"checked":""))},Vue.toDisplayString(e.name),3)])))),128))])])),_:1})])),_:1},8,["modelValue"])])]),Vue.createElementVNode("div",De,[Vue.createVNode(m,{type:"primary",disabled:!(Vue.unref(V)||!Vue.unref(c)),block:"",onClick:d},{default:Vue.withCtx((()=>[Vue.createTextVNode("确定")])),_:1},8,["disabled"])])])),_:1},8,["show"])}}});const ze=e=>(Vue.pushScopeId("data-v-036e81a2"),e=e(),Vue.popScopeId(),e),Ze={class:"head-bg"},Qe={class:"container"},Ge=ze((()=>Vue.createElementVNode("div",{class:"common-title"},"保险公司简介",-1))),qe={style:{"line-height":"36px"}},Ke=ze((()=>Vue.createElementVNode("span",{class:"poiner"},null,-1))),Je={key:0,class:"footer-btn"};var We=r(Vue.defineComponent({__name:"index",setup(u){const n=d(),i=e(!0),r=s(),B=m(),{isShare:A,id:x,themeId:S,preview:R}=r.query,I=e(),P=e(""),T=e(""),M=e({}),L=e([]);e();const[_,O]=p(),[U,j]=p(),F=e([]),H=e([]),z=e(),Z=e("share");let Q="";const G=()=>{i.value=!i.value},q=l((()=>!!L.value.filter((e=>1===e.authStatus&&1===e.insureMethod)).length)),K=l((()=>"1"==`${R}`));t((()=>I.value),(e=>{if(T.value)return;const{gender:t,name:l,birthday:u}=e;a().diff(u,"y"),(e=>e===+V.MALE)(t)?T.value=`${l}先生的计划书`:T.value=`${l}女士的计划书`}));const J=e=>{M.value={title:T,desc:"您的贴心保险管家",link:e,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/MyPicture/asdad.png",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/MyPicture/asdad.png"}},W=e=>{const{productCode:t,insurerCode:l,tenantProductCode:u}=e;b({productCode:t,proposalId:x}).then((({code:e,data:t,message:o})=>{"10000"===e&&(t?w({insurerCode:l,productCode:u,proposalId:x}).then((({code:e,data:t})=>{"10000"===e&&(window.location.href=t)})):c(o))}))},X=()=>{var e,t;1===(null==(e=L.value)?void 0:e.length)?W(null==(t=L.value)?void 0:t[0]):O(!0)},$=e=>{Z.value="pdf",x?(c.loading({message:"PDF生成中...",forbidClick:!0}),g({id:x,themeHistoryId:e}).then((e=>{const{code:t,message:l}=e;"10000"===t&&(c.clear(),l?B.push(`/pdfViewer?url=${encodeURIComponent(l)}&title=${encodeURIComponent(T.value)}`):c("计划书为空"))}))):c("PDF生成失败")},Y=async e=>{if(e){const{code:t,data:l}=await y({themeId:e,proposalId:x});"10000"===t&&(j(!1),"pdf"===Z.value?$(l):(Q=`${k}/proposalCover?id=${x}&isShare=1&tenantId=${P.value}&themeId=${l}`,J(Q),setTimeout(z.value.handleShare,100)))}else j(!1),"pdf"===Z.value?$():(Q=`${k}/proposalCover?id=${x}&isShare=1&tenantId=${P.value}`,J(Q),setTimeout(z.value.handleShare,100))},ee=()=>{Z.value="pdf",H.value.length?j(!0):$()};return o((()=>{if(r.query.token){new v({source:"localStorage"}).set("token",r.query.token)}A||(E({proposalId:x}).then((({code:e,data:t})=>{"10000"===e&&(L.value=t)})),(async()=>{const{code:e,data:t}=await C();"10000"===e&&(H.value=t||[])})()),(async()=>{try{let e=null;e=A?await N(`${x}?tenantId=${r.query.tenantId}`):await h(x);const{code:t,data:l}=e;if("10000"===t){const e=(null==l?void 0:l.proposalInsuredVOList[0])||{};I.value=e,T.value=l.proposalName,P.value=null==l?void 0:l.tenantId,Q=`${k}/proposalCover?id=${x}&isShare=1&tenantId=${P.value}`,J(Q)}}catch(e){c("接口请求失败")}})()})),(e,t)=>{const l=Vue.resolveComponent("van-collapse-item"),u=Vue.resolveComponent("van-collapse"),o=Vue.resolveComponent("van-button"),a=Vue.resolveComponent("van-config-provider"),r=Vue.resolveComponent("ProPageWrap");return Vue.openBlock(),Vue.createBlock(r,null,{default:Vue.withCtx((()=>[Vue.createVNode(a,{"theme-vars":Vue.unref(n)},{default:Vue.withCtx((()=>{var e;return[Vue.createElementVNode("div",{class:Vue.normalizeClass(["page-composition-proposal",{"page-proposal-bottom":!Vue.unref(A)}])},[Vue.createElementVNode("div",Ze,Vue.toDisplayString(Vue.unref(T)),1),Vue.createVNode(D,{info:Vue.unref(I)},null,8,["info"]),Vue.createElementVNode("div",{class:"switch-btn",onClick:G},Vue.toDisplayString(Vue.unref(i)?"按责任显示":"按险种显示"),1),Vue.unref(i)?(Vue.openBlock(),Vue.createBlock(Ne,{key:0,info:Vue.unref(I)},null,8,["info"])):(Vue.openBlock(),Vue.createBlock(ye,{key:1,info:Vue.unref(I)},null,8,["info"])),(null==(e=Vue.unref(I))?void 0:e.benefitRiskResultVOList)?(Vue.openBlock(),Vue.createBlock(ce,{key:2,info:Vue.unref(I)},null,8,["info"])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",Qe,[Ge,Vue.createVNode(u,{modelValue:Vue.unref(F),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(F)?F.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:Vue.withCtx((()=>{var e;return[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(null==(e=Vue.unref(I))?void 0:e.insurerInfoVOList,((e,t)=>(Vue.openBlock(),Vue.createBlock(l,{key:t,name:t,"value-class":"price"},{title:Vue.withCtx((()=>[Vue.createElementVNode("div",qe,[Ke,Vue.createTextVNode(" "+Vue.toDisplayString(null==e?void 0:e.insurerName),1)])])),default:Vue.withCtx((()=>[Vue.createTextVNode(" "+Vue.toDisplayString(e.insurerDesc),1)])),_:2},1032,["name"])))),128))]})),_:1},8,["modelValue"])])],2),Vue.unref(A)||Vue.unref(K)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",Je,[Vue.createVNode(f,{ref_key:"shareButtonRef",ref:z,title:Vue.unref(M).title,desc:Vue.unref(M).desc,link:Vue.unref(M).link,"img-url":Vue.unref(M).imgUrl},{default:Vue.withCtx((()=>[Vue.createVNode(o,{type:"primary",class:"share-btn",onClick:t[1]||(t[1]=Vue.withModifiers((()=>(Z.value="share",void(H.value.length?j(!0):z.value.handleShare(M.value)))),["stop"]))},{default:Vue.withCtx((()=>[Vue.createTextVNode("分享")])),_:1})])),_:1},8,["title","desc","link","img-url"]),Vue.createVNode(o,{plain:"",type:"primary",class:"btn",onClick:ee},{default:Vue.withCtx((()=>[Vue.createTextVNode("生成PDF")])),_:1}),Vue.unref(q)?(Vue.openBlock(),Vue.createBlock(o,{key:0,type:"primary",class:"btn",onClick:X},{default:Vue.withCtx((()=>[Vue.createTextVNode("立即投保")])),_:1})):Vue.createCommentVNode("",!0)])),Vue.unref(_)?(Vue.openBlock(),Vue.createBlock(Le,{key:1,"is-show":Vue.unref(_),"data-source":Vue.unref(L),onFinished:W,onClose:t[2]||(t[2]=e=>Vue.unref(O)(!1))},null,8,["is-show","data-source"])):Vue.createCommentVNode("",!0),(Vue.openBlock(),Vue.createBlock(He,{key:+Vue.unref(U),show:Vue.unref(U),"onUpdate:show":t[3]||(t[3]=e=>Vue.isRef(U)?U.value=e:null),"theme-list":Vue.unref(H),onSubmit:Y},null,8,["show","theme-list"]))]})),_:1},8,["theme-vars"])])),_:1})}}}),[["__scopeId","data-v-036e81a2"]]);export{We as default};
