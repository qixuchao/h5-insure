import{g as W,v as Q,j as n,n as u,z as i,J as g,A as s,Y as H,t as c,O as X,ak as Z,E as ee,h as te,r as J,k as j,m as a,p as o,d as oe,G as se,F as ae,am as l,C as _,D as ne,T as re}from"./vendor-e057bbeb.js";import{d as de}from"./order-683e865e.js";import{_ as q,r as ue,G as w}from"./index-fc868a0a.js";import{O as ce,a as v}from"./order-35b0e3c5.js";import{I as le}from"./InsuredPart-993dbcd9.js";import"./trial-f7c945a8.js";const ie={class:"com-field-info"},_e={class:"label"},pe={class:"content"},ve=W({props:{label:{type:String,default:""},content:{type:String,default:""}},setup(O){const E=Q();return(e,S)=>(n(),u("div",ie,[i("div",_e,g(O.label),1),s(E).label?H(e.$slots,"label",{key:0},void 0,!0):c("",!0),i("div",pe,g(O.content),1),s(E).content?H(e.$slots,"content",{key:1},void 0,!0):c("",!0)]))}});var I=q(ve,[["__scopeId","data-v-4e47c671"]]);const me={class:"page-order-detail"},fe={class:"card"},ye={class:"header"},Ce={class:"product-name"},he={class:"company-name"},ke={class:"status"},Ie={key:0,class:"footer-button"},ge=_("\u5220\u9664"),Ee=_("\u53BB\u5904\u7406"),Se={key:1,class:"footer-button"},be=_("\u5220\u9664"),Oe=_("\u53BB\u652F\u4ED8"),Be={key:2,class:"footer-button"},Pe=_("\u5220\u9664"),Ae=_("\u53BB\u652F\u4ED8"),De={key:3,class:"footer-button"},Fe={key:4,class:"footer-button"},Ne={key:5,class:"footer-button"},Le=_("\u5220\u9664"),Te={key:6,class:"footer-button"},xe=_("\u5220\u9664"),Me=W({setup(O){const E=X();Z();const e=ee(),{query:{orderNo:S,agentCode:P,tenantId:B,abbreviation:z,productCategory:A}}=E,h=()=>{ne.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{e.value&&de(e.value.id,e.value.orderStatus).then(r=>{const{code:d,data:t}=r;d==="10000"&&re.success("\u5220\u9664\u6210\u529F")})})},K=()=>{var r,d;if(e.value){const{id:t,extInfo:{templateId:k,pageCode:m},agencyId:f,venderCode:y}=e.value,C=(d=(r=e.value.tenantOrderInsuredList[0])==null?void 0:r.tenantOrderProductList[0])==null?void 0:d.productCode;w(m,{productCode:C,orderNo:S,orderId:t,agentCode:P,templateId:k,tenantId:B,productCategory:A,insurerCode:y,agencyCode:f,isFromOrderList:"1"})}},D=()=>{var r,d;if(e.value){const{id:t,saleUserId:k,extInfo:{templateId:m},agencyId:f,venderCode:y}=e.value,C=(d=(r=e.value.tenantOrderInsuredList[0])==null?void 0:r.tenantOrderProductList[0])==null?void 0:d.productCode;w("payInfo",{productCode:C,orderNo:S,orderId:t,saleUserId:k,templateId:m,tenantId:B,productCategory:A,insurerCode:y,agencyCode:f})}};return te(()=>{ue({orderNo:S,agentCode:P,tenantId:B}).then(r=>{const{code:d,data:t}=r;d==="10000"&&(e.value=t)})}),(r,d)=>{const t=J("van-button"),k=J("ProPageWrap");return n(),j(k,null,{default:a(()=>{var m,f,y,C,F,N,L,T,x,M,R,Y,U,$,G;return[i("div",me,[i("div",fe,[o(I,null,{label:a(()=>{var p,b,V;return[i("div",ye,[i("div",Ce,g((V=(b=(p=e.value)==null?void 0:p.tenantOrderInsuredList[0])==null?void 0:b.tenantOrderProductList[0])==null?void 0:V.productName),1),i("div",he,g(s(z)),1)])]}),content:a(()=>{var p;return[i("div",ke,g(e.value?s(ce)[(p=e.value)==null?void 0:p.orderStatus]:""),1)]}),_:1}),o(I,{label:"\u8BA2\u5355\u53F7",content:(m=e.value)==null?void 0:m.orderNo},null,8,["content"]),o(I,{label:"\u521B\u5EFA\u65F6\u95F4",content:s(oe)((f=e.value)==null?void 0:f.gmtCreated).format("YYYY-MM-DD HH:mm:ss")},null,8,["content"]),o(I,{label:"\u6295\u4FDD\u4EBA",content:(C=(y=e.value)==null?void 0:y.tenantOrderHolder)==null?void 0:C.name},null,8,["content"]),(n(!0),u(ae,null,se(((F=e.value)==null?void 0:F.tenantOrderInsuredList)||[],(p,b)=>(n(),j(I,{key:b,label:"\u88AB\u4FDD\u4EBA",content:p.name},null,8,["content"]))),128))]),o(le,{"product-data":(T=(L=(N=e.value)==null?void 0:N.tenantOrderInsuredList[0])==null?void 0:L.tenantOrderProductList)==null?void 0:T[0],class:"insure-info"},null,8,["product-data"]),((x=e.value)==null?void 0:x.orderStatus)===s(v).PENDING?(n(),u("div",Ie,[o(t,{type:"primary",onClick:l(h,["stop"])},{default:a(()=>[ge]),_:1},8,["onClick"]),o(t,{type:"primary",onClick:l(K,["stop"])},{default:a(()=>[Ee]),_:1},8,["onClick"])])):c("",!0),((M=e.value)==null?void 0:M.orderStatus)===s(v).PAYING?(n(),u("div",Se,[o(t,{type:"primary",onClick:l(h,["stop"])},{default:a(()=>[be]),_:1},8,["onClick"]),o(t,{type:"primary",onClick:l(D,["stop"])},{default:a(()=>[Oe]),_:1},8,["onClick"])])):c("",!0),((R=e.value)==null?void 0:R.orderStatus)===s(v).PAYMENT_FAILED?(n(),u("div",Be,[o(t,{type:"primary",onClick:l(h,["stop"])},{default:a(()=>[Pe]),_:1},8,["onClick"]),o(t,{type:"primary",onClick:l(D,["stop"])},{default:a(()=>[Ae]),_:1},8,["onClick"])])):c("",!0),((Y=e.value)==null?void 0:Y.orderStatus)===s(v).PAYMENT_SUCCESS?(n(),u("div",De)):c("",!0),((U=e.value)==null?void 0:U.orderStatus)===s(v).ACCEPT_POLICY?(n(),u("div",Fe)):c("",!0),(($=e.value)==null?void 0:$.orderStatus)===s(v).INSURER_REJECT?(n(),u("div",Ne,[o(t,{type:"primary",onClick:l(h,["stop"])},{default:a(()=>[Le]),_:1},8,["onClick"])])):c("",!0),((G=e.value)==null?void 0:G.orderStatus)===s(v).TIMEOUT?(n(),u("div",Te,[o(t,{type:"primary",onClick:l(h,["stop"])},{default:a(()=>[xe]),_:1},8,["onClick"])])):c("",!0)])]}),_:1})}}});var He=q(Me,[["__scopeId","data-v-0d7d0c28"]]);export{He as default};
