import{_ as a,d as e,i as s,h as t,j as o,aE as r,o as n,c as i,u as d,m as c,f,a as l,b as m,w as p,a8 as u,aL as b,a9 as y,bs as j,ag as v}from"./index-6bdb39ce.js";import{_ as I}from"./PolicyInfo-49702dab.js";import{u as h}from"./useOrder-dcd1724c.js";import{p as _}from"./utils-cd9eb2fa.js";import{g,m as k}from"./trial-f1b7376b.js";import{n as x}from"./nextStep-295f9cb9.js";import{B as C,a as L}from"./constants-b6eb977d.js";import"./utils-1479c550.js";import"./infoCollection-de705818.js";import"./trial-a7487880.js";import"./core-e839f774.js";const P={class:"bank-info-wrap"},w={class:"footer-button"},N=e({name:"updateBankInfo"});var O=a(e({...N,setup(a){const e=s(),N=t(),{orderNo:O,isShare:S,tenantId:G}=e.query,V=h(),q=o({schema:[],config:[],formData:[]}),B=o(!!S),D=o(),E=()=>{N.back()},R=()=>{D.value&&D.value.validate(!1).then((a=>{a&&x(V.value,((a,s)=>{s===b.JUMP_PAGE&&y(a.nextPageCode,e.query)}),e)}))};return r((()=>{(async()=>{let a={};const{code:e,data:s}=await g({orderNo:O,tenantId:G});"10000"===e&&(Object.assign(V.value,s,{extInfo:{...s.extInfo,buttonCode:C.SIGN,pageCode:L.SIGN}}),a=_(s.insuredList[0].productList)),k(a).then((({data:a,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:s}=a,{payInfo:t}=j(s);q.value={...q.value,...t}}}))})()})),(a,e)=>{const s=v;return n(),i("div",P,[d(q).schema.length?(n(),c(I,{key:0,ref_key:"payInfoRef",ref:D,modelValue:d(V).tenantOrderPayInfoList,"onUpdate:modelValue":e[0]||(e[0]=a=>d(V).tenantOrderPayInfoList=a),schema:d(q).schema,"is-view":d(B)},null,8,["modelValue","schema","is-view"])):f("",!0),l("div",w,[m(s,{type:"primary",plain:"",onClick:E},{default:p((()=>[u("取消")])),_:1}),m(s,{type:"primary",onClick:R},{default:p((()=>[u("确认")])),_:1})])])}}}),[["__scopeId","data-v-0b3f6651"]]);export{O as default};
