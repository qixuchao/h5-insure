var Xe=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var ye=(t,a,o)=>a in t?Xe(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,le=(t,a)=>{for(var o in a||(a={}))tt.call(a,o)&&ye(t,o,a[o]);if(Ce)for(var o of Ce(a))ot.call(a,o)&&ye(t,o,a[o]);return t},re=(t,a)=>Ze(t,et(a));import{g as ee,Q as Ne,E as $,y as te,j as _,n as b,z as n,J as U,p as i,L as de,A as u,B as at,a4 as me,a5 as fe,F as j,G as z,k as G,C as R,t as oe,r as T,m as w,_ as ce,M as Oe,ar as ut,h as ke,a9 as nt,O as st,af as lt,H as rt,l as it,T as dt}from"./vendor-fba8f663.js";import{_ as ae,d as ct,e as Le,V as _e,i as ue,S as mt,C as we,j as ft,a as pe,a2 as be,$ as _t,m as pt,G as Ie,a1 as Be}from"./index-927a024e.js";import{P as ht}from"./index-c7992ef5.js";import{c as vt}from"./close-df102554.js";import{t as xe}from"./theme-eeb93d73.js";import{R as ve,S as Ae,a as Dt,f as he}from"./infoCollection-b0426750.js";import{A as Ft}from"./bankCard-b0679059.js";import{a as gt,b as Pe,t as Et,g as Ct}from"./utils-0e486c8b.js";import{b as De,v as yt}from"./validator-ebd71d12.js";import{a as $e}from"./order-b675ac95.js";import{p as Te,i as wt,s as bt,a as It,u as Bt,b as At}from"./trial-4283610d.js";import{p as Pt}from"./product-bb46a113.js";import"./trial-4ef548e7.js";const $t=t=>(me("data-v-47f4f4ca"),t=t(),fe(),t),Tt={class:"com-question-item"},Vt={class:"question"},St=$t(()=>n("div",{class:"icon"},U("?"),-1)),Nt={class:"title"},Ot=ee({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Ne(!1),l=$(),s=()=>{o()},e=te(()=>a.value?ct(l.value):0);return(p,m)=>(_(),b("div",Tt,[n("div",Vt,[St,n("div",Nt,U(t.question),1),i(Le,{name:"down",class:de(["arrow-icon",{show:u(a)}]),onClick:s},null,8,["class"])]),n("div",{ref_key:"answerDom",ref:l,class:"answer",style:at({height:`${u(e)}px`})},U(t.answer),5)]))}});var kt=ae(Ot,[["__scopeId","data-v-47f4f4ca"]]);const Lt={class:"com-question"},xt=ee({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,l]=Ne(!1),s=()=>{l()},e=te(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(p,m)=>(_(),b("div",Lt,[(_(!0),b(j,null,z(u(e),(B,E)=>(_(),G(kt,{key:E,question:B.title,answer:B.desc},null,8,["question","answer"]))),128)),t.list.length>4?(_(),b("div",{key:0,class:"show-more",onClick:s},[R(U(u(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),i(Le,{name:"down",class:de(["icon",{showMore:u(o)}])},null,8,["class"])])):oe("",!0)]))}});var Ut=ae(xt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Mt=t=>typeof t=="number"&&isFinite(t),Rt=t=>Q(t)&&Object.keys(t).length===0,Ht=Object.assign;let Ve;const qt=()=>Ve||(Ve=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ie=Array.isArray,J=t=>typeof t=="string",Fe=t=>typeof t=="boolean",Kt=Object.prototype.toString,Yt=t=>Kt.call(t),Q=t=>Yt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Wt(t,a,o={}){const{domain:l,messages:s,args:e}=o,p=t,m=new SyntaxError(String(p));return m.code=t,a&&(m.location=a),m.domain=l,m}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const jt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let zt=null;jt.FunctionTranslate;function Gt(t){return a=>zt}const Jt=-1;function Qt(t,a,o,l,s){const{missing:e,onWarn:p}=t;if(e!==null){const m=e(t,o,a,s);return J(m)?m:a}else return a}function Xt(t,a,o){const l=t;l.__localeChainCache||(l.__localeChainCache=new Map);let s=l.__localeChainCache.get(o);if(!s){s=[];let e=[o];for(;ie(e);)e=Se(s,e,a);const p=ie(a)?a:Q(a)?a.default?a.default:null:a;e=J(p)?[p]:p,ie(e)&&Se(s,e,!1),l.__localeChainCache.set(o,s)}return s}function Se(t,a,o){let l=!0;for(let s=0;s<a.length&&Fe(l);s++){const e=a[s];J(e)&&(l=Zt(t,a[s],o))}return l}function Zt(t,a,o){let l;const s=a.split("-");do{const e=s.join("-");l=eo(t,e,o),s.splice(-1,1)}while(s.length&&l===!0);return l}function eo(t,a,o){let l=!1;if(!t.includes(a)&&(l=!0,a)){l=a[a.length-1]!=="!";const s=a.replace(/!/g,"");t.push(s),(ie(o)||Q(o))&&o[s]&&(l=o[s])}return l}function to(t){return Wt(t,null,void 0)}function oo(t,...a){const{numberFormats:o,unresolving:l,fallbackLocale:s,onWarn:e}=t,{__numberFormatters:p}=t,[m,B,E,O]=ao(...a),H=Fe(E.missingWarn)?E.missingWarn:t.missingWarn;Fe(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const q=!!E.part,W=J(E.locale)?E.locale:t.locale,X=Xt(t,s,W);if(!J(m)||m==="")return new Intl.NumberFormat(W).format(B);let h={},r,d=null;const M="number format";for(let Y=0;Y<X.length&&(r=X[Y],h=o[r]||{},d=h[m],!Q(d));Y++)Qt(t,m,r,H,M);if(!Q(d)||!J(r))return l?Jt:m;let V=`${r}__${m}`;Rt(O)||(V=`${V}__${JSON.stringify(O)}`);let K=p.get(V);return K||(K=new Intl.NumberFormat(r,Ht({},d,O)),p.set(V,K)),q?K.formatToParts(B):K.format(B)}function ao(...t){const[a,o,l,s]=t;let e={},p={};if(!Mt(a))throw to(14);const m=a;return J(o)?e.key=o:Q(o)&&(e=o),J(l)?e.locale=l:Q(l)&&(p=l),Q(s)&&(p=s),[e.key||"",m,e,p]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qt().__INTLIFY_PROD_DEVTOOLS__=!1);const Ue=t=>(me("data-v-c8a8e288"),t=t(),fe(),t),uo={key:0,class:"pro-modal"},no=Ue(()=>n("div",{class:"pro-overlay"},null,-1)),so={class:"pro-modal-wrapper"},lo={class:"pro-modal-body"},ro={class:"pro-modal-content"},io=Ue(()=>n("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),co={class:"pro-modal-content"},mo={class:"product-attachment-list"},fo=R(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),_o={key:0,class:"dun-hao"},po=["src"],ho=ee({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:oo,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,l=()=>{a("on-close")},s=()=>{a("on-confirm")};return(e,p)=>{const m=T("ProPDFviewer");return o.isShow?(_(),b("div",uo,[no,n("div",so,[n("div",lo,[n("div",ro,[n("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+U(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),io]),n("div",{class:"pro-modal-btn",onClick:s},"\u4E00\u952E\u5347\u7EA7"),n("div",co,[n("div",mo,[fo,(_(!0),b(j,null,z(o.attachmentList,(B,E)=>(_(),G(m,{key:E,class:"file-name",title:`\u300A${B.attachmentName}\u300B`,content:B.attachmentUri,type:"pdf"},{default:w(()=>[E!==(o.attachmentList||[]).length-1?(_(),b("span",_o,"\u3001")):oe("",!0)]),_:2},1032,["title","content"]))),128))])])]),n("div",{class:"pro-modal-close",onClick:l},[n("img",{src:u(vt)},null,8,po)])])])):oe("",!0)}}});var vo=ae(ho,[["__scopeId","data-v-c8a8e288"]]);const Do={class:"list"},Fo={class:"item"},go={class:"footer"},Eo=R("\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u5B8C\u5168\u7B26\u5408\u5065\u5EB7\u544A\u77E5\u5185\u5BB9"),Co=ee({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show"],setup(t,{emit:a}){const o=t,l=$(o.show),s=$(o.activeIndex),e=()=>{a("update:show",!1)};return ce(()=>o,()=>{console.log("props",o),l.value=o.show},{deep:!0,immediate:!0}),(p,m)=>{const B=T("ProTab"),E=T("ProFilePreview"),O=T("VanButton"),H=T("ProPopup");return _(),G(H,{show:l.value,height:80,class:"file-preview-popup-wrap",closeable:!1},{default:w(()=>[i(B,{active:s.value,"onUpdate:active":m[0]||(m[0]=q=>s.value=q),list:t.contentList.map((q,W)=>({title:q.attachmentName,slotName:`guarantee-${W}`})),class:"tab"},null,8,["active","list"]),n("div",Do,[n("div",Fo,[i(E,{content:t.contentList[s.value].attachmentUri,type:"pdf"},null,8,["content"])])]),n("div",go,[i(O,{type:"primary",block:"",onClick:e},{default:w(()=>[Eo]),_:1})])]),_:1},8,["show"])}}});const x=t=>(me("data-v-7e8be260"),t=t(),fe(),t),yo=x(()=>n("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),wo=x(()=>n("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),bo=x(()=>n("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),Io={class:"attachment-list"},Bo={class:"product-attachment-list"},Ao=R(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Po=["onClick"],$o={class:"rate-attachment-list"},To=R(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),Vo=["onClick"],So=x(()=>n("div",{class:"title"},"\u5F00\u901A\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",-1)),No={class:"pro-radio"},Oo={class:"desc_arrow"},ko={key:0,class:"renewal-y-desc renewal-desc"},Lo=x(()=>n("div",{class:"sub-title"},"\u5F00\u901A\u540E\u53EF\u4EAB\u53D7\uFF1A",-1)),xo=x(()=>n("div",{class:"desc"},"\u5B89\u5FC3\uFF01\u5F00\u901A\u81EA\u52A8\u7F34\u8D39\u53EF\u4F7F\u4FDD\u969C\u4E0D\u95F4\u65AD",-1)),Uo=x(()=>n("div",{class:"desc"},"\u7701\u5FC3\uFF01\u4E0B\u4E00\u5E74\u91CD\u65B0\u6295\u4FDD\uFF0C\u4E0D\u7528\u62C5\u5FC3\u65AD\u4FDD",-1)),Mo=x(()=>n("div",{class:"desc"},"\u653E\u5FC3\uFF01\u65E0\u989D\u5916\u8D39\u7528\uFF0C\u5F00\u901A\u540E\u53EF\u968F\u65F6\u53D6\u6D88",-1)),Ro=x(()=>n("div",{class:"desc"},"\u63D0\u793A:\u672C\u4EA7\u54C1\u4E3A\u4E00\u5E74\u671F\u975E\u4FDD\u8BC1\u7EED\u4FDD\u4EA7\u54C1",-1)),Ho=[Lo,xo,Uo,Mo,Ro],qo={key:1,class:"renewal-n-desc renewal-desc"},Ko=x(()=>n("div",{class:"sub-title"},"\u672A\u5F00\u901A\uFF0C\u4E00\u65E6\u65AD\u4FDD\u5C06\u9762\u4E34\uFF1A",-1)),Yo=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u5C06\u5931\u53BB\u4FDD\u969C\uFF0C\u65AD\u4FDD\u671F\u95F4\u51FA\u9669\u4E0D\u53EF\u7406\u8D54",-1)),Wo=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u7B49\u5F85\u671F\u5185\u51FA\u9669\u65E0\u6CD5\u7406\u8D54",-1)),jo=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u9700\u6838\u5B9E\u5065\u5EB7\u72B6\u51B5\uFF0C\u53EF\u80FD\u65E0\u6CD5\u6295\u4FDD",-1)),zo=[Ko,Yo,Wo,jo],Go=ee({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,l=$({}),s=[{value:"Y",title:"\u7533\u8BF7\u5F00\u901A"},{value:"N",title:"\u6682\u4E0D\u5F00\u901A"}],e=Oe({insureDisable:!0,formInfo:o.formInfo}),p=$(!1),m=$(0),B=h=>De(h)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",E=te(()=>{var h,r;return(r=(h=o.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:r.attachmentVOList.filter(d=>d.attachmentName==="\u8D39\u7387\u8868")}),O=te(()=>{var h,r;return((r=(h=o.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:r.attachmentVOList.filter(d=>d.attachmentName!=="\u8D39\u7387\u8868"))||[]}),H=h=>{m.value=h,p.value=!0},q=()=>new Promise((h,r)=>{l==null||l.value.validate().then(()=>{h("")},()=>{r()})}),W=h=>{o.disable||e.formInfo.renewalDK===h||(e.formInfo.renewalDK=h)},X=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return ce(()=>e.formInfo.insured.relationToHolder,(h,r)=>{o.disable||h!==r&&(h.toString()===ve.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:h},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:h},e.insureDisable=!1))}),ce(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ve.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:q}),(h,r)=>{const d=T("ProField"),M=T("ProRadioButton"),V=T("ProPicker"),K=T("ProTabButton"),Y=T("ProForm"),I=T("van-config-provider");return _(),G(I,{"theme-vars":u(xe)},{default:w(()=>[i(Y,{ref_key:"formRef",ref:l},{default:w(()=>[n("div",null,[yo,i(d,{modelValue:u(e).formInfo.holder.name,"onUpdate:modelValue":r[0]||(r[0]=c=>u(e).formInfo.holder.name=c),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:B}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),i(d,{modelValue:u(e).formInfo.holder.certNo,"onUpdate:modelValue":r[1]||(r[1]=c=>u(e).formInfo.holder.certNo=c),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[u(_e).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(d,{modelValue:u(e).formInfo.holder.mobile,"onUpdate:modelValue":r[2]||(r[2]=c=>u(e).formInfo.holder.mobile=c),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[u(_e).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(d,{modelValue:u(e).formInfo.holder.socialFlag,"onUpdate:modelValue":r[4]||(r[4]=c=>u(e).formInfo.holder.socialFlag=c),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[i(M,{modelValue:u(e).formInfo.holder.socialFlag,"onUpdate:modelValue":r[3]||(r[3]=c=>u(e).formInfo.holder.socialFlag=c),disabled:o.disable,options:u(Ae)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),i(ue),n("div",null,[wo,i(d,{modelValue:u(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[6]||(r[6]=c=>u(e).formInfo.insured.relationToHolder=c),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[i(M,{modelValue:u(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[5]||(r[5]=c=>u(e).formInfo.insured.relationToHolder=c),disabled:o.disable,options:u(Dt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),i(d,{modelValue:u(e).formInfo.insured.name,"onUpdate:modelValue":r[7]||(r[7]=c=>u(e).formInfo.insured.name=c),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:B}],"is-view":u(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),i(d,{modelValue:u(e).formInfo.insured.certNo,"onUpdate:modelValue":r[8]||(r[8]=c=>u(e).formInfo.insured.certNo=c),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[u(_e).ID_CARD],"is-view":u(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(d,{modelValue:u(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[10]||(r[10]=c=>u(e).formInfo.insured.socialFlag=c),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[i(M,{modelValue:u(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[9]||(r[9]=c=>u(e).formInfo.insured.socialFlag=c),disabled:o.disable||u(e).insureDisable,options:u(Ae)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),i(ue),n("div",null,[bo,i(d,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:w(()=>[R(U(u(gt)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),i(V,{modelValue:u(e).formInfo.paymentMethod,"onUpdate:modelValue":r[11]||(r[11]=c=>u(e).formInfo.paymentMethod=c),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":u(Ft),"is-view":o.disable||u(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),i(d,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:w(()=>[i(K,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:u(e).formInfo.renewalDK,onClick:X},null,8,["disabled","active"])]),_:1}),n("div",Io,[n("div",Bo,[Ao,(_(!0),b(j,null,z(u(O),(c,P)=>(_(),b("span",{key:`attachment-${P}`,class:"file-name",onClick:ne=>H(P)},U(`\u300A${c.attachmentName}\u300B`),9,Po))),128))]),n("div",$o,[To,(_(!0),b(j,null,z(u(E),(c,P)=>(_(),b("span",{key:`rate-${P}`,class:"file-name",onClick:ne=>H(u(O).length+P)},U(`\u300A${c.attachmentName}\u300B`),9,Vo))),128))])])]),i(ue),i(Co,{show:p.value,"onUpdate:show":r[12]||(r[12]=c=>p.value=c),"content-list":u(O).concat(u(E)),"active-index":m.value},null,8,["show","content-list","active-index"]),n("div",null,[i(ue),So,n("div",No,[(_(),b(j,null,z(s,(c,P)=>i(K,{key:P,title:c.title,active:u(e).formInfo.renewalDK===c.value,onClick:ne=>W(c.value)},null,8,["title","active","onClick"])),64))]),n("div",Oo,[n("div",{class:de(["arrow light",{show:u(e).formInfo.renewalDK==="Y"||u(e).formInfo.renewalDK===""}])},null,2),n("div",{class:de(["arrow dark",{show:u(e).formInfo.renewalDK==="N"}])},null,2)]),u(e).formInfo.renewalDK==="Y"?(_(),b("div",ko,Ho)):(_(),b("div",qo,zo))]),i(ue)]),_:1},512)]),_:1},8,["theme-vars"])}}});var Jo=ae(Go,[["__scopeId","data-v-7e8be260"]]);const Me=t=>(me("data-v-09476d18"),t=t(),fe(),t),Qo=Me(()=>n("div",{class:"header"},null,-1)),Xo=Me(()=>n("div",{class:"content"},[n("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A"),n("p",null,[R(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653"),n("span",null,"\u300A\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56\u300B"),R("\uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 ")])],-1)),Zo={class:"footer"},ea=R("\u597D\u7684 "),ta={key:0},oa=ee({setup(t){const a="PRENOTICE",o=new mt({source:"sessionStorage"}),l=$(!1),s=ut({time:3e3,onFinish:()=>{o.set(`${a}-isShow`,"1"),l.value=!1}}),e=te(()=>s.current.value.seconds);return ke(()=>{o.get(`${a}-isShow`)||(l.value=!0,s.start())}),(p,m)=>{const B=T("VanButton"),E=T("ProPopup");return _(),G(E,{class:"pre-notice-wrap",show:l.value,closeable:!1,height:40},{default:w(()=>[Qo,Xo,n("div",Zo,[i(B,{type:"primary",block:""},{default:w(()=>[ea,u(e)?(_(),b("span",ta,U(u(e))+"s",1)):oe("",!0)]),_:1})])]),_:1},8,["show"])}}});var aa=ae(oa,[["__scopeId","data-v-09476d18"]]);const ua={class:"page-product-detail"},na={class:"info"},sa=["src"],la={class:"guarantee-list"},ra={key:0,class:"basic"},ia={class:"tab-1"},da=["src"],ca={class:"footer-button"},ma={class:"price"},fa=R(" \u603B\u4FDD\u8D39"),_a={class:"guarantee-list"},pa={class:"title"},ha={class:"content"},va=ee({setup(t){const a=nt(),o=st(),{productCode:l="BWYL2021",tenantId:s,orderNo:e,phoneNo:p,agentCode:m,saleChannelId:B,paymentMethod:E,certNo:O,name:H,pageCode:q}=o.query,W=$([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),X=$(),h=$(0),r=$(!1),d=$(),M=$(),V=$(),K=!!(H&&O&&p)||!!e,Y=q==="payBack",I=Oe({holder:{certNo:O,certType:we.CERT,mobile:p,name:H,socialFlag:he.HAS},insured:{certNo:O,certType:we.CERT,name:H,socialFlag:he.HAS,relationToHolder:ve.SELF},paymentMethod:E,paymentMethodDisable:!!E,renewalDK:"Y"}),c=$(!1),P=$(!1),ne=()=>{c.value=!1},Re=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:re(le({},o.query),{tenantId:s,productCode:"BWYL2022",orderNo:e,agentCode:m})})},He=()=>{r.value=!0},se=te(()=>{var D,v,f,F,C,A,S;return((f=(v=(D=d.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:v.guaranteeList)==null?void 0:f.length)?(C=(F=d.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:C.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(S=(A=d.value)==null?void 0:A.tenantProductInsureVO)==null?void 0:S.titleAndDescVOS}]}),ge=()=>{const{holder:{certNo:D,mobile:v,name:f,socialFlag:F},insured:{certNo:C,name:A,socialFlag:S,relationToHolder:N},paymentMethod:k}=I,g=Ie(D)&&yt(v)&&De(f)&&!!F,y=Ie(C)&&De(A)&&!!S&&!!N;return!!(g&&y&&!!k)},qe=async D=>{dt.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const v=await Bt(D),{code:f}=v;if(f==="10000"){const F=await At({orderNo:D.orderNo,tenantId:s}),{data:C}=F;f==="10000"?window.location.href=C:P.value=!1}else P.value=!1}catch{P.value=!1}},Ke=D=>`${Be}/chuangxin/baigebao/productDetail?tenantId=${s}&productCode=${l}&orderNo=${D}&agentCode=${m}&pageCode=payBack`,Ye=D=>`${Be}/chuangxin/baigebao/payFail?tenantId=${s}&orderNo=${D}&agentCode=${m}`,We=async D=>{const v=Ct({tenantId:s,saleUserId:m,saleChannelId:B,detail:d.value,insureDetail:M.value,paymentMethod:I.paymentMethod,renewalDK:I.renewalDK,successJumpUrl:"",premium:V.value,holder:I.holder,insured:I.insured,tenantOrderRiskList:D,orderStatus:"",orderTopStatus:""});try{const f=await bt(v),{code:F,data:C}=f;F==="10000"&&qe(re(le({},v),{orderNo:C.data,extInfo:{extraInfo:{renewalDK:I.renewalDK,paymentMethod:I.paymentMethod,successJumpUrl:Ke(C.data),failUrl:Ye(C.data)}}}))}catch{P.value=!1}},Ee=async()=>{const{calcData:D,riskVOList:v}=Pe({holder:I.holder,insured:I.insured,tenantId:s,productDetail:d.value,insureDetail:M.value}),f=async()=>{const F=await Te(D),{code:C,data:A}=F;return C==="10000"?(V.value=A.premium,{condition:v,data:A}):{}};f(),it.exports.debounce(f,500,{trailing:!0})},je=()=>new Promise((D,v)=>{var f,F;(F=(f=X.value)==null?void 0:f.validateForm)==null||F.call(f).then(async()=>{const{calcData:C,riskVOList:A}=Pe({holder:I.holder,insured:I.insured,tenantId:s,productDetail:d.value,insureDetail:M.value}),S=await Te(C),{code:N,data:k}=S;N==="10000"?(V.value=k.premium,D({condition:A,data:k})):v(new Error)}).catch(()=>{P.value=!1})}),ze=async()=>{var D;if(Y){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:re(le({},o.query),{tenantId:s,productCode:"BWYL2022",orderNo:e,agentCode:m})});return}P.value=!0;try{const{condition:v,data:f}=await je(),F={},C=(S=[])=>{(S||[]).forEach(N=>{var k;F[N.riskCode]=N,((k=N.riskPremiumDetailVOList)==null?void 0:k.length)&&C(N.riskPremiumDetailVOList)})};C(f.riskPremiumDetailVOList);const A=Et({tenantId:s,riskList:v,riskPremium:F,productId:(D=d.value)==null?void 0:D.id});We(A)}catch{P.value=!1}};ce(()=>I,()=>{d.value&&M.value&&!Y&&ge()&&Ee()},{deep:!0,immediate:!0});const Ge=async()=>{var F,C,A,S,N,k,g;const D=await It({orderNo:e,tenantId:s}),{code:v,data:f}=D;if(v==="10000"){const{tenantOrderHolder:y,tenantOrderInsuredList:L,extInfo:Z}=f;if(I.holder={certNo:y.certNo,certType:y.certType,mobile:y.mobile,name:y.name,socialFlag:he.HAS},I.insured={certNo:L==null?void 0:L[0].certNo,certType:(F=L[0])==null?void 0:F.certType,name:(C=L[0])==null?void 0:C.name,socialFlag:(S=(A=L[0])==null?void 0:A.extInfo)==null?void 0:S.hasSocialInsurance,relationToHolder:(N=L[0])==null?void 0:N.relationToHolder},I.paymentMethod=Z.extraInfo.paymentMethod,V.value=(g=(k=L[0])==null?void 0:k.tenantOrderProductList[0])==null?void 0:g.premium,I.renewalDK=Z.extraInfo.renewalDK?"Y":"N",q==="productDetail")return;(f.orderStatus===$e.ACCEPT_POLICY||f.orderStatus===$e.PAYMENT_SUCCESS)&&(c.value=!0)}},Je=async()=>{const D=Pt({productCode:l,withInsureInfo:!0,tenantId:s}),v=wt({productCode:l});await Promise.all([D,v]).then(([f,F])=>{f.code==="10000"&&(d.value=f.data),F.code==="10000"&&(M.value=F.data)}),e?Ge():ge()&&Ee()};return ke(()=>{Je(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(D,v)=>{const f=T("van-button"),F=T("van-config-provider"),C=lt("dompurify-html");return _(),G(F,{"theme-vars":u(xe)},{default:w(()=>{var A,S,N,k;return[n("div",ua,[n("div",na,[n("img",{src:(S=(A=d.value)==null?void 0:A.tenantProductInsureVO)==null?void 0:S.banner[0],class:"banner"},null,8,sa),n("div",la,[i(pe,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:He},{default:w(()=>{var g,y,L;return[d.value&&((g=d.value)==null?void 0:g.tenantProductInsureVO)?(_(),b("div",ra,[(_(!0),b(j,null,z((L=(y=u(se))==null?void 0:y[h.value])==null?void 0:L.titleAndDescVOS,(Z,Qe)=>(_(),G(ft,{key:Qe,class:"guarantee-item",title:Z.title,content:Z.desc,border:!1},null,8,["title","content"]))),128))])):oe("",!0)]}),_:1})])]),i(be,{class:"tabs",list:W.value,sticky:"",scrollspy:""},{tab1:w(()=>[i(Jo,{ref_key:"formRef",ref:X,"holder-disable":u(K),disable:Y,"form-info":u(I),premium:V.value,"product-detail":d.value},null,8,["holder-disable","form-info","premium","product-detail"])]),tab2:w(()=>{var g,y;return[n("div",ia,[(_(!0),b(j,null,z(((y=(g=d.value)==null?void 0:g.tenantProductInsureVO)==null?void 0:y.spec)||[],(L,Z)=>(_(),b("img",{key:Z,src:L,class:"detail-img"},null,8,da))),128))])]}),tab3:w(()=>[i(pe,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:w(()=>{var g,y;return[i(ht,{list:(y=(g=d.value)==null?void 0:g.tenantProductInsureVO)==null?void 0:y.settlementProcessList},null,8,["list"])]}),_:1}),i(pe,{title:"\u5E38\u89C1\u95EE\u9898"},{default:w(()=>{var g,y;return[i(Ut,{list:(y=(g=d.value)==null?void 0:g.tenantProductInsureVO)==null?void 0:y.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),n("div",ca,[n("div",ma,[fa,n("span",null,"\uFFE5"+U(u(_t)(V.value))+"/\u6708",1)]),i(f,{type:"primary",class:"right",disabled:P.value,onClick:ze},{default:w(()=>[R(U(Y?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])]),i(aa),i(pt,{show:r.value,"onUpdate:show":v[0]||(v[0]=g=>r.value=g),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:w(()=>[u(se).length>1?(_(),G(be,{key:0,list:u(se).map((g,y)=>({title:g.guaranteeType,slotName:`guarantee-${y}`})),class:"tab"},null,8,["list"])):oe("",!0),n("div",_a,[(_(!0),b(j,null,z(u(se)[h.value].titleAndDescVOS,(g,y)=>(_(),b("div",{key:y,class:"guarantee-item"},[n("div",pa,U(g.title),1),rt(n("div",ha,null,512),[[C,g.content]])]))),128))])]),_:1},8,["show"]),i(vo,{"is-show":c.value,premium:V.value,"attachment-list":(k=(N=d.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:k.attachmentVOList,onOnConfirm:Re,onOnClose:ne},null,8,["is-show","premium","attachment-list"])]}),_:1},8,["theme-vars"])}}});var Va=ae(va,[["__scopeId","data-v-242bc6aa"]]);export{Va as default};
