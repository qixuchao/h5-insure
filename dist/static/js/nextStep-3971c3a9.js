import"vue";import{i as o,n as e,b as t,T as n,D as r}from"./index-d66a20d8.js";/* empty css              */import{s as a}from"./core-15eeb464.js";import{T as i}from"./constant-8927d485.js";const{VITE_BASE:d}={VITE_BASE:"/",VITE_API_BASEURL:"/",VITE_APP_TITLE:"投保流程",VITE_THEME_COLOR:"#0d6efe",VITE_APP_DESCRIPTION:"一种互联网投保的快速落地实现方案",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},s=async(s,c)=>{var l,I;const E=s,{extInfo:u,orderNo:m,tenantOrderInsuredList:p,tenantId:$}=E||{},{iseeBizNo:T,templateId:_}=u||{};if(m){const{productCode:o}=(null==(I=null==(l=null==p?void 0:p[0])?void 0:l.tenantOrderProductList)?void 0:I[0])||{};let e=`${window.location.origin}${d}baseInsurance/orderDetail?orderNo=${m}&tenantId=${$}&ISEE_BIZ=${T}&productCode=${o}`;_>200&&(e=`${window.location.origin}${d}baseInsurance/long/result?orderNo=${m}&templateId=${_}&tenantId=${$}&ISEE_BIZ=${T}&productCode=${o}`),E.extInfo.redirectUrl=e}const x=o();if(x.ext)try{E.ext=x.ext}catch(g){console.error("ext 参数格式错误",x.ext,g)}const{code:f,data:A}=await e(E);if("10000"===f){const{pageAction:o,message:e,data:l}=A.pageAction||{};null==c||c(l,o),o===t.ALERT&&n(e),o===t.JUMP_URL&&a(null==l?void 0:l.paymentUrl),o===t.JUMP_ALERT&&(u.templateId===i.NETSALE?r.alert({title:"提示",message:"该被保人已存在一笔待支付的订单",confirmButtonText:"取消"}).then((()=>{})):r.confirm({title:"提示",className:"xinao-custom-dialog",teleport:"#xinaoDialog",message:"该被保人已存在一笔待支付的订单",confirmButtonText:"去支付"}).then((()=>{l.orderNo&&(window.location.href=`${window.location.origin}${d}baseInsurance/orderDetail?orderNo=${l.orderNo}&tenantId=${s.tenantId}&ISEE_BIZ=${s.extInfo.iseeBizNo}&productCode=${s.productCode}`)})))}};export{s as n};
