import{aw as e,d as a,r as l,bm as t,E as i,ay as n,ax as s,bn as o,f as d,ba as r,az as u,bx as c,be as v,bC as m,bg as p,b9 as f,bD as b,aC as g,_ as A,an as h,c as y,h as k,j as P,k as V,t as w,g as C,bE as x,ad as R,n as S,bB as N,e as I,bF as O,X as B,Y as M,w as U,F as E,i as L,a7 as j,B as T,bG as _,bH as z,a3 as Q,R as X,C as Z,q as D,s as J,b0 as H,W as K,L as F,a8 as G,a as q,u as Y,S as W,G as $,ac as ee,b as ae,ag as le,l as te,bI as ie,T as ne,bJ as se}from"./index-f03140d4.js";import{C as oe}from"./index-6b08a88b.js";import{a as de,b as re,g as ue}from"./proposalList-5ab46fbf.js";import{q as ce,p as ve,c as me,a as pe}from"./compositionProposal-83acd81c.js";import{P as fe}from"./index-6ef85a72.js";import{_ as be}from"./index-88bcef3b.js";import{C as ge}from"./index-48824806.js";import{S as Ae}from"./index-df8fc635.js";import"./pdfh5-008ca364.js";import"./echarts-61ebb913.js";const[he,ye]=e("slider");const ke=g(a({name:he,props:{min:r(0),max:r(100),step:r(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:u,buttonSize:u,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:a,slots:r}){let u,g,A;const h=l(),y=l(),k=l(),P=t(),V=i((()=>Number(e.max)-Number(e.min))),w=i((()=>{const a=e.vertical?"width":"height";return{background:e.inactiveColor,[a]:n(e.barHeight)}})),C=a=>e.range&&Array.isArray(a),x=()=>{const{modelValue:a,min:l}=e;return C(a)?100*(a[1]-a[0])/V.value+"%":100*(a-Number(l))/V.value+"%"},R=i((()=>{const a={[e.vertical?"height":"width"]:x(),background:e.activeColor};k.value&&(a.transition="none");return a[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{const{modelValue:a,min:l}=e;return C(a)?100*(a[0]-Number(l))/V.value+"%":"0%"})(),a})),S=a=>{const l=+e.min,t=+e.max,i=+e.step;a=b(a,l,t);const n=Math.round((a-l)/i)*i;return p(l,n)},N=(e,a)=>JSON.stringify(e)===JSON.stringify(a),I=(l,t)=>{l=C(l)?(a=>{var l,t;const i=null!=(l=a[0])?l:Number(e.min),n=null!=(t=a[1])?t:Number(e.max);return i>n?[n,i]:[i,n]})(l).map(S):S(l),N(l,e.modelValue)||a("update:modelValue",l),t&&!N(l,A)&&a("change",l)},O=a=>{if(a.stopPropagation(),e.disabled||e.readonly)return;const{min:l,reverse:t,vertical:i,modelValue:n}=e,s=c(h),o=i?s.height:s.width,d=Number(l)+(i?t?s.bottom-a.clientY:a.clientY-s.top:t?s.right-a.clientX:a.clientX-s.left)/o*V.value;if(C(n)){const[e,a]=n;I(d<=(e+a)/2?[d,a]:[e,d],!0)}else I(d,!0)},B=l=>{e.disabled||e.readonly||("dragging"===k.value&&(I(g,!0),a("drag-end",l)),k.value="")},M=a=>{if("number"==typeof a){return ye("button-wrapper",["left","right"][a])}return ye("button-wrapper",e.reverse?"left":"right")},U=(a,l)=>{if("number"==typeof l){const e=r[0===l?"left-button":"right-button"];if(e)return e({value:a})}return r.button?r.button({value:a}):d("div",{class:ye("button"),style:f(e.buttonSize)},null)},E=a=>{const l="number"==typeof a?e.modelValue[a]:e.modelValue;return d("div",{ref:y,role:"slider",class:M(a),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":l,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:l=>{"number"==typeof a&&(u=a),(a=>{e.disabled||e.readonly||(P.start(a),g=e.modelValue,A=C(g)?g.map(S):S(g),k.value="start")})(l)},onTouchend:B,onTouchcancel:B,onClick:m},[U(l,a)])};return I(e.modelValue),s((()=>e.modelValue)),o("touchmove",(l=>{if(e.disabled||e.readonly)return;"start"===k.value&&a("drag-start",l),v(l,!0),P.move(l),k.value="dragging";const t=c(h);let i=(e.vertical?P.deltaY.value:P.deltaX.value)/(e.vertical?t.height:t.width)*V.value;if(e.reverse&&(i=-i),C(A)){const a=e.reverse?1-u:u;g[a]=A[a]+i}else g=A+i;I(g)}),{target:y}),()=>d("div",{ref:h,style:w.value,class:ye({vertical:e.vertical,disabled:e.disabled}),onClick:O},[d("div",{class:ye("bar"),style:R.value},[e.range?[E(0),E(1)]:E()])])}}));const Pe={class:"container head-cover"},Ve={class:"info-detail"},we={class:"name"},Ce={class:"img"},xe={key:0,src:"/static/assets/male.441ae760.png"},Re={key:1,src:"/static/assets/female.2dc8cc10.png"},Se={clase:"p1"},Ne={class:"p2"},Ie={class:"fe"},Oe=(e=>(B("data-v-0ae855a4"),e=e(),M(),e))((()=>P("div",{class:"line"},null,-1))),Be={class:"tp"};var Me=A(a({__name:"InsuranceList",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,t=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保额",dataIndex:"amount"},{title:"保障期间",dataIndex:"coveragePeriod",width:110},{title:"缴费期间",dataIndex:"chargePeriod",width:110},{title:"保费",dataIndex:"premium",width:120}],i=l([]),n=e=>e===+O.MALE,s=e=>{const a=e.split("_");if("to_life"===e)return"保终身";switch(a[0]){case"year":return`${a[1]}年`;case"month":return`${a[1]}月`;case"day":return`${a[1]}天`;case"to":return`保至${a[1]}岁`;default:return""}},o=e=>{const a=e.split("_");switch(a[0]){case"year":return`${a[1]}年交`;case"month":return`${a[1]}月交`;case"to":return`交至${a[1]}岁`;case"single":return"趸缴";default:return""}};return h((()=>a.info),(e=>{(e=>{const a=[];null==e||e.forEach((e=>{const{riskName:l,amount:t,coveragePeriod:i,chargePeriod:n,premium:d}=e;a.push({riskName:l,amount:t,coveragePeriod:s(i),chargePeriod:o(n),premium:d})})),i.value=a})(null==e?void 0:e.proposalProductRiskVOList)}),{deep:!0,immediate:!0}),(l,s)=>{var o,d,r,u,c,v;return y(),k("div",Pe,[P("div",Ve,[P("div",we,[P("div",Ce,[n(null==(o=a.info)?void 0:o.gender)?(y(),k("img",xe)):V("",!0),n(null==(d=a.info)?void 0:d.gender)?V("",!0):(y(),k("img",Re))]),P("div",null,[P("p",Se,w(null==(r=a.info)?void 0:r.name),1),P("p",Ne,w(C(x)[null==(u=a.info)?void 0:u.gender])+"，"+w(C(R)().diff(null==(c=e.info)?void 0:c.birthday,"y"))+"岁",1)])]),P("div",Ie,[S(" 首年保费： "),P("span",null,"¥"+w(C(N)(null==(v=a.info)?void 0:v.totalPremium)),1)])]),Oe,P("div",Be,[C(i).length>0?(y(),I(fe,{key:0,columns:t,class:"table","data-source":C(i)},null,8,["data-source"])):V("",!0)])])}}}),[["__scopeId","data-v-0ae855a4"]]),Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAtCAMAAADBXShDAAABYlBMVEVHcEzb7f/r9P/a8P/T6f/////P5//p+//X///////q9v+62v/z+f/D3f/w9//E5P+52//x+P/R6v/z+f/J4//g9P/h8P/w9//g7/+32v/b7P/b7f+62/+72//L4/+83P/D4P/i8P/o8//u9v+32P/O5f/K4//w9v/S6P/////g7//Q5//d7v/f7v+83P/a7P/e7f/D4P/O5f/x9v/K4v+/3f/x+P+72v/z+f/J4v+73P/1+f/0+//0+f/R6f/o8//l8f+/3P+52v/N5v+22v/x9//Q5//g7v/a7P+22f/3/P/O5f/0+v/j8P/i7//g7v/w9//d7v/r9f/O5P/R5v/d7f/e7v+22P/v9//D3//I4v/O5f/b6/+12P/u9f/1+v/v9v+93P/N5P/u9v/f7v/z+f/d7f+42f/L4/+22P/O5f/c7P+62v/h7//1+v/v9//J4v/Q5v/H4f/x9//j8P++3f8KzdOCAAAAYXRSTlMAhy4jCwIQEQYEO6S0ISMyxa45+PYZ53urj7RXOfij8EB9iOZgkcm7aAH1YLn5me9HScRbeHjyKd6ZzohH6imvcFlycWrD4N/gv2C/47vEXY+XTtGn6tbihLbq+MDb05za7zgX5AAAAvJJREFUeNrtVWdX20AQPGPL3eAKmNiYDqaG3kLvJbQEQkmTm5AtB4zJ/8+V3ZOe/MIXPvEe90me2/Gc9nZGhJBPwZWFSBMxV1P73uXoRwvg7v8SH5jxmYBvNpxZSrrY43KxWH/Ix6bl3ulYtVAqVRwScO6Wc7n7xwEXAq4l1dA07VuIav8p1ik9P9cMe83D1UKhRPmor0yVOf1xEenjqsr5YYUEgZ7vgb2e5ypXr3QAEK1x+v3jkwvE/1K6Zmi6niIrRXZ4yh+E6s/PVL1A6ZcADFF6mdOjAkgxcUOj9G1yTNU5PQLVa9Uq5VdKlX0ARmo1If7UIoAWqm4wcb2PRPDwbVDdTdX54dsBWMXDx70C8KapPFefJ00xSq/n870eqPa0incfk3f5FegzCMwydUPXA/T5MMbevddPcPlbmfrwqQQ8RznW+U6fvPaAqtLGH7j5TS0PBtu4NpZ3d4w6nBYgO9I5tThJLGtyPBzoy5L39UbX6+/9MMZm/uWpKzdOncGnTsz8Q8PMV16cefA7nfmI8LvNcQWb48p2xxnguFf6fUX43ZY2JVva5Oxpo0LaBIvM7y9mXbkh68DveoomrXh3mbTOYVC3JG2uMWk1qh5WaM5zdTPns//J+XtrzrPD6zTnX/eVeV9veLmnz64vfBbAd+FwnLqtJS1b/UNOKxDaTm4KA/kXmGV2ms0hO2FTtx+VgLefWS6+ZbI308zvSWrgxJyY+Z9eLL4Sfp9IYLED/L6BwAb4PUnIL/T7Ouyto9/P8aDo91sFPJRBv4fIAvp9Darb0e9XAHyQfl8VwLz0+waZQ7/vQPUJ+n0CgC3p9y4BdKno902yA37Pn0H1Oap/J1BdA78/ueGqVPC73kUOUd2POY3qQ9jL3ZpQvyGwbpg8Zf+g7Q6K1l0T2WjR+Q4JRO9442/lVSQyvPPpFEuXtuP6w28eNtirvUKpdV0xgdWju1y802MCnkDGSB/M47/hjtxO2ABvSCFZ+Ys+KiE+J/8AdlNUC0LetfoAAAAASUVORK5CYII=";const Ee=e=>(B("data-v-50f28e3f"),e=e(),M(),e),Le={class:"container"},je=Ee((()=>P("div",{class:"common-title"},"利益演示",-1))),Te={key:0,class:"benefit"},_e={class:"benefit-title"},ze=Ee((()=>P("div",{class:"line"},null,-1))),Qe={key:0,class:"box-title box-title-chart"},Xe=Ee((()=>P("img",{src:Ue,alt:""},null,-1))),Ze=Ee((()=>P("img",{src:Ue,alt:""},null,-1))),De={key:1},Je={class:"box"},He={class:"box-title"},Ke=Ee((()=>P("img",{src:Ue,alt:""},null,-1))),Fe=Ee((()=>P("img",{src:Ue,alt:""},null,-1))),Ge={class:"box-price"},qe={class:"text1"},Ye={class:"text2"},We={key:2,style:{width:"100%, minWidth: 338px"}},$e={class:"slider"},ea=[Ee((()=>P("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAASFBMVEVHcEwNbv8Mbf8TcP8Nbv8Nb/8Nb/8Nbv8qf/8Nb/8Nbv8Mb/8PcP8Nbv8Pcv8Mb/8Pb/8PcP8Ocf8Nbv8Ob/8Vf/8Nbv8Nbv+Jn3KrAAAAF3RSTlMAlLEZ0ID47wZx3WBTiDGeOUQk57UMuVjVO7sAAAHeSURBVHjarVjZkoMgEARkuURIXI///9Mtga0igkGZ6RcThXa6cTiGfIMbJ8aNFEIazqbRkR4Mmsn9BMn08IxFjdt+gW1Ut2lW/bt/wa9e70Wjc0lm8XSaqF9MLlHfiOrFM0dc1kG5zDX+aoVDU0vBrKo8tkykBvRrUDNPNHS4HE2aqPh8zfNOoUeaa6ok/U0uYEWuv+2jsKSKcQ/wijShfGw7VuOJzzS5BR1b24o/oqa75aco2s/hvpnJbcwmvPnUQ/F0t4Hy3fzT0jiiDV2FuvitfIxn4fMDx19nYZ48hj+J0+n/Yyj+oWSVMcIOBE/kmgdESRdoFpI65kMx9BEN4pgzoysjIKAYUsq5LQUECGkLvw5KRrrBjv7Dv9W2n8gGuxOjVP1ESiZF6QrTJglxRZZ1ZZwjY7wA4OIHMB0XBSFSB8MUFBoCggkuH/m7wIiWY+4IdB5G5IMoWSaa/WnAlukmiQhO5Zj2JsoOokIk20SyJKpI420iXkqrmO14k8eVZqMNP9oHiZYiaEmLNo1gTWxoUy3a5I+2HGEtkGhLNtomAmtbg7zRgm/9sDej8O0x/oYdfoTAP9TAj1nwgx/+URR+OIYf15ELCPCSBn6RBV72gRei8Etj+MU6tPLhH41GXfO43AIjAAAAAElFTkSuQmCC",alt:""},null,-1)))],aa={style:{flex:"1",margin:"0px 5px"}},la={class:"custom-button"},ta=[Ee((()=>P("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAS1BMVEVHcEwNb/8Nbv8Ocf8Mbv8Nbf8Nbv8Qcf8zmf8Nbv8Nbv8Wbv8Ocv8Nb/8Nb/8NcP8Nbf8PcP8cjf8Nbv8Nbv8NcP8OcP8Nbv8Nbv+sb0c3AAAAGHRSTlMAXpwhsunxPwX5khcy3m5xzVQJ0oh0Rrn3uGXUAAACAUlEQVR42q2YWZKFIAxFg4KAiLM+9r/SLgNdj24VFXM+tMrhmkCCJJCiYTOfrNBa2InPrIEcTMsr94+KtwYeMbKPO+HDxvsyi3AJxHJPSnWxjOVFPc91wW0s1Sm4RE7RiDTRC6qJRm2SV+bUzqP5oA5uD1w7T500quyDTF2ePlIHqb5MuBVMLwwkMEVw/dS9QftPXQZe4w3XAxzCgjkKLlHBKHZoj0M6uEXnkAObpEa/V7jJWqF3cjcZeN2WcJvS4pf/vaH6cPU+4du9ghgfhys8YvWRCRESL7XwkNZtyMixCecdHlNg3ql4LtHZY5gQDI5R/Z+IGXHdOItno53T5izGcVUZwbMkHZM4DknnlsggbfKEjP6axPwk5glB/c25z2ZQmStUbiZ90LjtQQ65QsC3++Y3qoZ8oQFjOShWKl9IVcEjf84WCpaEkGrfCLU+nBme3gg1PgDm7aTeCKntgRk9tPBGCCyO8oTHN0JoywR2n7BGxnS4UsgYs09cC2KXaEy7CzTbpZsAjSMVI9wlAmLmTZtMiMw1ssEmm36ygCRLEbKkJVtGqBY2sqWWbPEn+x1R/SDJftlkmwiqbQ3ZRotq60e/GQWZLkPSBYmk2rCTlRCERQ19mRUXfu2TMsQNVKUoVXFMVa5TNRCoWhpUTRb6tg99I4q+NUbfrAuoJ+3DH6O5cGG4augGAAAAAElFTkSuQmCC",alt:""},null,-1)))],ia=Ee((()=>P("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),na={class:"btn-two"};var sa=A(a({__name:"Benefit",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,t=l(0),i=l(0),n=l(0),s=l(),o=l(0),r=l(!0),u=e=>{if(!(null==e?void 0:e.benefitRiskResultVOList))return;const a=null==e?void 0:e.benefitRiskResultVOList[t.value];i.value=a.ageBegin+1,o.value=a.ageBegin+1,n.value=a.ageEnd},c=()=>{var e,l,d;const r=null==(l=null==(e=a.info)?void 0:e.benefitRiskResultVOList)?void 0:l[t.value],{a:u,year:c}=((e,a)=>{const l=[],t=[];for(let i=e,n=0;i<=a;i++,n++)l.push(i.toString()),t.push(n+1);return{a:l,year:t}})(i.value,n.value),v={index:u.indexOf(o.value.toString()),age:u,year:c,result:null==(d=null==r?void 0:r.benefitRiskItemResultVOList)?void 0:d[0]};s.value=v},v=()=>{o.value>n.value-1||(o.value+=1,c())},m=()=>{o.value>i.value&&(o.value-=1,c())},p=e=>{t.value=e.name,u(a.info),c()},f=e=>{r.value="1"===e};return h((()=>a.info),(e=>{e&&(u(e),c())}),{deep:!0,immediate:!0}),h(o,(()=>{c()})),(e,l)=>{const u=ke,c=T,b=_,g=z;return y(),k("div",Le,[je,d(g,{active:C(t),"title-active-color":"#0d6efe","title-inactive-color":"#393D46",shrink:"",onClickTab:p},{default:U((()=>{var e;return[(y(!0),k(E,null,L(null==(e=a.info)?void 0:e.benefitRiskResultVOList,((e,a)=>(y(),I(b,{key:a,name:a,title:e.riskName},{default:U((()=>{var p,b,g,A,h,x,R,O,B,M,T,_,z,Q,X,Z;return[a==C(t)?(y(),k("div",Te,[P("div",_e,w(null==e?void 0:e.riskName),1),ze,C(r)?V("",!0):(y(),k("p",Qe,[Xe,S(" 保单年度"),P("span",null,w(null==(g=null==(p=C(s))?void 0:p.year)?void 0:g[null==(b=C(s))?void 0:b.index]),1),S("年度，被保人"),P("span",null,w(null==(x=null==(A=C(s))?void 0:A.age)?void 0:x[null==(h=C(s))?void 0:h.index]),1),S("岁时 "),Ze])),C(r)?(y(),k("div",De,[P("div",Je,[P("p",He,[Ke,S(" 保单年度"),P("span",null,w(null==(B=null==(R=C(s))?void 0:R.year)?void 0:B[null==(O=C(s))?void 0:O.index]),1),S("年度，被保人"),P("span",null,w(null==(_=null==(M=C(s))?void 0:M.age)?void 0:_[null==(T=C(s))?void 0:T.index]),1),S("岁时 "),Fe]),P("div",Ge,[(y(!0),k(E,null,L(null==(Q=null==(z=C(s))?void 0:z.result)?void 0:Q.headers,((e,a)=>{var l,t,i,n,o;return y(),k("div",{key:a,style:{width:"33%"}},[P("p",qe,w(C(N)(Number(null==(o=null==(n=null==(t=null==(l=C(s))?void 0:l.result)?void 0:t.dataList)?void 0:n[null==(i=C(s))?void 0:i.index])?void 0:o[a]))),1),P("p",Ye,w(e)+"(元）",1)])})),128))])])])):V("",!0),C(r)?V("",!0):(y(),k("div",We,[d(be,{min:C(i),max:C(n),current:C(o),data:null==(Z=null==(X=C(s))?void 0:X.result)?void 0:Z.benefitRiskItemList},null,8,["min","max","current","data"])])),P("div",$e,[P("div",{class:"add lf",onClick:m},ea),P("div",aa,[C(i)?(y(),I(u,{key:0,modelValue:C(o),"onUpdate:modelValue":l[0]||(l[0]=e=>j(o)?o.value=e:null),min:C(i),max:C(n),"bar-height":"8px"},{button:U((()=>[P("div",la,w(C(o))+" 岁",1)])),_:1},8,["modelValue","min","max"])):V("",!0)]),P("div",{class:"add rg",onClick:v},ta)]),ia,P("div",na,[d(c,{round:"",plain:!C(r),type:"primary",class:"btn",onClick:l[1]||(l[1]=e=>f("1"))},{default:U((()=>[S("图表展示")])),_:1},8,["plain"]),d(c,{round:"",plain:C(r),type:"primary",class:"btn",onClick:l[2]||(l[2]=e=>f("2"))},{default:U((()=>[S("趋势展示")])),_:1},8,["plain"])])])):V("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-50f28e3f"]]),oa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAJFBMVEVHcEwGev8Ie/8He/8QhP8Hff8Lff8ff/8Kf/8HeP8Jev8KfP88zNEzAAAADHRSTlMATTtEDx4rCBgkNDEC504AAAAAu0lEQVR42t2TzRKDMAiEV35CSN7/fTtiKOnBWz2034nZRRxYBdCJeQgKGczUz6odgSLRS2hAPxaST6XQQVm25bUUCFxlUM1c3ljeKG9m6cvzFCbs3ZXkJAN61CRIhKI3FjRtTbFzCoZ/QSlX35an2HjmORPPc0Jvs9VHsm01/kLrJcY18mMoGyAcliExCktw0t0FO+Le8WOY3QnO8RUX/RQ8T1QRVUj0cLZzefMb2UY9tmzH9iOLqiDZhBeX/QTFelEoEAAAAABJRU5ErkJggg==";const da={class:"container"},ra={class:"common-title"},ua={class:"title"},ca=(e=>(B("data-v-524d386a"),e=e(),M(),e))((()=>P("img",{src:oa,class:"ig"},null,-1))),va={class:"product-detail"};var ma=A(a({__name:"LiabilityByRisk",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const i=oe,n=ge;return y(),k("div",da,[(y(!0),k(E,null,L(null==(t=a.info)?void 0:t.liabilityByRiskVOList,((e,a)=>(y(),k("div",{key:a},[P("div",ra,[P("div",ua,[ca,S(" "+w(e.riskName),1)])]),P("div",va,[d(n,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:U((()=>[(y(!0),k(E,null,L(e.proposalRiskLiabilityVOList,((e,a)=>(y(),I(i,{key:a,title:e.liabilityName,name:a,"value-class":"price",value:e.liabilityIndemnityContent},{default:U((()=>[S(w(e.liabilityDesc),1)])),_:2},1032,["title","name","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])))),128))])}}}),[["__scopeId","data-v-524d386a"]]);const pa={class:"container"},fa={class:"common-title"},ba={class:"title"},ga=(e=>(B("data-v-4990fe38"),e=e(),M(),e))((()=>P("img",{src:oa,class:"ig"},null,-1))),Aa={class:"product-detail"};var ha=A(a({__name:"LiabilityByRes",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const i=Q,n=oe,s=ge;return y(),k("div",pa,[(y(!0),k(E,null,L(null==(t=a.info)?void 0:t.liabilityByTopTypeVOList,((e,a)=>(y(),k("div",{key:a},[P("div",null,[P("div",fa,[P("div",ba,[ga,S(" "+w(e.liabilityTopTypeName),1)])]),P("div",Aa,[d(s,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:U((()=>[(y(!0),k(E,null,L(Object.keys(e.proposalRiskLiabilityVOMap),((a,l)=>(y(),I(n,{key:l,title:a,name:l,"value-class":"price"},{default:U((()=>[(y(!0),k(E,null,L(e.proposalRiskLiabilityVOMap[a],(e=>(y(),I(i,{key:e.liabilityId,title:e.liabilityName,content:e.liabilityIndemnityContent||""},null,8,["title","content"])))),128))])),_:2},1032,["title","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])])))),128))])}}}),[["__scopeId","data-v-4990fe38"]]);const ya=e=>(B("data-v-ca64694e"),e=e(),M(),e),ka={class:"com-insured-product-wrapper"},Pa={class:"container"},Va=ya((()=>P("span",{class:"clear-all"},null,-1))),wa=ya((()=>P("span",{class:"title"}," 选择投保产品 ",-1))),Ca={class:"popup-body"},xa={class:"cell-title"},Ra={class:"title"},Sa={class:"error-message"},Na={class:"footer-button"};var Ia=A(a({__name:"index",props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(e,{emit:a}){const t=e,n="已通过计划书进行投保",s="产品未授权，无法进行投保",o="产品暂不支持计划书转投保",r=l(""),u=l(null),c=l({isShow:t.isShow}),v=i((()=>e=>1===e.insured?n:1!==e.authStatus?s:1!==e.insureMethod?o:"")),m=()=>{a("close")};return h((()=>t.isShow),(e=>{c.value.isShow=e})),(l,t)=>{const i=X,n=Z,s=D,o=J,p=T,f=H;return y(),k("div",ka,[d(f,{show:C(c).isShow,"onUpdate:show":t[2]||(t[2]=e=>C(c).isShow=e),position:"bottom",onClose:m},{default:U((()=>[P("div",Pa,[P("div",{class:"popup-header"},[Va,wa,P("span",{onClick:m},"X")]),P("div",Ca,[d(o,{modelValue:C(r),"onUpdate:modelValue":t[0]||(t[0]=e=>j(r)?r.value=e:null)},{default:U((()=>[d(s,null,{default:U((()=>[(y(!0),k(E,null,L(e.dataSource,(e=>(y(),I(n,{key:e.productCode,onClick:a=>{return l=e,void(v.value(l)||(u.value=l,r.value=l.productCode));var l}},{"right-icon":U((()=>[d(i,{name:e.productCode,disabled:!!C(v)(e)},null,8,["name","disabled"])])),title:U((()=>[P("div",xa,[P("div",Ra,[P("p",null,w(e.productName),1),P("span",Sa,w(C(v)(e)),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),P("div",Na,[d(p,{block:"",type:"primary",disabled:!C(r),onClick:t[1]||(t[1]=e=>a("finished",C(u)))},{default:U((()=>[S("立即投保")])),_:1},8,["disabled"])])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-ca64694e"]]);const Oa={class:"popup-body"},Ba={class:""},Ma={class:"radio-wrap"},Ua=["onClick"],Ea={class:"footer"},La=a({__name:"index",props:{show:{type:Boolean,default:!1},themeList:{default:()=>[]}},emits:["submit","update:show"],setup(e,{emit:a}){var t,i;const n=e,{show:s,themeList:o}=C(n),r=l(null==(t=null==o?void 0:o[0])?void 0:t.id),u=l(null==(i=null==o?void 0:o[0])?void 0:i.id),c=()=>{var e;a("submit",u.value?r.value||(null==(e=null==o?void 0:o[0])?void 0:e.id):u.value)};return(e,l)=>{const t=Ae,i=Z,n=X,v=D,m=J,p=T,f=G;return y(),I(f,{show:C(s),"onUpdate:show":l[2]||(l[2]=e=>j(s)?s.value=e:null),class:"theme-select-wrap",title:"选择计划书封面",onClose:l[3]||(l[3]=e=>a("update:show",!1))},{default:U((()=>[P("div",Oa,[d(i,{center:"",title:"封面图"},{"right-icon":U((()=>[d(t,{modelValue:C(u),"onUpdate:modelValue":l[0]||(l[0]=e=>j(u)?u.value=e:null),"inactive-value":0,"active-value":C(o)[0].id,size:"24"},null,8,["modelValue","active-value"])])),_:1}),P("div",Ba,[d(m,{modelValue:C(r),"onUpdate:modelValue":l[1]||(l[1]=e=>j(r)?r.value=e:null)},{default:U((()=>[d(v,{inset:""},{default:U((()=>[P("div",Ma,[(y(!0),k(E,null,L(C(o),(e=>(y(),k("div",{key:e.id,class:"radio-item"},[P("div",{class:"radio-img",style:K({backgroundImage:`url(${e.showConfig.thumbnailImage})`}),onClick:a=>{return l=e.id,void(r.value=l);var l}},[d(n,{name:e.id},null,8,["name"])],12,Ua),P("span",{class:F(""+(C(r)===e.id?"checked":""))},w(e.name),3)])))),128))])])),_:1})])),_:1},8,["modelValue"])])]),P("div",Ea,[d(p,{type:"primary",disabled:!(C(r)||!C(u)),block:"",onClick:c},{default:U((()=>[S("确定")])),_:1},8,["disabled"])])])),_:1},8,["show"])}}});const ja=e=>(B("data-v-24e22c1b"),e=e(),M(),e),Ta={class:"page-composition-proposal"},_a={class:"head-bg"},za={class:"container"},Qa=ja((()=>P("div",{class:"common-title"},"保险公司简介",-1))),Xa=ja((()=>P("span",{class:"poiner"},null,-1))),Za={key:0,class:"footer-btn"};var Da=A(a({__name:"index",setup(e){const a=l(!0),t=q(),n=Y(),{isShare:s,id:o,themeId:r}=t.query,u=l(),c=l(""),v=l(""),m=l({}),p=l([]);l();const[f,b]=W(),[g,A]=W(),x=l(""),N=l([]),B=l(),M=l("share");let _="";const z=()=>{a.value=!a.value},Q=i((()=>!!p.value.filter((e=>1===e.authStatus&&1===e.insureMethod)).length));h((()=>u.value),(e=>{const{gender:a,name:l,birthday:t}=e,i=R().diff(t,"y");(e=>e===+O.MALE)(a)?v.value=`${l||i}岁先生的计划书`:v.value=`${l||i}岁女士的计划书`}));const X=e=>{var a;m.value={title:`${null==(a=u.value)?void 0:a.name}的计划书`,desc:"您的贴心保险管家",link:e,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg"}},Z=e=>{const{productCode:a,insurerCode:l,tenantProductCode:t}=e;me({productCode:a,proposalId:o}).then((({code:e,data:a,message:i})=>{"10000"===e&&(a?se({insurerCode:l,productCode:t,proposalId:o}).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a)})):ne(i))}))},D=()=>{var e,a;1===(null==(e=p.value)?void 0:e.length)?Z(null==(a=p.value)?void 0:a[0]):b(!0)},J=e=>{M.value="pdf",o?(ne.loading({message:"PDF生成中...",forbidClick:!0}),ue({id:o,themeHistoryId:e}).then((e=>{const{code:a,message:l}=e;"10000"===a&&(ne.clear(),l?n.push(`/pdfViewer?url=${encodeURIComponent(l)}&title=${v.value}`):ne("计划书为空"))}))):ne("PDF生成失败")},H=async e=>{if(e){const{code:a,data:l}=await pe({themeId:e,proposalId:o});"10000"===a&&(A(!1),"pdf"===M.value?J(l):(_=`${ie}/proposalCover?id=${o}&isShare=1&tenantId=${c.value}&themeId=${l}`,X(_),setTimeout(B.value.handleShare,100)))}else A(!1),"pdf"===M.value?J():(_=`${ie}/proposalCover?id=${o}&isShare=1&tenantId=${c.value}`,X(_),setTimeout(B.value.handleShare,100))},K=()=>{M.value="pdf",N.value.length?A(!0):J()};return $((()=>{if(t.query.token){new ee({source:"localStorage"}).set("token",t.query.token)}s||(ve({proposalId:o}).then((({code:e,data:a})=>{"10000"===e&&(p.value=a)})),(async()=>{const{code:e,data:a}=await ce();"10000"===e&&(N.value=a||[])})()),(async()=>{try{let e=null;e=s?await de(`${o}?tenantId=${t.query.tenantId}`):await re(o);const{code:a,data:l}=e;if("10000"===a){const e=(null==l?void 0:l.proposalInsuredVOList[0])||{};u.value=e,c.value=null==l?void 0:l.tenantId,_=`${ie}/proposalCover?id=${o}&isShare=1&tenantId=${c.value}`,X(_)}}catch(e){ne("接口请求失败")}})()})),(e,l)=>{const t=oe,i=ge,n=T,o=ae("ProPageWrap");return y(),I(o,null,{default:U((()=>[P("div",Ta,[P("div",_a,w(C(v)),1),d(Me,{info:C(u)},null,8,["info"]),P("div",{class:"switch-btn",onClick:z},w(C(a)?"按责任显示":"按险种显示"),1),C(a)?(y(),I(ma,{key:0,info:C(u)},null,8,["info"])):(y(),I(ha,{key:1,info:C(u)},null,8,["info"])),d(sa,{info:C(u)},null,8,["info"]),P("div",za,[Qa,d(i,{modelValue:C(x),"onUpdate:modelValue":l[0]||(l[0]=e=>j(x)?x.value=e:null),accordion:"","is-link":!1,border:!1,size:"middle"},{default:U((()=>{var e;return[(y(!0),k(E,null,L(null==(e=C(u))?void 0:e.insurerInfoVOList,((e,a)=>(y(),I(t,{key:a,name:a,"value-class":"price"},{title:U((()=>[P("div",null,[Xa,S(" "+w(null==e?void 0:e.insurerName),1)])])),default:U((()=>[S(" "+w(e.insurerDesc),1)])),_:2},1032,["name"])))),128))]})),_:1},8,["modelValue"])])]),C(s)?V("",!0):(y(),k("div",Za,[d(le,{ref_key:"shareButtonRef",ref:B,title:C(m).title,desc:C(m).desc,link:C(m).link,"img-url":C(m).imgUrl},{default:U((()=>[d(n,{type:"primary",class:"share-btn",onClick:l[1]||(l[1]=te((()=>(M.value="share",void(N.value.length?A(!0):B.value.handleShare()))),["stop"]))},{default:U((()=>[S("分享")])),_:1})])),_:1},8,["title","desc","link","img-url"]),d(n,{plain:"",type:"primary",class:"btn",onClick:K},{default:U((()=>[S("生成PDF")])),_:1}),C(Q)?(y(),I(n,{key:0,type:"primary",class:"btn",onClick:D},{default:U((()=>[S("立即投保")])),_:1})):V("",!0)])),C(f)?(y(),I(Ia,{key:1,"is-show":C(f),"data-source":C(p),onFinished:Z,onClose:l[2]||(l[2]=e=>C(b)(!1))},null,8,["is-show","data-source"])):V("",!0),(y(),I(La,{key:+C(g),show:C(g),"onUpdate:show":l[3]||(l[3]=e=>j(g)?g.value=e:null),"theme-list":C(N),onSubmit:H},null,8,["show","theme-list"]))])),_:1})}}}),[["__scopeId","data-v-24e22c1b"]]);export{Da as default};
