var S=Object.defineProperty,M=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var x=(s,e,o)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,i=(s,e)=>{for(var o in e||(e={}))z.call(e,o)&&x(s,o,e[o]);if(D)for(var o of D(e))U.call(e,o)&&x(s,o,e[o]);return s},c=(s,e)=>M(s,V(e));import{g as G,aj as W,Q as H,E as m,h as w,r as v,j as r,k as d,m as C,n as A,G as E,F as T,t as q,z as J,p as K,C as X,T as Y,L as N}from"./vendor-c15a8cf7.js";import{l as P}from"./inform-4d43d5db.js";import{a as Z,n as ee}from"./index-a8c79304.js";import{_ as te,P as oe}from"./index-65b1952c.js";import{s as ae}from"./useStorage-e94e336e.js";import{g as ne}from"./verify-fb66e445.js";const se={class:"footer-button"},ue=X("\u4E0B\u4E00\u6B65"),re=G({setup(s){const e=W(),o=H(),{productCode:b="MMBBSF",agentCode:F="65434444",tenantId:g=9991000007,agencyCode:ie="3311222",insurerCode:h="zhongan",productCategory:j=1,templateId:le=1,orderNo:B="2022080217103534947"}=o.query,p=m([]),l=m({});m(!1);const I=m([]),_=a=>p.value.filter(t=>t.objectType===a),$=()=>{Z({orderNo:B,saleUserId:F,tenantId:g}).then(({code:a,data:t})=>{a==="10000"&&Object.assign(l.value,t)})},L=()=>{const a={insurerCode:h,orderNo:B,productCategory:j,tenantId:g};Promise.all([P(c(i({},a),{noticeType:4,objectType:1})),P(c(i({},a),{noticeType:5,objectType:2}))]).then(([{code:t,data:u},{code:f,data:y}])=>{t==="10000"&&f==="10000"&&(p.value=[...u,...y])})},k=a=>{var t;ae.set("questionData",a),e.push({path:"/healthNotice",query:i({questionnaireType:a.questionnaireType,orderId:(t=l.value)==null?void 0:t.id},o.query)})},O=()=>{if(!p.value.every(t=>t.isDone===1)){Y("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}Object.assign(l.value,{pageCode:"questionNotice",tenantOrderNoticeList:p.value}),ee(c(i({},l.value),{extInfo:c(i({},l.value.extInfo),{pageCode:"questionNotice"}),venderCode:h})).then(({code:t,data:u})=>{t==="10000"&&u.pageAction.pageAction==="jumpToPage"&&e.push({path:oe[u.pageAction.data.nextPageCode],query:o.query})})};return w(()=>{L(),ne({orderNo:B,productCode:b,tenantId:g}).then(a=>{const{code:t,data:u}=a;t==="10000"&&(I.value=u||[])}),$()}),(a,t)=>{const u=v("van-cell"),f=v("ProCard"),y=v("van-button"),Q=v("ProPageWrap");return r(),d(Q,{class:"page-question-notice"},{default:C(()=>[_(1).length>0?(r(),d(f,{key:0,title:"\u6295\u4FDD\u4EBA"},{default:C(()=>[(r(!0),A(T,null,E(_(1),n=>(r(),d(u,{key:n.id,class:N({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:R=>k(n)},null,8,["class","title","value","onClick"]))),128))]),_:1})):q("",!0),_(2).length>0?(r(),d(f,{key:1,title:"\u88AB\u4FDD\u4EBA"},{default:C(()=>[(r(!0),A(T,null,E(_(2),n=>(r(),d(u,{key:n.id,class:N({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:R=>k(n)},null,8,["class","title","value","onClick"]))),128))]),_:1})):q("",!0),J("div",se,[K(y,{type:"primary",onClick:O},{default:C(()=>[ue]),_:1})])]),_:1})}}});var Ce=te(re,[["__scopeId","data-v-40ffbfbf"]]);export{Ce as default};
