!function(){var e=document.createElement("style");e.innerHTML=".refueling-package-com[data-v-7e34c868]{background:#fff}.refueling-package-com .title[data-v-7e34c868]{background:#ffffff;font-size:.42667rem;font-weight:500;color:#333;line-height:.4rem;padding:.4rem .33333rem}.refueling-package-com[data-v-7e34c868] .van-cell .van-field__label{min-width:4rem!important}.refueling-package-com .show-more[data-v-7e34c868]{padding:.4rem 0;width:100%;display:flex;justify-content:center;align-items:center;font-size:.34667rem;color:var(--van-primary-color, var(--zaui-brand))}.refueling-package-com .show-more .icon[data-v-7e34c868]{margin-left:.13333rem;font-size:.26667rem;transition:transform .5s}.refueling-package-com .show-more .icon.showMore[data-v-7e34c868]{transform:rotate(180deg)}.tabs[data-v-cbff6950] .tab-title{font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500}.tabs[data-v-cbff6950] .active:after{width:.64rem!important;height:.08rem!important;border-radius:.05333rem!important}.spec img[data-v-cbff6950]{width:100%;display:block}.spec .van-image__error[data-v-cbff6950]{font-size:.8rem}.sub-title[data-v-cbff6950]{font-size:.34667rem;font-weight:400;color:#99a9c0;line-height:.50667rem;margin-bottom:.13333rem}.tab-1-content[data-v-cbff6950]{font-size:.34667rem;font-weight:400;color:#393d46;line-height:.50667rem;margin-top:.33333rem;margin-bottom:.53333rem}[data-v-cbff6950] .com-time-line .item .left .num{background:var(--van-primary-background-color);border:1px solid var(--van-primary-color)}[data-v-cbff6950] .com-time-line .item .left .num:after{border-left:1px dashed var(--van-primary-background-color);border-right:1px dashed var(--van-primary-background-color)}.trial-button-wrap .footer-area{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.trial-button-wrap .footer-area .price{color:#393d46;font-size:.45333rem;font-weight:400}.trial-button-wrap .footer-area .price span{color:var(--van-primary-color);font-weight:700}.trial-button-wrap .footer-area .price span:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.trial-button-wrap .footer-area .right{width:4.26667rem!important;height:1.17333rem!important;border-radius:.58667rem}.page-internet-product-detail[data-v-102bef40]{padding-bottom:2rem;background:#f1f5fc}.page-internet-product-detail .custom-page-form[data-v-102bef40]{background:#ffffff}.page-internet-product-detail .custom-page-form .form-title[data-v-102bef40]{padding:.53333rem 0px .13333rem;text-align:center;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.page-internet-product-detail .custom-page-form[data-v-102bef40] .com-card-wrap .header{margin-left:0!important}.page-internet-product-detail .custom-page-form[data-v-102bef40] .com-card-wrap .header .title-wrapper .title:before{margin-right:.37333rem!important}.page-internet-product-detail .custom-page-form[data-v-102bef40] .com-card-wrap .relation-holder .van-cell__title{display:none}.page-internet-product-detail .custom-page-form[data-v-102bef40] .radio-btn{justify-content:flex-start}.page-internet-product-detail .custom-page-form[data-v-102bef40] .radio-btn .btn-wrapper{margin-left:0!important;margin-right:.10667rem!important}.page-internet-product-detail .footer-area[data-v-102bef40]{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.page-internet-product-detail .footer-area[data-v-102bef40] .com-share{width:1.02667rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.page-internet-product-detail .footer-area[data-v-102bef40] .com-share span{font-size:.32rem;color:var(--zaui-text, #393d46)}.page-internet-product-detail .price[data-v-102bef40]{color:#393d46;font-size:.45333rem;font-weight:400;width:3.6rem;margin:0 .26667rem}.page-internet-product-detail .price span[data-v-102bef40]{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .price span[data-v-102bef40]:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.page-internet-product-detail .right[data-v-102bef40]{width:4rem;height:1.17333rem;border-radius:.58667rem}\n",document.head.appendChild(e),System.register(["./index-legacy-fcf08e87.js","./debounce-legacy-211ba60e.js","./trial-legacy-4f24bc95.js","./product-legacy-f983cd43.js","./nextStep-legacy-537c3a75.js","./infoCollection-legacy-96056a99.js","./index-legacy-a842170b.js","./utils-legacy-6e115820.js","./validator-legacy-5e43cc69.js","./index-legacy-9c4b2570.js","./phoneVerify-legacy-7747ea0b.js","./index-legacy-3a2e4339.js","./index-legacy-28da2204.js","./trial-legacy-081f57e2.js","./pdfh5-legacy-9f98dc45.js","./isObject-legacy-83e04b6f.js","./isObjectLike-legacy-7cedb542.js","./core-legacy-1e8b3236.js","./constant-legacy-c9c30061.js","./_nodeUtil-legacy-acbb75ec.js"],(function(e,t){"use strict";var a,n,r,o,l,i,s,d,c,u,p,m,v,f,g,h,y,b,x,k,I,O,A,L,w,C,P,T,j,S,E,V,_,D,N,R,H,F,B,z,U,q,M,G,$,Q,J,W,Y,Z,K,X,ee,te,ae,ne,re,oe,le,ie,se,de,ce,ue,pe,me,ve,fe,ge,he,ye,be,xe,ke,Ie,Oe,Ae;return{setters:[function(e){a=e._,n=e.d,r=e.S,o=e.E,l=e.c,i=e.g,s=e.f,d=e.w,c=e.F,u=e.h,p=e.e,m=e.m,v=e.n,f=e.t,g=e.V,h=e.L,y=e.j,b=e.l,x=e.ao,k=e.at,I=e.X,O=e.Y,A=e.i,L=e.bY,w=e.c0,C=e.bp,P=e.r,T=e.bt,j=e.c7,S=e.bk,E=e.I,V=e.a,_=e.am,D=e.c8,N=e.bZ,R=e.u,H=e.J,F=e.b2,B=e.a8,z=e.b$,U=e.aD,q=e.H,M=e.ag,G=e.G,$=e.bR,Q=e.T,J=e.ai,W=e.c9,Y=e.bT,Z=e.c1},function(e){K=e.d},function(e){X=e.i,ee=e.b,te=e.p,ae=e.g},function(e){ne=e.b},function(e){re=e.n},function(e){oe=e.g,le=e.C,ie=e.I,se=e.S,de=e.O,ce=e.l},function(e){ue=e.u,pe=e.P},function(e){me=e.v,ve=e.g,fe=e.r,ge=e.t},function(e){he=e.v},function(e){ye=e.B},function(e){be=e.s,xe=e.c},function(e){ke=e.default},function(e){Ie=e.c,Oe=e.t,Ae=e._},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const Le={class:"refueling-package-com"},we=(e=>(I("data-v-7e34c868"),e=e(),O(),e))((()=>A("div",{class:"title"},"加油包",-1))),Ce=n({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(e){const t=e,[a,n]=r(!1),I=o((()=>t.packageProductList.length>t.count&&(!!t.isShowClose||!a.value))),O=()=>{n()},A=o((()=>t.packageProductList.length<=t.count||a.value?t.packageProductList:t.packageProductList.slice(0,t.count)));return(e,t)=>{const n=b,r=x,o=k;return l(),i("div",Le,[we,s(o,{ref:"formRef"},{default:d((()=>[(l(!0),i(c,null,u(m(A),((e,t)=>(l(),p(r,{key:`${e.value}_${t}`,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:e.packageName,required:"",placeholder:"请选择"},{input:d((()=>[s(n,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,options:m(oe),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),m(I)?(l(),i("div",{key:0,class:"show-more",onClick:O},[v(f(m(a)?"收起":"查看更多")+" ",1),s(g,{name:"down",class:h(["icon",{showMore:m(a)}])},null,8,["class"])])):y("",!0)])),_:1},512)])}}});var Pe=a(Ce,[["__scopeId","data-v-7e34c868"]]);const Te={class:"spec"},je={key:1,class:"spec"};var Se=a(n({props:{dataSource:{default:()=>({spec:[],settlementProcessVO:{},questionList:[]})}},setup(e,{expose:a}){const n=e,r=L((()=>w((()=>t.import("./index-legacy-fcf08e87.js").then((function(e){return e.cG}))),void 0))),v=L((()=>w((()=>t.import("./index-legacy-4dd62946.js")),void 0))),f=L((()=>w((()=>t.import("./index-legacy-fcf08e87.js").then((function(e){return e.cE}))),void 0))),h=L((()=>w((()=>t.import("./index-legacy-0b27f688.js")),void 0))),b=L((()=>w((()=>t.import("./index-legacy-944bda12.js")),void 0))),{dataSource:x}=C(n),k=P(),I=P([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),O=o((()=>x.value.spec&&x.value.spec.length>0)),V=o((()=>{var e,t,a,n;const r=x.value.settlementProcessVO.settlementProcessType;return!!(r===le.WORD&&null!==(e=x.value.settlementProcessVO)&&void 0!==e&&e.settlementProcessList&&(null===(t=x.value.settlementProcessVO)||void 0===t?void 0:t.settlementProcessList.length)>0||r===le.IMAGE&&null!==(a=x.value.settlementProcessVO)&&void 0!==a&&a.settlementProcessPicList&&(null===(n=x.value.settlementProcessVO)||void 0===n?void 0:n.settlementProcessPicList.length)>0)})),_=o((()=>x.value.questionList&&x.value.questionList.length>0)),D=o((()=>{let e=[...I.value];return O.value||(e=e.filter((e=>"tab1"!==e.slotName))),V.value||_.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return a({handleClickTab:()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.handleClickTab}}),(e,t)=>{const a=E,n=g;return l(),p(m(r),{ref_key:"scrollRef",ref:k,class:"tabs",list:m(D),sticky:"",scrollspy:""},T({tab3:d((()=>[S(e.$slots,"form",{},void 0,!0)])),_:2},[m(O)?{name:"tab1",fn:d((()=>[A("div",Te,[(l(!0),i(c,null,u(m(x).spec||[],((e,t)=>(l(),p(j,{key:t},{fallback:d((()=>[s(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:d((()=>[(l(),p(a,{key:t,class:"detail-img",width:"100%",src:e},null,8,["src"]))])),_:2},1024)))),128)),s(m(f))])]))}:void 0,m(V)||m(_)?{name:"tab2",fn:d((()=>{var e;return[m(V)?(l(),i(c,{key:0},[(null===(e=m(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessType)===m(le).WORD?(l(),p(m(h),{key:0,title:"理赔说明"},{default:d((()=>{var e;return[s(m(v),{list:null===(e=m(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessList},null,8,["list"])]})),_:1})):(l(),i("div",je,[(l(),p(j,null,{fallback:d((()=>[s(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:d((()=>{var e;return[(l(!0),i(c,null,u((null===(e=m(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessPicList)||[],((e,t)=>(l(),p(a,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),s(m(f))],64)):y("",!0),m(_)?(l(),i(c,{key:1},[s(m(h),{title:"常见问题"},{default:d((()=>[s(m(b),{list:m(x).questionList},null,8,["list"])])),_:1}),s(m(f))],64)):y("",!0)]}))}:void 0]),1032,["list"])}}}),[["__scopeId","data-v-cbff6950"]]);const Ee={class:"trial-button-wrap"},Ve={class:"footer-area"},_e={class:"price"},De={key:0},Ne=v("立即投保"),Re=n({props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:""},loadingText:{default:""}},emits:["onClick"],setup(e,{emit:t}){const a=e,n=P(""),r=P("");return _([()=>a.premium,()=>a.tenantProductDetail,()=>a.planCode],(([e])=>{var t,o,l;const{tenantProductInsureVO:i}=a.tenantProductDetail||{};let s={};s=null!=i&&null!==(t=i.planList)&&void 0!==t&&t.length?((null==i?void 0:i.planList)||[]).find((e=>e.planCode===a.planCode)):null==i?void 0:i.planInsureVO;const{paymentFrequencyValue:d,premiumUnit:c,actualPremiumUnit:u}=(null===(o=s)||void 0===o||null===(l=o.productPremiumVOList)||void 0===l?void 0:l[0])||{};e?(r.value=u,n.value=e&&`${e}`):(r.value=c,n.value=d&&`${d}`)}),{deep:!0,immediate:!0}),(a,o)=>(l(),i("div",Ee,[A("div",Ve,[A("div",_e,[e.loadingText?(l(),i("span",De,f(e.loadingText),1)):(l(),i(c,{key:1},[A("span",null,f(n.value),1),A("span",null,f(r.value),1)],64))]),s(ke,{shadow:!1,class:"right",onClick:o[0]||(o[0]=e=>t("onClick"))},{default:d((()=>[S(a.$slots,"default",{},(()=>[Ne]))])),_:3})])]))}});const He=e=>(I("data-v-102bef40"),e=e(),O(),e),Fe={key:0},Be=[He((()=>A("div",{class:"__skeleton_short_content__"},[A("div",{class:"van-config-provider sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[A("div",{class:"page-internet-product-detail"},[A("div",{class:"info"},[A("div",{class:"van-image banner",style:{width:"100%",height:"223px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[A("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20221222/e3719801cf6546449e18e06f3bbe8416/%E5%B0%8A%E4%BA%ABe%E7%94%9F.png?Expires=1676527379&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=tkscLe6oOZYjnRIA%2B7AiMS3bOs0%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),A("div")]),A("div",{class:"guarantee-list"},[A("div",{class:"header"},[A("span",null,[A("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"保障计划")]),A("span",null,[A("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"查看详情")])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"一般医疗保险金")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高300万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"重大疾病医疗保险金")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤质子重离子医疗")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤院外特定药品费用医疗")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤特定器械耗材费用医疗责任 （适用于女性被保险人）")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高100万")])])]),A("div",{class:"show-more"},[A("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"16.799999999999997px"}},"查看更多 "),A("svg",{class:"svg-icon icon-arrow-down-dobule icon icon"},[A("use",{"xlink:href":"#icon-arrow-down-dobule"})])]),A("div",{class:"feerate-view sk-border"},[A("span",null,[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"142.00元/年起")])])]),A("div",{class:"com-divider"}),A("div",{class:"tabs",sticky:"",scrollspy:""},[A("div",null,[A("div",{class:"van-sticky"},[A("div",{class:"van-tabs"},[A("div",{id:"tab-list",class:"tab-list"},[A("a",{class:"tab-title active",title:"产品亮点"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"产品亮点")]),A("a",{class:"tab-title",title:"理赔说明"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"理赔说明")]),A("a",{class:"tab-title",title:"我要投保"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"我要投保")])])])])]),A("div",{class:"tab-content"},[A("div",{id:"tab1"},[A("div",{class:"spec"},[A("div",{class:"van-image detail-img",style:{width:"100%"}},[A("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"van-image__img",style:{background:"rgb(238, 238, 238)"}})])])])])])])])],-1)))],ze={class:"page-internet-product-detail"},Ue={class:"info"},qe={class:"custom-page-form"},Me=He((()=>A("div",{class:"form-title"},"请填写投保信息",-1))),Ge=v("立即投保"),$e=He((()=>A("div",{id:"xinaoDialog"},null,-1)));e("default",a(n({setup(e){var a;D(),L((()=>w((()=>t.import("./index-legacy-0c32627d.js")),void 0)));const n=L((()=>w((()=>t.import("./index-legacy-a33a5df7.js")),void 0))),r=L((()=>w((()=>t.import("./index-legacy-1db914eb.js")),void 0)));L((()=>w((()=>t.import("./index-legacy-3a2e4339.js")),void 0))),L((()=>w((()=>t.import("./index-legacy-c15320af.js")),void 0))),L((()=>w((()=>t.import("./index-legacy-29605edb.js")),void 0))),L((()=>w((()=>t.import("./index-legacy-e84729a3.js")),void 0))),L((()=>w((()=>t.import("./index-legacy-9222dd02.js")),void 0)));const v=N();R();const f=V(),{productCode:g="",tenantId:h,agentCode:b="",agencyCode:x,saleChannelId:k,extraInfo:I,insurerCode:O,preview:C}=f.query;let T={};try{T=JSON.parse(decodeURIComponent(I))}catch(xt){}const{openId:j}=T;P();const S=P(),E=P(),oe=P(!1),le=P({}),ke=P({}),Le=P(!1),we=P(!1),Ce=P(0),Te=P(!1),je=P({}),Ee=P({}),Ve=P(!0),_e=P(!0),De=P(!0),Ne=P(""),He=P([]);P({});const Qe=P({}),Je=P({}),We=P([]),Ye=P(),Ze=P(),Ke=H({holder:{formData:{},schema:[],trialFactorCodes:[],config:{name:{},verificationCode:{sendSMSCode:async({mobile:e},t)=>{const a=await be(e),{code:n}=a;"10000"===n&&"function"==typeof t&&t()}},certType:{},certNo:{label:"身份证号"},occupation:{dictCode:Ie(O)}}},insuredList:[{formData:{},schema:[],trialFactorCodes:[],config:{relationToHolder:{label:""},certNo:{label:"身份证号"}}}]});j&&ue({openId:j},(e=>{Ee.value=e})),P({imgUrl:"",desc:"",title:"",link:window.location.href});const Xe=(e=>{const{tenantId:t,agentCode:a="",agencyCode:n,saleChannelId:r,extraInfo:o,insurerCode:l}=V().query;let i={};try{i=JSON.parse(decodeURIComponent(o))}catch(xt){}const s=P({agencyId:n,commencementTime:"",expiryDate:"",extInfo:{buttonCode:"",pageCode:"",iseeBizNo:"",extraInfo:{}},orderCategory:1,saleUserId:a,saleChannelId:r,tenantId:t,venderCode:l,tenantOrderHolder:{extInfo:{occupationCodeList:[]}},tenantOrderInsuredList:[{relationToHolder:"1",extInfo:{occupationCodeList:[]},tenantOrderBeneficiaryList:[{extInfo:{}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",subjectNo:"",tenantId:t}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}});return"[object Object]"==={}.toString.call(e)&&Object.assign(s.value,e),s})({extInfo:{buttonCode:"EVENT_SHORT_saveOrder",pageCode:"productInfo",extraInfo:T,templateId:(null===(a=T)||void 0===a?void 0:a.templateId)||"1",iseeBizNo:""}}),et=P({}),tt=o((()=>!!C)),at=P([]),nt=async()=>{await X({productCode:g}).then((({data:e,code:t})=>{var a;"10000"===t&&(Te.value=!0,ke.value=e,Qe.value=null===(a=e.productPlanInsureVOList)||void 0===a?void 0:a[0],We.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),De.value=!1,ne({productCode:g}).then((({code:e,data:t})=>{if("10000"===e){var a,n,r,o;const{productInsureMaterialVOList:e,productQuestionnaireVOList:l}=t,{basicInfo:{questionnaireType:i},questions:s,questionnaireName:d}=(null==l||null===(a=l[0])||void 0===a?void 0:a.questionnaireDetailResponseVO)||{basicInfo:{}};2===i&&(at.value=[{attachmentName:d,attachmentUri:s,attachmentType:"question"}]),at.value=[{attachmentName:d,attachmentUri:null==s||null===(n=s[0])||void 0===n?void 0:n.content,attachmentType:ve(String(null==s||null===(r=s[0])||void 0===r?void 0:r.textType),null==s||null===(o=s[0])||void 0===o?void 0:o.content)}]}}))},rt=o((()=>{if(Ee.value){const e=[];return Object.keys(Ee.value).forEach((t=>{e.push(...Ee.value[t])})),e}return[]})),ot=o((()=>rt.value.length>0)),lt=P([]),it=e=>{Qe.value=(ke.value.productPlanInsureVOList||[]).find((t=>t.planCode===e))},st=()=>{S.value.handleClickTab()("tab3")};P([]);const dt=P([]),ct=async()=>{try{await re(((e={},t={},a={})=>{var n;const r={...a},o={tenantId:h,riskList:(null===(n=r.tenantOrderInsuredList[0])||void 0===n?void 0:n.tenantOrderProductList[0].riskVOList)||[],riskPremium:t,productId:e.id};return r.extInfo.iseeBizNo=Ne.value,r.productCode=e.productCode,r.commencementTime=r.insuranceStartDate,r.expiryDate=r.insuranceEndDate,r.tenantOrderHolder={...r.tenantOrderHolder,certType:r.tenantOrderHolder.certType||M.CERT,certNo:(r.tenantOrderHolder.certNo||"").toLocaleUpperCase(),extInfo:{...r.tenantOrderHolder.extInfo}},r.tenantOrderInsuredList=r.tenantOrderInsuredList.map((e=>({...e,certType:e.certType||M.CERT,certNo:(e.certNo||"").toLocaleUpperCase(),planCode:Qe.value.planCode,extInfo:{...e.extInfo}}))),r.tenantOrderInsuredList[0].tenantOrderProductList[0]={productCode:e.productCode,productName:e.productName,planCode:Qe.value.planCode,tenantOrderRiskList:ge(o)},r})(ke.value,je.value,Xe.value),(async(e,t)=>{t===Z.JUMP_PAGE&&null!=e&&e.orderNo&&await(async e=>{try{const{code:t,data:a}=await ae({orderNo:e,tenantId:h});"10000"===t&&(a.extInfo={...a.extInfo,buttonCode:"EVENT_SHORT_underWrite"},await re(a))}catch(xt){}})(null==e?void 0:e.orderNo)}))}catch(xt){}},ut=P(""),pt=P(0),mt=async(e,t,a,n=!0)=>{var r;const{chargePeriod:o,coveragePeriod:l,paymentFrequency:i,insuranceEndDate:s,insuranceStartDate:d}=et.value;ut.value="保费试算中...";const c=fe(a).map((e=>({...e,paymentFrequency:i,chargePeriod:o,coveragePeriod:l}))),u={tenantId:h,productCode:t.productCode,insuranceStartDate:d,insuranceEndDate:s,holder:{personVO:{...e.tenantOrderHolder,socialFlag:null===(r=e.tenantOrderHolder.extInfo)||void 0===r?void 0:r.hasSocialInsurance,certType:e.tenantOrderHolder.certType||M.CERT}},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",relationToHolder:e.relationToHolder,personVO:{...e,socialFlag:e.extInfo.hasSocialInsurance,certType:e.certType||M.CERT},productPlanVOList:[{insurerCode:O,planCode:Qe.value.planCode,riskVOList:c}]})))},{code:p,message:m}=await ee(u);if("10000"===p){const{code:e,data:t}=await te(u);if("10000"===e){if(ut.value="",Xe.value.tenantOrderInsuredList[0].tenantOrderProductList=u.insuredVOList[0].productPlanVOList,pt.value=null==t?void 0:t.premium,Xe.value.premium=t.premium,Xe.value.orderAmount=t.premium,Xe.value.orderRealAmount=t.premium,!n){const e={};t.riskPremiumDetailVOList&&t.riskPremiumDetailVOList.length&&t.riskPremiumDetailVOList.forEach((t=>{e[t.riskCode]={premium:t.premium,amount:t.amount}})),je.value=e,dt.value.length>0?(Ve.value=!1,v=0,Ce.value=v,we.value=!0):at.value.length>0?Le.value=!0:await ct()}}else ut.value=""}else ut.value="",Q(m);var v},vt=()=>{const e=[];return He.value.filter((e=>e.value===ie.INSURE)).forEach((t=>{e.push(...t.productRiskVoList)})),e},ft=async()=>{if(pt.value)ct();else try{Le.value=!1,we.value=!1,Ye.value&&Ye.value.validate().then((async()=>{if(ot.value)await mt(Xe.value,ke.value,[...lt.value,...vt()],!1);else{var e;const t=null===(e=Xe.value.tenantOrderHolder)||void 0===e?void 0:e.verificationCode;if(!me(t))return void Q({message:"请输入正确的验证码"});const{code:a,data:n}=await xe(Xe.value.tenantOrderHolder.mobile,t);"10000"===a&&await mt(Xe.value,ke.value,[...lt.value,...vt()],!1)}})).catch((()=>{const e=document.querySelector(".form-title");e&&e.scrollIntoView()}))}catch(e){}},gt=e=>{"allFalse"===e?(Le.value=!1,ct()):J.confirm({className:"xinao-custom-dialog",title:"提示",teleport:"#xinaoDialog",message:"被保人不符合健康要求，很抱歉暂时无法投保该产品",confirmButtonText:"选错了",cancelButtonText:"为其他人投保"}).then((()=>{})).catch((()=>{Le.value=!1}))},ht=()=>{Le.value=!1,we.value=!1,Ve.value=!0};_((()=>Xe.value.tenantOrderInsuredList[0].relationToHolder),(()=>{He.value&&He.value.forEach((e=>{e.value=ie.UN_INSURE})),_e.value=!1,F((()=>{const{certType:e,extInfo:t}=Xe.value.tenantOrderInsuredList[0];t&&!t.hasSocialInsurance&&(Xe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance=se.HAS),_e.value=!0}))}),{deep:!0,immediate:!0}),_([()=>Ke.holder.formData,()=>Ke.insuredList],(([e,t])=>{Object.assign(Xe.value,(({holder:e,insuredList:t=[]})=>{const a=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured"],n=e=>{const t={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{a.includes(n)?t[n]=e[n]:t.extInfo[n]=e[n]})),t};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(t||[]).map((e=>n(e)))}})({holder:e,insuredList:t.map((e=>e.formData))}))}),{deep:!0});const yt=()=>{const{name:e,birthday:t,gender:a,certType:n,extInfo:{hasSocialInsurance:r}}=Xe.value.tenantOrderInsuredList[0];return!!(t&&a&&Xe.value.paymentFrequency&&e&&he(e)&&r)},bt=()=>{yt()&&(ut.value="保费试算中...")};return _([()=>Qe.value,()=>et.value.paymentFrequency],(()=>{bt()}),{deep:!0,immediate:!0}),_((()=>[...Ke.holder.trialFactorCodes.map((e=>Ke.holder.formData[e])),...Ke.insuredList.reduce(((e,t,a)=>(e.push(...t.trialFactorCodes.map((e=>Ke.insuredList[a].formData[e]))),e)),[])]),((...e)=>{}),{deep:!0,immediate:!0}),_([()=>Xe.value.tenantOrderInsuredList[0].birthday,()=>Xe.value.tenantOrderInsuredList[0].name,()=>Xe.value.tenantOrderInsuredList[0].gender,()=>Xe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance,()=>Xe.value.activePlanCode,()=>Xe.value.paymentFrequency,()=>Xe.value.insurancePeriodValue,()=>He.value],K((()=>{if(yt()){if(tt.value)return;mt(Xe.value,ke.value,[...lt.value,...vt()])}else bt()}),500),{deep:!0}),_((()=>Ke.holder.formData),((...e)=>{Ke.insuredList.forEach(((e,t)=>{const{formData:a,schema:n}=e||{};"1"===a.relationToHolder&&Object.assign(e.formData,Ke.holder.formData)}))}),{deep:!0,immediate:!0}),_((()=>Qe.value),(()=>{let{productFactor:e}=Qe.value;const{oilPackageProductVOList:t,planCode:a,insureProductRiskVOList:n}=Qe.value;ot.value&&e[1]&&(e=e[1].filter((e=>"verificationCode"!==e.code))),et.value.planCode=a,lt.value=n,Je.value=(n||[]).find((e=>e.mainRiskFlag===B.YES)),He.value=(t||[]).map((e=>({...e,value:ie.UN_INSURE})));const[r,o,l]=Oe(e);Ke.holder={...Ke.holder,...r},Ke.insuredList[0]={...Ke.insuredList[0],...o}}),{deep:!0,immediate:!0}),_((()=>Ke.insuredList.map(((e,t)=>Ke.insuredList[t].formData.relationToHolder))),((e,t)=>{Ke.insuredList.forEach(((e,t)=>{const{formData:a,schema:n,config:r}=e||{},o="1"===a.relationToHolder,l="3"===a.relationToHolder;r.certNo.label="身份证号"+(l?"(户口簿)":""),e.schema.forEach((e=>{e.relationToHolder=a.relationToHolder,e.hidden=!e.isSelfInsuredNeed&&o})),o?Object.assign(e.formData,{...Ke.insuredList[t].formData,...Ke.holder.formData}):Object.assign(e.formData,{...Object.keys(e.formData).reduce(((e,t)=>(e[t]="",e)),{}),relationToHolder:a.relationToHolder})}))}),{immediate:!0,deep:!0}),F((()=>{z(E,(([{isIntersecting:e}],t)=>{oe.value=!e}))})),U((()=>{const e=q.get(de);if(e){const{tenantOrderHolder:a,tenantOrderInsuredList:n}=e;if(a&&(Xe.value.tenantOrderHolder={...a,certType:a.certType||M.CERT}),Array(n)&&n[0]){const e=n[0]||{};if(Xe.value.activePlanCode=e.planCode,e.tenantOrderProductListtenantOrderProductList&&e.tenantOrderProductList[0]&&e.tenantOrderProductList[0].tenantOrderRiskList){var t;const a=null===(t=e.tenantOrderProductList[0].tenantOrderRiskList)||void 0===t?void 0:t.find((e=>"1"===String(e.riskType)));a&&(Xe.value.paymentFrequency=null!=a&&a.paymentFrequency?String(null==a?void 0:a.paymentFrequency):ce.SINGLE)}}}})),G((()=>{De.value=!0,nt(),setTimeout((async()=>{Ne.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),$((()=>{q.remove(de)})),(e,t)=>{const a=W,o=Y;return l(),i(c,null,[De.value?(l(),i("div",Fe,Be)):(l(),p(o,{key:1,"data-skeleton-root":"SHORT","theme-vars":m(v)},{default:d((()=>{var e,t,n,o,v,f;return[A("div",ze,[A("div",Ue,[s(ye,{"data-skeleton-type":"img",url:null===(e=le.value)||void 0===e||null===(t=e.tenantProductInsureVO)||void 0===t?void 0:t.banner[0]},null,8,["url"]),null!==(n=le.value)&&void 0!==n&&null!==(o=n.tenantProductInsureVO)&&void 0!==o&&o.bannerMove?(l(),p(ye,{key:0,url:null===(v=le.value)||void 0===v||null===(f=v.tenantProductInsureVO)||void 0===f?void 0:f.bannerMove[0],onClick:st},null,8,["url"])):y("",!0),A("div",{ref_key:"observeRef",ref:E},null,512)]),(l(),p(Se,{key:0,ref:"tenantProductDetailScrollRef","data-source":le.value.tenantProductInsureVO},{form:d((()=>[A("div",qe,[Me,s(m(Ae),{ref_key:"holderFormRef",ref:Ye,title:"本人信息（投保人）",model:m(Ke).holder.formData,schema:m(Ke).holder.schema,config:m(Ke).holder.config},null,8,["model","schema","config"]),(l(!0),i(c,null,u(m(Ke).insuredList,((e,t)=>(l(),p(m(Ae),{ref_for:!0,ref_key:"insuredFormRef",ref:Ze,key:t,title:"为谁投保（被保人）",model:m(Ke).insuredList[t].formData,schema:e.schema,config:e.config},null,8,["model","schema","config"])))),128))]),s(m(r),{"form-info":et.value,"risk-info":Je.value,"tenant-product-detail":le.value,"plan-list":We.value,"premium-info":{premium:pt.value,premiumLoadingText:ut.value},onUpdateActivePlan:it},null,8,["form-info","risk-info","tenant-product-detail","plan-list","premium-info"]),He.value.length>0?(l(),p(Pe,{key:0,"package-product-list":He.value},null,8,["package-product-list"])):y("",!0)])),_:1},8,["data-source"])),s(a),s(a),oe.value?(l(),p(Re,{key:1,premium:pt.value,"loading-text":ut.value,"plan-code":Qe.value.planCode,"tenant-product-detail":{},onClick:ft},{default:d((()=>[Ge])),_:1},8,["premium","loading-text","plan-code"])):y("",!0)]),Te.value?(l(),p(pe,{key:0,"product-detail":le.value},null,8,["product-detail"])):y("",!0),$e]})),_:1},8,["theme-vars"])),s(m(n),{show:Le.value,"onUpdate:show":t[0]||(t[0]=e=>Le.value=e),"content-list":at.value,"active-index":0,onOnConfirmHealth:gt,onOnCloseHealthByMask:ht},null,8,["show","content-list"])],64)}}}),[["__scopeId","data-v-102bef40"]]))}}}))}();
