var ze=Object.defineProperty,Ge=Object.defineProperties;var Je=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ye=(t,a,o)=>a in t?ze(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,oe=(t,a)=>{for(var o in a||(a={}))Qe.call(a,o)&&ye(t,o,a[o]);if(ge)for(var o of ge(a))Xe.call(a,o)&&ye(t,o,a[o]);return t},ae=(t,a)=>Ge(t,Je(a));import{g as Z,Q as Oe,E as k,y as X,j as h,n as E,z as i,J as x,p as d,L as Ne,A as n,B as Ze,a4 as pe,a5 as _e,F as q,G as z,k as G,C as Q,t as J,r as M,m as w,M as Se,_ as de,a9 as et,O as tt,h as ot,af as at,H as nt,l as lt,T as st}from"./vendor-64f09b52.js";import{_ as ee,d as rt,e as Ae,V as se,i as re,C as be,a as ue,j as ut,a2 as Fe,$ as it,m as dt,G as Ie,a1 as Ce}from"./index-934d035f.js";import{P as ct}from"./index-13ace894.js";import{c as mt}from"./close-df102554.js";import{R as ce,S as we,a as ft,f as ie}from"./infoCollection-b0426750.js";import{A as pt}from"./bankCard-b0679059.js";import{a as _t,b as Ee,t as ht,g as vt}from"./utils-5e85c7f5.js";import{b as me,v as Dt}from"./validator-ebd71d12.js";import{a as Ve}from"./order-b675ac95.js";import{p as Be,i as gt,s as yt,a as bt,u as Ft,b as It}from"./trial-79772d1c.js";import{p as Ct}from"./product-4b9bc03c.js";import{t as wt}from"./theme-eeb93d73.js";import"./trial-6407c5c0.js";const Et=t=>(pe("data-v-47f4f4ca"),t=t(),_e(),t),Vt={class:"com-question-item"},Bt={class:"question"},Tt=Et(()=>i("div",{class:"icon"},x("?"),-1)),Pt={class:"title"},Ot=Z({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Oe(!1),l=k(),e=()=>{o()},u=X(()=>a.value?rt(l.value):0);return(b,v)=>(h(),E("div",Vt,[i("div",Bt,[Tt,i("div",Pt,x(t.question),1),d(Ae,{name:"down",class:Ne(["arrow-icon",{show:n(a)}]),onClick:e},null,8,["class"])]),i("div",{ref_key:"answerDom",ref:l,class:"answer",style:Ze({height:`${n(u)}px`})},x(t.answer),5)]))}});var Nt=ee(Ot,[["__scopeId","data-v-47f4f4ca"]]);const St={class:"com-question"},At=Z({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,l]=Oe(!1),e=()=>{l()},u=X(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(b,v)=>(h(),E("div",St,[(h(!0),E(q,null,z(n(u),(N,V)=>(h(),G(Nt,{key:V,question:N.title,answer:N.desc},null,8,["question","answer"]))),128)),t.list.length>4?(h(),E("div",{key:0,class:"show-more",onClick:e},[Q(x(n(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),d(Ae,{name:"down",class:Ne(["icon",{showMore:n(o)}])},null,8,["class"])])):J("",!0)]))}});var $t=ee(At,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Lt=t=>typeof t=="number"&&isFinite(t),kt=t=>Y(t)&&Object.keys(t).length===0,Ut=Object.assign;let Te;const Mt=()=>Te||(Te=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ne=Array.isArray,W=t=>typeof t=="string",fe=t=>typeof t=="boolean",xt=Object.prototype.toString,Ht=t=>xt.call(t),Y=t=>Ht(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Rt(t,a,o={}){const{domain:l,messages:e,args:u}=o,b=t,v=new SyntaxError(String(b));return v.code=t,a&&(v.location=a),v.domain=l,v}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const qt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Wt=null;qt.FunctionTranslate;function Yt(t){return a=>Wt}const jt=-1;function Kt(t,a,o,l,e){const{missing:u,onWarn:b}=t;if(u!==null){const v=u(t,o,a,e);return W(v)?v:a}else return a}function zt(t,a,o){const l=t;l.__localeChainCache||(l.__localeChainCache=new Map);let e=l.__localeChainCache.get(o);if(!e){e=[];let u=[o];for(;ne(u);)u=Pe(e,u,a);const b=ne(a)?a:Y(a)?a.default?a.default:null:a;u=W(b)?[b]:b,ne(u)&&Pe(e,u,!1),l.__localeChainCache.set(o,e)}return e}function Pe(t,a,o){let l=!0;for(let e=0;e<a.length&&fe(l);e++){const u=a[e];W(u)&&(l=Gt(t,a[e],o))}return l}function Gt(t,a,o){let l;const e=a.split("-");do{const u=e.join("-");l=Jt(t,u,o),e.splice(-1,1)}while(e.length&&l===!0);return l}function Jt(t,a,o){let l=!1;if(!t.includes(a)&&(l=!0,a)){l=a[a.length-1]!=="!";const e=a.replace(/!/g,"");t.push(e),(ne(o)||Y(o))&&o[e]&&(l=o[e])}return l}function Qt(t){return Rt(t,null,void 0)}function Xt(t,...a){const{numberFormats:o,unresolving:l,fallbackLocale:e,onWarn:u}=t,{__numberFormatters:b}=t,[v,N,V,g]=Zt(...a),s=fe(V.missingWarn)?V.missingWarn:t.missingWarn;fe(V.fallbackWarn)?V.fallbackWarn:t.fallbackWarn;const I=!!V.part,U=W(V.locale)?V.locale:t.locale,j=zt(t,e,U);if(!W(v)||v==="")return new Intl.NumberFormat(U).format(N);let H={},m,$=null;const r="number format";for(let f=0;f<j.length&&(m=j[f],H=o[m]||{},$=H[v],!Y($));f++)Kt(t,v,m,s,r);if(!Y($)||!W(m))return l?jt:v;let L=`${m}__${v}`;kt(g)||(L=`${L}__${JSON.stringify(g)}`);let S=b.get(L);return S||(S=new Intl.NumberFormat(m,Ut({},$,g)),b.set(L,S)),I?S.formatToParts(N):S.format(N)}function Zt(...t){const[a,o,l,e]=t;let u={},b={};if(!Lt(a))throw Qt(14);const v=a;return W(o)?u.key=o:Y(o)&&(u=o),W(l)?u.locale=l:Y(l)&&(b=l),Y(e)&&(b=e),[u.key||"",v,u,b]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Mt().__INTLIFY_PROD_DEVTOOLS__=!1);const $e=t=>(pe("data-v-c8a8e288"),t=t(),_e(),t),eo={key:0,class:"pro-modal"},to=$e(()=>i("div",{class:"pro-overlay"},null,-1)),oo={class:"pro-modal-wrapper"},ao={class:"pro-modal-body"},no={class:"pro-modal-content"},lo=$e(()=>i("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),so={class:"pro-modal-content"},ro={class:"product-attachment-list"},uo=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),io={key:0,class:"dun-hao"},co=["src"],mo=Z({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:Xt,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,l=()=>{a("on-close")},e=()=>{a("on-confirm")};return(u,b)=>{const v=M("ProPDFviewer");return o.isShow?(h(),E("div",eo,[to,i("div",oo,[i("div",ao,[i("div",no,[i("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+x(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),lo]),i("div",{class:"pro-modal-btn",onClick:e},"\u4E00\u952E\u5347\u7EA7"),i("div",so,[i("div",ro,[uo,(h(!0),E(q,null,z(o.attachmentList,(N,V)=>(h(),G(v,{key:V,class:"file-name",title:`\u300A${N.attachmentName}\u300B`,content:N.attachmentUri,type:"pdf"},{default:w(()=>[V!==(o.attachmentList||[]).length-1?(h(),E("span",io,"\u3001")):J("",!0)]),_:2},1032,["title","content"]))),128))])])]),i("div",{class:"pro-modal-close",onClick:l},[i("img",{src:n(mt)},null,8,co)])])])):J("",!0)}}});var fo=ee(mo,[["__scopeId","data-v-c8a8e288"]]);const he=t=>(pe("data-v-07ffa5c0"),t=t(),_e(),t),po=he(()=>i("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),_o=he(()=>i("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),ho=he(()=>i("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),vo={class:"attachment-list"},Do={class:"product-attachment-list"},go=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),yo={key:0,class:"dun-hao"},bo={class:"rate-attachment-list"},Fo=Q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),Io={key:0,class:"dun-hao"},Co=Z({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,l=k({}),e=Se({insureDisable:!0,formInfo:o.formInfo}),u=g=>me(g)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",b=X(()=>{var g,s;return(s=(g=o.productDetail)==null?void 0:g.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(I=>I.attachmentName==="\u8D39\u7387\u8868")}),v=X(()=>{var g,s;return((s=(g=o.productDetail)==null?void 0:g.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(I=>I.attachmentName!=="\u8D39\u7387\u8868"))||[]}),N=()=>new Promise((g,s)=>{l==null||l.value.validate().then(()=>{g("")},()=>{s()})}),V=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return de(()=>e.formInfo.insured.relationToHolder,(g,s)=>{o.disable||g!==s&&(g.toString()===ce.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:g},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:g},e.insureDisable=!1))}),de(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ce.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:N}),(g,s)=>{const I=M("ProField"),U=M("ProRadioButton"),j=M("ProPicker"),H=M("ProTabButton"),m=M("ProPDFviewer"),$=M("ProForm");return h(),G($,{ref_key:"formRef",ref:l},{default:w(()=>[i("div",null,[po,d(I,{modelValue:n(e).formInfo.holder.name,"onUpdate:modelValue":s[0]||(s[0]=r=>n(e).formInfo.holder.name=r),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:u}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(I,{modelValue:n(e).formInfo.holder.certNo,"onUpdate:modelValue":s[1]||(s[1]=r=>n(e).formInfo.holder.certNo=r),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.holder.mobile,"onUpdate:modelValue":s[2]||(s[2]=r=>n(e).formInfo.holder.mobile=r),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[n(se).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[4]||(s[4]=r=>n(e).formInfo.holder.socialFlag=r),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[3]||(s[3]=r=>n(e).formInfo.holder.socialFlag=r),disabled:o.disable,options:n(we)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),i("div",null,[_o,d(I,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[6]||(s[6]=r=>n(e).formInfo.insured.relationToHolder=r),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[5]||(s[5]=r=>n(e).formInfo.insured.relationToHolder=r),disabled:o.disable,options:n(ft)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),d(I,{modelValue:n(e).formInfo.insured.name,"onUpdate:modelValue":s[7]||(s[7]=r=>n(e).formInfo.insured.name=r),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:u}],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(I,{modelValue:n(e).formInfo.insured.certNo,"onUpdate:modelValue":s[8]||(s[8]=r=>n(e).formInfo.insured.certNo=r),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[10]||(s[10]=r=>n(e).formInfo.insured.socialFlag=r),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[9]||(s[9]=r=>n(e).formInfo.insured.socialFlag=r),disabled:o.disable||n(e).insureDisable,options:n(we)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),i("div",null,[ho,d(I,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:w(()=>[Q(x(n(_t)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),d(j,{modelValue:n(e).formInfo.paymentMethod,"onUpdate:modelValue":s[11]||(s[11]=r=>n(e).formInfo.paymentMethod=r),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":n(pt),"is-view":o.disable||n(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),d(I,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:w(()=>[d(H,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:n(e).formInfo.renewalDK,onClick:V},null,8,["disabled","active"])]),_:1}),i("div",vo,[i("div",Do,[go,(h(!0),E(q,null,z(n(v),(r,L)=>(h(),G(m,{key:L,class:"file-name",title:`\u300A${r.attachmentName}\u300B`,content:r.attachmentUri,type:"pdf"},{default:w(()=>{var S,f;return[L!==(((f=(S=t.productDetail)==null?void 0:S.tenantProductInsureVO)==null?void 0:f.attachmentVOList)||[]).length-1?(h(),E("span",yo,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))]),i("div",bo,[Fo,(h(!0),E(q,null,z(n(b),(r,L)=>(h(),G(m,{key:L,class:"file-name",title:`\u300A${r.attachmentName}\u300B`,content:r.attachmentUri,type:"pdf"},{default:w(()=>{var S,f;return[L!==(((f=(S=t.productDetail)==null?void 0:S.tenantProductInsureVO)==null?void 0:f.attachmentVOList)||[]).length-1?(h(),E("span",Io,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))])])]),d(re)]),_:1},512)}}});var wo=ee(Co,[["__scopeId","data-v-07ffa5c0"]]);const Eo={class:"page-product-detail"},Vo={class:"info"},Bo=["src"],To={class:"guarantee-list"},Po={key:0,class:"basic"},Oo={class:"tab-1"},No=["src"],So={class:"footer-button"},Ao={class:"price"},$o=Q(" \u603B\u4FDD\u8D39"),Lo={class:"guarantee-list"},ko={class:"title"},Uo={class:"content"},Mo=Z({setup(t){const a=et(),o=tt(),{productCode:l="BWYL2021",tenantId:e,orderNo:u,phoneNo:b,agentCode:v,saleChannelId:N,paymentMethod:V,certNo:g,name:s}=o.query,I=k([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),U=k(),j=k(0),H=k(!1),m=k(),$=k(),r=k(),L=!!(s&&g&&b),S=!!u,f=Se({holder:{certNo:g,certType:be.CERT,mobile:b,name:s,socialFlag:ie.HAS},insured:{certNo:g,certType:be.CERT,name:s,socialFlag:ie.HAS,relationToHolder:ce.SELF},paymentMethod:V,paymentMethodDisable:!!V,renewalDK:!0}),le=k(!1),R=k(!1),Le=()=>{le.value=!1},ke=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ae(oe({},o.query),{tenantId:e,productCode:"BWYL2022",orderNo:u})})},Ue=()=>{H.value=!0},te=X(()=>{var _,p,c,D,y,B,O;return((c=(p=(_=m.value)==null?void 0:_.tenantProductInsureVO)==null?void 0:p.guaranteeList)==null?void 0:c.length)?(y=(D=m.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:y.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(O=(B=m.value)==null?void 0:B.tenantProductInsureVO)==null?void 0:O.titleAndDescVOS}]}),ve=()=>{const{holder:{certNo:_,mobile:p,name:c,socialFlag:D},insured:{certNo:y,name:B,socialFlag:O,relationToHolder:F},paymentMethod:T}=f,P=Ie(_)&&Dt(p)&&me(c)&&!!D,C=Ie(y)&&me(B)&&!!O&&!!F;return!!(P&&C&&!!T)},Me=async _=>{st.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const p=await Ft(_),{code:c}=p;if(c==="10000"){const D=await It({orderNo:_.orderNo,tenantId:e}),{data:y}=D;c==="10000"?window.location.href=y:R.value=!1}else R.value=!1}catch{R.value=!1}},xe=_=>`${Ce}/chuangxin/baigebao/productDetail?tenantId=${e}&productCode=${l}&orderNo=${_}`,He=_=>`${Ce}/chuangxin/baigebao/payFail?tenantId=${e}&orderNo=${_}`,Re=async _=>{const p=vt({tenantId:e,saleUserId:v,saleChannelId:N,detail:m.value,insureDetail:$.value,paymentMethod:f.paymentMethod,renewalDK:f.renewalDK?"Y":"N",successJumpUrl:"",premium:r.value,holder:f.holder,insured:f.insured,tenantOrderRiskList:_,orderStatus:"",orderTopStatus:""});try{const c=await yt(p),{code:D,data:y}=c;D==="10000"&&Me(ae(oe({},p),{orderNo:y.data,extInfo:{extraInfo:{renewalDK:f.renewalDK,paymentMethod:f.paymentMethod,successJumpUrl:xe(y.data),failUrl:He(y.data)}}}))}catch{R.value=!1}},De=async()=>{const{calcData:_,riskVOList:p}=Ee({holder:f.holder,insured:f.insured,tenantId:e,productDetail:m.value,insureDetail:$.value}),c=async()=>{const D=await Be(_),{code:y,data:B}=D;return y==="10000"?(r.value=B.premium,{condition:p,data:B}):{}};c(),lt.exports.debounce(c,500,{trailing:!0})},qe=()=>new Promise((_,p)=>{var c,D;(D=(c=U.value)==null?void 0:c.validateForm)==null||D.call(c).then(async()=>{const{calcData:y,riskVOList:B}=Ee({holder:f.holder,insured:f.insured,tenantId:e,productDetail:m.value,insureDetail:$.value}),O=await Be(y),{code:F,data:T}=O;F==="10000"?(r.value=T.premium,_({condition:B,data:T})):p(new Error)}).catch(()=>{R.value=!1})}),We=async()=>{var _;if(u){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ae(oe({},o.query),{tenantId:e,productCode:"BWYL2022",orderNo:u})});return}R.value=!0;try{const{condition:p,data:c}=await qe(),D={},y=(O=[])=>{(O||[]).forEach(F=>{var T;D[F.riskCode]=F,((T=F.riskPremiumDetailVOList)==null?void 0:T.length)&&y(F.riskPremiumDetailVOList)})};y(c.riskPremiumDetailVOList);const B=ht({tenantId:e,riskList:p,riskPremium:D,productId:(_=m.value)==null?void 0:_.id});Re(B)}catch{R.value=!1}};de(()=>f,()=>{m.value&&$.value&&!u&&ve()&&De()},{deep:!0,immediate:!0});const Ye=async()=>{var D,y,B,O,F,T,P;const _=await bt({orderNo:u,tenantId:e}),{code:p,data:c}=_;if(p==="10000"){const{tenantOrderHolder:C,tenantOrderInsuredList:A,extInfo:K}=c;f.holder={certNo:C.certNo,certType:C.certType,mobile:C.mobile,name:C.name,socialFlag:ie.HAS},f.insured={certNo:A==null?void 0:A[0].certNo,certType:(D=A[0])==null?void 0:D.certType,name:(y=A[0])==null?void 0:y.name,socialFlag:(O=(B=A[0])==null?void 0:B.extInfo)==null?void 0:O.hasSocialInsurance,relationToHolder:(F=A[0])==null?void 0:F.relationToHolder},f.paymentMethod=K.extraInfo.paymentMethod,r.value=(P=(T=A[0])==null?void 0:T.tenantOrderProductList[0])==null?void 0:P.premium,f.renewalDK=K.extraInfo.renewalDK==="Y",(c.orderStatus===Ve.ACCEPT_POLICY||c.orderStatus===Ve.PAYMENT_SUCCESS)&&(le.value=!0)}},je=async()=>{const _=Ct({productCode:l,withInsureInfo:!0,tenantId:e}),p=gt({productCode:l});await Promise.all([_,p]).then(([c,D])=>{c.code==="10000"&&(m.value=c.data),D.code==="10000"&&($.value=D.data)}),u?Ye():ve()&&De()};return ot(()=>{je(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(_,p)=>{var B,O;const c=M("van-button"),D=M("van-config-provider"),y=at("dompurify-html");return h(),E(q,null,[d(D,{"theme-vars":n(wt)},{default:w(()=>{var F,T;return[i("div",Eo,[i("div",Vo,[i("img",{src:(T=(F=m.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:T.banner[0],class:"banner"},null,8,Bo),i("div",To,[d(ue,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:Ue},{default:w(()=>{var P,C,A;return[m.value&&((P=m.value)==null?void 0:P.tenantProductInsureVO)?(h(),E("div",Po,[(h(!0),E(q,null,z((A=(C=n(te))==null?void 0:C[j.value])==null?void 0:A.titleAndDescVOS,(K,Ke)=>(h(),G(ut,{key:Ke,class:"guarantee-item",title:K.title,content:K.desc,border:!1},null,8,["title","content"]))),128))])):J("",!0)]}),_:1})])]),d(Fe,{class:"tabs",list:I.value,sticky:"",scrollspy:""},{tab1:w(()=>[d(wo,{ref_key:"formRef",ref:U,"holder-disable":L,disable:S,"form-info":n(f),premium:r.value,"product-detail":m.value},null,8,["form-info","premium","product-detail"])]),tab2:w(()=>{var P,C;return[i("div",Oo,[(h(!0),E(q,null,z(((C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.spec)||[],(A,K)=>(h(),E("img",{key:K,src:A,class:"detail-img"},null,8,No))),128))])]}),tab3:w(()=>[d(ue,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:w(()=>{var P,C;return[d(ct,{list:(C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.settlementProcessList},null,8,["list"])]}),_:1}),d(ue,{title:"\u5E38\u89C1\u95EE\u9898"},{default:w(()=>{var P,C;return[d($t,{list:(C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),i("div",So,[i("div",Ao,[$o,i("span",null,"\uFFE5"+x(n(it)(r.value))+"/\u6708",1)]),d(c,{type:"primary",class:"right",disabled:R.value,onClick:We},{default:w(()=>[Q(x(n(u)?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["theme-vars"]),d(dt,{show:H.value,"onUpdate:show":p[0]||(p[0]=F=>H.value=F),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:w(()=>[n(te).length>1?(h(),G(Fe,{key:0,list:n(te).map((F,T)=>({title:F.guaranteeType,slotName:`guarantee-${T}`})),class:"tab"},null,8,["list"])):J("",!0),i("div",Lo,[(h(!0),E(q,null,z(n(te)[j.value].titleAndDescVOS,(F,T)=>(h(),E("div",{key:T,class:"guarantee-item"},[i("div",ko,x(F.title),1),nt(i("div",Uo,null,512),[[y,F.content]])]))),128))])]),_:1},8,["show"]),d(fo,{"is-show":le.value,premium:r.value,"attachment-list":(O=(B=m.value)==null?void 0:B.tenantProductInsureVO)==null?void 0:O.attachmentVOList,onOnConfirm:ke,onOnClose:Le},null,8,["is-show","premium","attachment-list"])],64)}}});var ea=ee(Mo,[["__scopeId","data-v-6ee93dcd"]]);export{ea as default};
