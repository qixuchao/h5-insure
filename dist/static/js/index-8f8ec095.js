var U=Object.defineProperty,V=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var b=(u,o,a)=>o in u?U(u,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[o]=a,i=(u,o)=>{for(var a in o||(o={}))W.call(o,a)&&b(u,a,o[a]);if($)for(var a of $(o))H.call(o,a)&&b(u,a,o[a]);return u},r=(u,o)=>V(u,G(o));import{g as w,ak as J,O as K,E as d,h as X,r as B,j as l,k as p,m,p as T,n as f,G as g,F as y,z as Y,C as Z,T as ee,L as k}from"./vendor-e057bbeb.js";import{l as q}from"./inform-d0caa3ee.js";import{_ as te,r as oe,n as ae,P as se}from"./index-a38d2223.js";import{s as ne}from"./useStorage-be177ed7.js";import{g as j}from"./verify-079566c7.js";const ue={class:"footer-button"},le=Z("\u4E0B\u4E00\u6B65"),ie=w({setup(u){const o=J(),a=K(),{productCode:I="MMBBSF",agentCode:L="65434444",tenantId:D=9991000007,agencyCode:re="3311222",insurerCode:x="zhongan",productCategory:O=1,templateId:ce=1,orderNo:h="2022080217103534947"}=a.query,v=d([]),c=d({});d(!1);const E=d([]),N=d([]),P=s=>v.value.filter(t=>t.objectType===s),M=()=>{oe({orderNo:h,saleUserId:L,tenantId:D}).then(({code:s,data:t})=>{s==="10000"&&Object.assign(c.value,t)})},R=()=>{const s={orderNo:h,productCode:I,tenantId:D,objectType:1};j(i({},s)).then(({code:t,data:n})=>{t==="10000"&&(N.value=n||[])}),j(r(i({},s),{objectType:2})).then(({code:t,data:n})=>{t==="10000"&&(E.value=n||[])})},S=()=>{const s={insurerCode:x,orderNo:h,productCategory:O,tenantId:D};Promise.all([q(r(i({},s),{noticeType:4,objectType:1})),q(r(i({},s),{noticeType:5,objectType:2}))]).then(([{code:t,data:n},{code:C,data:A}])=>{t==="10000"&&C==="10000"&&(v.value=[...n,...A])})},_=s=>{var t;ne.set("questionData",s),o.push({path:"/healthNotice",query:i({questionnaireType:s.questionnaireType||2,orderId:(t=c.value)==null?void 0:t.id},a.query)})},Q=()=>{if(!v.value.every(t=>t.isDone===1)){ee("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}Object.assign(c.value,{pageCode:"questionNotice",tenantOrderNoticeList:v.value}),ae(r(i({},c.value),{extInfo:r(i({},c.value.extInfo),{pageCode:"questionNotice"}),venderCode:x})).then(({code:t,data:n})=>{t==="10000"&&n.pageAction.pageAction==="jumpToPage"&&o.push({path:se[n.pageAction.data.nextPageCode],query:a.query})})};return X(()=>{S(),R(),M()}),(s,t)=>{const n=B("van-cell"),C=B("ProCard"),A=B("van-button"),z=B("ProPageWrap");return l(),p(z,{class:"page-question-notice"},{default:m(()=>[T(C,{title:"\u6295\u4FDD\u4EBA"},{default:m(()=>[(l(!0),f(y,null,g(P(1),e=>(l(),p(n,{key:e.id,class:k({"is-active":e.isDone===2}),title:`\u300A${e.title}\u300B`,"is-link":"",value:`${e.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:F=>_(e)},null,8,["class","title","value","onClick"]))),128)),(l(!0),f(y,null,g(N.value,e=>(l(),p(n,{key:e.id,class:k({"is-active":e.isDone===2}),title:`\u300A${e.materialName}\u300B`,"is-link":"",value:`${e.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:F=>_(e)},null,8,["class","title","value","onClick"]))),128))]),_:1}),T(C,{title:"\u88AB\u4FDD\u4EBA"},{default:m(()=>[(l(!0),f(y,null,g(P(2),e=>(l(),p(n,{key:e.id,class:k({"is-active":e.isDone===2}),title:`\u300A${e.title}\u300B`,"is-link":"",value:`${e.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:F=>_(e)},null,8,["class","title","value","onClick"]))),128)),(l(!0),f(y,null,g(E.value,e=>(l(),p(n,{key:e.id,class:k({"is-active":e.isDone===2}),title:`\u300A${e.materialName}\u300B`,"is-link":"",value:`${e.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:F=>_(e)},null,8,["class","title","value","onClick"]))),128))]),_:1}),Y("div",ue,[T(A,{type:"primary",onClick:Q},{default:m(()=>[le]),_:1})])]),_:1})}}});var me=te(ie,[["__scopeId","data-v-3062bd9e"]]);export{me as default};
