import{q as e,a}from"./product-b2dcacaf.js";import{al as t,_ as s,d as n,a as o,z as r,r as l,S as i,aT as c,x as u,y as d,b as p,c as v,h as f,f as m,w as h,j as g,g as w,n as y,t as k,k as C,X as b,F as _,aQ as x,K as P,L as E}from"./index-4c2d8b53.js";const I=(a,s,n)=>{t((()=>{(async()=>{try{const{code:t,data:n}=await e(a);if("10000"===t){const e={};n.forEach((a=>{e[a.relationCode]||(e[a.relationCode]=[]),e[a.relationCode].push(a)})),null==s||s(e)}}catch(t){null==n||n(!1)}})()}))};const j=e=>{const a=(()=>{const e=new Map;return[{name:"华瑞",ids:[100039,8200000010]},{name:"华润",ids:[9991000001]}].forEach((a=>{a.ids.forEach((t=>{e.set(t,a.name)}))})),e})().get(+e);return a?`本产品由${a}保险销售有限公司销售本页面仅做产品展示，具体承保方案以实际保单约定为准`:""};const A={class:"header"},F=["src"],N={class:"content"},O=(e=>(P("data-v-69c82ca4"),e=e(),E(),e))((()=>g("h4",null,"温馨提示，您已进入投保流程：",-1))),S={class:"statement"},T={class:"footer"},q={key:0},D={class:"review-pdf"};var z=s(n({__name:"index",props:{productDetail:{type:Object,default:()=>{}}},setup(e){const t=e,s=o(),{tenantId:n=""}=s.query,P=r({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),E=l(!1),I=l(!1),z=new i({source:"sessionStorage"}),B=c({time:4e3,onFinish:()=>{z.set("PRENOTICE-isShow","1")}}),K=l({title:"",link:""}),L=u((()=>B.current.value.seconds)),M=u((()=>{if(K.value.link){const e=(K.value.link||"").split("?");return"pdf"===(e[0]||"").substr(e[0].lastIndexOf(".")+1)?"pdf":"picture"}return"link"})),Q=()=>{E.value=!1};return d((()=>{(async()=>{const{code:e,data:s}=await a({insureCode:t.productDetail.insurerCode,tenantId:n});"10000"===e&&(P.insureConfig=s,x((()=>{B.start()}))),E.value=!0})(),P.statement=j(n)})),(e,a)=>{var t;const s=p("VanButton"),n=p("ProPopup"),o=p("ProFilePreview");return v(),f(_,null,[m(n,{class:"pre-notice-wrap",show:w(E),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:h((()=>{var e;return[g("div",A,[g("img",{src:w("/static/assets/header-logo.fadf5dcd.png")},null,8,F)]),g("div",N,[O,g("p",null,[y(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),g("span",{class:"file-name",onClick:a[0]||(a[0]=e=>((e,a)=>{var t;I.value=!I.value,K.value.link=null==(t=P.insureConfig)?void 0:t[a].link,K.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+k((null==(e=w(P).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),y(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),g("abbr",S,k(w(P).statement),1),g("div",T,[m(s,{type:"primary",block:"",round:"",onClick:Q},{default:h((()=>[y(" 好的 "),w(L)?(v(),f("span",q,k(w(L))+"s",1)):C("",!0)])),_:1})])]})),_:1},8,["show"]),m(n,{show:w(I),"onUpdate:show":a[1]||(a[1]=e=>b(I)?I.value=e:null),class:"pre-notice-wrap",title:null==(t=w(K))?void 0:t.title,position:"bottom",style:{overflow:"hidden"}},{default:h((()=>{var e;return[g("div",D,[m(o,{content:null==(e=w(K))?void 0:e.link,type:w(M)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-69c82ca4"]]);export{z as P,I as u};
