import{d as e,h as a,i as t,k as o,ag as r,o as s,c as n,u as l,m as d,w as c,a8 as i,cA as p,f as u,_ as m,aI as h,ck as f,cl as y,cm as C,bV as I}from"./index-e11600e6.js";import{P as g}from"./constants-62d1c4af.js";const k={class:"operate-wrap"},N=e({name:"operateBtn"});var $=m(e({...N,props:{detail:{default:()=>({})}},emits:["handleCancel"],setup(e,{emit:m}){const N=e,$=a(),S=t(),{tenantId:v,nextPageCode:x}=S.query,_=o((()=>{const{orderTopStatus:e}=N.detail;return"-1"===e&&g.orderList===S.path})),P=o((()=>{const{policyNo:e,applicationNo:a,orderStatus:t}=N.detail;return!e&&a&&"cancel"!==t})),w=o((()=>{const{orderStatus:e}=N.detail;return"offlinePayment"===e})),z=()=>{const{orderStatus:e,orderNo:a}=N.detail;let t=g.sign;"collectInfo"===e&&(t=g.infoCollection),$.push({path:t,query:{tenantId:v,orderNo:a}})},D=()=>{N.detail,x?h.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{m("handleCancel")})):h.confirm({message:"确认取消当前订单？"}).then((()=>{(e=>{const{holderName:a,holderGender:t,orderId:o,orderNo:r}=N.detail||{},s=a,n=`${f[t]}士`;y({shareType:0,title:`${C.cancel.title}（${I[e.toLocaleUpperCase()]}）`,desc:C.cancel.desc.replace("{name}",`${s}${n},`),url:`${window.location.href}&objectType=${e}&orderNo=${r}&orderId=${o}&nextPageCode=orderDetail`.replace(/\/order|\/orderDetail/,"/baseInsurance/long/phoneVerify"),imageUrl:"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/lian_logo.png?OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Expires=1697288114&Signature=S87PMeDRxltLovmmHVTeiHoew1c%3D"})})("holder")}))},T=()=>{const{orderNo:e,orderId:a}=N.detail;$.push({path:g.updateBankInfo,query:{tenantId:v,orderNo:e,orderId:a,nextPageCode:"orderDetail"}})};return(e,a)=>{const t=r;return s(),n("div",k,[l(_)?(s(),d(t,{key:0,type:"primary",size:"small",onClick:p(z,["stop"])},{default:c((()=>[i("去处理")])),_:1},8,["onClick"])):u("",!0),l(P)?(s(),d(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(D,["stop"])},{default:c((()=>[i("撤单")])),_:1},8,["onClick"])):u("",!0),l(w)?(s(),d(t,{key:2,size:"small",onClick:p(T,["stop"])},{default:c((()=>[i("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-172cc7ca"]]);export{$ as O};
