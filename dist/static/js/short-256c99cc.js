import{i as J,N as ye,l as B,m as a,s as l,t as h,p as $,B as s,L as V,C as e,F as q,H as W,M as ne,I as De,J as ct,d as Pe,r as D,$ as G,A as F,R as Te,ag as qe,x as M,n as Y,G as ie,a5 as _e,a6 as he,Z as Ze,_ as dt,U as mt,T as pt,aa as gt,P as ft,k as vt,D as yt}from"./vendor-87894311.js";import{d as _t}from"./debounce-11332b2b.js";import{P as ve}from"./index-d746320d.js";import{_ as ee,e as Ye,i as ge,a7 as ht,C as Ce,I as He,K as It,a1 as Ct}from"./index-dd334c46.js";import{C as Ie,k as ce,l as se,m as Dt,S as xe,R as Be,g as Pt}from"./infoCollection-9b1626aa.js";import{i as Tt,n as $e,p as kt,g as wt}from"./trial-121f55b1.js";import{p as Nt}from"./product-35f93839.js";import{o as ke,r as At,t as Ot}from"./utils-d07cbf48.js";import{u as Qe,t as we}from"./theme-fdbb0f53.js";import{B as Re}from"./index-2cc1fc1d.js";import{P as St}from"./index-039633b5.js";import{L as Ft}from"./loading-1c9c1d7b.js";import{u as Vt}from"./useDicData-80d301b9.js";import{_ as bt}from"./index-f11bd0ed.js";import"./useStorage-7cf89dc9.js";import"./trial-2c2f0d38.js";import"./check-detail-c292a89b.js";import"./relativeTime-89dc646e.js";var Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAuRJREFUeF7t3DtOI0EQBuDfEtImXAdyNoIEAffYkIALrFZaMu4BiAQiyOE6myARoJI8kteyx/3469FWTTxT3fVNdY/dY/cCeVAFFtRoGQwJSi6CBE1QsgA5XFZogpIFyOGyQhOULEAOlxWaoGQBcris0CCglwB+ATgEcA/gFsAXuW/W4Q4AXAOQ3P4BuAPwUNuJlgqVBgVx9XheduSztgNBzv+xxDtb689VLWoL6CuAkw0Qo6Juw5QU3wD8rLnpLaDvAI62NDIa6hympPgB4Fgb9AbA75lGRkHdhSkpSq5/tEFl8n4CsD7fjDSnlmBKYZzXPmxbhrzAlXZIHmDRHlSqfW8FHRVVFVNQekBHQ1XHZICOgmqCyQKNjmqGyQSNimqKyQaNhmqOqQEaBdUFUwvUG9UNUxPUC9UVUxvUGtUd0wLUCjUEphWoNmoYTEtQLdRQmNagbNRwmB6gLNSQmF6gvahhMT1BW1FDY3qD1qLK+fKePPSrl94FZkmy9yipupdlI6czjYV4ORgBtLRS525cCMwIQ34VqaRSN6GGwYwG2lKpoTAjgk6ojwDm5ks5T+bVi2ivqaPMoetDP0F7H/XL62vn0RzyM/C1mFOoUKhRhnwrZjjUCKAlmPnBvnBOLcGchnR+9dyBWoM5/YKv5ZrCe8s5zWvI98D0XMtRm4niAcoAYcRQwbUGZUIwY9FwLUE1ADRiduFagWomrhm7GtcC1CJhizaKcLVBLRO1bGsrriaoR4Iebf6HqwXqmZhn293/AtlU+q4JVSwDqqxSsSs0AuZ0k136wgR1SUBhvaDoab7tJBZoREyXSmWARsY0R+0FHQHTFLUHdCRMM9RW0BExTVBbQHMDAvICc26RQQbNTVzIoLnNEBk0N8Iig0q41a3a5Gfaf2t3j+n6fqdzsdtWbTrp7EnUlo9Ne5K6ThoJSnZN0AQlC5DDZYUmKFmAHC4rNEHJAuRwWaEJShYgh8sKJYN+A6+yQmSPqqjtAAAAAElFTkSuQmCC",Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAn9JREFUSEvtlktIVFEcxn/XXpM6Mz5zVBzR8oFUVARRUljhItKNhZC0qVYhZjMMFIG0aFUUtijKB0GEBL02WmZqRjlbFyWSYQ+EynKyh5baNHPi3hsNtzuj89Bp44G7Oec732/u//y/c0cSQgj+w5AWwNGqevRK/eMLXD0AAx2wu47ogD8OwcVyGHmuFnSJIQrgwR5o2Avfx3ynuL5insFPmuB6NXjcPmjhDqhunSew1wO3HNB9Xtur+SVQ0wZL4+YBPPkVmvdBf7sWmrcVau7Bsnhlfm6ba/SV2kTvB7TQlcVwpB0Mxr/zkvj8VigtvqYMjKnhx/jFY2jYAxMurUfuZqi9DwaTZl4SdQWCD4NgssChFpAPP9ThvAIth8HzU7szZxPUdsBys85REsetgrFhdUGKUcKtPDGLZsfLTXTnGHSe02uzN8LRTohN8OsjiSGnoH4nuKd8goLt6tub0wPDp8ahuQqetek11g1g64LYxID71ebquw2NlSC8PqExDQ5eg6JS/WbXG7WJ3vXr17LWga0b4pJmrJivq+XM3bBpxXLpd52A8pMQs1hdG+qFyxUwPqo3zlwL9m6IT5n1mLRxummDrn9CL1vkbYP9jSpUvol+TeuNM1aD/WHQydCCvV5oqkQpfSgjvUiFmtKC3qW/QNyTUF8KL53BmVgKwd4DZktw+j8q/zfXxCc4U4yS75nGinxwyNCMkKBKcgP+53K9htNb4NuIf9PUVeB4BAmZIUNnBsurw31wtgSmx7XmKbkqNDErLOjsYFkx8AAulPm+qck5KjTJGjY0OLCsetoKd0+p+ay6BMnZEUGDB0eM0RvM7fc4hB+4AA6hWJFJfwMaXAhFHVsobQAAAABJRU5ErkJggg==";const xt={class:"customer-body"},Bt={class:"header"},$t={class:"conatiner"},Rt=["onClick"],Mt={class:"name"},Ut=J({props:{userInfo:{type:Object,default:()=>({})},relationCode:{type:String,default:"1"},title:{type:String,default:"\u9009\u62E9\u6295\u4FDD\u4EBA"}},emits:["change"],setup(u,{emit:I}){let n=[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"\u738B\u5927\u5566",certNo:"110101199003078910",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"001",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"string",certNo:"string",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"string",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[null],relationCode:"string",routeList:[0],salary:"string",type:"string",workPlace:"string"}],relationCode:"string",salary:"string",type:"string",workPlace:"string"},{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"\u674E\u5927\u9704",certNo:"110101199003070193",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"002",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"string",certNo:"string",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"string",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[null],relationCode:"string",routeList:[0],salary:"string",type:"string",workPlace:"string"}],relationCode:"string",salary:"string",type:"string",workPlace:"string"}];n=[...n,...n,...n];const r=ye({loading:!1,select:n[0],list:n}),g=async()=>{r.loading=!0},p=()=>{r.loading=!1,I("change",r.select)},c=()=>{r.loading=!1,g()};return(o,b)=>{const P=B("ProSvg"),d=B("van-icon"),y=B("ProPopup");return a(),l(q,null,[h(P,{name:"customer",onClick:c}),h(y,{class:"customer-list",style:{height:"416px"},show:e(r).loading,closeable:!1},{default:$(()=>[s("div",xt,[s("div",Bt,[s("span",null,V(u.title),1),h(d,{name:e(Lt),onClick:b[0]||(b[0]=T=>e(r).loading=!1)},null,8,["name"])]),s("div",$t,[(a(!0),l(q,null,W(e(r).list,T=>(a(),l("div",{key:T.customerId,class:ne({item:!0,active:e(r).select.customerId===T.customerId}),onClick:S=>e(r).select=T},[s("span",Mt,V(T.cert[0].certName),1),s("span",null,V(T.cert[0].certNo),1),De(h(d,{class:"check-icon",name:e(Et)},null,8,["name"]),[[ct,e(r).select.customerId===T.customerId]])],10,Rt))),128))]),h(ve,{shadow:!1,text:"\u786E\u5B9A",onClick:p})])]),_:1},8,["show"])],64)}}});var Me=ee(Ut,[["__scopeId","data-v-71e988c8"]]);const pe=(u,I="YYYY-MM-DD")=>Pe(u).format(I),de=(u,I=0,n="day",r="YYYY-MM-DD")=>Pe(u).add(I,n).format(r),qt=(u,I=0,n="day",r="YYYY-MM-DD")=>Pe(u).subtract(I,n).format(r);const Zt=u=>(_e("data-v-2da31e52"),u=u(),he(),u),Yt={class:"guarantee-list"},Ht=Zt(()=>s("span",null,"\u4FDD\u969C\u8BA1\u5212",-1)),Qt={key:0,class:"picture-payment-content"},jt=["onClick"],Gt=["src"],Kt=["src"],Wt={key:1,class:"plan-list"},Jt=["onClick"],Xt={key:2,class:"feerate-view"},zt={class:"guarantee-detail"},en={key:0,class:"plan-list"},tn=["onClick"],nn={key:1},an={class:"extinfo-info-list"},rn={class:"content"},sn=J({props:{dataSource:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:5},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(u,{emit:I}){var _;const n=u,r=D((_=n.dataSource)==null?void 0:_.planList),g=D(n.activePlanCode);G([()=>n.dataSource,()=>n.activePlanCode],()=>{var t;n.isMultiplePlan&&(r.value=(t=n.dataSource)==null?void 0:t.planList)},{immediate:!0});const p=D([]),c=D([]),o=D(),b=F(()=>n.isMultiplePlan?n.dataSource.planList.map(t=>t.planPicList?{...t.planPicList,planCode:t.planCode,planName:t.planName}:null).filter(t=>!!t):[]);G([()=>n.dataSource,()=>n.activePlanCode],()=>{var t,i,f,L;if(g.value=n.activePlanCode,!n.isMultiplePlan)p.value=(t=n.dataSource)==null?void 0:t.planInsureVO.guaranteeItemVOS,c.value=(i=n.dataSource)==null?void 0:i.planInsureVO.extInfoVOList,o.value=(f=n.dataSource)==null?void 0:f.planInsureVO.productPremiumVOList[0];else if(r.value&&r.value.length>0){let Q=0;const X=r.value.findIndex(E=>E.planCode===g.value);X>-1&&(Q=X),p.value=r.value[Q].guaranteeItemVOS,c.value=r.value[Q].extInfoVOList,o.value=(L=r.value[Q])==null?void 0:L.productPremiumVOList[0]}},{immediate:!0,deep:!0});const P=F(()=>{var t;return((t=n.dataSource)==null?void 0:t.rateUri)||""}),d=F(()=>!!(o.value&&o.value.paymentFrequencyValue&&o.value.premiumUnit&&!!P)),[y,T]=Te(!1),S=F(()=>{var t;return!p.value||!((t=p.value)!=null&&t.length)?!1:p.value.length>n.count?n.isShowClose?!0:!y.value:!1}),H=()=>{T()},j=F(()=>{var t;return!p.value||!((t=p.value)!=null&&t.length)?[]:p.value.length<=n.count||y.value?p.value:p.value.slice(0,n.count)}),v=t=>{g.value=t,I("update-active-plan",t)},w=D(!1),U=()=>{w.value=!0},C=()=>{ke({fileType:"pdf",feeFileUri:P.value})};return(t,i)=>{var X,E;const f=B("ProCell"),L=B("ProPopup"),Q=qe("dompurify-html");return a(),l(q,null,[s("div",Yt,[s("div",{class:"header"},[Ht,s("span",{onClick:U},"\u67E5\u770B\u8BE6\u60C5")]),u.isMultiplePlan?(a(),l(q,{key:0},[e(b).length>0?(a(),l("div",Qt,[(a(!0),l(q,null,W(e(b),A=>(a(),l("div",{key:A.planCode,class:ne("picture-payment-item"),onClick:z=>v(A.planCode)},[g.value==A.planCode?(a(),l("img",{key:0,src:A.selectedPic},null,8,Gt)):(a(),l("img",{key:1,src:A.unSelectedPic},null,8,Kt))],8,jt))),128))])):(a(),l("div",Wt,[(a(!0),l(q,null,W(r.value,(A,z)=>(a(),l("div",{key:`${A.planCode}_${z}`,class:ne(`plan-list-item ${A.planCode===g.value?"plan-list-item-active":""}`),onClick:fe=>v(A.planCode)},[s("span",null,V(A.planName),1)],10,Jt))),128))]))],64)):M("",!0),(a(!0),l(q,null,W(e(j),(A,z)=>(a(),Y(f,{key:z,class:"guarantee-item",title:A.title,content:A.desc,border:!1},null,8,["title","content"]))),128)),e(S)?(a(),l("div",{key:1,class:"show-more",onClick:H},[ie(V(e(y)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),h(Ye,{name:"down",class:ne(["icon",{showMore:e(y)}])},null,8,["class"])])):M("",!0),e(d)?(a(),l("div",Xt,[s("span",null,V(`${((X=o.value)==null?void 0:X.paymentFrequencyValue)||""}${((E=o.value)==null?void 0:E.premiumUnit)||""}`),1),e(P)?(a(),l("span",{key:0,onClick:C},"\u67E5\u770B\u4FDD\u8D39")):M("",!0)])):M("",!0)]),h(ge),h(L,{show:w.value,"onUpdate:show":i[0]||(i[0]=A=>w.value=A),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:$(()=>[s("div",zt,[u.isMultiplePlan?(a(),l("div",en,[(a(!0),l(q,null,W(r.value,(A,z)=>(a(),l("div",{key:`${A.planCode}_${z}`,class:ne(`plan-list-item ${A.planCode===g.value?"plan-list-item-active":""}`),onClick:fe=>v(A.planCode)},[s("span",null,V(A.planName),1)],10,tn))),128))])):M("",!0),c.value&&c.value.length>0?(a(),l("div",nn,[s("div",an,[(a(!0),l(q,null,W(c.value,(A,z)=>(a(),Y(f,{key:z,title:A.name,content:A.description,border:!1,size:"small"},null,8,["title","content"]))),128))]),h(ge)])):M("",!0),(a(!0),l(q,null,W(p.value,(A,z)=>(a(),l("div",{key:z,class:"guarantee-item"},[h(f,{title:A.title,content:A.desc,border:!1,size:"small"},null,8,["title","content"]),De(s("div",rn,null,512),[[Q,A.content]])]))),128))])]),_:1},8,["show"])],64)}}});var on=ee(sn,[["__scopeId","data-v-2da31e52"]]);const ln={class:"com-custom-card"},un={class:"title"},cn=J({props:{title:{type:String,required:!0}},setup(u){return(I,n)=>(a(),l("div",ln,[s("div",un,V(u.title),1),s("div",null,[Ze(I.$slots,"default",{},void 0,!0)])]))}});var Ue=ee(cn,[["__scopeId","data-v-059c21ee"]]);const dn={class:"question"},mn={class:"title"},pn=J({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup(u){return(I,n)=>{const r=B("ProSvg"),g=B("van-collapse-item");return a(),Y(g,{name:u.name,class:"com-question-item"},{title:$(()=>[s("div",dn,[h(r,{name:"question"}),s("div",mn,V(u.question),1)])]),default:$(()=>[ie(" "+V(u.answer),1)]),_:1},8,["name"])}}});var gn=ee(pn,[["__scopeId","data-v-0d7ea124"]]);const fn={class:"com-question"},vn=J({props:{list:{type:Array,default:()=>[]}},setup(u){const I=u,[n,r]=Te(!1),g=D([]),p=()=>{r()},c=F(()=>I.list.length<=4||n.value?I.list:I.list.slice(0,4));return(o,b)=>{const P=B("van-collapse");return a(),l("div",fn,[h(P,{modelValue:g.value,"onUpdate:modelValue":b[0]||(b[0]=d=>g.value=d)},{default:$(()=>[(a(!0),l(q,null,W(e(c),(d,y)=>(a(),Y(gn,{key:y,name:y.toString(),question:d.title,answer:d.desc},null,8,["name","question","answer"]))),128))]),_:1},8,["modelValue"]),u.list.length>4?(a(),l("div",{key:0,class:"show-more",onClick:p},[ie(V(e(n)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),h(Ye,{name:"down",class:ne(["icon",{showMore:e(n)}])},null,8,["class"])])):M("",!0)])}}});var yn=ee(vn,[["__scopeId","data-v-1b7e97e9"]]);const _n={class:"spec"},hn=["src"],In={key:1,class:"spec"},Cn=["src"],Dn=J({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(u,{expose:I}){const n=u,r=D(),g=D([{title:"\u4EA7\u54C1\u4EAE\u70B9",slotName:"tab1"},{title:"\u7406\u8D54\u8BF4\u660E",slotName:"tab2"},{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab3"}]),p=F(()=>{var d,y,T,S;return((y=(d=n.detail)==null?void 0:d.tenantProductInsureVO)==null?void 0:y.spec)&&((S=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:S.spec.length)>0}),c=F(()=>{var y,T,S,H,j,v,w,U,C,_,t,i,f,L;const d=(T=(y=n.detail)==null?void 0:y.tenantProductInsureVO)==null?void 0:T.settlementProcessVO.settlementProcessType;return!!(d===Ie.WORD&&((j=(H=(S=n.detail)==null?void 0:S.tenantProductInsureVO)==null?void 0:H.settlementProcessVO)==null?void 0:j.settlementProcessList)&&((U=(w=(v=n.detail)==null?void 0:v.tenantProductInsureVO)==null?void 0:w.settlementProcessVO)==null?void 0:U.settlementProcessList.length)>0||d===Ie.IMAGE&&((t=(_=(C=n.detail)==null?void 0:C.tenantProductInsureVO)==null?void 0:_.settlementProcessVO)==null?void 0:t.settlementProcessPicList)&&((L=(f=(i=n.detail)==null?void 0:i.tenantProductInsureVO)==null?void 0:f.settlementProcessVO)==null?void 0:L.settlementProcessPicList.length)>0)}),o=F(()=>{var d,y,T,S;return((y=(d=n.detail)==null?void 0:d.tenantProductInsureVO)==null?void 0:y.questionList)&&((S=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:S.questionList.length)>0}),b=F(()=>{let d=[...g.value];return p.value||(d=d.filter(y=>y.slotName!=="tab1")),!c.value&&!o.value&&(d=d.filter(y=>y.slotName!=="tab2")),d});return I({handleClickTab:()=>{var d;return(d=r.value)==null?void 0:d.handleClickTab}}),(d,y)=>(a(),Y(ht,{ref_key:"scrollRef",ref:r,class:"tabs",list:e(b),sticky:"",scrollspy:""},dt({tab3:$(()=>[Ze(d.$slots,"form",{},void 0,!0)]),_:2},[e(p)?{name:"tab1",fn:$(()=>{var T,S;return[s("div",_n,[(a(!0),l(q,null,W(((S=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:S.spec)||[],(H,j)=>(a(),l("img",{key:j,src:H,class:"detail-img"},null,8,hn))),128)),h(ge)])]})}:void 0,e(c)||e(o)?{name:"tab2",fn:$(()=>{var T,S,H,j,v;return[e(c)?(a(),l(q,{key:0},[((S=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:S.settlementProcessVO.settlementProcessType)===e(Ie).WORD?(a(),Y(Ue,{key:0,title:"\u7406\u8D54\u6D41\u7A0B"},{default:$(()=>{var w,U,C;return[h(St,{list:(C=(U=(w=n.detail)==null?void 0:w.tenantProductInsureVO)==null?void 0:U.settlementProcessVO)==null?void 0:C.settlementProcessList},null,8,["list"])]}),_:1})):(a(),l("div",In,[(a(!0),l(q,null,W(((v=(j=(H=n.detail)==null?void 0:H.tenantProductInsureVO)==null?void 0:j.settlementProcessVO)==null?void 0:v.settlementProcessPicList)||[],(w,U)=>(a(),l("img",{key:U,src:w,class:"detail-img"},null,8,Cn))),128))])),h(ge)],64)):M("",!0),e(o)?(a(),l(q,{key:1},[h(Ue,{title:"\u5E38\u89C1\u95EE\u9898"},{default:$(()=>{var w,U;return[h(yn,{list:(U=(w=n.detail)==null?void 0:w.tenantProductInsureVO)==null?void 0:U.questionList},null,8,["list"])]}),_:1}),h(ge)],64)):M("",!0)]})}:void 0]),1032,["list"]))}});var Pn=ee(Dn,[["__scopeId","data-v-4383aeea"]]);const Tn=u=>(_e("data-v-ead4d7ae"),u=u(),he(),u),kn={key:0,class:"page-waiting"},wn=["src"],Nn=Tn(()=>s("div",{class:"tips"},[s("p",null,"\u652F\u4ED8\u6210\u529F\uFF0C\u627F\u4FDD\u4E2D...")],-1)),An=J({props:{isShow:{type:Boolean,default:()=>{}}},setup(u){const I=u;return G(()=>I.isShow,n=>{n?document.body.style.overflow="hidden":document.body.style.overflow="inherit"}),(n,r)=>I.isShow?(a(),l("div",kn,[s("img",{class:"loading",src:e(Ft)},null,8,wn),Nn])):M("",!0)}});var On=ee(An,[["__scopeId","data-v-ead4d7ae"]]);const Sn={key:0,class:"item"},Fn={key:1,class:"attachment-list"},Vn=["onClick"],bn={class:"attachment-list-item-name"},Ln={class:"attachment-list-item-icon"},En={class:"footer"},xn=J({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"\u540C\u610F\uFF0C\u4E0B\u4E00\u6761"},forceReadCound:{type:Number,default:0},isOnlyView:{type:Boolean,default:!1}},emits:["update:show","submit","onCloseFilePreview"],setup(u,{emit:I}){const n=u,r=Qe(),g=D(n.show),p=D(n.contentList.map((v,w)=>({...v,disabled:!0,readDisabled:!0}))),c=D(n.activeIndex),o=D(0),b=D(null),P=F(()=>{var v,w;return(w=(v=p.value)==null?void 0:v[c.value])==null?void 0:w.attachmentList}),d=F(()=>{var v;return(v=p.value[c.value])==null?void 0:v.readDisabled}),y=F(()=>c.value>=n.forceReadCound-1||o.value>=n.forceReadCound?!1:o.value<n.forceReadCound?c.value!==n.forceReadCound-1:!1),T=v=>{const w={fileType:v.attachmentType,fileUri:v.attachmentUri};ke(w)},S=()=>{c.value+=1},H=()=>{if(n.isOnlyView){I("update:show",!1);return}I("update:show",!1),I("submit")};G(()=>n,()=>{g.value=n.show,c.value=n.activeIndex},{deep:!0,immediate:!0});const j=v=>{v&&Math.floor(v.target.scrollHeight-v.target.scrollTop)===v.target.clientHeight&&p.value[c.value].readDisabled&&(p.value[c.value].disabled=!1,p.value[c.value].readDisabled=!1,p.value[c.value+1].disabled=!1,o.value+=1)};return G(()=>c.value,()=>{n.show&&(o.value>=n.forceReadCound&&p.value.forEach(v=>{v.disabled=!1,v.readDisabled=!1}),b.value&&(b.value.scrollTop=0))},{immediate:!0}),(v,w)=>{const U=B("ProTab"),C=B("ProFilePreview"),_=B("ProSvg"),t=B("van-config-provider"),i=B("ProPopup");return a(),Y(i,{show:g.value,"onUpdate:show":w[1]||(w[1]=f=>g.value=f),class:"file-preview-popup-wrap",closeable:!1,onClose:w[2]||(w[2]=f=>I("onCloseFilePreview"))},{default:$(()=>[h(t,{"theme-vars":e(r),class:"custom-provider"},{default:$(()=>[g.value?(a(),Y(U,{key:0,active:c.value,"onUpdate:active":w[0]||(w[0]=f=>c.value=f),list:p.value.map((f,L)=>({title:f.attachmentName,disabled:L==c.value?!1:f.disabled||!1,slotName:`guarantee-${L}`})),class:"tab"},null,8,["active","list"])):M("",!0),s("div",{ref_key:"previewRef",ref:b,class:"list",onScroll:j},[e(P).length===1?(a(),l("div",Sn,[(a(),Y(C,{key:e(P)[0].attachmentName,content:e(P)[0].attachmentUri,type:e(P)[0].attachmentType,"forbid-click":!0},null,8,["content","type"]))])):(a(),l("div",Fn,[(a(!0),l(q,null,W(e(P),(f,L)=>(a(),l("div",{key:L,class:"attachment-list-item",onClick:Q=>T(f)},[s("div",bn,V(f.attachmentName),1),s("div",Ln,[h(_,{name:"arrow-right"})])],8,Vn))),128))]))],544),s("div",En,[e(y)?(a(),Y(ve,{key:0,shadow:!1,"theme-vars":e(r),disabled:e(d),class:"right",text:`${u.beforeReadOverText}(${c.value+1}/${u.forceReadCound})`,onClick:S},null,8,["theme-vars","disabled","text"])):(a(),Y(ve,{key:1,disabled:e(d),shadow:!1,"theme-vars":e(r),text:n.text,onClick:H},null,8,["disabled","theme-vars","text"]))])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const Bn={class:"list"},$n={class:"item"},Rn={class:"footer"},Mn=ie("\u90E8\u5206\u4E3A\u662F"),Un=ie("\u5168\u90E8\u4E3A\u5426"),qn=J({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(u,{emit:I}){const n=u,r=D(n.show),g=D(n.activeIndex),p=F(()=>{var P;return(P=n.contentList[g.value])==null?void 0:P.attachmentUri}),c=D(!0),o=P=>{c.value=!1,I("update:show",!1),I("onConfirmHealth",P)},b=()=>{c.value&&I("onCloseHealth")};return G(()=>n,()=>{r.value=n.show,g.value=n.activeIndex},{deep:!0,immediate:!0}),(P,d)=>{const y=B("ProTab"),T=B("ProFilePreview"),S=B("VanButton"),H=B("van-config-provider"),j=B("ProPopup");return a(),Y(j,{show:r.value,"onUpdate:show":d[3]||(d[3]=v=>r.value=v),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:d[4]||(d[4]=v=>b())},{default:$(()=>[h(H,{"theme-vars":e(we),class:"custom-provider"},{default:$(()=>[r.value?(a(),Y(y,{key:0,active:g.value,"onUpdate:active":d[0]||(d[0]=v=>g.value=v),list:u.contentList.map((v,w)=>({title:v.attachmentName,slotName:`guarantee-${w}`})),class:"tab"},null,8,["active","list"])):M("",!0),s("div",Bn,[s("div",$n,[(a(),Y(T,{key:e(p),content:e(p),type:"pdf"},null,8,["content"]))])]),s("div",Rn,[h(S,{type:"primary",block:"",round:"",onClick:d[1]||(d[1]=v=>o("N"))},{default:$(()=>[Mn]),_:1}),h(S,{type:"primary",plain:"",block:"",round:"",onClick:d[2]||(d[2]=v=>o("allFalse"))},{default:$(()=>[Un]),_:1})])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const Ne=u=>(_e("data-v-04787668"),u=u(),he(),u),Zn={class:"com-period-cell"},Yn={key:0,class:"custom-cell check-btn-cell"},Hn=Ne(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u671F\u95F4",-1)),Qn={class:"cell-content"},jn=Ne(()=>s("div",{class:"cell-label"},"\u751F\u6548\u65E5\u671F",-1)),Gn={class:"cell-content"},Kn={key:2,class:"custom-cell common-cell"},Wn=Ne(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u671F\u9650",-1)),Jn={class:"cell-content"},Xn=J({props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(u,{expose:I,emit:n}){const r=u;D({});const g=(C,_)=>C==="year"?`${_}\u5E74`:C==="month"?`${_}\u6708`:C==="day"?`${_}\u65E5`:_,p=D(new Date),c=Vt("RISK_INSURANCE_PERIOD"),o=ye({formInfo:r.formInfo});G(()=>o.formInfo.insuranceStartDate,C=>{C&&typeof C=="string"&&(p.value=new Date(C))});const b=D(),P=D([]);G([()=>r.insureDetail,()=>o.formInfo.activePlanCode],()=>{var C;if(console.log("===========================planChange=================="),o.formInfo.insurancePeriodValue="",o.formInfo.insuranceStartDate="",o.formInfo.insuranceEndDate="",o.formInfo.commencementTime="",r.insureDetail)if(r.insureDetail.productRelationPlanVOList&&r.insureDetail.productRelationPlanVOList.length>0){let _=0;const t=r.insureDetail.productRelationPlanVOList.findIndex(L=>L.planCode===o.formInfo.activePlanCode);t>-1&&(_=t);const f=(((C=r.insureDetail.productRelationPlanVOList[_])==null?void 0:C.productRiskVoList[0].riskDetailVOList)||[]).find(L=>L.riskType===1);f&&(b.value=f)}else{const t=(r.insureDetail.productRiskVoList[0].riskDetailVOList||[]).find(i=>i.riskType===1);t&&(b.value=t)}},{deep:!0,immediate:!0}),G([()=>b.value,()=>c.value],()=>{P.value=[],Array.isArray(c.value)&&c.value.length>1&&b.value&&(P.value=(b.value.riskInsureLimitVO.insurancePeriodValueList||[]).map(C=>{const _=c.value.find(t=>t.value===C);return _?{label:_.name,value:_.value}:null}).filter(C=>!!C)),P.value.length>0&&(o.formInfo.insurancePeriodValue=P.value[0].value)},{deep:!0,immediate:!0});const d=F(()=>{var C,_;return(C=b.value)!=null&&C.riskInsureLimitVO.guaranteeStartDate?String((_=b.value)==null?void 0:_.riskInsureLimitVO.guaranteeStartDate):ce.CURRENT_DAY}),[y,T]=Te(!1),S=()=>{T(!0)},H=new Date(de(new Date,1,"day")),j=F(()=>{var C;if(d.value===ce.CUSTOM_DAY){const _=(C=b.value)==null?void 0:C.riskInsureLimitVO.maxInsuranceDay;if(!_)return new Date;const t=de(new Date,Number(_),"day");return new Date(t)}return new Date}),v=C=>{o.formInfo.insuranceStartDate=`${pe(C)} 00:00:00`,T(!1)},w=()=>{T(!1)},U=F(()=>{});return G([()=>d.value,()=>U.value,()=>o.formInfo.insurancePeriodValue,()=>o.formInfo.insuranceStartDate],()=>{if(!o.formInfo.insurancePeriodValue)return;console.log("================cellperiod================"),console.log("state.formInfo.insurancePeriodValue",o.formInfo.insurancePeriodValue),console.log("riskGuaranteeStartDateType",d.value);const[C,_]=o.formInfo.insurancePeriodValue.split("_");if(o.formInfo.insuranceStartDate||(d.value===ce.CUSTOM_DAY?o.formInfo.insuranceStartDate=`${de(new Date,1,"day")} 00:00:00`:d.value===ce.NEXT_DAY?o.formInfo.insuranceStartDate=`${de(new Date,1,"day")} 00:00:00`:o.formInfo.insuranceStartDate=`${pe(new Date)} 00:00:00`),C!=="to"){const t=`${qt(o.formInfo.insuranceStartDate,1,"day")} 00:00:00`;o.formInfo.insuranceEndDate=`${de(t,Number(_),C)} 23:59:59`}else o.formInfo.tenantOrderInsuredList[0].birthday,o.formInfo.tenantOrderInsuredList[0].certType===Ce.CERT&&o.formInfo.tenantOrderInsuredList[0].certNo&&He(o.formInfo.tenantOrderInsuredList[0].certNo)&&It(o.formInfo.tenantOrderInsuredList[0].certNo),_==="single"&&(o.formInfo.insuranceEndDate="9999-99-99 23:59:59"),o.formInfo.insuranceEndDate=`${de(o.formInfo.insuranceStartDate,Number(_)-1,C)} 23:59:59`},{immediate:!0}),I({}),(C,_)=>{const t=B("ProRadioButton"),i=B("van-config-provider"),f=B("van-datetime-picker"),L=B("ProPopup");return a(),l(q,null,[h(i,{"theme-vars":e(we)},{default:$(()=>[s("div",Zn,[P.value.length>1?(a(),l("div",Yn,[Hn,s("div",Qn,[h(t,{modelValue:e(o).formInfo.insurancePeriodValue,"onUpdate:modelValue":_[0]||(_[0]=Q=>e(o).formInfo.insurancePeriodValue=Q),options:P.value},null,8,["modelValue","options"])])])):M("",!0),e(d)===e(ce).CUSTOM_DAY?(a(),l("div",{key:1,class:"custom-cell common-cell",onClick:S},[jn,s("div",Gn,V(e(o).formInfo.insuranceStartDate),1)])):M("",!0),e(d)!==e(ce).CUSTOM_DAY?(a(),l("div",Kn,[Wn,s("div",Jn,V(e(pe)(e(o).formInfo.insuranceStartDate))+" - "+V(e(pe)(e(o).formInfo.insuranceEndDate)),1)])):M("",!0)])]),_:1},8,["theme-vars"]),h(L,{show:e(y),"onUpdate:show":_[2]||(_[2]=Q=>mt(y)?y.value=Q:null),height:40,closeable:!1},{default:$(()=>[h(f,{modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=Q=>p.value=Q),type:"date",title:"\u9009\u62E9\u5E74\u6708","min-date":e(H),"max-date":e(j),formatter:g,onConfirm:v,onCancel:w},null,8,["modelValue","min-date","max-date"])]),_:1},8,["show"])],64)}}});var zn=ee(Xn,[["__scopeId","data-v-04787668"]]);const me=u=>(_e("data-v-59c01cba"),u=u(),he(),u),ea={class:"com-payment-type"},ta={class:"title"},na={key:0,class:"picture-payment-content"},aa=["onClick"],ra=["src"],sa=["src"],ia={key:1,class:"custom-cell check-btn-cell"},oa=me(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u65B9\u6848",-1)),la={class:"cell-content"},ua={key:0,class:"picture-payment-content"},ca=["onClick"],da=["src"],ma=["src"],pa={key:1,class:"default-payment-content"},ga=me(()=>s("div",{class:"pay-method"},[s("span",{class:"method"},V("\u6309\u6708\u4EA4\u8D39")),s("span",{class:"acount"},V("\u517112\u671F"))],-1)),fa=[ga],va=me(()=>s("div",null,[s("div",{class:"tip"},[s("span",null,V("\u6BD4\u6309\u6708\u652F\u4ED8\u6700\u9AD8\u7701")),ie(),s("span",null,"16%")]),s("div",{class:"triangle"}),s("div",{class:"pay-method"},[s("span",{class:"method"},V("\u4E00\u6B21\u4EA4\u6E05")),s("span",{class:"acount"},V("\u6BD4\u6708\u4EA4\u4FDD\u8D39\u7701\u6700\u9AD82014\u5143"))])],-1)),ya=[va],_a={key:2,class:"custom-cell check-btn-cell"},ha=me(()=>s("div",{class:"cell-label"},"\u4EA4\u8D39\u65B9\u5F0F",-1)),Ia={class:"cell-content"},Ca={class:"custom-cell common-cell"},Da=me(()=>s("div",{class:"cell-label"},"\u5B9E\u4ED8\u4FDD\u8D39",-1)),Pa={class:"cell-content actual-premium"},Ta={key:0,class:"feerate-explain"},ka={class:"content"},wa=me(()=>s("div",{class:"triangle-top"},null,-1)),Na=J({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}},configDetail:{type:Object,default:()=>{}},isMultiplePlan:{type:Boolean,default:!1},premium:{type:[Number||null],default:null}},emits:["onReset","onUpdate","onVerify"],setup(u,{expose:I,emit:n}){const r=u;D({});const g=ye({formInfo:r.formInfo}),p=D([]),c=D(),o=D(),b=F(()=>{var t;return String((t=c.value)==null?void 0:t.paymentFrequencyFlag)==="1"}),P=F(()=>{var t;return(t=o.value)==null?void 0:t.productPremiumVOList.find(i=>i.paymentFrequency===g.formInfo.paymentFrequency)}),d=F(()=>r.premium&&P.value?`${r.premium}${P.value.premiumUnit||""}`:P.value?`${P.value.paymentFrequencyValue||""}${P.value.premiumUnit||""}`:""),y=F(()=>{if(o){const{premiumExplain:t,premiumExplainViewName:i,premiumExplainUri:f}=o.value||{};return{premiumExplain:t,premiumExplainUri:f,premiumExplainViewName:i}}return null});G(()=>r.configDetail,()=>{var t;r.isMultiplePlan&&r.configDetail&&(p.value=(t=r.configDetail.tenantProductInsureVO)==null?void 0:t.planList)},{immediate:!0,deep:!0}),G([()=>r.configDetail,()=>r.isMultiplePlan,()=>g.formInfo.activePlanCode],()=>{if(r.configDetail)if(r.isMultiplePlan){let t=0;const i=r.configDetail.tenantProductInsureVO.planList.findIndex(f=>f.planCode===g.formInfo.activePlanCode);i>-1&&(t=i),c.value=r.configDetail.tenantProductInsureVO.planList[t].productPlanInsureConditionVO,o.value=r.configDetail.tenantProductInsureVO.planList[t]}else c.value=r.configDetail.tenantProductInsureVO.planInsureVO.productPlanInsureConditionVO,o.value=r.configDetail.tenantProductInsureVO.planInsureVO},{deep:!0,immediate:!0});const T=F(()=>{var t;return c.value&&c.value.paymentFrequency?(((t=c.value.paymentFrequency)==null?void 0:t.split(","))||[]).length>1:!1}),S=D(!1);G(()=>c.value,()=>{var t;if(c.value){const i=((t=c.value.paymentFrequency)==null?void 0:t.split(","))||[];if(i.length===1){g.formInfo.paymentFrequency=c.value.paymentFrequency,S.value=!1;return}if(i.length===2&&i.filter(f=>![se.SINGLE,se.MONTH].includes(f)).length<1){S.value=!0;return}S.value=!1}},{immediate:!0,deep:!0});const H=F(()=>{var t;return c.value?(t=c.value.paymentFrequencyList||[])==null?void 0:t.map(i=>({...i,paymentFrequency:i.skinValue})):[]}),j=F(()=>H.value.length>0),v=F(()=>r.isMultiplePlan?r.configDetail.tenantProductInsureVO.planList.map(t=>t.planPicList?{...t.planPicList,planCode:t.planCode,planName:t.planName}:null).filter(t=>!!t):[]),w=F(()=>{var t,i;if(c.value){const f=((t=c.value.paymentFrequency)==null?void 0:t.split(","))||[];return f.length===1&&(console.log("paymentFrequencyList======",f),g.formInfo.paymentFrequency=f[0]),(i=f||[])==null?void 0:i.map(L=>({label:Dt[L],value:L}))}return[]}),U=t=>{console.log("type",t),g.formInfo.paymentFrequency=t},C=t=>{g.formInfo.activePlanCode=t},_=()=>{var t,i;if(!((t=y.value)!=null&&t.premiumExplainUri)){pt("\u65E0\u8D39\u7387\u6587\u4EF6\uFF01");return}ke({fileType:"pdf",fileUri:(i=y.value)==null?void 0:i.premiumExplainUri})};return I({}),(t,i)=>{const f=B("ProRadioButton"),L=B("templat"),Q=B("ProDivider"),X=B("van-config-provider");return a(),Y(X,{"theme-vars":e(we)},{default:$(()=>[s("div",ea,[s("div",ta,V(e(T)?"\u4EA4\u8D39\u65B9\u5F0F":"\u4FDD\u969C\u8BA1\u5212"),1),u.isMultiplePlan?(a(),l(q,{key:0},[e(v).length>0?(a(),l("div",na,[(a(!0),l(q,null,W(e(v),E=>(a(),l("div",{key:E.planCode,class:ne("picture-payment-item"),onClick:A=>C(E.planCode)},[e(g).formInfo.activePlanCode==E.planCode?(a(),l("img",{key:0,src:E.selectedPic},null,8,ra)):(a(),l("img",{key:1,src:E.unSelectedPic},null,8,sa))],8,aa))),128))])):(a(),l("div",ia,[oa,s("div",la,[h(f,{modelValue:e(g).formInfo.activePlanCode,"onUpdate:modelValue":i[0]||(i[0]=E=>e(g).formInfo.activePlanCode=E),options:p.value,prop:{value:"planCode",label:"planName"}},null,8,["modelValue","options"])])]))],64)):M("",!0),e(b)?(a(),Y(L,{key:1},{default:$(()=>[e(j)?(a(),l("div",ua,[(a(!0),l(q,null,W(e(H),E=>(a(),l("div",{key:E.paymentFrequency,class:ne("picture-payment-item"),onClick:A=>U(E.paymentFrequency)},[e(g).formInfo.paymentFrequency==E.paymentFrequency?(a(),l("img",{key:0,src:E.selectedPic},null,8,da)):(a(),l("img",{key:1,src:E.unSelectedPic},null,8,ma))],8,ca))),128))])):S.value?(a(),l("div",pa,[s("div",{class:ne(`com-payment-type-item ${e(g).formInfo.paymentFrequency==e(se).MONTH?"active":""}`),onClick:i[1]||(i[1]=E=>U(e(se).MONTH))},fa,2),s("div",{class:ne(`com-payment-type-item ${e(g).formInfo.paymentFrequency==e(se).SINGLE?"active":""}`),onClick:i[2]||(i[2]=E=>U(e(se).SINGLE))},ya,2)])):e(w).length>1?(a(),l("div",_a,[ha,s("div",Ia,[h(f,{modelValue:e(g).formInfo.paymentFrequency,"onUpdate:modelValue":i[3]||(i[3]=E=>e(g).formInfo.paymentFrequency=E),options:e(w)},null,8,["modelValue","options"])])])):M("",!0)]),_:1})):M("",!0),h(zn,{"form-info":e(g).formInfo,"insure-detail":u.insureDetail,"config-detail":u.configDetail},null,8,["form-info","insure-detail","config-detail"]),e(P)&&e(P).premiumUnit?(a(),l(q,{key:2},[s("div",Ca,[Da,s("div",Pa,V(e(d)),1)]),e(y)&&e(y).premiumExplain&&e(y).premiumExplainViewName?(a(),l("div",Ta,[s("div",ka,[wa,s("div",null,[s("span",null,V(e(y).premiumExplain||""),1),s("span",{class:"file-name",onClick:_},"\u300A"+V(e(y).premiumExplainViewName||"")+"\u300B",1)])])])):M("",!0)],64)):M("",!0)]),h(Q)]),_:1},8,["theme-vars"])}}});var Aa=ee(Na,[["__scopeId","data-v-59c01cba"]]);const Oa={class:"inscribedContent-content"},Sa={class:"content"},Fa=J({props:{inscribedContent:{type:String,default:""}},setup(u){const I=u,n=D();return G(()=>I.inscribedContent,r=>{r?n.value=r.replaceAll(`
`,"<br />"):n.value=""},{immediate:!0,deep:!0}),(r,g)=>{const p=qe("dompurify-html");return a(),l("div",Oa,[De(s("div",Sa,null,512),[[p,n.value]])])}}});var Va=ee(Fa,[["__scopeId","data-v-702b2de2"]]);const ba={class:"com-attachment-list"},La=["onClick"],Ea=J({props:{preText:{type:String,default:""},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup(u,{emit:I}){const n=r=>{I("preview-file",r)};return(r,g)=>(a(),l("div",ba,[s("span",null,V(u.preText),1),(a(!0),l(q,null,W(u.attachementList||[],(p,c)=>(a(),l("span",{key:c,class:"attachment-item",onClick:o=>n(c)}," \u300A"+V(p.attachmentName)+"\u300B ",9,La))),128))]))}});var xa=ee(Ea,[["__scopeId","data-v-17da129e"]]);const Ba={class:"page-internet-product-detail"},$a={class:"info"},Ra={class:"footer-area"},Ma={class:"price"},Ua=ie(" \u603B\u4FDD\u8D39"),qa=ie(V("\u7ACB\u5373\u6295\u4FDD")),Za=J({setup(u){var Ve,be;const I=Qe();gt();const n=ft(),{openId:r,productCode:g="BWYL2021",tenantId:p,orderNo:c,phoneNo:o,agentCode:b="",saleChannelId:P,paymentMethod:d,certNo:y,name:T,templateId:S,pageCode:H,from:j,extraInfo:v,insurerCode:w}=n.query;let U={};try{U=JSON.parse(decodeURIComponent(v))}catch{}const C=D({certNo:y,openId:r,tenantId:p,mobile:o}),_=D(),t=D(),i=D(),f=D(),L=D(),Q=D(!1),X=D(!1),E=D(!1),A=D(0),z=D(!1);D(!1);let fe="";const Ae=D(!0),oe=ye({holder:{certNo:y,certType:Ce.CERT,mobile:o,name:T,socialFlag:xe.HAS},insured:{certNo:y,certType:Ce.CERT,name:T,socialFlag:xe.HAS,relationToHolder:Be.SELF},paymentMethod:d,renewalDK:"Y",packageProductList:[],mobileSmsCode:"",activePlanCode:"",paymentFrequency:se.MONTH,insurancePeriodValue:"",commencementTime:pe(new Date)}),R=D({tenantId:p,agencyId:b,orderCategory:1,saleUserId:P,saleChannelId:P,venderCode:w,insuranceStartDate:null,insuranceEndDate:null,activePlanCode:"",paymentFrequency:se.MONTH,insurancePeriodValue:"",commencementTime:"",tenantOrderHolder:{extInfo:{},socialFlag:"1"},tenantOrderInsuredList:[{socialFlag:"1",relationToHolder:Be.SELF,extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{tenantId:p,productCode:(Ve=i.value)==null?void 0:Ve.productCode,productName:(be=i.value)==null?void 0:be.productName,premium:L.value||0}]}],extInfo:{buttonCode:"EVENT_SHORT_saveOrder",successJumpUrl:"",pageCode:"productInfo",...U},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),ae=F(()=>{var m,N,O,k,x,Z;return i.value?!!(((N=(m=i.value)==null?void 0:m.tenantProductInsureVO)==null?void 0:N.planList)&&Array.isArray((k=(O=i.value)==null?void 0:O.tenantProductInsureVO)==null?void 0:k.planList)&&((Z=(x=i.value)==null?void 0:x.tenantProductInsureVO)==null?void 0:Z.planList.length)>0):!1}),je=F(()=>{var m,N,O;if(ae.value){if(R.value.activePlanCode)return((m=f.value)==null?void 0:m.planFactor[R.value.activePlanCode])||{}}else if((N=f.value)!=null&&N.productFactor)return(O=f.value)==null?void 0:O.productFactor;return{}});G(()=>ae.value,()=>{var m,N;ae.value&&(R.value.activePlanCode=(N=(m=i.value)==null?void 0:m.tenantProductInsureVO)==null?void 0:N.planList[0].planCode)},{immediate:!0});const Oe=F(()=>{var m,N,O;return ae.value?((N=(m=f.value)==null?void 0:m.productRelationPlanVOList.find(k=>k.planCode===R.value.activePlanCode))==null?void 0:N.productRiskVoList)||[]:((O=f.value)==null?void 0:O.productRiskVoList)||[]}),Ge=m=>{R.value.activePlanCode=m},Ke=F(()=>[]),le=D();G([()=>ae.value,()=>R.value.activePlanCode,()=>i.value],()=>{var O,k;let m={};if(console.log("isMultiplePlan",ae.value),ae.value){const x=(O=i.value)==null?void 0:O.tenantProductInsureVO.planList.find(Z=>Z.planCode===(R.value.activePlanCode||""));x&&(m=x==null?void 0:x.attachmentVOList)}else console.log("detail.value?.tenantProductInsureVO.planInsureVO",i.value),m=(k=i.value)==null?void 0:k.tenantProductInsureVO.planInsureVO.attachmentVOList;if(!m){le.value=[];return}const N={2:"richText",3:"link"};le.value=Object.keys(m).map(x=>(m[x].forEach(Z=>{if(Z.attachmentType==="1"){const K=Z.attachmentUri.split("?"),te=K[0].substr(K[0].lastIndexOf(".")+1);console.log("type",te),te==="pdf"?Z.attachmentType="pdf":Z.attachmentType="picture"}else Z.attachmentType=N[Z.attachmentType]}),{attachmentName:x,attachmentList:m[x]}))},{immediate:!0});const We=()=>{console.log("detailScrollRef.value",t.value),t.value.handleClickTab()("tab3")},Je=()=>{const{holder:{certNo:m,mobile:N,name:O,socialFlag:k},insured:{certNo:x,name:Z,socialFlag:K,relationToHolder:te},paymentMethod:ue}=oe;return!!(He(x)&&!!K)},Xe=(m={},N={},O={})=>{var Z,K;const k={...O};console.log("currentOrderDetail==========",(Z=k.tenantOrderInsuredList[0])==null?void 0:Z.tenantOrderProductList[0].riskVOList);const x={tenantId:p,riskList:((K=k.tenantOrderInsuredList[0])==null?void 0:K.tenantOrderProductList[0].riskVOList)||[],riskPremium:N,productId:m==null?void 0:m.productBasicInfoVO.id};return k.extInfo.iseeBizNo=fe,k.commencementTime=k.insuranceStartDate,k.expiryDate=k.insuranceEndDate,k.tenantOrderInsuredList=k.tenantOrderInsuredList.map(te=>({...te,planCode:R.value.activePlanCode?R.value.activePlanCode:null})),k.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:m.productBasicInfoVO.productCode,productName:m.productBasicInfoVO.productName,planCode:R.value.activePlanCode?R.value.activePlanCode:null,tenantOrderRiskList:Ot(x)},k},ze=async m=>{const{code:N,data:O}=await wt({orderNo:m,tenantId:p});if(N==="10000"){O.extInfo={...O.extInfo,buttonCode:"EVENT_SHORT_underWrite"};const{code:k,data:x}=await $e(O);k==="10000"&&console.log("res=====",x),Object.assign(R.value,O)}},et=async m=>{var k,x,Z,K;const{code:N,data:O}=await $e(Xe(f.value,{},R.value));console.log("data",O),(x=(k=O.pageAction)==null?void 0:k.data)!=null&&x.orderNo&&(console.log("23233322332"),await ze((K=(Z=O.pageAction)==null?void 0:Z.data)==null?void 0:K.orderNo))},tt=async()=>{},nt=m=>{A.value=m,E.value=!0},at=async(m,N,O)=>{var te,ue;const k=At(O).map(re=>({...re,paymentFrequency:m.paymentFrequency,insurancePeriodValue:m.insurancePeriodValue}));console.log("orderDetail.value.activePlanCode",R.value.activePlanCode);const x={tenantId:p,productCode:(te=i.value)==null?void 0:te.productCode,insuranceStartDate:m.insuranceStartDate,insuranceEndDate:m.insuranceEndDate,commencementTime:m.insuranceStartDate,expiryDate:m.insuranceEndDate,holder:{personVO:m.tenantOrderHolder},insuredVOList:m.tenantOrderInsuredList.map(re=>({insuredCode:"",relationToHolder:re.relationToHolder,personVO:re,productPlanVOList:[{insurerCode:N.productBasicInfoVO.insurerCode,planCode:R.value.activePlanCode?R.value.activePlanCode:null,riskVOList:k}]}))},{code:Z,data:K}=await kt(x);R.value.tenantOrderInsuredList[0].tenantOrderProductList=(ue=x.insuredVOList[0])==null?void 0:ue.productPlanVOList,R.value.orderAmount=K.premium,R.value.orderRealAmount=K.premium},Se=async()=>{try{console.log("currentRiskInfo.value",Oe.value),await at(R.value,f.value,Oe.value),et({})}catch{}},rt=m=>{m==="allFalse"?(X.value=!1,Q.value=!0,Se()):yt.confirm({message:"\u60A8\u5F53\u524D\u7684\u5065\u5EB7\u72B6\u51B5\u4E0D\u7B26\u5408\u8BE5\u4EA7\u54C1",confirmButtonText:"\u786E\u5B9A"}).then(()=>{window.history.back()}).catch(()=>{var N;(N=_.value)==null||N.reEditForm(),Q.value=!1})},Fe=()=>{var m;(m=_.value)==null||m.reEditForm(),Q.value=!1},st=()=>{X.value=!1,Fe()},it=()=>{E.value=!1,Fe()},ot=()=>{E.value=!1,X.value=!0};G([()=>oe.insured.certNo,()=>oe.insured.socialFlag,()=>oe.packageProductList,()=>oe.paymentFrequency],_t(()=>{oe.insured.certNo&&oe.insured.socialFlag&&Je()&&tt()},500),{deep:!0,immediate:!0});const lt=async()=>{const m=Nt({productCode:g,withInsureInfo:!0,tenantId:p}),N=Tt({productCode:g});await Promise.all([m,N]).then(([O,k])=>{var x;O.code==="10000"&&(i.value={...O.data},document.title=((x=O.data)==null?void 0:x.productFullName)||""),k.code==="10000"&&(f.value=k.data)})};return vt(()=>{lt(),setTimeout(async()=>{fe=window.getIseeBiz&&await window.getIseeBiz()},1500)}),(m,N)=>{const O=B("van-config-provider");return a(),l(q,null,[h(O,{"theme-vars":e(I)},{default:$(()=>{var k,x,Z,K,te,ue,re,Le,Ee;return[s("div",Ba,[s("div",$a,[h(Re,{url:(x=(k=i.value)==null?void 0:k.tenantProductInsureVO)==null?void 0:x.banner[0]},null,8,["url"]),(K=(Z=i.value)==null?void 0:Z.tenantProductInsureVO)!=null&&K.bannerMove?(a(),Y(Re,{key:0,url:(ue=(te=i.value)==null?void 0:te.tenantProductInsureVO)==null?void 0:ue.bannerMove[0],onClick:We},null,8,["url"])):M("",!0)]),h(on,{"show-service-config":"","data-source":(re=i.value)==null?void 0:re.tenantProductInsureVO,"is-multiple-plan":e(ae),"active-plan-code":R.value.activePlanCode,onUpdateActivePlan:Ge},null,8,["data-source","is-multiple-plan","active-plan-code"]),h(Pn,{ref_key:"detailScrollRef",ref:t,detail:i.value},{form:$(()=>[h(bt,{ref_key:"formRef",ref:_,"title-collection":{HOLDER:"\u672C\u4EBA\u4FE1\u606F\uFF08\u6295\u4FDD\u4EBA\uFF09",INSURER:"\u4E3A\u8C01\u6295\u4FDD\uFF08\u88AB\u4FDD\u4EBA\uFF09"},"form-info":R.value,"send-sms-code":()=>{},"factor-object":e(je)||{}},{holderName:$(()=>[h(Me,{"user-info":C.value},null,8,["user-info"])]),insurerName:$(()=>[h(Me,{title:"\u9009\u62E9\u88AB\u4FDD\u4EBA","user-info":C.value},null,8,["user-info"])]),_:1},8,["form-info","send-sms-code","factor-object"]),h(Aa,{"form-info":R.value,"insure-detail":f.value,"config-detail":i.value,"is-multiple-plan":e(ae),"risk-info-period-list":m.riskInfoPeriodList,premium:L.value},null,8,["form-info","insure-detail","config-detail","is-multiple-plan","risk-info-period-list","premium"])]),_:1},8,["detail"]),(Le=i.value)!=null&&Le.tenantProductInsureVO.inscribedContent?(a(),Y(Va,{key:0,"inscribed-content":(Ee=i.value)==null?void 0:Ee.tenantProductInsureVO.inscribedContent},null,8,["inscribed-content"])):M("",!0),le.value&&le.value.length>1?(a(),Y(xa,{key:1,"attachement-list":le.value,"pre-text":"\u8BF7\u9605\u8BFB",onPreviewFile:N[0]||(N[0]=ut=>nt(ut))},null,8,["attachement-list"])):M("",!0),s("div",Ra,[s("div",Ma,[Ua,s("span",null,V(L.value?"\uFFE5":"")+V(e(Ct)(L.value))+" "+V(L.value?R.value.paymentFrequency==e(Pt).YEAR?"\u5143/\u5E74":"\u5143/\u6708":""),1)]),h(ve,{shadow:!1,"theme-vars":e(I),class:"right",text:"\u7ACB\u5373\u6295\u4FDD",onClick:Se},{default:$(()=>[qa]),_:1},8,["theme-vars"])])])]}),_:1},8,["theme-vars"]),h(qn,{show:X.value,"onUpdate:show":N[1]||(N[1]=k=>X.value=k),"content-list":e(Ke),"active-index":0,onOnConfirmHealth:rt,onOnCloseHealth:st},null,8,["show","content-list"]),E.value?(a(),Y(xn,{key:0,show:E.value,"onUpdate:show":N[2]||(N[2]=k=>E.value=k),"content-list":le.value,"is-only-view":Ae.value,"active-index":A.value,text:Ae.value?"\u5173\u95ED":"\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u544A\u77E5\u5185\u5BB9","force-read-cound":0,"on-close-file-preview":"",onSubmit:ot,onOnCloseFilePreview:it},null,8,["show","content-list","is-only-view","active-index","text"])):M("",!0),h(On,{"is-show":z.value},null,8,["is-show"])],64)}}});var lr=ee(Za,[["__scopeId","data-v-9af343fc"]]);export{lr as default};
