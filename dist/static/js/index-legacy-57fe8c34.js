!function(){var e=document.createElement("style");e.innerHTML=".flex-form .flex-field[data-v-946720fa]{display:flex;flex-direction:column}.gap[data-v-946720fa]{display:inline-block;width:1.33333rem;height:.42667rem;text-align:center;line-height:.42667rem;background-color:#e9e7e7;border:1px solid rgb(205,205,205)}.trail-personal-info[data-v-a2c06736] .com-card-wrap .header{margin-left:0}.trail-personal-info[data-v-a2c06736] .com-van-field:last-child:after{display:block}.flex-form .flex-field[data-v-4dfdb9b1]{display:flex;flex-direction:column}.gap[data-v-4dfdb9b1]{display:inline-block;width:1.33333rem;height:.42667rem;text-align:center;line-height:.42667rem;background-color:#e9e7e7;border:1px solid rgb(205,205,205)}.com-risk-card-wrapper.part-card[data-v-0f3d866c]{background-color:#fff;border-bottom:.26667rem solid var(--zaui-global-bg, #f2f5fc)}.com-risk-card-wrapper .delete-risk[data-v-0f3d866c]{display:flex;align-items:center;justify-content:center;margin-top:.06667rem}.com-risk-card-wrapper .delete-risk .svg-icon[data-v-0f3d866c]{font-size:.42667rem}.com-risk-card-wrapper .custom-field[data-v-0f3d866c]{display:flex;flex-direction:column}.com-risk-card-wrapper .custom-field .field-tip[data-v-0f3d866c]{font-size:.32rem;font-weight:400;color:#99a9c0;line-height:1;margin:0 0 .10667rem}\n",document.head.appendChild(e),System.register(["./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-legacy-bf549a8b.js","./index-legacy-d0311249.js","./index-legacy-9081c471.js","./index-legacy-0c21f68f.js","./cloneDeep-legacy-06534257.js","./trial-legacy-ca4770b3.js"],(function(e){"use strict";var a,l,i,t,u,o,n,s,r,d,c,m,p,v,y,g,b,V,f,k,h,L,x,C,D,O,w,_,F;return{setters:[function(e){a=e.l},function(e){l=e._,i=e.d,t=e.r,u=e.E,o=e.G,n=e.an,s=e.c,r=e.h,d=e.e,c=e.w,m=e.j,p=e.f,v=e.g,y=e.k,g=e.t,b=e.y,V=e.m,f=e.ap,k=e.i,h=e.F,L=e.a2,x=e.bT,C=e.J,D=e.b8},function(e){O=e.S},function(e){w=e.S},function(e){_=e.c},function(e){F=e.c}],execute:function(){function I(e){return Object.keys(e)}const S={key:0},U={class:"custom-field"},A={key:1,class:"flex-field"},K={class:"pro-radio-wrap"},P={key:2},R={class:"pro-radio-wrap"},T={class:"custom-field"},j={key:1},E={key:3},M={class:"custom-field"},N={key:1};var q=l(i({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})}},emits:["update:modelValue","trialChange"],setup(e,{emit:a}){const l=e;console.log("baoebaofei  = ",l.originData);const i=t(l.originData),k=t(l.modelValue),h=t(1),L=()=>{const{displayType:e,requireCopies:a}=i.value;1===e?h.value=1:3===e&&2===a?h.value=2:3===e&&1===a?(h.value=3,i.value.minCopiesValue===i.value.maxCopiesValue&&(k.value.copy=i.value.minCopiesValue)):2===e&&(h.value=4,i.value.minCopiesValue===i.value.maxCopiesValue&&(k.value.copy=i.value.minCopiesValue))},x=u((()=>2===i.value.saleMethod?{label:"保费",key:"premium"}:{label:"保额",key:"amount"})),C=u((()=>{if(i.value.displayValues){const e=(2===i.value.saleMethod?{label:"保费",key:"premium"}:{label:"保额",key:"amount"}).key;return 1===i.value.displayValues.length&&(k.value[e]=i.value.displayValues[0].code),i.value.displayValues.map((e=>({label:e.value,value:e.code})))}return[]})),D=()=>{};return o((()=>{L(),a("update:modelValue",k.value)})),n((()=>i),(e=>{L()}),{deep:!0}),n((()=>k.value),(e=>{a("update:modelValue",e),a("trialChange",e)}),{deep:!0,immediate:!0}),(a,l)=>{const i=O,t=b,u=V,o=f;return 1===h.value?(s(),r("div",S,[1===e.originData.saleMethod?(s(),d(t,{key:0,label:`基本${v(x).label}`,name:v(x).key,class:"risk-select-field"},{input:c((()=>[m("div",U,[p(i,{modelValue:k.value[v(x).key],"onUpdate:modelValue":l[0]||(l[0]=e=>k.value[v(x).key]=e),"input-width":"80px","default-value":e.originData.minStepValue,min:e.originData.minStepValue,step:e.originData.stepValue,max:e.originData.maxStepValue},null,8,["modelValue","default-value","min","step","max"])])])),_:1},8,["label","name"])):y("",!0)])):2===h.value?(s(),r("div",A,[p(o,{modelValue:k.value[v(x).key],"onUpdate:modelValue":l[2]||(l[2]=e=>k.value[v(x).key]=e),label:`基本${v(x).label}`,name:v(x).key,class:"risk-select-field"},{input:c((()=>[m("div",K,[p(u,{modelValue:k.value[v(x).key],"onUpdate:modelValue":l[1]||(l[1]=e=>k.value[v(x).key]=e),options:v(C),onclick:D},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"])])):3===h.value?(s(),r("div",P,[p(o,{modelValue:k.value[v(x).key],"onUpdate:modelValue":l[4]||(l[4]=e=>k.value[v(x).key]=e),label:`基本${v(x).label}`,name:v(x).key,class:"risk-select-field"},{input:c((()=>[m("div",R,[p(u,{modelValue:k.value[v(x).key],"onUpdate:modelValue":l[3]||(l[3]=e=>k.value[v(x).key]=e),options:v(C),onclick:D},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"]),p(t,{modelValue:k.value.copy,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:c((()=>[m("div",T,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(s(),d(i,{key:0,modelValue:k.value.copy,"onUpdate:modelValue":l[5]||(l[5]=e=>k.value.copy=e),"input-width":"80px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(s(),r("span",j,g(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):4===h.value?(s(),r("div",E,[p(t,{modelValue:k.value.copy,"onUpdate:modelValue":l[8]||(l[8]=e=>k.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:c((()=>[m("div",M,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(s(),d(i,{key:0,modelValue:k.value.copy,"onUpdate:modelValue":l[7]||(l[7]=e=>k.value.copy=e),"input-width":"64px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(s(),r("span",N,g(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):y("",!0)}}}),[["__scopeId","data-v-946720fa"]]);const z=[{name:"年金领取期间",type:"checkbox",configKey:["annuityDrawValueList"],valueKey:"annuityDrawDate"},{name:"领取频率",type:"checkbox",configKey:["annuityDrawFrequencyList"],valueKey:"annuityDrawType"},{name:"交费方式",type:"checkbox",configKey:["paymentFrequencyList"],valueKey:"paymentFrequency"},{name:"交费期间",type:"checkbox",configKey:["paymentPeriodValueList"],valueKey:"chargePeriod"},{name:"保障期间",type:"checkbox",configKey:["insurancePeriodValueList"],valueKey:"coveragePeriod"}];const $={class:"pro-radio-wrap"};var J=l(i({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})},riskCode:{default:""}},emits:["trialChange"],setup(e,{emit:l}){const i=e,u=t(i.originData),g=t(i.modelValue);t(1);const b=()=>{z.forEach((e=>{const l=a.exports.get(i.originData,e.configKey);"checkbox"===e.type&&l&&l.length>0&&(g.value[e.valueKey]=l[0].code)}))};return o((()=>{b()})),n((()=>u.value),(e=>{b()}),{deep:!0,immediate:!0}),n((()=>g.value),(e=>{l("trialChange",e)}),{deep:!0,immediate:!0}),(l,t)=>{const u=V,o=f;return s(!0),r(h,null,k(v(z),(l=>(s(),r(h,null,[v(a.exports.get)(e.originData,l.configKey)?(s(),r("div",{key:e.riskCode+"_"+l.name},["checkbox"===l.type?(s(),d(o,{key:0,modelValue:g.value[l.valueKey],"onUpdate:modelValue":e=>g.value[l.valueKey]=e,label:l.name,name:l.valueKey,class:"risk-select-field"},{input:c((()=>{return[m("div",$,[p(u,{modelValue:g.value[l.valueKey],"onUpdate:modelValue":e=>g.value[l.valueKey]=e,options:(e=l.configKey,a.exports.get(i.originData,e).map((e=>({label:e.value,value:e.code}))))},null,8,["modelValue","onUpdate:modelValue","options"])])];var e})),_:2},1032,["modelValue","onUpdate:modelValue","label","name"])):y("",!0)])):y("",!0)],64)))),256)}}}),[["__scopeId","data-v-4dfdb9b1"]]);const G={class:"com-risk-liabilityinfo"},H={class:"item-wrap"},B={key:0},Q=m("div",{class:"cell-content"},null,-1),W=i({__name:"index",props:{dataSource:{default:()=>({})},modelValue:{default:()=>({})},dataSourceFolmulate:{default:()=>({})},params:{default:()=>({amountUnit:"",basicsAmount:"",basicsPremium:"",riskId:""})}},emits:["trialChange"],setup(e,{emit:a}){const l=e,i=t({formInfo:l.dataSource,isCheckList:[],checkValueList:[],liabilityVOList:[]}),g=u((()=>_(l.dataSourceFolmulate))),b=(e,a,l)=>{1===l?i.value.liabilityVOList.push({liabilityValue:{...e,liabilityValue:null==e?void 0:e.liabilityAttributeValueList[0]},key:a,isSwitchOn:"1"}):i.value.liabilityVOList.push({liabilityValue:{...e,liabilityValue:null==e?void 0:e.liabilityAttributeValueList[0]},key:a,isSwitchOn:"2"})};return n((()=>g.value),((e,a)=>{var i,t;const u=null===(i=l.dataSourceFolmulate)||void 0===i?void 0:i.amount,o=null===(t=l.dataSourceFolmulate)||void 0===t?void 0:t.premium,n={amountUnit:l.params.amountUnit,basicsAmount:u,basicsPremium:o,riskId:l.params.riskId},s=l.dataSource.riskLiabilityInfoVOList.map((async l=>{if(l.formula.length>0&&(u||o)&&((null==e?void 0:e.amount)!==(null==a?void 0:a.amount)||(null==e?void 0:e.premium)!==(null==a?void 0:a.premium))){const{code:e,data:a}=await F({...n,riskLiabilities:[l]});return"10000"===e?(l.liabilityAttributeValueList=a[0].formulaResult,{...l,liabilityAttributeValueList:a[0]}):l}}));console.log("liabilityItem>>>>>>",s),console.log("riskLiabilityInfoVOList>>>>>>",l.dataSource.riskLiabilityInfoVOList)}),{deep:!0,immediate:!0}),n((()=>i.value.liabilityVOList),(e=>{const l=i.value.liabilityVOList.filter((e=>"1"===e.isSwitchOn)).map((e=>({...e.liabilityValue})));a("trialChange",l)}),{deep:!0,immediate:!0}),o((()=>{l.dataSource.riskLiabilityInfoVOList.map(((e,a)=>{const l=e.liabilityAttributeValueList.length>0&&0===e.formula.length&&e.liabilityAttributeValueList[0].actualValue;return i.value.checkValueList[a]=l,1!=+e.showFlag&&i.value.liabilityVOList.push({liabilityValue:e,key:a,isSwitchOn:"1"}),1==+e.showFlag&&(1===e.attributeFlag&&2===e.insureFlag&&0===e.formula.length&&b(e,a,1),1===e.attributeFlag&&1===e.insureFlag&&0===e.formula.length&&b(e,a,2),2===e.attributeFlag&&1===(null==e?void 0:e.liabilityAttributeValueList.length)&&2===e.insureFlag&&b(e,a,1),2===e.attributeFlag&&1===(null==e?void 0:e.liabilityAttributeValueList.length)&&1===e.insureFlag&&b(e,a,2)),null}))})),(a,l)=>{const t=w,u=f,o=L,n=x;return s(),d(n,null,{default:c((()=>[m("div",G,[m("div",H,[(s(!0),r(h,null,k(e.dataSource.riskLiabilityInfoVOList,((e,a)=>(s(),r("div",{key:a},[1!=+e.showFlag||2===e.attributeFlag&&1===(null==e?void 0:e.liabilityAttributeValueList.length)&&2===e.insureFlag?y("",!0):(s(),r("div",B,[p(u,{label:`${e.liabilityName}`,"label-width":"40%",name:"insuredRelation"},{input:c((()=>[1==+e.insureFlag?(s(),d(t,{key:0,modelValue:v(i).isCheckList[a],"onUpdate:modelValue":e=>v(i).isCheckList[a]=e,"active-value":"1","inactive-value":"2",size:"26px",onClick:l=>((e,a)=>{const l=i.value.liabilityVOList.map((e=>e.key)),t=0===e.liabilityAttributeValueList.length&&0===e.formula.length,u=i.value.isCheckList[a];console.log("key---------",l),console.log("(key_list).indexOf(index)",l.indexOf(a)),t&&-1===l.indexOf(a)&&u&&i.value.liabilityVOList.push({liabilityValue:e,key:a,isSwitchOn:i.value.isCheckList[a]}),-1!==l.indexOf(a)&&i.value.liabilityVOList.forEach((e=>{e.key===a&&(e.isSwitchOn=i.value.isCheckList[a])}))})(e,a)},null,8,["modelValue","onUpdate:modelValue","onClick"])):y("",!0)])),_:2},1032,["label"]),1==+v(i).isCheckList[a]&&1===e.attributeFlag||1===e.attributeFlag&&2===e.insureFlag?(s(),d(u,{key:0,label:e.liabilityAttributeTypeDesc,"label-width":"40%",name:"insuredRelation"},{input:c((()=>[p(V,{modelValue:v(i).checkValueList[a],"onUpdate:modelValue":e=>v(i).checkValueList[a]=e,prop:{label:"displayValue",value:"actualValue"},options:(e.formula.length,e.liabilityAttributeValueList),"is-simply":!0,onClick:l=>((e,a)=>{console.log("keykeykey>>>>>>",a);const l=e.liabilityAttributeValueList.filter((e=>e.actualValue===i.value.checkValueList[a])),t=JSON.parse(JSON.stringify(l))[0],u={...e,liabilityValue:t};i.value.liabilityVOList.length>0&&Object.keys(i.value.checkValueList).indexOf(a)&&(i.value.liabilityVOList=i.value.liabilityVOList.filter((e=>e.key!==a))),i.value.liabilityVOList.push({liabilityValue:u,key:a,isSwitchOn:"1"}),console.log("state.liabilityVOList>>>>>>",i.value.liabilityVOList)})(e,a)},null,8,["modelValue","onUpdate:modelValue","options","onClick"])])),_:2},1032,["label"])):y("",!0)]))])))),128))])]),Q,p(o)])),_:1})}}});e("I",l(i({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})}},emits:["trialChange"],setup(e,{expose:l,emit:i}){const u=e,n=C({personalInfo:{},basicsAmount:"",basicsPremium:""}),d=t(null),c=t({}),m=t({});D("premium"),m.value=D("enumList")||{},o((()=>{console.log("--------origin data = ",u.originData)}));const y=a.exports.debounce((()=>{u.originData.mainRiskFlag,c.value.riskCategory=u.originData.riskCategory,c.value.riskCode=u.originData.riskCode,c.value.riskId=u.originData.riskId,c.value.riskType=u.originData.riskType,c.value.riskName=u.originData.riskName,c.value.riskType=u.originData.riskType,c.value.mainRiskCode=u.originData.mainRiskCode,c.value.mainRiskId=u.originData.mainRiskId,i("trialChange",c.value)}),300),g=e=>{I(e).forEach((a=>{c.value[a]=e[a]})),y()},b=e=>{var a,l;1==+(null===(a=u.originData)||void 0===a||null===(l=a.productRiskInsureLimitVO)||void 0===l?void 0:l.amountPremiumConfigVO.saleMethod)?n.basicsAmount=null==e?void 0:e.amount:n.basicsAmount=null==e?void 0:e.premium,I(e).forEach((a=>{c.value[a]=e[a]})),y()},V=e=>{c.value.liabilityVOList=e,y()};return l({validate:async()=>{var e;await(null===(e=d.value)||void 0===e?void 0:e.validate())}}),(a,l)=>{var i,t,u,o,d;return s(),r(h,null,[p(v(q),{"v-model":v(c),"origin-data":null===(i=e.originData)||void 0===i||null===(t=i.productRiskInsureLimitVO)||void 0===t?void 0:t.amountPremiumConfigVO,onTrialChange:b},null,8,["v-model","origin-data"]),p(v(J),{"v-model":v(c),"origin-data":e.originData.productRiskInsureLimitVO,"risk-code":e.originData.riskCode,onTrialChange:g},null,8,["v-model","origin-data","risk-code"]),p(v(W),{"data-source-folmulate":v(c),"data-source":e.originData,params:{amountUnit:null===(u=e.originData)||void 0===u||null===(o=u.productRiskInsureLimitVO)||void 0===o?void 0:o.amountPremiumConfigVO.displayUnit,basicsAmount:v(n).basicsAmount,basicsPremium:v(n).basicsPremium,riskId:null===(d=e.originData)||void 0===d?void 0:d.riskId},onTrialChange:V},null,8,["data-source-folmulate","data-source","params"])],64)}}}),[["__scopeId","data-v-0f3d866c"]]))}}}))}();
