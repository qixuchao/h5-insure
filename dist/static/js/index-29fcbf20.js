import{g as B,Q as z,C as U,L as J,v as ee,X as te,ag as ne,r as i,h as t,j as d,k as s,n as _,m as I,E as O,y as P,I as W,z as r,a6 as R,F as M,s as x,ah as oe,B as D,ak as ue,G as se,x as q,M as X,af as re}from"./vendor-7d3d88be.js";import{_ as F,h as ae,j as ie}from"./index-47aca5ce.js";import{w as le,n as ce}from"./pdf.worker.entry-dbea5c88.js";import{p as G}from"./pdf_viewer-483e4f06.js";import{g as de,s as pe}from"./inform-defa3353.js";import{s as _e}from"./useStorage-e9be6250.js";const me={class:"problem"},ve={class:"footer-button"},fe=D("\u63D0\u4EA4"),ge=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(C,{emit:m}){const l=C,g=z(),n=U([]),{questionnaireType:p}=g.query,S={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},w=J({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:"",listQuestions:[]}),{radioCheckedProblem:v,checked:a,modelValue:y,inputValue:o,listQuestions:b}=ee(w),h=u=>{n.value[u].toggle()},$=u=>u?JSON.parse(u).map(e=>({title:e.value,value:e.uid})):[];te(()=>l.currentPageInfo,u=>{b.value=u},{deep:!0,immediate:!0});const Q=()=>{m("onSubmitCurrentStatus",1)};return ne(()=>{console.log(6666),n.value=[]}),(u,e)=>{const E=i("van-radio"),k=i("van-cell"),f=i("van-cell-group"),T=i("van-radio-group"),N=i("van-checkbox"),Y=i("van-checkbox-group"),H=i("van-field"),K=i("van-button"),Z=i("ProPageWrap");return t(),d(Z,{class:"com-quersion"},{default:s(()=>[_(ie,{title:`${S[r(p)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:s(()=>[(t(!0),I(M,null,O(r(b),(V,L)=>(t(),I("div",{key:L,class:"question-item"},[P("div",me,W(L+1)+". "+W(V.title),1),V.questionType===1?(t(),d(T,{key:0,modelValue:r(v),"onUpdate:modelValue":e[0]||(e[0]=c=>R(v)?v.value=c:null)},{default:s(()=>[_(f,{inset:""},{default:s(()=>[(t(!0),I(M,null,O($(V.options),(c,A)=>(t(),d(k,{key:A,title:c.title,clickable:"",onClick:j=>v.value=c.value},{"right-icon":s(()=>[_(E,{name:c.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):x("",!0),V.questionType===2?(t(),d(Y,{key:1,modelValue:r(a),"onUpdate:modelValue":e[2]||(e[2]=c=>R(a)?a.value=c:null)},{default:s(()=>[_(f,{inset:""},{default:s(()=>[(t(!0),I(M,null,O($(V.options),(c,A)=>(t(),d(k,{key:c.uid,clickable:"",title:c.title,onClick:j=>h(A)},{"right-icon":s(()=>[_(N,{ref_for:!0,ref:j=>n.value[A]=j,shape:"square",name:c,onClick:e[1]||(e[1]=oe(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):x("",!0),V.questionType===3?(t(),d(ae,{key:2,"model-value":r(y),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):x("",!0),V.questionType===4?(t(),d(f,{key:3,inset:""},{default:s(()=>[_(H,{modelValue:r(o),"onUpdate:modelValue":e[3]||(e[3]=c=>R(o)?o.value=c:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):x("",!0)]))),128))]),_:1},8,["title"]),P("div",ve,[_(K,{type:"primary",block:"",onClick:Q},{default:s(()=>[fe]),_:1})])]),_:1})}}});var ye=F(ge,[["__scopeId","data-v-0b921519"]]);const ke={class:"title"},be={class:"content"},he={class:"footer-button"},Ce=D("\u4E86\u89E3\u5E76\u7EE7\u7EED"),Se=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(C,{emit:m}){const l=C;return(g,n)=>{const p=i("van-button"),S=i("ProPageWrap"),w=ue("dompurify-html");return t(),d(S,{class:"com-document"},{default:s(()=>{var v,a;return[P("div",ke,W((v=l.currentPageInfo[0])==null?void 0:v.title),1),se(P("div",be,null,512),[[w,(a=l.currentPageInfo[0])==null?void 0:a.content]]),P("div",he,[_(p,{type:"primary",onClick:n[0]||(n[0]=y=>m("onSubmitCurrentStatus",1))},{default:s(()=>[Ce]),_:1})])]}),_:1})}}});var Ee=F(Se,[["__scopeId","data-v-27a7d770"]]);const Ie={class:"com-pdf-viewer"},xe=["id","isee_pdf"],Pe={class:"footer-button"},$e=D("\u90E8\u5206\u4E3A\u662F"),Qe=D("\u4EE5\u4E0A\u7686\u5426"),Ve=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(C,{emit:m}){const l=C;G.exports.GlobalWorkerOptions.workerSrc=le;const g=ce(),n=U(!1),p=U(!0),S=q(()=>["png","jpg","jpeg"].some(a=>l.url.includes(a))),w=()=>{const a=document.getElementById(g);if(a.hasChildNodes()){p.value=!1;return}G.exports.getDocument({url:l.url}).promise.then(o=>{const b=o.numPages;for(let h=1;h<=b;h++)o.getPage(h).then($=>{const Q=$.getViewport({scale:1}),u=document.createElement("canvas"),e=u.getContext("2d");u.width=Q.width,u.height=Q.height,u.style.width="100%",a.append(u);const E={canvasContext:e,viewport:Q};$.render(E),p.value=!1})})},v=async()=>{n.value=!0,setTimeout(()=>{w()},0)};return X(()=>{v()}),(a,y)=>{const o=i("van-image"),b=i("van-button");return t(),I("div",Ie,[r(S)?(t(),d(o,{key:0,width:"100%",height:"80vh",fit:"contain",src:l.url},null,8,["src"])):(t(),I("div",{key:1,id:r(g),isee_pdf:a.pdfUrl,class:"pdf-wapper"},null,8,xe)),P("div",Pe,[_(b,{plain:"",type:"primary",onClick:y[0]||(y[0]=h=>m("onSubmitCurrentStatus",2))},{default:s(()=>[$e]),_:1}),_(b,{type:"primary",onClick:y[1]||(y[1]=h=>m("onSubmitCurrentStatus",1))},{default:s(()=>[Qe]),_:1})])])}}});var we=F(Ve,[["__scopeId","data-v-4c70488e"]]);const Te={class:"iframe-wrap"},De=["src"],qe={class:"footer-button"},Be=D("\u90E8\u5206\u4E3A\u662F"),Ne=D("\u4EE5\u4E0A\u7686\u5426"),Ae=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(C,{emit:m}){const l=C;return(g,n)=>{const p=i("van-button");return t(),I("div",Te,[P("iframe",{src:l.url,frameborder:"0"},null,8,De),P("div",qe,[_(p,{plain:"",type:"primary",onClick:n[0]||(n[0]=S=>m("onSubmitCurrentStatus",2))},{default:s(()=>[Be]),_:1}),_(p,{type:"primary",onClick:n[1]||(n[1]=S=>m("onSubmitCurrentStatus",1))},{default:s(()=>[Ne]),_:1})])])}}});var Fe=F(Ae,[["__scopeId","data-v-1ac7e729"]]);const je={class:"com-health-notice"},Ge=B({setup(C){const m=re(),l=z(),g=_e.get("questionData"),{questionnaireType:n}=l.query,{orderNo:p="2022021815432987130620",productCode:S="CQ75CQ76",templateId:w=1,orderId:v=13005,tenantId:a=9991000007}=l.query,y={1:4,2:5,3:9},o=J({pageData:{},currentQuestionInfo:[]}),b=q(()=>n==="2"),h=q(()=>{var e;return n==="1"&&[1].includes((e=o.currentQuestionInfo[0])==null?void 0:e.textType)}),$=q(()=>{var e;return n==="1"&&[2].includes((e=o.currentQuestionInfo[0])==null?void 0:e.textType)}),Q=q(()=>{var e;return n==="1"&&[3].includes((e=o.currentQuestionInfo[0])==null?void 0:e.textType)}),u=e=>{var f;const{id:E,objectType:k}=g;pe({content:(f=o.currentQuestionInfo[0])==null?void 0:f.content,contentType:n,isDone:e,noticeType:y[k],objectId:E,objectType:k,orderId:v,orderNo:p,tenantId:9991000007}).then(({code:T,data:N})=>{console.log(T),T==="10000"&&m.go(-1)})};return X(()=>{console.log(g);const{insurerCode:e,id:E,objectType:k,productCategory:f}=g;de({insurerCode:e,id:E,objectType:k,productCategory:f,orderNo:p,tenantId:a}).then(({code:T,data:N})=>{T==="10000"&&(o.currentQuestionInfo=N)})}),(e,E)=>{var k,f;return t(),I("div",je,[r(b)?(t(),d(ye,{key:0,"current-page-info":r(o).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):x("",!0),r($)?(t(),d(Ee,{key:1,"current-page-info":r(o).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):x("",!0),r(h)?(t(),d(we,{key:2,url:(k=r(o).currentQuestionInfo[0])==null?void 0:k.content,onOnSubmitCurrentStatus:u},null,8,["url"])):x("",!0),r(Q)?(t(),d(Fe,{key:3,url:(f=r(o).currentQuestionInfo[0])==null?void 0:f.content,onOnSubmitCurrentStatus:u},null,8,["url"])):x("",!0)])}}});export{Ge as default};
