import{b5 as e,b6 as t,b7 as a,b8 as r,b9 as n,ba as o,bb as s,aP as c,bc as i,bd as l,be as u,aR as d,bf as p,bg as f,_ as v,d as b,aW as y,u as m,a as h,r as j,z as A,y as g,b as _,c as w,g as x,e as I,w as O,i as k,f as P,l as S,j as D,t as F,n as B,aZ as R,T as C,K as L,L as N,aK as U}from"./index-fce952e7.js";import{p as E}from"./product-d1a66f4b.js";import{d as M,i as V,g as z,s as T,e as J,E as W}from"./trial-a67626f6.js";import{a as G,t as Z,c as Y,s as H,b as $,d as Q}from"./utils-edb7e158.js";import{a as X}from"./order-9bf419b4.js";import K from"./index-7ec73df4.js";import{u as q}from"./theme-65292714.js";import{B as ee}from"./index-a6063bd2.js";import te from"./index-00629ba0.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-aee85f83.js";import"./useStorage-edf6ed15.js";import"./trial-62986bae.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-48012a0c.js";function ae(t){var a=this.__data__=new e(t);this.size=a.size}ae.prototype.clear=function(){this.__data__=new e,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(r,n){var o=this.__data__;if(o instanceof e){var s=o.__data__;if(!t||s.length<199)return s.push([r,n]),this.size=++o.size,this;o=this.__data__=new a(s)}return o.set(r,n),this.size=o.size,this};var re=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function ne(e,t,a){"__proto__"==t&&re?re(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var oe=Object.prototype.hasOwnProperty;function se(e,t,a){var r=e[t];oe.call(e,t)&&n(r,a)&&(void 0!==a||t in e)||ne(e,t,a)}function ce(e,t,a,r){var n=!a;a||(a={});for(var o=-1,s=t.length;++o<s;){var c=t[o],i=r?r(a[c],e[c],c,a,e):void 0;void 0===i&&(i=e[c]),n?ne(a,c,i):se(a,c,i)}return a}function ie(e){return o(e)&&"[object Arguments]"==s(e)}var le=Object.prototype,ue=le.hasOwnProperty,de=le.propertyIsEnumerable,pe=ie(function(){return arguments}())?ie:function(e){return o(e)&&ue.call(e,"callee")&&!de.call(e,"callee")};var fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=fe&&"object"==typeof module&&module&&!module.nodeType&&module,be=ve&&ve.exports===fe?c.Buffer:void 0,ye=(be?be.isBuffer:void 0)||function(){return!1},me=/^(?:0|[1-9]\d*)$/;function he(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&me.test(e))&&e>-1&&e%1==0&&e<t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var Ae={};function ge(e){return function(t){return e(t)}}Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae["[object Arguments]"]=Ae["[object Array]"]=Ae["[object ArrayBuffer]"]=Ae["[object Boolean]"]=Ae["[object DataView]"]=Ae["[object Date]"]=Ae["[object Error]"]=Ae["[object Function]"]=Ae["[object Map]"]=Ae["[object Number]"]=Ae["[object Object]"]=Ae["[object RegExp]"]=Ae["[object Set]"]=Ae["[object String]"]=Ae["[object WeakMap]"]=!1;var _e="object"==typeof exports&&exports&&!exports.nodeType&&exports,we=_e&&"object"==typeof module&&module&&!module.nodeType&&module,xe=we&&we.exports===_e&&i.process,Ie=function(){try{var e=we&&we.require&&we.require("util").types;return e||xe&&xe.binding&&xe.binding("util")}catch(t){}}(),Oe=Ie&&Ie.isTypedArray,ke=Oe?ge(Oe):function(e){return o(e)&&je(e.length)&&!!Ae[s(e)]},Pe=Object.prototype.hasOwnProperty;function Se(e,t){var a=l(e),r=!a&&pe(e),n=!a&&!r&&ye(e),o=!a&&!r&&!n&&ke(e),s=a||r||n||o,c=s?function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}(e.length,String):[],i=c.length;for(var u in e)!t&&!Pe.call(e,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||he(u,i))||c.push(u);return c}var De=Object.prototype;function Fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Be(e,t){return function(a){return e(t(a))}}var Re=Be(Object.keys,Object),Ce=Object.prototype.hasOwnProperty;function Le(e){return null!=e&&je(e.length)&&!u(e)}function Ne(e){return Le(e)?Se(e):function(e){if(!Fe(e))return Re(e);var t=[];for(var a in Object(e))Ce.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e)}var Ue=Object.prototype.hasOwnProperty;function Ee(e){if(!d(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=Fe(e),a=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&a.push(r);return a}function Me(e){return Le(e)?Se(e,!0):Ee(e)}var Ve="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=Ve&&"object"==typeof module&&module&&!module.nodeType&&module,Te=ze&&ze.exports===Ve?c.Buffer:void 0,Je=Te?Te.allocUnsafe:void 0;function We(){return[]}var Ge=Object.prototype.propertyIsEnumerable,Ze=Object.getOwnPropertySymbols,Ye=Ze?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,o=[];++a<r;){var s=e[a];t(s,a,e)&&(o[n++]=s)}return o}(Ze(e),(function(t){return Ge.call(e,t)})))}:We;function He(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}var $e=Be(Object.getPrototypeOf,Object),Qe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)He(t,Ye(e)),e=$e(e);return t}:We;function Xe(e,t,a){var r=t(e);return l(e)?r:He(r,a(e))}function Ke(e){return Xe(e,Ne,Ye)}function qe(e){return Xe(e,Me,Qe)}var et=r(c,"DataView"),tt=r(c,"Promise"),at=r(c,"Set"),rt=r(c,"WeakMap"),nt=p(et),ot=p(t),st=p(tt),ct=p(at),it=p(rt),lt=s;(et&&"[object DataView]"!=lt(new et(new ArrayBuffer(1)))||t&&"[object Map]"!=lt(new t)||tt&&"[object Promise]"!=lt(tt.resolve())||at&&"[object Set]"!=lt(new at)||rt&&"[object WeakMap]"!=lt(new rt))&&(lt=function(e){var t=s(e),a="[object Object]"==t?e.constructor:void 0,r=a?p(a):"";if(r)switch(r){case nt:return"[object DataView]";case ot:return"[object Map]";case st:return"[object Promise]";case ct:return"[object Set]";case it:return"[object WeakMap]"}return t});var ut=lt,dt=Object.prototype.hasOwnProperty;var pt=c.Uint8Array;function ft(e){var t=new e.constructor(e.byteLength);return new pt(t).set(new pt(e)),t}var vt=/\w*$/;var bt=f?f.prototype:void 0,yt=bt?bt.valueOf:void 0;function mt(e,t,a){var r,n,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return ft(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var a=t?ft(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var a=t?ft(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(e,a);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(n=e).constructor(n.source,vt.exec(n))).lastIndex=n.lastIndex,o;case"[object Symbol]":return r=e,yt?Object(yt.call(r)):{}}}var ht=Object.create,jt=function(){function e(){}return function(t){if(!d(t))return{};if(ht)return ht(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();var At=Ie&&Ie.isMap,gt=At?ge(At):function(e){return o(e)&&"[object Map]"==ut(e)};var _t=Ie&&Ie.isSet,wt=_t?ge(_t):function(e){return o(e)&&"[object Set]"==ut(e)},xt={};function It(e,t,a,r,n,o){var s,c=1&t,i=2&t,u=4&t;if(a&&(s=n?a(e,r,n,o):a(e)),void 0!==s)return s;if(!d(e))return e;var p=l(e);if(p){if(s=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&dt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!c)return function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}(e,s)}else{var f=ut(e),v="[object Function]"==f||"[object GeneratorFunction]"==f;if(ye(e))return function(e,t){if(t)return e.slice();var a=e.length,r=Je?Je(a):new e.constructor(a);return e.copy(r),r}(e,c);if("[object Object]"==f||"[object Arguments]"==f||v&&!n){if(s=i||v?{}:function(e){return"function"!=typeof e.constructor||Fe(e)?{}:jt($e(e))}(e),!c)return i?function(e,t){return ce(e,Qe(e),t)}(e,function(e,t){return e&&ce(t,Me(t),e)}(s,e)):function(e,t){return ce(e,Ye(e),t)}(e,function(e,t){return e&&ce(t,Ne(t),e)}(s,e))}else{if(!xt[f])return n?e:{};s=mt(e,f,c)}}o||(o=new ae);var b=o.get(e);if(b)return b;o.set(e,s),wt(e)?e.forEach((function(r){s.add(It(r,t,a,r,e,o))})):gt(e)&&e.forEach((function(r,n){s.set(n,It(r,t,a,n,e,o))}));var y=p?void 0:(u?i?qe:Ke:i?Me:Ne)(e);return function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););}(y||e,(function(r,n){y&&(r=e[n=r]),se(s,n,It(r,t,a,n,e,o))})),s}xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object DataView]"]=xt["[object Boolean]"]=xt["[object Date]"]=xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object Symbol]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Error]"]=xt["[object Function]"]=xt["[object WeakMap]"]=!1;const Ot=e=>(L("data-v-6ecc0180"),e=e(),N(),e),kt={key:0},Pt=[Ot((()=>k("div",{class:"__skeleton_free_content__"},[k("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[k("div",{class:"page-free-product-detail"},[k("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[k("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),k("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[k("div",{class:"container"},[k("div",{class:"title"},[k("svg",{class:"svg-icon icon-free-arrow"},[k("use",{"xlink:href":"#icon-free-arrow"})]),k("span",null,[k("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),k("svg",{class:"svg-icon icon-free-arrow"},[k("use",{"xlink:href":"#icon-free-arrow"})])]),k("div",{class:"page-info-wrapper"},[k("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[k("form",{class:"van-form"},[k("div",{class:"com-card"},[k("div",{class:"com-card-wrap"},[k("div",{class:"header"}),k("div",{class:"body",style:{height:"auto"}},[k("div",{class:"com-personal-wrapper"},[k("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[k("div",{class:"van-cell__title van-field__label van-field__label--left"},[k("label",{id:"van-field-1-label",for:"van-field-1-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),k("div",{class:"van-field__right-icon"})])])]),k("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[k("div",{class:"van-cell__title van-field__label van-field__label--left"},[k("label",{id:"van-field-2-label",for:"van-field-2-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),k("div",{class:"van-field__right-icon"})])]),k("div",{class:"button-extra"},[k("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[k("div",{class:"van-button__content"},[k("span",{class:"van-button__text"},[k("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),k("div",{class:"pro-shadow-button submit-btn"},[k("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[k("div",{class:"van-button__content"},[k("span",{class:"van-button__text"},[k("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),k("div",{class:"com-attachment-list"},[k("span",null,[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),k("span",{class:"attachment-item"},[k("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),k("div",{class:"product-desc"},[k("div",{class:"van-image",style:{width:"100%"}},[k("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],St={class:"page-upgrade-product-detail"},Dt={class:"footer-area"},Ft={class:"price"},Bt={class:"num"},Rt=Ot((()=>k("span",{class:"unit"},"元/月",-1))),Ct=B(F("升级保障"));var Lt=v(b({setup(e){const t=y((()=>R((()=>import("./index-4d3759d8.js")),["static/js/index-4d3759d8.js","static/css/index-b9ba3011.css","static/js/index-fce952e7.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),a=y((()=>R((()=>import("./index-ce44d927.js")),["static/js/index-ce44d927.js","static/css/index-ea588f10.css","static/js/index-fce952e7.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-00629ba0.js","static/css/index-2dbcd337.css","static/js/utils-edb7e158.js","static/js/infoCollection-aee85f83.js","static/js/useStorage-edf6ed15.js","static/js/trial-62986bae.js"]))),r=q(),n=m(),o=h(),{productCode:s="",orderNo:c="",agencyCode:i="",tenantId:l="",saleChannelId:u="",extraInfo:d}=o.query;let p={};try{p=JSON.parse(decodeURIComponent(d))}catch(he){}const{openId:f,indirectCode:v="",agentCode:b}=p,B=j(!0),L=j(),N=j();j();const ae=j(),re=j(),ne=j(),oe=j(),se=j(0),ce=j();j(!1),j(!1),j(0);const ie=j(""),le=j(!1),ue=j(),de=A({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),pe=()=>{de.showFilePreview=!1,de.isOnlyView=!0},fe=e=>{var t;const a=null==(t=e.tenantOrderPaymentInfoList)?void 0:t.pop();return a?a.paymentMethod:3},ve=async e=>{const t=$({tenantId:l,premium:se.value,orderDetail:oe.value,productDetail:re.value,insureDetail:ne.value,successJumpUrl:`${U}/baseInsurance/orderDetail?tenantId=${l}&orderNo=${ie.value}`,iseeBizNo:L.value}),a=await W({orderNo:e,...t}),{code:r,data:o}=a;"10000"===r&&n.push(`/baseInsurance/orderDetail?tenantId=${l}&orderNo=${ie.value}`)},be=async e=>{try{C.loading({forbidClick:!0,message:"升级中",duration:0});const e=await(async()=>{var e,t,a;const r=G({tenantId:l,applicationNo:oe.value.applicationNo,policyNo:oe.value.policyNo,saleUserId:b,saleChannelId:oe.value.saleChannelId,orderStatus:X.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:re.value,insureDetail:ne.value,paymentMethod:fe(oe.value),renewalDK:null==(t=null==(e=oe.value.extInfo)?void 0:e.extraInfo)?void 0:t.renewalDK,iseeBizNo:L.value,successJumpUrl:"",premium:se.value,holder:{...oe.value.tenantOrderHolder,extInfo:ue.value,socialFlag:ue.value.hasSocialInsurance},insured:{...oe.value.tenantOrderInsuredList[0],socialFlag:oe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:Z({tenantId:l,riskList:Y(H(ne.value.productRiskVoList[0].riskDetailVOList),re.value),riskPremium:{},productId:null==(a=re.value)?void 0:a.id})}),n=await T(r),{code:o,data:s}=n;return"10000"===o?s.data:""})();await M({tenantId:l,applicationNo:oe.value.applicationNo});if(ie.value=e,ce.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),t=`${ce.value}&failUrl=${e}`;window.location.href=t,C.clear()}else ve(e)}catch(t){C.clear()}},ye=async e=>{be()},me=()=>{C.loading({forbidClick:!0,duration:2e4,message:"试算中"});const e=E({productCode:s,withInsureInfo:!0,tenantId:l}),t=V({productCode:s}),a=z({orderNo:c,tenantId:l});Promise.all([e,t,a]).then((([e,t,a])=>{var r;"10000"===e.code&&(re.value=e.data,document.title=(null==(r=e.data)?void 0:r.productFullName)||""),"10000"===t.code&&(ne.value=t.data),"10000"===a.code&&(oe.value=a.data,ue.value=It(oe.value.tenantOrderHolder.extInfo,5),oe.value.tenantOrderHolder.extInfo=oe.value.tenantOrderInsuredList[0].extInfo),B.value=!1,(async()=>{try{const e=$({tenantId:l,premium:se.value,orderDetail:oe.value,productDetail:re.value,insureDetail:ne.value,successJumpUrl:""},Q),t=await J(e),{code:a,data:r,message:n}=t;"10000"===a?(se.value=r.installmentPremium,ce.value=r.signUrl):"已升级成功"===n&&(le.value=!0)}catch(e){}finally{setTimeout((()=>{C.clear()}),2e3)}})(),(()=>{var e;let t={};if(t=(null==(e=re.value.tenantProductInsureVO.planInsureVO)?void 0:e.attachmentVOList)||[],!t)return void(N.value=[]);const a={2:"richText",3:"link"};N.value=Object.keys(t).map((e=>(t[e].forEach((e=>{if("1"===e.attachmentType){const t=e.attachmentUri.split("?"),a=t[0].substr(t[0].lastIndexOf(".")+1);e.attachmentType="pdf"===a?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:e,attachmentList:t[e]})))||[]})()}))};return g((()=>{me(),setTimeout((async()=>{L.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,n)=>{const o=_("ProField"),s=_("van-config-provider");return B.value?(w(),x("div",kt,Pt)):(w(),I(s,{key:1,"data-skeleton-root":"FREE","theme-vars":S(r)},{default:O((()=>{var e,s,c;return[k("div",St,[P(ee,{"data-skeleton-type":"img",url:null==(s=null==(e=re.value)?void 0:e.tenantProductInsureVO)?void 0:s.banner[0]},null,8,["url"]),P(K,{ref_key:"formRef",ref:ae,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":"","input-align":"right","form-info":oe.value,"factor-object":null==(c=ne.value)?void 0:c.productFactor},null,8,["form-info","factor-object"]),P(o,{modelValue:se.value,"onUpdate:modelValue":n[0]||(n[0]=e=>se.value=e),"input-align":"right",label:"每月保费",name:"insuredBeneficiaryType"},null,8,["modelValue"]),N.value&&N.value.length>0?(w(),I(S(t),{key:0,class:"attachment-bg","attachement-list":N.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:n[1]||(n[1]=e=>(e=>{de.isOnlyView=!0,de.activeIndex=e,de.showFilePreview=!0})(e))},null,8,["attachement-list"])):D("",!0),k("div",Dt,[k("div",Ft,[k("span",Bt,F(se.value),1),Rt]),P(te,{shadow:!1,disabled:le.value,"theme-vars":S(r),class:"right",text:"升级保障",onClick:ye},{default:O((()=>[Ct])),_:1},8,["disabled","theme-vars"])])]),S(de).showFilePreview&&0!==N.value.length?(w(),I(S(a),{key:0,show:S(de).showFilePreview,"onUpdate:show":n[2]||(n[2]=e=>S(de).showFilePreview=e),"content-list":N.value,"is-only-view":S(de).isOnlyView,"active-index":S(de).activeIndex,text:S(de).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:be,onOnCloseFilePreview:pe},null,8,["show","content-list","is-only-view","active-index","text"])):D("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-6ecc0180"]]);export{Lt as default};
