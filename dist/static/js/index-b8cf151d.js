var re=Object.defineProperty,se=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var J=(e,i,a)=>i in e?re(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,P=(e,i)=>{for(var a in i||(i={}))me.call(i,a)&&J(e,a,i[a]);if(H)for(var a of H(i))fe.call(i,a)&&J(e,a,i[a]);return e},N=(e,i)=>se(e,de(i));import{g as T,C as _,$ as w,r as g,k as r,m as F,n as c,j as y,V as ce,s as E,N as pe,B as U,a0 as ye,a1 as M,L as $,h as k,z as t,d as Ve,a2 as ve,o as ne,F as S,E as Y,y as O,I as j,a3 as Ie,a4 as ke,a5 as ue,a6 as ie}from"./vendor-7cd95f9f.js";import{P as R,_ as G,a as De}from"./index-e1d44029.js";import{b as W}from"./index-f233f5c1.js";const be=[{label:"\u7537",value:"1"},{label:"\u5973",value:"2"}],ge=[{label:"\u6709",value:"1"},{label:"\u65E0",value:"2"}],Ee=[{value:1,label:"\u7B2C5\u4E2A\u4FDD\u5355\u5468\u5E74\u65E5"},{value:2,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8455\u5468\u5C81"},{value:3,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8460\u5468\u5C81"},{value:4,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8465\u5468\u5C81"},{value:5,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8470\u5468\u5C81"},{value:6,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8475\u5468\u5C81"}],Fe=[{value:1,label:"\u5E74\u9886"},{value:2,label:"\u6708\u9886"}],Le=[{label:"\u8DB8\u4EA4",value:"1"},{label:"\u5E74\u4EA4",value:"2"},{label:"\u534A\u5E74\u4EA4",value:"3"},{label:"\u5B63\u4EA4",value:"4"},{label:"\u6708\u4EA4",value:"5"}],Ce=[{label:"\u8DB8\u4EA4",value:"single"},{label:"1\u5E74\u4EA4",value:"year_1"},{label:"5\u5E74\u4EA4",value:"year_5"},{label:"10\u5E74\u4EA4",value:"year_10"},{label:"15\u5E74\u4EA4",value:"year_15"},{label:"20\u5E74\u4EA4",value:"year_20"},{label:"25\u5E74\u4EA4",value:"year_25"},{label:"30\u5E74\u4EA4",value:"year_30"},{label:"35\u5E74\u4EA4",value:"year_35"}],Ae=[{label:"7\u5929",value:"day_7"},{label:"14\u5929",value:"day_14"},{label:"30\u5929",value:"day_30"},{label:"1\u5E74",value:"year_1"},{label:"3\u5E74",value:"year_3"},{label:"5\u5E74",value:"year_5"},{label:"10\u5E74",value:"year_10"},{label:"15\u5E74",value:"year_15"},{label:"20\u5E74",value:"year_20"},{label:"25\u5E74",value:"year_25"},{label:"30\u5E74",value:"year_30"},{label:"35\u5E74",value:"year_35"},{label:"\u7EC8\u8EAB",value:"to_life"}],ee=[{label:"\u8FD4\u4FDD\u989D",value:1},{label:"\u8FD4\u4FDD\u8D39",value:2}],Be=[{label:"\u6295\u4FDD",value:1},{label:"\u4E0D\u6295\u4FDD",value:2}];const _e={class:"com-pro-popup"},Oe={key:0,class:"footer-bar"},Re=U("\u786E\u5B9A"),xe=T({props:{show:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1}},setup(e){const i=e,a=ye(),V=_(!1);return w(()=>i.show,s=>{V.value=s,a==null||a.update()}),(s,v)=>{const o=g("VanButton"),n=g("VanPopup");return r(),F("div",_e,[c(n,pe({show:V.value,"onUpdate:show":v[0]||(v[0]=l=>V.value=l)},s.$attrs),{default:y(()=>[ce(s.$slots,"default"),e.showFooter?(r(),F("div",Oe,[c(o,{type:"primary"},{default:y(()=>[Re]),_:1})])):E("",!0)]),_:3},16,["show"])])}}}),he={class:"com-personal-info-wrapper"},te=T({props:{formInfo:{type:Object,required:!0,default:()=>{}},factorList:{type:Array,required:!0,default:()=>[]}},setup(e,{expose:i}){const a=e,[V,s]=M(),[v,o]=M(),n=_(),l=$({formInfo:a==null?void 0:a.formInfo}),C=()=>{};return i({validateForm:()=>new Promise((B,u)=>{n==null||n.value.validate().then(()=>{B("")},()=>{u()})})}),(B,u)=>{const m=g("VanField"),p=g("VanForm"),I=g("van-datetime-picker"),A=g("van-popup"),D=g("van-cascader");return r(),F("div",he,[c(p,{ref_key:"formRef",ref:n,"input-align":"right","error-message-align":"right"},{default:y(()=>[e.factorList.includes("APPLICANT.AGE")||e.factorList.includes("AGE")?(r(),k(m,{key:0,modelValue:t(l).formInfo.birthday,"onUpdate:modelValue":u[0]||(u[0]=f=>t(l).formInfo.birthday=f),rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],name:"birth",label:"\u51FA\u751F\u65E5\u671F","is-link":"",placeholder:"\u8BF7\u9009\u62E9",onClick:u[1]||(u[1]=f=>t(s)(!0))},null,8,["modelValue"])):E("",!0),e.factorList.includes("APPLICANT.GENDER")||e.factorList.includes("GENDER")?(r(),k(m,{key:1,modelValue:t(l).formInfo.gender,"onUpdate:modelValue":u[3]||(u[3]=f=>t(l).formInfo.gender=f),name:"gender",label:"\u6027\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>[c(R,{modelValue:t(l).formInfo.gender,"onUpdate:modelValue":u[2]||(u[2]=f=>t(l).formInfo.gender=f),options:t(be)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):E("",!0),e.factorList.includes("SOCIAL_INS")?(r(),k(m,{key:2,modelValue:t(l).formInfo.socialSecurity,"onUpdate:modelValue":u[5]||(u[5]=f=>t(l).formInfo.socialSecurity=f),name:"socialSecurity",label:"\u793E\u4FDD",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>[c(R,{modelValue:t(l).formInfo.socialSecurity,"onUpdate:modelValue":u[4]||(u[4]=f=>t(l).formInfo.socialSecurity=f),options:t(ge)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):E("",!0),e.factorList.includes("OCCUPATION_CATEGORY")?(r(),k(m,{key:3,modelValue:t(l).formInfo.occupationalClass,"onUpdate:modelValue":u[6]||(u[6]=f=>t(l).formInfo.occupationalClass=f),rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],name:"occupationalClass",label:"\u804C\u4E1A\u7C7B\u578B","is-link":"",placeholder:"\u8BF7\u9009\u62E9",onClick:u[7]||(u[7]=f=>t(o)(!0))},null,8,["modelValue"])):E("",!0)]),_:1},512),c(A,{show:t(V),"onUpdate:show":u[10]||(u[10]=f=>ve(V)?V.value=f:null),position:"bottom"},{default:y(()=>[c(I,{type:"date","min-date":new Date("1900-01-01"),"max-date":new Date,onConfirm:u[8]||(u[8]=f=>{t(l).formInfo.birthday=t(Ve)(f).format("YYYY-MM-DD"),t(s)(!1)}),onCancel:u[9]||(u[9]=f=>t(s)(!1))},null,8,["min-date","max-date"])]),_:1},8,["show"]),c(xe,{show:t(v),title:"\u804C\u4E1A\u9009\u62E9",position:"bottom",closeable:""},{default:y(()=>[c(D,{modelValue:t(l).formInfo.occupationalClass,"onUpdate:modelValue":u[11]||(u[11]=f=>t(l).formInfo.occupationalClass=f),title:"\u8BF7\u9009\u62E9\u804C\u4E1A",options:[],onClose:u[12]||(u[12]=f=>t(o)(!1)),onFinish:C},null,8,["modelValue"])]),_:1},8,["show"])])}}}),we={class:"com-risk-card-wrapper"},Te={key:0},Pe={key:0},Ue={key:1},$e={key:7,class:"liab-desc"},qe=O("div",{class:"title"},"\u8D23\u4EFB\u6295\u4FDD\u8BF4\u660E",-1),ae=T({props:{originData:{type:Object,required:!0,default:()=>{}},formInfo:{type:Object,required:!0,default:()=>{}},index:{type:[Number,String],default:0,required:!0}},setup(e){const i=e,a=$({formInfo:i.formInfo}),V=v=>typeof v!="boolean"&&!v||Array.isArray(v)&&!v.length?!0:{}.toString.call(v)==="object Object"?Object.keys(v).length:!1,s=(v,o)=>{let n=o;return Array.isArray(o)||(n=[n]),(v||[]).filter(l=>n.includes(`${l.value}`))};return ne(()=>{const v={riskType:i.originData.riskType,riskId:i.originData.id,riskCode:i.originData.riskCode,mainRiskCode:i.originData.riskCode,mainRiskId:i.originData.id,riskCategory:i.originData.riskCategory,liabilityVOList:i.originData.riskLiabilityInfoVOList.map(o=>({liabilityAttributeCode:o.liabilityAttribute,liabilityAttributeValue:o.liabilityAttributeValue,liabilityCode:o.liabilityCode,liabilityId:o.id,liabilityRateType:o.liabilityRateType}))};Object.assign(a.formInfo[i.index],v)}),w(()=>i.originData,()=>{},{immediate:!0,deep:!0}),(v,o)=>{var C,L,B,u,m,p,I,A,D,f,q,x,K,Z,z,Q,X;const n=g("VanStepper"),l=g("VanField");return r(),F("div",we,[((L=(C=e.originData)==null?void 0:C.riskCalcMethodInfoVO)==null?void 0:L.saleMethod)===1?(r(),k(l,{key:0,modelValue:t(a).formInfo[e.index].sumInsured,"onUpdate:modelValue":o[1]||(o[1]=d=>t(a).formInfo[e.index].sumInsured=d),label:"\u4FDD\u989D",name:"sumInsured",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:y(()=>[c(n,{modelValue:t(a).formInfo[e.index].sumInsured,"onUpdate:modelValue":o[0]||(o[0]=d=>t(a).formInfo[e.index].sumInsured=d)},null,8,["modelValue"])]),_:1},8,["modelValue"])):E("",!0),((u=(B=e.originData)==null?void 0:B.riskCalcMethodInfoVO)==null?void 0:u.saleMethod)===2?(r(),k(l,{key:1,modelValue:t(a).formInfo[e.index].premium,"onUpdate:modelValue":o[3]||(o[3]=d=>t(a).formInfo[e.index].premium=d),label:"\u4FDD\u8D39",name:"premium",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:y(()=>[c(n,{modelValue:t(a).formInfo[e.index].premium,"onUpdate:modelValue":o[2]||(o[2]=d=>t(a).formInfo[e.index].premium=d)},null,8,["modelValue"])]),_:1},8,["modelValue"])):E("",!0),V((p=(m=e.originData)==null?void 0:m.riskInsureLimitVO)==null?void 0:p.insurancePeriodValueList)?E("",!0):(r(),k(l,{key:2,modelValue:t(a).formInfo[e.index].coverageYear,"onUpdate:modelValue":o[5]||(o[5]=d=>t(a).formInfo[e.index].coverageYear=d),label:"\u4FDD\u969C\u671F\u95F4",name:"coverageYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>{var d,b;return[c(R,{modelValue:t(a).formInfo[e.index].coverageYear,"onUpdate:modelValue":o[4]||(o[4]=h=>t(a).formInfo[e.index].coverageYear=h),options:s(t(Ae),(b=(d=e.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:b.insurancePeriodValueList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),V((A=(I=e.originData)==null?void 0:I.riskInsureLimitVO)==null?void 0:A.paymentPeriodValueList)?E("",!0):(r(),k(l,{key:3,modelValue:t(a).formInfo[e.index].paymentYear,"onUpdate:modelValue":o[7]||(o[7]=d=>t(a).formInfo[e.index].paymentYear=d),label:"\u4EA4\u8D39\u671F\u95F4",name:"paymentYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>{var d,b;return[c(R,{modelValue:t(a).formInfo[e.index].paymentYear,"onUpdate:modelValue":o[6]||(o[6]=h=>t(a).formInfo[e.index].paymentYear=h),options:s(t(Ce),(b=(d=e.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:b.paymentPeriodValueList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),V((f=(D=e.originData)==null?void 0:D.riskInsureLimitVO)==null?void 0:f.paymentFrequencyList)?E("",!0):(r(),k(l,{key:4,modelValue:t(a).formInfo[e.index].paymentFrequency,"onUpdate:modelValue":o[9]||(o[9]=d=>t(a).formInfo[e.index].paymentFrequency=d),label:"\u4EA4\u8D39\u65B9\u5F0F",name:"paymentFrequency",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>{var d,b;return[c(R,{modelValue:t(a).formInfo[e.index].paymentFrequency,"onUpdate:modelValue":o[8]||(o[8]=h=>t(a).formInfo[e.index].paymentFrequency=h),options:s(t(Le),(b=(d=e.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:b.paymentFrequencyList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),V((x=(q=e.originData)==null?void 0:q.riskInsureLimitVO)==null?void 0:x.annuityDrawTypeList)?E("",!0):(r(),k(l,{key:5,modelValue:t(a).formInfo[e.index].annuityDrawDate,"onUpdate:modelValue":o[11]||(o[11]=d=>t(a).formInfo[e.index].annuityDrawDate=d),label:"\u9886\u53D6\u65F6\u95F4",name:"annuityDrawDate",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>{var d,b;return[c(R,{modelValue:t(a).formInfo[e.index].annuityDrawDate,"onUpdate:modelValue":o[10]||(o[10]=h=>t(a).formInfo[e.index].annuityDrawDate=h),options:s(t(Ee),(b=(d=e.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:b.annuityDrawTypeList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),V((Z=(K=e.originData)==null?void 0:K.riskInsureLimitVO)==null?void 0:Z.annuityDrawFrequencyList)?E("",!0):(r(),k(l,{key:6,modelValue:t(a).formInfo[e.index].annuityDrawType,"onUpdate:modelValue":o[13]||(o[13]=d=>t(a).formInfo[e.index].annuityDrawType=d),label:"\u9886\u53D6\u65B9\u5F0F",name:"annuityDrawType",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>{var d,b;return[c(R,{modelValue:t(a).formInfo[e.index].annuityDrawType,"onUpdate:modelValue":o[12]||(o[12]=h=>t(a).formInfo[e.index].annuityDrawType=h),options:s(t(Fe),(b=(d=e.originData)==null?void 0:d.riskInsureLimitVO)==null?void 0:b.annuityDrawFrequencyList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),(r(!0),F(S,null,Y(((z=e.originData)==null?void 0:z.riskLiabilityInfoVOList)||[],d=>(r(),k(l,{key:d.liabilityId,label:d.liabilityName,name:"liabilityAttributeValue",rules:[{required:d.optionalFlag===1&&d.liabilityAttributeValue,message:"\u8BF7\u9009\u62E9"}]},{input:y(()=>[d.optionalFlag===1?(r(),F("div",Te,[d.liabilityAttributeValue?(r(),k(R,{key:1,modelValue:t(a).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":o[14]||(o[14]=b=>t(a).formInfo[e.index].liabilityVOList=b),options:t(ee)},null,8,["modelValue","options"])):(r(),F("span",Pe,"50\u4E07"))])):(r(),F("div",Ue,[d.liabilityAttributeValue?(r(),k(R,{key:1,modelValue:t(a).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":o[16]||(o[16]=b=>t(a).formInfo[e.index].liabilityVOList=b),options:t(ee)},null,8,["modelValue","options"])):(r(),k(R,{key:0,modelValue:t(a).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":o[15]||(o[15]=b=>t(a).formInfo[e.index].liabilityVOList=b),options:t(Be)},null,8,["modelValue","options"]))]))]),_:2},1032,["label","rules"]))),128)),((Q=e.originData)==null?void 0:Q.relationDesc)?(r(),F("div",$e,[qe,O("div",null,j((X=e.originData)==null?void 0:X.relationDesc),1)])):E("",!0)])}}});const Ne=e=>(ue("data-v-2c5209b0"),e=e(),ie(),e),Se={class:"com-risk-list-wrapper"},Ye=Ne(()=>O("div",{class:"popup-title"},"\u9009\u62E9\u9644\u52A0\u9669",-1)),Me={class:"risk-list"},je={class:"footer-bar"},Ge=U("\u786E\u8BA4"),We=T({props:{riskList:{type:Array,required:!0,default:()=>[]},show:{type:Boolean,required:!0,default:!1}},emits:["finished","close"],setup(e,{emit:i}){const a=e,V=_([]),s=_([]);_([]);const v=$({show:a.show,checkedItems:[]}),o=(C,L)=>{var B,u,m;(m=(u=(B=V==null?void 0:V.value)==null?void 0:B[C])==null?void 0:u.toggle)==null||m.call(u)},n=()=>{i("close")},l=()=>{i("finished",s.value),i("close")};return Ie(()=>{V.value=[]}),w(()=>a.show,C=>{v.show=C},{deep:!0,immediate:!0}),(C,L)=>{const B=g("van-checkbox"),u=g("VanCell"),m=g("van-cell-group"),p=g("van-checkbox-group"),I=g("VanButton"),A=g("VanPopup");return r(),F("div",Se,[c(A,{show:t(v).show,"onUpdate:show":L[2]||(L[2]=D=>t(v).show=D),title:"\u9009\u62E9\u9644\u52A0\u9669","show-footer":"",position:"bottom",closeable:"",onClose:n},{default:y(()=>[Ye,O("div",Me,[c(p,{modelValue:s.value,"onUpdate:modelValue":L[1]||(L[1]=D=>s.value=D)},{default:y(()=>[c(m,{inset:""},{default:y(()=>[(r(!0),F(S,null,Y(e.riskList,D=>(r(),k(u,{key:D.id,title:D.riskName,onClick:f=>o(D.id)},{"right-icon":y(()=>[c(B,{ref_for:!0,ref:f=>V.value[D.id]=f,shape:"square",name:D.id,onClick:L[0]||(L[0]=ke(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),O("div",je,[c(I,{type:"primary",block:"",onClick:l},{default:y(()=>[Ge]),_:1})])]),_:1},8,["show"])])}}});var Ke=G(We,[["__scopeId","data-v-2c5209b0"]]);const Ze={class:"risk-list-wrapper"},ze={key:0,class:"add-rider-risk"},Qe={class:"left-part"},Xe=U("+ \u9644\u52A0\u9669"),He=T({props:{riskInfo:{type:Object,required:!0,default:()=>{}},originData:{type:Object,required:!0,default:()=>{}},pickFactor:{type:Function,required:!0,default:()=>{}}},setup(e){const i=e,[a,V]=M(!1);_(null),_(null);const s=$({mainRiskInfo:i.riskInfo,riderRiskInfo:i.riskInfo[0].riderRiskVOList,requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[]}),v=o=>{s.requiredRiderRiskData.push(o)};return w(()=>s.mainRiskInfo,()=>{},{deep:!0,immediate:!0}),w(()=>s.riderRiskInfo,()=>{},{deep:!0,immediate:!0}),w(()=>s.requiredRiderRiskData,o=>{const n=[s.mainRiskData,...o];let l=[],C=[];n.forEach(L=>{var u;const B=((u=L==null?void 0:L.riskCalcMethodInfoVO)==null?void 0:u.riskFactorRelationList)||[];l=l.concat(B.filter(m=>m.factorObject==="insured").map(m=>m.factorCode)),C=C.concat(B.filter(m=>m.factorObject==="holder").map(m=>m.factorCode))}),i.pickFactor({insuredFactorList:[...new Set(l)],holderFactorList:[...new Set(C)]})},{deep:!0,immediate:!0}),w(()=>i.originData,o=>{(o||[]).forEach(n=>{n.riskType===1?(s.mainRiskData=n,s.requiredRiderRiskData=(n==null?void 0:n.requiredRiderRiskVOList)||[],s.riderRiskList=n==null?void 0:n.optionalRiderRiskVOList):s.riderRiskList.push(n)})},{deep:!0,immediate:!0}),(o,n)=>(r(),F("div",Ze,[c(ae,{"form-info":t(s).mainRiskInfo,index:0,"origin-data":t(s).mainRiskData},null,8,["form-info","origin-data"]),(r(!0),F(S,null,Y(t(s).requiredRiderRiskData,(l,C)=>(r(),k(ae,{key:l.id,"form-info":t(s).riderRiskInfo,index:C,"origin-data":l},null,8,["form-info","index","origin-data"]))),128)),t(s).riderRiskList.length?(r(),F("div",ze,[O("span",Qe,j(`\u5171\u6709${t(s).riderRiskList.length}\u6B3E\u9644\u52A0\u9669\u53EF\u4EE5\u6DFB\u52A0`),1),c(De,{activied:"",onClick:n[0]||(n[0]=l=>t(V)(!0))},{default:y(()=>[Xe]),_:1})])):E("",!0),t(a)?(r(),k(Ke,{key:1,show:t(a),"risk-list":t(s).riderRiskList,onFinished:v,onClose:n[1]||(n[1]=l=>t(V)(!1))},null,8,["show","risk-list"])):E("",!0)]))}});var oe=G(He,[["__scopeId","data-v-34e09331"]]);const Je=(e={})=>W.get(`/api/product/insureProductDetail/${e==null?void 0:e.productId}`,e),et=(e={})=>W.post("/api/insurance/premiumCalc",e),tt=(e={})=>W.post("/api/app/queryDictInfo",e);const le=e=>(ue("data-v-31e97d56"),e=e(),ie(),e),at={key:0,class:"part-card"},ot=le(()=>O("div",{class:"part-title"},"\u6295\u4FDD\u4EBA",-1)),nt={key:1,class:"part-card"},ut=le(()=>O("div",{class:"part-title"},"\u88AB\u4FDD\u4EBA",-1)),it={class:"risk-content"},lt={key:0,class:"risk"},rt={key:1,class:"plan-risk"},st={class:"footer-bar"},dt={class:"trial-result"},mt=U("\u53BB\u8BD5\u7B97"),ft=U("\u53BB\u6295\u4FDD"),ct=T({setup(e){const i=_({personVO:{}}),a=_({insuredCode:"",personVO:{}}),V=_([{liabilityVOList:[],riderRiskVOList:[{}]}]),s=_({}),v=_({}),o=_({}),n=$({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0}),l=async()=>{var p,I,A;const m=["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD","LIABILITY_ATTRIBUTE_TYPE",`${(A=(I=(p=n==null?void 0:n.riskBaseInfo)==null?void 0:p.insurerCode)==null?void 0:I.toLocaleUpperCase)==null?void 0:A.call(I)}_OCCUPATION`];await tt({dictCodeList:m})},C=()=>{var p,I,A;const m={holder:{personVO:N(P({},i.value.personVO),{birthday:i.value.personVO.birthday&&`${i.value.personVO.birthday} 00:00:00`})},productCode:(p=n==null?void 0:n.riskBaseInfo)==null?void 0:p.productCode,insuredVOList:[N(P({},a.value),{personVO:N(P({},a.value.personVO),{birthday:a.value.personVO.birthday&&`${a.value.personVO.birthday} 00:00:00`}),productPlanVOList:[{planCode:n.currentPlan||((A=(I=n.riskPlanData)==null?void 0:I[0])==null?void 0:A.planCode),riskVOList:V.value}]})]};et(P({},m)).then(({code:D,data:f})=>{D==="10000"&&(n.trialResult=f,n.canTrial=!1)})},L=()=>{var m,p,I,A,D;Promise.all([(p=(m=s==null?void 0:s.value)==null?void 0:m.validateForm)==null?void 0:p.call(m),(A=(I=v==null?void 0:v.value)==null?void 0:I.validateForm)==null?void 0:A.call(I),(D=o==null?void 0:o.value)==null?void 0:D.validate()]).then(()=>{C()})},B=()=>{Je({productId:115}).then(({code:m,data:p})=>{m==="10000"&&(n.riskBaseInfo=p==null?void 0:p.productBasicInfoVO,n.riskData=(p==null?void 0:p.riskDetailVOList)||[],n.riskPlanData=(p==null?void 0:p.productRelationPlanVOList)||[],l())}).finally(()=>{})},u=m=>{n.holderFactor=m.insuredFactorList,n.insuredFactor=m.holderFactorList};return w([()=>V.value,()=>i.value,()=>a.value],m=>{m&&n.canTrial&&(n.canTrial=!0)},{deep:!0}),ne(()=>{B()}),(m,p)=>{const I=g("VanForm"),A=g("VanTab"),D=g("VanTabs"),f=g("VanButton"),q=g("ZaPageWrap");return r(),k(q,{class:"page-trial-wrapper"},{default:y(()=>[t(n).holderFactor.length?(r(),F("div",at,[ot,c(te,{ref_key:"holderRef",ref:s,"form-info":i.value.personVO,"factor-list":t(n).holderFactor},null,8,["form-info","factor-list"])])):E("",!0),t(n).insuredFactor.length?(r(),F("div",nt,[ut,c(te,{ref_key:"insuredRef",ref:v,"form-info":a.value.personVO,"factor-list":t(n).insuredFactor},null,8,["form-info","factor-list"])])):E("",!0),O("div",it,[t(n).riskData.length?(r(),F("div",lt,[c(I,{ref_key:"riskFormRef",ref:o,"input-align":"right","error-message-align":"right"},{default:y(()=>[c(oe,{"risk-info":V.value,"origin-data":t(n).riskData,"pick-factor":u},null,8,["risk-info","origin-data"])]),_:1},512)])):E("",!0),t(n).riskPlanData.length?(r(),F("div",rt,[c(I,{ref_key:"riskFormRef",ref:o,"input-align":"right","error-message-align":"right"},{default:y(()=>[c(D,{modelValue:t(n).currentPlan,"onUpdate:modelValue":p[0]||(p[0]=x=>t(n).currentPlan=x)},{default:y(()=>[(r(!0),F(S,null,Y(t(n).riskPlanData,x=>(r(),k(A,{key:x.planCode,name:x.planCode,title:x.planName},{default:y(()=>[c(oe,{"risk-info":V.value,"origin-data":x.riskDetailVOList,"pick-factor":u},null,8,["risk-info","origin-data"])]),_:2},1032,["name","title"]))),128))]),_:1},8,["modelValue"])]),_:1},512)])):E("",!0)]),O("div",st,[O("span",dt,j(t(n).trialResult.premium),1),t(n).canTrial?(r(),k(f,{key:0,type:"primary",onClick:L},{default:y(()=>[mt]),_:1})):(r(),k(f,{key:1,type:"primary",onClick:L},{default:y(()=>[ft]),_:1}))])]),_:1})}}});var It=G(ct,[["__scopeId","data-v-31e97d56"]]);export{It as default};
