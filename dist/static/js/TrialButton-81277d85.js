import{d as a,k as e,aE as l,z as n,o as t,c as s,a as d,u as i,b as o,s as r,e as u,F as c,w as p,g as m,a8 as f,a0 as h,aF as v,aG as y}from"./index-dc5ec44c.js";import{P as k}from"./index-af91b1ee.js";const C={class:"trial-button-wrap","safe-area-inset-bottom":""},x={class:"footer-area"},S=d("span",null,"分享",-1),g={class:"price"},F=d("div",{class:"label"},"首期总保费",-1),b={key:0},E=a({name:"trialButton"}),P=a({...E,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(a,{emit:E}){const P=a,q=e(""),A=e(""),$=l(),w=e(),D=e(),I=()=>{P.handleShare?P.handleShare((()=>D.value.handleShare(w.value))):D.value.handleShare(w.value)};return n([()=>P.premium,()=>P.tenantProductDetail,()=>P.paymentFrequency,()=>P.planCode],(([a])=>{const{PREMIUM:e=[]}=P.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===P.planCode||!a.planCode))||{};const n=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===P.paymentFrequency)),{premium:t,minActualUnit:s}=n||{};a?(A.value=s,q.value=a&&`${a}`):(A.value=t,q.value="")}else a&&(A.value="",q.value=a&&`${a}`)}),{deep:!0,immediate:!0}),n((()=>P.shareInfo),(a=>{w.value=a}),{deep:!0,immediate:!0}),(a,e)=>{const l=y;return t(),s("div",C,[d("div",x,[a.isShare&&i($)?(t(),s("div",{key:0,class:"com-share",onClick:I},[o(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):r("",!0),d("div",g,[F,a.loadingText?(t(),s("span",b,u(a.loadingText),1)):(t(),s(c,{key:1},[d("span",null,u(i(q)),1),d("span",null,u(i(A)),1)],64))]),o(k,h(a.$attrs,{shadow:!1,class:"right",onClick:e[0]||(e[0]=a=>E("handleClick"))}),{default:p((()=>[m(a.$slots,"default",{},(()=>[f("立即投保")]))])),_:3},16)]),o(v,h({ref_key:"shareRef",ref:D},i(w)),null,16)])}}});export{P as _};
