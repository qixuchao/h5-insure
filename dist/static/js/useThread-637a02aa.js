var t=Object.defineProperty,i=(i,s,e)=>(((i,s,e)=>{s in i?t(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e})(i,"symbol"!=typeof s?s+"":s,e),e);const s=()=>{};class e{constructor(t){i(this,"params"),i(this,"time",1e3),i(this,"total",0),i(this,"timer"),i(this,"deltaTime",0),i(this,"startTime",0),i(this,"isStart",!1),this.params=this.init(t)}init(t){const i={start:t.start||s,stop:t.stop||s,number:t.number?Math.abs(t.number):0,time:t.time?Math.abs(t.time):300};return this.time=t.time,i}run(){window.requestAnimationFrame((t=>{this.startTime=t,this.isStart=!0,this.runTime()}))}stop(){clearTimeout(this.timer),this.isStart=!1,this.params.stop()}runTime(){window.requestAnimationFrame((t=>{if(this.deltaTime+=t-this.startTime,this.startTime=t,this.deltaTime>=this.time){this.deltaTime=0;try{this.params.start()}finally{if(this.params.number>0){if(this.total>=this.params.number)return void this.stop();this.total||(this.total=1),this.total+=1}}}this.isStart&&this.runTime()}))}}var a=t=>new e(t);export{a as u};
