import{_ as a,d as e,h as s,g as t,i as o,aE as r,o as n,c as i,u as d,l as f,q as c,a as l,b as m,w as u,a8 as p,aL as v,a9 as I,bq as j,ag as y}from"./index-c05ad1f7.js";import{_ as h}from"./PolicyInfo-c1596d90.js";import{u as b}from"./useOrder-ed78d670.js";import{p as g}from"./utils-950e9fef.js";import{g as _,m as k}from"./trial-e55b0119.js";import{n as x}from"./nextStep-774a8f77.js";import{B as C,a as L}from"./constants-fe95ef6f.js";import"./utils-28f79c50.js";import"./infoCollection-fade1e4e.js";import"./trial-0105f9a8.js";import"./core-7902c44f.js";const P={class:"bank-info-wrap"},w={class:"footer-button"},q=e({name:"updateBankInfo"});var N=a(e({...q,setup(a){const e=s(),q=t(),{orderNo:N,isShare:O,tenantId:S}=e.query,G=b(),V=o({schema:[],config:[],formData:[]}),B=o(!!O),D=o(),E=()=>{q.back()},R=()=>{D.value&&D.value.validate(!1).then((a=>{a&&x(G.value,((a,s)=>{s===v.JUMP_PAGE&&I(a.nextPageCode,e.query)}),e)}))};return r((()=>{(async()=>{let a={};const{code:e,data:s}=await _({orderNo:N,tenantId:S});"10000"===e&&(Object.assign(G.value,s,{extInfo:{...s.extInfo,buttonCode:C.SIGN,pageCode:L.SIGN}}),a=g(s.insuredList[0].productList)),k(a).then((({data:a,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:s}=a,{payInfo:t}=j(s);V.value={...V.value,...t}}}))})()})),(a,e)=>{const s=y;return n(),i("div",P,[d(V).schema.length?(n(),f(h,{key:0,ref_key:"payInfoRef",ref:D,modelValue:d(G).tenantOrderPayInfoList,"onUpdate:modelValue":e[0]||(e[0]=a=>d(G).tenantOrderPayInfoList=a),schema:d(V).schema,"is-view":d(B)},null,8,["modelValue","schema","is-view"])):c("",!0),l("div",w,[m(s,{onClick:E},{default:u((()=>[p("取消")])),_:1}),m(s,{type:"primary",onClick:R},{default:u((()=>[p("确认")])),_:1})])])}}}),[["__scopeId","data-v-6c66b7c0"]]);export{N as default};
