var et=Object.defineProperty,tt=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var be=(t,a,o)=>a in t?et(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,ie=(t,a)=>{for(var o in a||(a={}))at.call(a,o)&&be(t,o,a[o]);if(we)for(var o of we(a))ut.call(a,o)&&be(t,o,a[o]);return t},de=(t,a)=>tt(t,ot(a));import{g as ee,Q as Oe,E as A,y as ae,j as m,n as w,z as s,J as M,p as i,L as me,A as u,B as st,a4 as pe,a5 as _e,F as G,G as J,k as Y,C as q,t as z,r as k,m as b,_ as fe,M as Le,ar as nt,h as xe,a9 as lt,O as rt,af as it,H as dt,l as ct,T as mt}from"./vendor-fba8f663.js";import{_ as ue,d as ft,e as Ue,V as he,i as se,S as pt,C as Be,j as _t,a as ve,a2 as Ie,$ as ht,m as vt,G as Ae,a1 as Pe}from"./index-274c0709.js";import{P as Dt}from"./index-0f10296a.js";import{c as Ft}from"./close-df102554.js";import{t as Me}from"./theme-eeb93d73.js";import{R as Fe,S as $e,a as gt,f as De}from"./infoCollection-b0426750.js";import{A as Ct}from"./bankCard-b0679059.js";import{a as Et,b as Te,t as yt,g as wt}from"./utils-5991a446.js";import{b as ge,v as bt}from"./validator-ebd71d12.js";import{a as Ve}from"./order-b675ac95.js";import{p as Se,i as Bt,s as It,a as At,u as Pt,b as $t}from"./trial-be0f5d7a.js";import{p as Tt}from"./product-7586effe.js";import"./trial-4c1aaa5e.js";const Vt=t=>(pe("data-v-47f4f4ca"),t=t(),_e(),t),St={class:"com-question-item"},kt={class:"question"},Nt=Vt(()=>s("div",{class:"icon"},M("?"),-1)),Ot={class:"title"},Lt=ee({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Oe(!1),r=A(),l=()=>{o()},e=ae(()=>a.value?ft(r.value):0);return(h,d)=>(m(),w("div",St,[s("div",kt,[Nt,s("div",Ot,M(t.question),1),i(Ue,{name:"down",class:me(["arrow-icon",{show:u(a)}]),onClick:l},null,8,["class"])]),s("div",{ref_key:"answerDom",ref:r,class:"answer",style:st({height:`${u(e)}px`})},M(t.answer),5)]))}});var xt=ue(Lt,[["__scopeId","data-v-47f4f4ca"]]);const Ut={class:"com-question"},Mt=ee({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,r]=Oe(!1),l=()=>{r()},e=ae(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(h,d)=>(m(),w("div",Ut,[(m(!0),w(G,null,J(u(e),(B,E)=>(m(),Y(xt,{key:E,question:B.title,answer:B.desc},null,8,["question","answer"]))),128)),t.list.length>4?(m(),w("div",{key:0,class:"show-more",onClick:l},[q(M(u(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),i(Ue,{name:"down",class:me(["icon",{showMore:u(o)}])},null,8,["class"])])):z("",!0)]))}});var Rt=ue(Mt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Ht=t=>typeof t=="number"&&isFinite(t),qt=t=>X(t)&&Object.keys(t).length===0,Kt=Object.assign;let ke;const Yt=()=>ke||(ke=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ce=Array.isArray,Q=t=>typeof t=="string",Ce=t=>typeof t=="boolean",Wt=Object.prototype.toString,jt=t=>Wt.call(t),X=t=>jt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function zt(t,a,o={}){const{domain:r,messages:l,args:e}=o,h=t,d=new SyntaxError(String(h));return d.code=t,a&&(d.location=a),d.domain=r,d}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Gt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Jt=null;Gt.FunctionTranslate;function Qt(t){return a=>Jt}const Xt=-1;function Zt(t,a,o,r,l){const{missing:e,onWarn:h}=t;if(e!==null){const d=e(t,o,a,l);return Q(d)?d:a}else return a}function eo(t,a,o){const r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let l=r.__localeChainCache.get(o);if(!l){l=[];let e=[o];for(;ce(e);)e=Ne(l,e,a);const h=ce(a)?a:X(a)?a.default?a.default:null:a;e=Q(h)?[h]:h,ce(e)&&Ne(l,e,!1),r.__localeChainCache.set(o,l)}return l}function Ne(t,a,o){let r=!0;for(let l=0;l<a.length&&Ce(r);l++){const e=a[l];Q(e)&&(r=to(t,a[l],o))}return r}function to(t,a,o){let r;const l=a.split("-");do{const e=l.join("-");r=oo(t,e,o),l.splice(-1,1)}while(l.length&&r===!0);return r}function oo(t,a,o){let r=!1;if(!t.includes(a)&&(r=!0,a)){r=a[a.length-1]!=="!";const l=a.replace(/!/g,"");t.push(l),(ce(o)||X(o))&&o[l]&&(r=o[l])}return r}function ao(t){return zt(t,null,void 0)}function uo(t,...a){const{numberFormats:o,unresolving:r,fallbackLocale:l,onWarn:e}=t,{__numberFormatters:h}=t,[d,B,E,L]=so(...a),R=Ce(E.missingWarn)?E.missingWarn:t.missingWarn;Ce(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const N=!!E.part,K=Q(E.locale)?E.locale:t.locale,te=eo(t,l,K);if(!Q(d)||d==="")return new Intl.NumberFormat(K).format(B);let W={},H,p=null;const n="number format";for(let j=0;j<te.length&&(H=te[j],W=o[H]||{},p=W[d],!X(p));j++)Zt(t,d,H,R,n);if(!X(p)||!Q(H))return r?Xt:d;let D=`${H}__${d}`;qt(L)||(D=`${D}__${JSON.stringify(L)}`);let P=h.get(D);return P||(P=new Intl.NumberFormat(H,Kt({},p,L)),h.set(D,P)),N?P.formatToParts(B):P.format(B)}function so(...t){const[a,o,r,l]=t;let e={},h={};if(!Ht(a))throw ao(14);const d=a;return Q(o)?e.key=o:X(o)&&(e=o),Q(r)?e.locale=r:X(r)&&(h=r),X(l)&&(h=l),[e.key||"",d,e,h]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Yt().__INTLIFY_PROD_DEVTOOLS__=!1);const Re=t=>(pe("data-v-c8a8e288"),t=t(),_e(),t),no={key:0,class:"pro-modal"},lo=Re(()=>s("div",{class:"pro-overlay"},null,-1)),ro={class:"pro-modal-wrapper"},io={class:"pro-modal-body"},co={class:"pro-modal-content"},mo=Re(()=>s("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),fo={class:"pro-modal-content"},po={class:"product-attachment-list"},_o=q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),ho={key:0,class:"dun-hao"},vo=["src"],Do=ee({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:uo,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,r=()=>{a("on-close")},l=()=>{a("on-confirm")};return(e,h)=>{const d=k("ProPDFviewer");return o.isShow?(m(),w("div",no,[lo,s("div",ro,[s("div",io,[s("div",co,[s("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+M(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),mo]),s("div",{class:"pro-modal-btn",onClick:l},"\u4E00\u952E\u5347\u7EA7"),s("div",fo,[s("div",po,[_o,(m(!0),w(G,null,J(o.attachmentList,(B,E)=>(m(),Y(d,{key:E,class:"file-name",title:`\u300A${B.attachmentName}\u300B`,content:B.attachmentUri,type:"pdf"},{default:b(()=>[E!==(o.attachmentList||[]).length-1?(m(),w("span",ho,"\u3001")):z("",!0)]),_:2},1032,["title","content"]))),128))])])]),s("div",{class:"pro-modal-close",onClick:r},[s("img",{src:u(Ft)},null,8,vo)])])])):z("",!0)}}});var Fo=ue(Do,[["__scopeId","data-v-c8a8e288"]]);const go={class:"list"},Co={class:"item"},Eo={class:"footer"},yo=q("\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u5B8C\u5168\u7B26\u5408\u5065\u5EB7\u544A\u77E5\u5185\u5BB9"),wo=ee({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","submit"],setup(t,{emit:a}){const o=t,r=A(o.show),l=A(o.activeIndex),e=()=>{a("update:show",!1),a("submit")};return fe(()=>o,()=>{console.log("props",o),r.value=o.show},{deep:!0,immediate:!0}),(h,d)=>{const B=k("ProTab"),E=k("ProFilePreview"),L=k("VanButton"),R=k("ProPopup");return m(),Y(R,{show:r.value,"onUpdate:show":d[1]||(d[1]=N=>r.value=N),height:80,class:"file-preview-popup-wrap",closeable:!1,onClose:d[2]||(d[2]=N=>a("update:show",!1))},{default:b(()=>[i(B,{active:l.value,"onUpdate:active":d[0]||(d[0]=N=>l.value=N),list:t.contentList.map((N,K)=>({title:N.attachmentName,slotName:`guarantee-${K}`})),class:"tab"},null,8,["active","list"]),s("div",go,[s("div",Co,[i(E,{content:t.contentList[l.value].attachmentUri,type:"pdf"},null,8,["content"])])]),s("div",Eo,[i(L,{type:"primary",block:"",onClick:e},{default:b(()=>[yo]),_:1})])]),_:1},8,["show"])}}});const O=t=>(pe("data-v-4a163066"),t=t(),_e(),t),bo=O(()=>s("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),Bo=O(()=>s("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),Io=O(()=>s("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),Ao={class:"attachment-list"},Po={class:"product-attachment-list"},$o=q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),To=["onClick"],Vo={class:"rate-attachment-list"},So=q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),ko=["onClick"],No={key:0},Oo=O(()=>s("div",{class:"title"},"\u5F00\u901A\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",-1)),Lo={class:"pro-radio"},xo={class:"desc_arrow"},Uo={key:0,class:"renewal-y-desc renewal-desc"},Mo=O(()=>s("div",{class:"sub-title"},"\u5F00\u901A\u540E\u53EF\u4EAB\u53D7\uFF1A",-1)),Ro=O(()=>s("div",{class:"desc"},"\u5B89\u5FC3\uFF01\u5F00\u901A\u81EA\u52A8\u7F34\u8D39\u53EF\u4F7F\u4FDD\u969C\u4E0D\u95F4\u65AD",-1)),Ho=O(()=>s("div",{class:"desc"},"\u7701\u5FC3\uFF01\u4E0B\u4E00\u5E74\u91CD\u65B0\u6295\u4FDD\uFF0C\u4E0D\u7528\u62C5\u5FC3\u65AD\u4FDD",-1)),qo=O(()=>s("div",{class:"desc"},"\u653E\u5FC3\uFF01\u65E0\u989D\u5916\u8D39\u7528\uFF0C\u5F00\u901A\u540E\u53EF\u968F\u65F6\u53D6\u6D88",-1)),Ko=O(()=>s("div",{class:"desc"},"\u63D0\u793A:\u672C\u4EA7\u54C1\u4E3A\u4E00\u5E74\u671F\u975E\u4FDD\u8BC1\u7EED\u4FDD\u4EA7\u54C1",-1)),Yo=[Mo,Ro,Ho,qo,Ko],Wo={key:1,class:"renewal-n-desc renewal-desc"},jo=O(()=>s("div",{class:"sub-title"},"\u672A\u5F00\u901A\uFF0C\u4E00\u65E6\u65AD\u4FDD\u5C06\u9762\u4E34\uFF1A",-1)),zo=O(()=>s("div",{class:"desc"},"\u65AD\u4FDD\u540E\u5C06\u5931\u53BB\u4FDD\u969C\uFF0C\u65AD\u4FDD\u671F\u95F4\u51FA\u9669\u4E0D\u53EF\u7406\u8D54",-1)),Go=O(()=>s("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u7B49\u5F85\u671F\u5185\u51FA\u9669\u65E0\u6CD5\u7406\u8D54",-1)),Jo=O(()=>s("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u9700\u6838\u5B9E\u5065\u5EB7\u72B6\u51B5\uFF0C\u53EF\u80FD\u65E0\u6CD5\u6295\u4FDD",-1)),Qo=[jo,zo,Go,Jo],Xo=ee({props:{isCheck:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,r=A({}),l=[{value:"Y",title:"\u7533\u8BF7\u5F00\u901A"},{value:"N",title:"\u6682\u4E0D\u5F00\u901A"}],e=Le({insureDisable:!0,formInfo:o.formInfo}),h=A(!1),d=A(0),B=A(!1),E=p=>ge(p)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",L=ae(()=>{var p,n;return(n=(p=o.productDetail)==null?void 0:p.tenantProductInsureVO)==null?void 0:n.attachmentVOList.filter(D=>D.attachmentName==="\u8D39\u7387\u8868")}),R=ae(()=>{var p,n;return((n=(p=o.productDetail)==null?void 0:p.tenantProductInsureVO)==null?void 0:n.attachmentVOList.filter(D=>D.attachmentName!=="\u8D39\u7387\u8868"))||[]}),N=()=>(B.value=!0,B),K=p=>{d.value=p,h.value=!0},te=()=>new Promise((p,n)=>{r==null||r.value.validate().then(()=>{p("")},()=>{n()})}),W=p=>{o.disable||e.formInfo.renewalDK===p||(e.formInfo.renewalDK=p)},H=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return fe(()=>e.formInfo.insured.relationToHolder,(p,n)=>{o.disable||p!==n&&(p.toString()===Fe.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:p},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:p},e.insureDisable=!1))}),fe(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===Fe.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:te,previewFile:K,isAgreeFile:B,onSubmit:N}),(p,n)=>{const D=k("ProField"),P=k("ProRadioButton"),j=k("ProPicker"),ne=k("ProTabButton"),oe=k("ProForm"),I=k("van-config-provider");return m(),Y(I,{"theme-vars":u(Me)},{default:b(()=>[i(oe,{ref_key:"formRef",ref:r},{default:b(()=>[s("div",null,[bo,i(D,{modelValue:u(e).formInfo.holder.name,"onUpdate:modelValue":n[0]||(n[0]=c=>u(e).formInfo.holder.name=c),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:E}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),i(D,{modelValue:u(e).formInfo.holder.certNo,"onUpdate:modelValue":n[1]||(n[1]=c=>u(e).formInfo.holder.certNo=c),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[u(he).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(D,{modelValue:u(e).formInfo.holder.mobile,"onUpdate:modelValue":n[2]||(n[2]=c=>u(e).formInfo.holder.mobile=c),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[u(he).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(D,{modelValue:u(e).formInfo.holder.socialFlag,"onUpdate:modelValue":n[4]||(n[4]=c=>u(e).formInfo.holder.socialFlag=c),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:b(()=>[i(P,{modelValue:u(e).formInfo.holder.socialFlag,"onUpdate:modelValue":n[3]||(n[3]=c=>u(e).formInfo.holder.socialFlag=c),disabled:o.disable,options:u($e)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),i(se),s("div",null,[Bo,i(D,{modelValue:u(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":n[6]||(n[6]=c=>u(e).formInfo.insured.relationToHolder=c),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:b(()=>[i(P,{modelValue:u(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":n[5]||(n[5]=c=>u(e).formInfo.insured.relationToHolder=c),disabled:o.disable,options:u(gt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),i(D,{modelValue:u(e).formInfo.insured.name,"onUpdate:modelValue":n[7]||(n[7]=c=>u(e).formInfo.insured.name=c),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:E}],"is-view":u(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),i(D,{modelValue:u(e).formInfo.insured.certNo,"onUpdate:modelValue":n[8]||(n[8]=c=>u(e).formInfo.insured.certNo=c),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[u(he).ID_CARD],"is-view":u(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),i(D,{modelValue:u(e).formInfo.insured.socialFlag,"onUpdate:modelValue":n[10]||(n[10]=c=>u(e).formInfo.insured.socialFlag=c),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:b(()=>[i(P,{modelValue:u(e).formInfo.insured.socialFlag,"onUpdate:modelValue":n[9]||(n[9]=c=>u(e).formInfo.insured.socialFlag=c),disabled:o.disable||u(e).insureDisable,options:u($e)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),i(se),s("div",null,[Io,i(D,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:b(()=>[q(M(u(Et)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),i(j,{modelValue:u(e).formInfo.paymentMethod,"onUpdate:modelValue":n[11]||(n[11]=c=>u(e).formInfo.paymentMethod=c),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":u(Ct),"is-view":o.disable||u(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),o.isCheck?z("",!0):(m(),Y(D,{key:0,label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:b(()=>[i(ne,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:u(e).formInfo.renewalDK,onClick:H},null,8,["disabled","active"])]),_:1})),s("div",Ao,[s("div",Po,[$o,(m(!0),w(G,null,J(u(R),(c,T)=>(m(),w("span",{key:`attachment-${T}`,class:"file-name",onClick:le=>K(T)},M(`\u300A${c.attachmentName}\u300B`),9,To))),128))]),s("div",Vo,[So,(m(!0),w(G,null,J(u(L),(c,T)=>(m(),w("span",{key:`rate-${T}`,class:"file-name",onClick:le=>K(u(R).length+T)},M(`\u300A${c.attachmentName}\u300B`),9,ko))),128))])])]),i(se),i(wo,{show:h.value,"onUpdate:show":n[12]||(n[12]=c=>h.value=c),"content-list":u(R).concat(u(L)),"active-index":d.value,onSubmit:N},null,8,["show","content-list","active-index"]),o.isCheck?(m(),w("div",No,[i(se),Oo,s("div",Lo,[(m(),w(G,null,J(l,(c,T)=>i(ne,{key:T,title:c.title,active:u(e).formInfo.renewalDK===c.value,onClick:le=>W(c.value)},null,8,["title","active","onClick"])),64))]),s("div",xo,[s("div",{class:me(["arrow light",{show:u(e).formInfo.renewalDK==="Y"||u(e).formInfo.renewalDK===""}])},null,2),s("div",{class:me(["arrow dark",{show:u(e).formInfo.renewalDK==="N"}])},null,2)]),u(e).formInfo.renewalDK==="Y"?(m(),w("div",Uo,Yo)):(m(),w("div",Wo,Qo))])):z("",!0),i(se)]),_:1},512)]),_:1},8,["theme-vars"])}}});var Zo=ue(Xo,[["__scopeId","data-v-4a163066"]]);const He=t=>(pe("data-v-09476d18"),t=t(),_e(),t),ea=He(()=>s("div",{class:"header"},null,-1)),ta=He(()=>s("div",{class:"content"},[s("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A"),s("p",null,[q(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653"),s("span",null,"\u300A\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56\u300B"),q("\uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 ")])],-1)),oa={class:"footer"},aa=q("\u597D\u7684 "),ua={key:0},sa=ee({setup(t){const a="PRENOTICE",o=new pt({source:"sessionStorage"}),r=A(!1),l=nt({time:3e3,onFinish:()=>{o.set(`${a}-isShow`,"1"),r.value=!1}}),e=ae(()=>l.current.value.seconds);return xe(()=>{o.get(`${a}-isShow`)||(r.value=!0,l.start())}),(h,d)=>{const B=k("VanButton"),E=k("ProPopup");return m(),Y(E,{class:"pre-notice-wrap",show:r.value,closeable:!1,height:40},{default:b(()=>[ea,ta,s("div",oa,[i(B,{type:"primary",block:""},{default:b(()=>[aa,u(e)?(m(),w("span",ua,M(u(e))+"s",1)):z("",!0)]),_:1})])]),_:1},8,["show"])}}});var na=ue(sa,[["__scopeId","data-v-09476d18"]]);const la={class:"page-product-detail"},ra={class:"info"},ia=["src"],da={class:"guarantee-list"},ca={key:0,class:"basic"},ma={class:"tab-1"},fa=["src"],pa={class:"footer-button"},_a={class:"price"},ha=q(" \u603B\u4FDD\u8D39"),va={class:"guarantee-list"},Da={class:"title"},Fa={class:"content"},ga=ee({setup(t){const a=lt(),o=rt(),{productCode:r="BWYL2021",tenantId:l,orderNo:e,phoneNo:h,agentCode:d,saleChannelId:B,paymentMethod:E,certNo:L,name:R,pageCode:N,from:K}=o.query,te=A([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),W=A(),H=A(0),p=A(!1),n=A(),D=A(),P=A(),j=K==="check";A(!1);const ne=!!(R&&L&&h)||!!e,oe=N==="payBack",I=Le({holder:{certNo:L,certType:Be.CERT,mobile:h,name:R,socialFlag:De.HAS},insured:{certNo:L,certType:Be.CERT,name:R,socialFlag:De.HAS,relationToHolder:Fe.SELF},paymentMethod:E,paymentMethodDisable:!!E,renewalDK:"Y"}),c=A(!1),T=A(!1),le=()=>{c.value=!1},qe=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:de(ie({},o.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:d})})},Ke=()=>{p.value=!0},re=ae(()=>{var g,v,f,C,y,$,S;return((f=(v=(g=n.value)==null?void 0:g.tenantProductInsureVO)==null?void 0:v.guaranteeList)==null?void 0:f.length)?(y=(C=n.value)==null?void 0:C.tenantProductInsureVO)==null?void 0:y.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(S=($=n.value)==null?void 0:$.tenantProductInsureVO)==null?void 0:S.titleAndDescVOS}]}),Ee=()=>{const{holder:{certNo:g,mobile:v,name:f,socialFlag:C},insured:{certNo:y,name:$,socialFlag:S,relationToHolder:x},paymentMethod:U}=I,F=Ae(g)&&bt(v)&&ge(f)&&!!C,_=Ae(y)&&ge($)&&!!S&&!!x;return!!(F&&_&&!!U)},Ye=async g=>{mt.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const v=await Pt(g),{code:f}=v;if(f==="10000"){const C=await $t({orderNo:g.orderNo,tenantId:l}),{data:y}=C;f==="10000"?window.location.href=y:T.value=!1}else T.value=!1}catch{T.value=!1}},We=g=>`${Pe}/chuangxin/baigebao/productDetail?tenantId=${l}&productCode=${r}&orderNo=${g}&agentCode=${d}&pageCode=payBack`,je=g=>`${Pe}/chuangxin/baigebao/payFail?tenantId=${l}&orderNo=${g}&agentCode=${d}`,ze=async g=>{const v=wt({tenantId:l,saleUserId:d,saleChannelId:B,detail:n.value,insureDetail:D.value,paymentMethod:I.paymentMethod,renewalDK:I.renewalDK,successJumpUrl:"",premium:P.value,holder:I.holder,insured:I.insured,tenantOrderRiskList:g,orderStatus:"",orderTopStatus:""});try{const f=await It(v),{code:C,data:y}=f;C==="10000"&&Ye(de(ie({},v),{orderNo:y.data,extInfo:{extraInfo:{renewalDK:I.renewalDK,paymentMethod:I.paymentMethod,successJumpUrl:We(y.data),failUrl:je(y.data)}}}))}catch{T.value=!1}},ye=async()=>{const{calcData:g,riskVOList:v}=Te({holder:I.holder,insured:I.insured,tenantId:l,productDetail:n.value,insureDetail:D.value}),f=async()=>{const C=await Se(g),{code:y,data:$}=C;return y==="10000"?(P.value=$.premium,{condition:v,data:$}):{}};f(),ct.exports.debounce(f,500,{trailing:!0})},Ge=()=>new Promise((g,v)=>{var f,C;(C=(f=W.value)==null?void 0:f.validateForm)==null||C.call(f).then(async()=>{const{calcData:y,riskVOList:$}=Te({holder:I.holder,insured:I.insured,tenantId:l,productDetail:n.value,insureDetail:D.value}),S=await Se(y),{code:x,data:U}=S;x==="10000"?(P.value=U.premium,g({condition:$,data:U})):v(new Error)}).catch(()=>{T.value=!1})}),Je=async()=>{var v,f,C;const g=(v=W.value)==null?void 0:v.isAgreeFile;if(j&&!g){(f=W.value)==null||f.previewFile(0);return}if(oe){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:de(ie({},o.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:d})});return}T.value=!0;try{const{condition:y,data:$}=await Ge(),S={},x=(F=[])=>{(F||[]).forEach(_=>{var V;S[_.riskCode]=_,((V=_.riskPremiumDetailVOList)==null?void 0:V.length)&&x(_.riskPremiumDetailVOList)})};x($.riskPremiumDetailVOList);const U=yt({tenantId:l,riskList:y,riskPremium:S,productId:(C=n.value)==null?void 0:C.id});ze(U)}catch{T.value=!1}};fe(()=>I,()=>{n.value&&D.value&&!oe&&Ee()&&ye()},{deep:!0,immediate:!0});const Qe=async()=>{var C,y,$,S,x,U,F;const g=await At({orderNo:e,tenantId:l}),{code:v,data:f}=g;if(v==="10000"){const{tenantOrderHolder:_,tenantOrderInsuredList:V,extInfo:Z}=f;if(I.holder={certNo:_.certNo,certType:_.certType,mobile:_.mobile,name:_.name,socialFlag:De.HAS},I.insured={certNo:V==null?void 0:V[0].certNo,certType:(C=V[0])==null?void 0:C.certType,name:(y=V[0])==null?void 0:y.name,socialFlag:(S=($=V[0])==null?void 0:$.extInfo)==null?void 0:S.hasSocialInsurance,relationToHolder:(x=V[0])==null?void 0:x.relationToHolder},I.paymentMethod=Z.extraInfo.paymentMethod,P.value=(F=(U=V[0])==null?void 0:U.tenantOrderProductList[0])==null?void 0:F.premium,I.renewalDK=Z.extraInfo.renewalDK?"Y":"N",N==="productDetail")return;(f.orderStatus===Ve.ACCEPT_POLICY||f.orderStatus===Ve.PAYMENT_SUCCESS)&&(c.value=!0)}},Xe=async()=>{const g=Tt({productCode:r,withInsureInfo:!0,tenantId:l}),v=Bt({productCode:r});await Promise.all([g,v]).then(([f,C])=>{f.code==="10000"&&(n.value=f.data),C.code==="10000"&&(D.value=C.data)}),e?Qe():Ee()&&ye()};return xe(()=>{Xe(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(g,v)=>{const f=k("van-button"),C=k("van-config-provider"),y=it("dompurify-html");return m(),Y(C,{"theme-vars":u(Me)},{default:b(()=>{var $,S,x,U;return[s("div",la,[s("div",ra,[s("img",{src:(S=($=n.value)==null?void 0:$.tenantProductInsureVO)==null?void 0:S.banner[0],class:"banner"},null,8,ia),s("div",da,[i(ve,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:Ke},{default:b(()=>{var F,_,V;return[n.value&&((F=n.value)==null?void 0:F.tenantProductInsureVO)?(m(),w("div",ca,[(m(!0),w(G,null,J((V=(_=u(re))==null?void 0:_[H.value])==null?void 0:V.titleAndDescVOS,(Z,Ze)=>(m(),Y(_t,{key:Ze,class:"guarantee-item",title:Z.title,content:Z.desc,border:!1},null,8,["title","content"]))),128))])):z("",!0)]}),_:1})])]),i(Ie,{class:"tabs",list:te.value,sticky:"",scrollspy:""},{tab1:b(()=>[i(Zo,{ref_key:"formRef",ref:W,"is-check":j,"holder-disable":u(ne),disable:oe,"form-info":u(I),premium:P.value,"product-detail":n.value},null,8,["holder-disable","form-info","premium","product-detail"])]),tab2:b(()=>{var F,_;return[s("div",ma,[(m(!0),w(G,null,J(((_=(F=n.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:_.spec)||[],(V,Z)=>(m(),w("img",{key:Z,src:V,class:"detail-img"},null,8,fa))),128))])]}),tab3:b(()=>[i(ve,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:b(()=>{var F,_;return[i(Dt,{list:(_=(F=n.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:_.settlementProcessList},null,8,["list"])]}),_:1}),i(ve,{title:"\u5E38\u89C1\u95EE\u9898"},{default:b(()=>{var F,_;return[i(Rt,{list:(_=(F=n.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:_.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),s("div",pa,[s("div",_a,[ha,s("span",null,"\uFFE5"+M(u(ht)(P.value))+"/\u6708",1)]),i(f,{type:"primary",class:"right",disabled:T.value,onClick:Je},{default:b(()=>[q(M(oe?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])]),j?(m(),Y(na,{key:0})):z("",!0),i(vt,{show:p.value,"onUpdate:show":v[0]||(v[0]=F=>p.value=F),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:b(()=>[u(re).length>1?(m(),Y(Ie,{key:0,list:u(re).map((F,_)=>({title:F.guaranteeType,slotName:`guarantee-${_}`})),class:"tab"},null,8,["list"])):z("",!0),s("div",va,[(m(!0),w(G,null,J(u(re)[H.value].titleAndDescVOS,(F,_)=>(m(),w("div",{key:_,class:"guarantee-item"},[s("div",Da,M(F.title),1),dt(s("div",Fa,null,512),[[y,F.content]])]))),128))])]),_:1},8,["show"]),i(Fo,{"is-show":c.value,premium:P.value,"attachment-list":(U=(x=n.value)==null?void 0:x.tenantProductInsureVO)==null?void 0:U.attachmentVOList,onOnConfirm:qe,onOnClose:le},null,8,["is-show","premium","attachment-list"])]}),_:1},8,["theme-vars"])}}});var Na=ue(ga,[["__scopeId","data-v-704b553c"]]);export{Na as default};
