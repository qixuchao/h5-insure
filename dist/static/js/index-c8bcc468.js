import{d as a,L as e,a1 as t,c as s,A as i,i as l,g as o,r as n,R as r,w as d,U as u,V as c,e as p,ag as v,f,j as m,E as k,as as h,at as V,h as y,a2 as O,G as L,aa as g,B as b,au as I,av as C,al as R,am as S,u as x,a as P,z as w,o as D,F as T,k as _,n as F,aw as E,T as j,$ as A,ax as M,ak as B,C as K,P as N,p as q}from"./index-2d469993.js";import{l as U,P as $}from"./index-a7726478.js";import"./infoCollection-33c52b55.js";import{I as z,P as W}from"./index-d9437ea3.js";import{_ as H}from"./TrialButton-f983cd60.js";import{g as G,P as J,d as Q}from"./utils-43a46112.js";import{P as X}from"./index-a26ddd0d.js";import{S as Y,_ as Z}from"./box-title-55f52610.js";import{_ as aa}from"./index-72673b14.js";import{T as ea}from"./Table-2085ca9d.js";import{u as ta,b as sa,p as ia,q as la,a as oa}from"./trial-b86fad70.js";import{u as na}from"./useOrder-f76e2a41.js";import{f as ra}from"./utils-fd987e9e.js";import{t as da}from"./utils-6a715115.js";import{P as ua,B as ca}from"./constants-7afb7c3d.js";import{n as pa}from"./nextStep-a2b850c7.js";const va={class:"benefit-table"},fa=a({name:"benefitTable"}),ma=a({...fa,props:{dataSource:null},setup(a){const n=a,r=e((()=>{const a=n.dataSource.headers.length,e=12*n.dataSource.headers.join("").length+20*n.dataSource.headers.length;return n.dataSource.headers.map(((t,s)=>{const i=e>320?12*t.length+20:Math.max(12*t.length+20,320/a);return console.log("totalWordWidth:",e,"titleWidth:",i,"word-width:",12*t.length+20),{title:t,key:`header_${s}`,fixed:s<2,minWidth:i}}))})),d=e((()=>n.dataSource.dataList.map((a=>{const e={};return a.forEach(((a,t)=>{e[`header_${t}`]=a})),e}))));return t((()=>{})),(a,e)=>(s(),i("div",va,[l(ea,{"top-height":400,columns:o(r),data:o(d),"is-clone":!0},null,8,["columns","data"])]))}});const ka=a=>(R("data-v-414a32d4"),a=a(),S(),a),ha={key:0,class:"benefit-container"},Va={key:0,class:"benefit"},ya=ka((()=>f("div",{class:"line"},null,-1))),Oa={class:"box-title box-title-chart"},La=ka((()=>f("img",{class:"tl",src:Z,alt:""},null,-1))),ga=ka((()=>f("img",{class:"transform-z180 tr",src:Z,alt:""},null,-1))),ba={key:0},Ia={class:"box"},Ca={class:"box-title"},Ra=ka((()=>f("img",{class:"tl",src:Z,alt:""},null,-1))),Sa=ka((()=>f("img",{class:"transform-z180 tr",src:Z,alt:""},null,-1))),xa={class:"box-price"},Pa={class:"text1"},wa={class:"text2"},Da={key:1},Ta={key:2,style:{width:"100%, minWidth: 338px"}},_a={class:"slider"},Fa={style:{flex:"1",margin:"0px 5px"}},Ea={class:"custom-button"},ja=ka((()=>f("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Aa={class:"btn-two"},Ma={key:1,class:"benefit-container"},Ba={key:0},Ka={class:"benefit"},Na=ka((()=>f("div",{class:"line"},null,-1))),qa=ka((()=>f("div",null,[f("div",{class:"box"},[f("p",{class:"box-title"},[f("img",{class:"tl",src:Z,alt:""}),m(" 保单年度"),f("span",null,"-"),m("年度，被保人"),f("span",null,"-"),m("岁时 "),f("img",{class:"transform-z180 tr",src:Z,alt:""})]),f("div",{class:"box-price"})])],-1))),Ua={class:"slider"},$a={class:"opt lf"},za={style:{flex:"1",margin:"0px 5px"}},Wa=ka((()=>f("div",{class:"custom-button"},"0 岁",-1))),Ha={class:"opt rg"},Ga=ka((()=>f("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Ja={class:"btn-two"},Qa={key:1,class:"empty-box"},Xa=a({name:"benefit"});var Ya=L(a({...Xa,props:{dataSource:{default:()=>({showTypeList:["1"]})},productInfo:{default:()=>null}},setup(a){var e;const t=a,L="1",R="2",S="3",x=n(0),P=n(0),w=n(0),D=n(),T=n(0),_=n(null==(e=t.dataSource.showTypeList)?void 0:e[0]),F=n(),E=a=>{if(!(null==a?void 0:a.benefitRiskResultVOList))return;const e=null==a?void 0:a.benefitRiskResultVOList[x.value];P.value=e.ageBegin+1,T.value=e.ageBegin+1,w.value=e.ageEnd},j=()=>{var a,e,s,i,l,o;const n=null==(e=null==(a=t.dataSource)?void 0:a.benefitRiskResultVOList)?void 0:e[x.value];F.value=null==(l=null==(i=null==(s=t.dataSource)?void 0:s.benefitRiskResultVOList)?void 0:i[x.value].benefitRiskTableResultVOList)?void 0:l[0];const{a:r,year:d}=((a,e)=>{const t=[],s=[];for(let i=a,l=0;i<=e;i++,l++)t.push(i.toString()),s.push(l+1);return{a:t,year:s}})(P.value,w.value),u={index:r.indexOf(T.value.toString()),age:r,year:d,result:null==(o=null==n?void 0:n.benefitRiskItemResultVOList)?void 0:o[0]};D.value=u},A=()=>{T.value>w.value-1||(T.value+=1,j())},M=()=>{T.value>P.value&&(T.value-=1,j())},B=a=>{x.value=a.name,E(t.dataSource),j()};return r((()=>t.dataSource),(a=>{var e;a&&(E(a),j(),_.value=null==(e=a.showTypeList)?void 0:e[0])}),{deep:!0,immediate:!0}),r(T,(()=>{j()})),(e,n)=>{var r;const E=g,j=Y,K=b,N=I,q=C,U=X;return(null==(r=a.dataSource)?void 0:r.benefitRiskResultVOList)?(s(),i("div",ha,[l(q,{active:o(x),onClickTab:B},{default:d((()=>{var a;return[(s(!0),i(u,null,c(null==(a=t.dataSource)?void 0:a.benefitRiskResultVOList,((a,e)=>(s(),p(N,{key:e,name:e,title:a.riskName},{default:d((()=>{var a,r,g,b,I,C,B,N,q,U,$,z,W,H,G,J;return[e==o(x)?(s(),i("div",Va,[ya,v(f("p",Oa,[La,m(" 保单年度"),f("span",null,k(null==(g=null==(a=o(D))?void 0:a.year)?void 0:g[null==(r=o(D))?void 0:r.index]),1),m("年度，被保人"),f("span",null,k(null==(C=null==(b=o(D))?void 0:b.age)?void 0:C[null==(I=o(D))?void 0:I.index]),1),m("岁时 "),ga],512),[[h,o(_)===R]]),o(_)===L?(s(),i("div",ba,[f("div",Ia,[f("p",Ca,[Ra,m(" 保单年度"),f("span",null,k(null==(q=null==(B=o(D))?void 0:B.year)?void 0:q[null==(N=o(D))?void 0:N.index]),1),m("年度，被保人"),f("span",null,k(null==(z=null==(U=o(D))?void 0:U.age)?void 0:z[null==($=o(D))?void 0:$.index]),1),m("岁时 "),Sa]),f("div",xa,[(s(!0),i(u,null,c(null==(H=null==(W=o(D))?void 0:W.result)?void 0:H.headers,((a,e)=>{var t,l,n,r,d,u,c,p,v,m;return s(),i("div",{key:e,style:{width:"33%"}},[f("p",Pa,k(("0"==(null==(d=null==(r=null==(l=null==(t=o(D))?void 0:t.result)?void 0:l.dataList)?void 0:r[null==(n=o(D))?void 0:n.index])?void 0:d[e])?"0":o(V)(Number(null==(m=null==(v=null==(c=null==(u=o(D))?void 0:u.result)?void 0:c.dataList)?void 0:v[null==(p=o(D))?void 0:p.index])?void 0:m[e])))||"0"),1),f("p",wa,k(a)+"(元）",1)])})),128))])])])):y("",!0),o(_)===S?(s(),i("div",Da,[l(ma,{"data-source":o(F)},null,8,["data-source"])])):y("",!0),o(_)==R?(s(),i("div",Ta,[l(aa,{min:o(P),max:o(w),current:o(T),data:null==(J=null==(G=o(D))?void 0:G.result)?void 0:J.benefitRiskItemList},null,8,["min","max","current","data"])])):y("",!0),o(_)!=S?(s(),i(u,{key:3},[f("div",_a,[f("div",{class:"opt lf",onClick:M},[l(E,{name:"minus"})]),f("div",Fa,[o(P)?(s(),p(j,{key:0,modelValue:o(T),"onUpdate:modelValue":n[0]||(n[0]=a=>O(T)?T.value=a:null),min:o(P),max:o(w),"bar-height":"8px"},{button:d((()=>[f("div",Ea,k(o(T))+" 岁",1)])),_:1},8,["modelValue","min","max"])):y("",!0)]),f("div",{class:"opt rg",onClick:A},[l(E,{name:"plus"})])]),ja],64)):y("",!0),f("div",Aa,[t.dataSource.showTypeList.includes(L)?(s(),p(K,{key:0,round:"",plain:o(_)!==L,type:"primary",class:"btn",onClick:n[1]||(n[1]=a=>_.value=L)},{default:d((()=>[m("图表展示")])),_:1},8,["plain"])):y("",!0),t.dataSource.showTypeList.includes(R)?(s(),p(K,{key:1,round:"",plain:o(_)!==R,type:"primary",class:"btn",onClick:n[2]||(n[2]=a=>_.value=R)},{default:d((()=>[m("趋势展示")])),_:1},8,["plain"])):y("",!0),t.dataSource.showTypeList.includes(S)?(s(),p(K,{key:2,round:"",plain:o(_)!==S,type:"primary",class:"btn",onClick:n[3]||(n[3]=a=>_.value=S)},{default:d((()=>[m("表格展示")])),_:1},8,["plain"])):y("",!0)])])):y("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])):(s(),i("div",Ma,[t.productInfo?(s(),i("div",Ba,[l(q,{active:o(x),onClickTab:B},{default:d((()=>[(s(),p(N,{key:1,name:1,title:a.productInfo.insureProductRiskVOList[0].riskName},{default:d((()=>[f("div",Ka,[Na,qa,f("div",Ua,[f("div",$a,[l(E,{name:"minus"})]),f("div",za,[l(j,{modelValue:o(T),"onUpdate:modelValue":n[4]||(n[4]=a=>O(T)?T.value=a:null),min:0,max:80,"bar-height":"8px",disabled:""},{button:d((()=>[Wa])),_:1},8,["modelValue"])]),f("div",Ha,[l(E,{name:"plus"})])]),Ga,f("div",Ja,[l(K,{round:"",plain:!0,type:"primary",class:"btn",disabled:""},{default:d((()=>[m("图表展示")])),_:1}),l(K,{round:"",plain:!1,type:"primary",class:"btn",disabled:""},{default:d((()=>[m("趋势展示")])),_:1}),l(K,{round:"",plain:!1,type:"primary",class:"btn",disabled:""},{default:d((()=>[m("表格展示")])),_:1})])])])),_:1},8,["title"]))])),_:1},8,["active"])])):(s(),i("div",Qa,[l(U,{title:"试算结果正在计算中...","empty-class":"empty-select"})]))]))}}}),[["__scopeId","data-v-414a32d4"]]);const Za={key:0,class:"head-warning-wrap"},ae=f("div",{class:"warning-icon"},[f("span",null,"!")],-1),ee={class:"warning-text"},te=a({__name:"index",props:{labels:{default:()=>[]}},setup:a=>(e,t)=>a.labels.length>0?(s(),i("div",Za,[ae,f("div",ee,[(s(!0),i(u,null,c(a.labels,(a=>(s(),i("span",{key:a},k(a),1)))),128))])])):y("",!0)});const se={class:"com-body"},ie={class:"header"},le={class:"header-title"},oe={class:"trial-body"},ne={class:"container"},re=(a=>(R("data-v-57d723fd"),a=a(),S(),a))((()=>f("div",{class:"empty"},null,-1))),de=a({name:"TrialPop"});var ue=L(a({...de,props:{dataSource:{default:()=>[]},productInfo:{default:()=>({productCode:"",productName:"",insurerCode:"",tenantId:""})},shareInfo:{default:()=>({})},tenantProductDetail:{default:()=>({})},hideBenefit:{type:Boolean,default:!1},hidePopupButton:{type:Boolean,default:!1},title:{default:"算一算保费"},defaultData:{default:null}},setup(a,{expose:e}){const c=a,v=n(null),h=x();P();const{tenantId:V,templateId:O,preview:L}=h.query,g=w({loading:!1,show:!1,select:{},list:[],userData:{},riskIsInsure:{},submitData:{},riskVOList:[{}],mainRiskVO:{},ifPersonalInfoSuccess:!1,trialMsg:"",trialResult:0,isAniShow:!1,defaultValue:null,isAutoChange:!1,planIndex:0,isSkipFirstTrial:!1,hadSkipFirstTrial:!1}),b=na(),I=n(),C=n(),R=(a={},e={},t={})=>{var s;const i={...t},{tenantOrderHolder:l,tenantOrderInsuredList:o}=ra({holder:null==(s=g.submitData.holder)?void 0:s.personVO,insuredList:(g.submitData.insuredVOList||[]).map((a=>a.personVO))}),n=g.submitData.insuredVOList.map((a=>{var e,t;return null==(t=null==(e=a.productPlanVOList)?void 0:e[0])?void 0:t.riskVOList})).flat(),r={tenantId:V,riskList:n,riskPremium:e,productId:a.id};return i.extInfo.iseeBizNo=I.value,i.productCode=a.productCode,i.commencementTime=i.insuranceStartDate,i.expiryDate=i.insuranceEndDate,i.premium=g.trialResult,i.orderAmount=g.trialResult,i.orderRealAmount=g.trialResult,i.tenantOrderHolder=l,i.tenantOrderInsuredList=o.map((e=>({...e,certType:e.certType||K.CERT,certNo:(e.certNo||"").toLocaleUpperCase(),planCode:c.dataSource.planCode,tenantOrderProductList:[{premium:g.trialResult,productCode:a.productCode,productName:a.productName,planCode:c.dataSource.planCode,tenantOrderRiskList:da(r)}]}))),console.log("nextStepParams",i),i},S=n(),X=()=>{var a;L?F(ua.TRIAL_PREMIUM,h.query):g.trialResult&&(null==(a=v.value)||a.validate().then((()=>{Object.assign(b.value,{extInfo:{...b.value.extInfo,buttonCode:ca.TRIAL_PREMIUM,pageCode:ua.TRIAL_PREMIUM,templateId:O}});const a=R(c.productInfo,S.value,b.value);pa(a,((a,e)=>{e===N.JUMP_PAGE&&q(a.nextPageCode,{...h.query,orderNo:a.orderNo})})),console.log("---- validate success ----")})),g.loading=!1,g.show=!0,g.isAniShow=!0)},Y=a=>{var e;g.trialResult&&(null==(e=v.value)||e.validate().then((()=>{Object.assign(b.value,{extInfo:{...b.value.extInfo,buttonCode:ca.TRIAL_PREMIUM,pageCode:ua.TRIAL_PREMIUM,templateId:O}});const e=R(c.productInfo,S.value,b.value);pa(e,((e,t)=>{t===N.JUMP_PAGE&&(C.value.link=`${window.location.href}&isShare=1&orderNo=${e.orderNo}`,a())})),console.log("---- validate success ----")})))},Z=()=>{g.show=!1,g.loading=!1},aa=n({}),ea=["annuityDrawDate","coveragePeriod","chargePeriod"],va=()=>{var a,e;g.riskIsInsure={},null==(e=null==(a=null==c?void 0:c.dataSource)?void 0:a.insureProductRiskVOList)||e.forEach((a=>{var e;const t=null==(e=c.dataSource.productRiskRelationVOList)?void 0:e.find((e=>e.collocationRiskId===a.riskId));t&&(g.riskIsInsure[a.riskCode]={selected:"2",data:null,relation:t})}))},fa=a=>{var e,t,s,i,l,o;if(null==(t=null==(e=null==a?void 0:a.data)?void 0:e[0])?void 0:t.productRiskDyInsureFactorVOList){const e=[];if(null==(s=c.dataSource)||s.insureProductRiskVOList.forEach((t=>{var s,i;const l=null==(i=null==(s=null==a?void 0:a.data)?void 0:s[0])?void 0:i.productRiskDyInsureFactorVOList.find((a=>a.riskCode===t.riskCode));if(l){t.productRiskInsureLimitVO={...t.productRiskInsureLimitVO,...l};const a=g.riskVOList.find((a=>a.riskCode===t.riskCode));let s=!1;W.forEach((e=>{if(ea.indexOf(e.valueKey)>=0){const i=t.productRiskInsureLimitVO[e.configKey];if(i&&a){const t=i.find((t=>t.code===a[e.valueKey]));if(t&&2===t.useFlag){const t=i.find((a=>1===a.defaultFlag));a[e.valueKey]=t.code,s=!0}}}})),s&&e.push({...a,...l,riskCode:t.riskCode})}})),e.length>0&&(null==(o=null==(l=null==(i=g.defaultValue)?void 0:i.insuredVOList)?void 0:l[0])?void 0:o.productPlanVOList))return e.forEach((a=>{var e,t,s;g.defaultValue.insuredVOList[0].productPlanVOList=null==(s=null==(t=null==(e=g.defaultValue)?void 0:e.insuredVOList)?void 0:t[0])?void 0:s.productPlanVOList.map((e=>(e.riskVOList=null==e?void 0:e.riskVOList.map((e=>(e.riskCode===a.riskCode&&(e=a),e))),e)))})),!1}return!0},ma=async(a,e=!0)=>{g.trialMsg="试算中...",g.trialResult=0,g.loading=!0;let t=!1;if(e){const{code:e}=await ta(a);t="10000"===e}!t&&e||(c.hideBenefit||sa(a).then((a=>{a.data&&a.code===E&&(aa.value=a.data)})).finally((()=>{g.loading=!1})),ia(a).then((a=>{var e,t;if(a.data&&a.code===E){(null==(e=null==a?void 0:a.data)?void 0:e.errorInfo)&&j(`${null==(t=null==a?void 0:a.data)?void 0:t.errorInfo}`),g.trialMsg="",g.trialResult=a.data.premium;const s={};a.data.riskPremiumDetailVOList&&a.data.riskPremiumDetailVOList.length&&a.data.riskPremiumDetailVOList.forEach((a=>{s[a.riskCode]={premium:a.premium,amount:a.amount}})),S.value=s}})).finally((()=>{g.loading=!1})))},ka=U.exports.debounce((async()=>{if(console.log(">>>>>调用试算<<<<<"),g.ifPersonalInfoSuccess){if(g.submitData.productCode=c.productInfo.productCode,g.submitData.tenantId=c.productInfo.tenantId,g.riskVOList=g.riskVOList.map((a=>(a=>{var e,t,s,i;const l=null==(e=c.dataSource.insureProductRiskVOList)?void 0:e.find((e=>a.riskId===e.riskId));if(l&&1!==l.mainRiskFlag){const e=null==(s=null==(t=c.dataSource)?void 0:t.productRiskRelationVOList)?void 0:s.find((a=>a.collocationRiskId===l.riskId));if(e){const t=null==(i=g.riskVOList)?void 0:i.find((a=>a.riskId===e.riskId));W.forEach((e=>{e.ruleKey&&l.productRiskInsureLimitVO&&t&&(1===l.productRiskInsureLimitVO[e.ruleKey]&&(a[e.valueKey]=t[e.valueKey]),3===l.productRiskInsureLimitVO[e.ruleKey]&&(1!==l.exemptFlag?a[e.valueKey]=Q(l,t[e.valueKey],g.submitData):a[e.valueKey]=Q(l,t[e.ruleValueKey],g.submitData)))}))}}return a})(a))),g.submitData.insuredVOList&&g.submitData.insuredVOList.forEach((a=>{a.productPlanVOList=[{insurerCode:c.productInfo.insurerCode,planCode:c.dataSource.planCode,riskVOList:g.riskVOList}]})),g.isSkipFirstTrial&&!g.hadSkipFirstTrial)return void(g.hadSkipFirstTrial=!0);console.log(">>>数据构建<<<",g.submitData);const a=U.exports.cloneDeep(g.submitData);await ma(a)}}),300),ha=async a=>{var e;const{holder:t,insuredVOList:s,isFirstInsuredChange:i}=a;if(t&&(g.submitData.holder=t),s&&s.length>0&&s.forEach(((a,e)=>{var t;g.submitData.insuredVOList&&g.submitData.insuredVOList.length>e?g.submitData.insuredVOList[e].personVO={...a.personVO,socialFlag:a.personVO.hasSocialInsurance}:((null==(t=g.submitData)?void 0:t.insuredVOList)||(g.submitData.insuredVOList=[]),g.submitData.insuredVOList.push({personVO:{...a.personVO,socialFlag:a.personVO.hasSocialInsurance}}))})),g.ifPersonalInfoSuccess=!0,i){console.log("处理第一被保人修改的dy变化");const a=await la({calcProductFactorList:[{planCode:c.dataSource.planCode,productCode:c.productInfo.productCode,riskEditVOList:[{insureProductRiskVO:null==(e=c.dataSource.insureProductRiskVOList)?void 0:e[0]}]}],...s[0].personVO});if(!fa(a))return}console.log("投被保人的信息回传 ",g.submitData,a),ka()},Va=async(a,e)=>{var t,s,i,l;if(e){const o=U.exports.cloneDeep(a);delete o.insurancePeriodValueList,delete o.paymentFrequencyList,delete o.paymentPeriodValueList;if(ea.indexOf(e.key)>=0){const n={};switch(e.key){case"annuityDrawDate":n.changeType=3;break;case"coveragePeriod":n.changeType=2;break;case"chargePeriod":n.changeType=1}const r=null==(s=null==(t=g.submitData)?void 0:t.insuredVOList)?void 0:s[0].personVO,d=null==(l=null==(i=c.dataSource)?void 0:i.insureProductRiskVOList)?void 0:l.find((e=>e.riskCode===a.riskCode));if(!g.isAutoChange){const e=await la({calcProductFactorList:[{planCode:c.dataSource.planCode,productCode:c.productInfo.productCode,riskEditVOList:[{insureProductRiskVO:d,insureRiskEditReqVO:{riskId:a.riskId,riskCode:a.riskCode,...o,...n}}]}],...r}),t=fa(e);return t||(g.isAutoChange=!0),t}g.isAutoChange=!1}}return!0},ya=async(a,e)=>{g.mainRiskVO=a;await Va(a,e)&&(g.riskVOList.length>0&&(g.riskVOList[0]=a),console.log("标准险种的信息回传",a),ka())},Oa=async(a,e)=>{if(g.riskVOList=[g.mainRiskVO,...a],console.log("附加险列表数据回传",a),e){const t=a.find((a=>a.riskCode===e.riskCode));if(!(await Va(t,e)))return}ka()},La=()=>{g.isAniShow=!1},ga=a=>{g.userData=a,g.defaultValue=a;const e=a.insuredVOList[0].productPlanVOList.findIndex((a=>a.planCode===c.dataSource.planCode));g.planIndex=-1===e?0:e,ma(a,!0)};D((()=>{va()})),t((()=>{g.loading=!0})),r((()=>g.show),(a=>{a&&(g.select={},g.list=[],g.userData={},g.riskIsInsure={},g.submitData={},g.riskVOList=[{}],g.mainRiskVO={},g.ifPersonalInfoSuccess=!1,g.trialMsg="",g.trialResult=0,va())}));const ba=()=>{g.show=!0,g.isAniShow=!0,g.isSkipFirstTrial=!0,g.hadSkipFirstTrial=!1,A((()=>{(async a=>{if(c.defaultData){if(c.defaultData){const a=c.defaultData.find((a=>a.productCode===c.productInfo.productCode))||c.defaultData[0];ga(a)}}else{const a=await oa({calcProductFactorList:[{planCode:c.dataSource.planCode,productCode:c.productInfo.productCode}]});if(a.data){const e=a.data.find((a=>a.productCode===c.productInfo.productCode))||a.data[0];ga(e)}}})()}))};return e({open:ba,close:Z,getTrialSuccessFlag:()=>g.trialResult>0}),r((()=>g.riskIsInsure),(a=>{}),{deep:!0,immediate:!0}),r((()=>c.shareInfo),(()=>{C.value=c.shareInfo}),{deep:!0,immediate:!0}),(e,t)=>{const n=M,r=B;return s(),i(u,null,[a.hidePopupButton?y("",!0):(s(),i("div",{key:0,class:T(`trial-button ${e.$attrs.class}`)},[l(H,{"is-share":C.value.isShare,premium:o(g).trialResult,"share-info":C.value,"loading-text":o(g).trialMsg,"plan-code":c.dataSource.planCode,"payment-frequency":o(g).mainRiskVO.paymentFrequency+"","tenant-product-detail":a.tenantProductDetail,onHandleClick:ba},{default:d((()=>[m("立即投保")])),_:1},8,["is-share","premium","share-info","loading-text","plan-code","payment-frequency","tenant-product-detail"])],2)),o(g).isAniShow||o(g).show?(s(),p(r,{key:1,class:T(`com-trial-wrap ${e.$attrs.class}`),show:o(g).show,closeable:!1,onClose:Z,onClosed:La},{default:d((()=>{var i,r,u,h,V,O;return[f("div",se,[f("div",ie,[f("span",le,k(a.title),1),l(n,{name:"cross",onClick:t[0]||(t[0]=a=>o(g).show=!1)})]),f("div",oe,[l(te,{labels:o(G)(a.dataSource.insureProductRiskVOList,a.dataSource.productRiskRelationVOList)},null,8,["labels"]),f("div",ne,[a.hideBenefit?y("",!0):(s(),p(Ya,{key:0,class:"benefit-wrap","data-source":aa.value,"product-info":a.dataSource,"show-type-list":aa.value.showTypList},null,8,["data-source","product-info","show-type-list"])),a.dataSource.productFactor?(s(),p(o($),{key:1,ref:"personalInfoRef",modelValue:o(g).userData,"onUpdate:modelValue":t[1]||(t[1]=a=>o(g).userData=a),"is-trial":"","product-factor":a.dataSource.productFactor,"multi-insured-config":null==(i=a.dataSource)?void 0:i.multiInsuredConfigVO,onTrailChange:ha},null,8,["modelValue","product-factor","multi-insured-config"])):y("",!0),l(z,{ref_key:"insureInfosRef",ref:v,"origin-data":null==(r=a.dataSource.insureProductRiskVOList)?void 0:r[0],"product-factor":a.dataSource.productFactor,"default-value":o(g).defaultValue?null==(h=null==(u=o(g).defaultValue)?void 0:u.insuredVOList[0].productPlanVOList[o(g).planIndex])?void 0:h.riskVOList[0]:null,onTrialChange:ya},null,8,["origin-data","product-factor","default-value"]),l(J,{"data-source":a.dataSource,"show-main-risk":!1,"default-value":o(g).defaultValue?null==(O=null==(V=o(g).defaultValue)?void 0:V.insuredVOList[0].productPlanVOList[o(g).planIndex])?void 0:O.riskVOList:[],onTrialChange:Oa},null,8,["data-source","default-value"]),re])]),_(e.$slots,"default",{trialData:o(g).submitData,riskPremium:S.value},(()=>[l(H,{"is-share":C.value.isShare,premium:o(g).trialResult,"share-info":C.value,"loading-text":o(g).trialMsg,"plan-code":c.dataSource.planCode,"payment-frequency":o(g).mainRiskVO.paymentFrequency+"","tenant-product-detail":a.tenantProductDetail,"handle-share":Y,onHandleClick:X},{default:d((()=>[m("立即投保")])),_:1},8,["is-share","premium","share-info","loading-text","plan-code","payment-frequency","tenant-product-detail"])]),!0)])]})),_:3},8,["class","show"])):y("",!0)],64)}}}),[["__scopeId","data-v-57d723fd"]]);export{ue as T};
