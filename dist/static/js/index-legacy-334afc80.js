!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.item{background:#fafafd;border-radius:.26667rem;display:flex;padding:.4rem .26667rem;margin-bottom:.26667rem;position:relative}.item-checked{width:.52rem;height:.53333rem;position:absolute;right:0;top:0}.item-checked img{width:.52rem;height:.53333rem}.item-left{width:2.37333rem;height:2.73333rem;border-radius:.16rem}.item-left .ig{background-repeat:no-repeat;background-size:100% 100%;height:2.14667rem}.item-title{height:.58667rem;border-radius:.16rem .16rem 0 0;text-align:center;font-size:.32rem;color:#fff;line-height:.58667rem}.item-title-type1{background:#ffa5a5;text-shadow:0 1px .02667rem rgba(220,0,0,.5)}.item-title-type2{background:#ffd275;text-shadow:0 1px .02667rem #fbaf09}.item-title-type3{background:#8ecff8;text-shadow:0 1px .02667rem #57abde}.item-title-type4{background:#c8db6d;text-shadow:0 1px .02667rem #a6bf2f}.item-right{flex:1;margin-left:.21333rem}.item-right-name{font-size:.37333rem;font-weight:500;color:#343434}.item-right-sec{font-size:.32rem;color:#909090;line-height:.44rem;margin-top:.16rem}.item-right-bottom{margin-top:.4rem;display:flex;justify-content:space-between;font-size:.32rem;color:#ea4742;font-weight:400;align-items:center}.item-right .tag{width:1.54667rem;height:.58667rem;border-radius:.10667rem;color:#f60;background-color:#ffeee7;display:inline-flex;align-items:center;justify-content:center;font-size:.32rem;margin-right:.21333rem}.item-right .ft{font-size:.53333rem;font-weight:400;color:#ea4742}@charset "UTF-8";.poster-product-list{padding:0 .4rem 2.13333rem}.poster-product-list .van-search{padding:0}.poster-product-list .search{padding:.37333rem 0}.poster-product-list .empty{margin-top:2rem}.poster-product-list .footer{width:100%;position:fixed;bottom:0;height:2rem;background:#ffffff;box-shadow:0 -.02667rem .13333rem #f6f6f6;margin-left:-.4rem;display:flex;align-items:center;justify-content:center}.poster-product-list .footer .btn{width:9.2rem;height:1.2rem;background:var(--van-button-primary-background-color);border-radius:.6rem;font-weight:600;color:#fff;font-size:.37333rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-f56233fa.js","./index-legacy-9604cbf9.js","./poster-legacy-e9a4ecbb.js","./index-legacy-4c8de798.js"],(function(e){"use strict";var t,r,i,a,o,d,n,c,l,s,m,u,p,g,f,h,y,v,b,k,x,w,C,z,j,I,T,N,U,q,L,F;return{setters:[function(e){t=e.g,r=e.v,i=e.k,a=e.m,o=e.y,d=e.z,n=e.A,c=e.I,l=e.s,s=e.F,m=e.E,u=e.Q,p=e.L,g=e.a0,f=e.C,h=e.ab,y=e.M,v=e.n,b=e.a6,k=e.h,x=e.j,w=e.G,C=e.T,z=e.aa,j=e.r,I=e.a5,T=e.B},function(e){N=e.u,U=e.d},function(e){q=e.b,L=e.c},function(e){F=e._}],execute:function(){const O={class:"item-checked"},S=["src"],V={class:"item-left"},_={key:0,class:"item-title item-title-type1"},B={class:"item-right"},E={class:"item-right-name"},M={class:"item-right-sec"},A={class:"item-right-bottom"},D=t({props:{data:{type:Object,required:!0},checked:{type:Boolean}},emits:["on-click"],setup(e,{emit:t}){const u=e,{getIconUrl:p}=N(),{data:g}=r(u),f=()=>{t("on-click",u.data)};return(e,t)=>(i(),a("div",{class:"item",onClick:f},[o("span",O,[o("img",{src:d(p)("poster.checked"),alt:"",style:n({display:""+(u.checked?"inherit":"none")})},null,12,S)]),o("div",V,[d(g).productImgText?(i(),a("div",_,c(d(g).productImgText),1)):l("",!0),o("div",{class:"ig",style:n({backgroundImage:`url(${d(g).productImg})`})},null,4)]),o("div",B,[o("div",E,c(d(g).productName),1),o("div",M,c(d(g).productSummary),1),o("div",A,[o("div",null,[(i(!0),a(s,null,m(d(g).productLabel,((e,t)=>(i(),a("span",{key:t,class:"tag"},c(e),1)))),128))]),o("div",null,c(d(g).productPrice),1)])])]))}});const G={class:"poster-product-list"},H={class:"search"},P={class:"footer"},Q=T("确定");e("default",t({emits:["on-submit"],setup(e,{emit:t}){const n=u(),{productName:c,productUrl:l,productCode:T,qrCodeType:N}=n.query,O=p({list:[],tagList:[{labelCategoryName:"全部",id:"0"}],keyword:""}),S=g(),V=f("0"),_=f({productCode:""}),{list:B,tagList:E,keyword:M}=r(O);h((()=>{_.value={productCode:T,productName:c,productUrl:l}}));const A=async e=>{const{data:t}=await L({...e});B.value=t.data};y((()=>{(async()=>{const{data:e}=await q({});let t=[];t=e.data.map((e=>({labelCategoryName:e.categoryName,id:e.categoryCode}))),E.value=E.value.concat(t)})(),A({})}));const $=(e,t)=>{V.value=e,A({keyword:M.value,productCategory:"0"===e?void 0:e})},J=e=>{A({keyword:e,productCategory:"0"===V.value?void 0:V.value})},K=()=>{_.value.productCode?S.replace({name:"posterDetail",query:{...z(_.value),qrCodeType:N}}):C("请选择产品")};return(e,t)=>{const r=j("van-search"),n=j("van-list"),c=j("van-button"),l=I("resize");return i(),a("div",G,[o("div",H,[v(r,{modelValue:d(M),"onUpdate:modelValue":t[0]||(t[0]=e=>b(M)?M.value=e:null),placeholder:"请输入搜索关键词",shape:"round",onSearch:J},null,8,["modelValue"])]),v(U,{"tag-list":d(E),filter:!1,onCurrentIndex:$},null,8,["tag-list"]),o("div",null,[d(B).length>0?(i(),k(n,{key:0,loading:!1,"finished-text":"- 已经到底了哦 -"},{default:x((()=>[(i(!0),a(s,null,m(d(B),(e=>{var t;return i(),k(D,{key:e.productId,checked:(null===(t=d(_))||void 0===t?void 0:t.productCode)===e.productCode,data:e,onOnClick:t=>{return r=e,void(_.value=r);var r}},null,8,["checked","data","onOnClick"])})),128))])),_:1})):(i(),k(F,{key:1,class:"empty",title:"暂无产品"}))]),w((i(),a("div",P,[v(c,{type:"primary",class:"btn",onClick:K},{default:x((()=>[Q])),_:1})])),[[l]])])}}}))}}}))}();
