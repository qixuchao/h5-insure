import{_ as q,a as F}from"./pengyouquan-46cbea57.js";import{g as $,ad as j,Q as I,L as P,M as Q,r,h as a,m as _,n as l,k as i,j as h,F as m,E,s as O,y as n,z as v,B as A,a1 as L,a2 as M,w as B,T as R}from"./vendor-4dbfa310.js";import{l as U}from"./inform-e7d6026d.js";import{a as V,n as W}from"./index-cff3571e.js";import{_ as Z,P as z}from"./index-21ff2934.js";const d=c=>(L("data-v-9a983f7c"),c=c(),M(),c),G={class:"footer-button"},H=A("\u5206\u4EAB"),J=A("\u4E0B\u4E00\u6B65"),K={class:"content"},X=d(()=>n("div",{class:"wechat"},[n("img",{src:q,alt:""})],-1)),Y=d(()=>n("div",{class:"txt"},"\u5FAE\u4FE1\u597D\u53CB",-1)),ee=[X,Y],te={class:"bx"},oe=d(()=>n("img",{src:F,alt:""},null,-1)),se=[oe],ne=d(()=>n("div",{class:"txt"},"\u670B\u53CB\u5708",-1)),ae=$({setup(c){const f=j(),g=I();g.query;const o=P({listQuestions:[],pageData:{},showShare:!1,tenantOrderNoticeList:[]}),p=s=>o.listQuestions.filter(e=>e.objectType===s),y=s=>{const e={title:"\u544A\u77E5\u4E66",desc:"\u5BA2\u6237\u544A\u77E5\u4E66",link:`${window.location.href}?isShare=1`,imgUrl:"",success(){console.log("\u5206\u4EAB\u6210\u529F")}};B.ready(()=>{console.log("ready"),s==="1"?B.onMenuShareAppMessage(e):B.onMenuShareTimeline(e)})},x=()=>{V({orderNo:"2022072710380711215",saleUserId:"D1234567-1",tenantId:"9991000007"}).then(({code:s,data:e})=>{s==="10000"&&Object.assign(o.pageData,e)})},N=()=>{U({insurerCode:"anshengtianping",noticeType:1,objectType:2,orderNo:"2022011815151382958351",productCategory:2,tenantId:9991000007}).then(({code:s,data:e})=>{s==="10000"&&(o.listQuestions=e)})},C=s=>{f.push({path:"/healthNotice",query:{questionnaireType:s.questionnaireType}})},T=()=>{if(!o.listQuestions.every(e=>e.isDone===1)){R("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}o.tenantOrderNoticeList=o.listQuestions.map(e=>({content:"",contentType:e.questionnaireType,id:e.id,isDone:1,name:e.title,objectId:e.id,objectType:e.objectType,type:e.questionnaireType})),Object.assign(o.pageData,{pageCode:"questionNotice"},{tenantOrderNoticeList:o.tenantOrderNoticeList}),W(o.pageData).then(({code:e,data:u})=>{e==="10000"&&u.pageAction.pageAction==="jumpToPage"&&f.push({path:z[u.pageAction.data.nextPageCode],query:g.query})})};return Q(()=>{N(),x()}),(s,e)=>{const u=r("van-cell"),D=r("ProCard"),k=r("van-button"),w=r("ZaPageWrap"),S=r("van-action-sheet");return a(),_(m,null,[l(w,{class:"page-question-notice"},{default:i(()=>[p(1).length>0?(a(),h(D,{key:0,title:"\u6295\u4FDD\u4EBA"},{default:i(()=>[(a(!0),_(m,null,E(p(1),t=>(a(),h(u,{key:t.id,title:`\u300A${t.questionnaireName}\u300B`,"is-link":"",value:`${t.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:b=>C(t)},null,8,["title","value","onClick"]))),128))]),_:1})):O("",!0),l(D,{title:"\u88AB\u4FDD\u4EBA"},{default:i(()=>[(a(!0),_(m,null,E(p(2),t=>(a(),h(u,{key:t.id,title:`\u300A${t.questionnaireName}\u300B`,"is-link":"",value:`${t.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:b=>C(t)},null,8,["title","value","onClick"]))),128))]),_:1}),n("div",G,[l(k,{plain:"",type:"primary",onClick:e[0]||(e[0]=t=>v(o).showShare=!0)},{default:i(()=>[H]),_:1}),l(k,{type:"primary",onClick:T},{default:i(()=>[J]),_:1})])]),_:1}),l(S,{show:v(o).showShare,"onUpdate:show":e[3]||(e[3]=t=>v(o).showShare=t),"cancel-text":"\u53D6\u6D88","close-on-click-action":""},{default:i(()=>[n("div",K,[n("div",{class:"bx",onClick:e[1]||(e[1]=t=>y("1"))},ee),n("div",te,[n("div",{class:"friend",onClick:e[2]||(e[2]=t=>y("2"))},se),ne])])]),_:1},8,["show"])],64)}}});var de=Z(ae,[["__scopeId","data-v-9a983f7c"]]);export{de as default};
