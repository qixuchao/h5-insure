var F=Object.defineProperty,V=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var k=(t,e,a)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,g=(t,e)=>{for(var a in e||(e={}))L.call(e,a)&&k(t,a,e[a]);if(y)for(var a of y(e))R.call(e,a)&&k(t,a,e[a]);return t},D=(t,e)=>V(t,j(e));import{g as U,af as w,Q as M,C as x,L as O,M as $,r,h as v,j as S,k as i,n as c,m as z,E as G,z as Q,F as W,y as u,a1 as J,a2 as H,B as h,T as K,J as X}from"./vendor-07b5d0eb.js";import{_ as Y,j as A,P as Z}from"./index-6ba7ac7e.js";import{l as ee}from"./inform-a9189061.js";import{a as te,n as ae}from"./index-01984808.js";import{s as oe}from"./useStorage-2fe11c05.js";import{s as se}from"./verify-1fbef954.js";const ne=t=>(J("data-v-1d49c3da"),t=t(),H(),t),ue={class:"footer-btn"},re={class:"inform-file"},ie=ne(()=>u("p",{class:"tips"},[h("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),u("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),h("\u6587\u4EF6")],-1)),ce={class:"footer-button"},le=h("\u4E0B\u4E00\u6B65"),pe=U({setup(t){const e=w(),a=M(),{orderNo:B="2022021815432987130620",productCode:N="andainsurer",templateId:de=1,tenantId:E=9991000007}=a.query,l=x(null),C=x(!1),P=()=>{var o;(o=l.value)==null||o.clear()},p=O({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),T=()=>{te({orderNo:"2022021815432987130620",saleUserId:"D1234567-1",tenantId:"9991000007"}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(p.pageData,s)})};$(()=>{T(),ee({insurerCode:N,orderNo:B,productCategory:1,tenantId:E,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(p.noticeList=s)})});const b=o=>{oe.set("questionData",o),e.push({path:"/healthNotice",query:{questionnaireType:o.questionnaireType}})},q=()=>{var s,d;if((s=l.value)==null?void 0:s.isEmpty()){K("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const o=(d=l.value)==null?void 0:d.save();se("AGENT",o,B,E).then(m=>{m&&ae(D(g({},p.pageData),{pageCode:"salesNotice"})).then((f,_)=>{f==="10000"&&_.pageAction.pageAction==="jumpToPage"&&e.push({path:Z[_.pageAction.data.nextPageCode],query:g({},a.query)})})})};return(o,s)=>{const d=r("van-cell"),m=r("ProSign"),f=r("van-checkbox"),_=r("van-button"),I=r("ProPageWrap");return v(),S(I,{class:"page-salesman-inform"},{default:i(()=>[c(A,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:i(()=>[(v(!0),z(W,null,G(Q(p).noticeList,n=>(v(),S(d,{key:n.id,class:X({"is-active":n.isDone===2}),title:`\u300A${n.questionnaireName}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:_e=>b(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),c(A,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:i(()=>[u("div",{class:"resign",onClick:P},"\u91CD\u7B7E")]),default:i(()=>[c(m,{ref_key:"agentSignRef",ref:l,selector:"sign2"},null,512)]),_:1}),u("footer",ue,[u("div",re,[c(f,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=n=>C.value=n),shape:"square"},null,8,["modelValue"]),ie]),u("div",ce,[c(_,{type:"primary",block:"",onClick:q},{default:i(()=>[le]),_:1})])])]),_:1})}}});var Ce=Y(pe,[["__scopeId","data-v-1d49c3da"]]);export{Ce as default};
