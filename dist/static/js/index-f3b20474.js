import{d as l,aa as e,r as a,L as t,R as n,Z as s,ab as i,ac as u,ad as o,c as r,A as c,f as d,g as v,U as p,V as m,F as C,E as _,h as f,e as y,j as k,i as L,ae as A,af as E,w as g,a2 as h,ag as b,G as I,ah as S,ai as w,$ as O,W as T,aj as x,ak as M,al as F,am as P,X as N,Y as R,an as U,a6 as W,ao as D,ap as j,k as V}from"./index-cc8bc31a.js";import{o as $}from"./utils-95229473.js";import{C as z}from"./infoCollection-7ec58c5f.js";const B={class:"guarantee-list"},G=(l=>(F("data-v-0d8cdcd6"),l=l(),P(),l))((()=>d("span",null,"保障计划",-1))),Q={key:0,class:"plan-list"},q=["onClick"],Y={key:2,class:"feerate-view"},X={key:0},Z={class:"extinfo-info-list"},H={class:"guarantee-detail"},J={class:"content"},K=l({name:"guarantee"});var ll=I(l({...K,props:{dataSource:{default:()=>({})},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{default:5},planList:{default:()=>[]}},emits:["updateActivePlan"],setup(l,{emit:I}){var F,P;const N=l;e((l=>({"3f16335a":v(R)})));const R=a(""),U=a((null==(P=null==(F=N.planList)?void 0:F[0])?void 0:P.planCode)||void 0),W=a(),D=a([]),j=a([]),V=a(),z=t((()=>!!N.planList.length));n([()=>N.dataSource,()=>U.value],(()=>{var l,e;D.value=((null==(e=((null==(l=N.dataSource)?void 0:l.GUARANTEE)||[]).find((l=>l.planCode===U.value)))?void 0:e.data)||[]).filter((l=>l.isShowOn===`${s.YES}`))}),{immediate:!0,deep:!0});const K=t((()=>{var l;return(null==(l=N.dataSource)?void 0:l.rateUri)||""})),ll=t((()=>!!(V.value&&V.value.paymentFrequencyValue&&V.value.premiumUnit&&K))),[el,al]=i(!1),tl=t((()=>{var l;return!(!D.value||!(null==(l=D.value)?void 0:l.length))&&(D.value.length>N.count&&(!!N.isShowClose||!el.value))})),nl=()=>{al()},sl=t((()=>{var l;return D.value&&(null==(l=D.value)?void 0:l.length)?D.value.length<=N.count||el.value?D.value:D.value.slice(0,N.count):[]})),il=a(!1),ul=l=>{const e=l||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,"A"===e.target.tagName&&e.target.href&&(S()?w("",e.target.href):window.open(e.target.href))},ol=()=>{il.value=!0,O((()=>{var l,e;null==(e=null==(l=document.getElementsByClassName("guarantee-detail"))?void 0:l[0])||e.addEventListener("click",ul,!1)}))};u((()=>{var l,e;null==(e=null==(l=document.getElementsByClassName("guarantee-detail"))?void 0:l[0])||e.removeEventListener("click",ul,!1)}));const rl=()=>{$({fileType:"pdf",fileUri:K.value})},cl=l=>{U.value=N.planList[l.name].planCode};return(e,a)=>{var t,n;const s=T,i=x,u=M,S=o("dompurify-html");return r(),c(p,null,[d("div",B,[d("div",{class:"header"},[G,d("span",{onClick:ol},"查看详情")]),v(z)?(r(),c("div",Q,[(r(!0),c(p,null,m(l.planList,((l,e)=>(r(),c("div",{key:`${l.planCode}_${e}`,class:C("plan-list-item "+(l.planCode===v(U)?"plan-list-item-active":"")),onClick:e=>{return a=l.planCode,U.value=a,W.value=N.planList.findIndex((l=>l.planCode===a)),void I("updateActivePlan",a);var a}},[d("span",null,_(l.planName),1)],10,q)))),128))])):f("",!0),(r(!0),c(p,null,m(v(sl),((l,e)=>(r(),y(s,{key:e,class:"guarantee-item",title:l.title,content:l.desc,border:!1},null,8,["title","content"])))),128)),v(tl)?(r(),c("div",{key:1,class:"show-more",onClick:nl},[k(_(v(el)?"收起":"查看更多")+" ",1),L(A,{name:"arrow-down-dobule",class:C(["icon",{showMore:v(el)}])},null,8,["class"])])):f("",!0),v(ll)?(r(),c("div",Y,[d("span",null,_(`${(null==(t=v(V))?void 0:t.paymentFrequencyValue)||""}${(null==(n=v(V))?void 0:n.premiumUnit)||""}`),1),v(K)?(r(),c("span",{key:0,onClick:rl},"查看保费")):f("",!0)])):f("",!0)]),L(E),L(u,{show:v(il),"onUpdate:show":a[1]||(a[1]=l=>h(il)?il.value=l:null),title:"保障详情",class:"guarantee-popup"},{default:g((()=>[v(j)&&v(j).length>0?(r(),c("div",X,[d("div",Z,[(r(!0),c(p,null,m(v(j),((l,e)=>(r(),y(s,{key:e,title:l.name,content:l.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),L(E)])):f("",!0),v(z)?(r(),y(i,{key:1,active:v(W),"onUpdate:active":a[0]||(a[0]=l=>h(W)?W.value=l:null),list:l.planList.map(((l,e)=>({title:l.planName}))),class:"custom-plan-tab",onClickTab:cl},null,8,["active","list"])):f("",!0),d("div",H,[(r(!0),c(p,null,m(v(D),((l,e)=>(r(),c("div",{key:e,class:"guarantee-item"},[L(s,{title:l.title,content:l.desc,border:!1,size:"small"},null,8,["title","content"]),b(d("div",J,null,512),[[S,l.tips]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d8cdcd6"]]);const el={class:"spec"},al={class:"rich-text"},tl={key:1,class:"spec"},nl={class:"rich-text"},sl={key:1,class:"spec"},il={class:"rich-text"},ul=l({name:"ScrollInfo"}),ol=l({...ul,props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(l,{expose:e}){const n=l,s=N((()=>R((()=>import("./index-cc8bc31a.js").then((function(l){return l.cN}))),["static/js/index-cc8bc31a.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"])));N((()=>R((()=>import("./index-80808c2a.js")),["static/js/index-80808c2a.js","static/css/index-f22f2764.css","static/js/index-cc8bc31a.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"])));const i=N((()=>R((()=>import("./index-cc8bc31a.js").then((function(l){return l.cL}))),["static/js/index-cc8bc31a.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"]))),u=N((()=>R((()=>import("./index-8a78ed00.js")),["static/js/index-8a78ed00.js","static/css/index-7b3feb06.css","static/js/index-cc8bc31a.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"]))),C=N((()=>R((()=>import("./index-3a3fd9b6.js")),["static/js/index-3a3fd9b6.js","static/css/index-194b9c66.css","static/js/index-cc8bc31a.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js","static/js/index-89543ac7.js"]))),{dataSource:_}=U(n),k=a(),E=a([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),h=t((()=>{var l,e;return null==(e=null==(l=_.value.SPECIAL_FEATURE)?void 0:l.spec)?void 0:e.length})),I=t((()=>{var l,e,a,t;const n=null==(l=_.value.CLAIM_FLOW)?void 0:l.processCaseType;return!!(n===z.WORD&&(null==(e=_.value.CLAIM_FLOW)?void 0:e.processContent)||n===z.IMAGE&&(null==(t=null==(a=_.value.CLAIM_FLOW)?void 0:a.processCasePicList)?void 0:t.length))})),S=t((()=>{var l,e,a,t,n;const s=null==(e=null==(l=_.value)?void 0:l.CLAIM_CASE)?void 0:e.claimCaseType;return!!(s===z.WORD&&(null==(a=_.value.CLAIM_CASE)?void 0:a.claimContent)||s===z.IMAGE&&(null==(n=null==(t=_.value.CLAIM_CASE)?void 0:t.claimCasePicList)?void 0:n.length))})),w=t((()=>{var l,e;return null==(e=null==(l=_.value)?void 0:l.ISSUE_NOTICE)?void 0:e.noticeContent})),O=t((()=>{var l,e;return null==(e=null==(l=_.value)?void 0:l.FAQ)?void 0:e.length})),T=t((()=>{let l=[...E.value];return h.value||(l=l.filter((l=>"tab1"!==l.slotName))),I.value||S.value||(l=l.filter((l=>"tab2"!==l.slotName))),l}));return e({handleClickTab:()=>{var l;return null==(l=k.value)?void 0:l.handleClickTab}}),(l,e)=>{const a=W,t=A,n=o("dompurify-html");return r(),y(v(s),{ref_key:"scrollRef",ref:k,class:"tabs",list:v(T),sticky:"",scrollspy:""},D({tab3:g((()=>[V(l.$slots,"form")])),_:2},[v(h)?{name:"tab1",fn:g((()=>{var l;return[d("div",el,[(r(!0),c(p,null,m((null==(l=v(_).SPECIAL_FEATURE)?void 0:l.spec)||[],((l,e)=>(r(),y(j,{key:e},{fallback:g((()=>[L(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>[(r(),y(a,{key:e,class:"detail-img",width:"100%",src:l},null,8,["src"]))])),_:2},1024)))),128)),L(v(i))])]})),key:"0"}:void 0,v(I)||v(S)||v(w)||v(O)?{name:"tab2",fn:g((()=>{var l,e;return[v(I)?(r(),c(p,{key:0},[(null==(l=v(_).CLAIM_FLOW)?void 0:l.processCaseType)===v(z).WORD?(r(),y(v(u),{key:0,class:"tab-card",title:"理赔说明"},{default:g((()=>{var l;return[b(d("div",al,null,512),[[n,null==(l=v(_).CLAIM_FLOW)?void 0:l.processContent]])]})),_:1})):(r(),c("div",tl,[(r(),y(j,null,{fallback:g((()=>[L(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>{var l;return[(r(!0),c(p,null,m((null==(l=v(_).CLAIM_FLOW)?void 0:l.processCasePicList)||[],((l,e)=>(r(),y(a,{key:e,width:"100%",src:l,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),L(v(i))],64)):f("",!0),v(S)?(r(),c(p,{key:1},[(null==(e=v(_).CLAIM_CASE)?void 0:e.claimCaseType)===v(z).WORD?(r(),y(v(u),{key:0,class:"tab-card",title:"理赔案例"},{default:g((()=>{var l;return[b(d("div",nl,null,512),[[n,null==(l=v(_).CLAIM_CASE)?void 0:l.claimContent]])]})),_:1})):(r(),c("div",sl,[(r(),y(j,null,{fallback:g((()=>[L(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>{var l;return[(r(!0),c(p,null,m((null==(l=v(_).CLAIM_CASE)?void 0:l.claimCasePicList)||[],((l,e)=>(r(),y(a,{key:e,width:"100%",src:l,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),L(v(i))],64)):f("",!0),v(w)?(r(),c(p,{key:2},[L(v(u),{class:"tab-card",title:"投保须知"},{default:g((()=>{var l;return[b(d("div",il,null,512),[[n,null==(l=v(_).ISSUE_NOTICE)?void 0:l.noticeContent]])]})),_:1}),L(v(i))],64)):f("",!0),v(O)?(r(),c(p,{key:3},[L(v(u),{title:"常见问题"},{default:g((()=>{var l,e;return[L(v(C),{list:null==(e=null==(l=v(_).FAQ)?void 0:l[0])?void 0:e.data},null,8,["list"])]})),_:1}),L(v(i))],64)):f("",!0)]})),key:"1"}:void 0]),1032,["list"])}}});export{ll as G,ol as _};
