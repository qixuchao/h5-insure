var Ke=Object.defineProperty,je=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var ye=(t,a,o)=>a in t?Ke(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,oe=(t,a)=>{for(var o in a||(a={}))Ge.call(a,o)&&ye(t,o,a[o]);if(ge)for(var o of ge(a))Je.call(a,o)&&ye(t,o,a[o]);return t},ae=(t,a)=>je(t,ze(a));import{g as Z,Q as Pe,E as k,y as X,j as _,n as E,z as i,J as x,p as d,L as Oe,A as n,B as Qe,a4 as pe,a5 as _e,F as q,G as z,k as G,C as Q,t as J,r as M,m as w,M as Se,_ as de,a9 as Xe,O as Ze,h as et,af as tt,H as ot,l as at,T as nt}from"./vendor-331c0afd.js";import{_ as ee,u as lt,q as Ne,a2 as se,x as re,l as ue,a8 as be,G as st,z as rt,Q as Fe,A as ut,a3 as Ie,O as it}from"./index-794221cb.js";import{P as dt}from"./index-edaf675e.js";import{c as ct}from"./close-df102554.js";import{a as ce,S as Ce,R as mt,f as ie}from"./infoCollection-242da9b6.js";import{A as ft}from"./bankCard-b0679059.js";import{a as pt,t as _t,b as we,c as ht,g as vt}from"./theme-89fa1893.js";import{b as me,v as Dt}from"./validator-ebd71d12.js";import{a as Ee}from"./order-b675ac95.js";import{p as Be,i as gt,s as yt,a as bt,u as Ft,b as It}from"./trial-6f5f1f85.js";import{p as Ct}from"./product-a2cef5be.js";import"./trial-518c7079.js";const wt=t=>(pe("data-v-47f4f4ca"),t=t(),_e(),t),Et={class:"com-question-item"},Bt={class:"question"},Vt=wt(()=>i("div",{class:"icon"},x("?"),-1)),Tt={class:"title"},Pt=Z({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Pe(!1),l=k(),e=()=>{o()},u=X(()=>a.value?lt(l.value):0);return(y,h)=>(_(),E("div",Et,[i("div",Bt,[Vt,i("div",Tt,x(t.question),1),d(Ne,{name:"down",class:Oe(["arrow-icon",{show:n(a)}]),onClick:e},null,8,["class"])]),i("div",{ref_key:"answerDom",ref:l,class:"answer",style:Qe({height:`${n(u)}px`})},x(t.answer),5)]))}});var Ot=ee(Pt,[["__scopeId","data-v-47f4f4ca"]]);const St={class:"com-question"},Nt=Z({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,l]=Pe(!1),e=()=>{l()},u=X(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(y,h)=>(_(),E("div",St,[(_(!0),E(q,null,z(n(u),(S,B)=>(_(),G(Ot,{key:B,question:S.title,answer:S.desc},null,8,["question","answer"]))),128)),t.list.length>4?(_(),E("div",{key:0,class:"show-more",onClick:e},[Q(x(n(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),d(Ne,{name:"down",class:Oe(["icon",{showMore:n(o)}])},null,8,["class"])])):J("",!0)]))}});var At=ee(Nt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Lt=t=>typeof t=="number"&&isFinite(t),$t=t=>Y(t)&&Object.keys(t).length===0,kt=Object.assign;let Ve;const Ut=()=>Ve||(Ve=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),ne=Array.isArray,W=t=>typeof t=="string",fe=t=>typeof t=="boolean",Mt=Object.prototype.toString,xt=t=>Mt.call(t),Y=t=>xt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Ht(t,a,o={}){const{domain:l,messages:e,args:u}=o,y=t,h=new SyntaxError(String(y));return h.code=t,a&&(h.location=a),h.domain=l,h}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Rt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let qt=null;Rt.FunctionTranslate;function Wt(t){return a=>qt}const Yt=-1;function Kt(t,a,o,l,e){const{missing:u,onWarn:y}=t;if(u!==null){const h=u(t,o,a,e);return W(h)?h:a}else return a}function jt(t,a,o){const l=t;l.__localeChainCache||(l.__localeChainCache=new Map);let e=l.__localeChainCache.get(o);if(!e){e=[];let u=[o];for(;ne(u);)u=Te(e,u,a);const y=ne(a)?a:Y(a)?a.default?a.default:null:a;u=W(y)?[y]:y,ne(u)&&Te(e,u,!1),l.__localeChainCache.set(o,e)}return e}function Te(t,a,o){let l=!0;for(let e=0;e<a.length&&fe(l);e++){const u=a[e];W(u)&&(l=zt(t,a[e],o))}return l}function zt(t,a,o){let l;const e=a.split("-");do{const u=e.join("-");l=Gt(t,u,o),e.splice(-1,1)}while(e.length&&l===!0);return l}function Gt(t,a,o){let l=!1;if(!t.includes(a)&&(l=!0,a)){l=a[a.length-1]!=="!";const e=a.replace(/!/g,"");t.push(e),(ne(o)||Y(o))&&o[e]&&(l=o[e])}return l}function Jt(t){return Ht(t,null,void 0)}function Qt(t,...a){const{numberFormats:o,unresolving:l,fallbackLocale:e,onWarn:u}=t,{__numberFormatters:y}=t,[h,S,B,D]=Xt(...a),s=fe(B.missingWarn)?B.missingWarn:t.missingWarn;fe(B.fallbackWarn)?B.fallbackWarn:t.fallbackWarn;const I=!!B.part,U=W(B.locale)?B.locale:t.locale,K=jt(t,e,U);if(!W(h)||h==="")return new Intl.NumberFormat(U).format(S);let H={},m,L=null;const r="number format";for(let f=0;f<K.length&&(m=K[f],H=o[m]||{},L=H[h],!Y(L));f++)Kt(t,h,m,s,r);if(!Y(L)||!W(m))return l?Yt:h;let $=`${m}__${h}`;$t(D)||($=`${$}__${JSON.stringify(D)}`);let N=y.get($);return N||(N=new Intl.NumberFormat(m,kt({},L,D)),y.set($,N)),I?N.formatToParts(S):N.format(S)}function Xt(...t){const[a,o,l,e]=t;let u={},y={};if(!Lt(a))throw Jt(14);const h=a;return W(o)?u.key=o:Y(o)&&(u=o),W(l)?u.locale=l:Y(l)&&(y=l),Y(e)&&(y=e),[u.key||"",h,u,y]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ut().__INTLIFY_PROD_DEVTOOLS__=!1);const Ae=t=>(pe("data-v-c8a8e288"),t=t(),_e(),t),Zt={key:0,class:"pro-modal"},eo=Ae(()=>i("div",{class:"pro-overlay"},null,-1)),to={class:"pro-modal-wrapper"},oo={class:"pro-modal-body"},ao={class:"pro-modal-content"},no=Ae(()=>i("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),lo={class:"pro-modal-content"},so={class:"product-attachment-list"},ro=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),uo={key:0,class:"dun-hao"},io=["src"],co=Z({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:Qt,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,l=()=>{a("on-close")},e=()=>{a("on-confirm")};return(u,y)=>{const h=M("ProPDFviewer");return o.isShow?(_(),E("div",Zt,[eo,i("div",to,[i("div",oo,[i("div",ao,[i("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+x(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),no]),i("div",{class:"pro-modal-btn",onClick:e},"\u4E00\u952E\u5347\u7EA7"),i("div",lo,[i("div",so,[ro,(_(!0),E(q,null,z(o.attachmentList,(S,B)=>(_(),G(h,{key:B,class:"file-name",title:`\u300A${S.attachmentName}\u300B`,content:S.attachmentUri,type:"pdf"},{default:w(()=>[B!==(o.attachmentList||[]).length-1?(_(),E("span",uo,"\u3001")):J("",!0)]),_:2},1032,["title","content"]))),128))])])]),i("div",{class:"pro-modal-close",onClick:l},[i("img",{src:n(ct)},null,8,io)])])])):J("",!0)}}});var mo=ee(co,[["__scopeId","data-v-c8a8e288"]]);const he=t=>(pe("data-v-07ffa5c0"),t=t(),_e(),t),fo=he(()=>i("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),po=he(()=>i("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),_o=he(()=>i("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),ho={class:"attachment-list"},vo={class:"product-attachment-list"},Do=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),go={key:0,class:"dun-hao"},yo={class:"rate-attachment-list"},bo=Q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),Fo={key:0,class:"dun-hao"},Io=Z({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,l=k({}),e=Se({insureDisable:!0,formInfo:o.formInfo}),u=D=>me(D)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",y=X(()=>{var D,s;return(s=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(I=>I.attachmentName==="\u8D39\u7387\u8868")}),h=X(()=>{var D,s;return((s=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(I=>I.attachmentName!=="\u8D39\u7387\u8868"))||[]}),S=()=>new Promise((D,s)=>{l==null||l.value.validate().then(()=>{D("")},()=>{s()})}),B=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return de(()=>e.formInfo.insured.relationToHolder,(D,s)=>{o.disable||D!==s&&(D.toString()===ce.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:D},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:D},e.insureDisable=!1))}),de(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ce.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:S}),(D,s)=>{const I=M("ProField"),U=M("ProRadioButton"),K=M("ProPicker"),H=M("ProTabButton"),m=M("ProPDFviewer"),L=M("ProForm");return _(),G(L,{ref_key:"formRef",ref:l},{default:w(()=>[i("div",null,[fo,d(I,{modelValue:n(e).formInfo.holder.name,"onUpdate:modelValue":s[0]||(s[0]=r=>n(e).formInfo.holder.name=r),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:u}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(I,{modelValue:n(e).formInfo.holder.certNo,"onUpdate:modelValue":s[1]||(s[1]=r=>n(e).formInfo.holder.certNo=r),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.holder.mobile,"onUpdate:modelValue":s[2]||(s[2]=r=>n(e).formInfo.holder.mobile=r),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[n(se).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[4]||(s[4]=r=>n(e).formInfo.holder.socialFlag=r),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[3]||(s[3]=r=>n(e).formInfo.holder.socialFlag=r),disabled:o.disable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),i("div",null,[po,d(I,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[6]||(s[6]=r=>n(e).formInfo.insured.relationToHolder=r),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[5]||(s[5]=r=>n(e).formInfo.insured.relationToHolder=r),disabled:o.disable,options:n(mt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),d(I,{modelValue:n(e).formInfo.insured.name,"onUpdate:modelValue":s[7]||(s[7]=r=>n(e).formInfo.insured.name=r),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:u}],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(I,{modelValue:n(e).formInfo.insured.certNo,"onUpdate:modelValue":s[8]||(s[8]=r=>n(e).formInfo.insured.certNo=r),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(I,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[10]||(s[10]=r=>n(e).formInfo.insured.socialFlag=r),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:w(()=>[d(U,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[9]||(s[9]=r=>n(e).formInfo.insured.socialFlag=r),disabled:o.disable||n(e).insureDisable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),i("div",null,[_o,d(I,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:w(()=>[Q(x(n(pt)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),d(K,{modelValue:n(e).formInfo.paymentMethod,"onUpdate:modelValue":s[11]||(s[11]=r=>n(e).formInfo.paymentMethod=r),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":n(ft),"is-view":o.disable||n(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),d(I,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:w(()=>[d(H,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:n(e).formInfo.renewalDK,onClick:B},null,8,["disabled","active"])]),_:1}),i("div",ho,[i("div",vo,[Do,(_(!0),E(q,null,z(n(h),(r,$)=>(_(),G(m,{key:$,class:"file-name",title:`\u300A${r.attachmentName}\u300B`,content:r.attachmentUri,type:"pdf"},{default:w(()=>{var N,f;return[$!==(((f=(N=t.productDetail)==null?void 0:N.tenantProductInsureVO)==null?void 0:f.attachmentVOList)||[]).length-1?(_(),E("span",go,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))]),i("div",yo,[bo,(_(!0),E(q,null,z(n(y),(r,$)=>(_(),G(m,{key:$,class:"file-name",title:`\u300A${r.attachmentName}\u300B`,content:r.attachmentUri,type:"pdf"},{default:w(()=>{var N,f;return[$!==(((f=(N=t.productDetail)==null?void 0:N.tenantProductInsureVO)==null?void 0:f.attachmentVOList)||[]).length-1?(_(),E("span",Fo,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))])])]),d(re)]),_:1},512)}}});var Co=ee(Io,[["__scopeId","data-v-07ffa5c0"]]);const wo={class:"page-product-detail"},Eo={class:"info"},Bo=["src"],Vo={class:"guarantee-list"},To={key:0,class:"basic"},Po={class:"tab-1"},Oo=["src"],So={class:"footer-button"},No={class:"price"},Ao=Q(" \u603B\u4FDD\u8D39"),Lo={class:"guarantee-list"},$o={class:"title"},ko={class:"content"},Uo=Z({setup(t){const a=Xe(),o=Ze(),{productCode:l="BWYL2021",tenantId:e,orderId:u,phoneNo:y,agentCode:h,saleChannelId:S,paymentMethod:B,certNo:D,name:s}=o.query,I=k([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),U=k(),K=k(0),H=k(!1),m=k(),L=k(),r=k(),$=!!(s&&D&&y),N=!!u,f=Se({holder:{certNo:D,certType:Fe.CERT,mobile:y,name:s,socialFlag:ie.HAS},insured:{certNo:D,certType:Fe.CERT,name:s,socialFlag:ie.HAS,relationToHolder:ce.SELF},paymentMethod:B,paymentMethodDisable:!!B,renewalDK:!0}),le=k(!1),R=k(!1),Le=()=>{le.value=!1},$e=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ae(oe({},o.query),{tenantId:e,productCode:"BWYL2022",orderId:u})})},ke=()=>{H.value=!0},te=X(()=>{var g,p,c,v,b,V,O;return((c=(p=(g=m.value)==null?void 0:g.tenantProductInsureVO)==null?void 0:p.guaranteeList)==null?void 0:c.length)?(b=(v=m.value)==null?void 0:v.tenantProductInsureVO)==null?void 0:b.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(O=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:O.titleAndDescVOS}]}),ve=()=>{const{holder:{certNo:g,mobile:p,name:c,socialFlag:v},insured:{certNo:b,name:V,socialFlag:O,relationToHolder:F},paymentMethod:T}=f,P=Ie(g)&&Dt(p)&&me(c)&&!!v,C=Ie(b)&&me(V)&&!!O&&!!F;return!!(P&&C&&!!T)},Ue=async g=>{nt.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const p=await Ft(g),{code:c}=p;if(c==="10000"){const v=await It({id:g.id,tenantId:e}),{data:b}=v;c==="10000"?window.location.href=b:R.value=!1}else R.value=!1}catch{R.value=!1}},Me=g=>`${it}/chuangxin/baigebao/productDetail?tenantId=${e}&productCode=${l}&orderId=${g}`,xe=async g=>{const p=vt({tenantId:e,saleUserId:h,saleChannelId:S,detail:m.value,insureDetail:L.value,paymentMethod:f.paymentMethod,renewalDK:f.renewalDK?"Y":"N",successJumpUrl:"",premium:r.value,holder:f.holder,insured:f.insured,tenantOrderRiskList:g,orderStatus:"",orderTopStatus:""});try{const c=await yt(p),{code:v,data:b}=c;v==="10000"&&Ue(ae(oe({},p),{id:b.data,extInfo:{extraInfo:{renewalDK:f.renewalDK,paymentMethod:f.paymentMethod,successJumpUrl:Me(b.data)}}}))}catch{R.value=!1}},De=async()=>{const{calcData:g,riskVOList:p}=we({holder:f.holder,insured:f.insured,tenantId:e,productDetail:m.value,insureDetail:L.value}),c=async()=>{const v=await Be(g),{code:b,data:V}=v;return b==="10000"?(r.value=V.premium,{condition:p,data:V}):{}};c(),at.exports.debounce(c,500,{trailing:!0})},He=()=>new Promise((g,p)=>{var c,v;(v=(c=U.value)==null?void 0:c.validateForm)==null||v.call(c).then(async()=>{const{calcData:b,riskVOList:V}=we({holder:f.holder,insured:f.insured,tenantId:e,productDetail:m.value,insureDetail:L.value}),O=await Be(b),{code:F,data:T}=O;F==="10000"?(r.value=T.premium,g({condition:V,data:T})):p(new Error)}).catch(()=>{R.value=!1})}),Re=async()=>{var g;if(u){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ae(oe({},o.query),{tenantId:e,productCode:"BWYL2022",orderId:u})});return}R.value=!0;try{const{condition:p,data:c}=await He(),v={},b=(O=[])=>{(O||[]).forEach(F=>{var T;v[F.riskCode]=F,((T=F.riskPremiumDetailVOList)==null?void 0:T.length)&&b(F.riskPremiumDetailVOList)})};b(c.riskPremiumDetailVOList);const V=ht({tenantId:e,riskList:p,riskPremium:v,productId:(g=m.value)==null?void 0:g.id});xe(V)}catch{R.value=!1}};de(()=>f,()=>{m.value&&L.value&&!u&&ve()&&De()},{deep:!0,immediate:!0});const qe=async()=>{var v,b,V,O,F,T,P;const g=await bt({id:u,tenantId:e}),{code:p,data:c}=g;if(p==="10000"){const{tenantOrderHolder:C,tenantOrderInsuredList:A,extInfo:j}=c;f.holder={certNo:C.certNo,certType:C.certType,mobile:C.mobile,name:C.name,socialFlag:ie.HAS},f.insured={certNo:A==null?void 0:A[0].certNo,certType:(v=A[0])==null?void 0:v.certType,name:(b=A[0])==null?void 0:b.name,socialFlag:(O=(V=A[0])==null?void 0:V.extInfo)==null?void 0:O.hasSocialInsurance,relationToHolder:(F=A[0])==null?void 0:F.relationToHolder},f.paymentMethod=j.extraInfo.paymentMethod,r.value=(P=(T=A[0])==null?void 0:T.tenantOrderProductList[0])==null?void 0:P.premium,f.renewalDK=j.extraInfo.renewalDK==="Y",(c.orderStatus===Ee.ACCEPT_POLICY||c.orderStatus===Ee.PAYMENT_SUCCESS)&&(le.value=!0)}},We=async()=>{const g=Ct({productCode:l,withInsureInfo:!0,tenantId:e}),p=gt({productCode:l});await Promise.all([g,p]).then(([c,v])=>{c.code==="10000"&&(m.value=c.data),v.code==="10000"&&(L.value=v.data)}),u?qe():ve()&&De()};return et(()=>{We(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(g,p)=>{var V,O;const c=M("van-button"),v=M("van-config-provider"),b=tt("dompurify-html");return _(),E(q,null,[d(v,{"theme-vars":n(_t)},{default:w(()=>{var F,T;return[i("div",wo,[i("div",Eo,[i("img",{src:(T=(F=m.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:T.banner[0],class:"banner"},null,8,Bo),i("div",Vo,[d(ue,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:ke},{default:w(()=>{var P,C,A;return[m.value&&((P=m.value)==null?void 0:P.tenantProductInsureVO)?(_(),E("div",To,[(_(!0),E(q,null,z((A=(C=n(te))==null?void 0:C[K.value])==null?void 0:A.titleAndDescVOS,(j,Ye)=>(_(),G(ut,{key:Ye,class:"guarantee-item",title:j.title,content:j.desc,border:!1},null,8,["title","content"]))),128))])):J("",!0)]}),_:1})])]),d(be,{class:"tabs",list:I.value,sticky:"",scrollspy:""},{tab1:w(()=>[d(Co,{ref_key:"formRef",ref:U,"holder-disable":$,disable:N,"form-info":n(f),premium:r.value,"product-detail":m.value},null,8,["form-info","premium","product-detail"])]),tab2:w(()=>{var P,C;return[i("div",Po,[(_(!0),E(q,null,z(((C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.spec)||[],(A,j)=>(_(),E("img",{key:j,src:A,class:"detail-img"},null,8,Oo))),128))])]}),tab3:w(()=>[d(ue,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:w(()=>{var P,C;return[d(dt,{list:(C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.settlementProcessList},null,8,["list"])]}),_:1}),d(ue,{title:"\u5E38\u89C1\u95EE\u9898"},{default:w(()=>{var P,C;return[d(At,{list:(C=(P=m.value)==null?void 0:P.tenantProductInsureVO)==null?void 0:C.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),i("div",So,[i("div",No,[Ao,i("span",null,"\uFFE5"+x(n(st)(r.value))+"/\u6708",1)]),d(c,{type:"primary",class:"right",disabled:R.value,onClick:Re},{default:w(()=>[Q(x(n(u)?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["theme-vars"]),d(rt,{show:H.value,"onUpdate:show":p[0]||(p[0]=F=>H.value=F),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:w(()=>[n(te).length>1?(_(),G(be,{key:0,list:n(te).map((F,T)=>({title:F.guaranteeType,slotName:`guarantee-${T}`})),class:"tab"},null,8,["list"])):J("",!0),i("div",Lo,[(_(!0),E(q,null,z(n(te)[K.value].titleAndDescVOS,(F,T)=>(_(),E("div",{key:T,class:"guarantee-item"},[i("div",$o,x(F.title),1),ot(i("div",ko,null,512),[[b,F.content]])]))),128))])]),_:1},8,["show"]),d(mo,{"is-show":le.value,premium:r.value,"attachment-list":(O=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:O.attachmentVOList,onOnConfirm:$e,onOnClose:Le},null,8,["is-show","premium","attachment-list"])],64)}}});var Xo=ee(Uo,[["__scopeId","data-v-3aea1466"]]);export{Xo as default};
