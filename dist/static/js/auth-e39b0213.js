import{t as R}from"./theme-775c7ab9.js";import{h as A,G as f,z as x,$ as T,r,k as c,m as p,n as b,s as F,v as V,A as w,B as u,E as g,L as B}from"./vendor-4d9de129.js";const I={class:"item"},K={class:"footer"},J=A({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"\u540C\u610F\uFF0C\u4E0B\u4E00\u6761"},forceReadCound:{type:Number,default:0}},emits:["update:show","submit","onCloseFilePreview"],setup(y,{emit:m}){const e=y,i=f(e.show),t=f(e.contentList.map((l,o)=>({...l,disabled:!0,readDisabled:!0}))),a=f(e.activeIndex),D=f(0),_=f(null),C=x(()=>{var l,o;return(o=(l=t.value)==null?void 0:l[a.value])==null?void 0:o.attachmentUri}),d=x(()=>{var l;return(l=t.value[a.value])==null?void 0:l.readDisabled}),s=x(()=>a.value>=e.forceReadCound-1||D.value>=e.forceReadCound?!1:D.value<e.forceReadCound?a.value!==e.forceReadCound-1:!1),N=()=>{a.value+=1},k=()=>{m("update:show",!1),m("submit")};T(()=>e,()=>{i.value=e.show,a.value=e.activeIndex},{deep:!0,immediate:!0});const P=l=>{l&&Math.floor(l.target.scrollHeight-l.target.scrollTop)===l.target.clientHeight&&t.value[a.value].readDisabled&&(t.value[a.value].disabled=!1,t.value[a.value].readDisabled=!1,t.value[a.value+1].disabled=!1,D.value+=1)};return T(()=>a.value,()=>{e.show&&(D.value>=e.forceReadCound&&t.value.forEach(l=>{l.disabled=!1,l.readDisabled=!1}),_.value&&(_.value.scrollTop=0))},{immediate:!0}),(l,o)=>{const n=r("ProTab"),S=r("ProFilePreview"),H=r("VanButton"),q=r("van-config-provider"),E=r("ProPopup");return c(),p(E,{show:i.value,"onUpdate:show":o[1]||(o[1]=h=>i.value=h),class:"file-preview-popup-wrap",closeable:!1,onClose:o[2]||(o[2]=h=>m("onCloseFilePreview"))},{default:b(()=>[F(q,{"theme-vars":u(R),class:"custom-provider"},{default:b(()=>[i.value?(c(),p(n,{key:0,active:a.value,"onUpdate:active":o[0]||(o[0]=h=>a.value=h),list:t.value.map((h,$)=>({title:h.attachmentName,disabled:$==a.value?!1:h.disabled||!1,slotName:`guarantee-${$}`})),class:"tab"},null,8,["active","list"])):V("",!0),w("div",{ref_key:"previewRef",ref:_,class:"list",onScroll:P},[w("div",I,[(c(),p(S,{key:u(C),content:u(C),type:"pdf","forbid-click":!0},null,8,["content"]))])],544),w("div",K,[u(s)?(c(),p(H,{key:0,disabled:u(d),type:"primary",block:"",round:"",onClick:N},{default:b(()=>[g(B(`${y.beforeReadOverText}(${a.value+1}/${y.forceReadCound})`),1)]),_:1},8,["disabled"])):(c(),p(H,{key:1,disabled:u(d),type:"primary",block:"",round:"",onClick:k},{default:b(()=>[g(B(e.text),1)]),_:1},8,["disabled"]))])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const U={class:"list"},L={class:"item"},M={class:"footer"},O=g("\u90E8\u5206\u4E3A\u662F"),z=g("\u5168\u90E8\u4E3A\u5426"),Q=A({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(y,{emit:m}){const e=y,i=f(e.show),t=f(e.activeIndex),a=x(()=>{var d;return(d=e.contentList[t.value])==null?void 0:d.attachmentUri}),D=f(!0),_=d=>{D.value=!1,m("update:show",!1),m("onConfirmHealth",d)},C=()=>{D.value&&m("onCloseHealth")};return T(()=>e,()=>{i.value=e.show,t.value=e.activeIndex},{deep:!0,immediate:!0}),(d,s)=>{const N=r("ProTab"),k=r("ProFilePreview"),P=r("VanButton"),l=r("van-config-provider"),o=r("ProPopup");return c(),p(o,{show:i.value,"onUpdate:show":s[3]||(s[3]=n=>i.value=n),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:s[4]||(s[4]=n=>C())},{default:b(()=>[F(l,{"theme-vars":u(R),class:"custom-provider"},{default:b(()=>[i.value?(c(),p(N,{key:0,active:t.value,"onUpdate:active":s[0]||(s[0]=n=>t.value=n),list:y.contentList.map((n,S)=>({title:n.attachmentName,slotName:`guarantee-${S}`})),class:"tab"},null,8,["active","list"])):V("",!0),w("div",U,[w("div",L,[(c(),p(k,{key:u(a),content:u(a),type:"pdf"},null,8,["content"]))])]),w("div",M,[F(P,{type:"primary",block:"",round:"",onClick:s[1]||(s[1]=n=>_("N"))},{default:b(()=>[O]),_:1}),F(P,{type:"primary",plain:"",block:"",round:"",onClick:s[2]||(s[2]=n=>_("allFalse"))},{default:b(()=>[z]),_:1})])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}}),v={holderNameDisable:!0,holderCertDisable:!0,holderMobileDisable:!0,holderSocialDisable:!0,relationToHolderDisable:!0,insuredNameDisable:!0,insuredCertDisable:!0,insuredSocialDisable:!0,paymentDisable:!0,renewalDKDisable:!0,paymentFrequencyDisable:!0};({...v});({...v});({...v});({...v});({...v});const W={...v,holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1};({...v});({...v});export{J as _,Q as a,W as b,v as d};
