import{d as e,r as a,aU as n,Q as t,c as l,y as r,f as s,i,h as o,z as d,R as c,g as u,w as f,k as p,j as m,a8 as h,aV as y,ad as v}from"./index-f6fa5ecc.js";import{P as C}from"./index-48c2c33d.js";import"./infoCollection-3913f4d9.js";import"./trial-dfc2b426.js";const k={class:"trial-button-wrap"},x={class:"footer-area"},S=s("span",null,"分享",-1),g={class:"price"},j={key:0},I=e({name:"trialButton"}),T=e({...I,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:null},emits:["handleClick"],setup(e,{emit:I}){const T=e,b=a(""),E=a("");n();const D=a(),O=()=>{T.handleShare?T.handleShare((()=>D.value.handleShare())):D.value.handleShare()};return t([()=>T.premium,()=>T.tenantProductDetail,()=>T.paymentFrequency,()=>T.planCode],(([e])=>{const{PREMIUM:a=[]}=T.tenantProductDetail||{};let n={};if(null==a?void 0:a.length){n=(a||[]).find((e=>e.planCode===T.planCode||!e.planCode))||{};const t=((null==n?void 0:n.data)||[]).find((e=>e.paymentFrequency===T.paymentFrequency)),{premium:l,minActualUnit:r}=t||{};e?(E.value=r,b.value=e&&`${e}`):(E.value=l,b.value="")}else e&&(E.value="",b.value=e&&`${e}`)}),{deep:!0,immediate:!0}),(a,n)=>{const t=v;return l(),r("div",k,[s("div",x,[e.isShare?(l(),r("div",{key:0,class:"com-share",onClick:O},[i(t,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):o("",!0),s("div",g,[e.loadingText?(l(),r("span",j,d(e.loadingText),1)):(l(),r(c,{key:1},[s("span",null,d(u(b)),1),s("span",null,d(u(E)),1)],64))]),i(C,{shadow:!1,class:"right",onClick:n[0]||(n[0]=e=>I("handleClick"))},{default:f((()=>[p(a.$slots,"default",{},(()=>[m("立即投保")]))])),_:3})]),i(y,h({ref_key:"shareRef",ref:D},e.shareInfo),null,16)])}}}),b=({holder:e,insuredList:a=[]})=>{const n=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured","tenantOrderBeneficiaryList","extInfo"],t=e=>{const a={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((t=>{n.includes(t)?a[t]=e[t]:a.extInfo[t]=e[t]})),a};return{tenantOrderHolder:t(e),tenantOrderInsuredList:(a||[]).map((e=>t(e)))}};export{T as _,b as f};
