var lt=Object.defineProperty,rt=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Ae=(o,u,t)=>u in o?lt(o,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[u]=t,ie=(o,u)=>{for(var t in u||(u={}))ct.call(u,t)&&Ae(o,t,u[t]);if(Be)for(var t of Be(u))dt.call(u,t)&&Ae(o,t,u[t]);return o},ce=(o,u)=>rt(o,it(u));import{g as oe,Q as Ue,E as A,y as G,j as d,n as E,z as n,J as R,p as c,L as fe,A as a,B as mt,a4 as _e,a5 as he,F as Y,G as W,k as L,C as q,t as J,r as V,m as B,_ as pe,M as Me,ar as ft,h as Re,a9 as pt,O as _t,af as ht,H as vt,l as Dt,T as Ft}from"./vendor-06835924.js";import{_ as ne,d as gt,e as He,V as De,i as de,S as yt,C as Pe,j as Ct,a as Fe,a2 as $e,$ as wt,m as Et,G as ke,a1 as Ve}from"./index-084212da.js";import{P as bt}from"./index-685d397d.js";import{c as It}from"./close-df102554.js";import{t as qe}from"./theme-eeb93d73.js";import{R as ye,S as Te,a as Bt,f as ge}from"./infoCollection-b0426750.js";import{A as At}from"./bankCard-b0679059.js";import{a as Pt,b as Ne,t as $t,g as kt}from"./utils-65e4cc03.js";import{b as Ce,v as Vt}from"./validator-ebd71d12.js";import{a as Se}from"./order-b675ac95.js";import{p as Oe,i as Tt,s as Nt,a as St,u as Ot,b as Lt}from"./trial-f3dab881.js";import{p as xt}from"./product-201f3567.js";import"./trial-8b41d057.js";const Ut=o=>(_e("data-v-47f4f4ca"),o=o(),he(),o),Mt={class:"com-question-item"},Rt={class:"question"},Ht=Ut(()=>n("div",{class:"icon"},R("?"),-1)),qt={class:"title"},Kt=oe({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(o){const[u,t]=Ue(!1),r=A(),l=()=>{t()},e=G(()=>u.value?gt(r.value):0);return(F,_)=>(d(),E("div",Mt,[n("div",Rt,[Ht,n("div",qt,R(o.question),1),c(He,{name:"down",class:fe(["arrow-icon",{show:a(u)}]),onClick:l},null,8,["class"])]),n("div",{ref_key:"answerDom",ref:r,class:"answer",style:mt({height:`${a(e)}px`})},R(o.answer),5)]))}});var Yt=ne(Kt,[["__scopeId","data-v-47f4f4ca"]]);const Wt={class:"com-question"},jt=oe({props:{list:{type:Array,default:()=>[]}},setup(o){const u=o,[t,r]=Ue(!1),l=()=>{r()},e=G(()=>u.list.length<=4||t.value?u.list:u.list.slice(0,4));return(F,_)=>(d(),E("div",Wt,[(d(!0),E(Y,null,W(a(e),(C,b)=>(d(),L(Yt,{key:b,question:C.title,answer:C.desc},null,8,["question","answer"]))),128)),o.list.length>4?(d(),E("div",{key:0,class:"show-more",onClick:l},[q(R(a(t)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),c(He,{name:"down",class:fe(["icon",{showMore:a(t)}])},null,8,["class"])])):J("",!0)]))}});var zt=ne(jt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Gt=o=>typeof o=="number"&&isFinite(o),Jt=o=>ee(o)&&Object.keys(o).length===0,Qt=Object.assign;let Le;const Xt=()=>Le||(Le=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),me=Array.isArray,Z=o=>typeof o=="string",we=o=>typeof o=="boolean",Zt=Object.prototype.toString,eo=o=>Zt.call(o),ee=o=>eo(o)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function to(o,u,t={}){const{domain:r,messages:l,args:e}=t,F=o,_=new SyntaxError(String(F));return _.code=o,u&&(_.location=u),_.domain=r,_}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const oo={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let ao=null;oo.FunctionTranslate;function uo(o){return u=>ao}const no=-1;function so(o,u,t,r,l){const{missing:e,onWarn:F}=o;if(e!==null){const _=e(o,t,u,l);return Z(_)?_:u}else return u}function lo(o,u,t){const r=o;r.__localeChainCache||(r.__localeChainCache=new Map);let l=r.__localeChainCache.get(t);if(!l){l=[];let e=[t];for(;me(e);)e=xe(l,e,u);const F=me(u)?u:ee(u)?u.default?u.default:null:u;e=Z(F)?[F]:F,me(e)&&xe(l,e,!1),r.__localeChainCache.set(t,l)}return l}function xe(o,u,t){let r=!0;for(let l=0;l<u.length&&we(r);l++){const e=u[l];Z(e)&&(r=ro(o,u[l],t))}return r}function ro(o,u,t){let r;const l=u.split("-");do{const e=l.join("-");r=io(o,e,t),l.splice(-1,1)}while(l.length&&r===!0);return r}function io(o,u,t){let r=!1;if(!o.includes(u)&&(r=!0,u)){r=u[u.length-1]!=="!";const l=u.replace(/!/g,"");o.push(l),(me(t)||ee(t))&&t[l]&&(r=t[l])}return r}function co(o){return to(o,null,void 0)}function mo(o,...u){const{numberFormats:t,unresolving:r,fallbackLocale:l,onWarn:e}=o,{__numberFormatters:F}=o,[_,C,b,S]=fo(...u),U=we(b.missingWarn)?b.missingWarn:o.missingWarn;we(b.fallbackWarn)?b.fallbackWarn:o.fallbackWarn;const K=!!b.part,P=Z(b.locale)?b.locale:o.locale,Q=lo(o,l,P);if(!Z(_)||_==="")return new Intl.NumberFormat(P).format(C);let X={},H,h=null;const s="number format";for(let j=0;j<Q.length&&(H=Q[j],X=t[H]||{},h=X[_],!ee(h));j++)so(o,_,H,U,s);if(!ee(h)||!Z(H))return r?no:_;let g=`${H}__${_}`;Jt(S)||(g=`${g}__${JSON.stringify(S)}`);let $=F.get(g);return $||($=new Intl.NumberFormat(H,Qt({},h,S)),F.set(g,$)),K?$.formatToParts(C):$.format(C)}function fo(...o){const[u,t,r,l]=o;let e={},F={};if(!Gt(u))throw co(14);const _=u;return Z(t)?e.key=t:ee(t)&&(e=t),Z(r)?e.locale=r:ee(r)&&(F=r),ee(l)&&(F=l),[e.key||"",_,e,F]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xt().__INTLIFY_PROD_DEVTOOLS__=!1);const Ke=o=>(_e("data-v-c8a8e288"),o=o(),he(),o),po={key:0,class:"pro-modal"},_o=Ke(()=>n("div",{class:"pro-overlay"},null,-1)),ho={class:"pro-modal-wrapper"},vo={class:"pro-modal-body"},Do={class:"pro-modal-content"},Fo=Ke(()=>n("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),go={class:"pro-modal-content"},yo={class:"product-attachment-list"},Co=q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),wo={key:0,class:"dun-hao"},Eo=["src"],bo=oe({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:mo,default:0}},emits:["on-confirm","on-close"],setup(o,{emit:u}){const t=o,r=()=>{u("on-close")},l=()=>{u("on-confirm")};return(e,F)=>{const _=V("ProPDFviewer");return t.isShow?(d(),E("div",po,[_o,n("div",ho,[n("div",vo,[n("div",Do,[n("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+R(t.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),Fo]),n("div",{class:"pro-modal-btn",onClick:l},"\u4E00\u952E\u5347\u7EA7"),n("div",go,[n("div",yo,[Co,(d(!0),E(Y,null,W(t.attachmentList,(C,b)=>(d(),L(_,{key:b,class:"file-name",title:`\u300A${C.attachmentName}\u300B`,content:C.attachmentUri,type:"pdf"},{default:B(()=>[b!==(t.attachmentList||[]).length-1?(d(),E("span",wo,"\u3001")):J("",!0)]),_:2},1032,["title","content"]))),128))])])]),n("div",{class:"pro-modal-close",onClick:r},[n("img",{src:a(It)},null,8,Eo)])])])):J("",!0)}}});var Io=ne(bo,[["__scopeId","data-v-c8a8e288"]]);const Bo={class:"list"},Ao={class:"item"},Po={class:"footer"},$o=q("\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u5B8C\u5168\u7B26\u5408\u5065\u5EB7\u544A\u77E5\u5185\u5BB9"),Ye=oe({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","submit"],setup(o,{emit:u}){const t=o,r=A(t.show),l=A(t.activeIndex),e=G(()=>t.contentList[l.value].attachmentUri),F=()=>{u("update:show",!1),u("submit")};return pe(()=>t,()=>{r.value=t.show,l.value=t.activeIndex},{deep:!0,immediate:!0}),(_,C)=>{const b=V("ProTab"),S=V("ProFilePreview"),U=V("VanButton"),K=V("ProPopup");return d(),L(K,{show:r.value,"onUpdate:show":C[1]||(C[1]=P=>r.value=P),height:80,class:"file-preview-popup-wrap",closeable:!1,onClose:C[2]||(C[2]=P=>u("update:show",!1))},{default:B(()=>[c(b,{active:l.value,"onUpdate:active":C[0]||(C[0]=P=>l.value=P),list:o.contentList.map((P,Q)=>({title:P.attachmentName,slotName:`guarantee-${Q}`})),class:"tab"},null,8,["active","list"]),n("div",Bo,[n("div",Ao,[(d(),L(S,{key:a(e),content:a(e),type:"pdf"},null,8,["content"]))])]),n("div",Po,[c(U,{type:"primary",block:"",round:"",onClick:F},{default:B(()=>[$o]),_:1})])]),_:1},8,["show"])}}});const x=o=>(_e("data-v-6961f099"),o=o(),he(),o),ko={class:"holder container"},Vo=x(()=>n("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),To={class:"insured container"},No=x(()=>n("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),So={class:"payment container"},Oo=x(()=>n("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),Lo={class:"attachment-list"},xo={class:"product-attachment-list"},Uo=q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Mo=["onClick"],Ro={class:"rate-attachment-list"},Ho=q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),qo=["onClick"],Ko={key:0,class:"renewal conntainer"},Yo=x(()=>n("div",{class:"title"},"\u5F00\u901A\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",-1)),Wo={class:"pro-radio"},jo={class:"desc_arrow"},zo={key:0,class:"renewal-y-desc renewal-desc"},Go=x(()=>n("div",{class:"sub-title"},"\u5F00\u901A\u540E\u53EF\u4EAB\u53D7\uFF1A",-1)),Jo=x(()=>n("div",{class:"desc"},"\u5B89\u5FC3\uFF01\u5F00\u901A\u81EA\u52A8\u7F34\u8D39\u53EF\u4F7F\u4FDD\u969C\u4E0D\u95F4\u65AD",-1)),Qo=x(()=>n("div",{class:"desc"},"\u7701\u5FC3\uFF01\u4E0B\u4E00\u5E74\u91CD\u65B0\u6295\u4FDD\uFF0C\u4E0D\u7528\u62C5\u5FC3\u65AD\u4FDD",-1)),Xo=x(()=>n("div",{class:"desc"},"\u653E\u5FC3\uFF01\u65E0\u989D\u5916\u8D39\u7528\uFF0C\u5F00\u901A\u540E\u53EF\u968F\u65F6\u53D6\u6D88",-1)),Zo=x(()=>n("div",{class:"desc"},"\u63D0\u793A:\u672C\u4EA7\u54C1\u4E3A\u4E00\u5E74\u671F\u975E\u4FDD\u8BC1\u7EED\u4FDD\u4EA7\u54C1",-1)),ea=[Go,Jo,Qo,Xo,Zo],ta={key:1,class:"renewal-n-desc renewal-desc"},oa=x(()=>n("div",{class:"sub-title"},"\u672A\u5F00\u901A\uFF0C\u4E00\u65E6\u65AD\u4FDD\u5C06\u9762\u4E34\uFF1A",-1)),aa=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u5C06\u5931\u53BB\u4FDD\u969C\uFF0C\u65AD\u4FDD\u671F\u95F4\u51FA\u9669\u4E0D\u53EF\u7406\u8D54",-1)),ua=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u7B49\u5F85\u671F\u5185\u51FA\u9669\u65E0\u6CD5\u7406\u8D54",-1)),na=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u9700\u6838\u5B9E\u5065\u5EB7\u72B6\u51B5\uFF0C\u53EF\u80FD\u65E0\u6CD5\u6295\u4FDD",-1)),sa=[oa,aa,ua,na],la=oe({props:{isCheck:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(o,{expose:u}){const t=o,r=A({}),l=[{value:"Y",title:"\u7533\u8BF7\u5F00\u901A"},{value:"N",title:"\u6682\u4E0D\u5F00\u901A"}],e=Me({insureDisable:!0,formInfo:t.formInfo}),F=A(!1),_=A(0),C=A(!1),b=h=>Ce(h)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",S=G(()=>{var h,s;return(s=(h=t.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(g=>g.attachmentName==="\u8D39\u7387\u8868")}),U=G(()=>{var h,s;return((s=(h=t.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(g=>g.attachmentName!=="\u8D39\u7387\u8868"))||[]}),K=()=>(C.value=!0,C),P=h=>{_.value=h,F.value=!0},Q=()=>new Promise((h,s)=>{r==null||r.value.validate().then(()=>{h("")},()=>{s()})}),X=h=>{t.disable||e.formInfo.renewalDK===h||(e.formInfo.renewalDK=h)},H=()=>{t.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return pe(()=>e.formInfo.insured.relationToHolder,(h,s)=>{t.disable||h!==s&&(h.toString()===ye.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:h},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:h},e.insureDisable=!1))}),pe(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ye.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),u({validateForm:Q,previewFile:P,isAgreeFile:C,onSubmit:K}),(h,s)=>{const g=V("ProField"),$=V("ProRadioButton"),j=V("ProPicker"),se=V("ProTabButton"),ae=V("ProPDFviewer"),le=V("ProForm"),ve=V("van-config-provider");return d(),L(ve,{"theme-vars":a(qe)},{default:B(()=>[c(le,{ref_key:"formRef",ref:r},{default:B(()=>[n("div",ko,[Vo,c(g,{modelValue:a(e).formInfo.holder.name,"onUpdate:modelValue":s[0]||(s[0]=i=>a(e).formInfo.holder.name=i),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:b}],"is-view":t.holderDisable||t.disable},null,8,["modelValue","rules","is-view"]),c(g,{modelValue:a(e).formInfo.holder.certNo,"onUpdate:modelValue":s[1]||(s[1]=i=>a(e).formInfo.holder.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[a(De).ID_CARD],"is-view":t.holderDisable||t.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.holder.mobile,"onUpdate:modelValue":s[2]||(s[2]=i=>a(e).formInfo.holder.mobile=i),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[a(De).PHONE],"is-view":t.holderDisable||t.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[4]||(s[4]=i=>a(e).formInfo.holder.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[c($,{modelValue:a(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[3]||(s[3]=i=>a(e).formInfo.holder.socialFlag=i),disabled:t.disable,options:a(Te)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),c(de),n("div",To,[No,c(g,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[6]||(s[6]=i=>a(e).formInfo.insured.relationToHolder=i),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[c($,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[5]||(s[5]=i=>a(e).formInfo.insured.relationToHolder=i),disabled:t.disable,options:a(Bt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),c(g,{modelValue:a(e).formInfo.insured.name,"onUpdate:modelValue":s[7]||(s[7]=i=>a(e).formInfo.insured.name=i),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:b}],"is-view":a(e).insureDisable||t.disable},null,8,["modelValue","rules","is-view"]),c(g,{modelValue:a(e).formInfo.insured.certNo,"onUpdate:modelValue":s[8]||(s[8]=i=>a(e).formInfo.insured.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[a(De).ID_CARD],"is-view":a(e).insureDisable||t.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[10]||(s[10]=i=>a(e).formInfo.insured.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[c($,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[9]||(s[9]=i=>a(e).formInfo.insured.socialFlag=i),disabled:t.disable||a(e).insureDisable,options:a(Te)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),c(de),n("div",So,[Oo,c(g,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:B(()=>[q(R(a(Pt)(t.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),c(j,{modelValue:a(e).formInfo.paymentMethod,"onUpdate:modelValue":s[11]||(s[11]=i=>a(e).formInfo.paymentMethod=i),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":a(At),"is-view":t.disable||a(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),t.isCheck?J("",!0):(d(),L(g,{key:0,label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:B(()=>[c(se,{disabled:t.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:a(e).formInfo.renewalDK,onClick:H},null,8,["disabled","active"])]),_:1})),n("div",Lo,[n("div",xo,[Uo,t.isCheck?(d(!0),E(Y,{key:0},W(a(U),(i,v)=>(d(),E("span",{key:`attachment-${v}`,class:"file-name",onClick:ue=>P(v)},R(`\u300A${i.attachmentName}\u300B`),9,Mo))),128)):(d(!0),E(Y,{key:1},W(a(U),(i,v)=>(d(),L(ae,{key:v,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},null,8,["title","content"]))),128))]),n("div",Ro,[Ho,t.isCheck?(d(!0),E(Y,{key:0},W(a(S),(i,v)=>(d(),E("span",{key:`rate-${v}`,class:"file-name",onClick:ue=>P(a(U).length+v)},R(`\u300A${i.attachmentName}\u300B`),9,qo))),128)):(d(!0),E(Y,{key:1},W(a(S),(i,v)=>(d(),L(ae,{key:v,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},null,8,["title","content"]))),128))])])]),c(de),t.isCheck?(d(),E("div",Ko,[Yo,n("div",Wo,[(d(),E(Y,null,W(l,(i,v)=>c(se,{key:v,title:i.title,active:a(e).formInfo.renewalDK===i.value,onClick:ue=>X(i.value)},null,8,["title","active","onClick"])),64))]),n("div",jo,[n("div",{class:fe(["arrow light",{show:a(e).formInfo.renewalDK==="Y"||a(e).formInfo.renewalDK===""}])},null,2),n("div",{class:fe(["arrow dark",{show:a(e).formInfo.renewalDK==="N"}])},null,2)]),a(e).formInfo.renewalDK==="Y"?(d(),E("div",zo,ea)):(d(),E("div",ta,sa))])):J("",!0),c(de),c(Ye,{show:F.value,"onUpdate:show":s[12]||(s[12]=i=>F.value=i),"content-list":a(U).concat(a(S)),"active-index":_.value,onSubmit:K},null,8,["show","content-list","active-index"])]),_:1},512)]),_:1},8,["theme-vars"])}}});var ra=ne(la,[["__scopeId","data-v-6961f099"]]),ia="/static/assets/header-logo.fcc5844b.png";const ca=o=>(_e("data-v-a052d3d0"),o=o(),he(),o),da={class:"header"},ma=["src"],fa=ca(()=>n("div",{class:"content"},[n("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A"),n("p",null,[q(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653"),n("span",null,"\u300A\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56\u300B"),q("\uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 ")])],-1)),pa={class:"footer"},_a=q(" \u597D\u7684 "),ha={key:0},va=oe({setup(o){const u="PRENOTICE",t=new yt({source:"sessionStorage"}),r=A(!1),l=ft({time:4e3,onFinish:()=>{t.set(`${u}-isShow`,"1"),r.value=!1}}),e=G(()=>l.current.value.seconds);return Re(()=>{t.get(`${u}-isShow`)||(r.value=!0,l.start())}),(F,_)=>{const C=V("VanButton"),b=V("ProPopup");return d(),L(b,{class:"pre-notice-wrap",show:r.value,closeable:!1,height:45},{default:B(()=>[n("div",da,[n("img",{src:a(ia)},null,8,ma)]),fa,n("div",pa,[c(C,{type:"primary",block:"",round:""},{default:B(()=>[_a,a(e)?(d(),E("span",ha,R(a(e))+"s",1)):J("",!0)]),_:1})])]),_:1},8,["show"])}}});var Da=ne(va,[["__scopeId","data-v-a052d3d0"]]);const Fa={class:"page-product-detail"},ga={class:"info"},ya=["src"],Ca={class:"guarantee-list"},wa={key:0,class:"basic"},Ea={class:"tab-1"},ba=["src"],Ia={class:"footer-button"},Ba={class:"price"},Aa=q(" \u603B\u4FDD\u8D39"),Pa={class:"guarantee-list"},$a={class:"title"},ka={class:"content"},Va=oe({setup(o){const u=pt(),t=_t(),{productCode:r="BWYL2021",tenantId:l,orderNo:e,phoneNo:F,agentCode:_,saleChannelId:C,paymentMethod:b,certNo:S,name:U,pageCode:K,from:P}=t.query,Q=A([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),X=A(),H=A(0),h=A(!1),s=A(),g=A(),$=A(),j=P==="check",se=A(!1),ae=A(!1),le=A(0),ve=!!(U&&S&&F)||!!e,i=K==="payBack",v=Me({holder:{certNo:S,certType:Pe.CERT,mobile:F,name:U,socialFlag:ge.HAS},insured:{certNo:S,certType:Pe.CERT,name:U,socialFlag:ge.HAS,relationToHolder:ye.SELF},paymentMethod:b,paymentMethodDisable:!!b,renewalDK:"Y"}),ue=A(!1),z=A(!1),We=()=>{ue.value=!1},je=()=>{u.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ce(ie({},t.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:_,from:P})})},ze=()=>{h.value=!0},Ge=G(()=>{var f,m;return((m=(f=s.value)==null?void 0:f.tenantProductInsureVO)==null?void 0:m.attachmentVOList.filter(p=>p.attachmentName==="\u8D39\u7387\u8868"))||[]}),Je=G(()=>{var f,m;return((m=(f=s.value)==null?void 0:f.tenantProductInsureVO)==null?void 0:m.attachmentVOList.filter(p=>p.attachmentName!=="\u8D39\u7387\u8868"))||[]}),re=G(()=>{var f,m,p,w,I,k,T;return((p=(m=(f=s.value)==null?void 0:f.tenantProductInsureVO)==null?void 0:m.guaranteeList)==null?void 0:p.length)?(I=(w=s.value)==null?void 0:w.tenantProductInsureVO)==null?void 0:I.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(T=(k=s.value)==null?void 0:k.tenantProductInsureVO)==null?void 0:T.titleAndDescVOS}]}),Ee=()=>{const{holder:{certNo:f,mobile:m,name:p,socialFlag:w},insured:{certNo:I,name:k,socialFlag:T,relationToHolder:N},paymentMethod:M}=v,D=ke(f)&&Vt(m)&&Ce(p)&&!!w,y=ke(I)&&Ce(k)&&!!T&&!!N;return!!(D&&y&&!!M)},Qe=async f=>{Ft.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const m=await Ot(f),{code:p}=m;if(p==="10000"){const w=await Lt({orderNo:f.orderNo,tenantId:l}),{data:I}=w;p==="10000"?window.location.href=I:z.value=!1}else z.value=!1}catch{z.value=!1}},Xe=f=>`${Ve}/chuangxin/baigebao/productDetail?tenantId=${l}&productCode=${r}&orderNo=${f}&agentCode=${_}&pageCode=payBack&from=${P}`,Ze=f=>`${Ve}/chuangxin/baigebao/payFail?tenantId=${l}&orderNo=${f}&agentCode=${_}&from=${P}`,et=async f=>{const m=kt({tenantId:l,saleUserId:_,saleChannelId:C,detail:s.value,insureDetail:g.value,paymentMethod:v.paymentMethod,renewalDK:v.renewalDK,successJumpUrl:"",premium:$.value,holder:v.holder,insured:v.insured,tenantOrderRiskList:f,orderStatus:"",orderTopStatus:""});try{const p=await Nt(m),{code:w,data:I}=p;w==="10000"&&Qe(ce(ie({},m),{orderNo:I.data,extInfo:{extraInfo:{renewalDK:v.renewalDK,paymentMethod:v.paymentMethod,successJumpUrl:Xe(I.data),failUrl:Ze(I.data)}}}))}catch{z.value=!1}},be=async()=>{const{calcData:f,riskVOList:m}=Ne({holder:v.holder,insured:v.insured,tenantId:l,productDetail:s.value,insureDetail:g.value}),p=async()=>{const w=await Oe(f),{code:I,data:k}=w;return I==="10000"?($.value=k.premium,{condition:m,data:k}):{}};p(),Dt.exports.debounce(p,500,{trailing:!0})},tt=f=>{le.value=f,ae.value=!0},ot=()=>new Promise((f,m)=>{var p,w;(w=(p=X.value)==null?void 0:p.validateForm)==null||w.call(p).then(async()=>{var y;const I=((y=X.value)==null?void 0:y.isAgreeFile)||se.value;if(j&&!I){tt(0),z.value=!1;return}const{calcData:k,riskVOList:T}=Ne({holder:v.holder,insured:v.insured,tenantId:l,productDetail:s.value,insureDetail:g.value}),N=await Oe(k),{code:M,data:D}=N;M==="10000"?($.value=D.premium,f({condition:T,data:D})):m(new Error)}).catch(()=>{z.value=!1})}),Ie=async()=>{var f;if(i){u.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ce(ie({},t.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:_,from:P})});return}z.value=!0;try{const{condition:m,data:p}=await ot(),w={},I=(T=[])=>{(T||[]).forEach(N=>{var M;w[N.riskCode]=N,((M=N.riskPremiumDetailVOList)==null?void 0:M.length)&&I(N.riskPremiumDetailVOList)})};I(p.riskPremiumDetailVOList);const k=$t({tenantId:l,riskList:m,riskPremium:w,productId:(f=s.value)==null?void 0:f.id});et(k)}catch{z.value=!1}},at=()=>{se.value=!0,Ie()};pe(()=>v,()=>{s.value&&g.value&&!i&&Ee()&&be()},{deep:!0,immediate:!0});const ut=async()=>{var w,I,k,T,N,M,D;const f=await St({orderNo:e,tenantId:l}),{code:m,data:p}=f;if(m==="10000"){const{tenantOrderHolder:y,tenantOrderInsuredList:O,extInfo:te}=p;if(v.holder={certNo:y.certNo,certType:y.certType,mobile:y.mobile,name:y.name,socialFlag:ge.HAS},v.insured={certNo:O==null?void 0:O[0].certNo,certType:(w=O[0])==null?void 0:w.certType,name:(I=O[0])==null?void 0:I.name,socialFlag:(T=(k=O[0])==null?void 0:k.extInfo)==null?void 0:T.hasSocialInsurance,relationToHolder:(N=O[0])==null?void 0:N.relationToHolder},v.paymentMethod=te.extraInfo.paymentMethod,$.value=(D=(M=O[0])==null?void 0:M.tenantOrderProductList[0])==null?void 0:D.premium,v.renewalDK=te.extraInfo.renewalDK?"Y":"N",K==="productDetail")return;(p.orderStatus===Se.ACCEPT_POLICY||p.orderStatus===Se.PAYMENT_SUCCESS)&&(ue.value=!0)}},nt=async()=>{const f=xt({productCode:r,withInsureInfo:!0,tenantId:l}),m=Tt({productCode:r});await Promise.all([f,m]).then(([p,w])=>{p.code==="10000"&&(s.value=p.data),w.code==="10000"&&(g.value=w.data)}),e?ut():Ee()&&be()};return Re(()=>{nt(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(f,m)=>{const p=V("van-button"),w=V("van-config-provider"),I=ht("dompurify-html");return d(),L(w,{"theme-vars":a(qe)},{default:B(()=>{var k,T,N,M;return[n("div",Fa,[n("div",ga,[n("img",{src:(T=(k=s.value)==null?void 0:k.tenantProductInsureVO)==null?void 0:T.banner[0],class:"banner"},null,8,ya),n("div",Ca,[c(Fe,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:ze},{default:B(()=>{var D,y,O;return[s.value&&((D=s.value)==null?void 0:D.tenantProductInsureVO)?(d(),E("div",wa,[(d(!0),E(Y,null,W((O=(y=a(re))==null?void 0:y[H.value])==null?void 0:O.titleAndDescVOS,(te,st)=>(d(),L(Ct,{key:st,class:"guarantee-item",title:te.title,content:te.desc,border:!1},null,8,["title","content"]))),128))])):J("",!0)]}),_:1})])]),c($e,{class:"tabs",list:Q.value,sticky:"",scrollspy:""},{tab1:B(()=>[c(ra,{ref_key:"formRef",ref:X,"is-check":j,"holder-disable":a(ve),disable:i,"form-info":a(v),premium:$.value,"product-detail":s.value},null,8,["holder-disable","form-info","premium","product-detail"])]),tab2:B(()=>{var D,y;return[n("div",Ea,[(d(!0),E(Y,null,W(((y=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:y.spec)||[],(O,te)=>(d(),E("img",{key:te,src:O,class:"detail-img"},null,8,ba))),128))])]}),tab3:B(()=>[c(Fe,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:B(()=>{var D,y;return[c(bt,{list:(y=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:y.settlementProcessList},null,8,["list"])]}),_:1}),c(Fe,{title:"\u5E38\u89C1\u95EE\u9898"},{default:B(()=>{var D,y;return[c(zt,{list:(y=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:y.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),n("div",Ia,[n("div",Ba,[Aa,n("span",null,"\uFFE5"+R(a(wt)($.value))+"/\u6708",1)]),c(p,{type:"primary",class:"right",disabled:z.value,onClick:Ie},{default:B(()=>[q(R(i?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])]),j&&a(K)!=="payBack"?(d(),L(Da,{key:0})):J("",!0),c(Et,{show:h.value,"onUpdate:show":m[0]||(m[0]=D=>h.value=D),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:B(()=>[a(re).length>1?(d(),L($e,{key:0,list:a(re).map((D,y)=>({title:D.guaranteeType,slotName:`guarantee-${y}`})),class:"tab"},null,8,["list"])):J("",!0),n("div",Pa,[(d(!0),E(Y,null,W(a(re)[H.value].titleAndDescVOS,(D,y)=>(d(),E("div",{key:y,class:"guarantee-item"},[n("div",$a,R(D.title),1),vt(n("div",ka,null,512),[[I,D.content]])]))),128))])]),_:1},8,["show"]),c(Io,{"is-show":ue.value,premium:$.value,"attachment-list":(M=(N=s.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:M.attachmentVOList,onOnConfirm:je,onOnClose:We},null,8,["is-show","premium","attachment-list"]),c(Ye,{show:ae.value,"onUpdate:show":m[1]||(m[1]=D=>ae.value=D),"content-list":a(Je).concat(a(Ge)),"active-index":le.value,onSubmit:at},null,8,["show","content-list","active-index"])]}),_:1},8,["theme-vars"])}}});var ja=ne(Va,[["__scopeId","data-v-e54e12c6"]]);export{ja as default};
