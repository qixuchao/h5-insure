import{i as e,r as t,l as a,m as o,s as n,B as r,t as i,p as s,F as l,G as d,P as c,aa as u,k as p,n as f,L as v,C as m,a5 as b,a6 as I}from"./vendor-86ac9d42.js";import{u as y}from"./theme-b9409b06.js";import{g as j,i as C}from"./trial-cce58dca.js";import{_,n as g}from"./nextStep-3d132fec.js";import{s as E}from"./verify-ec7b813b.js";import{_ as h}from"./index-0db00022.js";import"./infoCollection-4b71a25b.js";import"./relativeTime-66b9eb0d.js";import"./useDicData-9109b518.js";import"./core-3d4fa83e.js";import"./index-d8ed11f6.js";const w={class:"sign-wrap"},L=r("img",{src:"",alt:""},null,-1),N=d("点击签字"),x={class:"popup-body"},O={class:"sign-container-wrap"},R={class:"operate-bar"},T=r("span",null,"请投保人正楷签署您的签名:",-1),k=d("返回"),B=d("重写"),S=d("确定签字"),H=e({props:{option:{default:{}}},setup(e){const d=t(!1),c=t(),u=()=>{d.value=!0},p=()=>{d.value=!1},f=()=>{var e,t;null==(t=null==(e=c.value)?void 0:e.clear)||t.call(e)},v=()=>{};return(t,m)=>{const b=a("van-button"),I=a("ProSign"),y=a("van-popup");return o(),n(l,null,[r("div",w,[L,i(b,{type:"primary",onClick:u},{default:s((()=>[N])),_:1})]),i(y,{show:d.value,"onUpdate:show":m[0]||(m[0]=e=>d.value=e),position:"bottom",style:{height:"100%"}},{default:s((()=>[r("div",x,[r("div",O,[i(I,{ref_key:"signRef",ref:c,option:e.option},null,8,["option"]),r("div",R,[T,i(b,{onClick:p},{default:s((()=>[k])),_:1}),i(b,{onClick:f},{default:s((()=>[B])),_:1}),i(b,{onClick:v},{default:s((()=>[S])),_:1})])])])])),_:1},8,["show"])],64)}}});const P={class:"net-sale-wrap"},D={class:"product-name"},A={class:"sign-cell"},F=(e=>(b("data-v-4821dc31"),e=e(),I(),e))((()=>r("div",{class:"sign-label"},"签名",-1))),U={class:"footer-button"},V=d("提交");var G=h(e({setup(e){const n=y(),l=c();u();const{orderNo:d="2022120119060692150",tenantId:b="9991000001",productCode:I="HTEJBX"}=l.query;t();const h=t({}),w=t({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:b,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:b}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),L=t(),N=async()=>{await E("HOLDER","213123123213131",w.value.id,`${b}`),g(w.value)};return p((()=>{(async()=>{const{code:e,data:t}=await C({productCode:I,tenantId:b});"10000"===e&&(L.value=t,h.value=t.productFactor)})(),(async()=>{const{code:e,data:t}=await j({orderNo:d,tenantId:b});"10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",w.value=t)})()})),(e,t)=>{const l=a("ProCard"),d=a("van-button"),c=a("ProPageWrap"),u=a("van-config-provider");return o(),f(u,{"theme-vars":m(n)},{default:s((()=>[i(c,null,{default:s((()=>[r("div",P,[i(l,{title:"投保信息"},{default:s((()=>{var e;return[r("div",D,v(null==(e=L.value)?void 0:e.productBasicInfoVO.productFullName),1)]})),_:1}),i(_,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":w.value,"factor-object":h.value,"input-align":"right"},null,8,["form-info","factor-object"]),i(l,{title:"阅读条款合同"}),i(l,{title:"客户签名"},{default:s((()=>[r("div",A,[F,i(H)])])),_:1}),r("div",U,[i(d,{type:"primary",block:"",onClick:N},{default:s((()=>[V])),_:1})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-4821dc31"]]);export{G as default};
