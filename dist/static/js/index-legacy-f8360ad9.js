!function(){var e=document.createElement("style");e.innerHTML=".com-body[data-v-5e1ba7fc]{height:100%;padding:.42667rem .53333rem .21333rem}.com-body .header[data-v-5e1ba7fc]{display:flex;justify-content:space-between;border:none;height:.56rem;font-size:.4rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.56rem;align-items:center;margin-bottom:.4rem}.com-body .risk-name[data-v-5e1ba7fc]{font-weight:600}.com-body .container[data-v-5e1ba7fc]{height:90%;padding-bottom:2rem;overflow-y:auto}.com-body .container[data-v-5e1ba7fc]::-webkit-scrollbar{display:none}.com-body .container[data-v-5e1ba7fc] .risk-select-field{display:inline-flex;padding:0;align-items:center;font-weight:600}.com-body .container[data-v-5e1ba7fc] .risk-select-field :deep(.van-field__label){color:#000}.com-body .container[data-v-5e1ba7fc] .com-pro-field,.com-body .container[data-v-5e1ba7fc] .com-van-field{padding-left:0;padding-right:0}.com-body .container[data-v-5e1ba7fc] .com-pro-field:after,.com-body .container[data-v-5e1ba7fc] .com-van-field:after{left:0;right:0}.benefit-table{overflow-y:hidden}.benefit-container[data-v-2cf800e4]{widows:100%;background:#ffffff;border-radius:.21333rem;margin-bottom:.26667rem;padding:0 .26667rem .4rem}.benefit-container .common-title[data-v-2cf800e4]{padding-top:.45333rem;margin-bottom:.4rem;font-weight:500;color:#333}.benefit-container .benefit[data-v-2cf800e4]{border-top:1px solid #EEEFF4}.benefit-container .benefit-title[data-v-2cf800e4]{margin-top:.48rem;font-size:.37333rem;font-weight:600;color:#393d46}.benefit-container .benefit .box[data-v-2cf800e4]{width:8.4rem;margin:0 auto;background:#fafafa;border:1px solid #9fb3d2;padding:.53333rem 0;border-radius:.26667rem;margin-top:.53333rem}.benefit-container .benefit .box-title[data-v-2cf800e4]{padding:0 .21333rem;font-size:.42667rem;font-weight:500;color:#333;text-align:center;display:flex;align-items:center;justify-content:center}.benefit-container .benefit .box-title img[data-v-2cf800e4]{width:.54667rem;height:.38667rem}.benefit-container .benefit .box-title span[data-v-2cf800e4]{color:var(--zaui-price, #ff5840)}.benefit-container .benefit .box-title.box-title-chart[data-v-2cf800e4]{margin:.53333rem 0}.benefit-container .benefit .box-price[data-v-2cf800e4]{margin-top:.53333rem;display:flex;justify-content:space-between;align-items:center;text-align:center;flex-wrap:wrap}.benefit-container .benefit .box-price .text1[data-v-2cf800e4]{font-size:.37333rem;line-height:.50667rem;font-weight:500;color:var(--zaui-price, #ff5840);font-family:Arial-BoldMT,Arial}.benefit-container .benefit .box-price .text2[data-v-2cf800e4]{font-size:.32rem;font-weight:400;color:#393d46}.benefit-container .benefit .tl[data-v-2cf800e4]{margin-right:.13333rem}.benefit-container .benefit .tr[data-v-2cf800e4]{margin-left:.13333rem}.benefit-container .benefit .transform-z180[data-v-2cf800e4]{transform:rotate(180deg)}.benefit-container .benefit .slider[data-v-2cf800e4]{display:flex;align-items:center;margin-top:.4rem}.benefit-container .benefit .slider .opt[data-v-2cf800e4]{color:var(--van-primary-color);font-size:.53333rem}.benefit-container .benefit .slider .lf[data-v-2cf800e4]{margin-right:.66667rem;display:flex;align-items:center}.benefit-container .benefit .slider .rg[data-v-2cf800e4]{margin-left:.66667rem}.benefit-container .benefit .slider .custom-button[data-v-2cf800e4]{width:1.38667rem;height:.61333rem;background:var(--van-primary-color, var(--zaui-brand));box-shadow:0 .02667rem .08rem rgba(0,0,0,.1);border-radius:.37333rem;border:.06667rem solid var(--van-primary-color-light05);font-size:.32rem;font-weight:600;color:#fff;text-align:center}.benefit-container .benefit .slider-dec[data-v-2cf800e4]{font-size:.32rem;font-weight:400;color:#99a9c0;text-align:center;margin:.26667rem 0 .53333rem}.benefit-container .benefit .btn-two[data-v-2cf800e4]{display:flex;padding:.26667rem 0;justify-content:center}.benefit-container .benefit .btn-two .btn[data-v-2cf800e4]{max-width:7.46667rem;height:.8rem;margin-right:.13333rem}.benefit-container .benefit .btn-two .btn[data-v-2cf800e4] .van-button__text{font-size:.29333rem}.trial-button[data-v-21c7c8be]{padding:.4rem;text-align:right;background-color:#fff}.trial-button .van-button[data-v-21c7c8be]{width:3.6rem}.com-body[data-v-21c7c8be]{height:100%;overflow-y:scroll;display:flex;flex-direction:column;border-radius:.53333rem .53333rem 0 0}.com-body .header[data-v-21c7c8be]{padding:0 .4rem;display:flex;justify-content:space-between;border-radius:.26667rem .26667rem 0 0;height:1.46667rem;font-size:.48rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.53333rem;align-items:center;border-bottom:1px solid #eeeeee}.com-body .header i[data-v-21c7c8be]{font-size:.53333rem}.com-body .header span[data-v-21c7c8be]{width:8rem;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.com-body .container[data-v-21c7c8be]{padding:0 .4rem;overflow-y:scroll;flex:1}.com-body .container .empty[data-v-21c7c8be]{width:100%;height:2.4rem}.com-body .container[data-v-21c7c8be]::-webkit-scrollbar{display:none}.com-body .container[data-v-21c7c8be] .risk-select-field{display:inline-flex;padding:0;align-items:center}.com-body .container[data-v-21c7c8be] .risk-select-field :deep(.van-field__label){color:#000}.com-body .container[data-v-21c7c8be] .com-pro-field,.com-body .container[data-v-21c7c8be] .com-van-field{padding-left:0;padding-right:0}.com-body .container[data-v-21c7c8be] .com-pro-field:after,.com-body .container[data-v-21c7c8be] .com-van-field:after{left:0;right:0}.page-internet-product-detail{background:#f1f5fc}.page-internet-product-detail .preview-placeholder{padding:2.66667rem .8rem;height:calc(100vh - 2.50667rem);line-height:1.06667rem;text-align:center;color:var(--zaui-text-weak, #99a9c0);font-size:.42667rem}.page-internet-product-detail .custom-page-form{background:#ffffff}.page-internet-product-detail .custom-page-form .form-title{padding:.53333rem 0px .13333rem;text-align:center;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.page-internet-product-detail .custom-page-form .com-card-wrap .header{margin-left:0!important}.page-internet-product-detail .custom-page-form .com-card-wrap .header .title-wrapper .title:before{margin-right:.37333rem!important}.page-internet-product-detail .custom-page-form .com-card-wrap .relation-holder .van-cell__title{display:none}.page-internet-product-detail .custom-page-form :deep(.radio-btn){justify-content:flex-start}.page-internet-product-detail .custom-page-form :deep(.radio-btn) .btn-wrapper{margin-left:0!important;margin-right:.10667rem!important}.page-internet-product-detail .trial-text-btn{background-color:#fafafa;padding:.4rem;color:var(--van-primary-color);text-align:right}.page-internet-product-detail .footer-area{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between}.page-internet-product-detail .footer-area :deep(.com-share){width:1.02667rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.page-internet-product-detail .footer-area :deep(.com-share) span{font-size:.32rem;color:var(--zaui-text, #393d46)}.page-internet-product-detail .price{color:#393d46;font-size:.45333rem;font-weight:400;width:3.6rem;margin:0 .26667rem}.page-internet-product-detail .price span{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .price span:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.page-internet-product-detail .right{width:4rem;height:1.17333rem;border-radius:.58667rem}\n",document.head.appendChild(e),System.register(["./index-legacy-d48fadb4.js","./trial-legacy-07f83934.js","./product-legacy-51b9c66a.js","./index-legacy-8992fc8a.js","./useAttachment-legacy-dc03f31d.js","./index-legacy-7b77fd34.js","./utils-legacy-4f0c60d2.js","./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-legacy-eda9eb33.js","./index-legacy-cfaa3b45.js","./infoCollection-legacy-f72d6d20.js","./index-legacy-c05b1e75.js","./index-legacy-9e7cca8b.js","./index-legacy-afd11987.js","./index-legacy-c5fb338f.js","./box-title-legacy-f27e06f4.js","./index-legacy-0e62ea85.js","./Table-legacy-cc557617.js","./pdfh5-legacy-9f98dc45.js","./index-legacy-b0c42ea8.js","./trial-legacy-47c3e936.js","./cloneDeep-legacy-06534257.js","./keysIn-legacy-e771016d.js","./isObjectLike-legacy-c9ae9091.js","./empty-legacy-7d56bad5.js","./echarts-legacy-dec3ace5.js"],(function(e,i){"use strict";var t,a,n,o,l,r,d,s,c,u,p,f,m,v,g,y,b,h,k,I,V,C,x,w,O,R,L,S,_,T,F,P,j,D,N,z,E,A,M,U,q,B,K,G,H,W,Y,J,Z,$,Q,X,ee,ie,te,ae,ne,oe,le,re,de,se,ce,ue,pe,fe,me,ve,ge;return{setters:[function(e){t=e._,a=e.d,n=e.a,o=e.r,l=e.J,r=e.E,d=e.cd,s=e.an,c=e.c,u=e.h,p=e.f,f=e.g,m=e.F,v=e.i,g=e.e,y=e.aE,b=e.G,h=e.w,k=e.k,I=e.y,V=e.A,C=e.j,x=e.n,w=e.t,O=e.a4,R=e.bB,L=e.a7,S=e.V,_=e.B,T=e.bE,F=e.bF,P=e.X,j=e.Y,D=e.ck,N=e.b4,z=e.a8,E=e.bY,A=e.bZ,M=e.u,U=e.a9,q=e.b6,B=e.b,K=e.cl,G=e.c0,H=e.c7},function(e){W=e.p,Y=e.c,J=e.i},function(e){Z=e.b,$=e.c},function(e){Q=e._},function(e){X=e.a,ee=e.u,ie=e.G,te=e._},function(e){ae=e.P},function(e){ne=e.g},function(e){oe=e.l},function(){},function(){},function(e){le=e.I,re=e.P},function(e){de=e.c,se=e.t,ce=e._},function(e){ue=e.S},function(e){pe=e._},function(e){fe=e.S,me=e._},function(e){ve=e._},function(e){ge=e.T},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var ye=t(a({__name:"PersonalInfo",props:{productFactor:{default:()=>({})},modelValue:{default:()=>({})}},emits:["update:modelValue","trailChange"],setup(e,{expose:i,emit:t}){const a=e,{query:{insurerCode:y}={}}=n(),b=o(null),h=o(null),k=l({validated:!1,holder:{personVO:{},schema:[],trialFactorCodes:[],config:{occupation:{dictCode:de(y)}}},insured:{schema:[],trialFactorCodes:[],config:{occupation:{dictCode:de(y)}},insuredVOList:[{personVO:{}}]}}),I=r((()=>d(k.holder.schema)!==d(k.insured.schema))),V=()=>{var e,i;const t=null===(e=h.value)||void 0===e?void 0:e.map((e=>null==e?void 0:e.validate()));return Promise.all([null===(i=b.value)||void 0===i?void 0:i.validate(),...t])},C=e=>{const i={};return Object.keys(e).forEach((t=>{t.indexOf("Address")>=0&&e[t]instanceof Object?Object.keys(e[t]).forEach((a=>{i[a]=e[t][a]})):i[t]=e[t]})),i};return s((()=>a.productFactor),(()=>{const[e,i]=se(a.productFactor,!0);Object.assign(k.holder,e),Object.assign(k.insured,i)}),{deep:!0,immediate:!0}),s([()=>k.holder.personVO,()=>k.insured.insuredVOList],(()=>{const e={holder:C(k.holder.personVO),insuredVOList:k.insured.insuredVOList.map((e=>({...e,personVO:C(e.personVO)})))};t("update:modelValue",e),(()=>{const e=!!d(k.holder.trialFactorCodes)&&k.holder.trialFactorCodes.some((e=>{const i=k.holder.personVO[e];return oe.exports.isNil(i)||""===i})),i=!!d(k.insured.trialFactorCodes)&&k.insured.trialFactorCodes.some((e=>k.insured.insuredVOList.some((i=>{const t=i.personVO[e];return oe.exports.isNil(t)||""===t}))));return e||i})()||V().then((()=>{k.validated=!0,t("trailChange",e)})).catch((()=>{k.validated=!1}))}),{deep:!0}),i({validate:V}),(e,i)=>(c(),u(m,null,[p(f(ce),{ref_key:"holderInfoRef",ref:b,title:f(I)?"":"投保人信息",class:"trail-personal-info",model:f(k).holder.personVO,schema:f(k).holder.schema,config:f(k).holder.config},null,8,["title","model","schema","config"]),(c(!0),u(m,null,v(f(k).insured.insuredVOList,((e,i)=>(c(),g(f(ce),{ref_for:!0,ref_key:"insuredFormRef",ref:h,key:i,class:"trail-personal-info",title:f(I)?"":"被保人信息",model:e.personVO,schema:f(k).insured.schema,config:f(k).insured.config},null,8,["title","model","schema","config"])))),128))],64))}}),[["__scopeId","data-v-6e1eb448"]]);const be={key:0},he={key:0,class:"risk2-field"},ke=a({__name:"index",props:{dataSource:{type:Array,default:()=>[]},productInfo:{type:Object,default:()=>({productCode:"",productName:""})},showMainRisk:{type:Boolean,default:()=>!0}},emits:["trialChange"],setup(e,{emit:i}){const t=e,a=l({loading:!1,show:!0,select:{},list:[],userData:{},riskIsInsure:{},submitData:{},disabledRiskInfo:[]}),n=e=>{const i=[];return e.riskLiabilityInfoVOList.map((e=>(1!=+e.showFlag&&i.push({...e}),[]))),i},o=(e,n)=>{var o;a.riskIsInsure[n].data=e;const l=[...a.disabledRiskInfo];null===(o=t.dataSource.insureProductRiskVOList)||void 0===o||o.forEach((e=>{if(1!==e.mainRiskFlag){const i=a.riskIsInsure[e.riskId];i.data&&Object.keys(i.data).length>0&&!i.isDisabled&&l.push(i.data)}})),i("trialChange",l)},r=(e,i)=>{var l;null===(l=t.dataSource.productRiskRelationVOList)||void 0===l||l.forEach((t=>{1!==t.collocationType&&(i.riskId===t.riskId?(a.riskIsInsure[i.riskId]&&a.riskIsInsure[i.riskId].selected,2===t.collocationType&&a.riskIsInsure[t.collocationRiskId]&&(a.riskIsInsure[t.collocationRiskId].selected=e),3===t.collocationType&&a.riskIsInsure[t.collocationRiskId]&&(a.riskIsInsure[t.collocationRiskId].selected="1"===e?"2":"1")):i.riskId===t.collocationRiskId&&(3===t.collocationType&&a.riskIsInsure[t.riskId]&&(a.riskIsInsure[t.riskId].selected="1"===e?"2":"1"),2===t.collocationType&&a.riskIsInsure[t.riskId]&&(a.riskIsInsure[t.riskId].selected=e)))})),"2"===e?o({},i.riskId):(e=>{if(1!==(null==e?void 0:e.factorDisPlayFlag)){var i,t,a,l;const s=null==e||null===(i=e.productRiskInsureLimitVO)||void 0===i?void 0:i.amountPremiumConfigVO,c={riskCategory:e.riskCategory,riskCode:e.riskCode,riskName:e.riskName,riskId:e.riskId,riskType:e.riskType,mainRiskId:e.mainRiskId,mainRiskCode:e.mainRiskCode,liabilityVOList:n(e)};c.chargePeriod=(null==e||null===(t=e.paymentPeriodValueList)||void 0===t?void 0:t.length)>0&&(null==e?void 0:e.paymentPeriodValueList[0].code)||null,c.coveragePeriod=(null==e||null===(a=e.insurancePeriodValueList)||void 0===a?void 0:a.length)>0&&(null==e?void 0:e.insurancePeriodValueList[0].code)||null,c.paymentFrequency=(null==e||null===(l=e.paymentFrequencyList)||void 0===l?void 0:l.length)>0&&(null==e?void 0:e.paymentFrequencyList[0].code)||null;let u=0;if(1===s.displayType)u=(null==s?void 0:s.minStepValue)>0?null==s?void 0:s.minStepValue:0;else if(3===s.displayType&&2===s.requireCopies){var r;u=(null==s||null===(r=s.displayValues)||void 0===r?void 0:r.length)>0?null==s?void 0:s.displayValues[0].value:0}else if(3===s.displayType&&1===s.requireCopies){var d;u=(null==s||null===(d=s.displayValues)||void 0===d?void 0:d.length)>0?null==s?void 0:s.displayValues[0].value:0,c.copy=s.minCopiesValue}else 2===s.displayType?c.copy=s.minCopiesValue:u=0;1===s.saleMethod?c.amount=u:c.premium=u,o(c,e.riskId)}})(i)};return y((()=>{(()=>{var e;a.riskIsInsure={},a.disabledRiskInfo=[];let i=null;if(null===(e=t.dataSource.insureProductRiskVOList)||void 0===e||e.forEach((e=>{var n;const o=1!==e.mainRiskFlag?null===(n=t.dataSource.productRiskRelationVOList)||void 0===n?void 0:n.find((i=>i.collocationRiskId===e.riskId)):{};1===e.mainRiskFlag&&(i=e),a.riskIsInsure[e.riskId]={selected:"2",data:null,relation:o,isMust:!1}})),i){var l;const e=null===(l=t.dataSource.productRiskRelationVOList)||void 0===l?void 0:l.filter((e=>e.riskId===i.riskId));if(!e)return;null==e||e.forEach((e=>{if(2===e.collocationType){var i,l;a.riskIsInsure[e.collocationRiskId].selected="1",a.riskIsInsure[e.collocationRiskId].isMust=!0;const m=null===(i=t.dataSource.insureProductRiskVOList)||void 0===i?void 0:i.find((i=>e.collocationRiskId===i.riskId));if(m&&1!==m.factorDisPlayFlag&&null!=m&&null!==(l=m.productRiskInsureLimitVO)&&void 0!==l&&l.amountPremiumConfigVO){var r,d;const i=null===(r=m.riskLiabilityInfoVOList)||void 0===r?void 0:r.every((e=>1!==e.showFlag)),t=null==m||null===(d=m.productRiskInsureLimitVO)||void 0===d?void 0:d.amountPremiumConfigVO;if(i){var s,c,u;a.riskIsInsure[e.collocationRiskId].isDisabled=!0;const i={riskCategory:m.riskCategory,riskCode:m.riskCode,riskName:m.riskName,riskId:m.riskId,riskType:m.riskType,mainRiskId:m.mainRiskId,mainRiskCode:m.mainRiskCode,liabilityVOList:n(m)};i.chargePeriod=(null==m||null===(s=m.paymentPeriodValueList)||void 0===s?void 0:s.length)>0&&(null==m?void 0:m.paymentPeriodValueList[0].code)||null,i.coveragePeriod=(null==m||null===(c=m.insurancePeriodValueList)||void 0===c?void 0:c.length)>0&&(null==m?void 0:m.insurancePeriodValueList[0].code)||null,i.paymentFrequency=(null==m||null===(u=m.paymentFrequencyList)||void 0===u?void 0:u.length)>0&&(null==m?void 0:m.paymentFrequencyList[0].code)||null;let l=0;if(1===t.displayType)l=(null==t?void 0:t.minStepValue)>0?null==t?void 0:t.minStepValue:0;else if(3===t.displayType&&2===t.requireCopies){var p;l=(null==t||null===(p=t.displayValues)||void 0===p?void 0:p.length)>0?null==t?void 0:t.displayValues[0].value:0}else if(3===t.displayType&&1===t.requireCopies){var f;l=(null==t||null===(f=t.displayValues)||void 0===f?void 0:f.length)>0?null==t?void 0:t.displayValues[0].value:0,i.copy=t.minCopiesValue}else 2===t.displayType&&(i.copy=t.minCopiesValue);1===t.saleMethod?i.amount=l:i.premium=l,a.disabledRiskInfo.push(i),o(i,m.riskId)}}}3===e.collocationType&&(a.riskIsInsure[e.collocationRiskId].selected="2",a.riskIsInsure[e.collocationRiskId].isMust=!0)}))}})()})),b((()=>{a.loading=!0})),s((()=>a.riskIsInsure),(e=>{}),{deep:!0,immediate:!0}),(i,t)=>{const n=ue,l=I;return c(!0),u(m,null,v(e.dataSource.insureProductRiskVOList,(i=>(c(),u(m,{key:i.riskCode},[(!e.showMainRisk&&1!==i.mainRiskFlag||e.showMainRisk)&&f(a).riskIsInsure[i.riskId].relation?(c(),u("div",be,[p(l,{modelValue:f(a).riskIsInsure[i.riskId].selected,"onUpdate:modelValue":e=>f(a).riskIsInsure[i.riskId].selected=e,label:i.riskName,name:"selected","label-width":"50%",border:!1,class:"risk-select-field risk-name"},{input:h((()=>[p(n,{modelValue:f(a).riskIsInsure[i.riskId].selected,"onUpdate:modelValue":e=>f(a).riskIsInsure[i.riskId].selected=e,"active-value":"1","inactive-value":"2",size:"26px",disabled:f(a).riskIsInsure[i.riskId].isMust,style:{"margin-right":"8px"},onChange:e=>r(e,i)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"]),"1"===f(a).riskIsInsure[i.riskId].selected?(c(),u("div",he,[p(le,{modelValue:f(a).riskIsInsure[i.riskId].data,"onUpdate:modelValue":e=>f(a).riskIsInsure[i.riskId].data=e,"origin-data":i,"product-factor":e.dataSource.productFactor,onTrialChange:e=>o(e,i.riskId)},null,8,["modelValue","onUpdate:modelValue","origin-data","product-factor","onTrialChange"])])):k("",!0)])):k("",!0)],64)))),128)}}});var Ie=t(ke,[["__scopeId","data-v-5e1ba7fc"]]);const Ve={class:"benefit-table"},Ce=a({__name:"Table",props:{dataSource:null},setup(e){const i=e,t=r((()=>{const e=i.dataSource.headers.length,t=12*i.dataSource.headers.join("").length+20*i.dataSource.headers.length;return i.dataSource.headers.map(((i,a)=>{const n=t>320?12*i.length+20:Math.max(12*i.length+20,320/e);return console.log("totalWordWidth:",t,"titleWidth:",n,"word-width:",12*i.length+20),{title:i,key:`header_${a}`,fixed:a<2,minWidth:n}}))})),a=r((()=>i.dataSource.dataList.map((e=>{const i={};return e.forEach(((e,t)=>{i[`header_${t}`]=e})),i}))));return b((()=>{})),(e,i)=>(c(),u("div",Ve,[p(ge,{"top-height":400,columns:f(t),data:f(a),"is-clone":!0},null,8,["columns","data"])]))}});const xe=e=>(P("data-v-2cf800e4"),e=e(),j(),e),we={key:0,class:"benefit-container"},Oe={key:0,class:"benefit"},Re=xe((()=>C("div",{class:"line"},null,-1))),Le={class:"box-title box-title-chart"},Se=xe((()=>C("img",{class:"tl",src:me,alt:""},null,-1))),_e=xe((()=>C("img",{class:"transform-z180 tr",src:me,alt:""},null,-1))),Te={key:0},Fe={class:"box"},Pe={class:"box-title"},je=xe((()=>C("img",{class:"tl",src:me,alt:""},null,-1))),De=xe((()=>C("img",{class:"transform-z180 tr",src:me,alt:""},null,-1))),Ne={class:"box-price"},ze={class:"text1"},Ee={class:"text2"},Ae={key:1},Me={key:2,style:{width:"100%, minWidth: 338px"}},Ue={class:"slider"},qe={style:{flex:"1",margin:"0px 5px"}},Be={class:"custom-button"},Ke=xe((()=>C("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Ge={class:"btn-two"},He={key:1};var We=t(a({__name:"index",props:{dataSource:{default:()=>({showTypeList:["1"]})}},setup(e){var i;const t=e,a="1",n="2",l="3",r=o(0),d=o(0),y=o(0),b=o(),I=o(0),P=o(null===(i=t.dataSource.showTypeList)||void 0===i?void 0:i[0]),j=o(),D=e=>{if(null==e||!e.benefitRiskResultVOList)return;const i=null==e?void 0:e.benefitRiskResultVOList[r.value];d.value=i.ageBegin+1,I.value=i.ageBegin+1,y.value=i.ageEnd},N=()=>{var e,i,a,n,o,l;const s=null===(e=t.dataSource)||void 0===e||null===(i=e.benefitRiskResultVOList)||void 0===i?void 0:i[r.value];j.value=null===(a=t.dataSource)||void 0===a||null===(n=a.benefitRiskResultVOList)||void 0===n||null===(o=n[r.value].benefitRiskTableResultVOList)||void 0===o?void 0:o[0];const{a:c,year:u}=((e,i)=>{const t=[],a=[];for(let n=e,o=0;n<=i;n++,o++)t.push(n.toString()),a.push(o+1);return{a:t,year:a}})(d.value,y.value),p={index:c.indexOf(I.value.toString()),age:c,year:u,result:null==s||null===(l=s.benefitRiskItemResultVOList)||void 0===l?void 0:l[0]};b.value=p},z=()=>{I.value>y.value-1||(I.value+=1,N())},E=()=>{I.value>d.value&&(I.value-=1,N())},A=e=>{r.value=e.name,D(t.dataSource),N()};return s((()=>t.dataSource),(e=>{var i;e&&(D(e),N(),P.value=null===(i=e.showTypeList)||void 0===i?void 0:i[0])}),{deep:!0,immediate:!0}),s(I,(()=>{N()})),(i,o)=>{var s;const D=S,N=fe,M=_,U=T,q=F,B=pe;return null!==(s=e.dataSource)&&void 0!==s&&s.benefitRiskResultVOList?(c(),u("div",we,[p(q,{active:f(r),onClickTab:A},{default:h((()=>{var e;return[(c(!0),u(m,null,v(null===(e=t.dataSource)||void 0===e?void 0:e.benefitRiskResultVOList,((e,i)=>(c(),g(U,{key:i,name:i,title:e.riskName},{default:h((()=>{var e,s,S,_,T,F,A,U,q,B,K,G,H,W,Y,J;return[i==f(r)?(c(),u("div",Oe,[Re,V(C("p",Le,[Se,x(" 保单年度"),C("span",null,w(null===(e=f(b))||void 0===e||null===(s=e.year)||void 0===s?void 0:s[null===(S=f(b))||void 0===S?void 0:S.index]),1),x("年度，被保人"),C("span",null,w(null===(_=f(b))||void 0===_||null===(T=_.age)||void 0===T?void 0:T[null===(F=f(b))||void 0===F?void 0:F.index]),1),x("岁时 "),_e],512),[[O,f(P)===n]]),f(P)===a?(c(),u("div",Te,[C("div",Fe,[C("p",Pe,[je,x(" 保单年度"),C("span",null,w(null===(A=f(b))||void 0===A||null===(U=A.year)||void 0===U?void 0:U[null===(q=f(b))||void 0===q?void 0:q.index]),1),x("年度，被保人"),C("span",null,w(null===(B=f(b))||void 0===B||null===(K=B.age)||void 0===K?void 0:K[null===(G=f(b))||void 0===G?void 0:G.index]),1),x("岁时 "),De]),C("div",Ne,[(c(!0),u(m,null,v(null===(H=f(b))||void 0===H||null===(W=H.result)||void 0===W?void 0:W.headers,((e,i)=>{var t,a,n,o,l,r,d,s,p,m;return c(),u("div",{key:i,style:{width:"33%"}},[C("p",ze,w("0"==(null===(t=f(b))||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.dataList)||void 0===n||null===(o=n[null===(l=f(b))||void 0===l?void 0:l.index])||void 0===o?void 0:o[i])?"0":f(R)(Number(null===(r=f(b))||void 0===r||null===(d=r.result)||void 0===d||null===(s=d.dataList)||void 0===s||null===(p=s[null===(m=f(b))||void 0===m?void 0:m.index])||void 0===p?void 0:p[i]))),1),C("p",Ee,w(e)+"(元）",1)])})),128))])])])):k("",!0),f(P)===l?(c(),u("div",Ae,[p(Ce,{"data-source":f(j)},null,8,["data-source"])])):k("",!0),f(P)==n?(c(),u("div",Me,[p(ve,{min:f(d),max:f(y),current:f(I),data:null===(Y=f(b))||void 0===Y||null===(J=Y.result)||void 0===J?void 0:J.benefitRiskItemList},null,8,["min","max","current","data"])])):k("",!0),f(P)!=l?(c(),u(m,{key:3},[C("div",Ue,[C("div",{class:"opt lf",onClick:E},[p(D,{name:"minus"})]),C("div",qe,[f(d)?(c(),g(N,{key:0,modelValue:f(I),"onUpdate:modelValue":o[0]||(o[0]=e=>L(I)?I.value=e:null),min:f(d),max:f(y),"bar-height":"8px"},{button:h((()=>[C("div",Be,w(f(I))+" 岁",1)])),_:1},8,["modelValue","min","max"])):k("",!0)]),C("div",{class:"opt rg",onClick:z},[p(D,{name:"plus"})])]),Ke],64)):k("",!0),C("div",Ge,[t.dataSource.showTypeList.includes(a)?(c(),g(M,{key:0,round:"",plain:f(P)!==a,type:"primary",class:"btn",onClick:o[1]||(o[1]=e=>P.value=a)},{default:h((()=>[x("图表展示")])),_:1},8,["plain"])):k("",!0),t.dataSource.showTypeList.includes(n)?(c(),g(M,{key:1,round:"",plain:f(P)!==n,type:"primary",class:"btn",onClick:o[2]||(o[2]=e=>P.value=n)},{default:h((()=>[x("趋势展示")])),_:1},8,["plain"])):k("",!0),t.dataSource.showTypeList.includes(l)?(c(),g(M,{key:2,round:"",plain:f(P)!==l,type:"primary",class:"btn",onClick:o[3]||(o[3]=e=>P.value=l)},{default:h((()=>[x("表格展示")])),_:1},8,["plain"])):k("",!0)])])):k("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])):(c(),u("div",He,[p(B,{title:"试算前请完善投保信息","empty-class":"empty-select"})]))}}}),[["__scopeId","data-v-2cf800e4"]]);const Ye=e=>(P("data-v-21c7c8be"),e=e(),j(),e),Je={class:"trial-button"},Ze={class:"com-body"},$e={class:"header"},Qe=Ye((()=>C("span",null,"算一算保费",-1))),Xe={class:"container"},ei=Ye((()=>C("div",{class:"empty"},null,-1)));var ii=t(a({__name:"index",props:{dataSource:{type:Array,default:()=>[]},productInfo:{type:Object,default:()=>({productCode:"",productName:"",insurerCode:"",tenantId:""})},tenantProductDetail:{type:Object,default:()=>{}}},setup(e,{expose:i}){const t=e,a=o(null),n=l({loading:!1,show:!1,select:{},list:[],userData:{},riskIsInsure:{},submitData:{},riskVOList:[{}],mainRiskVO:{},ifPersonalInfoSuccess:!1,trialMsg:"",trialResult:0,isAniShow:!1}),r=()=>{var e;null===(e=a.value)||void 0===e||e.validate().then((()=>{console.log("---- validate success ----")})),n.loading=!1,n.show=!0,n.isAniShow=!0},d=()=>{n.show=!1,n.loading=!1},v=o({});o({tenantId:"9991000007",productCode:"BDFZCHUN",holder:{personVO:{extInfo:{},certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456"}},insuredVOList:[{insuredCode:"",relationToHolder:"1",personVO:{extInfo:{hasSocialInsurance:"1"},relationToHolder:"1",certType:"1",name:"春春",certNo:"320682199503303592",gender:"2",birthday:"1995-03-30",mobile:"13262279098",verificationCode:"123456",socialFlag:"1"},productPlanVOList:[{insurerCode:"zhongan",planCode:"",riskVOList:[{amount:"6000000",chargePeriod:"year_5",copy:1,coveragePeriod:"to_68",paymentFrequency:"2",riskCategory:4,riskCode:"CBE00CHUN",riskName:"(勿动)利益演示测试",riskId:10325,riskType:1}]}]}]});const I=()=>{var e,i;n.riskIsInsure={},null==t||null===(e=t.dataSource)||void 0===e||null===(i=e.insureProductRiskVOList)||void 0===i||i.forEach((e=>{var i;const a=null===(i=t.dataSource.productRiskRelationVOList)||void 0===i?void 0:i.find((i=>i.collocationRiskId===e.riskId));a&&(n.riskIsInsure[e.riskCode]={selected:"2",data:null,relation:a})}))},V=e=>{var i;const a=null===(i=t.dataSource.insureProductRiskVOList)||void 0===i?void 0:i.find((i=>e.riskId===i.riskId));if(a&&1!==a.mainRiskFlag){var o,l;const i=null===(o=t.dataSource)||void 0===o||null===(l=o.productRiskRelationVOList)||void 0===l?void 0:l.find((e=>e.collocationRiskId===a.riskId));if(i){var r;const t=null===(r=n.riskVOList)||void 0===r?void 0:r.find((e=>e.riskId===i.riskId));re.forEach((i=>{i.ruleKey&&a.productRiskInsureLimitVO&&t&&(1===a.productRiskInsureLimitVO[i.ruleKey]&&(e[i.valueKey]=t[i.valueKey]),3===a.productRiskInsureLimitVO[i.ruleKey]&&(e[i.valueKey]=((e,i,t)=>{const a=e,{holder:n}=t,o=t.insuredVOList[0],l=(i||"").split("_");if(l[1]-=1,1===a.exemptFlag){if("to"===l[0]){let e=0;var r,d;if(1===a.exemptType)null!=n&&null!==(r=n.personVO)&&void 0!==r&&r.birthday&&(e=parseInt(""+((new Date).getTime()-new Date(null===(d=n.personVO)||void 0===d?void 0:d.birthday).getTime())/31536e6,10));else if(2===a.exemptType){var s,c;null!=o&&null!==(s=o.personVO)&&void 0!==s&&s.birthday&&(e=parseInt(""+(+(new Date).getTime()-new Date(null===(c=o.personVO)||void 0===c?void 0:c.birthday).getTime())/31536e6,10))}l[1]=+l[1]-e}l[0]="year"}return l.join("_")})(a,t[i.valueKey],n.submitData)))}))}}return e},w=oe.exports.debounce((()=>{n.ifPersonalInfoSuccess&&(n.submitData.productCode=t.productInfo.productCode,n.submitData.tenantId=t.productInfo.tenantId,n.riskVOList=n.riskVOList.map((e=>V(e))),n.submitData.insuredVOList[0].productPlanVOList=[{insurerCode:t.productInfo.insurerCode,planCode:t.dataSource.planCode,riskVOList:n.riskVOList}],console.log(">>>数据构建<<<",n.submitData),n.trialMsg="试算中...",n.trialResult=0,n.loading=!0,W(n.submitData).then((e=>{e.data&&e.code===D&&(n.trialMsg="",n.trialResult=e.data.premium)})).finally((()=>{n.loading=!1})),Y(n.submitData).then((e=>{e.data&&e.code===D&&(v.value=e.data)})).finally((()=>{n.loading=!1})))}),300),O=e=>{const{holder:i,insuredVOList:t}=e;i&&(n.submitData.holder={personVO:i}),t&&t.length>0&&t.forEach(((e,i)=>{n.submitData.insuredVOList&&n.submitData.insuredVOList.length>i?n.submitData.insuredVOList[i].personVO=e.personVO:n.submitData.insuredVOList=[{personVO:e.personVO}]})),n.ifPersonalInfoSuccess=!0,console.log("投被保人的信息回传 ",n.submitData,e),w()},R=e=>{n.mainRiskVO=e,n.riskVOList.length>0&&(n.riskVOList[0]=e),console.log("标准险种的信息回传",e),w()},L=e=>{n.riskVOList=[n.mainRiskVO,...e],console.log("附加险列表数据回传",e),w()},S=()=>{console.log("--after"),n.isAniShow=!1};return y((()=>{I()})),b((()=>{n.loading=!0})),s((()=>n.show),(e=>{e&&(console.log("---reset"),n.select={},n.list=[],n.userData={},n.riskIsInsure={},n.submitData={},n.riskVOList=[{}],n.mainRiskVO={},n.ifPersonalInfoSuccess=!1,n.trialMsg="",n.trialResult=0,I())})),i({open:()=>{n.show=!0,n.isAniShow=!0}}),s((()=>n.riskIsInsure),(e=>{}),{deep:!0,immediate:!0}),(i,o)=>{const l=_,s=N,y=z;return c(),u(m,null,[C("div",Je,[p(l,{type:"primary",onClick:o[0]||(o[0]=e=>f(n).show=!0)},{default:h((()=>[x("立即投保")])),_:1})]),f(n).isAniShow||f(n).show?(c(),g(y,{key:0,class:"com-trial-wrap",show:f(n).show,closeable:!1,onClose:d,onClosed:S},{default:h((()=>[C("div",Ze,[C("div",$e,[Qe,p(s,{name:"cross",onClick:o[1]||(o[1]=e=>f(n).show=!1)})]),C("div",Xe,[p(We,{"data-source":v.value,"show-type-list":v.value.showTypList},null,8,["data-source","show-type-list"]),e.dataSource.productFactor?(c(),g(f(ye),{key:0,ref:"personalInfoRef",modelValue:f(n).userData,"onUpdate:modelValue":o[2]||(o[2]=e=>f(n).userData=e),"product-factor":e.dataSource.productFactor,onTrailChange:O},null,8,["modelValue","product-factor"])):k("",!0),p(le,{ref_key:"insureInfosRef",ref:a,"origin-data":e.dataSource.insureProductRiskVOList[0],"product-factor":e.dataSource.productFactor,onTrialChange:R},null,8,["origin-data","product-factor"]),p(Ie,{"data-source":e.dataSource,"show-main-risk":!1,onTrialChange:L},null,8,["data-source"]),ei]),p(X,{"is-share":!1,premium:f(n).trialResult,"loading-text":f(n).trialMsg,"plan-code":t.dataSource.planCode,"payment-frequency":f(n).mainRiskVO.paymentFrequency+"","tenant-product-detail":e.tenantProductDetail,onClick:r},{default:h((()=>[x("立即投保")])),_:1},8,["premium","loading-text","plan-code","payment-frequency","tenant-product-detail"])])])),_:1},8,["show"])):k("",!0)],64)}}}),[["__scopeId","data-v-21c7c8be"]]);const ti={key:0},ai={key:1,class:"page-internet-product-detail","data-skeleton-root":"LONG"},ni={class:"info"},oi={key:1,class:"preview-placeholder"},li=C("br",null,null,-1),ri=C("div",{id:"insureButton"},null,-1),di=C("div",{id:"xinaoDialog"},null,-1);e("default",a({__name:"index",setup(e){const t=E((()=>A((()=>i.import("./index-legacy-1d69e682.js")),void 0))),a=E((()=>A((()=>i.import("./index-legacy-a1bb90e2.js")),void 0))),l=E((()=>A((()=>i.import("./index-legacy-48bb89c9.js")),void 0)));M();const d=n(),{productCode:v="",tenantId:y,agentCode:I="",agencyCode:V,saleChannelId:w,extraInfo:O,insurerCode:R,preview:S,trialPreview:_}=d.query;let T={};try{console.log("extInfo",decodeURIComponent(O)),T=JSON.parse(decodeURIComponent(O))}catch(we){}o();const F=o(),P=o(),j=o(!1),D=o({}),N=o({}),z=o(!1),W=o(0),Y=o(!1);o({});const X=o(!0);o(!0);const oe=o(!0),le=o(""),re=o({}),de=o({}),se=o([]),ce=o({imgUrl:"",desc:"",title:"",link:window.location.href}),ue=o({});r((()=>!!S||!!_));const pe=r((()=>!!_)),fe=o(),me=()=>{fe.value.open()},ve=o([]),ge=o(),ye=async()=>{!pe.value&&Z({productCode:v,tenantId:y,isTenant:!S}).then((({data:e,code:i})=>{if("10000"===i){D.value=e,document.title=e.BASIC_INFO.title||"";const{title:i,desc:a,image:n}=(null==e?void 0:e.PRODUCT_LIST.wxShareConfig)||{};t={title:i,desc:a,image:n},ce.value={desc:t.desc||"你好，这里是描述",imgUrl:t.image,title:t.title,link:window.location.href},K(e.BASIC_INFO.themeType)}var t})),await J({productCode:v,isTenant:!S||!_}).then((({data:e,code:i})=>{var t;"10000"===i&&(j.value=!0,Y.value=!0,N.value=e,re.value=null===(t=e.productPlanInsureVOList)||void 0===t?void 0:t[0],se.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),oe.value=!1,$({productCode:v}).then((({code:e,data:i})=>{if("10000"===e){var t,a,n,o;const{productMaterialPlanVOList:e,productQuestionnaireVOList:l}=i;ge.value=e||[];const{basicInfo:{questionnaireType:r},questions:d,questionnaireName:s}=(null==l||null===(t=l[0])||void 0===t?void 0:t.questionnaireDetailResponseVO)||{basicInfo:{}};2===r&&(ve.value=[{attachmentName:s,attachmentUri:d,attachmentType:"question"}]),ve.value=[{attachmentName:s,attachmentUri:null==d||null===(a=d[0])||void 0===a?void 0:a.content,attachmentType:ne(String(null==d||null===(n=d[0])||void 0===n?void 0:n.textType),null==d||null===(o=d[0])||void 0===o?void 0:o.content)}]}}))};s((()=>ue.value.planCode),(e=>{re.value=(N.value.productPlanInsureVOList||[]).find((i=>i.planCode===e))}));const be=()=>{F.value.handleClickTab()("insureButton")};o(""),o(0);const{fileList:he,mustReadFileCount:ke,popupFileList:Ie}=ee(re,ge),Ve=e=>{re.value=(N.value.productPlanInsureVOList||[]).find((i=>i.planCode===e))},Ce=()=>{z.value=!1,X.value=!0},xe=()=>{z.value=!1,X.value=!0};return s((()=>re.value),(()=>{const{planCode:e,oilPackageProductVOList:i,insureProductRiskVOList:t}=re.value;ue.value.planCode=e,de.value=(t||[]).find((e=>e.mainRiskFlag===U.YES))}),{deep:!0,immediate:!0}),q((()=>{G(P,(([{isIntersecting:e}],i)=>{j.value=!0}))})),b((()=>{oe.value=!0,ye(),setTimeout((async()=>{le.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,i)=>{var n,o,r,d,s,v,b,I,V,w,O,S,_;const T=B("Video"),E=H;return c(),u(m,null,[f(oe)?(c(),u("div",ti)):(c(),u("div",ai,[f(pe)?(c(),u("div",oi,[x("当前页面仅用于保费试算预览"),li,x("不展示其他产品相关配置信息")])):(c(),u(m,{key:0},[C("div",ni,[null!==(n=f(D))&&void 0!==n&&null!==(o=n.BASIC_INFO)&&void 0!==o&&o.banner.length?(c(),g(Q,{key:0,"data-skeleton-type":"img",url:null===(r=f(D))||void 0===r?void 0:r.BASIC_INFO.banner[0]},null,8,["url"])):k("",!0),null!==(d=f(D))&&void 0!==d&&null!==(s=d.BASIC_INFO)&&void 0!==s&&s.video.length?(c(),g(T,{key:1,"data-skeleton-type":"img",src:null===(v=f(D))||void 0===v?void 0:v.BASIC_INFO.video[0]},null,8,["src"])):k("",!0),null!==(b=f(D))&&void 0!==b&&null!==(I=b.BASIC_INFO)&&void 0!==I&&null!==(V=I.bannerMove)&&void 0!==V&&V.length?(c(),g(Q,{key:2,url:null===(w=f(D))||void 0===w||null===(O=w.BASIC_INFO)||void 0===O||null===(S=O.bannerMove)||void 0===S?void 0:S[0],onClick:be},null,8,["url"])):k("",!0),C("div",{ref_key:"observeRef",ref:P},null,512)]),null!==(_=f(D))&&void 0!==_&&_.GUARANTEE?(c(),g(ie,{key:0,"show-service-config":"","data-source":f(D),"plan-list":f(se),onUpdateActivePlan:Ve},null,8,["data-source","plan-list"])):k("",!0),C("div",{class:"trial-text-btn",onClick:me},"算一算保费"),p(te,{ref_key:"detailScrollRef",ref:F,"data-source":f(D)},null,8,["data-source"]),p(E,null,{default:h((()=>{var e,i,t;return[null!==(e=f(D).SIGNATURE)&&void 0!==e&&e.inscribedContent?(c(),g(f(a),{key:0,"inscribed-content":null===(i=f(D))||void 0===i||null===(t=i.SIGNATURE)||void 0===t?void 0:t.inscribedContent},null,8,["inscribed-content"])):k("",!0)]})),_:1}),p(E,null,{default:h((()=>{var e;return[null!==(e=f(he))&&void 0!==e&&e.length?(c(),g(f(l),{key:0,"attachement-list":f(he),"pre-text":"请阅读",onPreviewFile:i[0]||(i[0]=e=>(e=>{W.value=e,z.value=!0})(e))},null,8,["attachement-list"])):k("",!0)]})),_:1})],64)),f(j)?(c(),g(ii,{key:2,ref_key:"trialRef",ref:fe,"data-source":f(re),"product-info":{productCode:f(N).productCode,productName:f(N).productName,productId:"",tenantId:f(y),insurerCode:f(R)},"tenant-product-detail":f(D)},null,8,["data-source","product-info","tenant-product-detail"])):k("",!0),ri])),f(Y)&&!f(pe)?(c(),g(ae,{key:2,"product-detail":f(D)},null,8,["product-detail"])):k("",!0),di,f(z)?(c(),g(f(t),{key:3,show:f(z),"onUpdate:show":i[1]||(i[1]=e=>L(z)?z.value=e:null),"content-list":f(X)?f(he):f(Ie),"is-only-view":f(X),"active-index":f(W),text:f(X)?"关闭":"我已逐页阅读并确认告知内容","force-read-cound":f(X)?0:f(ke),onSubmit:Ce,onOnCloseFilePreviewByMask:xe},null,8,["show","content-list","is-only-view","active-index","text","force-read-cound"])):k("",!0)],64)}}}))}}}))}();
