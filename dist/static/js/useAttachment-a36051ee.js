import{g as t}from"./utils-f6c3d7cc.js";import{j as a,E as e,aY as l}from"./index-a5faea38.js";var n=(n,i)=>{const m=a([]),u=a(0),o=a([]);return e([()=>{var t;return null==(t=n.value)?void 0:t.planCode},()=>i.value],(([a,e])=>{let n=null;if(null==e?void 0:e.length){const t=(e||[]).find((t=>t.planCode===a||!t.planCode));t&&(n=null==t?void 0:t.productMaterialMap)}n?(m.value=Object.keys(n).map((a=>({attachmentName:a,attachmentList:n[a].map((a=>({...a,materialSource:t(`${null==a?void 0:a.materialSource}`,null==a?void 0:a.materialContent)})))}))),o.value=m.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.popUpFlag===l.YES))}))).filter((t=>t.attachmentList.length)),u.value=o.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.mustReadFlag===l.YES))}))).filter((t=>t.attachmentList.length)).length||0):m.value=[]}),{deep:!0,immediate:!0}),{fileList:m,popupFileList:o,mustReadFileCount:u}};export{n as u};
