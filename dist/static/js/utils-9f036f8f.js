import{C as e}from"./index-ff16723c.js";import{b as r,c as n}from"./trial-852eff09.js";const t=(e,t)=>{const i=[];return e.forEach((e=>{var a;null==(a=e.tenantOrderRiskList)||a.forEach((e=>{const{currentAmount:a,paymentPeriod:o,paymentPeriodType:d,liabilityDetails:s,extInfo:c,insurancePeriodValue:l,insurancePeriodType:u,paymentFrequency:y,riskType:p,riskCode:m,initialPremium:f,initialAmount:T,annuityDrawFrequency:I,annuityDrawDate:O}=e;let C=`${r[d]}_${o}`;1===d&&(C="single");let k=`${n[u]}_${l}`;5===u&&(k="to_life"),i.push({amount:T,annuityDrawDate:O,annuityDrawFrequency:I,chargePeriod:C,copy:(null==c?void 0:c.copy)||"",coveragePeriod:k,insuredCode:t,liabilityVOList:s,mainRisk:"",mainRiskCode:"",mainRiskId:"",paymentFrequency:y,premium:f,riskType:p,riskCode:m,riskId:(null==c?void 0:c.riskId)||"",riderRisk:"",riderRiskVOList:[]})}))})),i},i=({holder:e,insuredList:r=[]})=>{const n=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured","tenantOrderBeneficiaryList","extInfo"],t=e=>{const r={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((t=>{n.includes(t)?r[t]=e[t]:r.extInfo[t]=e[t]})),r};return{tenantOrderHolder:t(e),tenantOrderInsuredList:(r||[]).map((e=>t(e)))}},a=(r,n,i)=>{var a;const{tenantId:o,commencementTime:d,expiryDate:s,venderCode:c,tenantOrderHolder:l,tenantOrderInsuredList:u}=r;return{tenantId:o,productCode:null==n?void 0:n.productCode,insuranceStartDate:d,insuranceEndDate:s,holder:{personVO:{...l,socialFlag:null==(a=l.extInfo)?void 0:a.hasSocialInsurance,certType:l.certType||e.CERT}},insuredVOList:u.map((n=>({insuredCode:"",relationToHolder:n.relationToHolder,personVO:{...n,socialFlag:n.extInfo.hasSocialInsurance,certType:n.certType||e.CERT},productPlanVOList:[{insurerCode:c,planCode:i||"",riskVOList:t(n.tenantOrderProductList||[],r.venderCode)}]})))}};export{i as f,a as o};
