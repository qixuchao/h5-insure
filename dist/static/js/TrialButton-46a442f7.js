import{ref as e,watch as a}from"vue";import{P as t}from"./index-593ee4c8.js";import{H as n,I as l}from"./index-deb4ddfb.js";const o={class:"trial-button-wrap"},u={class:"footer-area"},r=Vue.createElementVNode("span",null,"分享",-1),d={class:"price"},i={key:0},c=Vue.defineComponent({name:"trialButton"}),s=Vue.defineComponent({...c,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(c,{emit:s}){const m=c,V=e(""),p=e(""),f=n(),h=e(),v=e(),k=()=>{m.handleShare?m.handleShare((()=>v.value.handleShare(h.value))):v.value.handleShare(h.value)};return a([()=>m.premium,()=>m.tenantProductDetail,()=>m.paymentFrequency,()=>m.planCode],(([e])=>{const{PREMIUM:a=[]}=m.tenantProductDetail||{};let t={};if(null==a?void 0:a.length){t=(a||[]).find((e=>e.planCode===m.planCode||!e.planCode))||{};const n=((null==t?void 0:t.data)||[]).find((e=>e.paymentFrequency===m.paymentFrequency)),{premium:l,minActualUnit:o}=n||{};e?(p.value=o,V.value=e&&`${e}`):(p.value=l,V.value="")}else e&&(p.value="",V.value=e&&`${e}`)}),{deep:!0,immediate:!0}),a((()=>m.shareInfo),(e=>{h.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const n=Vue.resolveComponent("ProSvg");return Vue.openBlock(),Vue.createElementBlock("div",o,[Vue.createElementVNode("div",u,[e.isShare&&Vue.unref(f)?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"com-share",onClick:k},[Vue.createVNode(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),r])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",d,[e.loadingText?(Vue.openBlock(),Vue.createElementBlock("span",i,Vue.toDisplayString(e.loadingText),1)):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(V)),1),Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(p)),1)],64))]),Vue.createVNode(t,Vue.mergeProps(e.$attrs,{shadow:!1,class:"right",onClick:a[0]||(a[0]=e=>s("handleClick"))}),{default:Vue.withCtx((()=>[Vue.renderSlot(e.$slots,"default",{},(()=>[Vue.createTextVNode("立即投保")]))])),_:3},16)]),Vue.createVNode(l,Vue.mergeProps({ref_key:"shareRef",ref:v},Vue.unref(h)),null,16)])}}});export{s as _};
