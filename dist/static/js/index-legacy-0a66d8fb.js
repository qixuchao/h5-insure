!function(){var e=document.createElement("style");e.innerHTML='.com-period-cell[data-v-6225f53a]{width:100%;background:white}.com-period-cell .period-cell-label[data-v-6225f53a]{min-width:1.6rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;margin-right:.73333rem;white-space:nowrap}.com-period-cell .period-common-cell[data-v-6225f53a]{display:flex;justify-content:flex-start;width:100%;padding:0px .53333rem .42667rem}.com-period-cell .period-common-cell .period-cell-content[data-v-6225f53a]{width:calc(100% - 2.33333rem);font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333}.com-period-cell .period-common-cell .period-custom-cell-content[data-v-6225f53a]{display:flex;justify-content:space-between;align-items:center}.com-period-cell .period-common-cell .period-custom-cell-content .custom--arrow-right[data-v-6225f53a]{display:inline-block}.com-period-cell .period-custom-cell[data-v-6225f53a]{width:100%;padding:0px .53333rem .42667rem}.com-period-cell .period-check-btn-cell[data-v-6225f53a]{display:flex;padding-bottom:.29333rem!important}.com-period-cell .period-check-btn-cell .period-cell-label[data-v-6225f53a]{margin-top:.22667rem}.com-period-cell .period-check-btn-cell .period-cell-content[data-v-6225f53a] .radio-btn{justify-content:flex-start}.com-period-cell .period-check-btn-cell .period-cell-content[data-v-6225f53a] .btn-wrapper:nth-child(3n+1){margin-left:0!important}.custom-date-picker[data-v-6225f53a] .van-picker__columns{padding:0px .53333rem}.picker-custom-title[data-v-6225f53a]{width:6.66667rem;position:absolute;left:.53333rem;font-weight:500}.custom-picker-btn[data-v-6225f53a]{position:absolute;bottom:-2rem;left:.4rem;z-index:100;width:9.2rem;margin:0px auto .4rem}[data-v-6225f53a] .van-popup__close-icon{color:#000}.com-payment-type[data-v-1defc39e]{width:100%;background:white;padding-top:.53333rem}.com-payment-type .title[data-v-1defc39e]{margin-bottom:.42667rem;height:.6rem;font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:.6rem;display:flex;align-items:center}.com-payment-type .title[data-v-1defc39e]:before{display:inline-block;content:" ";width:.08rem;height:.4rem;background:var(--van-primary-color);border-radius:0px .05333rem .05333rem 0px;margin-right:.45333rem}.com-payment-type .cell-label[data-v-1defc39e]{white-space:nowrap;min-width:1.6rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;margin-right:.73333rem}.com-payment-type .custom-cell[data-v-1defc39e]{width:100%;padding:0px .53333rem .42667rem}.com-payment-type .check-btn-cell[data-v-1defc39e]{padding-bottom:.29333rem!important;display:flex}.com-payment-type .check-btn-cell .cell-label[data-v-1defc39e]{margin-top:.22667rem}.com-payment-type .check-btn-cell .cell-content[data-v-1defc39e] .radio-btn{justify-content:flex-start}.com-payment-type .check-btn-cell .cell-content[data-v-1defc39e] .btn-wrapper:nth-child(3n+1){margin-left:0!important}.com-payment-type .picture-payment-content[data-v-1defc39e]{padding:0px .53333rem .42667rem;display:flex;flex-wrap:wrap;justify-content:space-between}.com-payment-type .picture-payment-content .picture-payment-item[data-v-1defc39e]{width:calc(50% - .21333rem);margin-top:.42667rem}.com-payment-type .picture-payment-content .picture-payment-item img[data-v-1defc39e]{width:100%}.com-payment-type .picture-payment-content .picture-payment-item[data-v-1defc39e]:nth-child(-n+2){margin-top:0!important}.com-payment-type .common-cell[data-v-1defc39e]{display:flex;justify-content:flex-start}.com-payment-type .common-cell .cell-content[data-v-1defc39e]{font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333}.com-payment-type .active[data-v-1defc39e]{background:var(--van-checkbox-checked-bg-color)!important;border:1px solid var(--van-primary-color)}.com-payment-type .active span[data-v-1defc39e]{color:var(--van-primary-color)!important}.com-payment-type .active .tip span[data-v-1defc39e]{color:#fff!important}.com-payment-type .actual-premium[data-v-1defc39e]{font-size:.4rem!important;font-family:PingFangSC-Medium,PingFang SC!important;font-weight:500!important;color:var(--van-primary-color)!important}.com-payment-type .actual-premium.actual-premium-month-tip[data-v-1defc39e]{margin-left:.26667rem}.com-payment-type .feerate-explain[data-v-1defc39e]{padding:0px .53333rem .66667rem}.com-payment-type .feerate-explain .content[data-v-1defc39e]{background:#f6f6f6;position:relative;padding:.21333rem .32rem;border-radius:.10667rem}.com-payment-type .feerate-explain .content .triangle-top[data-v-1defc39e]{position:absolute;width:0px;height:0px;top:-.4rem;left:.66667rem;border:.24rem solid transparent;border-bottom:.24rem solid #f6f6f6}.com-payment-type .feerate-explain .content span[data-v-1defc39e]{font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#888;line-height:.50667rem}.com-payment-type .feerate-explain .content .file-name[data-v-1defc39e]{color:#006afc}\n',document.head.appendChild(e),System.register(["./infoCollection-legacy-a35fdccd.js","./index-legacy-cf3db658.js","./trial-legacy-2095679c.js","./utils-legacy-9e8100d1.js","./pdfh5-legacy-9f98dc45.js","./useStorage-legacy-c0a37df7.js"],(function(e){"use strict";var n,t,a,i,o,l,r,c,m,d,u,p,s,f,y,v,g,I,D,h,b,k,x,P,w,C,V,S,Y,O,F,E,L,M,_,N;return{setters:[function(e){n=e.m,t=e.n,a=e.l,i=e.o},function(e){o=e.a0,l=e._,r=e.d,c=e.r,m=e.z,d=e.aa,u=e.x,p=e.G,s=e.a4,f=e.ao,y=e.aq,v=e.b,g=e.c,I=e.h,D=e.f,h=e.w,b=e.j,k=e.g,x=e.k,P=e.F,w=e.t,C=e.X,V=e.n,S=e.K,Y=e.L,O=e.e,F=e.i,E=e.B,L=e.T},function(e){M=e.l},function(e){_=e.h,N=e.o},function(){},function(){}],execute:function(){const T=(e,n="YYYY-MM-DD")=>o(e).format(n),q=(e,n=0,t="day",a="YYYY-MM-DD")=>o(e).add(n,t).format(a),R=(e,n=0,t="day",a="YYYY-MM-DD")=>o(e).subtract(n,t).format(a);const U=e=>(S("data-v-6225f53a"),e=e(),Y(),e),j={class:"com-period-cell"},$={key:0,class:"period-custom-cell period-check-btn-cell"},A=U((()=>b("div",{class:"period-cell-label"},"保障期间",-1))),z={class:"period-cell-content"},B=U((()=>b("div",{class:"period-cell-label"},"生效日期",-1))),H={class:"period-cell-content period-custom-cell-content"},G=U((()=>b("div",{class:"period-cell-label"},"保障期限",-1))),X={class:"period-cell-content period-custom-cell-content"},K={key:2,class:"period-custom-cell period-common-cell"},J=U((()=>b("div",{class:"period-cell-label"},"保障期限",-1))),Q={class:"period-cell-content"},W=U((()=>b("div",{class:"picker-custom-title"},"保险开始生效日期",-1))),Z=r({__name:"index",props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:a,emit:i}){const o=e;c({});const l=(e,n)=>"year"===e?`${n}年`:"month"===e?`${n}月`:"day"===e?`${n}日`:n,r=c(new Date),S=m({formInfo:o.formInfo}),Y=c(!0);d((()=>S.formInfo.insuranceStartDate),(e=>{e&&"string"==typeof e&&(r.value=new Date(e))}));const O=c(),F=c([]);d([()=>o.insureDetail,()=>S.formInfo.activePlanCode],(()=>{if(S.formInfo.insuranceStartDate="",S.formInfo.insuranceEndDate="",S.formInfo.commencementTime="",o.insureDetail)if(o.insureDetail.productRelationPlanVOList&&o.insureDetail.productRelationPlanVOList.length>0){let e=0;const n=o.insureDetail.productRelationPlanVOList.findIndex((e=>e.planCode===S.formInfo.activePlanCode));n>-1&&(e=n);const t=(o.insureDetail.productRelationPlanVOList[e]?.productRiskVoList[0].riskDetailVOList||[]).find((e=>1===e.riskType));t&&(O.value=t)}else{const e=(o.insureDetail.productRiskVoList[0].riskDetailVOList||[]).find((e=>1===e.riskType));e&&(O.value=e)}}),{deep:!0,immediate:!0}),d((()=>O.value),(()=>{F.value=[],F.value=_(O.value?.riskInsureLimitVO?.insurancePeriodValueList||[]),F.value.length>0?F.value.findIndex((e=>e.value===S.formInfo.insurancePeriodValue))<0&&(S.formInfo.insurancePeriodValue=F.value[0].value):S.formInfo.insurancePeriodValue=M.YEAR_1}),{deep:!0,immediate:!0});const E=u((()=>O.value?.insuranceStartType?String(O.value?.insuranceStartType):n.CURRENT_DAY)),L=u((()=>O.value?.insuranceEndType?String(O.value?.insuranceEndType):t.CURRENT_DAY)),[N,U]=p(!1),Z=()=>{Y.value&&U(!0)},ee=u((()=>{if(E.value===n.CUSTOM_DAY){const e=O.value?.riskInsureLimitVO.maxInsuranceDay;if(e&&e.indexOf(",")){const[n,t]=e.split(",");return new Date(q(new Date,Number(n),"day"))}}return new Date(q(new Date,1,"day"))})),ne=u((()=>{if(E.value===n.CUSTOM_DAY){const e=O.value?.riskInsureLimitVO.maxInsuranceDay;if(!e)return new Date;if(e.indexOf(",")){const[n,t]=e.split(",");return new Date(q(new Date,Number(t),"day"))}const n=q(new Date,Number(e),"day");return new Date(n)}return new Date})),te=e=>{S.formInfo.insuranceStartDate=`${T(e)} 00:00:00`,U(!1)},ae=()=>{U(!1)};return d([()=>E.value,()=>S.formInfo.insurancePeriodValue,()=>S.formInfo.insuranceStartDate,()=>O.value],(()=>{if(!S.formInfo.insurancePeriodValue)return;const[e,a]=S.formInfo.insurancePeriodValue.split("_");if(!S.formInfo.insuranceStartDate)if(E.value===n.CUSTOM_DAY){const e=O.value?.riskInsureLimitVO.maxInsuranceDay;if(e)if(e.indexOf(",")){const[n,t]=e.split(",");S.formInfo.insuranceStartDate=`${q(new Date,Number(n),"day")} 00:00:00`,Y.value=n!==t}else S.formInfo.insuranceStartDate=`${q(new Date,e,"day")} 00:00:00`;else S.formInfo.insuranceStartDate=`${q(new Date,1,"day")} 00:00:00`}else E.value===n.NEXT_DAY?S.formInfo.insuranceStartDate=`${q(new Date,1,"day")} 00:00:00`:S.formInfo.insuranceStartDate=`${T(new Date)} 00:00:00`;if("to"!==e){const n=`${R(S.formInfo.insuranceStartDate,1,"day")} 00:00:00`;L.value===t.CURRENT_DAY?S.formInfo.insuranceEndDate=`${q(n,Number(a),e)} 23:59:59`:S.formInfo.insuranceEndDate=`${q(S.formInfo.insuranceStartDate,Number(a),e)} 00:00:00`}else{let n=S.formInfo.tenantOrderInsuredList[0].birthday;S.formInfo.tenantOrderInsuredList[0].certType===s.CERT&&S.formInfo.tenantOrderInsuredList[0].certNo&&f(S.formInfo.tenantOrderInsuredList[0].certNo)&&(n=y(S.formInfo.tenantOrderInsuredList[0].certNo));const i=`${R(n,1,"day")} 00:00:00`;"single"===a&&(S.formInfo.insuranceEndDate="9999-99-99 23:59:59"),L.value===t.CURRENT_DAY?S.formInfo.insuranceEndDate=`${q(i,Number(a),e)} 23:59:59`:S.formInfo.insuranceEndDate=`${q(n,Number(a),e)} 00:00:00`}}),{immediate:!0}),a({}),(e,t)=>{const a=v("ProRadioButton"),i=v("ProSvg"),o=v("van-config-provider"),c=v("VanButton"),m=v("van-datetime-picker"),d=v("ProPopup");return g(),I(P,null,[D(o,null,{default:h((()=>[b("div",j,[k(F).length>1?(g(),I("div",$,[A,b("div",z,[D(a,{modelValue:k(S).formInfo.insurancePeriodValue,"onUpdate:modelValue":t[0]||(t[0]=e=>k(S).formInfo.insurancePeriodValue=e),options:k(F)},null,8,["modelValue","options"])])])):x("",!0),k(E)===k(n).CUSTOM_DAY?(g(),I("div",{key:1,class:"period-custom-cell period-common-cell",onClick:Z},[k(Y)?(g(),I(P,{key:0},[B,b("div",H,[b("span",null,w(k(S).formInfo.insuranceStartDate?k(T)(k(S).formInfo.insuranceStartDate,"YYYY.MM.DD HH:mm:ss"):""),1),D(i,{class:"custom--arrow-right",name:"arrow-right"})])],64)):(g(),I(P,{key:1},[G,b("div",X,[b("span",null,w(k(S).formInfo.insuranceStartDate?k(T)(k(S).formInfo.insuranceStartDate,"YYYY.MM.DD"):"")+"-"+w(k(S).formInfo.insuranceEndDate?k(T)(k(S).formInfo.insuranceEndDate,"YYYY.MM.DD"):""),1)])],64))])):x("",!0),k(E)!==k(n).CUSTOM_DAY?(g(),I("div",K,[J,b("div",Q,w(k(S).formInfo.insuranceStartDate?k(T)(k(S).formInfo.insuranceStartDate,"YYYY.MM.DD"):"")+"-"+w(k(S).formInfo.insuranceEndDate?k(T)(k(S).formInfo.insuranceEndDate,"YYYY.MM.DD"):""),1)])):x("",!0)])])),_:1}),D(d,{show:k(N),"onUpdate:show":t[3]||(t[3]=e=>C(N)?N.value=e:null),height:"340",closeable:!0},{default:h((()=>[D(m,{modelValue:k(r),"onUpdate:modelValue":t[2]||(t[2]=e=>C(r)?r.value=e:null),type:"date",title:"保险开始生效日期","min-date":k(ee),"max-date":k(ne),formatter:l,"visible-item-count":5,class:"custom-date-picker",onConfirm:te,onCancel:ae},{cancel:h((()=>[])),title:h((()=>[W])),confirm:h((()=>[D(c,{type:"primary",round:"",block:"",class:"linear-btn custom-picker-btn",onClick:t[1]||(t[1]=e=>N.value=!1)},{default:h((()=>[V("确 定")])),_:1})])),_:1},8,["modelValue","min-date","max-date"])])),_:1},8,["show"])],64)}}});var ee=l(Z,[["__scopeId","data-v-6225f53a"]]);const ne=e=>(S("data-v-1defc39e"),e=e(),Y(),e),te={class:"com-payment-type"},ae={class:"title"},ie={key:0,class:"picture-payment-content"},oe=["onClick"],le=["src"],re=["src"],ce={key:1,class:"custom-cell check-btn-cell"},me=ne((()=>b("div",{class:"cell-label"},"保障方案",-1))),de={class:"cell-content"},ue={key:0,class:"picture-payment-content"},pe=["onClick"],se=["src"],fe=["src"],ye={key:1,class:"custom-cell check-btn-cell"},ve=ne((()=>b("div",{class:"cell-label"},"交费方式",-1))),ge={class:"cell-content"},Ie={class:"custom-cell common-cell"},De=ne((()=>b("div",{class:"cell-label"},"实付保费",-1))),he={key:0,class:"cell-content actual-premium"},be={class:"cell-content actual-premium"},ke={key:0,class:"actual-premium actual-premium-month-tip"},xe={key:0,class:"feerate-explain"},Pe={class:"content"},we=ne((()=>b("div",{class:"triangle-top"},null,-1))),Ce=r({__name:"index",props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}},configDetail:{type:Object,default:()=>{}},isMultiplePlan:{type:Boolean,default:!1},premiumInfo:{type:Object,default:()=>{}}},emits:["update-active-plan"],setup(e,{expose:n,emit:t}){const o=e;c({});const l=m({formInfo:o.formInfo}),r=c([]),p=c(),s=c(),f=u((()=>"1"===String(p.value?.paymentFrequencyFlag)));u((()=>s.value?.productPremiumVOList.find((e=>e.paymentFrequency===l.formInfo.paymentFrequency))));const y=u((()=>o.premiumInfo.premiumLoadingText?o.premiumInfo.premiumLoadingText:o.premiumInfo.premium?`${o.premiumInfo.premium||""}${o.premiumInfo.actualUnit||"元"}`:`${o.premiumInfo.minPremiun||""}${o.premiumInfo.unit||""}`)),C=u((()=>{if(s){const{premiumExplain:e,premiumExplainViewName:n,premiumExplainUri:t}=s.value||{};return{premiumExplain:e,premiumExplainUri:t,premiumExplainViewName:n}}return null})),V=u((()=>C.value&&C.value.premiumExplain&&C.value.premiumExplainViewName));d((()=>o.configDetail),(()=>{o.isMultiplePlan&&o.configDetail&&(r.value=o.configDetail.tenantProductInsureVO?.planList)}),{immediate:!0,deep:!0}),d([()=>o.configDetail,()=>o.isMultiplePlan,()=>l.formInfo.activePlanCode],(()=>{if(o.configDetail)if(o.isMultiplePlan){let e=0;const n=o.configDetail.tenantProductInsureVO.planList.findIndex((e=>e.planCode===l.formInfo.activePlanCode));n>-1&&(e=n),p.value=o.configDetail.tenantProductInsureVO.planList[e].productPlanInsureConditionVO,s.value=o.configDetail.tenantProductInsureVO.planList[e]}else p.value=o.configDetail.tenantProductInsureVO.planInsureVO.productPlanInsureConditionVO,s.value=o.configDetail.tenantProductInsureVO.planInsureVO}),{deep:!0,immediate:!0});const S=u((()=>{if(p.value&&p.value.paymentFrequency){return(p.value.paymentFrequency?.split(",")||[]).length>1}return!1}));d((()=>p.value),(()=>{if(p.value){const e=p.value.paymentFrequency?.split(",")||[];if(1===e.length)return void(l.formInfo.paymentFrequency=p.value.paymentFrequency);if(2===e.length&&e.filter((e=>![a.SINGLE,a.MONTH].includes(e))).length<1)return void(l.formInfo.paymentFrequency||(l.formInfo.paymentFrequency=a.SINGLE));e.length>1&&!l.formInfo.paymentFrequency&&(l.formInfo.paymentFrequency=e?.[0])}}),{immediate:!0,deep:!0});const Y=u((()=>p.value?(p.value.paymentFrequencyList||[])?.map((e=>({...e,paymentFrequency:e.skinValue}))):[])),M=u((()=>Y.value.length>0)),_=u((()=>o.isMultiplePlan?o.configDetail.tenantProductInsureVO.planList.map((e=>e.planPicList?{...e.planPicList,planCode:e.planCode,planName:e.planName}:null)).filter((e=>!!e)):[])),T=u((()=>{if(p.value){const e=p.value.paymentFrequency?.split(",")||[];return 1===e.length&&(l.formInfo.paymentFrequency=e[0]),(e||[])?.map((e=>({label:i[e],value:e})))}return[]})),q=e=>{l.formInfo.activePlanCode=e},R=()=>{C.value?.premiumExplainUri?N({fileType:"pdf",fileUri:C.value?.premiumExplainUri}):L("无费率文件！")};return n({}),(n,t)=>{const a=v("ProRadioButton"),i=v("templat"),c=v("ProDivider"),m=v("van-config-provider");return g(),O(m,null,{default:h((()=>[b("div",te,[b("div",ae,w(k(S)?"交费方式":"保障计划"),1),e.isMultiplePlan?(g(),I(P,{key:0},[k(_).length>0?(g(),I("div",ie,[(g(!0),I(P,null,F(k(_),(e=>(g(),I("div",{key:e.planCode,class:E("picture-payment-item"),onClick:n=>q(e.planCode)},[k(l).formInfo.activePlanCode==e.planCode?(g(),I("img",{key:0,src:e.selectedPic},null,8,le)):(g(),I("img",{key:1,src:e.unSelectedPic},null,8,re))],8,oe)))),128))])):(g(),I("div",ce,[me,b("div",de,[D(a,{modelValue:k(l).formInfo.activePlanCode,"onUpdate:modelValue":t[0]||(t[0]=e=>k(l).formInfo.activePlanCode=e),options:k(r),prop:{value:"planCode",label:"planName"},onChange:q},null,8,["modelValue","options"])])]))],64)):x("",!0),k(f)?(g(),O(i,{key:1},{default:h((()=>[k(M)&&k(Y).length>1?(g(),I("div",ue,[(g(!0),I(P,null,F(k(Y),(e=>(g(),I("div",{key:e.paymentFrequency,class:E("picture-payment-item"),onClick:n=>{return t=e.paymentFrequency,void(l.formInfo.paymentFrequency=t);var t}},[k(l).formInfo.paymentFrequency==e.paymentFrequency?(g(),I("img",{key:0,src:e.selectedPic},null,8,se)):(g(),I("img",{key:1,src:e.unSelectedPic},null,8,fe))],8,pe)))),128))])):k(T).length>1?(g(),I("div",ye,[ve,b("div",ge,[D(a,{modelValue:k(l).formInfo.paymentFrequency,"onUpdate:modelValue":t[1]||(t[1]=e=>k(l).formInfo.paymentFrequency=e),options:k(T)},null,8,["modelValue","options"])])])):x("",!0)])),_:1})):x("",!0),D(ee,{"form-info":k(l).formInfo,"insure-detail":e.insureDetail,"config-detail":e.configDetail},null,8,["form-info","insure-detail","config-detail"]),k(y)&&k(V)?(g(),I(P,{key:2},[b("div",Ie,[De,o.premiumInfo.premiumLoadingText?(g(),I("div",he,w(k(y)),1)):(g(),I(P,{key:1},[b("div",be,w(k(y)),1),"5"===k(l).formInfo.paymentFrequency?(g(),I("div",ke," 共12期 ")):x("",!0)],64))]),k(V)?(g(),I("div",xe,[b("div",Pe,[we,b("div",null,[b("span",null,w(k(C).premiumExplain||""),1),b("span",{class:"file-name",onClick:R},"《"+w(k(C).premiumExplainViewName||"")+"》",1)])])])):x("",!0)],64)):x("",!0)]),D(c)])),_:1})}}});e("default",l(Ce,[["__scopeId","data-v-1defc39e"]]))}}}))}();
