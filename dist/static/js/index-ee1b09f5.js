import{_ as e,d as a,af as l,ag as n,dd as t,h as i,i as s,ay as o,aN as d,ad as c,ap as r,j as v,r as u,dC as p,k as f,E as _,bH as m,ah as b,l as h,dD as g,ai as y,o as x,c as w,u as k,a as I,p as C,f as j,F as P,s as O,b as N,q as V,n as D,w as T,dE as F,ci as L,T as R,dF as A,c4 as E,dG as q,aQ as S,c8 as B,I as U,dH as $,ao as Y,al as z,an as M,aC as G,aD as H,au as X}from"./index-5e7cc819.js";import{a as J,c as Q}from"./product-bc823a76.js";import{i as W,g as Z,s as K}from"./trial-16e00b4f.js";import{P as ee}from"./index-70d97811.js";import{n as ae}from"./nextStep-c243373b.js";import{g as le,t as ne,r as te}from"./utils-abb1e928.js";import ie from"./index-bf38ff77.js";import{P as se}from"./index-1b0cdd9a.js";import oe from"./index-7c4c2c14.js";import{u as de}from"./useAttachment-0c30977d.js";import{u as ce}from"./useOrder-59973bd6.js";import{_ as re,q as ve}from"./lian-8d72e789.js";import"./PolicyInfo-eb4cccf5.js";import{P as ue}from"./constants-b39aa53b.js";import{u as pe}from"./useThread-637a02aa.js";import{I as fe}from"./index-21fa9c99.js";import"./cloneDeep-f0cd0da5.js";import"./infoCollection-5d0c9dcd.js";import"./questionnaire-42dcb602.js";import"./util-f4ae2add.js";import"./core-6372d3f7.js";import"./trial-78365229.js";import"./jsbridgePromise-204cb700.js";const _e=e=>(G("data-v-610da5cd"),e=e(),H(),e),me={key:0},be={class:"__skeleton_free5_content__"},he={"theme-vars":"[object Object]",class:"page-free-product-detail sk"},ge={class:"content"},ye=_e((()=>I("div",{class:"van-tabs van-tabs--line pro-tab custom-plan-tab"},[I("div",{class:"van-tabs__wrap"},[I("div",{role:"tablist",class:"van-tabs__nav van-tabs__nav--line van-tabs__nav--complete","aria-orientation":"horizontal"},[I("div",{id:"van-tabs-1-0",role:"tab",class:"van-tab van-tab--line van-tab--grow van-tab--active",tabindex:"0","aria-selected":"true","aria-controls":"van-tab-2"},[I("span",{class:"van-tab__text"},[I("span",{class:"sk-text",style:{"--fp":"10.00%","--sp":"90.00%","--lh":"20px"}},"计划一")])]),I("div",{id:"van-tabs-1-1",role:"tab",class:"van-tab van-tab--line van-tab--grow",tabindex:"-1","aria-selected":"false","aria-controls":"van-tab-3"},[I("span",{class:"van-tab__text"},[I("span",{class:"sk-text",style:{"--fp":"10.00%","--sp":"90.00%","--lh":"20px"}},"计划二")])]),I("div",{class:"van-tabs__line",style:{width:"28px",transform:"translateX(90.5px) translateX(-50%)",height:"4px","border-radius":"4px"}})])]),I("div",{class:"van-tabs__content"},[I("div",{id:"van-tab-2",role:"tabpanel",class:"van-tab__panel",tabindex:"0","aria-labelledby":"van-tabs-1-0",style:{}})])],-1))),xe={class:"part"},we={class:"part-header holder-header"},ke={class:"svg-icon icon-free-arrow","font-size":"40px",style:{color:"var(--van-primary-color)"}},Ie=[_e((()=>I("use",{"xlink:href":"#icon-free-arrow"},null,-1)))],Ce=_e((()=>I("div",{class:"header"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"22.400139999999997px"}},"免费领取")],-1))),je={class:"svg-icon icon-free-arrow","font-size":"40px",style:{color:"var(--van-primary-color)"}},Pe=[_e((()=>I("use",{"xlink:href":"#icon-free-arrow"},null,-1)))],Oe={class:"com-card com-pro-form-with-card com-card-body-no-padding personal-info-card holder"},Ne={class:"com-card-wrap"},Ve={class:"body",style:{height:"auto"}},De={class:"van-form com-van-form"},Te={class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"Bc0wjU19UwIhyiefbs4zE",columns:""},Fe=_e((()=>I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-4-label",for:"van-field-4-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"姓名")])],-1))),Le={class:"van-cell__value van-field__value"},Re={class:"van-field__body"},Ae=_e((()=>I("input",{type:"text",id:"van-field-4-input",name:"name",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入姓名",autocomplete:"off","aria-labelledby":"van-field-4-label"},null,-1))),Ee={class:"van-field__right-icon"},qe={class:"choose-customer"},Se={class:"svg-icon icon-customer",style:{color:"rgb(51, 51, 51)"}},Be=[_e((()=>I("use",{"xlink:href":"#icon-customer"},null,-1)))],Ue=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item",role:"button",tabindex:"0",textalign:"right"},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-5-label",for:"van-field-5-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件类型")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"value-view-wrap",style:{}},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"居民身份证")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),$e=_e((()=>I("div",{class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"cYX6njpk9PbIdM0Cc1uko",columns:""},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-6-label",for:"van-field-6-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件号码")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("input",{type:"text",id:"van-field-6-input",name:"certNo",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入证件号码",autocomplete:"off","aria-labelledby":"van-field-6-label"})])])],-1))),Ye=_e((()=>I("div",{class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"f80BClgG7He6ZF8gYqnf0",columns:""},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-7-label",for:"van-field-7-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("input",{type:"tel",inputmode:"numeric",id:"van-field-7-input",name:"mobile",class:"van-field__control van-field__control--left",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-7-label"})])])],-1))),ze=_e((()=>I("div",{class:"van-cell van-field com-van-field com-pro-sms-code",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"f6uaPlar0trUqrkDscy4s",columns:""},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-8-label",for:"van-field-8-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("input",{type:"tel",inputmode:"numeric",id:"van-field-8-input",name:"verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-8-label"})])]),I("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain extra-button sk-button"},[I("div",{class:"van-button__content"},[I("span",{class:"van-button__text"},[I("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"16.8px"}},"验证码")])])])],-1))),Me=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item com-van-field--hidden",role:"button",tabindex:"0",textalign:"right"},[I("div",{class:"van-cell__value van-cell__value--alone van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"})])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Ge=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item",role:"button",tabindex:"0",textalign:"right"},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-10-label",for:"van-field-10-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"投保地区")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择投保地区")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),He=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-van-field--hidden com-form-item com-van-field--hidden undefined",role:"button",tabindex:"0",textalign:"right",visible:"false"},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-11-label",for:"van-field-11-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"出生日期")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择出生日期")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Xe=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-van-field--hidden com-form-item com-van-field--hidden",role:"button",tabindex:"0",textalign:"right",visible:"false"},[I("div",{class:"van-cell__title van-field__label van-field__label--required"},[I("label",{id:"van-field-12-label",for:"van-field-12-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"性别")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择性别")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Je=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item undefined",role:"button",tabindex:"0",textalign:"right"},[I("div",{class:"van-cell__title van-field__label"},[I("label",{id:"van-field-13-label",for:"van-field-13-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件有效期")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择证件有效期")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"}),I("div",{class:"wrap"},[I("div",{role:"checkbox",class:"van-checkbox",tabindex:"0","aria-checked":"false"},[I("div",{class:"van-checkbox__icon van-checkbox__icon--round"},[I("i",{class:"van-badge__wrapper van-icon van-icon-success sk-border"})]),I("span",{class:"van-checkbox__label"},[I("span",{class:"sk-text",style:{"--fp":"12.50%","--sp":"87.50%","--lh":"20px"}},"长期")])])])],-1))),Qe=_e((()=>I("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item undefined",role:"button",tabindex:"0",textalign:"right"},[I("div",{class:"van-cell__title van-field__label"},[I("label",{id:"van-field-14-label",for:"van-field-14-input"},[I("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件起期")])]),I("div",{class:"van-cell__value van-field__value"},[I("div",{class:"van-field__body"},[I("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[I("div",{class:"custom-input-wrap"},[I("span",{class:"placeholder"},[I("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择证件起期")])])])])]),I("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),We=F('<div class="com-card com-pro-form-with-card com-card-body-no-padding personal-info-card insured" data-v-610da5cd><div class="com-card-wrap" data-v-610da5cd><div class="header showLine" data-v-610da5cd><div class="title-wrapper" data-v-610da5cd><div class="title showIcon" data-v-610da5cd><span class="sk-text" style="--fp:33.33%;--sp:66.67%;--lh:45px;" data-v-610da5cd>被保人信息</span></div></div></div></div></div>',1),Ze=["theme-vars"],Ke={class:"content"},ea={key:1,class:"part"},aa=_e((()=>I("div",{class:"part-header agent-header"},[I("span",{class:"header"},"代理人信息")],-1))),la={class:"part"},na={class:"part-header holder-header"},ta=_e((()=>I("div",{class:"header"},"免费领取",-1))),ia=_e((()=>I("p",{class:"page-tip"},"同一被保险人仅限领取1份",-1)));var sa=e(a({__name:"index",setup(e){const a=l((()=>n((()=>import("./index-c2e6ab4e.js")),["static/js/index-c2e6ab4e.js","static/css/index-eabeb59f.css","static/js/index-5e7cc819.js","static/css/index-3dd092cb.css"]))),F=l((()=>n((()=>import("./index-5eb9adef.js")),["static/js/index-5eb9adef.js","static/css/index-793d1580.css","static/js/index-5e7cc819.js","static/css/index-3dd092cb.css"]))),G=l((()=>n((()=>import("./index-db1546be.js")),["static/js/index-db1546be.js","static/css/index-fa4edf2a.css","static/js/index-5e7cc819.js","static/css/index-3dd092cb.css","static/js/theme-94cf7d00.js","static/js/index-1b0cdd9a.js","static/css/index-bbfdd7ec.css","static/js/utils-abb1e928.js","static/js/infoCollection-5d0c9dcd.js","static/js/trial-78365229.js"]))),H=t(),_e=i(),sa=s(),{productCode:oa="",agentCode:da="",tenantId:ca="",templateId:ra,insurerCode:va="",orderNo:ua,preview:pa,isShare:fa,date:_a}=sa.query,ma=o().format("YYYY-MM-DD");_a&&_a!==ma&&d.alert({message:"投保链接已过期",showConfirmButton:!1});const{agentCode:ba}=c.get(`${r}_userInfo`)||{},ha=v(),ga=v();v();const ya=v(),xa=v({}),wa=u({tenantProductDetail:{},insureProductDetail:{},submitData:{},riskVOList:[{}],userData:{},ifPersonalInfoSuccess:!1,currentRiskInfo:[],mainRiskInfo:{},currentPackageConfigVOList:[],planList:[],colors:["#fff"],detail:{},banner:"",productDesc:[],newAuth:!0,isValidateCode:!1,insureDetail:{},loading:!0,isSelfInsure:!0,showBtn:!1,activeIndex:0,formInfo:{},showFilePreview:!1,isOnlyView:!0,agree:!1}),ka=v({}),Ia=ce({extInfo:{buttonCode:"EVENT_FREE_multiIssuePolicy",pageCode:"productInfo",templateId:ra,iseeBizNo:""},periodType:p.free},sa),Ca=v(),ja=v(),Pa=v({}),Oa=v([]),Na=v(),{fileList:Va,mustReadFileCount:Da,popupFileList:Ta}=de(Pa,Na);v({imgUrl:"",desc:"",title:"",link:""});const Fa=f((()=>!!pa)),La=async()=>{wa.loading=!0;const e=J({productCode:oa}),a=W({productCode:oa,isTenant:!pa});await Promise.all([e,a]).then((([e,a])=>{var l;"10000"===e.code&&(wa.tenantProductDetail=e.data,document.title=e.data.BASIC_INFO.title||"",e.data.BASIC_INFO&&e.data.BASIC_INFO.themeType&&L(e.data.BASIC_INFO.themeType)),"10000"===a.code&&(wa.insureProductDetail=a.data,Pa.value=null==(l=a.data.productPlanInsureVOList)?void 0:l[0],wa.planList=(a.data.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode})))),Q({productCode:oa}).then((({code:e,data:a})=>{var l,n,t,i;if("10000"===e){const{productMaterialPlanVOList:e,productQuestionnaireVOList:s}=a;Na.value=e||[];const{basicInfo:{questionnaireType:o},questions:d,questionnaireName:c}=(null==(l=null==s?void 0:s[0])?void 0:l.questionnaireDetailResponseVO)||{basicInfo:{}};o&&(Oa.value=2===o?[{attachmentName:c,attachmentUri:d,attachmentType:"question"}]:[{attachmentName:c,attachmentUri:null==(n=null==d?void 0:d[0])?void 0:n.content,attachmentType:le(String(null==(t=null==d?void 0:d[0])?void 0:t.textType),null==(i=null==d?void 0:d[0])?void 0:i.content)}])}})),wa.loading=!1}))},Ra=v();v(!1);const Aa=e=>{var a;Pa.value=null==(a=wa.insureProductDetail.productPlanInsureVOList)?void 0:a[e.name]};_((()=>Pa.value),(()=>{var e,a;const{planCode:l,insureProductRiskVOList:n,productFactor:t}=Pa.value;ka.value.planCode=l,Ra.value=null==(a=null==(e=m(t))?void 0:e.agent)?void 0:a.schema,wa.currentRiskInfo=n,wa.mainRiskInfo=(n||[]).find((e=>e.mainRiskFlag===b.YES)),console.log("mainRiskInfo.value",wa.mainRiskInfo)}),{deep:!0,immediate:!0});const Ea=(e={},a={},l={})=>{const n={...l},{insuredList:t,holder:i}=l,{insuranceStartDate:s,insuranceEndDate:o}=wa.formInfo,d=te([...wa.currentRiskInfo]).map((e=>({...e}))),c={tenantId:ca,riskList:d,riskPremium:a,productId:null==e?void 0:e.id};return n.extInfo.iseeBizNo=ha.value,n.productCode=null==e?void 0:e.productCode,n.commencementTime=s,n.expiryDate=o,n.premium=0,n.orderAmount=0,n.orderRealAmount=0,n.insuredList=t.map((a=>{var l;return{...a,nationalityCode:"CHN",certType:a.certType||X.CERT,certNo:(a.certNo||"").toLocaleUpperCase(),planCode:Pa.value.planCode,productList:[{premium:0,productCode:null==e?void 0:e.productCode,productName:null==e?void 0:e.productName,planCode:null==(l=Pa.value)?void 0:l.planCode,riskList:ne(c)}]}})),n.holder.nationalityCode="CHN",n},qa=v(),Sa=v(!1),Ba=v(),Ua=v(!1),$a=v(),Ya=v(!1),za=(e=!0)=>{Z({orderNo:ua,tenantId:ca},{isLoading:e}).then((({code:e,data:a})=>{var l,n,t;"10000"===e&&(Ua.value=(null==(n=null==(l=a.insuredList)?void 0:l[0])?void 0:n.faceAuthFlag)===b.YES,Ua.value&&($a.value.isStart&&R("被保人认证完成"),$a.value.stop()),Object.assign(Ia.value,a),Sa.value=!!(null==(t=a.holder)?void 0:t.name),Ia.value.holder.config={name:{isView:Sa.value}},wa.userData=a,Sa.value&&(qa.value.agentCode=Ba.value))}))};$a.value=pe({start:()=>{za(!1),Ua.value=!1},stop:()=>{Ua.value=!0},time:1e4});const Ma=async()=>{var e,a;const l={insurerCode:va,productCode:oa,productId:"",productName:(null==(e=wa.insureProductDetail)?void 0:e.productName)||"",tenantId:ca},n=Ea(l,{},Object.assign(Ia.value,wa.userData));if(Fa.value)_e.push(`/baseInsurance/orderDetail?from=free&tenantId=${ca}&orderNo=mockOrderNo&productCode=${oa}&preview=true&templateView=${ra}`);else try{if(fa)n.extInfo.buttonCode=q.free.underWriteAndIssue,Promise.all([null==(a=Ca.value)?void 0:a.validate(),ja.value.validate()]).then((e=>{da===qa.value.agentCode?wa.agree?ae(n,((e,a,l)=>{a===S.JUMP_PAGE&&e.orderNo?_e.push({path:ue.paymentResult,query:{tenantId:ca,from:"free",orderNo:ua}}):a===S.JUMP_ALERT&&"faceAuth"===e.alertType&&d.confirm({message:l,confirmButtonText:"去分享",cancelButtonText:"被保人确认"}).then((()=>{const e={...sa.query,isShare:1,orderNo:ua,agentCode:ba,objectType:"insured",origin:"share"};xa.value={title:"标题",desc:"描述",imageUrl:A,url:`${window.location.origin}${ue.faceVerify}?${E.stringify(e)}`,link:`${window.location.origin}${ue.faceVerify}?${E.stringify(e)}`},ya.value.handleShare(xa.value),Ya.value=!0,$a.value.run()})).catch((()=>{_e.push({path:ue.faceVerify,query:{...sa.query,objectType:"insured",origin:"confirm"}})}))})):d.alert({message:"请先阅读投保文档",confirmButtonText:"我知道了"}):d.alert({message:"代理人工号有误，请核对后重新录入",confirmButtonText:"我知道了"})})).catch((e=>{B(".page-free-product-detail",".van-field--error")}));else{const{code:e,data:a}=await K(n);if("10000"===e){const e={...sa.query,isShare:1,orderNo:a,agentCode:ba,date:o().format("YYYY-MM-DD")};xa.value={title:"标题",desc:"描述",imageUrl:A,link:`${window.location.origin}${window.location.pathname}?${E.stringify(e)}`,url:`${window.location.origin}${window.location.pathname}?${E.stringify(e)}`},ya.value.handleShare(xa.value)}}}catch(t){console.log("e")}},Ga=()=>{wa.showFilePreview=!1,wa.isOnlyView=!0},Ha=()=>{wa.showFilePreview=!1,wa.isOnlyView=!0,Ma()};h((()=>{da&&ve({tenantId:ca,saleUserId:da}).then((({code:e,data:a})=>{"10000"===e&&(Ba.value=a.agentCode,qa.value={...a,agentCode:""},c.set(`${r}_userInfo`,a),za())})),La(),setTimeout((async()=>{ha.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)}));const Xa=g(ga);return y(ga,(([{isIntersecting:e}],a)=>{(e=>{Xa.bottom.value<0||Xa.top.value<0?wa.showBtn=!e:wa.showBtn=!1})(e)})),(e,l)=>{var n,t,i,s,o,d,c,r,v,u;const p=U,f=$,_=Y,m=z,b=M;return x(),w(P,null,[k(wa).loading?(x(),w("div",me,[I("div",be,[I("div",he,[I("div",ge,[ye,I("div",xe,[I("div",we,[(x(),w("svg",ke,Ie)),Ce,(x(),w("svg",je,Pe))]),I("div",Oe,[I("div",Ne,[I("div",Ve,[I("form",De,[I("div",Te,[Fe,I("div",Le,[I("div",Re,[Ae,I("div",Ee,[I("div",qe,[(x(),w("svg",Se,Be))])])])])]),Ue,$e,Ye,ze,Me,Ge,He,Xe,Je,Qe])])])]),We])])])])])):(x(),w("div",{key:1,"data-skeleton-root":"FREE5","theme-vars":k(H),class:"page-free-product-detail"},[1==(null==(t=null==(n=k(wa).tenantProductDetail)?void 0:n.BASIC_INFO)?void 0:t.bannerType)&&(null==(s=null==(i=k(wa).tenantProductDetail)?void 0:i.BASIC_INFO)?void 0:s.banner.length)?(x(),C(ie,{key:0,"data-skeleton-type":"img","indicator-color":"#ddd",images:null==(o=k(wa).tenantProductDetail)?void 0:o.BASIC_INFO.banner},null,8,["images"])):j("",!0),I("div",Ke,[(x(!0),w(P,null,O(null==(c=null==(d=k(wa).tenantProductDetail)?void 0:d.SPECIAL_FEATURE)?void 0:c.spec,((e,a)=>(x(),w("div",{key:a,class:"part image-part"},[N(p,{src:e},null,8,["src"])])))),128)),(null==(r=k(wa).planList)?void 0:r.length)>1?(x(),C(f,{key:0,active:e.currentActivePlanCodeIndex,"onUpdate:active":l[0]||(l[0]=a=>e.currentActivePlanCodeIndex=a),list:k(wa).planList.map(((e,a)=>({title:e.planName,slotName:e.planName}))),class:"custom-plan-tab",onClickTab:Aa},null,8,["active","list"])):j("",!0),k(fa)?(x(),w("div",ea,[aa,N(re,{ref_key:"agentRef",ref:Ca,modelValue:k(qa),"onUpdate:modelValue":l[1]||(l[1]=e=>V(qa)?qa.value=e:null),"is-view":"",config:{agentCode:{isView:k(Sa)}},schema:k(Ra)},null,8,["modelValue","config","schema"])])):j("",!0),I("div",la,[I("div",na,[N(_,{color:"var(--van-primary-color)","font-size":"40px",name:"free-arrow"}),ta,N(_,{color:"var(--van-primary-color)","font-size":"40px",name:"free-arrow"})]),(x(),C(ee,{key:k(Pa).planCode,ref_key:"personalInfoRef",ref:ja,modelValue:k(wa).userData,"onUpdate:modelValue":l[2]||(l[2]=e=>k(wa).userData=e),"input-align":"left","is-view":k(Ya)||k(Ua),"error-message-align":"left","product-factor":null==(v=k(Pa))?void 0:v.productFactor,"multi-insured-config":null==(u=k(Pa))?void 0:u.multiInsuredConfigVO,onTrailChange:e.handlePersonalInfoChange},null,8,["modelValue","is-view","product-factor","multi-insured-config","onTrailChange"])),N(fe,{"form-info":k(wa).formInfo,"risk-info":k(wa).mainRiskInfo},null,8,["form-info","risk-info"]),ia,N(se,{ref_key:"root",ref:ga,class:D({"submit-btn":!0,"is-first":!k(wa).newAuth}),"is-gradient":!1,disabled:k(Ya)&&!k(Ua),text:k(fa)?"领取保障并激活":"分享至客户",onClick:Ma},null,8,["class","disabled","text"]),k(fa)?(x(),C(m,{key:0},{default:T((()=>{var e;return[(null==(e=k(Va))?void 0:e.length)?(x(),C(k(F),{key:0,modelValue:k(wa).agree,"onUpdate:modelValue":l[3]||(l[3]=e=>k(wa).agree=e),"attachment-list":k(Va),"has-bg-color":!1,"is-show-radio":"","pre-text":"请阅读",onPreviewFile:l[4]||(l[4]=e=>(e=>{wa.isOnlyView=!0,wa.activeIndex=e,wa.showFilePreview=!0})(e))},null,8,["modelValue","attachment-list"])):j("",!0)]})),_:1})):j("",!0),N(m,null,{default:T((()=>{var e,l,n;return[(null==(e=k(wa).tenantProductDetail.SIGNATURE)?void 0:e.inscribedContent)?(x(),C(k(a),{key:0,"inscribed-content":null==(n=null==(l=k(wa).tenantProductDetail)?void 0:l.SIGNATURE)?void 0:n.inscribedContent},null,8,["inscribed-content"])):j("",!0)]})),_:1})])])],8,Ze)),k(wa).showFilePreview?(x(),C(k(G),{key:2,show:k(wa).showFilePreview,"onUpdate:show":l[5]||(l[5]=e=>k(wa).showFilePreview=e),"content-list":k(wa).isOnlyView?k(Va):k(Ta),"is-only-view":k(wa).isOnlyView,"active-index":k(wa).activeIndex,text:k(wa).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-count":k(wa).isOnlyView?0:k(Da),onSubmit:Ha,onOnCloseFilePreviewByMask:Ga},null,8,["show","content-list","is-only-view","active-index","text","force-read-count"])):j("",!0),N(b,{ref_key:"shareRef",ref:ya},null,512),k(wa).loading?j("",!0):(x(),C(oe,{key:3,"product-detail":k(wa).tenantProductDetail},null,8,["product-detail"]))],64)}}}),[["__scopeId","data-v-610da5cd"]]);export{sa as default};
