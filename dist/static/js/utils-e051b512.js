import{d as e,r as a,aR as t,Q as n,c as l,y as r,f as s,i as o,h as i,z as d,R as c,g as u,w as f,k as p,j as m,aw as h,aS as y,a9 as v}from"./index-74b9454a.js";import{P as b}from"./index-6bdfa48d.js";import"./infoCollection-caa3b929.js";import"./trial-3bbbf46f.js";const C={class:"trial-button-wrap"},k={class:"footer-area"},x=s("span",null,"分享",-1),S={class:"price"},g={key:0},j=e({name:"trialButton"}),I=e({...j,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{type:Function,default:()=>{}}},emits:["handleClick"],setup(e,{emit:j}){const I=e,T=a(""),E=a("");t();const D=a(),F=()=>{console.log("323424"),I.handleShare?I.handleShare((()=>D.value.handleShare())):D.value.handleShare()};return n([()=>I.premium,()=>I.tenantProductDetail,()=>I.paymentFrequency,()=>I.planCode],(([e])=>{const{PREMIUM:a=[]}=I.tenantProductDetail||{};let t={};if(null==a?void 0:a.length){t=(a||[]).find((e=>e.planCode===I.planCode||!e.planCode))||{};const n=((null==t?void 0:t.data)||[]).find((e=>e.paymentFrequency===I.paymentFrequency)),{premium:l,minActualUnit:r}=n||{};e?(E.value=r,T.value=e&&`${e}`):(E.value=l,T.value="")}else e&&(E.value="",T.value=e&&`${e}`)}),{deep:!0,immediate:!0}),(a,t)=>{const n=v;return l(),r("div",C,[s("div",k,[e.isShare?(l(),r("div",{key:0,class:"com-share",onClick:F},[o(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),x])):i("",!0),s("div",S,[e.loadingText?(l(),r("span",g,d(e.loadingText),1)):(l(),r(c,{key:1},[s("span",null,d(u(T)),1),s("span",null,d(u(E)),1)],64))]),o(b,{shadow:!1,class:"right",onClick:t[0]||(t[0]=e=>j("handleClick"))},{default:f((()=>[p(a.$slots,"default",{},(()=>[m("立即投保")]))])),_:3})]),o(y,h({ref_key:"shareRef",ref:D},e.shareInfo),null,16)])}}}),T=({holder:e,insuredList:a=[]})=>{const t=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured","tenantOrderBeneficiaryList","extInfo"],n=e=>{const a={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{t.includes(n)?a[n]=e[n]:a.extInfo[n]=e[n]})),a};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(a||[]).map((e=>n(e)))}};export{I as _,T as f};
