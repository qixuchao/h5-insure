import{h as le,R as re,P as ae,r as C,d as h,A as J,$ as g,k as x,C as F,m as i,s as oe,n as r,p as f,t as w,x as n,Z as Q,B as z,_ as de,G as ue,L as me,M as se,T as fe,aa as ve,N as Ie}from"./vendor-902054a7.js";import{C as c,V as q,I as Ve,J as pe,K as we,Y as K}from"./index-84e52064.js";import{R as ce}from"./infoCollection-06729193.js";import{r as be}from"./relativeTime-cdc592a9.js";import{u as _}from"./useDicData-a1a7d9a2.js";const Ce={key:0,class:"com-personal-wrapper"},xe={class:"date-extra"},ye=ue("\u957F\u671F"),Ee=z("span",{class:"input-extra"},"\u4E07",-1),Fe=z("span",{class:"input-extra"},"\u4E07",-1),Be=z("span",{class:"input-extra"},"%",-1),ee=le({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]},isView:{type:Boolean,default:!1},prefix:{default:""},beneficiaryList:{default:()=>[]},sendSmsCode:{type:Function,default:(o,L)=>{}}},emits:["update:images"],setup(o,{emit:L}){const b=o;re();const{venderCode:D=""}=ae().query,V=_(`${D.toLocaleUpperCase()}_OCCUPATION`),T=_("NATIONAL_REGION_CODE"),B=C([]),U=C(!1),e=C({formInfo:b.formInfo,birth:{min:new Date("1900-01-01"),max:new Date},certEndDate:{min:new Date("1900-01-01"),max:new Date("2099-12-31")},occupationalText:""});h.extend(be);const R=C(b.formInfo.certEndType===2),W=60,E=C(0),P=C("\u83B7\u53D6\u9A8C\u8BC1\u7801"),X=C(!1),v=J(()=>{const t={};return b.factorList.forEach(l=>{t[l.code]=l}),t});J(()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.value.formInfo.mobile));const I=()=>{if(E.value>0)return;E.value=W;const t=()=>{P.value=`${E.value}s`,E.value-=1};t();const l=setInterval(()=>{E.value===0?(P.value="\u83B7\u53D6\u9A8C\u8BC1\u7801",E.value=0,clearInterval(l)):t()},1e3)},y=async()=>{E.value>0||b.sendSmsCode(e.value.formInfo.mobile,()=>{X.value=!0,fe({message:"\u77ED\u4FE1\u53D1\u9001\u6210\u529F\uFF0C\u8BF7\u67E5\u6536"}),I()})},O=t=>{e.value.formInfo.certNo=t.personIdCard,e.value.formInfo.name=t.personName,e.value.formInfo.certEndDate=h(t.validDateEnd,"YYYYMMDD").toDate()},d=t=>v.value&&v.value[t]&&v.value[t].isDisplay===K.YES,m=t=>v.value&&v.value[t]&&v.value[t].isMustInput===K.YES,u=(t,l)=>{var p,s;return((s=(p=v.value)==null?void 0:p[t])==null?void 0:s[l])||""},M=J(()=>[c.CERT,c.HOUSE_HOLD].includes(`${e.value.formInfo.certType}`)?[q.ID_CARD]:`${e.value.formInfo.certType}`===c.BIRTH?[q.BIRTH]:`${e.value.formInfo.certType}`===c.PASSPORT?[q.PASSPORT]:[q.ID_CARD]),j=(t,l)=>m("attachment")?e.value.formInfo.certEndType===2||e.value.formInfo.certEndDate?"":"\u8BF7\u9009\u62E9\u6709\u6548\u671F\u81F3":"",S=(t,l)=>/^\d{1,10}(\.\d{1,2})?$/.test(t)?"":"\u5E74\u6536\u5165\u6700\u591A\u5F55\u516510\u4F4D\u6570\u5B57",k=(t,l)=>/^[1-9]$|^[1-9][0-9]$|^100$/.test(t)?"":"\u6536\u76CA\u6BD4\u4F8B\u53EA\u80FD\u586B\u51991-100\u7684\u6B63\u6574\u6570",$=(t,l,p)=>l.length>t?`\u6700\u5927\u4E0D\u80FD\u8D85\u8FC7${t}\u4E2A\u5B57\u7B26`:"",ie=(t,l)=>{var p,s,N,A,Y,Z,G;if(!d("nationality"))return"";if(((s=(p=e.value.formInfo)==null?void 0:p.extInfo)==null?void 0:s.nationalityCode)==="CHN"){if(![c.CERT,c.HOUSE_HOLD,c.BIRTH,c.MILITARY_CARD].includes(`${t}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u8EAB\u4EFD\u8BC1\u3001\u6237\u53E3\u672C\u3001\u51FA\u751F\u8BC1\u3001\u519B\u5B98\u8BC1"}else if(["HKG","MAC"].includes((A=(N=e.value.formInfo)==null?void 0:N.extInfo)==null?void 0:A.nationalityCode)){if(![c.HK_MACAO_RESIDENCE_PERMIT,c.HONGKONG_MACAO].includes(`${t}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u9999\u6E2F\u3001\u4E2D\u56FD\u6FB3\u95E8\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u6E2F\u6FB3\u901A\u884C\u8BC1\u3001\u6E2F\u6FB3\u5C45\u6C11\u5C45\u4F4F\u8BC1"}else if(((Z=(Y=e.value.formInfo)==null?void 0:Y.extInfo)==null?void 0:Z.nationalityCode)==="TWN"){if(![c.TAIWAN_RESIDENCE_PERMIT,c.TAIWAN_TRAVEL].includes(`${t}`))return"\u56FD\u7C4D\u4E3A\u4E2D\u56FD\u53F0\u6E7E\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u53F0\u6E7E\u901A\u884C\u8BC1\u3001\u53F0\u6E7E\u5C45\u6C11\u5C45\u4F4F\u8BC1"}else if(![c.PASSPORT,c.FOREIGN_PERMANENT].includes(`${t}`))return"\u56FD\u7C4D\u4E3A\u975E\u4E2D\u56FD\u3001\u6E2F\u6FB3\u53F0\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u53EA\u5141\u8BB8\u9009\u62E9\u62A4\u7167\u3001\u5916\u56FD\u4EBA\u6C38\u4E45\u5C45\u7559\u8EAB\u4EFD\u8BC1";return h().year()-h((G=e.value.formInfo)==null?void 0:G.birthday).year()>2&&t===c.BIRTH?"\u5E74\u9F84\u5927\u4E8E\u7B49\u4E8E2\u5468\u5C81\u65F6\uFF0C\u8BC1\u4EF6\u7C7B\u578B\u4E0D\u80FD\u9009\u62E9\u51FA\u751F\u8BC1":""},ne=t=>Array.isArray(t)&&t.length===2&&t[0]&&t[1]?"":"\u8BF7\u4E0A\u4F20\u8EAB\u4EFD\u8BC1\u6B63\u53CD\u9762\u7167\u7247";return g(()=>R.value,t=>{t?(e.value.formInfo.certEndType=2,e.value.formInfo.certEndDate=""):e.value.formInfo.certEndType=1},{immediate:!0}),g(()=>e.value.formInfo.certType,t=>{[c.CERT,c.HOUSE_HOLD].includes(t)?U.value=!0:U.value=!1},{deep:!0,immediate:!0}),g(()=>e.value.formInfo.certNo,t=>{Ve(t)&&(e.value.formInfo.gender=+pe(t),e.value.formInfo.birthday=h(new Date(we(t))).format("YYYY-MM-DD"))},{deep:!0,immediate:!0}),g(()=>b.images,t=>{B.value=t},{immediate:!0}),g(()=>b.formInfo,()=>{e.value.formInfo=b.formInfo},{deep:!0,immediate:!0}),g(B,t=>{L("update:images",t)},{deep:!0}),(t,l)=>{const p=x("ProRadioButton"),s=x("ProField"),N=x("ProDatePicker"),A=x("ProPicker"),Y=x("ProIDCardUpload"),Z=x("ProImageUpload"),G=x("van-checkbox"),H=x("ProCascader"),te=x("van-button");return Object.keys(F(v)).length?(i(),oe("div",Ce,[d("insuredBeneficiaryType")?(i(),r(s,{key:0,modelValue:e.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.formInfo.insuredBeneficiaryType=a),label:u("insuredBeneficiaryType","title"),name:"insuredBeneficiaryType",placeholder:"\u8BF7\u9009\u62E9"},{input:f(()=>[w(p,{modelValue:e.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.formInfo.insuredBeneficiaryType=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredBeneficiaryType","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label"])):n("",!0),d("insuredRelation")?(i(),r(s,{key:1,modelValue:e.value.formInfo.insuredRelation,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.formInfo.insuredRelation=a),label:u("insuredRelation","title"),name:"insuredRelation",placeholder:"\u8BF7\u9009\u62E9"},{input:f(()=>[w(p,{modelValue:e.value.formInfo.insuredRelation,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.formInfo.insuredRelation=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredRelation","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label"])):n("",!0),d("name")?(i(),r(s,{key:2,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.formInfo.name=a),label:u("name","title"),name:`${o.prefix}_name`,"is-view":o.isView,required:m("name")},{"right-icon":f(()=>[Q(t.$slots,"name")]),_:3},8,["modelValue","label","name","is-view","required"])):n("",!0),d("sex")?(i(),r(s,{key:3,modelValue:e.value.formInfo.gender,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.formInfo.gender=a),required:m("sex"),label:u("sex","title"),name:`${o.prefix}_gender`,placeholder:"\u8BF7\u9009\u62E9","is-view":U.value},{input:f(()=>[w(p,{modelValue:e.value.formInfo.gender,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.formInfo.gender=a),disabled:U.value,"is-view":o.isView,prop:{label:"value",value:"code"},options:u("sex","attributeValueList")||[]},null,8,["modelValue","disabled","is-view","options"])]),_:1},8,["modelValue","required","label","name","is-view"])):n("",!0),d("birthDate")?(i(),r(N,{key:4,modelValue:e.value.formInfo.birthday,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.formInfo.birthday=a),label:u("birthDate","title"),name:`${o.prefix}_birthday`,min:e.value.birth.min,max:e.value.birth.max,type:"date","is-view":o.isView,required:m("birthDate")},null,8,["modelValue","label","name","min","max","is-view","required"])):n("",!0),d("certType")?(i(),r(A,{key:5,modelValue:e.value.formInfo.certType,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.formInfo.certType=a),label:u("certType","title"),name:`${o.prefix}_certType`,"data-source":u("certType","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:m("certType"),rules:[{validator:ie}],"is-view":o.isView},null,8,["modelValue","label","name","data-source","required","rules","is-view"])):n("",!0),d("certImage")&&e.value.formInfo.certType+""=="1"?(i(),r(s,{key:6,label:"\u8EAB\u4EFD\u8BC1\u4E0A\u4F20",block:"",required:m("certImage"),rules:[{validator:ne}],name:`${o.prefix}_idCard`},{input:f(()=>[w(Y,{modelValue:B.value,"onUpdate:modelValue":l[9]||(l[9]=a=>B.value=a),"is-view":o.isView,onOnOCR:O},null,8,["modelValue","is-view"])]),_:1},8,["required","rules","name"])):n("",!0),d("certImage")&&e.value.formInfo.certType&&e.value.formInfo.certType+""!="1"?(i(),r(s,{key:7,label:u("certImage","title"),block:"",required:m("certImage")},{input:f(()=>[w(Z,{modelValue:B.value,"onUpdate:modelValue":l[10]||(l[10]=a=>B.value=a),"is-view":o.isView,"max-count":1},null,8,["modelValue","is-view"])]),_:1},8,["label","required"])):n("",!0),d("certNo")?(i(),r(s,{key:8,modelValue:e.value.formInfo.certNo,"onUpdate:modelValue":l[11]||(l[11]=a=>e.value.formInfo.certNo=a),label:u("certNo","title"),name:`${o.prefix}_certNo`,required:m("certNo"),placeholder:"\u8BF7\u8F93\u5165",maxlength:19,"is-view":o.isView,"validate-type":F(M)},null,8,["modelValue","label","name","required","is-view","validate-type"])):n("",!0),d("certExpiry")?(i(),r(N,{key:9,modelValue:e.value.formInfo.certEndDate,"onUpdate:modelValue":l[13]||(l[13]=a=>e.value.formInfo.certEndDate=a),label:u("certExpiry","title"),name:`${o.prefix}_certEndDate`,type:"date",min:e.value.certEndDate.min,max:e.value.certEndDate.max,"is-view":R.value||o.isView,read:"",rules:[{validator:j}]},{extra:f(()=>[z("div",xe,[w(G,{modelValue:R.value,"onUpdate:modelValue":l[12]||(l[12]=a=>R.value=a),"icon-size":16,disabled:o.isView},{default:f(()=>[ye]),_:1},8,["modelValue","disabled"])])]),_:1},8,["modelValue","label","name","min","max","is-view","rules"])):n("",!0),d("age")?(i(),r(s,{key:10,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[14]||(l[14]=a=>e.value.formInfo.name=a),label:u("age","title"),name:`${o.prefix}_age`,"is-view":o.isView,required:m("age")},null,8,["modelValue","label","name","is-view","required"])):n("",!0),d("residence")?(i(),r(H,{key:11,modelValue:e.value.formInfo.extInfo.provinceCode,"onUpdate:modelValue":l[15]||(l[15]=a=>e.value.formInfo.extInfo.provinceCode=a),field1:e.value.formInfo.extInfo.provinceCode,"onUpdate:field1":l[16]||(l[16]=a=>e.value.formInfo.extInfo.provinceCode=a),field2:e.value.formInfo.extInfo.cityCode,"onUpdate:field2":l[17]||(l[17]=a=>e.value.formInfo.extInfo.cityCode=a),field3:e.value.formInfo.extInfo.areaCode,"onUpdate:field3":l[18]||(l[18]=a=>e.value.formInfo.extInfo.areaCode=a),label:u("residence","title"),name:`${o.prefix}_provinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:m("residence"),"data-source":F(T),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):n("",!0),d("social")?(i(),r(s,{key:12,modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[20]||(l[20]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),label:u("social","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:m("social")},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[19]||(l[19]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("social","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("height")?(i(),r(s,{key:13,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[21]||(l[21]=a=>e.value.formInfo.name=a),label:u("height","title"),"is-view":o.isView,name:`${o.prefix}_height`,required:m("height")},null,8,["modelValue","label","is-view","name","required"])):n("",!0),d("weight")?(i(),r(s,{key:14,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[22]||(l[22]=a=>e.value.formInfo.name=a),label:u("weight","title"),name:`${o.prefix}_weight`,"is-view":o.isView,required:m("weight")},null,8,["modelValue","label","name","is-view","required"])):n("",!0),d("BMI")?(i(),r(s,{key:15,modelValue:e.value.formInfo.name,"onUpdate:modelValue":l[23]||(l[23]=a=>e.value.formInfo.name=a),label:u("BMI","title"),name:`${o.prefix}_BMI`,"is-view":o.isView,required:m("BMI")},null,8,["modelValue","label","name","is-view","required"])):n("",!0),d("insuredRiskManagementLevel")?(i(),r(s,{key:16,modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[25]||(l[25]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),label:u("insuredRiskManagementLevel","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:m("insuredRiskManagementLevel")},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[24]||(l[24]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("insuredRiskManagementLevel","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("purchaseOtherInsurance")?(i(),r(s,{key:17,modelValue:e.value.formInfo.extInfo.purchaseOtherInsurance,"onUpdate:modelValue":l[27]||(l[27]=a=>e.value.formInfo.extInfo.purchaseOtherInsurance=a),label:u("purchaseOtherInsurance","title"),name:`${o.prefix}_purchaseOtherInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:m("purchaseOtherInsurance")},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[26]||(l[26]=a=>e.value.formInfo.extInfo.hasSocialInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("purchaseOtherInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("injuryInsurance")?(i(),r(s,{key:18,modelValue:e.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[29]||(l[29]=a=>e.value.formInfo.extInfo.injuryInsurance=a),label:u("injuryInsurance","title"),name:`${o.prefix}_hasSocialInsurance`,placeholder:"\u8BF7\u9009\u62E9",required:m("injuryInsurance")},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[28]||(l[28]=a=>e.value.formInfo.extInfo.injuryInsurance=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("injuryInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("insureArea")?(i(),r(H,{key:19,label:u("insureArea","title"),name:"insureAreaCode",placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:m("insureArea"),"data-source":F(T),mapping:{label:"name",value:"code",children:"children"}},null,8,["label","is-view","required","data-source"])):n("",!0),d("occupation")?(i(),r(H,{key:20,modelValue:e.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:modelValue":l[30]||(l[30]=a=>e.value.formInfo.extInfo.occupationCodeList[0]=a),field0:e.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:field0":l[31]||(l[31]=a=>e.value.formInfo.extInfo.occupationCodeList[0]=a),field1:e.value.formInfo.extInfo.occupationCodeList[1],"onUpdate:field1":l[32]||(l[32]=a=>e.value.formInfo.extInfo.occupationCodeList[1]=a),field2:e.value.formInfo.extInfo.occupationCodeList[2],"onUpdate:field2":l[33]||(l[33]=a=>e.value.formInfo.extInfo.occupationCodeList[2]=a),label:u("occupation","title"),name:`${o.prefix}_occupationCodeList`,placeholder:"\u8BF7\u9009\u62E9","is-view":o.isView,required:m("occupation"),"data-source":F(V),mapping:{label:"name",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","name","is-view","required","data-source"])):n("",!0),d("personalAnnualIncome")?(i(),r(s,{key:21,modelValue:e.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":l[34]||(l[34]=a=>e.value.formInfo.extInfo.personalAnnualIncome=a),label:u("personalAnnualIncome","title"),name:`${o.prefix}_personalAnnualIncome`,required:m("personalAnnualIncome"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:S}]},{extra:f(()=>[Ee]),_:1},8,["modelValue","label","name","required","is-view","rules"])):n("",!0),d("familyAnnualIncome")?(i(),r(s,{key:22,modelValue:e.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":l[35]||(l[35]=a=>e.value.formInfo.extInfo.familyAnnualIncome=a),label:u("familyAnnualIncome","title"),name:`${o.prefix}_familyAnnualIncome`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:S}],required:m("familyAnnualIncome")},{extra:f(()=>[Fe]),_:1},8,["modelValue","label","name","is-view","rules","required"])):n("",!0),d("country")?(i(),r(A,{key:23,modelValue:e.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":l[36]||(l[36]=a=>e.value.formInfo.extInfo.nationalityCode=a),label:u("country","title"),name:`${o.prefix}_nationalityCode`,"data-source":u("country","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},placeholder:"\u8BF7\u9009\u62E9",required:m("country"),"is-link":"","is-view":o.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):n("",!0),d("hasUsCard")?(i(),r(s,{key:24,modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[38]||(l[38]=a=>e.value.formInfo.extInfo.hasUsCard=a),label:u("hasUsCard","title"),name:`${o.prefix}_hasUsCard`,placeholder:"\u8BF7\u9009\u62E9",required:m("hasUsCard")},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[37]||(l[37]=a=>e.value.formInfo.extInfo.hasUsCard=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("hasUsCard","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("marritalStatus")?(i(),r(A,{key:25,modelValue:e.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":l[39]||(l[39]=a=>e.value.formInfo.extInfo.marriageStatus=a),label:u("marritalStatus","title"),name:`${o.prefix}_marriageStatus`,placeholder:"\u8BF7\u9009\u62E9","data-source":u("marritalStatus","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},"is-link":"","is-view":o.isView,required:m("marritalStatus")},null,8,["modelValue","label","name","data-source","is-view","required"])):n("",!0),d("degree")?(i(),r(A,{key:26,modelValue:e.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":l[40]||(l[40]=a=>e.value.formInfo.extInfo.educationDegree=a),label:u("degree","title"),name:`${o.prefix}_educationDegree`,"data-source":u("degree","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},placeholder:"\u8BF7\u9009\u62E9",required:m("degree"),"is-link":"","is-view":o.isView},null,8,["modelValue","label","name","data-source","required","is-view"])):n("",!0),d("mobile")?(i(),r(s,{key:27,modelValue:e.value.formInfo.mobile,"onUpdate:modelValue":l[41]||(l[41]=a=>e.value.formInfo.mobile=a),label:u("mobile","title"),name:`${o.prefix}_mobile`,placeholder:"\u8BF7\u8F93\u5165",maxlength:11,"is-view":o.isView,required:m("mobile"),"validate-type":[F(q).PHONE]},null,8,["modelValue","label","name","is-view","required","validate-type"])):n("",!0),d("verificationCode")?(i(),r(s,{key:28,modelValue:e.value.formInfo.verificationCode,"onUpdate:modelValue":l[42]||(l[42]=a=>e.value.formInfo.verificationCode=a),label:u("verificationCode","title"),name:`${o.prefix}_verificationCode`,"is-view":o.isView,required:m("verificationCode")},de({_:2},[o.isView?void 0:{name:"extra",fn:f(()=>[w(te,{class:se(["sms-code",{"count-down":E.value>0}]),size:"small",type:"primary",onClick:y},{default:f(()=>[ue(me(P.value),1)]),_:1},8,["class"])])}]),1032,["modelValue","label","name","is-view","required"])):n("",!0),d("isSmoke")?(i(),r(s,{key:29,modelValue:e.value.formInfo.isSmoke,"onUpdate:modelValue":l[44]||(l[44]=a=>e.value.formInfo.isSmoke=a),required:m("isSmoke"),label:u("isSmoke","title"),name:`${o.prefix}_isSmoke`,placeholder:"\u8BF7\u9009\u62E9","is-view":U.value},{input:f(()=>[w(p,{modelValue:e.value.formInfo.isSmoke,"onUpdate:modelValue":l[43]||(l[43]=a=>e.value.formInfo.isSmoke=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("isSmoke","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","required","label","name","is-view"])):n("",!0),d("contactNo")?(i(),r(s,{key:30,modelValue:e.value.formInfo.contactNo,"onUpdate:modelValue":l[45]||(l[45]=a=>e.value.formInfo.contactNo=a),label:u("contactNo","title"),name:`${o.prefix}_contactNo`,"is-view":o.isView,required:m("contactNo")},null,8,["modelValue","label","name","is-view","required"])):n("",!0),d("email")?(i(),r(s,{key:31,modelValue:e.value.formInfo.email,"onUpdate:modelValue":l[46]||(l[46]=a=>e.value.formInfo.email=a),label:u("email","title"),name:`${o.prefix}_email`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,required:m("email"),"validate-type":[F(q).EMAIL]},null,8,["modelValue","label","name","is-view","required","validate-type"])):n("",!0),d("homeAddress")?(i(),r(H,{key:32,modelValue:e.value.formInfo.extInfo.familyAreaCode,"onUpdate:modelValue":l[47]||(l[47]=a=>e.value.formInfo.extInfo.familyAreaCode=a),field1:e.value.formInfo.extInfo.familyProvinceCode,"onUpdate:field1":l[48]||(l[48]=a=>e.value.formInfo.extInfo.familyProvinceCode=a),field2:e.value.formInfo.extInfo.familyCityCode,"onUpdate:field2":l[49]||(l[49]=a=>e.value.formInfo.extInfo.familyCityCode=a),field3:e.value.formInfo.extInfo.familyAreaCode,"onUpdate:field3":l[50]||(l[50]=a=>e.value.formInfo.extInfo.familyAreaCode=a),label:u("homeAddress","title"),name:`${o.prefix}_familyProvinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:m("homeAddress"),"data-source":F(T),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):n("",!0),d("homeAddressDetail")?(i(),r(s,{key:33,modelValue:e.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":l[51]||(l[51]=a=>e.value.formInfo.extInfo.familyAddress=a),label:u("homeAddressDetail","title"),name:`${o.prefix}_familyAddress`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>$(100,...a)}],required:m("homeAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):n("",!0),d("homePostalCode")?(i(),r(s,{key:34,modelValue:e.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":l[52]||(l[52]=a=>e.value.formInfo.extInfo.familyZipCode=a),label:u("homePostalCode","title"),name:`${o.prefix}_familyZipCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,required:m("homePostalCode"),"validate-type":[F(q).ZIP_CODE]},null,8,["modelValue","label","name","is-view","required","validate-type"])):n("",!0),d("workAddress")?(i(),r(H,{key:35,modelValue:e.value.formInfo.extInfo.workAreaCode,"onUpdate:modelValue":l[53]||(l[53]=a=>e.value.formInfo.extInfo.workAreaCode=a),field1:e.value.formInfo.extInfo.workProvinceCode,"onUpdate:field1":l[54]||(l[54]=a=>e.value.formInfo.extInfo.workProvinceCode=a),field2:e.value.formInfo.extInfo.workCityCode,"onUpdate:field2":l[55]||(l[55]=a=>e.value.formInfo.extInfo.workCityCode=a),field3:e.value.formInfo.extInfo.workAreaCode,"onUpdate:field3":l[56]||(l[56]=a=>e.value.formInfo.extInfo.workAreaCode=a),label:u("workAddress","title"),name:`${o.prefix}_workProvinceCode`,placeholder:"\u8BF7\u9009\u62E9","is-link":"","is-view":o.isView,required:m("workAddress"),"data-source":F(T),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","is-view","required","data-source"])):n("",!0),d("workAddressDetail")?(i(),r(s,{key:36,modelValue:e.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":l[57]||(l[57]=a=>e.value.formInfo.extInfo.workAddress=a),label:u("workAddressDetail","title"),name:`${o.prefix}_workAddress`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>$(100,...a)}],required:m("workAddressDetail")},null,8,["modelValue","label","name","is-view","rules","required"])):n("",!0),d("workPostalCode")?(i(),r(s,{key:37,modelValue:e.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":l[58]||(l[58]=a=>e.value.formInfo.extInfo.workZipCode=a),label:u("workPostalCode","title"),required:m("workZipCode"),name:`${o.prefix}_workPostCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,"validate-type":[F(q).ZIP_CODE]},null,8,["modelValue","label","required","name","is-view","validate-type"])):n("",!0),d("companyName")?(i(),r(s,{key:38,modelValue:e.value.formInfo.extInfo.workStation,"onUpdate:modelValue":l[59]||(l[59]=a=>e.value.formInfo.extInfo.workStation=a),label:u("companyName","title"),name:`${o.prefix}_workPostCode`,placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>$(20,...a)}],required:m("companyName")},null,8,["modelValue","label","name","is-view","rules","required"])):n("",!0),d("workContent")?(i(),r(s,{key:39,modelValue:e.value.formInfo.extInfo.workContent,"onUpdate:modelValue":l[60]||(l[60]=a=>e.value.formInfo.extInfo.workContent=a),label:u("workContent","title"),name:`${o.prefix}_workContent`,required:m("workContent"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>$(100,...a)}]},null,8,["modelValue","label","name","required","is-view","rules"])):n("",!0),d("chineseTaxResident")?(i(),r(s,{key:40,modelValue:e.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[62]||(l[62]=a=>e.value.formInfo.extInfo.chineseTaxResident=a),label:u("chineseTaxResident","title"),name:`${o.prefix}_taxResident`,required:m("chineseTaxResident"),placeholder:"\u8BF7\u8F93\u5165"},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[61]||(l[61]=a=>e.value.formInfo.extInfo.chineseTaxResident=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("chineseTaxResident","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("taxResident")?(i(),r(A,{key:41,modelValue:e.value.formInfo.taxResident,"onUpdate:modelValue":l[63]||(l[63]=a=>e.value.formInfo.taxResident=a),"is-view":o.isView,label:u("taxResident","title"),name:`${o.prefix}_benefitOrder`,"data-source":u("taxResident","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:m("taxResident")},null,8,["modelValue","is-view","label","name","data-source","required"])):n("",!0),d("partTimeJob")?(i(),r(s,{key:42,modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[65]||(l[65]=a=>e.value.formInfo.extInfo.isPartTime=a),label:u("partTimeJob","title"),name:`${o.prefix}_isPartTime`,required:m("partTimeJob"),placeholder:"\u8BF7\u8F93\u5165"},{input:f(()=>[w(p,{modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[64]||(l[64]=a=>e.value.formInfo.extInfo.isPartTime=a),"is-view":o.isView,prop:{label:"value",value:"code"},options:u("partTimeJob","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","label","name","required"])):n("",!0),d("gasNumberCollection")?(i(),r(s,{key:43,modelValue:e.value.formInfo.extInfo.gasNumberCollection,"onUpdate:modelValue":l[66]||(l[66]=a=>e.value.formInfo.extInfo.gasNumberCollection=a),label:u("gasNumberCollection","title"),name:`${o.prefix}_gasNumberCollection`,required:m("gasNumberCollection"),placeholder:"\u8BF7\u8F93\u5165","is-view":o.isView,rules:[{validator:(...a)=>$(100,...a)}]},null,8,["modelValue","label","name","required","is-view","rules"])):n("",!0),d("benefitOrder")?(i(),r(A,{key:44,modelValue:e.value.formInfo.benefitOrder,"onUpdate:modelValue":l[67]||(l[67]=a=>e.value.formInfo.benefitOrder=a),label:u("benefitOrder","title"),name:`${o.prefix}_benefitOrder`,"is-view":o.isView,"data-source":u("benefitOrder","attributeValueList")||[],mapping:{label:"value",value:"code",children:"child"},required:m("benefitOrder")},null,8,["modelValue","label","name","is-view","data-source","required"])):n("",!0),d("benefitRate")?(i(),r(s,{key:45,modelValue:e.value.formInfo.benefitRate,"onUpdate:modelValue":l[68]||(l[68]=a=>e.value.formInfo.benefitRate=a),required:m("benefitRate"),name:`${o.prefix}_benefitRate`,"is-view":o.isView,rules:[{validator:k}],label:u("benefitRate","title")},{extra:f(()=>[Be]),_:1},8,["modelValue","required","name","is-view","rules","label"])):n("",!0)])):n("",!0)}}});const ke={class:"page-info-wrapper"},Te=le({props:{factorObject:null,formInfo:{default:()=>({})},isView:{type:Boolean,default:!1},sendSmsCode:{type:Function,default:(o,L)=>{}},titleCollection:{default:()=>({})},inputAlign:{default:"left"}},setup(o,{expose:L}){const b=o;ve(),ae();const D=C({}),V=C({extInfo:{},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),T=C(null),B=C([]),U=C([]);C([]),C([]),C([]),Ie({beneficiaryId:0,nextPage:"",currentAddress:null,isLoading:!0});const e=J(()=>{var I;const v={};return(((I=D.value)==null?void 0:I.INSURER)||[]).forEach(y=>{v[y.code]=y}),v}),R=v=>{var I;return((I=e.value)==null?void 0:I[v].isDisplay)===K.YES},W=v=>{var I;return((I=e.value)==null?void 0:I[v].isMustInput)===K.YES},E=(v,I)=>{var y,O;return((O=(y=e.value)==null?void 0:y[v])==null?void 0:O[I])||""},P=()=>{Object.assign(V.value.tenantOrderInsuredList[0],V.value.tenantOrderHolder,{id:V.value.tenantOrderInsuredList[0].id,extInfo:{...V.value.tenantOrderHolder.extInfo,insureProvinceCode:V.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,insureCityCode:V.value.tenantOrderInsuredList[0].extInfo.insureCityCode,insureAreaCode:V.value.tenantOrderInsuredList[0].extInfo.insureAreaCode}})};return L({validateForm:()=>new Promise((v,I)=>{var y;(y=T.value)==null||y.validate().then(()=>{v(V.value)},()=>{I()})})}),g(()=>b.factorObject,()=>{const v={BENEFICIARY:b.factorObject[3],INSURER:b.factorObject[2],HOLDER:b.factorObject[1]};D.value=v},{immediate:!0,deep:!0}),g([()=>V.value.tenantOrderInsuredList[0].relationToHolder,()=>V.value.tenantOrderHolder],()=>{`${V.value.tenantOrderInsuredList[0].relationToHolder}`===ce.SELF&&P()},{deep:!0,immediate:!0}),g(()=>b.formInfo,()=>{Object.keys(b.formInfo).length&&(V.value=b.formInfo)},{deep:!0,immediate:!0}),(v,I)=>{const y=x("ProCard"),O=x("ProRadioButton"),d=x("ProField");x("ProSvg");const m=x("ProForm");return i(),oe("div",ke,[w(m,{ref_key:"formRef",ref:T,"show-error":"","show-error-message":!1,"input-align":o.inputAlign},{default:f(()=>{var u,M,j,S;return[(u=D.value.HOLDER)!=null&&u.length?(i(),r(y,{key:0,"show-divider":!1,title:(M=o.titleCollection)==null?void 0:M.HOLDER},{default:f(()=>[w(ee,{images:B.value,"onUpdate:images":I[0]||(I[0]=k=>B.value=k),"form-info":V.value.tenantOrderHolder,"factor-list":D.value.HOLDER,prefix:"holder","is-view":o.isView,"send-sms-code":o.sendSmsCode},{name:f(()=>[Q(v.$slots,"holderName")]),_:3},8,["images","form-info","factor-list","is-view","send-sms-code"])]),_:3},8,["title"])):n("",!0),(j=D.value.INSURER)!=null&&j.length?(i(),r(y,{key:1,"show-divider":!1,title:(S=o.titleCollection)==null?void 0:S.INSURER},{default:f(()=>[R("relationToHolder")?(i(),r(d,{key:0,modelValue:V.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":I[2]||(I[2]=k=>V.value.tenantOrderInsuredList[0].relationToHolder=k),class:"relation-holder",name:"insure_relationToHolder",required:W("relationToHolder"),label:E("relationToHolder","title")},{input:f(()=>[w(O,{modelValue:V.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":I[1]||(I[1]=k=>V.value.tenantOrderInsuredList[0].relationToHolder=k),"is-view":o.isView,prop:{label:"value",value:"code"},options:E("relationToHolder","attributeValueList")||[]},null,8,["modelValue","is-view","options"])]),_:1},8,["modelValue","required","label"])):n("",!0),+V.value.tenantOrderInsuredList[0].relationToHolder!=1?(i(),r(ee,{key:1,images:U.value,"onUpdate:images":I[3]||(I[3]=k=>U.value=k),"form-info":V.value.tenantOrderInsuredList[0],"factor-list":D.value.INSURER||[],prefix:"insure","send-sms-code":o.sendSmsCode,"is-view":o.isView},{name:f(()=>[Q(v.$slots,"insurerName")]),_:3},8,["images","form-info","factor-list","send-sms-code","is-view"])):n("",!0)]),_:3},8,["title"])):n("",!0),n("",!0)]}),_:3},8,["input-align"])])}}});export{Te as _};
