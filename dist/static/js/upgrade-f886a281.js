import{_ as e,d as a,aW as t,u as s,a as l,r as n,z as i,y as o,b as r,c,g as d,e as p,w as v,i as u,f,l as m,j as h,t as b,n as A,aZ as y,T as _,K as g,L as w,aK as I}from"./index-ecc21e7e.js";import{p as x}from"./product-a78a2f2b.js";import{d as k,i as O,g as C,s as R,e as j,E as L}from"./trial-8da0b628.js";import{a as N,t as D,c as P,s as F,b as B,d as S}from"./utils-a4744578.js";import{a as J}from"./order-6f3b31c4.js";import E from"./index-81ecea8a.js";import{u as V}from"./theme-65292714.js";import{B as z}from"./index-205de996.js";import T from"./index-7f4fe1dc.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-28c036a2.js";import"./useStorage-b9ab263a.js";import"./trial-31d14654.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-4e4b5af3.js";const U=e=>(g("data-v-45d4afa6"),e=e(),w(),e),M={key:0},W=[U((()=>u("div",{class:"__skeleton_free_content__"},[u("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[u("div",{class:"page-free-product-detail"},[u("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[u("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),u("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[u("div",{class:"container"},[u("div",{class:"title"},[u("svg",{class:"svg-icon icon-free-arrow"},[u("use",{"xlink:href":"#icon-free-arrow"})]),u("span",null,[u("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),u("svg",{class:"svg-icon icon-free-arrow"},[u("use",{"xlink:href":"#icon-free-arrow"})])]),u("div",{class:"page-info-wrapper"},[u("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[u("form",{class:"van-form"},[u("div",{class:"com-card"},[u("div",{class:"com-card-wrap"},[u("div",{class:"header"}),u("div",{class:"body",style:{height:"auto"}},[u("div",{class:"com-personal-wrapper"},[u("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[u("div",{class:"van-cell__title van-field__label van-field__label--left"},[u("label",{id:"van-field-1-label",for:"van-field-1-input"},[u("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),u("div",{class:"van-cell__value van-field__value"},[u("div",{class:"van-field__body"},[u("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),u("div",{class:"van-field__right-icon"})])])]),u("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[u("div",{class:"van-cell__title van-field__label van-field__label--left"},[u("label",{id:"van-field-2-label",for:"van-field-2-input"},[u("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),u("div",{class:"van-cell__value van-field__value"},[u("div",{class:"van-field__body"},[u("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),u("div",{class:"van-field__right-icon"})])]),u("div",{class:"button-extra"},[u("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[u("div",{class:"van-button__content"},[u("span",{class:"van-button__text"},[u("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),u("div",{class:"pro-shadow-button submit-btn"},[u("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[u("div",{class:"van-button__content"},[u("span",{class:"van-button__text"},[u("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),u("div",{class:"com-attachment-list"},[u("span",null,[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),u("div",{class:"product-desc"},[u("div",{class:"van-image",style:{width:"100%"}},[u("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],Z={class:"page-upgrade-product-detail"},G={class:"footer-area"},Y={class:"price"},H={class:"num"},Q=U((()=>u("span",{class:"unit"},"元/月",-1))),X=A(b("升级保障"));var $=e(a({setup(e){const a=t((()=>y((()=>import("./index-bf2ee238.js")),["static/js/index-bf2ee238.js","static/css/index-b9ba3011.css","static/js/index-ecc21e7e.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),A=t((()=>y((()=>import("./index-69e1e36e.js")),["static/js/index-69e1e36e.js","static/css/index-ea588f10.css","static/js/index-ecc21e7e.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-7f4fe1dc.js","static/css/index-2dbcd337.css","static/js/utils-a4744578.js","static/js/infoCollection-28c036a2.js","static/js/useStorage-b9ab263a.js","static/js/trial-31d14654.js"]))),g=V(),w=s(),U=l(),{productCode:$="",orderNo:K="",agencyCode:q="",tenantId:ee="",saleChannelId:ae="",extraInfo:te}=U.query;let se={};try{se=JSON.parse(decodeURIComponent(te))}catch(xe){}const{openId:le,indirectCode:ne="",agentCode:ie}=se,oe=n(!0),re=n(),ce=n();n();const de=n(),pe=n(),ve=n(),ue=n(),fe=n();n();const me=n();n(!1),n(!1),n(0);const he=n(""),be=i({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),Ae=()=>{be.showFilePreview=!1,be.isOnlyView=!0},ye=e=>{var a;const t=null==(a=e.tenantOrderPaymentInfoList)?void 0:a.pop();return t?t.paymentMethod:3},_e=async e=>{const a=B({tenantId:ee,premium:fe.value,orderDetail:ue.value,productDetail:pe.value,insureDetail:ve.value,successJumpUrl:`${I}/baseInsurance/orderDetail?tenantId=${ee}&orderNo=${he.value}`,iseeBizNo:re.value}),t=await L({orderNo:e,...a}),{code:s,data:l}=t;"10000"===s&&w.push(`/baseInsurance/orderDetail?tenantId=${ee}&orderNo=${he.value}`)},ge=async e=>{try{_.loading({forbidClick:!0,message:"升级中",duration:0});const e=await(async()=>{var e,a,t;const s=N({tenantId:ee,applicationNo:ue.value.applicationNo,policyNo:ue.value.policyNo,saleUserId:ie,saleChannelId:ue.value.saleChannelId,orderStatus:J.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:pe.value,insureDetail:ve.value,paymentMethod:ye(ue.value),renewalDK:null==(a=null==(e=ue.value.extInfo)?void 0:e.extraInfo)?void 0:a.renewalDK,iseeBizNo:re.value,successJumpUrl:"",premium:fe.value,holder:{...ue.value.tenantOrderHolder,socialFlag:ue.value.tenantOrderHolder.extInfo.hasSocialInsurance},insured:{...ue.value.tenantOrderInsuredList[0],socialFlag:ue.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:D({tenantId:ee,riskList:P(F(ve.value.productRiskVoList[0].riskDetailVOList),pe.value),riskPremium:{},productId:null==(t=pe.value)?void 0:t.id})}),l=await R(s),{code:n,data:i}=l;return"10000"===n?i.data:""})();await k({tenantId:ee,applicationNo:ue.value.applicationNo});if(he.value=e,me.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),a=`${me.value}&failUrl=${e}`;window.location.href=a,_.clear()}else _e(e)}catch(a){_.clear()}},we=async e=>{ge()},Ie=()=>{_.loading({forbidClick:!0,duration:2e4,message:"试算中"});const e=x({productCode:$,withInsureInfo:!0,tenantId:ee}),a=O({productCode:$}),t=C({orderNo:K,tenantId:ee});Promise.all([e,a,t]).then((([e,a,t])=>{var s;"10000"===e.code&&(pe.value=e.data,document.title=(null==(s=e.data)?void 0:s.productFullName)||""),"10000"===a.code&&(ve.value=a.data),"10000"===t.code&&(ue.value=t.data),oe.value=!1,(async()=>{try{const e=B({tenantId:ee,premium:fe.value,orderDetail:ue.value,productDetail:pe.value,insureDetail:ve.value,successJumpUrl:""},S),a=await j(e),{code:t,data:s}=a;"10000"===t&&(fe.value=s.installmentPremium,me.value=s.signUrl)}catch(e){}finally{_.clear()}})(),(()=>{var e;let a={};if(a=(null==(e=pe.value.tenantProductInsureVO.planInsureVO)?void 0:e.attachmentVOList)||[],!a)return void(ce.value=[]);const t={2:"richText",3:"link"};ce.value=Object.keys(a).map((e=>(a[e].forEach((e=>{if("1"===e.attachmentType){const a=e.attachmentUri.split("?"),t=a[0].substr(a[0].lastIndexOf(".")+1);e.attachmentType="pdf"===t?"pdf":"picture"}else e.attachmentType=t[e.attachmentType]})),{attachmentName:e,attachmentList:a[e]})))||[]})()}))};return o((()=>{Ie(),setTimeout((async()=>{re.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,t)=>{const s=r("van-config-provider");return oe.value?(c(),d("div",M,W)):(c(),p(s,{key:1,"data-skeleton-root":"FREE","theme-vars":m(g)},{default:v((()=>{var e,s,l;return[u("div",Z,[f(z,{"data-skeleton-type":"img",url:null==(s=null==(e=pe.value)?void 0:e.tenantProductInsureVO)?void 0:s.banner[0]},null,8,["url"]),f(E,{ref_key:"formRef",ref:de,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":!1,"input-align":"right","form-info":ue.value,"factor-object":null==(l=ve.value)?void 0:l.productFactor},null,8,["form-info","factor-object"]),ce.value&&ce.value.length>0?(c(),p(m(a),{key:0,class:"attachment-bg","attachement-list":ce.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:t[0]||(t[0]=e=>(e=>{be.isOnlyView=!0,be.activeIndex=e,be.showFilePreview=!0})(e))},null,8,["attachement-list"])):h("",!0),u("div",G,[u("div",Y,[u("span",H,b(fe.value),1),Q]),f(T,{shadow:!1,"theme-vars":m(g),class:"right",text:"升级保障",onClick:we},{default:v((()=>[X])),_:1},8,["theme-vars"])])]),m(be).showFilePreview&&0!==ce.value.length?(c(),p(m(A),{key:0,show:m(be).showFilePreview,"onUpdate:show":t[1]||(t[1]=e=>m(be).showFilePreview=e),"content-list":ce.value,"is-only-view":m(be).isOnlyView,"active-index":m(be).activeIndex,text:m(be).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:ge,onOnCloseFilePreview:Ae},null,8,["show","content-list","is-only-view","active-index","text"])):h("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-45d4afa6"]]);export{$ as default};
