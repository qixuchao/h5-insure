import{g as t}from"./utils-57fec98c.js";import{Y as e}from"./index-d66a20d8.js";var a=(a,l)=>{const n=vue.ref([]),i=vue.ref(0),m=vue.ref([]);return vue.watch([()=>{var t;return null==(t=a.value)?void 0:t.planCode},()=>l.value],(([a,l])=>{let u=null;if(null==l?void 0:l.length){const t=(l||[]).find((t=>t.planCode===a||!t.planCode));t&&(u=null==t?void 0:t.productMaterialMap)}u?(n.value=Object.keys(u).map((e=>({attachmentName:e,attachmentList:u[e].map((e=>({...e,materialSource:t(`${null==e?void 0:e.materialSource}`,null==e?void 0:e.materialContent)})))}))),m.value=n.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.popUpFlag===e.YES))}))).filter((t=>t.attachmentList.length)),i.value=m.value.map((t=>({attachmentName:t.attachmentName,attachmentList:t.attachmentList.filter((t=>t.mustReadFlag===e.YES))}))).filter((t=>t.attachmentList.length)).length||0):n.value=[]}),{deep:!0,immediate:!0}),{fileList:n,popupFileList:m,mustReadFileCount:i}};export{a as u};
