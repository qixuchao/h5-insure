var lt=Object.defineProperty,rt=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Ae=(t,u,o)=>u in t?lt(t,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[u]=o,ie=(t,u)=>{for(var o in u||(u={}))ct.call(u,o)&&Ae(t,o,u[o]);if(Be)for(var o of Be(u))dt.call(u,o)&&Ae(t,o,u[o]);return t},ce=(t,u)=>rt(t,it(u));import{g as te,Q as Ue,E as B,y as Q,j as m,n as w,z as n,J as H,p as c,L as fe,A as a,B as mt,a4 as _e,a5 as he,F as Y,G as W,k as R,C as K,t as G,r as k,m as I,_ as pe,M as Me,ar as ft,h as Re,a9 as pt,O as _t,af as ht,H as vt,l as Dt,T as Ft}from"./vendor-06835924.js";import{_ as ne,d as gt,e as He,V as De,i as de,S as Ct,C as Pe,j as yt,a as Fe,a2 as $e,$ as wt,m as Et,G as ke,a1 as Ve}from"./index-d88e1b0a.js";import{P as bt}from"./index-b3184924.js";import{c as It}from"./close-df102554.js";import{t as qe}from"./theme-eeb93d73.js";import{R as Ce,S as Te,a as Bt,f as ge}from"./infoCollection-b0426750.js";import{A as At}from"./bankCard-b0679059.js";import{a as Pt,b as Ne,t as $t,g as kt}from"./utils-129d72bd.js";import{b as ye,v as Vt}from"./validator-ebd71d12.js";import{a as Se}from"./order-b675ac95.js";import{p as Oe,i as Tt,s as Nt,a as St,u as Ot,b as Lt}from"./trial-e501fd74.js";import{p as xt}from"./product-6fc58cb7.js";import"./trial-e3562182.js";const Ut=t=>(_e("data-v-47f4f4ca"),t=t(),he(),t),Mt={class:"com-question-item"},Rt={class:"question"},Ht=Ut(()=>n("div",{class:"icon"},H("?"),-1)),qt={class:"title"},Kt=te({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[u,o]=Ue(!1),r=B(),l=()=>{o()},e=Q(()=>u.value?gt(r.value):0);return(F,d)=>(m(),w("div",Mt,[n("div",Rt,[Ht,n("div",qt,H(t.question),1),c(He,{name:"down",class:fe(["arrow-icon",{show:a(u)}]),onClick:l},null,8,["class"])]),n("div",{ref_key:"answerDom",ref:r,class:"answer",style:mt({height:`${a(e)}px`})},H(t.answer),5)]))}});var Yt=ne(Kt,[["__scopeId","data-v-47f4f4ca"]]);const Wt={class:"com-question"},jt=te({props:{list:{type:Array,default:()=>[]}},setup(t){const u=t,[o,r]=Ue(!1),l=()=>{r()},e=Q(()=>u.list.length<=4||o.value?u.list:u.list.slice(0,4));return(F,d)=>(m(),w("div",Wt,[(m(!0),w(Y,null,W(a(e),(A,E)=>(m(),R(Yt,{key:E,question:A.title,answer:A.desc},null,8,["question","answer"]))),128)),t.list.length>4?(m(),w("div",{key:0,class:"show-more",onClick:l},[K(H(a(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),c(He,{name:"down",class:fe(["icon",{showMore:a(o)}])},null,8,["class"])])):G("",!0)]))}});var zt=ne(jt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Gt=t=>typeof t=="number"&&isFinite(t),Jt=t=>Z(t)&&Object.keys(t).length===0,Qt=Object.assign;let Le;const Xt=()=>Le||(Le=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),me=Array.isArray,X=t=>typeof t=="string",we=t=>typeof t=="boolean",Zt=Object.prototype.toString,eo=t=>Zt.call(t),Z=t=>eo(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function to(t,u,o={}){const{domain:r,messages:l,args:e}=o,F=t,d=new SyntaxError(String(F));return d.code=t,u&&(d.location=u),d.domain=r,d}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const oo={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let ao=null;oo.FunctionTranslate;function uo(t){return u=>ao}const no=-1;function so(t,u,o,r,l){const{missing:e,onWarn:F}=t;if(e!==null){const d=e(t,o,u,l);return X(d)?d:u}else return u}function lo(t,u,o){const r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let l=r.__localeChainCache.get(o);if(!l){l=[];let e=[o];for(;me(e);)e=xe(l,e,u);const F=me(u)?u:Z(u)?u.default?u.default:null:u;e=X(F)?[F]:F,me(e)&&xe(l,e,!1),r.__localeChainCache.set(o,l)}return l}function xe(t,u,o){let r=!0;for(let l=0;l<u.length&&we(r);l++){const e=u[l];X(e)&&(r=ro(t,u[l],o))}return r}function ro(t,u,o){let r;const l=u.split("-");do{const e=l.join("-");r=io(t,e,o),l.splice(-1,1)}while(l.length&&r===!0);return r}function io(t,u,o){let r=!1;if(!t.includes(u)&&(r=!0,u)){r=u[u.length-1]!=="!";const l=u.replace(/!/g,"");t.push(l),(me(o)||Z(o))&&o[l]&&(r=o[l])}return r}function co(t){return to(t,null,void 0)}function mo(t,...u){const{numberFormats:o,unresolving:r,fallbackLocale:l,onWarn:e}=t,{__numberFormatters:F}=t,[d,A,E,O]=fo(...u),U=we(E.missingWarn)?E.missingWarn:t.missingWarn;we(E.fallbackWarn)?E.fallbackWarn:t.fallbackWarn;const V=!!E.part,T=X(E.locale)?E.locale:t.locale,oe=lo(t,l,T);if(!X(d)||d==="")return new Intl.NumberFormat(T).format(A);let J={},q,h=null;const s="number format";for(let j=0;j<oe.length&&(q=oe[j],J=o[q]||{},h=J[d],!Z(h));j++)so(t,d,q,U,s);if(!Z(h)||!X(q))return r?no:d;let g=`${q}__${d}`;Jt(O)||(g=`${g}__${JSON.stringify(O)}`);let P=F.get(g);return P||(P=new Intl.NumberFormat(q,Qt({},h,O)),F.set(g,P)),V?P.formatToParts(A):P.format(A)}function fo(...t){const[u,o,r,l]=t;let e={},F={};if(!Gt(u))throw co(14);const d=u;return X(o)?e.key=o:Z(o)&&(e=o),X(r)?e.locale=r:Z(r)&&(F=r),Z(l)&&(F=l),[e.key||"",d,e,F]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xt().__INTLIFY_PROD_DEVTOOLS__=!1);const Ke=t=>(_e("data-v-c8a8e288"),t=t(),he(),t),po={key:0,class:"pro-modal"},_o=Ke(()=>n("div",{class:"pro-overlay"},null,-1)),ho={class:"pro-modal-wrapper"},vo={class:"pro-modal-body"},Do={class:"pro-modal-content"},Fo=Ke(()=>n("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),go={class:"pro-modal-content"},Co={class:"product-attachment-list"},yo=K(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),wo={key:0,class:"dun-hao"},Eo=["src"],bo=te({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:mo,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:u}){const o=t,r=()=>{u("on-close")},l=()=>{u("on-confirm")};return(e,F)=>{const d=k("ProPDFviewer");return o.isShow?(m(),w("div",po,[_o,n("div",ho,[n("div",vo,[n("div",Do,[n("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+H(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),Fo]),n("div",{class:"pro-modal-btn",onClick:l},"\u4E00\u952E\u5347\u7EA7"),n("div",go,[n("div",Co,[yo,(m(!0),w(Y,null,W(o.attachmentList,(A,E)=>(m(),R(d,{key:E,class:"file-name",title:`\u300A${A.attachmentName}\u300B`,content:A.attachmentUri,type:"pdf"},{default:I(()=>[E!==(o.attachmentList||[]).length-1?(m(),w("span",wo,"\u3001")):G("",!0)]),_:2},1032,["title","content"]))),128))])])]),n("div",{class:"pro-modal-close",onClick:r},[n("img",{src:a(It)},null,8,Eo)])])])):G("",!0)}}});var Io=ne(bo,[["__scopeId","data-v-c8a8e288"]]);const Bo={class:"list"},Ao={class:"item"},Po={class:"footer"},$o=K("\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u5B8C\u5168\u7B26\u5408\u5065\u5EB7\u544A\u77E5\u5185\u5BB9"),Ye=te({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","submit"],setup(t,{emit:u}){const o=t,r=B(o.show),l=B(o.activeIndex),e=()=>{u("update:show",!1),u("submit")};return pe(()=>o,()=>{r.value=o.show},{deep:!0,immediate:!0}),(F,d)=>{const A=k("ProTab"),E=k("ProFilePreview"),O=k("VanButton"),U=k("ProPopup");return m(),R(U,{show:r.value,"onUpdate:show":d[1]||(d[1]=V=>r.value=V),height:80,class:"file-preview-popup-wrap",closeable:!1,onClose:d[2]||(d[2]=V=>u("update:show",!1))},{default:I(()=>[c(A,{active:l.value,"onUpdate:active":d[0]||(d[0]=V=>l.value=V),list:t.contentList.map((V,T)=>({title:V.attachmentName,slotName:`guarantee-${T}`})),class:"tab"},null,8,["active","list"]),n("div",Bo,[n("div",Ao,[c(E,{content:t.contentList[l.value].attachmentUri,type:"pdf"},null,8,["content"])])]),n("div",Po,[c(O,{type:"primary",block:"",round:"",onClick:e},{default:I(()=>[$o]),_:1})])]),_:1},8,["show"])}}});const x=t=>(_e("data-v-d47ada78"),t=t(),he(),t),ko={class:"holder container"},Vo=x(()=>n("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),To={class:"insured container"},No=x(()=>n("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),So={class:"payment container"},Oo=x(()=>n("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),Lo={class:"attachment-list"},xo={class:"product-attachment-list"},Uo=K(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Mo=["onClick"],Ro={class:"rate-attachment-list"},Ho=K(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),qo=["onClick"],Ko={key:0,class:"renewal conntainer"},Yo=x(()=>n("div",{class:"title"},"\u5F00\u901A\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",-1)),Wo={class:"pro-radio"},jo={class:"desc_arrow"},zo={key:0,class:"renewal-y-desc renewal-desc"},Go=x(()=>n("div",{class:"sub-title"},"\u5F00\u901A\u540E\u53EF\u4EAB\u53D7\uFF1A",-1)),Jo=x(()=>n("div",{class:"desc"},"\u5B89\u5FC3\uFF01\u5F00\u901A\u81EA\u52A8\u7F34\u8D39\u53EF\u4F7F\u4FDD\u969C\u4E0D\u95F4\u65AD",-1)),Qo=x(()=>n("div",{class:"desc"},"\u7701\u5FC3\uFF01\u4E0B\u4E00\u5E74\u91CD\u65B0\u6295\u4FDD\uFF0C\u4E0D\u7528\u62C5\u5FC3\u65AD\u4FDD",-1)),Xo=x(()=>n("div",{class:"desc"},"\u653E\u5FC3\uFF01\u65E0\u989D\u5916\u8D39\u7528\uFF0C\u5F00\u901A\u540E\u53EF\u968F\u65F6\u53D6\u6D88",-1)),Zo=x(()=>n("div",{class:"desc"},"\u63D0\u793A:\u672C\u4EA7\u54C1\u4E3A\u4E00\u5E74\u671F\u975E\u4FDD\u8BC1\u7EED\u4FDD\u4EA7\u54C1",-1)),ea=[Go,Jo,Qo,Xo,Zo],ta={key:1,class:"renewal-n-desc renewal-desc"},oa=x(()=>n("div",{class:"sub-title"},"\u672A\u5F00\u901A\uFF0C\u4E00\u65E6\u65AD\u4FDD\u5C06\u9762\u4E34\uFF1A",-1)),aa=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u5C06\u5931\u53BB\u4FDD\u969C\uFF0C\u65AD\u4FDD\u671F\u95F4\u51FA\u9669\u4E0D\u53EF\u7406\u8D54",-1)),ua=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u7B49\u5F85\u671F\u5185\u51FA\u9669\u65E0\u6CD5\u7406\u8D54",-1)),na=x(()=>n("div",{class:"desc"},"\u65AD\u4FDD\u540E\u91CD\u65B0\u6295\u4FDD\uFF0C\u9700\u6838\u5B9E\u5065\u5EB7\u72B6\u51B5\uFF0C\u53EF\u80FD\u65E0\u6CD5\u6295\u4FDD",-1)),sa=[oa,aa,ua,na],la=te({props:{isCheck:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:u}){const o=t,r=B({}),l=[{value:"Y",title:"\u7533\u8BF7\u5F00\u901A"},{value:"N",title:"\u6682\u4E0D\u5F00\u901A"}],e=Me({insureDisable:!0,formInfo:o.formInfo}),F=B(!1),d=B(0),A=B(!1),E=h=>ye(h)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",O=Q(()=>{var h,s;return(s=(h=o.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(g=>g.attachmentName==="\u8D39\u7387\u8868")}),U=Q(()=>{var h,s;return((s=(h=o.productDetail)==null?void 0:h.tenantProductInsureVO)==null?void 0:s.attachmentVOList.filter(g=>g.attachmentName!=="\u8D39\u7387\u8868"))||[]}),V=()=>(A.value=!0,A),T=h=>{d.value=h,F.value=!0},oe=()=>new Promise((h,s)=>{r==null||r.value.validate().then(()=>{h("")},()=>{s()})}),J=h=>{o.disable||e.formInfo.renewalDK===h||(e.formInfo.renewalDK=h)},q=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return pe(()=>e.formInfo.insured.relationToHolder,(h,s)=>{o.disable||h!==s&&(h.toString()===Ce.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:h},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:h},e.insureDisable=!1))}),pe(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===Ce.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),u({validateForm:oe,previewFile:T,isAgreeFile:A,onSubmit:V}),(h,s)=>{const g=k("ProField"),P=k("ProRadioButton"),j=k("ProPicker"),se=k("ProTabButton"),ae=k("ProPDFviewer"),le=k("ProForm"),ve=k("van-config-provider");return m(),R(ve,{"theme-vars":a(qe)},{default:I(()=>[c(le,{ref_key:"formRef",ref:r},{default:I(()=>[n("div",ko,[Vo,c(g,{modelValue:a(e).formInfo.holder.name,"onUpdate:modelValue":s[0]||(s[0]=i=>a(e).formInfo.holder.name=i),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:E}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),c(g,{modelValue:a(e).formInfo.holder.certNo,"onUpdate:modelValue":s[1]||(s[1]=i=>a(e).formInfo.holder.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[a(De).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.holder.mobile,"onUpdate:modelValue":s[2]||(s[2]=i=>a(e).formInfo.holder.mobile=i),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[a(De).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[4]||(s[4]=i=>a(e).formInfo.holder.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[c(P,{modelValue:a(e).formInfo.holder.socialFlag,"onUpdate:modelValue":s[3]||(s[3]=i=>a(e).formInfo.holder.socialFlag=i),disabled:o.disable,options:a(Te)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),c(de),n("div",To,[No,c(g,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[6]||(s[6]=i=>a(e).formInfo.insured.relationToHolder=i),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[c(P,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":s[5]||(s[5]=i=>a(e).formInfo.insured.relationToHolder=i),disabled:o.disable,options:a(Bt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),c(g,{modelValue:a(e).formInfo.insured.name,"onUpdate:modelValue":s[7]||(s[7]=i=>a(e).formInfo.insured.name=i),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:E}],"is-view":a(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),c(g,{modelValue:a(e).formInfo.insured.certNo,"onUpdate:modelValue":s[8]||(s[8]=i=>a(e).formInfo.insured.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[a(De).ID_CARD],"is-view":a(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),c(g,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[10]||(s[10]=i=>a(e).formInfo.insured.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[c(P,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":s[9]||(s[9]=i=>a(e).formInfo.insured.socialFlag=i),disabled:o.disable||a(e).insureDisable,options:a(Te)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),c(de),n("div",So,[Oo,c(g,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:I(()=>[K(H(a(Pt)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),c(j,{modelValue:a(e).formInfo.paymentMethod,"onUpdate:modelValue":s[11]||(s[11]=i=>a(e).formInfo.paymentMethod=i),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":a(At),"is-view":o.disable||a(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),o.isCheck?G("",!0):(m(),R(g,{key:0,label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:I(()=>[c(se,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:a(e).formInfo.renewalDK,onClick:q},null,8,["disabled","active"])]),_:1})),n("div",Lo,[n("div",xo,[Uo,o.isCheck?(m(!0),w(Y,{key:0},W(a(U),(i,v)=>(m(),w("span",{key:`attachment-${v}`,class:"file-name",onClick:ue=>T(v)},H(`\u300A${i.attachmentName}\u300B`),9,Mo))),128)):(m(!0),w(Y,{key:1},W(a(U),(i,v)=>(m(),R(ae,{key:v,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},null,8,["title","content"]))),128))]),n("div",Ro,[Ho,o.isCheck?(m(!0),w(Y,{key:0},W(a(O),(i,v)=>(m(),w("span",{key:`rate-${v}`,class:"file-name",onClick:ue=>T(a(U).length+v)},H(`\u300A${i.attachmentName}\u300B`),9,qo))),128)):(m(!0),w(Y,{key:1},W(a(O),(i,v)=>(m(),R(ae,{key:v,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},null,8,["title","content"]))),128))])])]),c(de),o.isCheck?(m(),w("div",Ko,[Yo,n("div",Wo,[(m(),w(Y,null,W(l,(i,v)=>c(se,{key:v,title:i.title,active:a(e).formInfo.renewalDK===i.value,onClick:ue=>J(i.value)},null,8,["title","active","onClick"])),64))]),n("div",jo,[n("div",{class:fe(["arrow light",{show:a(e).formInfo.renewalDK==="Y"||a(e).formInfo.renewalDK===""}])},null,2),n("div",{class:fe(["arrow dark",{show:a(e).formInfo.renewalDK==="N"}])},null,2)]),a(e).formInfo.renewalDK==="Y"?(m(),w("div",zo,ea)):(m(),w("div",ta,sa))])):G("",!0),c(de),c(Ye,{show:F.value,"onUpdate:show":s[12]||(s[12]=i=>F.value=i),"content-list":a(U).concat(a(O)),"active-index":d.value,onSubmit:V},null,8,["show","content-list","active-index"])]),_:1},512)]),_:1},8,["theme-vars"])}}});var ra=ne(la,[["__scopeId","data-v-d47ada78"]]),ia="/static/assets/header-logo.fcc5844b.png";const ca=t=>(_e("data-v-a052d3d0"),t=t(),he(),t),da={class:"header"},ma=["src"],fa=ca(()=>n("div",{class:"content"},[n("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A"),n("p",null,[K(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653"),n("span",null,"\u300A\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56\u300B"),K("\uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 ")])],-1)),pa={class:"footer"},_a=K(" \u597D\u7684 "),ha={key:0},va=te({setup(t){const u="PRENOTICE",o=new Ct({source:"sessionStorage"}),r=B(!1),l=ft({time:4e3,onFinish:()=>{o.set(`${u}-isShow`,"1"),r.value=!1}}),e=Q(()=>l.current.value.seconds);return Re(()=>{o.get(`${u}-isShow`)||(r.value=!0,l.start())}),(F,d)=>{const A=k("VanButton"),E=k("ProPopup");return m(),R(E,{class:"pre-notice-wrap",show:r.value,closeable:!1,height:45},{default:I(()=>[n("div",da,[n("img",{src:a(ia)},null,8,ma)]),fa,n("div",pa,[c(A,{type:"primary",block:"",round:""},{default:I(()=>[_a,a(e)?(m(),w("span",ha,H(a(e))+"s",1)):G("",!0)]),_:1})])]),_:1},8,["show"])}}});var Da=ne(va,[["__scopeId","data-v-a052d3d0"]]);const Fa={class:"page-product-detail"},ga={class:"info"},Ca=["src"],ya={class:"guarantee-list"},wa={key:0,class:"basic"},Ea={class:"tab-1"},ba=["src"],Ia={class:"footer-button"},Ba={class:"price"},Aa=K(" \u603B\u4FDD\u8D39"),Pa={class:"guarantee-list"},$a={class:"title"},ka={class:"content"},Va=te({setup(t){const u=pt(),o=_t(),{productCode:r="BWYL2021",tenantId:l,orderNo:e,phoneNo:F,agentCode:d,saleChannelId:A,paymentMethod:E,certNo:O,name:U,pageCode:V,from:T}=o.query,oe=B([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),J=B(),q=B(0),h=B(!1),s=B(),g=B(),P=B(),j=T==="check",se=B(!1),ae=B(!1),le=B(0),ve=!!(U&&O&&F)||!!e,i=V==="payBack",v=Me({holder:{certNo:O,certType:Pe.CERT,mobile:F,name:U,socialFlag:ge.HAS},insured:{certNo:O,certType:Pe.CERT,name:U,socialFlag:ge.HAS,relationToHolder:Ce.SELF},paymentMethod:E,paymentMethodDisable:!!E,renewalDK:"Y"}),ue=B(!1),z=B(!1),We=()=>{ue.value=!1},je=()=>{u.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ce(ie({},o.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:d,from:T})})},ze=()=>{h.value=!0},Ge=Q(()=>{var p,f;return((f=(p=s.value)==null?void 0:p.tenantProductInsureVO)==null?void 0:f.attachmentVOList.filter(_=>_.attachmentName==="\u8D39\u7387\u8868"))||[]}),Je=Q(()=>{var p,f;return((f=(p=s.value)==null?void 0:p.tenantProductInsureVO)==null?void 0:f.attachmentVOList.filter(_=>_.attachmentName!=="\u8D39\u7387\u8868"))||[]}),re=Q(()=>{var p,f,_,y,b,$,N;return((_=(f=(p=s.value)==null?void 0:p.tenantProductInsureVO)==null?void 0:f.guaranteeList)==null?void 0:_.length)?(b=(y=s.value)==null?void 0:y.tenantProductInsureVO)==null?void 0:b.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(N=($=s.value)==null?void 0:$.tenantProductInsureVO)==null?void 0:N.titleAndDescVOS}]}),Ee=()=>{const{holder:{certNo:p,mobile:f,name:_,socialFlag:y},insured:{certNo:b,name:$,socialFlag:N,relationToHolder:S},paymentMethod:M}=v,D=ke(p)&&Vt(f)&&ye(_)&&!!y,C=ke(b)&&ye($)&&!!N&&!!S;return!!(D&&C&&!!M)},Qe=async p=>{Ft.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const f=await Ot(p),{code:_}=f;if(_==="10000"){const y=await Lt({orderNo:p.orderNo,tenantId:l}),{data:b}=y;_==="10000"?window.location.href=b:z.value=!1}else z.value=!1}catch{z.value=!1}},Xe=p=>`${Ve}/chuangxin/baigebao/productDetail?tenantId=${l}&productCode=${r}&orderNo=${p}&agentCode=${d}&pageCode=payBack&from=${T}`,Ze=p=>`${Ve}/chuangxin/baigebao/payFail?tenantId=${l}&orderNo=${p}&agentCode=${d}&from=${T}`,et=async p=>{const f=kt({tenantId:l,saleUserId:d,saleChannelId:A,detail:s.value,insureDetail:g.value,paymentMethod:v.paymentMethod,renewalDK:v.renewalDK,successJumpUrl:"",premium:P.value,holder:v.holder,insured:v.insured,tenantOrderRiskList:p,orderStatus:"",orderTopStatus:""});try{const _=await Nt(f),{code:y,data:b}=_;y==="10000"&&Qe(ce(ie({},f),{orderNo:b.data,extInfo:{extraInfo:{renewalDK:v.renewalDK,paymentMethod:v.paymentMethod,successJumpUrl:Xe(b.data),failUrl:Ze(b.data)}}}))}catch{z.value=!1}},be=async()=>{const{calcData:p,riskVOList:f}=Ne({holder:v.holder,insured:v.insured,tenantId:l,productDetail:s.value,insureDetail:g.value}),_=async()=>{const y=await Oe(p),{code:b,data:$}=y;return b==="10000"?(P.value=$.premium,{condition:f,data:$}):{}};_(),Dt.exports.debounce(_,500,{trailing:!0})},tt=p=>{le.value=p,ae.value=!0},ot=()=>new Promise((p,f)=>{var _,y;(y=(_=J.value)==null?void 0:_.validateForm)==null||y.call(_).then(async()=>{var C;const b=((C=J.value)==null?void 0:C.isAgreeFile)||se.value;if(j&&!b){tt(0),z.value=!1;return}const{calcData:$,riskVOList:N}=Ne({holder:v.holder,insured:v.insured,tenantId:l,productDetail:s.value,insureDetail:g.value}),S=await Oe($),{code:M,data:D}=S;M==="10000"?(P.value=D.premium,p({condition:N,data:D})):f(new Error)}).catch(()=>{z.value=!1})}),Ie=async()=>{var p;if(i){u.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ce(ie({},o.query),{tenantId:l,productCode:"BWYL2022",orderNo:e,agentCode:d,from:T})});return}z.value=!0;try{const{condition:f,data:_}=await ot(),y={},b=(N=[])=>{(N||[]).forEach(S=>{var M;y[S.riskCode]=S,((M=S.riskPremiumDetailVOList)==null?void 0:M.length)&&b(S.riskPremiumDetailVOList)})};b(_.riskPremiumDetailVOList);const $=$t({tenantId:l,riskList:f,riskPremium:y,productId:(p=s.value)==null?void 0:p.id});et($)}catch{z.value=!1}},at=()=>{se.value=!0,Ie()};pe(()=>v,()=>{s.value&&g.value&&!i&&Ee()&&be()},{deep:!0,immediate:!0});const ut=async()=>{var y,b,$,N,S,M,D;const p=await St({orderNo:e,tenantId:l}),{code:f,data:_}=p;if(f==="10000"){const{tenantOrderHolder:C,tenantOrderInsuredList:L,extInfo:ee}=_;if(v.holder={certNo:C.certNo,certType:C.certType,mobile:C.mobile,name:C.name,socialFlag:ge.HAS},v.insured={certNo:L==null?void 0:L[0].certNo,certType:(y=L[0])==null?void 0:y.certType,name:(b=L[0])==null?void 0:b.name,socialFlag:(N=($=L[0])==null?void 0:$.extInfo)==null?void 0:N.hasSocialInsurance,relationToHolder:(S=L[0])==null?void 0:S.relationToHolder},v.paymentMethod=ee.extraInfo.paymentMethod,P.value=(D=(M=L[0])==null?void 0:M.tenantOrderProductList[0])==null?void 0:D.premium,v.renewalDK=ee.extraInfo.renewalDK?"Y":"N",V==="productDetail")return;(_.orderStatus===Se.ACCEPT_POLICY||_.orderStatus===Se.PAYMENT_SUCCESS)&&(ue.value=!0)}},nt=async()=>{const p=xt({productCode:r,withInsureInfo:!0,tenantId:l}),f=Tt({productCode:r});await Promise.all([p,f]).then(([_,y])=>{_.code==="10000"&&(s.value=_.data),y.code==="10000"&&(g.value=y.data)}),e?ut():Ee()&&be()};return Re(()=>{nt(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(p,f)=>{const _=k("van-button"),y=k("van-config-provider"),b=ht("dompurify-html");return m(),R(y,{"theme-vars":a(qe)},{default:I(()=>{var $,N,S,M;return[n("div",Fa,[n("div",ga,[n("img",{src:(N=($=s.value)==null?void 0:$.tenantProductInsureVO)==null?void 0:N.banner[0],class:"banner"},null,8,Ca),n("div",ya,[c(Fe,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:ze},{default:I(()=>{var D,C,L;return[s.value&&((D=s.value)==null?void 0:D.tenantProductInsureVO)?(m(),w("div",wa,[(m(!0),w(Y,null,W((L=(C=a(re))==null?void 0:C[q.value])==null?void 0:L.titleAndDescVOS,(ee,st)=>(m(),R(yt,{key:st,class:"guarantee-item",title:ee.title,content:ee.desc,border:!1},null,8,["title","content"]))),128))])):G("",!0)]}),_:1})])]),c($e,{class:"tabs",list:oe.value,sticky:"",scrollspy:""},{tab1:I(()=>[c(ra,{ref_key:"formRef",ref:J,"is-check":j,"holder-disable":a(ve),disable:i,"form-info":a(v),premium:P.value,"product-detail":s.value},null,8,["holder-disable","form-info","premium","product-detail"])]),tab2:I(()=>{var D,C;return[n("div",Ea,[(m(!0),w(Y,null,W(((C=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:C.spec)||[],(L,ee)=>(m(),w("img",{key:ee,src:L,class:"detail-img"},null,8,ba))),128))])]}),tab3:I(()=>[c(Fe,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:I(()=>{var D,C;return[c(bt,{list:(C=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:C.settlementProcessList},null,8,["list"])]}),_:1}),c(Fe,{title:"\u5E38\u89C1\u95EE\u9898"},{default:I(()=>{var D,C;return[c(zt,{list:(C=(D=s.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:C.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),n("div",Ia,[n("div",Ba,[Aa,n("span",null,"\uFFE5"+H(a(wt)(P.value))+"/\u6708",1)]),c(_,{type:"primary",class:"right",disabled:z.value,onClick:Ie},{default:I(()=>[K(H(i?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])]),j&&a(V)!=="payBack"?(m(),R(Da,{key:0})):G("",!0),c(Et,{show:h.value,"onUpdate:show":f[0]||(f[0]=D=>h.value=D),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:I(()=>[a(re).length>1?(m(),R($e,{key:0,list:a(re).map((D,C)=>({title:D.guaranteeType,slotName:`guarantee-${C}`})),class:"tab"},null,8,["list"])):G("",!0),n("div",Pa,[(m(!0),w(Y,null,W(a(re)[q.value].titleAndDescVOS,(D,C)=>(m(),w("div",{key:C,class:"guarantee-item"},[n("div",$a,H(D.title),1),vt(n("div",ka,null,512),[[b,D.content]])]))),128))])]),_:1},8,["show"]),c(Io,{"is-show":ue.value,premium:P.value,"attachment-list":(M=(S=s.value)==null?void 0:S.tenantProductInsureVO)==null?void 0:M.attachmentVOList,onOnConfirm:je,onOnClose:We},null,8,["is-show","premium","attachment-list"]),c(Ye,{show:ae.value,"onUpdate:show":f[1]||(f[1]=D=>ae.value=D),"content-list":a(Je).concat(a(Ge)),"active-index":le.value,onSubmit:at},null,8,["show","content-list","active-index"])]}),_:1},8,["theme-vars"])}}});var ja=ne(Va,[["__scopeId","data-v-e54e12c6"]]);export{ja as default};
