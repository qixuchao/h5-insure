import{_ as e,d as a,bx as t,ah as s,by as r,i as o,h as n,aH as u,k as l,a6 as d,bW as i,j as c,o as p,c as m,a as y,b as f,e as _,u as v,w as b,a8 as h,m as I,p as q,f as w,bX as N,ae as k,ag as C,bY as R,bZ as g,b_ as E}from"./index-fc8d0526.js";import{P as L,M as S}from"./constants-4b08cf92.js";import{c as x}from"./order-97e4e621.js";import{o as A}from"./verify-96edb4f3.js";const D={class:"page-underwrite-result-wrap"},T={class:"result-content"},j={class:"result-icon"},F={class:"result-status"},U={class:"result-desc"},$={key:0,class:"operate-btn"},W={key:1,class:"operate-btn"},G={class:"dialog-content"},V=a({name:"underwriteResult"});var Y=e(a({...V,setup(e){var a,V;const Y={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(V=s.get(`${r}_underwriteResult`))?void 0:V[t.UNDER_WRITE_FAIL]}},z=o(),H=n(),{orderNo:M,tenantId:P,underwriteStatus:X,productClass:Z}=z.query,B=u.Component,J=l((()=>Z===`${d.YES}`)),[K,O]=i(!1),Q=c(),ee=async()=>{if(J.value)return void H.push({path:L.orderList,query:{...z.query}});const{code:e,data:a}=await A({orderNo:M,tenantId:P});"10000"===e&&a&&(delete z.query.orderNo,H.push({path:L.orderList,query:{...z.query}}))},ae=()=>{O(!0)},te=()=>{N({messageType:S.AGENT,orderNo:M,tenantId:P}).then((({code:e})=>{"10000"===e&&H.push({path:L.sign,query:z.query})}))},se=()=>{x((()=>{delete z.query.orderNo,H.push({path:L.productList,query:z.query})}))},re=()=>{var e;e=()=>{O(!1),H.push({path:Q.value,query:z.query})},E({orderNo:M,tenantId:P}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},oe=()=>{O(!1),se()};return(e,a)=>{const s=k,r=C,o=R,n=g;return p(),m("div",D,[y("div",T,[y("div",j,[f(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),y("p",F,_(Y[`${v(X)}`].resultStatus),1),y("p",U,_(Y[`${v(X)}`].resultDesc),1),v(X)!==v(t).UNDER_WRITE_FAIL||v(J)?(p(),m("div",W,[f(r,{type:"primary",onClick:ee},{default:b((()=>[h("确定")])),_:1})])):(p(),m("div",$,[f(r,{type:"primary",plain:"",onClick:ae},{default:b((()=>[h("返回修改")])),_:1}),f(r,{type:"primary",onClick:te},{default:b((()=>[h("继续投保")])),_:1}),f(r,{class:"no-border",onClick:se},{default:b((()=>[h("放弃投保")])),_:1})]))]),v(K)?(p(),I(v(B),{key:0,show:v(K),"onUpdate:show":a[1]||(a[1]=e=>q(K)?K.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!v(Q),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:re,onCancel:oe},{default:b((()=>[y("div",G,[f(n,{modelValue:v(Q),"onUpdate:modelValue":a[0]||(a[0]=e=>q(Q)?Q.value=e:null)},{default:b((()=>[f(o,{name:v(L).premiumTrial},{default:b((()=>[h("保费试算页")])),_:1},8,["name"]),f(o,{name:v(L).questionNotice},{default:b((()=>[h("健康告知页")])),_:1},8,["name"]),f(o,{name:v(L).infoCollection},{default:b((()=>[h("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):w("",!0)])}}}),[["__scopeId","data-v-a5578248"]]);export{Y as default};
