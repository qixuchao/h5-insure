import{_ as e,d as t,h as a,o as l,c as s,a as n,e as i,b as o,F as d,q as c,m as r,u,an as v,aC as p,aD as m,cI as f,i as b,j as g,k as y,z as h,O as _,bb as j,w as N,p as k,di as D,a9 as I,T as x}from"./index-75b55068.js";import{_ as C}from"./index-63353a8e.js";import{L as w}from"./index-2fbcf437.js";import{I as O}from"./infoItem-58c8e424.js";import{O as S}from"./OperateBtn-b3960c1b.js";import{q as Y}from"./order-4f3cee7e.js";import"./empty-ae586b6c.js";import"./constants-fe95ef6f.js";const q={class:"com-order-item"},L={class:"header"},z={class:"product-name"},H={class:"status"},M={class:"info"},T={class:"info-bottom"},A=(e=>(p("data-v-404178c4"),e=e(),m(),e))((()=>n("div",{style:{width:"25%"}},[n("img",{src:"/static/png/tree-0f48942e.png",alt:"",style:{width:"80%"}})],-1))),B={class:"footer"};var F=e(t({__name:"item",props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup:(e,{emit:t})=>(a(),(t,a)=>{var p;return l(),s("div",q,[n("div",L,[n("div",z,i(e.detail.productName),1),n("div",H,i(e.detail.orderStatusDesc),1)]),n("div",M,[o(O,{label:"订单号",content:e.detail.orderNo,line:"","is-copy":""},null,8,["content"]),(l(!0),s(d,null,c(e.detail.applicationNo||[""],(e=>(l(),r(O,{key:e,label:"投保单号",content:e,line:"","is-copy":""},null,8,["content"])))),128)),o(O,{label:"保单号",content:e.detail.policyNo,line:"","is-copy":""},null,8,["content"]),n("div",T,[n("div",null,[o(O,{label:"投保人",content:e.detail.holderName,line:""},null,8,["content"]),o(O,{label:"被保人",content:null==(p=e.detail.insuredName)?void 0:p[0],line:""},null,8,["content"]),o(O,{label:"创建时间",content:u(v)(e.detail.orderStartDate).format("YYYY-MM-DD HH:mm:ss"),line:""},null,8,["content"]),o(O,{label:"保费：",content:`${e.detail.premium}`,line:""},null,8,["content"])]),A])]),n("div",B,[o(S,{detail:e.detail},null,8,["detail"])])])})}),[["__scopeId","data-v-404178c4"]]);const R={class:"page-order"},U=(e=>(p("data-v-6b5236f6"),e=e(),m(),e))((()=>n("div",{class:"footer"},[n("img",{src:"/static/png/logo-b728275d.png",alt:"",style:{width:"100%",height:"128px"}})],-1))),$={key:1,class:"empty-box"};var E=e(t({__name:"index",setup(e){const t=f();a();const i=b(),{type:v,tenantId:p,agentCode:m}=i.query,O=g({"-1":1,0:2,1:3,2:4}[v]||0),S=g(1),q=g(!1),L=g(!1),z=g([]);g(0),g(0),g(0);const H=[{title:"全部",status:""},{title:"待处理",status:"-1"},{title:"待支付",status:"0"},{title:"已完成",status:"1"},{title:"已失效",status:"2"}],M=y((()=>(z.value=[],H[O.value].status))),T=()=>{x.loading({message:"加载中...",forbidClick:!0}),q.value=!0,Y({condition:{orderTopStatus:M.value,tenantId:p,agentCode:m},pageSize:10,pageNum:S.value}).then((e=>{var t;q.value=!1;const{code:a,data:l}=e;"10000"===a&&l&&(1===S.value?z.value=l.datas||[]:z.value=[...z.value,...(null==(t=l.datas[0])?void 0:t.applicationResList)||[]]),L.value=!l||z.value.length>=(null==l?void 0:l.total)})).then((()=>{x.clear()}))},A=()=>{S.value+=1,T()},B=()=>{S.value=1,T()};return h(M,(()=>{S.value=1,T()})),_((()=>{T()})),(e,a)=>{const i=w,v=C,f=j;return l(),r(f,{"theme-vars":u(t)},{default:N((()=>[n("div",R,[o(D,{active:u(O),"onUpdate:active":a[0]||(a[0]=e=>k(O)?O.value=e:null),list:H,class:"tab","title-active-color":"#c41e21"},null,8,["active"]),u(z).length?(l(),r(i,{key:0,class:"body",loading:u(q),finished:u(L),onLoad:A},{default:N((()=>[(l(!0),s(d,null,c(u(z),((e,t)=>(l(),r(F,{key:t,detail:e,onClick:t=>(e=>{const{orderNo:t}=e;I("orderDetail",{orderNo:t,agentCode:m,tenantId:p})})(e),onAfterDelete:B},null,8,["detail","onClick"])))),128)),U])),_:1},8,["loading","finished"])):(l(),s("div",$,[o(v,{title:"暂无投保单","empty-class":"empty-select"})]))])])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-6b5236f6"]]);export{E as default};
