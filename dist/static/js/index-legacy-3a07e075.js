!function(){var e=document.createElement("style");e.innerHTML=".page-salesman-inform .van-cell[data-v-aa0b7408]{display:flex;align-items:center;padding:.4rem 0}.page-salesman-inform .van-cell[data-v-aa0b7408] .van-cell__title{font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:var(--zaui-aide-text-stress, #0d6efe);line-height:.56rem}.page-salesman-inform .van-cell[data-v-aa0b7408] .van-cell__value{font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#99a9c0;line-height:.56rem}.page-salesman-inform .van-cell .active[data-v-aa0b7408],.page-salesman-inform[data-v-aa0b7408] .is-active .van-cell__value span{color:#0d6efe}.page-salesman-inform .resign[data-v-aa0b7408]{font-size:.37333rem;color:var(--zaui-aide-text-stress, #0d6efe)}.page-salesman-inform .date[data-v-aa0b7408]{margin-top:.32rem;font-size:.37333rem;color:#99a9c0;line-height:.53333rem}.page-salesman-inform .inform-file[data-v-aa0b7408]{display:flex;position:absolute;bottom:2.33333rem;padding:0 .4rem}.page-salesman-inform .inform-file .tips[data-v-aa0b7408]{margin-left:.29333rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#393d46;line-height:.53333rem}.page-salesman-inform .inform-file .tips>span[data-v-aa0b7408]{color:var(--zaui-aide-text-stress, #0d6efe)}.page-salesman-inform .inform-file .next-btn[data-v-aa0b7408]{padding:.4rem 0}.page-salesman-inform .inform-file .next-btn .van-button[data-v-aa0b7408]{border-radius:.10667rem}\n",document.head.appendChild(e),System.register(["./vendor-legacy-31bd2bc4.js","./index-legacy-90e0bb46.js","./index-legacy-98e8ab87.js","./inform-legacy-989edf92.js","./index-legacy-d48edfc2.js","./useStorage-legacy-ed58314b.js","./verify-legacy-1879d4ff.js"],(function(e){"use strict";var a,t,n,i,o,l,r,s,d,c,u,f,g,m,v,p,y,b,h,C,x,_,j,P,S,D,I,T,k,L,z,q;return{setters:[function(e){a=e.g,t=e.aj,n=e.Q,i=e.E,o=e.d,l=e.M,r=e.h,s=e.r,d=e.j,c=e.k,u=e.m,f=e.p,g=e.n,m=e.G,v=e.A,p=e.F,y=e.z,b=e.J,h=e.C,C=e.T,x=e.L},function(e){_=e._,j=e.l,P=e.I,S=e.H,D=e.P},function(e){I=e.P},function(e){T=e.l},function(e){k=e.a,L=e.n},function(e){z=e.s},function(e){q=e.s}],execute:function(){const E={class:"date"},F={class:"inform-file"},N={class:"tips"},A=h(" 您的签名将被用于"),M=h("文件 "),R={class:"footer-button"},w=h("下一步"),G=a({setup(e){const a=t(),h=n(),{productCode:_="MMBBSF",agentCode:G="65434444",tenantId:Y="9991000007",agencyCode:B="3311222",insurerCode:U="zhongan",productCategory:V=1,templateId:H=1,orderNo:O="2022080217103534947"}=h.query,$=i(null),J=i(!1),Q=o().format("YYYY-MM-DD"),W=()=>{var e;null===(e=$.value)||void 0===e||e.clear()},K=l({noticeType:"",materialSource:"",noticeList:[],pageData:{}});r((()=>{k({orderNo:O,saleUserId:G,tenantId:Y}).then((({code:e,data:a})=>{"10000"===e&&(Object.assign(K.pageData,a),a.tenantOrderAttachmentList.forEach((e=>{e.category===P.ELECTRIC_SIGN&&e.objectType===S.AGENT&&$.value.setDataURL(e.fileBase64)})))})),T({insurerCode:U,orderNo:O,productCategory:V,tenantId:Y,noticeType:9,objectType:3}).then((({code:e,data:a})=>{"10000"===e&&(K.noticeList=a)}))}));const X=()=>{var e,t;if(!(K.noticeList&&K.noticeList.every((e=>1===e.isDone))))return void C("请完成所有告知进行下一步");if(null!==(e=$.value)&&void 0!==e&&e.isEmpty())return void C("请完成代理人签字进行下一步");if(!J.value)return void C("请勾选同意签名");const n=null===(t=$.value)||void 0===t?void 0:t.save();q("AGENT",n,K.pageData.id,Y).then((e=>{e&&L({...K.pageData,extInfo:{...K.pageData.extInfo,templateId:H,pageCode:"salesNotice"},venderCode:U}).then((({code:e,data:t})=>{"10000"===e&&"jumpToPage"===t.pageAction.pageAction&&a.push({path:D[t.pageAction.data.nextPageCode],query:{...h.query}})}))}))};return(e,t)=>{const n=s("van-cell"),i=s("ProSign"),o=s("van-checkbox"),l=s("van-button"),r=s("ProPageWrap");return d(),c(r,{class:"page-salesman-inform"},{default:u((()=>[f(j,{title:"营销员告知书"},{default:u((()=>[(d(!0),g(p,null,m(v(K).noticeList,(e=>(d(),c(n,{key:e.id,class:x({"is-active":2===e.isDone}),title:`《${e.title}》`,"is-link":"",value:""+(1===e.isDone?"已完成":"去完成"),onClick:t=>{return n=e,z.set("questionData",n),void a.push({path:"/healthNotice",query:{questionnaireType:n.questionnaireType,...h.query}});var n}},null,8,["class","title","value","onClick"])))),128))])),_:1}),f(j,{title:"营销员签字","show-divider":!1,"show-line":!1},{extra:u((()=>[y("div",{class:"resign",onClick:W},"重签")])),default:u((()=>[f(i,{ref_key:"agentSignRef",ref:$,selector:"sign2"},null,512),y("div",E,"签名日期： "+b(v(Q)),1)])),_:1}),y("div",F,[f(o,{modelValue:J.value,"onUpdate:modelValue":t[0]||(t[0]=e=>J.value=e),shape:"square"},null,8,["modelValue"]),y("p",N,[A,(d(!0),g(p,null,m(v(K).noticeList,((e,a)=>(d(),c(I,{key:a,class:"file",title:`《${e.title}》`},null,8,["title"])))),128)),M])]),y("div",R,[f(l,{type:"primary",block:"",onClick:X},{default:u((()=>[w])),_:1})])])),_:1})}}});e("default",_(G,[["__scopeId","data-v-aa0b7408"]]))}}}))}();
