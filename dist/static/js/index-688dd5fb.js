import{_ as e,d as t,h as a,o as l,c as s,a as n,e as i,b as o,F as d,q as c,m as r,aC as u,aD as v,cK as p,i as m,j as f,k as b,z as g,O as y,bb as h,w as _,u as j,p as N,dl as k,a9 as x,T as C}from"./index-3fe09367.js";import{_ as I}from"./index-c5fa9625.js";import{L as D}from"./index-1f35e287.js";import{I as w}from"./infoItem-2b016145.js";import{O}from"./OperateBtn-bfe8f8f8.js";import{q as S}from"./order-2de5d74c.js";import"./empty-ae586b6c.js";import"./constants-7e2ba334.js";const q={class:"com-order-item"},L={class:"header"},z={class:"product-name"},T={class:"status"},A={class:"info"},B={class:"info-bottom"},F=(e=>(u("data-v-3afe64b6"),e=e(),v(),e))((()=>n("div",{style:{width:"25%"}},[n("img",{src:"/static/png/tree-0f48942e.png",alt:"",style:{width:"80%"}})],-1))),K={class:"footer"};var R=e(t({__name:"item",props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup:(e,{emit:t})=>(a(),(t,a)=>{var u;return l(),s("div",q,[n("div",L,[n("div",z,i(e.detail.productName),1),n("div",T,i(e.detail.orderStatusDesc),1)]),n("div",A,[o(w,{label:"订单号",content:e.detail.orderNo,line:"","is-copy":""},null,8,["content"]),(l(!0),s(d,null,c(e.detail.applicationNo||[""],(e=>(l(),r(w,{key:e,label:"投保单号",content:e,line:"","is-copy":""},null,8,["content"])))),128)),o(w,{label:"保单号",content:e.detail.policyNo,line:"","is-copy":""},null,8,["content"]),n("div",B,[n("div",null,[o(w,{label:"投保人",content:e.detail.holderName,line:""},null,8,["content"]),o(w,{label:"被保人",content:null==(u=e.detail.insuredName)?void 0:u[0],line:""},null,8,["content"]),o(w,{label:"创建时间",content:e.detail.orderStartDate,line:""},null,8,["content"]),o(w,{label:"保费：",content:`${e.detail.premium}`,line:""},null,8,["content"])]),F])]),n("div",K,[o(O,{detail:e.detail},null,8,["detail"])])])})}),[["__scopeId","data-v-3afe64b6"]]);const U={class:"page-order"},$=(e=>(u("data-v-6b5236f6"),e=e(),v(),e))((()=>n("div",{class:"footer"},[n("img",{src:"/static/png/logo-b728275d.png",alt:"",style:{width:"100%",height:"128px"}})],-1))),E={key:1,class:"empty-box"};var G=e(t({__name:"index",setup(e){const t=p();a();const i=m(),{type:u,tenantId:v,agentCode:w}=i.query,O=f({"-1":1,0:2,1:3,2:4}[u]||0),q=f(1),L=f(!1),z=f(!1),T=f([]);f(0),f(0),f(0);const A=[{title:"全部",status:""},{title:"待处理",status:"-1"},{title:"待支付",status:"0"},{title:"已完成",status:"1"},{title:"已失效",status:"2"}],B=b((()=>(T.value=[],A[O.value].status))),F=()=>{C.loading({message:"加载中...",forbidClick:!0}),L.value=!0,S({condition:{orderTopStatus:B.value,tenantId:v,agentCode:w},pageSize:10,pageNum:q.value}).then((e=>{var t;L.value=!1;const{code:a,data:l}=e;"10000"===a&&l&&(1===q.value?T.value=l.datas||[]:T.value=[...T.value,...(null==(t=l.datas[0])?void 0:t.applicationResList)||[]]),z.value=!l||T.value.length>=(null==l?void 0:l.total)})).then((()=>{C.clear()}))},K=()=>{q.value+=1,F()},G=()=>{q.value=1,F()};return g(B,(()=>{q.value=1,F()})),y((()=>{F()})),(e,a)=>{const i=D,u=I,p=h;return l(),r(p,{"theme-vars":j(t)},{default:_((()=>[n("div",U,[o(k,{active:j(O),"onUpdate:active":a[0]||(a[0]=e=>N(O)?O.value=e:null),list:A,class:"tab","title-active-color":"#c41e21"},null,8,["active"]),j(T).length?(l(),r(i,{key:0,class:"body",loading:j(L),finished:j(z),onLoad:K},{default:_((()=>[(l(!0),s(d,null,c(j(T),((e,t)=>(l(),r(R,{key:t,detail:e,onClick:t=>(e=>{const{orderNo:t}=e;x("orderDetail",{orderNo:t,agentCode:w,tenantId:v})})(e),onAfterDelete:G},null,8,["detail","onClick"])))),128)),$])),_:1},8,["loading","finished"])):(l(),s("div",E,[o(u,{title:"暂无投保单","empty-class":"empty-select"})]))])])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-6b5236f6"]]);export{G as default};
