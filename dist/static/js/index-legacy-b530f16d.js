System.register(["./index-legacy-b3b7dca5.js","./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-legacy-18a28f6f.js","./isObjectLike-legacy-7cedb542.js","./_nodeUtil-legacy-acbb75ec.js"],(function(e){"use strict";var t,a,l,i,o,r,d,n,s,u,m,c,f,p,v,y,h,V,g,b,_,N,C,$,S,w,D,A,O,k,P,M,x,E,T,F,R,j,Y,I,B,H,L,Z,z,U,q,W,G,X,K,J,Q,ee,te,ae,le,ie,oe,re,de,ne,se,ue,me,ce;return{setters:[function(e){t=e.cb,a=e.cc,l=e.cd,i=e.a9,o=e.D,r=e.ah,d=e.bD,n=e._,s=e.d,u=e.bj,m=e.J,c=e.r,f=e.ba,p=e.E,v=e.an,y=e.ce,h=e.c,V=e.e,g=e.w,b=e.g,_=e.h,N=e.F,C=e.i,$=e.cf,S=e.b1,w=e.bt,D=e.bk,A=e.k,O=e.T,k=e.aW,P=e.cg,M=e.b8,x=e.G,E=e.j,T=e.t,F=e.y,R=e.R,j=e.n,Y=e.aG,I=e.s,B=e.ax,H=e.f,L=e.S,Z=e.ch,z=e.a7,U=e.a8,q=e.ad,W=e.ci,G=e.cj,X=e.b9,K=e.bW,J=e.B,Q=e.L,ee=e.P},function(e){te=e.R,ae=e.M,le=e.C,ie=e.G,oe=e.V,re=e.a,de=e.l,ne=e.I},function(e){se=e.i,ue=e.b},function(e){me=e.n,ce=e.b}],execute:function(){var fe=Object.freeze(Object.defineProperty({__proto__:null,get ProRenderForm(){return we},get ProFieldV2(){return Ae},get ProRadioV2(){return Ee},get ProPickerV2(){return Ie},get ProCalendarV2(){return Le},get ProCascaderV2(){return Ze},get ProDatePickerV2(){return Ue},get ProSMSCode(){return qe},get ProAddress(){return We},get ProRenderFormWithCard(){return Ge}},Symbol.toStringTag,{value:"Module"}));const pe=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;function ve(e){if(!pe.test(e))return!1;if(18!==e.length)return!0;const t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];let a=0;for(let o=0;o<17;o++)a+=Number(e.substring(o,o+1))*t[o];const l=a%11,i=e.substring(17);return 2===l?"X"===i||"x"===i:i===String([1,0,10,9,8,7,6,5,4,3,2][l])}const ye={isName:e=>/^[\u4e00-\u9fa5a-z].{0,23}[\u4e00-\u9fa5a-z]/i.test(e),isExternal:e=>/^(https?:|mailto:|tel:)/.test(e),isEmail:e=>/^[A-Za-z0-9]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e),isZipCode:e=>/^[0-9]{6,6}$/.test(e),isTel:e=>/0\d{2,3}-\d{7,8}/.test(e),isPhone:e=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e),isZhCN:e=>/^[\u4e00-\u9fa5]+$/.test(e),isNotZhCN:e=>/^[^\u4e00-\u9fa5]+$/.test(e),isCommonChar:e=>/^[\w_]{6,20}$/.test(e),isNormalChar:e=>/^[\u4e00-\u9fa5a-zA-Z0-9]+$/.test(e),isAlphabetNumber:e=>/^[a-z0-9]+$/i.test(e),isAlphabetNumberOrSpecial:e=>/^[a-z0-9`~!@#$%^&*()_\-+=<>?:"{}|,./;'\\[\]·~！@#￥¥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]+$/i.test(e),isIdCardNo:e=>ve(e),isHouseHold:e=>ve(e),isBirthType:e=>/^[a-zA-Z]\d{9}$/.test(e),isPassword:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,20}$/.test(e),isPassportType:e=>e.length>=5&&/^[^\u4e00-\u9fa5]+$/.test(e),isMilitaryCard:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isSolider:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isHongkongMacaoTravel:e=>/^[C]\d{8}$|^[C][a-hA-Hj-nJ-Np-zP-Z][0-9]{7}$/.test(e),isTaiwanTravel:e=>/^[L]\d{8}$/.test(e),isForeignPermanent:e=>/^[A-Z]{3}[0-9]{12}$/.test(e),isHKMacaoResidencePermit:e=>/^8[12]0000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isTaiwanResidencePermit:e=>/^830000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isUSCC:e=>/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/.test(e),isUSCCPolicy:e=>/^[A-Z0-9]{18}$/.test(e),isOCC:e=>/^[A-Z0-9]{8}-[A-Z0-9]{1}$/.test(e),isBusinessLicense:e=>/(^\d{15}$)|(^[A-Z0-9]{18}$)/.test(e),isBandcard:e=>/^\d{12,20}$/g.test(e),isOtherCert:e=>/^.{1,18}$/.test(e)},he={[te.NAME]:[ye.isName],[te.EXTERNAL]:[ye.isExternal],[te.EMAIL]:[ye.isEmail],[te.ZIP_CODE]:[ye.isZipCode],[te.TEL]:[ye.isTel],[te.MOBILE]:[ye.isPhone],[te.ZH_CN]:[ye.isZhCN],[te.NOT_ZH_CN]:[ye.isNotZhCN],[te.NORMAL_CHAR]:[ye.isNormalChar],[te.ALPHABET_NUMBER]:[ye.isAlphabetNumber],[te.CERT]:[ye.isIdCardNo],[te.HOUSE_HOLD]:[ye.isHouseHold],[te.BIRTH]:[ye.isBirthType],[te.PASSPORT]:[ye.isPassportType],[te.MILITARY_CARD]:[ye.isMilitaryCard],[te.SOLIDER]:[ye.isSolider],[te.HONGKONG_MACAO]:[ye.isHongkongMacaoTravel],[te.TAIWAN_TRAVEL]:[ye.isTaiwanTravel],[te.FOREIGN_PERMANENT]:[ye.isForeignPermanent],[te.HK_MACAO_RESIDENCE_PERMIT]:[ye.isHKMacaoResidencePermit],[te.TAIWAN_RESIDENCE_PERMIT]:[ye.isTaiwanResidencePermit],[te.SOCIAL_CREDIT_CODE]:[ye.isUSCCPolicy],[te.OCC]:[ye.isOCC],[te.BUSINESS_LICENSE]:[ye.isBusinessLicense],[te.BAND_CARD]:[ye.isBandcard],[te.OTHER_CERT]:[ye.isOtherCert]},Ve=(e("c",(e=>(e?`${e.toUpperCase()}_`:"")+"OCCUPATION")),["v-model","label","name","id","type","size","maxlength","placeholder","border","disabled","readonly","colon","required","center","clearable","clear-icon","clear-trigger","clickable","is-link","autofocus","show-word-limit","error","error-message","error-message-align","formatter","format-trigger","arrow-direction","label-class","label-width","label-align","input-align","autosize","left-icon","right-icon","icon-prefix","rules","autocomplete","enterkeyhint","visible"]),ge=["label","input","left-icon","right-icon","button","error-message","extra"],be={autocomplete:"off"},_e=(e,t="children")=>l(e)?e.map((({[`${t}`]:e,...a})=>{const i={};return l(e)&&(i.children=_e(e)),{...a,...i}})):[],Ne=(e,t,a={})=>{const i=Object.keys(e);return l(i)?i.reduce(((a,l)=>{const i=t.includes(l);return a[Number(!i)][l]=e[l],a}),[{...a},{}]):[{...a},{}]},Ce=(e("t",((e,t=!1)=>{if(!e)return[];const a=Object.keys(e)||[];if(!l(a))return[];const{holder:r,insured:d,beneficiary:n,payInfo:s}=a.reduce(((a,i)=>(a[ae[i]]=l(e[i])?e[i].filter((e=>!t||1===e.isCalculationFactor)):[],a)),{}),u=l(r)?r.map((e=>e.code)):[],m=l(d)?d.map((e=>({...e,isSelfInsuredNeed:!u.includes(e.code)}))):[];return console.log("origin factors",r,d,n),[r,m,n,s].map((e=>(e=>{let t=[];const a=[];return l(e)&&(t=e.map((e=>{const{code:t,name:l,value:r,componentName:d,...n}=le.find((t=>`${t.value}`==`${e.displayType}`))||{};e.isCalculationFactor===i.YES&&a.push(e.code);const s={},{componentName:u,...m}=ie[e.code]||{},c=u||d||"ProFieldV2";2===e.moduleType&&(s.isSelfInsuredNeed=e.isSelfInsuredNeed);const f={...n,...s,customFieldName:{text:"value",value:"code",children:"children"},label:e.title,name:e.code,componentName:c,required:1===e.isMustInput,nanoid:o(),...m};return{...f,attributeValueList:e.attributeValueList,columns:f.dictCode?[]:e.attributeValueList||[]}}))),{schema:t,trialFactorCodes:a}})(e)))})),(e,t={})=>Object.keys(e).reduce(((e,a)=>(e[t[a]||a]=a,e)),{})),$e={certNo:{onChangeEffect:(e,t)=>{Object.assign(t.formData,{certNo:"",gender:"",birthday:""})}},certType:{extraAttrs:{4:{maxlength:10}},onChangeEffect:(e,t)=>{if([r.CERT,r.HOUSE_HOLD].includes(t.formData.certType)){const a=(e=>{const t={gender:"",birthday:""};if("string"==typeof e&&e&&ve(e)){const a={15:[6,12],18:[6,14]};t.birthday=e.slice(...a[e.length]).replace(/(.{4})(.{2})/,"$1-$2-"),t.gender=[d.FEMALE,d.MALE][Number(e.slice(-2,-1))%2]}return t})(e);Object.assign(t.formData,a)}}}},Se=s({__name:"ProRenderForm",props:{validateMethod:{default:"show-error"},model:{default:()=>({})},isView:{type:Boolean,default:!1},schema:{default:()=>[]},config:{default:()=>({})},markRequired:{type:Boolean,default:!1}},emits:["failed"],setup(e,{expose:i,emit:o}){const r=e,d=u(),n=m({config:{},formData:{},schema:[],nameList:[],isView:r.isView}),s=c({});f(oe,{formState:n,formRef:s,markRequired:r.markRequired});const P=p((()=>Object.keys(d).filter((e=>"default"!==e)))),M=p((()=>l(r.schema))),x=p((()=>{const[e,t]={toast:[!1,!1],"show-error":[!1,!0],"show-error-message":[!0,!1]}[r.validateMethod];return{"show-error-message":e,"show-error":t}})),E=({values:e,errors:t})=>{if("toast"===r.validateMethod){const e=t.reduce(((e,t)=>(e[t.name]=t,e)),{}),a=Object.keys(e);if(a.length){const t=n.nameList.reduce(((e,t)=>(a.includes(t)&&e.push(t),e)),[]),{message:l}=e[t[0]]||{};O({message:l})}}console.log("failed errors",t),o("failed",{values:e,errors:t})};v([()=>r.schema,()=>r.config],(([e,t])=>{n.config=t,M.value&&(n.schema=e.map((e=>({...e,modelValue:r.model[e.name],componentName:fe[e.componentName]?y(fe[e.componentName]):e.componentName,...t[e.name]}))).filter((e=>!e.hidden)))}),{immediate:!0,deep:!0});const T=p((()=>[...new Set(n.schema.reduce(((e,t)=>(t.dictCode&&e.push(t.dictCode),e)),[]))]));return v(T,(e=>{e&&(async e=>{const l=t(),{dictMap:i}=a(l);"string"==typeof e?(await l.getDict([e]),i.value[e]):(await l.getDict(e),e.map((e=>i.value[e])))})(e)}),{immediate:!0,deep:!0}),v((()=>r.model),(e=>{e&&(n.formData=e)}),{immediate:!0,deep:!0}),i({...["submit","getValues","validate","resetValidation","getValidationStatus","scrollToField"].reduce(((e,t)=>(e[t]=(...e)=>{var a;return null===(a=s.value)||void 0===a?void 0:a[t](...e)},e)),{})}),(e,t)=>{const a=k;return h(),V(a,S({ref_key:"formRef",ref:s,class:"com-van-form"},{...b(x),...e.$attrs},{onFailed:E}),{default:g((()=>[b(M)?(h(!0),_(N,{key:0},C(n.schema,((t,a)=>(h(),V($(t.componentName),S({key:`${t.nanoid}_${a}`},t),w({_:2},[C(b(P),(t=>({name:t,fn:g((()=>[D(e.$slots,t,{},void 0,!0)]))})))]),1040)))),128)):A("",!0),D(e.$slots,"default",{},void 0,!0)])),_:3},16)}}});var we=e("g",n(Se,[["__scopeId","data-v-36f26087"]]));const De={class:"com-van-field-unit"},Ae=e("a",s({inheritAttrs:!1,__name:"ProFieldV2",props:{ruleType:{type:String,default:""},modelValue:{type:[String,Number,Object,Array,Boolean],default:""},isView:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rules:{type:Array,default:()=>[]},relatedName:{type:String,default:""},precision:{type:Number,default:0},isPrecisionCompleted:{type:Boolean,default:!1},unit:{type:String,default:""}},emits:["update:model-value","blur"],setup(e,{emit:t}){const a=e,i=P(),o=u(),{formState:r,markRequired:d}=M(oe)||{},n=m({modelValue:""}),s=p((()=>{const e=Ce(o,i.slots),{extra:t,...l}=e;return a.unit?l:e})),c=p((()=>i.placeholder||`请输入${i.label||""}`)),f=p((()=>{if(a.ruleType)return a.ruleType;if(a.relatedName){var e;const l=null==r||null===(e=r.formData)||void 0===e?void 0:e[a.relatedName];var t;if(l)return null===(t=re[a.relatedName])||void 0===t?void 0:t[l]}return""})),y=p((()=>l(a.rules)?a.rules:[{required:a.required,validator:e=>{if(de.exports.isNil(e)||""===e)return a.required?i.placeholder:"";if(f.value){const[t]=he[f.value]||[];if("function"!=typeof t)return console.warn(`%c 字段 ${i.label} 的规则 ${f} 校验函数不存在，请先确认～`,"color: #3e7;"),"";if(!t(e))return`请输入正确的${i.label}`}return""}}])),_=p((()=>"number"===i.type&&a.precision)),N=e=>_.value&&e?e.replace(/^(0)\d+$/g,"$1").replace(new RegExp(`^(\\d+\\.\\d{${a.precision}})\\d+$`,"g"),"$1"):e,$=p((()=>{if(a.relatedName){var e;const{extraAttrs:t}=$e[a.relatedName]||{},l=null==r||null===(e=r.formData)||void 0===e?void 0:e[a.relatedName];if(t&&!de.exports.isNil(l)&&""!==l)return t[l]||{}}return{}})),A=(e,t)=>{if(a.relatedName&&e){const l=($e[a.relatedName]||{})[`${e}Effect`];"function"==typeof l&&l(t,r)}},O=e=>{A("onChange",e),r.formData&&i.name&&(r.formData[i.name]=e),n.modelValue=e,t("update:model-value",e)},k=e=>{let l=n.modelValue;_.value&&l&&a.isPrecisionCompleted&&(l=Number(l).toFixed(a.precision),O(l)),A("onBlur",l),t("blur",e)};return v((()=>a.modelValue),(e=>{n.modelValue=e}),{immediate:!0,deep:!0}),v((()=>{var e;return null==r||null===(e=r.formData)||void 0===e?void 0:e[i.name]}),(e=>{n.modelValue=e}),{immediate:!0,deep:!0}),x((()=>{i.name&&r.nameList&&r.nameList.push(i.name)})),(t,a)=>{const l=F;return h(),V(l,S({"model-value":b(n).modelValue,class:`com-van-field ${b(d)?"":"field-mark_hidden"} ${b(i).visible?"com-van-field--hidden":""}`,autocomplete:"off",formatter:N},{...t.$attrs,placeholder:b(c),required:e.required,rules:b(y),...b($)},{onBlur:k,"onUpdate:modelValue":O}),w({_:2},[C(Object.keys(b(s)),(e=>({name:e,fn:g((()=>[D(t.$slots,b(s)[e])]))}))),e.unit?{name:"extra",fn:g((()=>[E("div",De,T(e.unit),1)])),key:"0"}:void 0]),1040,["model-value","class"])}}}));function Oe(e){return null==e}const ke={input:"请输入",select:"请选择"};function Pe({placeholderType:e}={placeholderType:"select"}){const t=P(),a=u(),[l,i]=(e=>Ne(e,Ve,be))(t),[o,r]=(e=>Ne(e,ge))(Ce(a,t.slots)),d=p((()=>t.placeholder||`${ke[e]}${t.label||""}`));return{filedAttrs:{...l,placeholder:d.value},filedSlots:o,attrs:{title:l.label,...i},slots:r}}const Me={key:0},xe=s({inheritAttrs:!1,__name:"ProRadioV2",props:{type:{type:String,default:"button"},modelValue:{type:[String,Number],default:""},columns:{type:Array,default:()=>[]},isDefaultSelected:{type:Boolean,default:!0},isView:{type:Boolean,default:!1},customFieldName:{type:Object,default:()=>({text:"label",value:"value",children:"children"})}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{filedAttrs:i,attrs:o}=Pe(),{formState:r}=M(oe)||{},d=m({modelValue:"",columns:[]}),n=p((()=>"button"===a.type)),s=p((()=>(d.columns.find((e=>e.value===d.modelValue))||{}).label||"")),u=e=>{null!=r&&r.formData&&i.name&&(r.formData[i.name]=e),d.modelValue=e,t("update:modelValue",e)};return v((()=>a.modelValue),(e=>{d.modelValue=e}),{immediate:!0}),v((()=>{var e;return null===(e=r.formData)||void 0===e?void 0:e[i.name]}),(e=>{d.modelValue=e}),{immediate:!0,deep:!0}),v((()=>a.columns),((e=[])=>{if(l(e)){d.columns=e.map((e=>({...e,text:e[a.customFieldName.text],value:e[a.customFieldName.value]})));const[{disabled:t,value:l}]=d.columns;!a.isDefaultSelected||t||!Oe(a.modelValue)&&""!==a.modelValue||u(l)}}),{deep:!0,immediate:!0}),(t,a)=>{const l=Y,r=R,m=I;return h(),V(Ae,S({class:"com-van-radio-wrap"},b(i),{"model-value":b(d).modelValue}),{input:g((()=>[e.isView?(h(),_("div",Me,T(b(s)),1)):(h(),_(N,{key:1},[b(n)?(h(!0),_(N,{key:0},C(b(d).columns,(e=>(h(),V(l,{key:e.value,label:e.text,disabled:e.disabled,activated:b(d).modelValue==e.value,"icon-name":e.iconName,onClick:t=>(({disabled:e,value:t})=>{o.disabled||e||u(t)})(e)},null,8,["label","disabled","activated","icon-name","onClick"])))),128)):(h(),V(m,S({key:1,modelValue:b(d).modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>b(d).modelValue=e)},b(o)),{default:g((()=>[(h(!0),_(N,null,C(b(d).columns,(e=>(h(),V(r,S({key:e.value,name:e.value},e),{default:g((()=>[j(T(e.label),1)])),_:2},1040,["name"])))),128))])),_:1},16,["modelValue"]))],64))])),_:1},16,["model-value"])}}});var Ee=e("b",n(xe,[["__scopeId","data-v-9871787c"]]));const Te={style:{width:"100%"},class:"input"},Fe={key:0,class:"displayValue"},Re={key:1,class:"placeholder"},je=s({inheritAttrs:!1,__name:"CustomInput",props:{fieldValueView:{type:String,default:""},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup(e){const t=e,a=P(),{formState:l}=M(oe)||{};return B((()=>(null!=l&&l.formData&&a.name&&(l.formData[a.name]=t.modelValue),t.modelValue))),(t,a)=>(h(),_("div",Te,[e.fieldValueView?(h(),_("span",Fe,T(e.fieldValueView),1)):(h(),_("span",Re,T(t.$attrs.placeholder),1))]))}}),Ye=s({__name:"ProFormItem",props:{fieldValueView:{type:String,default:""},isView:{type:Boolean,default:!1},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup:e=>(t,a)=>(h(),V(Ae,{class:"com-form-item","is-link":!e.isView},w({input:g((()=>[H(je,{name:t.$attrs.name,"model-value":e.modelValue,"field-value-view":e.fieldValueView,placeholder:t.$attrs.placeholder},null,8,["name","model-value","field-value-view","placeholder"])])),_:2},[C(Object.keys(t.$slots),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1032,["is-link"]))}),Ie=e("f",s({inheritAttrs:!1,__name:"ProPickerV2",props:{relatedName:{type:String,default:""},columns:{type:Array,default:()=>[]},dictCode:{type:String,default:""},modelValue:{type:[String,Number],default:""},isDefaultSelected:{type:Boolean,default:!0},isView:{type:Boolean,default:!1},customFieldName:{type:Object,default:()=>({text:"label",value:"value",children:"children"})}},emits:["update:show","confirm","cancel","update:modelValue"],setup(e,{emit:i}){const o=e,r=t(),{dictMap:d}=a(r),{filedAttrs:n,filedSlots:s,attrs:u,slots:c}=Pe(),{formState:f}=M(oe)||{},[y,V]=L(!1),$=m({fieldValue:"",columns:[]}),A=e=>{((e,t)=>{if(o.relatedName&&e){const a=($e[o.relatedName]||{})[`${e}Effect`];"function"==typeof a&&a(t,f)}})("onChange",e),$.fieldValue=e,i("update:modelValue",e)},O=e=>{const{value:t}=e||{};let a="";Oe(t)||(a=t),V(!1),A(a),i("confirm",e)},k=()=>{V(!1)},P=p((()=>{let e=[];l(o.columns)&&(e=o.columns);const t=d.value[o.dictCode];return o.dictCode&&l(t)&&(e=t),_e(l(a=e)?a.map((e=>({...e,text:e[o.customFieldName.text],value:e[o.customFieldName.value]}))):[]);var a})),x=p((()=>o.modelValue?o.columns.findIndex((e=>{var t;return e[null===(t=o.customFieldName)||void 0===t?void 0:t.values]===o.modelValue})):"")),E=p((()=>{if(l(P.value)){const e=P.value.find((e=>String(e.value)===String($.fieldValue)))||{};return(null==e?void 0:e.text)||$.fieldValue}return $.fieldValue}));return v((()=>o.modelValue),(e=>{$.fieldValue=e}),{deep:!0,immediate:!0}),v((()=>{var e;return null==f||null===(e=f.formData)||void 0===e?void 0:e[n.name]}),(e=>{$.fieldValue=e}),{immediate:!0,deep:!0}),v(P,((e=[])=>{if(l(e)&&1===e.length){const[{disabled:e,value:t}]=P.value;!o.isDefaultSelected||e||!Oe(o.modelValue)&&""!==o.modelValue||A(t)}}),{deep:!0,immediate:!0}),(t,a)=>{const l=Z,i=U;return h(),_(N,null,[H(Ye,S({"model-value":b($).fieldValue,class:b(n).visible?"com-van-field--hidden":""},b(n),{"field-value-view":b(E),onClick:a[0]||(a[0]=t=>!e.isView&&(y.value=!0))}),w({_:2},[C(Object.keys(b(s)),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040,["model-value","class","field-value-view"]),H(i,{show:b(y),"onUpdate:show":a[1]||(a[1]=e=>z(y)?y.value=e:null),height:40,closeable:!1},{default:g((()=>[H(l,S({columns:b(P),"default-index":b(x),title:b(n).label},b(u),{onCancel:k,onConfirm:O}),w({_:2},[C(Object.keys(t.$slots),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040,["columns","default-index","title"])])),_:3},8,["show"])],64)}}}));var Be=me&&me.isDate,He=Be?ce(Be):function(e){return se(e)&&"[object Date]"==ue(e)};const Le=s({inheritAttrs:!1,__name:"ProCalendarV2",props:{type:{type:String,default:"single"},valueType:{type:String,default:"date"},modelValue:{type:[String,Date],default:""},isView:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{filedAttrs:i,filedSlots:o,attrs:r,slots:d}=Pe(),n=m({fieldValue:"",defaultDate:null}),[s,u]=L(!1),c={date:"YYYY-MM-DD",datehour:"YYYY-MM-DD HH",datetime:"YYYY-MM-DD HH:mm"},f=p((()=>c[a.valueType]||"YYYY-MM-DD")),y=p((()=>l(n.fieldValue)?n.fieldValue.join("range"===a.type?"~":","):"string"==typeof n.fieldValue?n.fieldValue:"")),V=e=>{let i;i="single"===a.type?q(e).format(f.value):l(e)?e.map((e=>q(e).format(f.value))):[],n.fieldValue=i,t("update:modelValue",i),u(!1)};return v((()=>a.modelValue),(e=>{"single"===a.type?"string"==typeof e&&e&&(n.defaultDate=q(e).toDate()):n.defaultDate=l(e)?e.map((e=>q(e).toDate())):null,n.fieldValue=(e=>"single"===a.type?He(e)?q(e).format(f.value):e||"":l(e)?e:[])(e)}),{immediate:!0,deep:!0}),(t,a)=>{const l=W;return h(),_(N,null,[H(Ye,S({"model-value":b(n).fieldValue},b(i),{"field-value-view":b(y),onClick:a[0]||(a[0]=t=>!e.isView&&(s.value=!0))}),w({_:2},[C(Object.keys(b(o)),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040,["model-value","field-value-view"]),H(l,S({show:b(s),"onUpdate:show":a[1]||(a[1]=e=>z(s)?s.value=e:null),type:e.type,"default-date":b(n).defaultDate},b(r),{onConfirm:V}),w({_:2},[C(Object.keys(b(d)),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040,["show","type","default-date"])],64)}}}),Ze=e("d",s({inheritAttrs:!1,__name:"ProCascaderV2",props:{showFullValue:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object],default:""},columns:{type:Array,default:()=>[]},dictCode:{type:String,default:""},customFieldName:{type:Object,default:()=>({text:"name",value:"code",children:"children"})},level:{type:Number,default:0}},emits:["update:modelValue","update:fullValue"],setup(e,{emit:i}){const o=e,r=t(),{dictMap:d}=a(r),{filedAttrs:n,filedSlots:s,attrs:u,slots:c}=Pe(),[f,y]=L(!1),V=m({columns:[],modelValue:"",fieldValue:""}),$=()=>{y(!0)},A=()=>{y(!1)},O=p((()=>{let e=[];l(o.columns)&&(e=o.columns);const t=d.value[o.dictCode];return o.dictCode&&l(t)&&(e=t),((e,t=0,a="children")=>{const i=(e,o=1)=>l(e)?e.map((({[`${a}`]:e,...r})=>{const d={};return(!t||t&&t>o)&&l(e)&&(d.children=i(e,o+1)),{...r,...d}})):[];return i(e)})(e,o.level)})),k=p((()=>((e,t)=>{const a=[],{value:i,children:r}=o.customFieldName,d=(e,o=0)=>!!l(e)&&e.some(((e,n)=>{const{[r]:s,...u}=e;return a[o]=u,e[i]===t||!!l(s)&&d(s,o+1)}));return l(e)&&!d(e)?[]:a})(O.value,V.modelValue))),P=p((()=>{if(l(k.value)){const e=k.value.map((e=>e[o.customFieldName.text]));return o.showFullValue?e.join("/"):e[e.length-1]}return""})),M=({value:e,selectedOptions:t})=>{V.modelValue=e,V.fieldValue=e,i("update:modelValue",e),A()};return v((()=>o.modelValue),(e=>{V.modelValue=e}),{immediate:!0,deep:!0}),v((()=>k.value),(e=>{i("update:fullValue",e)}),{deep:!0,immediate:!0}),(t,a)=>{const l=G,i=U;return h(),_(N,null,[H(Ye,S({"model-value":b(V).fieldValue},b(n),{"field-value-view":b(P),onClick:$}),w({_:2},[C(Object.keys(b(s)),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040,["model-value","field-value-view"]),H(i,{show:b(f),"onUpdate:show":a[0]||(a[0]=e=>z(f)?f.value=e:null),height:60,closeable:!1,class:"com-cascader-popup"},{default:g((()=>[H(l,S({options:b(O),"field-names":e.customFieldName,"model-value":b(V).modelValue},b(u),{onClose:A,onFinish:M}),null,16,["options","field-names","model-value"])])),_:1},8,["show"])],64)}}})),ze=s({inheritAttrs:!1,__name:"ProDatePickerV2",props:{type:{type:String,default:"date"},modelValue:{type:[String,Date],default:""},isView:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:modelValue","cancel"],setup(e,{emit:t}){const a=e,{filedAttrs:l,filedSlots:i,attrs:o,slots:r}=Pe(),{formState:d}=M(oe)||{},[n,s]=L(!1),u=p((()=>!["time","month-day"].includes(a.type))),c=m({fieldValue:"",date:u.value?new Date:null}),f={datetime:"YYYY-MM-DD HH:mm",date:"YYYY-MM-DD","year-month":"YYYY-MM","month-day":"MM-DD",datehour:"YYYY-MM-DD HH",time:"mm:ss"},y=p((()=>({minDate:new Date(1900,0,1),maxDate:new Date}))),V=p((()=>f[a.type]||"YYYY-MM-DD HH:mm")),$=e=>{c.fieldValue=He(e)?q(e).format(V.value):e,t("update:modelValue",c.fieldValue),s(!1)},A=()=>{s(!1),t("cancel")},O=e=>{He(e)?(c.date=e,c.fieldValue=q(e).format(V.value)):"string"==typeof e&&(c.fieldValue=e,u.value?c.date=q(e,V.value).isValid()?q(e,V.value).toDate():null:c.date=e)};return v((()=>a.modelValue),(e=>{O(e)}),{immediate:!0,deep:!0}),v((()=>{var e;return null===(e=d.formData)||void 0===e?void 0:e[l.name]}),(e=>{O(e)}),{immediate:!0,deep:!0}),(t,a)=>{const d=X,s=U;return h(),_(N,null,[H(Ye,S({"model-value":b(c).fieldValue},b(l),{"field-value-view":b(c).fieldValue,onClick:a[0]||(a[0]=t=>!e.isView&&(n.value=!0))}),w({_:2},[C(Object.keys(b(i)),(e=>({name:e,fn:g((()=>[D(t.$slots,e,{},void 0,!0)]))})))]),1040,["model-value","field-value-view"]),H(s,{show:b(n),"onUpdate:show":a[1]||(a[1]=e=>z(n)?n.value=e:null),height:40,closeable:!1},{default:g((()=>[H(d,S({type:e.type,"model-value":b(c).date,title:b(l).label},{...b(y),...b(o)},{onConfirm:$,onCancel:A}),w({_:2},[C(Object.keys(b(r)),(e=>({name:e,fn:g((()=>[D(t.$slots,e,{},void 0,!0)]))})))]),1040,["type","model-value","title"])])),_:3},8,["show"])],64)}}});var Ue=e("h",n(ze,[["__scopeId","data-v-ad0ed790"]])),qe=e("P",n(s({__name:"ProSMSCode",props:{time:{type:Number,default:60},smsText:{type:String,default:"验证码"},relatedName:{type:String,default:"mobile"},sendSMSCode:{type:Function,default:e=>{"function"==typeof e&&e()}}},setup(e){const t=e,{formState:a,formRef:l}=M(oe)||{},i=m({iscountdowning:!1}),{current:o,start:r,reset:d}=K({time:1e3*t.time,onFinish(){i.iscountdowning=!1}}),n=()=>{i.iscountdowning||l.value.validate(t.relatedName).then((()=>{t.sendSMSCode({mobile:a.formData[t.relatedName]},(()=>{i.iscountdowning=!0,O({message:"短信发送成功，请查收"}),d(),r()}))})).catch((()=>{}))},s=p((()=>{const{seconds:e}=o.value||{};return 0===e?t.smsText:i.iscountdowning?`${e}s`:t.smsText}));return(e,t)=>{const a=J;return e.$attrs.isView?A("",!0):(h(),V(Ae,S({key:0,class:"com-pro-sms-code",type:"digit",maxlength:b(ne).SMS_CODE},e.$attrs),{extra:g((()=>[H(a,{class:"extra-button",size:"small",plain:"",type:"primary",onClick:n},{default:g((()=>[j(T(b(s)),1)])),_:1})])),_:1},16,["maxlength"]))}}}),[["__scopeId","data-v-b4ef4f7e"]])),We=e("e",n(s({inheritAttrs:!1,__name:"ProAddress",props:{name:{type:String,default:""},customFieldName:{type:Object,default:()=>({text:"name",value:"code",children:"children"})},valuePrefix:{type:String,default:""},attributeValueList:{type:Array,default:()=>[]}},setup(e){const t=e,a=m({address:{detail:""}}),i=p((()=>t.valuePrefix?Object.keys(a.address).reduce(((e,l)=>(e[(e=>{return"string"==typeof e&&e?t.valuePrefix?`${t.valuePrefix}${a=e,"string"==typeof a&&a?`${a[0].toUpperCase()}${a.substring(1)}`:""}`:e:"";var a})(l)]=a.address[l],e)),{}):a.address)),o=p((()=>{if(l(t.attributeValueList)){let e=0,a=!1;return t.attributeValueList.forEach((t=>{Number(t.code)>e&&"4"!==String(t.code)&&(e=Number(t.code)),"4"!==String(t.code)&&(a=!0)})),{level:e&&e+1,showDetail:a}}return{level:0,showDetail:!0}})),r=(e=[])=>{let i={};if(l(e)){const{text:a,value:l}=t.customFieldName;i=["province","city","area"].slice(0,Number(o.value.level||3)).reduce(((t,i,o)=>{const r=e[o+1]||{};return t[`${i}Code`]=r[l],t[`${i}Name`]=r[a],t}),{})}a.address={...a.address,...i}};return(t,l)=>{const d=Ae;return h(),_(N,null,[H(Ye,{class:"com-van-field-hidden",name:e.name,"model-value":b(i)},null,8,["name","model-value"]),H(Ze,S({"show-full-value":"","custom-field-name":e.customFieldName},t.$attrs,{name:`${e.name}-origin`,level:b(o).level,"onUpdate:fullValue":r}),null,16,["custom-field-name","name","level"]),b(o).showDetail?(h(),V(d,{key:0,modelValue:b(a).address.detail,"onUpdate:modelValue":l[0]||(l[0]=e=>b(a).address.detail=e),label:`${t.$attrs.label}详细地址`,required:t.$attrs.required,maxlength:50},null,8,["modelValue","label","required"])):A("",!0)],64)}}}),[["__scopeId","data-v-33a818c5"]]));const Ge=e("_",s({inheritAttrs:!1,__name:"ProRenderFormWithCard",props:{title:{type:String,default:""},class:{type:String,default:""}},setup(e,{expose:t}){const a=e,l=c(null);return t({...["submit","getValues","validate","resetValidation","getValidationStatus","scrollToField"].reduce(((e,t)=>(e[t]=(...e)=>{var a;return null===(a=l.value)||void 0===a?void 0:a[t](...e)},e)),{})}),(t,i)=>{var o;const r=ee;return null!==(o=t.$attrs.schema)&&void 0!==o&&o.length?(h(),V(r,{key:0,class:Q(`com-pro-form-with-card com-card-body-no-padding ${a.class}`),"show-line":!1,"show-divider":!1,title:e.title},{default:g((()=>[H(we,S({ref_key:"renderFormRef",ref:l},t.$attrs),w({_:2},[C(Object.keys(t.$slots),(e=>({name:e,fn:g((()=>[D(t.$slots,e)]))})))]),1040)])),_:3},8,["class","title"])):A("",!0)}}}))}}}));
