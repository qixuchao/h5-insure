import{_ as e,d as a,bv as t,ah as s,bw as r,i as o,h as n,aI as l,bT as u,j as d,o as c,c as i,a as p,b as m,e as f,u as y,w as b,a8 as _,m as v,p as h,f as I,bU as w,ae as N,ag as q,bV as R,bW as g,bX as k}from"./index-4abfb4e1.js";import{P as C,M as E}from"./constants-4b08cf92.js";import{o as L}from"./verify-9c3f4f64.js";const T={class:"page-underwrite-result-wrap"},A={class:"result-content"},D={class:"result-icon"},S={class:"result-status"},U={class:"result-desc"},x={key:0,class:"operate-btn"},F={key:1,class:"operate-btn"},j={class:"dialog-content"},V=a({name:"underwriteResult"});var W=e(a({...V,setup(e){var a,V;const W={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(V=s.get(`${r}_underwriteResult`))?void 0:V[t.UNDER_WRITE_FAIL]}},$=o(),G=n(),{orderNo:z,tenantId:M,underwriteStatus:P}=$.query,X=l.Component,[B,H]=u(!1),J=d(),K=async()=>{const{code:e,data:a}=await L({orderNo:z,tenantId:M});"10000"===e&&a&&(delete $.query.orderNo,G.push({path:C.orderList,query:{...$.query}}))},O=e=>{k({orderNo:z,tenantId:M}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},Q=()=>{H(!0)},Y=()=>{w({messageType:E.AGENT,orderNo:z,tenantId:M}).then((({code:e})=>{"10000"===e&&G.push({path:C.sign,query:$.query})}))},Z=()=>{O((()=>{delete $.query.orderNo,G.push({path:C.productList,query:$.query})}))},ee=()=>{O((()=>{H(!1),G.push({path:J.value,query:$.query})}))},ae=()=>{H(!1),Z()};return(e,a)=>{const s=N,r=q,o=R,n=g;return c(),i("div",T,[p("div",A,[p("div",D,[m(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),p("p",S,f(W[`${y(P)}`].resultStatus),1),p("p",U,f(W[`${y(P)}`].resultDesc),1),y(P)===y(t).UNDER_WRITE_FAIL?(c(),i("div",x,[m(r,{type:"primary",plain:"",onClick:Q},{default:b((()=>[_("返回修改")])),_:1}),m(r,{type:"primary",onClick:Y},{default:b((()=>[_("继续投保")])),_:1}),m(r,{class:"no-border",onClick:Z},{default:b((()=>[_("放弃投保")])),_:1})])):(c(),i("div",F,[m(r,{type:"primary",onClick:K},{default:b((()=>[_("确定")])),_:1})]))]),y(B)?(c(),v(y(X),{key:0,show:y(B),"onUpdate:show":a[1]||(a[1]=e=>h(B)?B.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!y(J),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:ee,onCancel:ae},{default:b((()=>[p("div",j,[m(n,{modelValue:y(J),"onUpdate:modelValue":a[0]||(a[0]=e=>h(J)?J.value=e:null)},{default:b((()=>[m(o,{name:y(C).premiumTrial},{default:b((()=>[_("保费试算页")])),_:1},8,["name"]),m(o,{name:y(C).questionNotice},{default:b((()=>[_("健康告知页")])),_:1},8,["name"]),m(o,{name:y(C).infoCollection},{default:b((()=>[_("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):I("",!0)])}}}),[["__scopeId","data-v-0c54b1a3"]]);export{W as default};
