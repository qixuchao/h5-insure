import{d as a,j as e,b0 as l,E as t,o as n,c as s,a as o,g as d,u as i,b as r,f as u,v as c,e as p,F as m,w as f,a8 as h,b1 as v,b2 as y}from"./index-57c18dfc.js";import{P as k}from"./index-0d74e880.js";import{t as C}from"./format-31cde443.js";const b={class:"trial-button-wrap","safe-area-inset-bottom":""},g={class:"footer-area"},x=o("span",null,"分享",-1),S={class:"price"},$={class:"label"},E={key:0},F={key:2},P=a({name:"trialButton"}),j=a({...P,props:{premium:{default:null},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(a,{emit:P}){const j=a,q=P,A=e(""),w=e(""),D=l(),I=e(),T=e(),_=()=>{j.handleShare?j.handleShare((()=>T.value.handleShare(I.value))):T.value.handleShare(I.value)};return t([()=>j.premium,()=>j.tenantProductDetail,()=>j.paymentFrequency,()=>j.planCode],(([a])=>{const{PREMIUM:e=[]}=j.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===j.planCode||!a.planCode))||{};const t=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===j.paymentFrequency)),{premium:n,minActualUnit:s}=t||{};a?(w.value=s,A.value=a&&`${a}`):(w.value=n,A.value="")}else A.value=null,a&&(w.value="",A.value=a&&`${a}`)}),{deep:!0,immediate:!0}),t((()=>j.shareInfo),(a=>{I.value=a}),{deep:!0,immediate:!0}),(a,e)=>{const l=y;return n(),s("div",b,[o("div",g,[d(a.$slots,"right",{},(()=>[a.isShare&&i(D)?(n(),s("div",{key:0,class:"com-share",onClick:_},[r(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),x])):u("",!0)])),o("div",S,[o("div",$,[d(a.$slots,"label",{},(()=>[c("首期总保费")]))]),a.loadingText?(n(),s("span",E,p(a.loadingText),1)):i(A)?(n(),s(m,{key:1},[o("span",null,p(i(C)(i(A),void 0," ")),1),o("span",null,p(i(w)),1)],64)):(n(),s("span",F,p(i(w)),1))]),r(k,h(a.$attrs,{shadow:!1,class:"right",onClick:e[0]||(e[0]=a=>q("handleClick"))}),{default:f((()=>[d(a.$slots,"default",{},(()=>[c("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:T},i(I)),null,16)])}}});export{j as _};
