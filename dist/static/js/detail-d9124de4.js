import{h as D,r as l,k as u,m as I,s as w,B as e,t,p as n,F as x,G as p,P as S,aa as A,j as O,n as N,L as R,C as L,a5 as P,a6 as T}from"./vendor-dfbc3b9e.js";import{u as k}from"./theme-fdbb0f53.js";import{g as j,i as $}from"./trial-172d315f.js";import{_ as H}from"./index-dfc8e4f2.js";import{s as V}from"./verify-449fd3cf.js";import{n as q}from"./nextStep-36055b1a.js";import{_ as U}from"./index-54f8560b.js";import"./infoCollection-06db3c02.js";import"./relativeTime-1474ed2d.js";import"./useDicData-ed55d41b.js";const G={class:"sign-wrap"},W=e("img",{src:"",alt:""},null,-1),z=p("\u70B9\u51FB\u7B7E\u5B57"),J={class:"popup-body"},M={class:"sign-container-wrap"},X={class:"operate-bar"},Y=e("span",null,"\u8BF7\u6295\u4FDD\u4EBA\u6B63\u6977\u7B7E\u7F72\u60A8\u7684\u7B7E\u540D:",-1),K=p("\u8FD4\u56DE"),Q=p("\u91CD\u5199"),Z=p("\u786E\u5B9A\u7B7E\u5B57"),tt=D({props:{option:{default:{}}},setup(r){const i=l(!1),f=l(),v=()=>{i.value=!0},s=()=>{i.value=!1},h=()=>{var o,a;(a=(o=f.value)==null?void 0:o.clear)==null||a.call(o)},m=()=>{};return(o,a)=>{const c=u("van-button"),B=u("ProSign"),E=u("van-popup");return I(),w(x,null,[e("div",G,[W,t(c,{type:"primary",onClick:v},{default:n(()=>[z]),_:1})]),t(E,{show:i.value,"onUpdate:show":a[0]||(a[0]=d=>i.value=d),position:"bottom",style:{height:"100%"}},{default:n(()=>[e("div",J,[e("div",M,[t(B,{ref_key:"signRef",ref:f,option:r.option},null,8,["option"]),e("div",X,[Y,t(c,{onClick:s},{default:n(()=>[K]),_:1}),t(c,{onClick:h},{default:n(()=>[Q]),_:1}),t(c,{onClick:m},{default:n(()=>[Z]),_:1})])])])]),_:1},8,["show"])],64)}}});const et=r=>(P("data-v-4821dc31"),r=r(),T(),r),ot={class:"net-sale-wrap"},nt={class:"product-name"},at={class:"sign-cell"},st=et(()=>e("div",{class:"sign-label"},"\u7B7E\u540D",-1)),ut={class:"footer-button"},rt=p("\u63D0\u4EA4"),it=D({setup(r){const i=k(),f=S();A();const{orderNo:v="2022120119060692150",tenantId:s="9991000001",productCode:h="HTEJBX"}=f.query;l();const m=l({}),o=l({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:s,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:s}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),a=l(),c=async()=>{const{code:d,data:_}=await j({orderNo:v,tenantId:s});d==="10000"&&(_.extInfo.buttonCode="EVENT_NETSALE_airSignature",o.value=_)},B=async()=>{const{code:d,data:_}=await $({productCode:h,tenantId:s});d==="10000"&&(a.value=_,m.value=_.productFactor)},E=async()=>{await V("HOLDER","213123123213131",o.value.id,`${s}`),q(o.value)};return O(()=>{B(),c()}),(d,_)=>{const g=u("ProCard"),b=u("van-button"),C=u("ProPageWrap"),F=u("van-config-provider");return I(),N(F,{"theme-vars":L(i)},{default:n(()=>[t(C,null,{default:n(()=>[e("div",ot,[t(g,{title:"\u6295\u4FDD\u4FE1\u606F"},{default:n(()=>{var y;return[e("div",nt,R((y=a.value)==null?void 0:y.productBasicInfoVO.productFullName),1)]}),_:1}),t(H,{ref:"formRef","title-collection":{HOLDER:"\u6295\u4FDD\u4EBA\u4FE1\u606F",INSURER:"\u88AB\u4FDD\u4EBA\u4FE1\u606F",BENEFICIARY:"\u53D7\u76CA\u4EBA"},"is-view":!0,"form-info":o.value,"factor-object":m.value,"input-align":"right"},null,8,["form-info","factor-object"]),t(g,{title:"\u9605\u8BFB\u6761\u6B3E\u5408\u540C"}),t(g,{title:"\u5BA2\u6237\u7B7E\u540D"},{default:n(()=>[e("div",at,[st,t(tt)])]),_:1}),e("div",ut,[t(b,{type:"primary",block:"",onClick:E},{default:n(()=>[rt]),_:1})])])]),_:1})]),_:1},8,["theme-vars"])}}});var Et=U(it,[["__scopeId","data-v-4821dc31"]]);export{Et as default};
