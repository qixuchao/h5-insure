import{_ as e,d as a,bD as t,ak as s,ah as r,i as o,h as l,aN as u,k as n,a6 as d,b$ as c,j as i,o as p,c as m,a as y,b as v,e as _,u as f,w as h,a8 as b,m as I,p as N,aa as q,f as w,c0 as k,c1 as C,af as R,aj as E,c2 as L,c3 as g,c4 as D,c5 as S}from"./index-da20c37e.js";import{c as A}from"./order-2ec1e2c4.js";const T={class:"page-underwrite-result-wrap"},$={class:"result-content"},x={class:"result-icon"},F={class:"result-status"},U={class:"result-desc"},j={key:0,class:"operate-btn"},G={key:1,class:"operate-btn"},V={class:"dialog-content"},W=a({name:"underwriteResult"});var z=e(a({...W,setup(e){var a,W;const z={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(W=s.get(`${r}_underwriteResult`))?void 0:W[t.UNDER_WRITE_FAIL]}},Y=o(),B=l(),{orderNo:H,tenantId:J,underwriteStatus:K,productClass:M}=Y.query,O=u.Component,P=n((()=>M===`${d.YES}`)),[Q,X]=c(!1),Z=i(),ee=i(!1),ae=async()=>{if(ee.value=!0,P.value)return B.push({path:q.orderList,query:{...Y.query}}),void(ee.value=!1);const{code:e,data:a}=await k({orderNo:H,tenantId:J});"10000"===e&&a&&(delete Y.query.orderNo,B.push({path:q.orderList,query:{...Y.query}})),ee.value=!1},te=()=>{X(!0)},se=()=>{C({messageType:S.AGENT,orderNo:H,tenantId:J}).then((({code:e})=>{"10000"===e&&B.push({path:q.sign,query:Y.query})}))},re=()=>{A({orderNo:H,tenantId:J}).then((({code:e,data:a})=>{"10000"===e&&(delete Y.query.orderNo,B.push({path:q.productList,query:Y.query}))}))},oe=()=>{var e;e=()=>{X(!1),B.push({path:Z.value,query:Y.query})},D({orderNo:H,tenantId:J}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},le=()=>{X(!1),re()};return(e,a)=>{const s=R,r=E,o=L,l=g;return p(),m("div",T,[y("div",$,[y("div",x,[v(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),y("p",F,_(z[`${f(K)}`].resultStatus),1),y("p",U,_(z[`${f(K)}`].resultDesc),1),f(K)!==f(t).UNDER_WRITE_FAIL||f(P)?(p(),m("div",G,[v(r,{type:"primary",disabled:f(ee),onClick:ae},{default:h((()=>[b("确定")])),_:1},8,["disabled"])])):(p(),m("div",j,[v(r,{type:"primary",plain:"",onClick:te},{default:h((()=>[b("返回修改")])),_:1}),v(r,{type:"primary",onClick:se},{default:h((()=>[b("继续投保")])),_:1}),v(r,{class:"no-border",onClick:re},{default:h((()=>[b("放弃投保")])),_:1})]))]),f(Q)?(p(),I(f(O),{key:0,show:f(Q),"onUpdate:show":a[1]||(a[1]=e=>N(Q)?Q.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!f(Z),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:oe,onCancel:le},{default:h((()=>[y("div",V,[v(l,{modelValue:f(Z),"onUpdate:modelValue":a[0]||(a[0]=e=>N(Z)?Z.value=e:null)},{default:h((()=>[v(o,{name:f(q).premiumTrial},{default:h((()=>[b("保费试算页")])),_:1},8,["name"]),v(o,{name:f(q).questionNotice},{default:h((()=>[b("健康告知页")])),_:1},8,["name"]),v(o,{name:f(q).infoCollection},{default:h((()=>[b("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):w("",!0)])}}}),[["__scopeId","data-v-09bb4920"]]);export{z as default};
