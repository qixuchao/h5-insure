import{_ as a,d as e,h as s,g as t,i as o,au as r,o as n,c as i,u as c,l as d,q as f,a as l,b as u,w as m,a8 as p,aB as b,a9 as v,bk as I,ag as j}from"./index-49d4fa1c.js";import{_ as y}from"./PolicyInfo-5bb0e3a0.js";import{u as h}from"./useOrder-6cf087e8.js";import{p as g}from"./utils-ba4d4a83.js";import{g as k,m as _}from"./trial-b71b15d0.js";import{n as x}from"./nextStep-f678aa1c.js";import{B as C,a as P}from"./constants-fe95ef6f.js";import"./utils-9d649f18.js";import"./infoCollection-2bb43a7d.js";import"./trial-fabcc47b.js";import"./core-2f4c0b97.js";const w={class:"bank-info-wrap"},L={class:"footer-button"},N=e({name:"updateBankInfo"});var O=a(e({...N,setup(a){const e=s(),N=t(),{orderNo:O,isShare:S,tenantId:q}=e.query,B=h(),G=o({schema:[],config:[],formData:[]}),V=o(!!S),D=o(),R=()=>{N.back()},U=()=>{D.value&&D.value.validate(!1).then((a=>{a&&x(B.value,((a,s)=>{s===b.JUMP_PAGE&&v(a.nextPageCode,e.query)}),e)}))};return r((()=>{(async()=>{let a={};const{code:e,data:s}=await k({orderNo:O,tenantId:q});"10000"===e&&(Object.assign(B.value,s,{extInfo:{...s.extInfo,buttonCode:C.SIGN,pageCode:P.SIGN}}),a=g(s.insuredList[0].productList)),_(a).then((({data:a,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:s}=a,{payInfo:t}=I(s);G.value={...G.value,...t}}}))})()})),(a,e)=>{const s=j;return n(),i("div",w,[c(G).schema.length?(n(),d(y,{key:0,ref_key:"payInfoRef",ref:D,modelValue:c(B).tenantOrderPayInfoList,"onUpdate:modelValue":e[0]||(e[0]=a=>c(B).tenantOrderPayInfoList=a),schema:c(G).schema,"is-view":c(V)},null,8,["modelValue","schema","is-view"])):f("",!0),l("div",L,[u(s,{onClick:R},{default:m((()=>[p("取消")])),_:1}),u(s,{type:"primary",onClick:U},{default:m((()=>[p("确认")])),_:1})])])}}}),[["__scopeId","data-v-6c66b7c0"]]);export{O as default};
