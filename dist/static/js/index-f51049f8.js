var V=Object.defineProperty,j=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var A=(t,e,a)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,l=(t,e)=>{for(var a in e||(e={}))U.call(e,a)&&A(t,a,e[a]);if(x)for(var a of x(e))w.call(e,a)&&A(t,a,e[a]);return t},E=(t,e)=>j(t,M(e));import{g as z,af as O,Q as $,C as S,L as G,M as Q,r as c,h,j as b,k as d,n as p,m as W,E as J,z as H,F as K,y as r,a1 as X,a2 as Y,B as y,T as I,J as Z}from"./vendor-50171071.js";import{_ as ee,j as P,P as te}from"./index-bd5189a2.js";import{l as ae}from"./inform-4313dcce.js";import{a as oe,n as se}from"./index-31d33b8d.js";import{s as ne}from"./useStorage-9a57eaef.js";import{s as ue}from"./verify-c62deea6.js";const re=t=>(X("data-v-7d4bd96d"),t=t(),Y(),t),ie={class:"footer-btn"},le={class:"inform-file"},ce=re(()=>r("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),r("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),de={class:"footer-button"},pe=y("\u4E0B\u4E00\u6B65"),_e=z({setup(t){const e=O(),a=$(),{productCode:fe="MMBBSF",agentCode:T="65434444",tenantId:B="9991000007",agencyCode:me="3311222",insurerCode:k="zhongan",productCategory:q="1",templateId:ge="1",orderNo:v="2022080217103534947"}=a.query,_=S(null),D=S(!1),F=()=>{var o;(o=_.value)==null||o.clear()},u=G({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),N=()=>{oe({orderNo:v,saleUserId:T,tenantId:B}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(u.pageData,s)})};Q(()=>{N(),ae({insurerCode:k,orderNo:v,productCategory:q,tenantId:B,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(u.noticeList=s)})});const R=o=>{ne.set("questionData",o),e.push({path:"/healthNotice",query:l({questionnaireType:o.questionnaireType},a.query)})},L=()=>{var f,m;if(!u.noticeList.every(i=>i.isDone===1)){I("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((f=_.value)==null?void 0:f.isEmpty()){I("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(m=_.value)==null?void 0:m.save();ue("AGENT",s,v,B).then(i=>{i&&se(E(l({},u.pageData),{extInfo:E(l({},u.pageData.extInfo),{templateId:"1",pageCode:"salesNotice"}),venderCode:k})).then((C,g)=>{C==="10000"&&g.pageAction.pageAction==="jumpToPage"&&e.push({path:te[g.pageAction.data.nextPageCode],query:l({},a.query)})})})};return(o,s)=>{const f=c("van-cell"),m=c("ProSign"),i=c("van-checkbox"),C=c("van-button"),g=c("ProPageWrap");return h(),b(g,{class:"page-salesman-inform"},{default:d(()=>[p(P,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:d(()=>[(h(!0),W(K,null,J(H(u).noticeList,n=>(h(),b(f,{key:n.id,class:Z({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>R(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),p(P,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:d(()=>[r("div",{class:"resign",onClick:F},"\u91CD\u7B7E")]),default:d(()=>[p(m,{ref_key:"agentSignRef",ref:_,selector:"sign2"},null,512)]),_:1}),r("footer",ie,[r("div",le,[p(i,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=n=>D.value=n),shape:"square"},null,8,["modelValue"]),ce]),r("div",de,[p(C,{type:"primary",block:"",onClick:L},{default:d(()=>[pe]),_:1})])])]),_:1})}}});var xe=ee(_e,[["__scopeId","data-v-7d4bd96d"]]);export{xe as default};
