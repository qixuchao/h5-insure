import{d as e,u as a,a as n,r as o,aE as t,c as r,h as s,aR as d,aS as c,j as i,am as l,T as p}from"./index-f03140d4.js";import{f as u}from"./infoCollection-494ff537.js";import{T as f}from"./constant-c3f28a3b.js";import"./pdfh5-008ca364.js";const m={class:"page-middle-wrapper"},I=[i("h4",null,null,-1)],C=e({__name:"index",setup(e){const i=a(),C=n(),g=o(""),{extraInfo:h,agencyCode:y,insurerCode:v,productCode:x,agentCode:j,saleChannelId:R}=C.query;let N={};try{N=JSON.parse(decodeURIComponent(h))}catch(w){}const{templateId:U,tenantId:$,orderNo:b}=N,q=e=>{d({param:e}).then((({code:e,data:a})=>{"10000"===e&&a?(()=>{var e;if(U===f.UPGRADE&&b){const a={insurerCode:v,productCode:x,tenantId:$||(null==(e=C.query)?void 0:e.tenantId),agencyCode:y,agentCode:j,orderNo:b,saleChannelId:R};return a.extraInfo=decodeURIComponent(JSON.stringify({...N,templateId:U})),void i.push(`/baseInsurance/upgrade?${l.stringify(a)}`)}if(!U||!u[U])return void p("链接上模板ID不正确不正确，请检查链接");const a=`/baseInsurance/${u[U]}`;i.replace(encodeURI(`${a}?${l.stringify(C.query)}`))})():g.value="验证失败"}))};return t((()=>{var e;q((e=window.location.search,c(["ext"],e).split("?")[1]))})),(e,a)=>(r(),s("div",m,I))}});export{C as default};
