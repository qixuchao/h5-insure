import{T as l,w as c}from"./vendor-e9263418.js";import{e as d,i as m}from"./index-b8742a0a.js";import{i as p}from"./jsbridge-7ca0f033.js";import{u as f,g as o,a as g}from"./oss-8e49e2fb.js";const n=d(),r=m(),h=!n&&!r,S=(e=1)=>new Promise((i,y)=>{if(n)p(e).then(t=>Promise.all(t.map(a=>f(a,"jpg")))).then(t=>Promise.all(t.map(a=>o(a.data.data)))).then(t=>{i(t.map(a=>a.data.data.fileOriginalUrl))}).catch(()=>{l.fail("\u9009\u62E9\u56FE\u7247\u5931\u8D25")});else if(r)c.chooseImage({count:e,success:t=>{console.log(t.localIds)}});else if(h){const t=document.createElement("input");t.style.display="none",t.setAttribute("type","file"),t.addEventListener("change",a=>{a&&a.target&&a.target.files&&a.target.files[0]&&g(a.target.files[0]).then(s=>{s.status===200&&o(s.data.data).then(u=>{i([u.data.data.fileOriginalUrl])})}).catch(()=>{l.fail("\u9009\u62E9\u56FE\u7247\u5931\u8D25")}).finally(()=>{document.body.removeChild(t)})}),document.body.appendChild(t),t.click()}});export{S as i};
