import{g as B,L as V,v as b,af as L,M as I,r as d,h as p,j as E,k as r,n as s,z as _,a6 as N,y as n,m as y,E as w,F as A,I as f,B as l,D as R,T}from"./vendor-07b5d0eb.js";import{_ as S,y as $}from"./index-8b5dd55b.js";import{P as q}from"./index-90011b90.js";import{h as z,d as M}from"./proposalList-549becfd.js";const U={class:"proposal-content"},W={class:"title"},j={class:"premium"},H=l(" \u4FDD\u8D39\uFF1A"),O={class:"operate-btn"},G=l("\u5220\u9664"),J=l("\u7F16\u8F91"),K=l("\u9884\u89C8"),Q=B({setup(X){const F=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"riskName",width:180},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"coveragePeriod"},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"chargePeriod",width:110},{title:"\u4FDD\u8D39",dataIndex:"premium",width:120}],k=V({historyList:[],searchValue:""}),{historyList:m,searchValue:u}=b(k),h=L(),c=()=>{z({name:u.value,pageNum:1,pageSize:999,relationUserType:2}).then(t=>{const{code:a,data:o}=t;a==="10000"&&(m.value=o.datas)})},P=()=>{c()},C=t=>{R.confirm({title:"\u5220\u9664\u8BA1\u5212\u4E66",message:"\u786E\u8BA4\u5220\u9664\u8BA1\u5212\u4E66"}).then(()=>{M(t).then(a=>{const{code:o}=a;o==="10000"&&(T.success("\u5220\u9664\u6210\u529F"),c())})}).catch(()=>{})},D=t=>{h.push({path:"compositionProposal",query:{id:t}})},g=t=>{h.push({path:"/proposal/createProposal",query:{id:t}})};return I(()=>{c()}),(t,a)=>{const o=d("van-search"),i=d("van-button"),x=d("ProPageWrap");return p(),E(x,{class:"page-history-proposal"},{default:r(()=>[s(o,{modelValue:_(u),"onUpdate:modelValue":a[0]||(a[0]=e=>N(u)?u.value=e:null),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",shape:"round",class:"search",onClickInput:P},null,8,["modelValue"]),n("div",U,[(p(!0),y(A,null,w(_(m),e=>(p(),y("div",{key:e.id,class:"proposal-item"},[n("div",W,f(e.proposalName),1),n("p",j,[H,n("span",null,"\xA5"+f(_($)(e.totalPremium)),1)]),s(q,{columns:F,class:"table","data-source":e.proposalProductRiskVOList},null,8,["data-source"]),n("div",O,[s(i,{plain:"",round:"",type:"primary",class:"del-btn",onClick:v=>C(e.id)},{default:r(()=>[G]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:v=>g(e.id)},{default:r(()=>[J]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:v=>D(e.id)},{default:r(()=>[K]),_:2},1032,["onClick"])])]))),128))])]),_:1})}}});var ae=S(Q,[["__scopeId","data-v-38b0cb63"]]);export{ae as default};
