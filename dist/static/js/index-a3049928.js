var F=Object.defineProperty,V=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var x=(t,e,a)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,f=(t,e)=>{for(var a in e||(e={}))R.call(e,a)&&x(t,a,e[a]);if(y)for(var a of y(e))j.call(e,a)&&x(t,a,e[a]);return t},v=(t,e)=>V(t,L(e));import{g as U,K as $,v as w,r as D,L as G,p as O,A as i,o as B,E as S,B as c,t as l,i as M,F as Q,k as W,G as z,j as u,P as H,Q as K,H as h,T as J,$ as X}from"./vendor-efd23fdb.js";import{P as A}from"./index-64237d2a.js";import{l as Y}from"./inform-3f10446d.js";import{a as Z,n as ee}from"./index-f1464a1b.js";import{s as te}from"./useStorage-e12737d1.js";import{s as ae}from"./verify-54e80511.js";import{_ as oe,P as se}from"./index-4efca34e.js";const ne=t=>(H("data-v-1c01d8ca"),t=t(),K(),t),ue={class:"footer-btn"},re={class:"inform-file"},ie=ne(()=>u("p",{class:"tips"},[h("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),u("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),h("\u6587\u4EF6")],-1)),ce={class:"footer-button"},le=h("\u4E0B\u4E00\u6B65"),pe=U({setup(t){const e=$(),a=w(),{orderNo:E="2022021815432987130620",productCode:P="andainsurer",templateId:de=1,tenantId:C=9991000007}=a.query,p=D(null),k=D(!1),I=()=>{var o;(o=p.value)==null||o.clear()},r=G({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),T=()=>{Z({orderNo:"2022021815432987130620",saleUserId:"D1234567-1",tenantId:"9991000007"}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(r.pageData,s)})};O(()=>{T(),Y({insurerCode:P,orderNo:E,productCategory:1,tenantId:C,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(r.noticeList=s)})});const N=o=>{te.set("questionData",o),e.push({path:"/healthNotice",query:{questionnaireType:o.questionnaireType}})},b=()=>{var s,d;if((s=p.value)==null?void 0:s.isEmpty()){J("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const o=(d=p.value)==null?void 0:d.save();ae("AGENT",o,E,C).then(m=>{m&&ee(v(f({},r.pageData),{extInfo:v(f({},r.pageData.extInfo),{templateId:"1",pageCode:"salesNotice"})})).then((g,_)=>{g==="10000"&&_.pageAction.pageAction==="jumpToPage"&&e.push({path:se[_.pageAction.data.nextPageCode],query:f({},a.query)})})})};return(o,s)=>{const d=i("van-cell"),m=i("ProSign"),g=i("van-checkbox"),_=i("van-button"),q=i("ProPageWrap");return B(),S(q,{class:"page-salesman-inform"},{default:c(()=>[l(A,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:c(()=>[(B(!0),M(z,null,Q(W(r).noticeList,n=>(B(),S(d,{key:n.id,class:X({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:_e=>N(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),l(A,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:c(()=>[u("div",{class:"resign",onClick:I},"\u91CD\u7B7E")]),default:c(()=>[l(m,{ref_key:"agentSignRef",ref:p,selector:"sign2"},null,512)]),_:1}),u("footer",ue,[u("div",re,[l(g,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=n=>k.value=n),shape:"square"},null,8,["modelValue"]),ie]),u("div",ce,[l(_,{type:"primary",block:"",onClick:b},{default:c(()=>[le]),_:1})])])]),_:1})}}});var ke=oe(pe,[["__scopeId","data-v-1c01d8ca"]]);export{ke as default};
