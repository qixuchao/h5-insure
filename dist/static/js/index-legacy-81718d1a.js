!function(){var e=document.createElement("style");e.innerHTML=".pro-curtain[data-v-4c1ecdfa]{display:flex;justify-content:center;flex-direction:column;align-items:center;height:100%}.pro-curtain .close[data-v-4c1ecdfa]{cursor:pointer;margin-top:.8rem;height:1.06667rem}.guarantee-list[data-v-cb90a938]{position:relative;transform:translateY(-2.66667rem);text-align:initial;background:linear-gradient(162deg,#fce6d0 0%,#fff9f2 100%);border-radius:.4rem;border:1px solid #fae2d0;margin-top:.53333rem;padding:.53333rem .53333rem .16rem}.guarantee-list .title[data-v-cb90a938]{height:.6rem;font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:var(--van-card-title);line-height:.6rem}.guarantee-list[data-v-cb90a938] .common-cell-wrapper .cell-container .left-part,.guarantee-list[data-v-cb90a938] .common-cell-wrapper .cell-container .right-part{color:var(--van-card-cell-color);font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.guarantee-list .show-more[data-v-cb90a938]{padding:0px 0 .4rem;width:100%;display:flex;justify-content:center;align-items:center;font-size:.34667rem;color:var(--van-card-title)}.guarantee-list .show-more .icon[data-v-cb90a938]{margin-left:.13333rem;width:.26667rem;transition:transform .5s}.guarantee-list .show-more .icon.showMore[data-v-cb90a938]{transform:rotate(180deg)}.jump-img[data-v-a41e094e]{width:100%}.page-pay-result[data-v-a41e094e]{text-align:center;height:100%}.page-pay-result .header[data-v-a41e094e]{height:6.66667rem;background:0 0 url(/static/assets/cardbg.0c2c4c98.png) no-repeat;background-size:contain;padding-top:1.06667rem}.page-pay-result .header .product-status[data-v-a41e094e]{height:.64rem;font-size:.64rem;font-family:PingFangSC-Semibold,PingFang SC;font-weight:600;color:#fff;margin-bottom:.4rem;line-height:.64rem}.page-pay-result .header .desc[data-v-a41e094e]{height:.58667rem;font-size:.4rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fff;line-height:.58667rem}.page-pay-result .prodouct-container[data-v-a41e094e]{background:#f9f9f9;min-height:calc(100% - 6.66667rem);padding:0 .53333rem;position:relative}.page-pay-result .prodouct-container .product-card[data-v-a41e094e]{width:8.93333rem;position:relative;background:#fff;box-shadow:0 .13333rem .26667rem rgba(254,127,32,.08);border-radius:.32rem;margin:0 auto;transform:translateY(-2.66667rem);padding:.53333rem .53333rem .16rem}.page-pay-result .prodouct-container .product-card .desc[data-v-a41e094e]{height:.34667rem;font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#9b9997;line-height:.34667rem;margin-bottom:.50667rem}.page-pay-result .prodouct-container .product-card .desc span[data-v-a41e094e]{color:#fa6400;margin:0 .08rem}.page-pay-result .prodouct-container .product-card .product-name[data-v-a41e094e]{height:.45333rem;font-family:PingFangSC-Semibold,PingFang SC;font-size:.34667rem;line-height:.45333rem;width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:.42667rem;text-align:left}.page-pay-result .prodouct-container .product-card .list[data-v-a41e094e]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.32rem;height:.34667rem}.page-pay-result .prodouct-container .product-card .list .label[data-v-a41e094e]{font-size:.34667rem;font-family:PingFangSC-Light,PingFang SC;font-weight:300;color:#888}.page-pay-result .prodouct-container .product-card .list .value[data-v-a41e094e]{font-size:.34667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.page-pay-result .prodouct-container .product-card .btn[data-v-a41e094e]{margin-top:.46667rem;padding:0 .46667rem}.page-pay-result .prodouct-container .product-img[data-v-a41e094e]{width:100%;position:relative;transform:translateY(-2.66667rem);margin-top:.53333rem}.page-pay-result .prodouct-container .footer-desc[data-v-a41e094e]{position:absolute;left:50%;transform:translate(-50%);bottom:.53333rem;font-size:.34667rem;font-family:PingFangSC-Light,PingFang SC;font-weight:600;color:#bfbfbf}\n",document.head.appendChild(e),System.register(["./vendor-legacy-105aea5b.js","./product-legacy-e539fbe6.js","./trial-legacy-6eae6755.js","./index-legacy-f5fe64cc.js","./index-legacy-336baf11.js","./trial-legacy-b8719c7b.js","./utils-legacy-38b8cd73.js","./core-legacy-230ca01f.js","./order-legacy-58710d62.js","./theme-legacy-28dda1ed.js","./useStorage-legacy-88d843f7.js","./infoCollection-legacy-c5bf2e3f.js","./index-legacy-5e1625a2.js"],(function(e){"use strict";var t,a,r,n,o,i,l,d,s,c,u,g,m,p,f,h,I,A,v,C,y,b,w,D,S,P,E,O,x,k,L,T,V,G,U,Q,F,Y,z,R,N,B,M,j,K;return{setters:[function(e){t=e.h,a=e.L,r=e.Z,n=e.k,o=e.l,i=e.m,l=e.n,d=e.z,s=e.X,c=e.A,u=e.r,g=e.P,m=e.x,p=e.y,f=e.F,h=e.E,I=e.C,A=e.I,v=e.J,C=e.s,y=e.a3,b=e.a4,w=e.a8,D=e.N,S=e.j,P=e.Q,E=e.d,O=e.av},function(e){x=e.p},function(e){k=e.q,L=e.a,T=e.g,V=e.i},function(e){G=e.P},function(e){U=e._,Q=e.o,F=e.ad},function(e){Y=e.a},function(e){z=e.c},function(e){R=e.u,N=e.s},function(e){B=e.a},function(e){M=e.u},function(e){j=e.s},function(e){K=e.O},function(){}],execute:function(){const W={class:"pro-curtain"},H=["src"],q=t({props:{show:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const u=e,g=a({show:u.show});return r((()=>u.show),(()=>{g.show=u.show}),{immediate:!0}),(e,a)=>{const r=n("van-overlay");return o(),i(r,{show:c(g).show},{default:l((()=>[d("div",W,[s(e.$slots,"default",{},void 0,!0),d("img",{class:"close",src:c("data:image/png;base64,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"),onClick:a[0]||(a[0]=e=>t("close"))},null,8,H)])])),_:3},8,["show"])}}});var J=U(q,[["__scopeId","data-v-4c1ecdfa"]]);const Z={class:"guarantee-list"},X=(e=>(y("data-v-cb90a938"),e=e(),b(),e))((()=>d("div",{class:"title"},"保障内容",-1))),_=["src"],$=t({props:{dataSource:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:10}},setup(e){const t=e,a=u(t.dataSource||[]),[l,s]=g(!1),y=m((()=>!(!a.value||!a.value?.length)&&(a.value.length>t.count&&(!!t.isShowClose||!l.value)))),b=()=>{s()},w=m((()=>a.value&&a.value?.length?a.value.length<=t.count||l.value?a.value:a.value.slice(0,t.count):[]));return r((()=>t.dataSource),(()=>{a.value=t.dataSource})),(e,t)=>{const a=n("ProCell");return o(),p("div",Z,[X,(o(!0),p(f,null,h(c(w),((e,t)=>(o(),i(a,{key:t,title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128)),c(y)?(o(),p("div",{key:0,class:"show-more",onClick:b},[I(A(c(l)?"收起":"查看更多")+" ",1),d("img",{src:c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAjNJREFUOE+1VEtPE1EUPufM9GXKCnWlqAQZuhEff8CNxpYdSReVatIWJMYI7FkYF+wtxsSCBWNLY4JhZxHd+AdMqhs6PmJJWMkPsO303mPmQs10GJuawOxu5tzvfK9chCP+8Ijx4HgAVyZGskgQEgIXJkvbO//D+sXtyDlN43mW8Du9Vp1VDPNJ4xkiRoC5DhKz6VJ1qxfQ/MTITUSeA8QgM29niuYDBbh6/XyQzwZmAPCWfUbmLdAb2dTLWt0LeDE6FOjr12YYMfp3freRTX2s1Ts8VBuJZwEwxBJ2SMDj1OtqzQn66u7gQIt9jwDwgq1IAixOFs137ZlDobgvMPPTzNrXTaUkcfEG6zTXbaFnyrakcL/+EBBi+5vlB2Cy2meW8j35mk+8LOlaG8VII9v0kA3LzA1gXmwz9vJXAS4njRQC+qnR2kivf99zDubigwO+gH8egbUWwsJUwfzp/L8SHzolA/o4Azeniubqfm3uGBlgPMMITSnE5r3St0ovtXmeHB7VkWLI4Afk3UzBzCvA3DXwkWHEiPCyqgFxxQqGy9NLnywvYHtejxhRALyiHJZckWGzPL0EVoeHzo3Mcs8i8eZ+4cevDgsSwydJwzgBngYAS0hRdio6FErOdYGkKKcOLFhOGJdQxzFbor2QmnLd7blnym5JguUXImohw1WVNsjP4kTfWy9LutZGMSIcQwT/gWzLyfiftemWqG2BT6NxZqYmtTbcnrrvHs972Evnep35AykjACSCRaPlAAAAAElFTkSuQmCC"),class:v(["icon",{showMore:c(l)}])},null,10,_)])):C("",!0)])}}});var ee=U($,[["__scopeId","data-v-cb90a938"]]);const te=[{value:B.PENDING,label:"待处理"},{value:B.PAYING,label:"订单未完成，逾期将失效"},{value:B.PAYMENT_SUCCESS,label:"支付成功"},{value:B.PAYMENT_FAILED,label:"支付失败"},{value:B.CANCELED,label:"已失效"},{value:B.ACCEPT_POLICY,label:"投保成功"},{value:B.INSURER_REJECT,label:"保司拒保"},{value:B.TIMEOUT,label:"订单已经关闭"},{value:B.UNDER_WRITING_SUCCESS,label:"核保通过"},{value:B.NOTE,label:"照会"},{value:B.INSURANCE_PROCESSING,label:"保司处理中"}],ae=Q(te),re={[B.ACCEPT_POLICY]:"恭喜 您已成功购买保障",[B.CANCELED]:"赠险保单已失效",[B.PAYING]:"剩余支付时间：23:59:59",[B.TIMEOUT]:"请您重新提交订单"};const ne=e=>(y("data-v-a41e094e"),e=e(),b(),e),oe={class:"page-pay-result"},ie={class:"header"},le={class:"product-status"},de=["innerHTML"],se={class:"prodouct-container"},ce={class:"product-card"},ue={class:"product-name"},ge={class:"label"},me={class:"value"},pe={key:1,class:"desc"},fe=[I("已有"),ne((()=>d("span",null,"29,182",-1))),I("位用户已投保")],he=["src"],Ie=ne((()=>d("div",{class:"footer-desc"},[d("div",null,"客服电话"),d("div",null,"400 605 8000")],-1))),Ae=["src"],ve=t({setup(e){const t=M();w();const r=D(),{tenantId:s,from:g="other",orderNo:I,productCode:v}=r.query,y=a({insureDetail:{},detail:{},orderDetail:{},showOrderDetail:!1,guaranteeItemVOS:[],pageInfo:{title:"",desc:"",insureList:[],productImage:"",notificationImage:""},timeDown:{},templateId:"2"}),b=u(!1),U=m((()=>[B.ACCEPT_POLICY,B.CANCELED].includes(y.orderDetail.orderStatus)?"下载保单":B.PAYING===y.orderDetail.orderStatus?"立即支付":B.TIMEOUT===y.orderDetail.orderStatus?"重下一单":"")),Q=async(e=!1)=>{try{const{insurerCode:t}=y.insureDetail.productBasicInfoVO,{code:a,data:r}=await k({insurerCode:t,productCode:e?y.insureDetail?.productBasicInfoVO?.upgradeGuaranteeConfigVO.productCode:v,tenantId:s,agencyCode:y.orderDetail.agencyId,agentCode:y.orderDetail.agentCode,extraMap:e?{}:{...y.orderDetail.extInfo.extraInfo,orderNo:I}});if("10000"===a){if(!e){const{tenantOrderHolder:e,tenantOrderInsuredList:t}=y.orderDetail;j.set(K,{tenantOrderHolder:e,tenantOrderInsuredList:t})}window.location.href=r||""}}catch(t){}},W=()=>{"下载保单"===U.value?y.orderDetail.extInfo?.policyUrl&&F(y.orderDetail.extInfo?.policyUrl):"立即支付"===U.value?L({...y.orderDetail,extInfo:{...y.orderDetail.extInfo,redirectUrl:window.location.href}}).then((({code:e,data:t})=>{"10000"===e&&N(t.paymentUrl)})):"重下一单"===U.value&&Q(!1)},H=async()=>{const e=x({productCode:v,withInsureInfo:!0,tenantId:s}),t=T({orderNo:I,tenantId:s}),a=V({productCode:v});Promise.all([e,t,a]).then((([e,t,a])=>{"10000"===e.code&&(y.detail=e.data),"10000"===a.code&&(y.insureDetail=a.data),"10000"===t.code&&(y.orderDetail=t.data),(()=>{y.pageInfo.title=ae[y.orderDetail.orderStatus],y.pageInfo.desc=re[y.orderDetail.orderStatus],document.title=y.detail?.tenantProductInsureVO?.productName||"";let e="";if("free"===g?y.orderDetail.tenantOrderInsuredList[0].tenantOrderProductList.forEach((t=>e?null:(t.tenantOrderRiskList.forEach((t=>{1!==t.riskType||e||(e=z(t.insurancePeriodValue,Y[t.insurancePeriodType]))})),!1))):(y.pageInfo.insureList=[{label:"本期缴费金额",value:`${y.orderDetail.orderAmount}元`}],e=`${E(y.orderDetail.commencementTime).format("YYYY.MM.DD")}到${E(y.orderDetail.expiryDate).format("YYYY.MM.DD")}`),y.pageInfo.insureList=[...y.pageInfo.insureList,{label:"被保人",value:y.orderDetail?.tenantOrderInsuredList?.[0]?.name},{label:"保障期间",value:e||""}],y.templateId=y.orderDetail.extInfo.templateId,"free"!==g&&[B.PAYING,B.CANCELED].includes(y.orderDetail.orderStatus)||!y.insureDetail?.productBasicInfoVO?.upgradeGuaranteeConfigVO.productCode?y.showOrderDetail=!0:(y.pageInfo.notificationImage=y.insureDetail?.productBasicInfoVO?.upgradeGuaranteeConfigVO?.notificationImage?.[0]||"",y.pageInfo.productImage=y.insureDetail?.productBasicInfoVO?.upgradeGuaranteeConfigVO?.productImage?.[0]||"",b.value=!0),B.PAYING===y.orderDetail.orderStatus){const e=y.orderDetail.tenantOrderPaymentInfoList?.[0]?.paymentExpiryDate;y.timeDown=O({time:E(e).diff(new Date,"millisecond")}),y.timeDown.start()}try{const e=y.orderDetail.tenantOrderInsuredList?.[0].planCode;y.detail?.tenantProductInsureVO?.planInsureVO?y.guaranteeItemVOS=y.detail?.tenantProductInsureVO?.planInsureVO?.guaranteeItemVOS||[]:y.guaranteeItemVOS=y.detail?.tenantProductInsureVO?.planList.filter((t=>t.planCode===e))?.[0]?.guaranteeItemVOS||[]}catch(t){}})()}))},q=m((()=>B.PAYING===y.orderDetail?.orderStatus?y.timeDown.current.total<=0?(y.orderDetail.orderStatus=B.TIMEOUT,y.pageInfo.title=ae[y.orderDetail.orderStatus],y.pageInfo.desc=re[y.orderDetail.orderStatus],y.timeDown.pause(),y.pageInfo.desc):`剩余支付时间：${y.timeDown.current.hours}:${y.timeDown.current.minutes}:${y.timeDown.current.seconds}`:y.pageInfo.desc));return R(),S((()=>{H()})),(e,a)=>{const r=n("van-config-provider");return o(),i(r,{"theme-vars":c(t)},{default:l((()=>[d("div",oe,[d("div",ie,[d("div",le,A(c(y).pageInfo.title),1),d("div",{class:"desc",innerHTML:c(q)},null,8,de)]),d("div",se,[d("div",ce,[d("div",ue,A(c(y).insureDetail?.productBasicInfoVO?.productName||""),1),(o(!0),p(f,null,h(c(y).pageInfo.insureList,((e,t)=>(o(),p("div",{key:t,class:"list"},[d("span",ge,A(e.label),1),d("span",me,A(e.value),1)])))),128)),"重下一单"!==c(U)||"3"!==c(y).templateId.toString()?(o(),i(G,{key:0,"theme-vars":c(t),class:"btn",text:c(U),onClick:W},null,8,["theme-vars","text"])):C("",!0),c(y).showOrderDetail?(o(),p("div",pe,fe)):C("",!0)]),c(y).pageInfo.productImage?(o(),p("img",{key:0,class:"product-img",src:c(y).pageInfo.productImage,onClick:a[0]||(a[0]=e=>Q(!0))},null,8,he)):C("",!0),c(y).showOrderDetail?(o(),i(ee,{key:1,"is-show-close":"",count:5,"data-source":c(y).guaranteeItemVOS},null,8,["data-source"])):C("",!0),Ie])]),P(J,{show:b.value,"onUpdate:show":a[2]||(a[2]=e=>b.value=e),onClose:a[3]||(a[3]=e=>b.value=!1)},{default:l((()=>[d("img",{class:"jump-img",src:c(y).pageInfo.notificationImage,style:{display:"block"},onClick:a[1]||(a[1]=e=>Q(!0))},null,8,Ae)])),_:1},8,["show"])])),_:1},8,["theme-vars"])}}});e("default",U(ve,[["__scopeId","data-v-a41e094e"]]))}}}))}();
