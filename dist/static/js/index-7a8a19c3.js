import{g as w,v as z,j as d,n as _,J as h,t as v,A as p,Y as V,z as m,O as K,a9 as Q,E as ee,h as te,r as W,k as H,m as l,p as s,d as oe,F as ae,G as ne,ab as y,C as I,D as se,T as re}from"./vendor-ec22d003.js";import{d as ue}from"./order-701e0de9.js";import{_ as J,g as de,s as j,ae as P}from"./index-28595716.js";import{O as ce,b as T,a as q}from"./order-36f225e8.js";import{I as le}from"./InsuredPart-f1f4e3cf.js";import"./trial-01bebf7f.js";const ie={class:"com-field-info"},_e={key:0,class:"label"},pe={class:"content"},ve=w({props:{label:{type:String,default:""},content:{type:String,default:""}},setup(g){const k=z();return(D,e)=>(d(),_("div",ie,[g.label?(d(),_("div",_e,h(g.label),1)):v("",!0),p(k).label?V(D.$slots,"label",{key:1},void 0,!0):v("",!0),m("div",pe,h(g.content),1),p(k).content?V(D.$slots,"content",{key:2},void 0,!0):v("",!0)]))}});var C=J(ve,[["__scopeId","data-v-d673262c"]]);const fe={key:0,class:"page-order-detail"},me={class:"card"},ye={class:"header"},Ce={class:"product-name"},he={class:"company-name"},Ie={class:"status"},ge={key:0,class:"footer-button"},ke=I("\u5220\u9664"),De=I("\u53BB\u5904\u7406"),Oe={key:1,class:"footer-button"},be=I("\u5220\u9664"),Se=I("\u53BB\u652F\u4ED8"),Pe={key:2,class:"footer-button"},Be=I("\u5220\u9664"),Ee=w({setup(g){const k=K(),D=Q(),e=ee(),{query:{orderNo:O,agentCode:B,tenantId:b,abbreviation:Te,productCategory:F}}=k,E=()=>{se.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{e.value&&ue(e.value.id,e.value.orderStatus).then(o=>{const{code:a,data:t}=o;a==="10000"&&re.success("\u5220\u9664\u6210\u529F")})})},L=()=>{var r,u;if(!e.value)return!1;const{agencyId:o,saleChannelId:a,orderStatus:t}=e.value,n=(u=(r=e.value.tenantOrderInsuredList[0])==null?void 0:r.tenantOrderProductList[0])==null?void 0:u.productCode;if((q.PENDING===t||q.PAYING===t)&&(n===P.ZXYS||n===P.BWYL)){const c={[P.ZXYS]:"/internet/productDetail/package",[P.BWYL]:"/internet/productDetail"};return D.push({path:c[n],query:{productCode:n,saleChannelId:a,agentCode:B,tenantId:b,agencyCode:o,orderNo:O}}),!0}return!1},X=()=>{var o,a;if(e.value){if(L())return;const{id:t,extInfo:{templateId:n,pageCode:r},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;j(r,{productCode:f,orderNo:O,orderId:t,agentCode:B,templateId:n,tenantId:b,productCategory:F,insurerCode:c,agencyCode:u,isFromOrderList:"1"})}},Z=()=>{var o,a;if(e.value){if(L())return;const{id:t,saleUserId:n,extInfo:{templateId:r},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;j("payInfo",{productCode:f,orderNo:O,orderId:t,saleUserId:n,templateId:r,tenantId:b,productCategory:F,insurerCode:c,agencyCode:u})}};return te(()=>{de({orderNo:O,agentCode:B,tenantId:b}).then(o=>{const{code:a,data:t}=o;a==="10000"&&(e.value=t)})}),(o,a)=>{const t=W("van-button"),n=W("ProPageWrap");return d(),H(n,null,{default:l(()=>{var r,u,c,f,N,A,Y,x,M,U,R;return[e.value?(d(),_("div",fe,[m("div",me,[s(C,null,{label:l(()=>{var i,S,$,G;return[m("div",ye,[m("div",Ce,h(($=(S=(i=e.value)==null?void 0:i.tenantOrderInsuredList[0])==null?void 0:S.tenantOrderProductList[0])==null?void 0:$.productName),1),m("div",he,h((G=e.value)==null?void 0:G.abbreviation),1)])]}),content:l(()=>{var i;return[m("div",Ie,h(e.value?p(ce)[(i=e.value)==null?void 0:i.orderStatus]:""),1)]}),_:1}),s(C,{label:"\u6295\u4FDD\u5355\u53F7",content:(r=e.value)==null?void 0:r.orderNo},null,8,["content"]),s(C,{label:"\u521B\u5EFA\u65F6\u95F4",content:p(oe)((u=e.value)==null?void 0:u.gmtCreated).format("YYYY-MM-DD HH:mm:ss")},null,8,["content"]),s(C,{label:"\u6295\u4FDD\u4EBA",content:(f=(c=e.value)==null?void 0:c.tenantOrderHolder)==null?void 0:f.name},null,8,["content"]),(d(!0),_(ae,null,ne(((N=e.value)==null?void 0:N.tenantOrderInsuredList)||[],(i,S)=>(d(),H(C,{key:S,label:"\u88AB\u4FDD\u4EBA",content:i.name},null,8,["content"]))),128))]),s(le,{"product-data":(x=(Y=(A=e.value)==null?void 0:A.tenantOrderInsuredList[0])==null?void 0:Y.tenantOrderProductList)==null?void 0:x[0],class:"insure-info"},null,8,["product-data"]),((M=e.value)==null?void 0:M.orderTopStatus)===p(T).PENDING?(d(),_("div",ge,[s(t,{type:"primary",onClick:y(E,["stop"])},{default:l(()=>[ke]),_:1},8,["onClick"]),s(t,{type:"primary",onClick:y(X,["stop"])},{default:l(()=>[De]),_:1},8,["onClick"])])):v("",!0),((U=e.value)==null?void 0:U.orderTopStatus)===p(T).PAYING?(d(),_("div",Oe,[s(t,{type:"primary",onClick:y(E,["stop"])},{default:l(()=>[be]),_:1},8,["onClick"]),s(t,{type:"primary",onClick:y(Z,["stop"])},{default:l(()=>[Se]),_:1},8,["onClick"])])):v("",!0),((R=e.value)==null?void 0:R.orderTopStatus)===p(T).TIMEOUT?(d(),_("div",Pe,[s(t,{type:"primary",onClick:y(E,["stop"])},{default:l(()=>[Be]),_:1},8,["onClick"])])):v("",!0)])):v("",!0)]}),_:1})}}});var Me=J(Ee,[["__scopeId","data-v-28e78c48"]]);export{Me as default};
