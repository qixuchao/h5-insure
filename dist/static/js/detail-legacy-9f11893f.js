!function(){var e=document.createElement("style");e.innerHTML=".popup-body{width:100%;height:100%}.previewSign{width:1.33333rem;height:1.33333rem}.sign-container-wrap{width:100%;padding-left:2rem;height:100%;display:flex;flex-direction:row-reverse;justify-content:space-between;overflow:hidden}.sign-container-wrap .operate-bar{position:absolute;width:100vh;display:flex;align-items:center;transform:rotate(90deg) translate(8rem);padding-left:1.33333rem}.sign-container-wrap .com-sign-wrapper{width:100%;height:100%}.sign-container-wrap .com-sign-wrapper .placeholder{transform:rotate(90deg)}.net-sale-detail-wrap[data-v-3cf15eaa]{padding:0 var(--zaui-page-border, .4rem) 2rem;background-color:#f4f4f4}.net-sale-detail-wrap .part[data-v-3cf15eaa]{border-radius:.05333rem;margin-bottom:.13333rem}.net-sale-detail-wrap .common-cell-wrapper[data-v-3cf15eaa]{height:1.38667rem;align-items:center;width:100%;display:inline-flex}.net-sale-detail-wrap .common-cell-wrapper[data-v-3cf15eaa] .cell-container{align-items:flex-start;justify-content:center;width:100%;color:var(--van-field-label-color);font-size:.4rem}.net-sale-detail-wrap .sign-cell[data-v-3cf15eaa]{display:flex;align-items:center;justify-content:space-between}.net-sale-detail-wrap[data-v-3cf15eaa] .van-field__value{align-items:flex-end}.pre-notice-wrap .body[data-v-3cf15eaa]{height:calc(100% - 2.93333rem);overflow:scroll}.pre-notice-wrap .pre-body[data-v-3cf15eaa]{padding:.66667rem .42667rem 0;height:100%}.pre-notice-wrap .pre-body .header[data-v-3cf15eaa]{line-height:1;border:none}.pre-notice-wrap .pre-body .header img[data-v-3cf15eaa]{height:.58667rem}.pre-notice-wrap .pre-body .header .company-name[data-v-3cf15eaa]{margin-top:.26667rem;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:500;color:#333;line-height:.44rem}.pre-notice-wrap .pre-body .content[data-v-3cf15eaa]{margin-top:.42667rem;padding:.42667rem;background:#fcf4f0;border-radius:.26667rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.56rem;border:1px solid #fff1de;border-top-color:#fee6dd}.pre-notice-wrap .pre-body .content span[data-v-3cf15eaa]{color:#006afc}.pre-notice-wrap .pre-body .footer[data-v-3cf15eaa]{margin-top:.66667rem}\n",document.head.appendChild(e),System.register(["./vendor-legacy-6c860a2e.js","./theme-legacy-28dda1ed.js","./trial-legacy-5c9647e5.js","./nextStep-legacy-e5d4bdc6.js","./verify-legacy-b88e3b77.js","./product-legacy-c5b55364.js","./order-legacy-f67cb725.js","./core-legacy-49cf34cf.js","./index-legacy-5fd2cc9d.js","./index-legacy-57961812.js","./infoCollection-legacy-4642e1a4.js","./relativeTime-legacy-77ff1466.js","./useDicData-legacy-2af7124b.js","./index-legacy-2d216119.js"],(function(e){"use strict";var t,a,n,l,o,r,i,c,d,s,u,p,f,v,m,g,y,h,w,b,I,C,j,x,_,E,O,L,P,k,S,N,T,R,V,F,A;return{setters:[function(e){t=e.h,a=e.r,n=e.x,l=e.k,o=e.l,r=e.y,i=e.z,c=e.A,d=e.s,s=e.Q,u=e.n,p=e.F,f=e.C,v=e.N,m=e.a8,g=e.j,y=e.Z,h=e.m,w=e.I,b=e.E,I=e.T,C=e.a3,j=e.a4},function(e){x=e.u},function(e){_=e.g,E=e.a,O=e.i},function(e){L=e._,P=e.n},function(e){k=e.s},function(e){S=e.p},function(e){N=e.O,T=e.a},function(e){R=e.u,V=e.s},function(e){F=e.P},function(e){A=e._},function(){},function(){},function(){},function(){}],execute:function(){const H={class:"sign-wrap"},U=["src"],z=f("点击签字"),B={class:"popup-body"},D={class:"sign-container-wrap"},G={class:"operate-bar"},Y=i("span",null,"请投保人正楷签署您的签名:",-1),q=f("返回"),J=f("重写"),M=f("确定签字"),Q=t({props:{option:{default:{}},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const f=a(!1),v=a(),m=n((()=>{let e="";return v.value&&(e=v.value.save()),e})),g=()=>{f.value=!0},y=()=>{f.value=!1},h=()=>{v.value?.clear?.()},w=()=>{t("update:modelValue",m.value),f.value=!1};return(e,t)=>{const a=l("van-button"),n=l("ProSign"),b=l("van-popup");return o(),r(p,null,[i("div",H,[c(m)?(o(),r("img",{key:0,class:"previewSign",src:c(m),alt:""},null,8,U)):d("",!0),s(a,{type:"primary",size:"small",onClick:g},{default:u((()=>[z])),_:1})]),s(b,{show:f.value,"onUpdate:show":t[0]||(t[0]=e=>f.value=e),position:"bottom",style:{height:"100%"}},{default:u((()=>[i("div",B,[i("div",D,[s(n,{ref_key:"signRef",ref:v},null,512),i("div",G,[Y,s(a,{type:"default",onClick:y},{default:u((()=>[q])),_:1}),s(a,{type:"default",onClick:h},{default:u((()=>[J])),_:1}),s(a,{type:"default",disabled:!c(m),onClick:w},{default:u((()=>[M])),_:1},8,["disabled"])])])])])),_:1},8,["show"])],64)}}});const W={class:"net-sale-detail-wrap"},X={class:"part"},Z={class:"product-name"},$={class:"part"},K={class:"part"},ee={class:"part"},te={class:"sign-cell"},ae=(e=>(C("data-v-3cf15eaa"),e=e(),j(),e))((()=>i("div",{class:"sign-label"},"签名",-1))),ne={class:"footer-button"},le={class:"footer"};e("default",A(t({setup(e){const t=x(),n=v();m();const{orderNo:f="2022113021181894998",tenantId:C="9991000001",productCode:j="HTEJBX"}=n.query;a();const A=a({}),H=a({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:C,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:C}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),U=a(!1),z=a({}),B=a(),D=a(),G=a(""),Y=a(""),q=a({}),J=async()=>{G.value?(await k("HOLDER",G.value,H.value.id,`${C}`),P(H.value)):I("请先签字")};return R(),g((()=>{(async()=>{const{code:e,data:t}=await O({productCode:j,tenantId:C});"10000"===e&&(B.value=t,A.value=t.productFactor)})(),(async()=>{const{data:e,code:t}=await S({productCode:j,tenantId:C,withInsureInfo:!0});"10000"===t&&(D.value=e)})(),(async()=>{const{code:e,data:t}=await _({orderNo:f,tenantId:C});if("10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",H.value=t,Y.value=t.tenantOrderInsuredList[0]?.planCode,t.orderStatus===T.PAYING)){H.value.extInfo.redirectUrl="";const{code:e,data:t}=await E(H.value);"10000"===e&&V(t.paymentUrl)}})()})),y([()=>Y.value,()=>D.value],(()=>{Y.value&&(q.value=(D.value?.tenantProductInsureVO?.planList||[]).find((e=>e.planCode===Y.value))?.attachmentVOList||[])}),{deep:!0,immediate:!0}),(e,a)=>{const n=l("ProCell"),f=l("ProCard"),v=l("van-cell"),m=l("ProPageWrap"),g=l("ProFilePreview"),y=l("ProPopup"),I=l("van-config-provider");return o(),h(I,{"theme-vars":c(t)},{default:u((()=>[s(m,null,{default:u((()=>[i("div",W,[H.value.id?(o(),h(f,{key:0,"show-line":!1,title:"投保信息"},{default:u((()=>[i("div",X,[i("div",Z,w(B.value?.productBasicInfoVO.productFullName),1)]),i("div",$,[s(n,{title:"保费",content:H.value.orderAmount},null,8,["content"]),s(n,{title:"保险期限",content:H.value.tenantOrderInsuredList[0]?.planName},null,8,["content"]),s(n,{title:"起保日期",content:H.value.commencementTime},null,8,["content"]),s(n,{title:"终保日期",content:H.value.expiryDate},null,8,["content"]),s(n,{title:"保单状态",content:c(N)[H.value.orderStatus]},null,8,["content"])]),i("div",K,[s(n,{title:"订单编号",content:H.value.orderNo},null,8,["content"]),s(n,{title:"销售人名称",content:""}),s(n,{title:"房屋地址",content:H.value.tenantOrderHolder?.extInfo?.familyAddress},null,8,["content"]),s(n,{title:"燃气编号",content:H.value.tenantOrderInsuredList?.[0]?.extInfo.subjectRelatedUserId},null,8,["content"])])])),_:1})):d("",!0),s(L,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":H.value,"factor-object":A.value,"input-align":"right"},null,8,["form-info","factor-object"]),s(f,{title:"阅读条款合同"},{default:u((()=>[i("div",ee,[(o(!0),r(p,null,b(Object.keys(q.value),((e,t)=>(o(),h(v,{key:t,title:e,"is-link":"",onClick:t=>{return a=e,n=q.value[e],U.value=!0,void(z.value={title:a,fileContent:n?.[0]});var a,n}},null,8,["title","onClick"])))),128))])])),_:1}),s(f,{title:"客户签名"},{default:u((()=>[i("div",te,[ae,s(Q,{modelValue:G.value,"onUpdate:modelValue":a[0]||(a[0]=e=>G.value=e)},null,8,["modelValue"])])])),_:1}),i("div",ne,[s(F,{text:"提交",onClick:J})])])])),_:1}),s(y,{show:U.value,"onUpdate:show":a[2]||(a[2]=e=>U.value=e),class:"pre-notice-wrap",title:z.value?.title,position:"bottom",style:{height:"600px"}},{default:u((()=>[s(g,{content:z.value?.fileContent?.attachmentUri,type:"richText"},null,8,["content"]),i("div",le,[s(F,{shadow:!1,text:"关闭",onClick:a[1]||(a[1]=e=>U.value=!1)})])])),_:1},8,["show","title"])])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-3cf15eaa"]]))}}}))}();
