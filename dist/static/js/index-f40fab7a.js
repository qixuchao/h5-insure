var Ze=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var Se=(o,a,V)=>a in o?Ze(o,a,{enumerable:!0,configurable:!0,writable:!0,value:V}):o[a]=V,J=(o,a)=>{for(var V in a||(a={}))it.call(a,V)&&Se(o,V,a[V]);if(Ne)for(var V of Ne(a))at.call(a,V)&&Se(o,V,a[V]);return o},ie=(o,a)=>et(o,tt(a));import{g as W,L as z,a1 as M,r as B,k as y,m as T,n as I,j as v,y as A,z as e,a2 as Je,a3 as ze,a4 as re,C as w,x as G,d as oe,h as O,s as R,I as S,a5 as nt,a6 as Me,o as se,F as ae,E as ne,a7 as ot,a8 as ut,B as Q,D as lt,J as rt,Q as st,a9 as dt,T as ct}from"./vendor-c6b9a2b7.js";import{P as N,a as mt}from"./index-ad9664df.js";import{b as de,S as ce,_ as H,P as ue}from"./index-2aa83cea.js";const ft=[{label:"\u7537",value:"1"},{label:"\u5973",value:"2"}],pt=[{label:"\u6709",value:"1"},{label:"\u65E0",value:"2"}],yt=[{value:1,label:"\u7B2C5\u4E2A\u4FDD\u5355\u5468\u5E74\u65E5"},{value:2,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8455\u5468\u5C81"},{value:3,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8460\u5468\u5C81"},{value:4,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8465\u5468\u5C81"},{value:5,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8470\u5468\u5C81"},{value:6,label:"\u8D77\u59CB\u9886\u53D6\u5E74\u9F8475\u5468\u5C81"}],Dt=[{value:1,label:"\u5E74\u9886"},{value:2,label:"\u6708\u9886"}],le=[{label:"\u8DB8\u4EA4",value:"1"},{label:"\u5E74\u4EA4",value:"2"},{label:"\u534A\u5E74\u4EA4",value:"3"},{label:"\u5B63\u4EA4",value:"4"},{label:"\u6708\u4EA4",value:"5"}],Vt=[{name:"\u540C\u4E3B\u9669\u671F\u95F4\u51CF1",value:"3"},{name:"\u65E0\u9650\u5236",value:"2"}],je=[{label:"\u8FD4\u4FDD\u989D",value:"1"},{label:"\u8FD4\u4FDD\u8D39",value:"2"}],gt=[{label:"\u6295\u4FDD",value:"0"},{label:"\u4E0D\u6295\u4FDD",value:"-1"}],Qe=(o={})=>de.post("/api/gateway/system/dict/v2/queryDictInfo",o);new ce({source:"sessionStorage"});const Ke=new ce({source:"localStorage"});new ce({source:"cookie"});const kt=o=>(Je("data-v-4b261f8d"),o=o(),ze(),o),vt={class:"com-occupational-wrapper"},It=kt(()=>A("div",{class:"popup-title"},"\u9009\u62E9\u804C\u4E1A",-1)),bt={class:"popup-content"},Ft=W({props:{modelValue:{type:Array,required:!0,default:()=>[]},insuredCode:{type:String,required:!0,default:""},show:{type:Boolean,required:!0,default:!1}},emits:["finish","close","update:modelValue"],setup(o,{emit:a}){const V=o,_=z({show:V.show,options:[],currentValue:""}),d=()=>{a("close")},s=({value:D,selectedOptions:n})=>{const h=(n||[]).map(g=>g.value).join("/"),m=+n[n.length-1].name;a("update:modelValue",m),a("finish",h),d()},b=D=>{const n=D,h=m=>{m.forEach(g=>{const p=g;p.children.length?h(p.children):p.children=null})};return h(n),n},F=(D="")=>{var m;const n=`${(m=D==null?void 0:D.toLocaleUpperCase)==null?void 0:m.call(D)}_OCCUPATION`,h=Ke.get("occupational")||{};if(h[n]){_.options=h[n];return}Qe({dictCodeList:[n]}).then(({code:g,data:p})=>{var k;if(g==="10000"){const t=b(((k=p==null?void 0:p[0])==null?void 0:k.dictItemList)||[]);_.options=t,h[n]=t,Ke.set("occupational",h)}})};return M(()=>V,()=>{F(V.insuredCode)},{deep:!0,immediate:!0}),M(()=>V.modelValue,D=>{},{deep:!0,immediate:!0}),(D,n)=>{const h=B("van-cascader"),m=B("VanPopup");return y(),T("div",vt,[I(m,{show:e(_).show,"onUpdate:show":n[1]||(n[1]=g=>e(_).show=g),"show-footer":"",position:"bottom",closeable:"",onClose:d},{default:v(()=>[It,A("div",bt,[I(h,{modelValue:e(_).currentValue,"onUpdate:modelValue":n[0]||(n[0]=g=>e(_).currentValue=g),title:"\u8BF7\u9009\u62E9\u804C\u4E1A","show-header":!1,placeholder:"\u8BF7\u9009\u62E9",options:e(_).options,"active-color":"#0d6efe","field-names":{text:"value",value:"code",children:"children"},onFinish:s},null,8,["modelValue","options"])])]),_:1},8,["show"])])}}});var Lt=H(Ft,[["__scopeId","data-v-4b261f8d"]]);const _t={class:"com-personal-info-wrapper"},ht={key:0,class:"placeholder"},Ct={key:1},Et=W({props:{formInfo:{type:Object,required:!0,default:()=>{}},insuredCode:{type:String,required:!0,default:""},factorList:{type:Array,required:!0,default:()=>[]},ageRange:{type:Array,required:!0,default:()=>[]}},setup(o,{expose:a}){const V=o,[_,d]=re(),[s,b]=re(),F=w(),D=z({formInfo:V==null?void 0:V.formInfo,occupationalText:""}),n=k=>{D.occupationalText=k},h=()=>{b(!1)},m=()=>new Promise((k,t)=>{F==null||F.value.validate().then(()=>{k("")},()=>{t()})}),g=k=>{const t=k||[];for(let i=0;i<t.length;i++)for(let c=i+1;c<t.length;c++){const r=t[i].split("_"),u=t[c].split("_"),l=t[i];r[0]===u[0]?r>u&&(t[i]=t[c],t[c]=l):r[0]==="age"&&(t[i]=t[c],t[c]=l)}return t},p=G(()=>{const k=g(V==null?void 0:V.ageRange),t=(l="")=>{const L=+l.split("_")[1],C=l.split("_")[0];return[L,C]},i=t(k[0]),c=t(k[k.length-1]),r=oe().subtract(i[0],i[1]==="age"?"year":"day").format("YYYY-MM-DD"),u=oe().subtract(c[0],c[1]==="age"?"year":"day").format("YYYY-MM-DD");return console.log("ageRangeObj",new Date(u),new Date(r)),{minAge:new Date(u),maxAge:new Date(r)}});return a({validateForm:m}),(k,t)=>{const i=B("VanField"),c=B("VanForm"),r=B("van-datetime-picker"),u=B("van-popup");return y(),T("div",_t,[I(c,{ref_key:"formRef",ref:F,"input-align":"right","error-message-align":"right"},{default:v(()=>[o.factorList.includes("APPLICANT.AGE")||o.factorList.includes("AGE")||o.factorList.includes("DAY")||o.factorList.includes("APPLICANT.DAY")?(y(),O(i,{key:0,modelValue:e(D).formInfo.birthday,"onUpdate:modelValue":t[0]||(t[0]=l=>e(D).formInfo.birthday=l),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F"}],name:"birth",label:"\u51FA\u751F\u65E5\u671F",class:"isLink",readonly:"","is-link":"",placeholder:"\u8BF7\u9009\u62E9",onClick:t[1]||(t[1]=l=>e(d)(!0))},null,8,["modelValue"])):R("",!0),o.factorList.includes("APPLICANT.GENDER")||o.factorList.includes("GENDER")?(y(),O(i,{key:1,modelValue:e(D).formInfo.gender,"onUpdate:modelValue":t[3]||(t[3]=l=>e(D).formInfo.gender=l),name:"gender",label:"\u6027\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]},{input:v(()=>[I(N,{modelValue:e(D).formInfo.gender,"onUpdate:modelValue":t[2]||(t[2]=l=>e(D).formInfo.gender=l),options:e(ft)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):R("",!0),o.factorList.includes("SOCIAL_INS")?(y(),O(i,{key:2,modelValue:e(D).formInfo.socialSecurity,"onUpdate:modelValue":t[5]||(t[5]=l=>e(D).formInfo.socialSecurity=l),name:"socialSecurity",label:"\u793E\u4FDD",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u793E\u4FDD"}]},{input:v(()=>[I(N,{modelValue:e(D).formInfo.socialSecurity,"onUpdate:modelValue":t[4]||(t[4]=l=>e(D).formInfo.socialSecurity=l),options:e(pt)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):R("",!0),o.factorList.includes("OCCUPATION_CATEGORY")?(y(),O(i,{key:3,modelValue:e(D).formInfo.occupationalClass,"onUpdate:modelValue":t[6]||(t[6]=l=>e(D).formInfo.occupationalClass=l),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u804C\u4E1A\u7C7B\u578B"}],name:"occupationalClass",label:"\u804C\u4E1A\u7C7B\u578B","is-link":"",readonly:"",placeholder:"\u8BF7\u9009\u62E9",onClick:t[7]||(t[7]=l=>e(b)(!0))},{input:v(()=>[e(D).occupationalText?(y(),T("div",Ct,S(e(D).occupationalText),1)):(y(),T("span",ht,"\u8BF7\u9009\u62E9"))]),_:1},8,["modelValue"])):R("",!0)]),_:1},512),I(u,{show:e(_),"onUpdate:show":t[10]||(t[10]=l=>nt(_)?_.value=l:null),position:"bottom"},{default:v(()=>[I(r,{type:"date","min-date":e(p).minAge,"max-date":e(p).maxAge,onConfirm:t[8]||(t[8]=l=>{e(D).formInfo.birthday=e(oe)(l).format("YYYY-MM-DD"),e(d)(!1)}),onCancel:t[9]||(t[9]=l=>e(d)(!1))},null,8,["min-date","max-date"])]),_:1},8,["show"]),e(s)?(y(),O(Lt,{key:0,modelValue:e(D).formInfo.occupationalClass,"onUpdate:modelValue":t[11]||(t[11]=l=>e(D).formInfo.occupationalClass=l),show:e(s),"insured-code":o.insuredCode,onFinish:n,onClose:h},null,8,["modelValue","show","insured-code"])):R("",!0)])}}});var Ge=H(Et,[["__scopeId","data-v-218c66be"]]);const Ot={class:"com-risk-card-wrapper part-card"},Rt={class:"custom-field"},At={class:"field-tip"},Bt={class:"custom-field"},Pt={class:"field-tip"},Tt={class:"custom-field"},xt={class:"field-tip"},qt={key:0},$t={key:9,class:"liab-desc"},wt=W({props:{originData:{type:Object,required:!0,default:()=>{}},formInfo:{type:Object,required:!0,default:()=>{}},mainRiskData:{type:Object,default:()=>{}},mainRiskInfo:{type:Object,required:!1,default:()=>{}},index:{type:[Number,String],default:0,required:!0},removeRisk:{type:Function,default:()=>{}},removeRiskList:{type:Array,default:()=>[]},enums:{type:Object,default:()=>{}}},setup(o){const a=o,V=w({}),_=Me("premium")||{};V.value=Me("enumList")||{};const d=w({paymentYear:{disabled:!1,prevent:!1},coverageYear:{disabled:!1,prevent:!1},paymentFrequency:{disabled:!1,prevent:!1}}),s=z({formInfo:a.formInfo}),b=t=>typeof t!="boolean"&&!t||Array.isArray(t)&&!t.length?!0:{}.toString.call(t)==="object Object"?Object.keys(t).length:!1,F=(t,i,c={})=>{let r=i;return Array.isArray(i)||(r=[`${r}`]),(t||[]).filter(u=>r.includes(`${u.value}`)||r.includes(u.value))},D=G(()=>{var t,i,c,r,u,l,L,C;return((t=a.originData)==null?void 0:t.riskType)===1?(console.log("enumList.value?.RISK_INSURANCE_PERIOD",(i=V.value)==null?void 0:i.RISK_INSURANCE_PERIOD),F(a==null?void 0:a.enums.RISK_INSURANCE_PERIOD,(r=(c=a==null?void 0:a.originData)==null?void 0:c.riskInsureLimitVO)==null?void 0:r.insurancePeriodValueList)):((u=a.originData)==null?void 0:u.periodType)===2?F([{value:"year_1",name:"1\u5E74"}],["year_1"]):F((l=a==null?void 0:a.enums)==null?void 0:l.RISK_INSURANCE_PERIOD,(C=(L=a==null?void 0:a.mainRiskData)==null?void 0:L.riskInsureLimitVO)==null?void 0:C.insurancePeriodValueList)}),n=G(()=>{var t,i,c,r,u,l,L,C,x,q,j;return((t=a.originData)==null?void 0:t.riskType)===1?F((i=a==null?void 0:a.enums)==null?void 0:i.RISK_PAYMENT_PERIOD,(r=(c=a==null?void 0:a.originData)==null?void 0:c.riskInsureLimitVO)==null?void 0:r.paymentPeriodValueList):((u=a.originData)==null?void 0:u.exemptFlag)===1?F(Vt,[`${(L=(l=a==null?void 0:a.originData)==null?void 0:l.riskInsureLimitVO)==null?void 0:L.paymentPeriodRule}`]):((C=a.originData)==null?void 0:C.periodType)===2?F([{value:"year_1",name:"1\u5E74\u4EA4"}],["year_1"]):F((x=a==null?void 0:a.enums)==null?void 0:x.RISK_PAYMENT_PERIOD,(j=(q=a==null?void 0:a.mainRiskData)==null?void 0:q.riskInsureLimitVO)==null?void 0:j.paymentPeriodValueList)}),h=G(()=>{var t,i,c,r,u,l,L,C;return((t=a.originData)==null?void 0:t.riskType)===1?F(le,(c=(i=a==null?void 0:a.originData)==null?void 0:i.riskInsureLimitVO)==null?void 0:c.paymentFrequencyList):((r=a==null?void 0:a.originData)==null?void 0:r.paymentTypeRule)===1?F(le,(l=(u=a==null?void 0:a.mainRiskData)==null?void 0:u.riskInsureLimitVO)==null?void 0:l.paymentFrequencyList):F(le,(C=(L=a==null?void 0:a.mainRiskData)==null?void 0:L.riskInsureLimitVO)==null?void 0:C.paymentFrequencyList)}),m=G(()=>{var c,r;let t=0,i=0;return(((r=(c=a.originData)==null?void 0:c.riskCalcMethodInfoVO)==null?void 0:r.paymentMethodLimitList)||[]).forEach((u,l)=>{l===0&&(t=u.minAmount,i=u.maxAmount),t>u.minAmount&&(t=u.minAmount),i<u.maxAmount&&(i=u.maxAmount)}),s.formInfo.sumInsured=t,{min:t,max:i}}),g=G(()=>{var c,r;let t=0,i=0;return(((r=(c=a.originData)==null?void 0:c.riskCalcMethodInfoVO)==null?void 0:r.paymentMethodLimitList)||[]).forEach((u,l)=>{l===0&&(t=u.minPremium,i=u.maxPremium),t>u.minPremium&&(t=u.minPremium),i<u.maxPremium&&(i=u.maxPremium)}),s.formInfo.premium=t,{min:t,max:i}}),p=G(()=>{var c,r,u,l;const t=((r=(c=a.originData)==null?void 0:c.riskCalcMethodInfoVO)==null?void 0:r.minCopy)||1,i=(l=(u=a.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.maxCopy;return s.formInfo.copy=t,{min:t,max:i}}),k=(t,i,c)=>{var u,l;const r=((l=(u=a.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.increaseDecreaseNum)||1;if(c==="sumInsured"){if(+t>m.value.max)return`\u91D1\u989D\u6700\u5927${m.value.max}\u5143`;if(+t<m.value.min)return`\u91D1\u989D\u6700\u5C0F${m.value.min}\u5143`}else{if(+t>g.value.max)return`\u91D1\u989D\u6700\u5927${g.value.max}\u5143`;if(+t<g.value.min)return`\u91D1\u989D\u6700\u5C0F${g.value.min}\u5143`}return+t%r===0?"":`\u91D1\u989D\u5FC5\u987B\u662F${r}\u7684\u500D\u6570`};return se(()=>{var i,c;const t={riskType:a.originData.riskType,riskId:a.originData.id,riskCode:a.originData.riskCode,mainRiskCode:(i=a==null?void 0:a.mainRiskData)==null?void 0:i.riskCode,mainRiskId:(c=a==null?void 0:a.mainRiskData)==null?void 0:c.id,riskCategory:a.originData.riskCategory,liabilityVOList:(a.originData.riskLiabilityInfoVOList||[]).map(r=>({liabilityAttributeCode:r.liabilityAttributeType,liabilityCode:r.liabilityCode,liabilityId:r.id,liabilityRateType:r.liabilityRateType}))};Object.assign(s==null?void 0:s.formInfo,t)}),M(()=>{var t;return(t=s.formInfo)==null?void 0:t.paymentFrequency},t=>{var i,c,r,u;[3,4].includes((c=(i=a.originData)==null?void 0:i.riskCalcMethodInfoVO)==null?void 0:c.saleMethod)&&(((u=(r=a.originData)==null?void 0:r.riskCalcMethodInfoVO)==null?void 0:u.paymentMethodLimitList)||[]).forEach(l=>{+l.paymentFrequency==+t&&Object.assign(s.formInfo,{sumInsured:l.perCopyAmount,premium:l.perCopyPremium})}),t==="1"&&s.formInfo.paymentYear!=="single"&&(s.formInfo.paymentYear="single")}),M(()=>{var t;return(t=s.formInfo)==null?void 0:t.paymentYear},t=>{t==="single"&&s.formInfo.paymentFrequency!=="1"&&(s.formInfo.paymentFrequency="1")}),M(()=>a==null?void 0:a.mainRiskInfo,t=>{var i,c,r,u,l,L;t&&a.originData.riskType===2&&(((c=(i=a.originData)==null?void 0:i.riskInsureLimitVO)==null?void 0:c.insurancePeriodRule)===1&&(t.coverageYear?d.value.coverageYear.disabled=!0:d.value.coverageYear.prevent=!0,s.formInfo.coverageYear=t.coverageYear),((u=(r=a.originData)==null?void 0:r.riskInsureLimitVO)==null?void 0:u.paymentPeriodRule)===1&&(t.paymentYear?d.value.paymentYear.disabled=!0:d.value.paymentYear.prevent=!0,s.formInfo.paymentYear=t.paymentYear),((L=(l=a.originData)==null?void 0:l.riskInsureLimitVO)==null?void 0:L.paymentTypeRule)===1&&(t.paymentFrequency?d.value.paymentFrequency.disabled=!0:d.value.paymentFrequency.prevent=!0,s.formInfo.paymentFrequency=t.paymentFrequency))},{immediate:!0,deep:!0}),(t,i)=>{var C,x,q,j,U,X,Z,ee,$,me,fe,pe,ye,De,Ve,ge,ke,ve,Ie,be,Fe,Le,_e,he,Ce,Ee,Oe,Re,Ae,Be,Pe,Te,xe,qe,$e,we,Ye,Ue;const c=B("ProSvg"),r=B("ProTitle"),u=B("VanStepper"),l=B("VanField"),L=B("ProExpand");return y(),T("div",Ot,[I(r,{"risk-type":(C=o.originData)==null?void 0:C.riskType,title:(x=o.originData)==null?void 0:x.riskName},{default:v(()=>[o.removeRiskList.includes(o.originData.id)?(y(),T("div",{key:0,class:"delete-risk",onClick:i[0]||(i[0]=f=>o.removeRisk(o.originData.id))},[I(c,{name:"delete",color:"#0d6efe"})])):R("",!0)]),_:1},8,["risk-type","title"]),((j=(q=o.originData)==null?void 0:q.riskCalcMethodInfoVO)==null?void 0:j.saleMethod)===1&&((U=o.originData)==null?void 0:U.exemptFlag)===2?(y(),O(l,{key:0,modelValue:e(s).formInfo.sumInsured,"onUpdate:modelValue":i[2]||(i[2]=f=>e(s).formInfo.sumInsured=f),label:"\u4FDD\u989D",name:"sumInsured",rules:[{required:!0,message:"\u8BF7\u586B\u5199"},{trigger:"onChange",validator:(...f)=>k(...f,"sumInsured")}]},{input:v(()=>{var f,E,P,Y;return[A("div",Rt,[I(u,{modelValue:e(s).formInfo.sumInsured,"onUpdate:modelValue":i[1]||(i[1]=K=>e(s).formInfo.sumInsured=K),"input-width":"64px",min:e(m).min,step:((E=(f=o.originData)==null?void 0:f.riskCalcMethodInfoVO)==null?void 0:E.increaseDecreaseNum)||1,max:e(m).max},null,8,["modelValue","min","step","max"]),A("span",At,S(`\u91D1\u989D\u6700\u4F4E${e(m).min}\u5143\uFF0C\u4E3A${((Y=(P=o.originData)==null?void 0:P.riskCalcMethodInfoVO)==null?void 0:Y.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue","rules"])):R("",!0),((Z=(X=o.originData)==null?void 0:X.riskCalcMethodInfoVO)==null?void 0:Z.saleMethod)===2?(y(),O(l,{key:1,modelValue:e(s).formInfo.premium,"onUpdate:modelValue":i[4]||(i[4]=f=>e(s).formInfo.premium=f),label:"\u4FDD\u8D39",name:"premium",rules:[{required:!0,message:"\u8BF7\u586B\u5199"},{trigger:"onChange",validator:(...f)=>k(...f,"premium")}]},{input:v(()=>{var f,E,P,Y;return[A("div",Bt,[I(u,{modelValue:e(s).formInfo.premium,"onUpdate:modelValue":i[3]||(i[3]=K=>e(s).formInfo.premium=K),step:((E=(f=o.originData)==null?void 0:f.riskCalcMethodInfoVO)==null?void 0:E.increaseDecreaseNum)||1,min:e(g).min,"input-width":"64px",max:e(g).max},null,8,["modelValue","step","min","max"]),A("span",Pt,S(`\u91D1\u989D\u6700\u4F4E${e(g).min}\u5143\uFF0C\u4E3A${((Y=(P=o.originData)==null?void 0:P.riskCalcMethodInfoVO)==null?void 0:Y.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue","rules"])):R("",!0),(($=(ee=o.originData)==null?void 0:ee.riskCalcMethodInfoVO)==null?void 0:$.saleMethod)===3||((fe=(me=o.originData)==null?void 0:me.riskCalcMethodInfoVO)==null?void 0:fe.saleMethod)===4&&(((ye=(pe=o.originData)==null?void 0:pe.riskCalcMethodInfoVO)==null?void 0:ye.minCopy)||((Ve=(De=o.originData)==null?void 0:De.riskCalcMethodInfoVO)==null?void 0:Ve.maxCopy))?(y(),O(l,{key:2,modelValue:e(s).formInfo.copy,"onUpdate:modelValue":i[6]||(i[6]=f=>e(s).formInfo.copy=f),label:"\u6295\u4FDD\u4EFD\u6570",name:"copy",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:v(()=>[A("div",Tt,[I(u,{modelValue:e(s).formInfo.copy,"onUpdate:modelValue":i[5]||(i[5]=f=>e(s).formInfo.copy=f),step:1,min:e(p).min,max:e(p).max},null,8,["modelValue","min","max"]),A("span",xt,S(`${e(p).min}\u4EFD\u8D77\u8D2D\uFF0C\u6700\u591A\u8D2D\u4E70${e(p).max}\u4EFD`),1)])]),_:1},8,["modelValue"])):R("",!0),(![1,4].includes((ke=(ge=o.originData)==null?void 0:ge.riskCalcMethodInfoVO)==null?void 0:ke.saleMethod)||((ve=o.originData)==null?void 0:ve.exemptFlag)===1)&&((be=e(_))==null?void 0:be[(Ie=o.originData)==null?void 0:Ie.riskCode])?(y(),O(l,{key:3,label:"\u4FDD\u989D"},{input:v(()=>{var f,E,P;return[A("div",null,S((P=(E=e(_))==null?void 0:E[(f=o.originData)==null?void 0:f.riskCode])==null?void 0:P.amount),1)]}),_:1})):R("",!0),!b((Le=(Fe=o.originData)==null?void 0:Fe.riskInsureLimitVO)==null?void 0:Le.insurancePeriodValueList)||!b((he=(_e=o.originData)==null?void 0:_e.riskInsureLimitVO)==null?void 0:he.insurancePeriodRule)?(y(),O(l,{key:4,modelValue:e(s).formInfo.coverageYear,"onUpdate:modelValue":i[8]||(i[8]=f=>e(s).formInfo.coverageYear=f),label:"\u4FDD\u969C\u671F\u95F4",name:"coverageYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4FDD\u969C\u671F\u95F4"}]},{input:v(()=>[I(N,{modelValue:e(s).formInfo.coverageYear,"onUpdate:modelValue":i[7]||(i[7]=f=>e(s).formInfo.coverageYear=f),disabled:d.value.coverageYear.disabled,prevent:d.value.coverageYear.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4FDD\u969C\u671F\u95F4":"",options:e(D),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):R("",!0),!b((Ee=(Ce=o.originData)==null?void 0:Ce.riskInsureLimitVO)==null?void 0:Ee.paymentPeriodValueList)||!b((Re=(Oe=o.originData)==null?void 0:Oe.riskInsureLimitVO)==null?void 0:Re.paymentPeriodRule)?(y(),O(l,{key:5,modelValue:e(s).formInfo.paymentYear,"onUpdate:modelValue":i[10]||(i[10]=f=>e(s).formInfo.paymentYear=f),label:"\u4EA4\u8D39\u671F\u95F4",name:"paymentYear",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u671F\u95F4"}]},{input:v(()=>[I(N,{modelValue:e(s).formInfo.paymentYear,"onUpdate:modelValue":i[9]||(i[9]=f=>e(s).formInfo.paymentYear=f),disabled:d.value.paymentYear.disabled,prevent:d.value.paymentYear.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u671F\u95F4":"",options:e(n),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):R("",!0),!b((Be=(Ae=o.originData)==null?void 0:Ae.riskInsureLimitVO)==null?void 0:Be.paymentFrequencyList)||!b((Te=(Pe=o.originData)==null?void 0:Pe.riskInsureLimitVO)==null?void 0:Te.paymentPeriodRule)?(y(),O(l,{key:6,modelValue:e(s).formInfo.paymentFrequency,"onUpdate:modelValue":i[12]||(i[12]=f=>e(s).formInfo.paymentFrequency=f),label:"\u4EA4\u8D39\u65B9\u5F0F",name:"paymentFrequency",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u65B9\u5F0F"}]},{input:v(()=>[I(N,{modelValue:e(s).formInfo.paymentFrequency,"onUpdate:modelValue":i[11]||(i[11]=f=>e(s).formInfo.paymentFrequency=f),disabled:d.value.paymentFrequency.disabled,prevent:d.value.paymentFrequency.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u65B9\u5F0F":"",options:e(h)},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):R("",!0),b((qe=(xe=o.originData)==null?void 0:xe.riskInsureLimitVO)==null?void 0:qe.annuityDrawTypeList)?R("",!0):(y(),O(l,{key:7,modelValue:e(s).formInfo.annuityDrawDate,"onUpdate:modelValue":i[14]||(i[14]=f=>e(s).formInfo.annuityDrawDate=f),label:"\u9886\u53D6\u65F6\u95F4",name:"annuityDrawDate",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65F6\u95F4"}]},{input:v(()=>{var f,E;return[I(N,{modelValue:e(s).formInfo.annuityDrawDate,"onUpdate:modelValue":i[13]||(i[13]=P=>e(s).formInfo.annuityDrawDate=P),options:F(e(yt),(E=(f=o.originData)==null?void 0:f.riskInsureLimitVO)==null?void 0:E.annuityDrawTypeList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),b((we=($e=o.originData)==null?void 0:$e.riskInsureLimitVO)==null?void 0:we.annuityDrawFrequencyList)?R("",!0):(y(),O(l,{key:8,modelValue:e(s).formInfo.annuityDrawType,"onUpdate:modelValue":i[16]||(i[16]=f=>e(s).formInfo.annuityDrawType=f),label:"\u9886\u53D6\u65B9\u5F0F",name:"annuityDrawType",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65B9\u5F0F"}]},{input:v(()=>{var f,E;return[I(N,{modelValue:e(s).formInfo.annuityDrawType,"onUpdate:modelValue":i[15]||(i[15]=P=>e(s).formInfo.annuityDrawType=P),options:F(e(Dt),(E=(f=o.originData)==null?void 0:f.riskInsureLimitVO)==null?void 0:E.annuityDrawFrequencyList)},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),(y(!0),T(ae,null,ne(((Ye=o.originData)==null?void 0:Ye.riskLiabilityInfoVOList)||[],(f,E)=>(y(),T("div",{key:E},[f.optionalFlag===1?(y(),O(l,{key:0,modelValue:e(s).formInfo.liabilityVOList[E].liabilityAttributeValue,"onUpdate:modelValue":P=>e(s).formInfo.liabilityVOList[E].liabilityAttributeValue=P,label:f.liabilityName,name:"liabilityAttributeValue",rules:[{required:f.liabilityAttributeValue,message:`\u8BF7\u9009\u62E9${f.liabilityName}`}]},{input:v(()=>{var P,Y,K;return[A("div",null,[b(f.liabilityAttributeValueList)?(y(),T("span",qt,"50\u4E07")):(y(),O(N,{key:1,modelValue:e(s).formInfo.liabilityVOList[E].liabilityAttributeValue,"onUpdate:modelValue":te=>e(s).formInfo.liabilityVOList[E].liabilityAttributeValue=te,options:F(e(je),(K=(Y=(P=o.originData)==null?void 0:P.riskLiabilityInfoVOList)==null?void 0:Y[E])==null?void 0:K.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label","rules"])):(y(),O(l,{key:1,modelValue:e(s).formInfo.liabilityVOList[E].liabilityAttributeValue,"onUpdate:modelValue":P=>e(s).formInfo.liabilityVOList[E].liabilityAttributeValue=P,label:f.liabilityName,name:"liabilityAttributeValue"},{input:v(()=>{var P,Y,K;return[A("div",null,[b(f.liabilityAttributeValueList)?(y(),O(N,{key:0,modelValue:e(s).formInfo.liabilityVOList[E].liabilityAttributeValue,"onUpdate:modelValue":te=>e(s).formInfo.liabilityVOList[E].liabilityAttributeValue=te,options:e(gt)},null,8,["modelValue","onUpdate:modelValue","options"])):(y(),O(N,{key:1,modelValue:e(s).formInfo.liabilityVOList[E].liabilityAttributeValue,"onUpdate:modelValue":te=>e(s).formInfo.liabilityVOList[E].liabilityAttributeValue=te,options:F(e(je),(K=(Y=(P=o.originData)==null?void 0:P.riskLiabilityInfoVOList)==null?void 0:Y[E])==null?void 0:K.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label"]))]))),128)),((Ue=o.originData)==null?void 0:Ue.relationDesc)?(y(),T("div",$t,[I(L,{title:"\u8D23\u4EFB\u6295\u4FDD\u8BF4\u660E"},{default:v(()=>{var f;return[A("div",null,S((f=o.originData)==null?void 0:f.relationDesc),1)]}),_:1})])):R("",!0)])}}});var We=H(wt,[["__scopeId","data-v-f2e353c8"]]);const Xe=o=>(Je("data-v-24bb32ea"),o=o(),ze(),o),Yt={class:"com-risk-list-wrapper"},Ut=Xe(()=>A("div",{class:"popup-title"},"\u9009\u62E9\u9644\u52A0\u9669",-1)),Nt={class:"risk-list"},St={class:"cell-title"},Mt={class:"title"},jt=Xe(()=>A("div",{class:"title-desc"},"\u6B64\u5904\u4E3A\u9669\u79CD\u7B80\u8981\u8BF4\u660E",-1)),Kt={class:"footer-bar"},Gt=Q("\u786E\u8BA4"),Wt=W({props:{riskList:{type:Array,required:!0,default:()=>[]},show:{type:Boolean,required:!0,default:!1},collocationList:{type:Array,default:()=>[]},disabled:{type:Array,required:!0,default:()=>[]},modelValue:{type:Array,required:!0,default:()=>[]}},emits:["finished","close","update:modelValue"],setup(o,{emit:a}){const V=o,_=w([]),d=w([]),s=w([...V.disabled]),b=z({show:V.show,currentChecked:[...V.modelValue]}),F=(m,g)=>{if(!V.collocationList.length){if(g){b.currentChecked=[];return}b.currentChecked.push(m);return}let p=b.currentChecked,k=s.value;g?(V.collocationList.forEach(t=>{m===t.riskId&&(t.collocationType===2?p=p.filter(i=>i!==t.collocationRiskId||i!==m):t.collocationType===3?(p=p.filter(i=>i!==m),k=k.filter(i=>i!==t.collocationRiskId)):p=p.filter(i=>i!==m))}),b.currentChecked=p,s.value=k):(V.collocationList.forEach(t=>{m===t.riskId&&(g||(t.collocationType===2?p.push(t.collocationRiskId):t.collocationType===3&&k.push(t.collocationRiskId),p.push(m)))}),b.currentChecked.push(...p),s.value=k)},D=m=>{var p,k,t;if(s.value.includes(m))return;const g=b.currentChecked.includes(m);F(m,g),(t=(k=(p=_==null?void 0:_.value)==null?void 0:p[m])==null?void 0:k.toggle)==null||t.call(k)},n=()=>{a("close")},h=()=>{const m=V.riskList.filter(g=>b.currentChecked.includes(g.id));a("update:modelValue",[...new Set(d.value)]),a("finished",m,s.value),a("close")};return ot(()=>{_.value=[]}),M(()=>b.currentChecked,m=>{d.value=m},{deep:!0,immediate:!0}),M(()=>V.modelValue,(m=[])=>{d.value=m,s.value.push(...m)},{deep:!0,immediate:!0}),(m,g)=>{const p=B("van-checkbox"),k=B("VanCell"),t=B("van-cell-group"),i=B("van-checkbox-group"),c=B("VanButton"),r=B("VanPopup");return y(),T("div",Yt,[I(r,{show:e(b).show,"onUpdate:show":g[1]||(g[1]=u=>e(b).show=u),title:"\u9009\u62E9\u9644\u52A0\u9669","show-footer":"",round:"",position:"bottom",closeable:"",onClose:n},{default:v(()=>[Ut,A("div",Nt,[I(i,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=u=>d.value=u)},{default:v(()=>[I(t,{inset:""},{default:v(()=>[(y(!0),T(ae,null,ne(o.riskList,u=>(y(),O(k,{key:u.id,title:u.riskName,disabled:s.value.includes(u.id),onClick:l=>D(u.id)},{"right-icon":v(()=>[I(p,{ref_for:!0,ref:l=>_.value[u.id]=l,shape:"square",disabled:s.value.includes(u.id),name:u.id,onClick:ut(l=>D(u.id),["stop"])},null,8,["disabled","name","onClick"])]),title:v(()=>[A("div",St,[A("div",Mt,S(u.riskName),1),jt])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),A("div",Kt,[I(c,{type:"primary",disabled:!e(b).currentChecked.length,block:"",onClick:h},{default:v(()=>[Gt]),_:1},8,["disabled"])])]),_:1},8,["show"])])}}});var Ht=H(Wt,[["__scopeId","data-v-24bb32ea"]]);const Jt={class:"risk-list-wrapper"},zt={key:1,class:"add-rider-risk"},Qt={class:"left-part"},Xt=Q("+ \u9644\u52A0\u9669"),Zt=W({props:{riskInfo:{type:Object,required:!0,default:()=>{}},originData:{type:Object,required:!0,default:()=>{}},pickFactor:{type:Function,required:!0,default:()=>{}},enums:{type:Object,default:()=>{}}},setup(o){var F;const a=o,[V,_]=re(!1);w(null),w(null);const d=z({mainRiskInfo:a.riskInfo,riderRiskInfo:(F=a.riskInfo)==null?void 0:F.riderRiskVOList,requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[],checkedList:[],relationListNum:0,disabledList:[]}),s=(D,n)=>{d.requiredRiderRiskData=d.requiredRiderRiskData.concat(D),d.disabledList=n},b=D=>{lt.confirm({message:"\u786E\u5B9A\u8981\u5220\u9664\u9644\u52A0\u9669\u4E48\uFF1F"}).then(()=>{var h;const n=[D];(((h=d.mainRiskData)==null?void 0:h.collocationVOList)||[]).forEach(m=>{D===m.riskId&&(m.collocationType===2||m.collocationType===3)&&n.push(m.collocationRiskId)});debugger;d.checkedList=d.checkedList.filter(m=>!n.includes(m)),d.requiredRiderRiskData=d.requiredRiderRiskData.filter(m=>!n.includes(m.id)),d.disabledList=d.disabledList.filter(m=>!n.includes(m)),Object.assign(d.riderRiskInfo,{[D]:void 0})}).catch(()=>{})};return se(()=>{d.requiredRiderRiskData}),M(()=>d.requiredRiderRiskData,D=>{const n=[d.mainRiskData,...D];let h=[],m=[];const g=[];n.forEach((p,k)=>{var i,c,r;const t=((i=p==null?void 0:p.riskCalcMethodInfoVO)==null?void 0:i.riskFactorRelationList)||[];h=h.concat(t.filter(u=>u.factorObject==="insured").map(u=>u.factorCode)),m=m.concat(t.filter(u=>u.factorObject==="holder").map(u=>u.factorCode)),g.push((c=p==null?void 0:p.riskInsureLimitVO)==null?void 0:c.minHolderAge,(r=p==null?void 0:p.riskInsureLimitVO)==null?void 0:r.maxHolderAge)}),(D||[]).forEach(p=>{var t;const k={riskType:p.riskType,riskId:p.id,riskCode:p.riskCode,mainRiskCode:d.mainRiskData.riskCode,mainRiskId:(t=d.mainRiskData)==null?void 0:t.id,riskCategory:p.riskCategory,liabilityVOList:(p.riskLiabilityInfoVOList||[]).map(i=>({liabilityAttributeCode:i.liabilityAttributeType,liabilityCode:i.liabilityCode,liabilityId:i.id,liabilityRateType:i.liabilityRateType}))};Object.assign(d.riderRiskInfo,{[p.id]:k})}),a.pickFactor({insuredFactorList:[...new Set(h)],holderFactorList:[...new Set(m)],ageRange:g})},{deep:!0,immediate:!0}),M(()=>a.originData,D=>{(D||[]).forEach(n=>{n.riskType===1?(d.mainRiskData=n,d.requiredRiderRiskData=(n==null?void 0:n.requiredRiderRiskVOList)||[],d.riderRiskList=n==null?void 0:n.optionalRiderRiskVOList):d.riderRiskList.push(n)})},{deep:!0,immediate:!0}),(D,n)=>{var h,m,g,p,k;return y(),T("div",Jt,[e(d).mainRiskData?(y(),O(We,{key:0,enums:o.enums,"form-info":e(d).mainRiskInfo,"origin-data":e(d).mainRiskData},null,8,["enums","form-info","origin-data"])):R("",!0),(y(!0),T(ae,null,ne(e(d).requiredRiderRiskData,(t,i)=>(y(),O(We,{key:t.id,"form-info":e(d).riderRiskInfo[t.id],index:i,enums:o.enums,"main-risk-data":e(d).mainRiskData,"main-risk-info":e(d).mainRiskInfo,"origin-data":t,"remove-risk":b,"remove-risk-list":e(d).checkedList},null,8,["form-info","index","enums","main-risk-data","main-risk-info","origin-data","remove-risk-list"]))),128)),((m=(h=e(d))==null?void 0:h.riderRiskList)==null?void 0:m.length)-((p=(g=e(d))==null?void 0:g.checkedList)==null?void 0:p.length)?(y(),T("div",zt,[A("span",Qt,S(`\u5171\u6709${e(d).riderRiskList.length-e(d).checkedList.length}\u6B3E\u9644\u52A0\u9669\u53EF\u4EE5\u6DFB\u52A0`),1),I(mt,{activied:"",onClick:n[0]||(n[0]=t=>e(_)(!0))},{default:v(()=>[Xt]),_:1})])):R("",!0),e(V)?(y(),O(Ht,{key:2,modelValue:e(d).checkedList,"onUpdate:modelValue":n[1]||(n[1]=t=>e(d).checkedList=t),show:e(V),disabled:e(d).disabledList,"risk-list":e(d).riderRiskList,"collocation-list":((k=e(d).mainRiskData)==null?void 0:k.collocationVOList)||[],onFinished:s,onClose:n[2]||(n[2]=t=>e(_)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):R("",!0)])}}});var He=H(Zt,[["__scopeId","data-v-ab441982"]]);const ei=(o={})=>de.get(`/api/product/insureProductDetail/${o==null?void 0:o.productId}`,o),ti=(o={})=>de.post("/api/insurance/premiumCalc",o);const ii=W({props:{title:{type:String,default:()=>""},active:{type:Boolean,default:!1}},setup(o){return(a,V)=>(y(),T("button",{class:rt(o.active?"active-button":"")},S(o.title),3))}});var ai=H(ii,[["__scopeId","data-v-43a1c07a"]]);const ni={key:0,class:"part-card"},oi={key:1,class:"part-card"},ui={class:"risk-content"},li={key:0,class:"risk"},ri={key:1,class:"plan-risk"},si={class:"footer-bar"},di={class:"trial-result"},ci={class:"result-num"},mi=Q(" \u5143\u8D77 "),fi={class:"trial-operate"},pi={key:0,class:"retrial-tip"},yi=Q(" \u6761\u4EF6\u66F4\u6539\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u8BD5\u7B97 "),Di=Q("\u53BB\u8BD5\u7B97"),Vi=Q("\u7ACB\u5373\u6295\u4FDD"),gi=W({setup(o){const{id:a=118}=st().query,V=w({personVO:{}}),_=w({insuredCode:"",personVO:{}}),d=w({}),s=w({}),b=w({}),F=w({}),D=w({}),n=z({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0,retrialTip:!1,enumList:{},ageRange:[],collapseName:["1"]});dt("premium",D.value);const h=()=>{n.retrialTip=!1},m=()=>{var l;const c=JSON.parse(JSON.stringify(d.value[n.currentPlan])),r=Object.values(c.riderRiskVOList).map(L=>{const C=L;if(C.paymentYear==="3"){const x=(d.value[n.currentPlan].paymentYear||"").split("_");x[1]&&(x[1]-=1),C.paymentYear=x.join("_")}return C.liabilityVOList=(C.liabilityVOList||[]).filter(x=>x.liabilityAttributeValue&&x.liabilityAttributeValue!=="-1").map(x=>{const q=x;return q.liabilityAttributeValue==="0"&&(q.liabilityAttributeValue=""),q}),C});c.liabilityVOList=c.liabilityVOList.filter(L=>L.liabilityAttributeValue&&L.liabilityAttributeValue!=="-1").map(L=>{const C=L;return C.liabilityAttributeValue==="0"&&(C.liabilityAttributeValue=""),C});const u={holder:{personVO:ie(J({},V.value.personVO),{birthday:V.value.personVO.birthday&&`${V.value.personVO.birthday} 00:00:00`})},productCode:(l=n==null?void 0:n.riskBaseInfo)==null?void 0:l.productCode,insuredVOList:[ie(J({},_.value),{personVO:ie(J({},_.value.personVO),{birthday:_.value.personVO.birthday&&`${_.value.personVO.birthday} 00:00:00`}),productPlanVOList:[{planCode:n.currentPlan||"",riskVOList:[ie(J({},c),{riderRiskVOList:r})]}]})]};ti(J({},u)).then(({code:L,data:C})=>{if(L==="10000"){n.retrialTip=!1,n.trialResult=C,n.canTrial=!1;const x={},q=(j=[])=>{(j||[]).forEach(U=>{x[U.riskCode]=U,U.riskPremiumDetailVOList&&q(U.riskPremiumDetailVOList)})};q(C.riskPremiumDetailVOList),Object.assign(D.value,x)}})},g=()=>{var c,r,u,l,L;Promise.all([(r=(c=s==null?void 0:s.value)==null?void 0:c.validateForm)==null?void 0:r.call(c),(l=(u=b==null?void 0:b.value)==null?void 0:u.validateForm)==null?void 0:l.call(u),(L=F==null?void 0:F.value)==null?void 0:L.validate()]).then(()=>{m()})},p=()=>{ct("\u51C6\u5907\u6295\u4FDD")},k=()=>{Qe({dictCodeList:["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD"]}).then(({code:r,data:u})=>{if(r==="10000"){const l={};u.forEach(L=>{l[L.dictCode]=L.dictItemList}),n.enumList=l}})},t=()=>{ei({productId:a}).then(({code:c,data:r})=>{c==="10000"&&(n.riskBaseInfo=r==null?void 0:r.productBasicInfoVO,console.log("state.riskBaseInfo",n.riskBaseInfo),((r==null?void 0:r.productRelationPlanVOList)||(r==null?void 0:r.riskDetailVOList)||[]).forEach((u,l)=>{l===0&&(n.currentPlan=u.planCode||0),Object.assign(d.value,{[u.planCode||l]:{liabilityVOList:[],riderRiskVOList:{}}})}),n.riskData=(r==null?void 0:r.riskDetailVOList)||[],n.riskPlanData=(r==null?void 0:r.productRelationPlanVOList)||[])}).finally(()=>{})},i=c=>{n.holderFactor=c.holderFactorList,n.insuredFactor=c.insuredFactorList,n.ageRange=c.ageRange};return M([()=>d.value,()=>V.value,()=>_.value],c=>{c&&!n.canTrial&&(n.canTrial=!0,n.retrialTip=!0)},{deep:!0}),se(()=>{t(),k()}),(c,r)=>{const u=B("VanForm"),l=B("VanTab"),L=B("VanTabs"),C=B("van-collapse-item"),x=B("van-collapse"),q=B("VanButton"),j=B("ZaPageWrap");return y(),O(j,{class:"page-trial-wrapper"},{default:v(()=>{var U,X,Z,ee;return[e(n).holderFactor.length?(y(),T("div",ni,[I(ue,{title:"\u6295\u4FDD\u4EBA"}),I(Ge,{ref_key:"holderRef",ref:s,"insured-code":(U=e(n).riskBaseInfo)==null?void 0:U.insurerCode,"form-info":V.value.personVO,"factor-list":e(n).holderFactor,"age-range":e(n).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):R("",!0),e(n).insuredFactor.length?(y(),T("div",oi,[I(ue,{title:"\u88AB\u4FDD\u4EBA"}),I(Ge,{ref_key:"insuredRef",ref:b,"insured-code":(X=e(n).riskBaseInfo)==null?void 0:X.insurerCode,"form-info":_.value.personVO,"factor-list":e(n).insuredFactor,"age-range":e(n).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):R("",!0),A("div",ui,[I(x,{modelValue:e(n).collapseName,"onUpdate:modelValue":r[1]||(r[1]=$=>e(n).collapseName=$)},{default:v(()=>[I(C,{name:"1"},{title:v(()=>[I(ue,{title:"\u6295\u4FDD\u65B9\u6848"})]),default:v(()=>[e(n).riskData.length?(y(),T("div",li,[I(u,{ref_key:"riskFormRef",ref:F,"input-align":"right","error-message-align":"right"},{default:v(()=>[I(He,{"risk-info":d.value[0],enums:e(n).enumList,"origin-data":e(n).riskData,"pick-factor":i},null,8,["risk-info","enums","origin-data"])]),_:1},512)])):R("",!0),e(n).riskPlanData.length?(y(),T("div",ri,[I(u,{ref_key:"riskFormRef",ref:F,"input-align":"right","error-message-align":"right"},{default:v(()=>[I(L,{active:e(n).currentPlan,"onUpdate:active":r[0]||(r[0]=$=>e(n).currentPlan=$)},{default:v(()=>[(y(!0),T(ae,null,ne(e(n).riskPlanData,$=>(y(),O(l,{key:$.planCode,name:$.planCode,title:$.planName},{title:v(()=>[I(ai,{title:$.planName,active:e(n).currentPlan===$.planCode},null,8,["title","active"])]),default:v(()=>[$.planCode===e(n).currentPlan?(y(),O(He,{key:0,"risk-info":d.value[$.planCode],enums:e(n).enumList,"origin-data":$.riskDetailVOList,"pick-factor":i},null,8,["risk-info","enums","origin-data"])):R("",!0)]),_:2},1032,["name","title"]))),128))]),_:1},8,["active"])]),_:1},512)])):R("",!0)]),_:1})]),_:1},8,["modelValue"])]),A("div",si,[A("span",di,[A("span",ci,S((e(n).retrialTip?"0":((ee=(Z=e(n))==null?void 0:Z.trialResult)==null?void 0:ee.premium)||"0").toLocaleString()),1),mi]),A("div",fi,[e(n).retrialTip?(y(),T("div",pi,[yi,A("span",{class:"close-icon",onClick:h},"X")])):R("",!0),e(n).canTrial?(y(),O(q,{key:1,type:"primary",onClick:g},{default:v(()=>[Di]),_:1})):(y(),O(q,{key:2,type:"primary",onClick:p},{default:v(()=>[Vi]),_:1}))])])]}),_:1})}}});var Fi=H(gi,[["__scopeId","data-v-99c8f870"]]);export{Fi as default};
