!function(){var e=document.createElement("style");e.innerHTML=".popup-body{width:100%;height:100%}.previewSign{width:1.33333rem;height:1.33333rem}.sign-container-wrap{width:100%;padding-left:2rem;height:100%;display:flex;flex-direction:row-reverse;justify-content:space-between;overflow:hidden}.sign-container-wrap .operate-bar{position:absolute;width:100vh;display:flex;margin:.26667rem;transform:rotate(90deg);padding-left:1.33333rem;justify-content:space-between;align-items:center;transform:rotate(90deg) translate3d(95vh,8.8rem,0);padding:.26667rem;transform-origin:right}.sign-container-wrap .operate-bar .btn{width:3.2rem;margin-right:.26667rem}.sign-container-wrap .com-sign-wrapper{width:100%;height:100%}.sign-container-wrap .com-sign-wrapper .placeholder{transform:rotate(90deg)}.net-sale-detail-wrap{padding:0 var(--zaui-page-border, .4rem) 2rem;background-color:#f4f4f4}.net-sale-detail-wrap .product-name{padding:.26667rem 0 .08rem}.net-sale-detail-wrap .com-card{border-radius:.10667rem;overflow:hidden}.net-sale-detail-wrap .com-card .com-cell-wrapper.border:last-child{border:none!important}.net-sale-detail-wrap .common-cell-wrapper{height:1.38667rem;align-items:center;width:100%;display:inline-flex}.net-sale-detail-wrap .common-cell-wrapper .cell-container{align-items:flex-start;justify-content:center;width:100%;font-size:.42667rem}.net-sale-detail-wrap .common-cell-wrapper .cell-container .left-part{color:var(--zaui-text)!important}.net-sale-detail-wrap .common-cell-wrapper .cell-container .right-part{color:#9f9c9f;font-weight:500}.net-sale-detail-wrap .sign-cell{display:flex;align-items:center;justify-content:space-between;padding:.26667rem 0}.net-sale-detail-wrap .sign-cell .sign-wrap{display:flex;align-items:center}.net-sale-detail-wrap .van-cell .van-field__value{align-items:flex-end;align-self:center}.net-sale-detail-wrap .van-cell .van-field__value input,.net-sale-detail-wrap .van-cell .van-field__value .van-field__body input,.net-sale-detail-wrap .van-cell .van-field__value .van-field__body .com-radio-btn-wrap,.net-sale-detail-wrap .van-cell .van-field__value .van-field__body .displayValue{color:#9f9c9f;font-weight:500}.pre-notice-wrap .body{height:calc(100% - 2.93333rem);overflow:scroll}.pre-notice-wrap .pre-body{padding:.66667rem .42667rem 0;height:100%}.pre-notice-wrap .pre-body .header{line-height:1;border:none}.pre-notice-wrap .pre-body .header img{height:.58667rem}.pre-notice-wrap .pre-body .header .company-name{margin-top:.26667rem;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:500;color:#333;line-height:.44rem}.pre-notice-wrap .pre-body .content{margin-top:.42667rem;padding:.42667rem;background:#fcf4f0;border-radius:.26667rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.56rem;border:1px solid #fff1de;border-top-color:#fee6dd}.pre-notice-wrap .pre-body .content span{color:#006afc}.pre-notice-wrap .pre-body .footer{margin-top:.66667rem}\n",document.head.appendChild(e),System.register(["./vendor-legacy-f6075170.js","./theme-legacy-28dda1ed.js","./trial-legacy-3bb28e8b.js","./nextStep-legacy-642b3b4f.js","./verify-legacy-eb3bf0a2.js","./product-legacy-6e5c3868.js","./order-legacy-e3124836.js","./core-legacy-da84bc35.js","./index-legacy-f4ecba09.js","./index-legacy-70167a3a.js","./infoCollection-legacy-7c21ae47.js","./relativeTime-legacy-dd97b2d4.js","./useDicData-legacy-46e5bfda.js","./index-legacy-7f0abbac.js"],(function(e){"use strict";var t,n,a,l,r,o,i,d,c,s,u,p,f,m,v,g,w,h,y,b,I,_,C,j,x,E,k,L,O,P,S,N,T;return{setters:[function(e){t=e.h,n=e.r,a=e.x,l=e.k,r=e.l,o=e.y,i=e.z,d=e.A,c=e.s,s=e.Q,u=e.n,p=e.C,f=e.I,m=e.F,v=e.N,g=e.a8,w=e.j,h=e.Z,y=e.m,b=e.E,I=e.T},function(e){_=e.u},function(e){C=e.g,j=e.a,x=e.i},function(e){E=e._,k=e.n},function(e){L=e.s},function(e){O=e.p},function(e){P=e.a},function(e){S=e.u,N=e.s},function(e){T=e.P},function(){},function(){},function(){},function(){},function(){}],execute:function(){const R={class:"sign-wrap"},V=["src"],F={class:"popup-body"},A={class:"sign-container-wrap"},H={class:"operate-bar"},U=p(" 请投保人正楷签署您的签名:"),z={class:"btns"},B=p("返回"),D=p("重写"),G=p("确定签字"),Y=t({props:{option:{default:{}},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const v=n(!1),g=n(),w=a((()=>{let e="";return g.value&&(e=g.value.save()),e})),h=()=>{v.value=!0},y=()=>{v.value=!1},b=()=>{g.value?.clear?.()},I=()=>{t("update:modelValue",w.value),v.value=!1};return(e,t)=>{const n=l("van-button"),a=l("ProSign"),_=l("van-icon"),C=l("van-popup");return r(),o(m,null,[i("div",R,[d(w)?(r(),o("img",{key:0,class:"previewSign",src:d(w),alt:""},null,8,V)):c("",!0),s(n,{type:"primary",round:"",size:"small",onClick:h},{default:u((()=>[p(f(d(w)?"重新签名":"点击签字"),1)])),_:1})]),s(C,{show:v.value,"onUpdate:show":t[0]||(t[0]=e=>v.value=e),position:"bottom",style:{height:"100%"}},{default:u((()=>[i("div",F,[i("div",A,[s(a,{ref_key:"signRef",ref:g,placeholder:"请在此处签名"},null,512),i("div",H,[i("span",null,[s(_,{name:"info",color:"#ffaf22"}),U]),i("div",z,[s(n,{type:"default",class:"btn",onClick:y},{default:u((()=>[B])),_:1}),s(n,{type:"default",class:"btn",onClick:b},{default:u((()=>[D])),_:1}),s(n,{type:"primary",class:"btn",disabled:!d(w),onClick:I},{default:u((()=>[G])),_:1},8,["disabled"])])])])])])),_:1},8,["show"])],64)}}});const q={class:"net-sale-detail-wrap"},J={class:"sign-cell"},M=i("div",{class:"sign-label"},"签名",-1),Q={class:"footer-button"},W=p("提 交"),X={class:"footer"};e("default",t({setup(e){const t=_(),a=v();g();const{orderNo:p="2022113021181894998",tenantId:f="9991000001",productCode:R="HTEJBX"}=a.query;n();const V=n({}),F=n({commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_airSignature",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,tenantId:f,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:f}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),A=n(!1),H=n({}),U=n(),z=n(),B=n(""),D=n(""),G=n({}),Z=async()=>{B.value?(await L("HOLDER",B.value,F.value.id,`${f}`),k(F.value)):I("请先签字")};return S(),w((()=>{(async()=>{const{code:e,data:t}=await x({productCode:R,tenantId:f});"10000"===e&&(U.value=t,V.value=t.productFactor)})(),(async()=>{const{data:e,code:t}=await O({productCode:R,tenantId:f,withInsureInfo:!0});"10000"===t&&(z.value=e)})(),(async()=>{const{code:e,data:t}=await C({orderNo:p,tenantId:f});if("10000"===e&&(t.extInfo.buttonCode="EVENT_NETSALE_airSignature",F.value=t,D.value=t.tenantOrderInsuredList[0]?.planCode,t.orderStatus===P.PAYING)){F.value.extInfo.redirectUrl="";const{code:e,data:t}=await j(F.value);"10000"===e&&N(t.paymentUrl)}})()})),h([()=>D.value,()=>z.value],(()=>{D.value&&(G.value=(z.value?.tenantProductInsureVO?.planList||[]).find((e=>e.planCode===D.value))?.attachmentVOList||[])}),{deep:!0,immediate:!0}),(e,n)=>{const a=l("ProCell"),p=l("ProCard"),f=l("van-cell"),v=l("VanButton"),g=l("ProPageWrap"),w=l("ProFilePreview"),h=l("ProPopup"),I=l("van-config-provider");return r(),y(I,{"theme-vars":d(t)},{default:u((()=>[s(g,null,{default:u((()=>[i("div",q,[s(p,null,{default:u((()=>[s(a,{title:"产品名称",content:U.value?.productBasicInfoVO.productFullName},null,8,["content"])])),_:1}),F.value.id?(r(),y(p,{key:0,"show-line":!1,title:"投保信息"},{default:u((()=>[s(a,{title:"保费",content:F.value.orderAmount},null,8,["content"]),s(a,{title:"保险期限",content:F.value.tenantOrderInsuredList[0]?.planName},null,8,["content"]),s(a,{title:"起保日期",content:F.value.commencementTime},null,8,["content"]),s(a,{title:"终保日期",content:F.value.expiryDate},null,8,["content"]),s(a,{title:"保单状态",content:F.value.orderStatus},null,8,["content"]),s(a,{title:"订单编号",content:F.value.orderNo},null,8,["content"]),s(a,{title:"房屋地址",content:F.value.tenantOrderHolder?.extInfo?.familyAddress},null,8,["content"]),s(a,{title:"燃气编号",content:F.value.tenantOrderInsuredList?.[0]?.extInfo.subjectRelatedUserId},null,8,["content"])])),_:1})):c("",!0),s(p,null,{default:u((()=>[s(E,{ref:"formRef","title-collection":{HOLDER:"投保人信息",INSURER:"被保人信息",BENEFICIARY:"受益人"},"is-view":!0,"form-info":F.value,"factor-object":V.value,"input-align":"right"},null,8,["form-info","factor-object"])])),_:1}),s(p,{title:"阅读条款合同"},{default:u((()=>[(r(!0),o(m,null,b(Object.keys(G.value),((e,t)=>(r(),y(f,{key:t,title:e,"is-link":"",onClick:t=>{return n=e,a=G.value[e],A.value=!0,void(H.value={title:n,fileContent:a?.[0]});var n,a}},null,8,["title","onClick"])))),128))])),_:1}),s(p,{title:"客户签名"},{default:u((()=>[i("div",J,[M,s(Y,{modelValue:B.value,"onUpdate:modelValue":n[0]||(n[0]=e=>B.value=e)},null,8,["modelValue"])])])),_:1}),i("div",Q,[s(v,{type:"primary",class:"shadow-btn",large:"",block:"",round:"",onClick:Z},{default:u((()=>[W])),_:1})])])])),_:1}),s(h,{show:A.value,"onUpdate:show":n[2]||(n[2]=e=>A.value=e),class:"pre-notice-wrap",title:H.value?.title,position:"bottom",style:{height:"600px"}},{default:u((()=>[s(w,{content:H.value?.fileContent?.attachmentUri,type:"richText"},null,8,["content"]),i("div",X,[s(T,{shadow:!1,text:"关闭",onClick:n[1]||(n[1]=e=>A.value=!1)})])])),_:1},8,["show","title"])])),_:1},8,["theme-vars"])}}}))}}}))}();
