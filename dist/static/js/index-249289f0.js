var V=Object.defineProperty,j=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var A=(t,e,a)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,g=(t,e)=>{for(var a in e||(e={}))U.call(e,a)&&A(t,a,e[a]);if(x)for(var a of x(e))w.call(e,a)&&A(t,a,e[a]);return t},E=(t,e)=>j(t,M(e));import{g as z,af as O,Q as $,C as S,L as G,M as Q,r as c,h,j as I,k as l,n as p,m as W,E as J,z as H,F as K,y as i,a1 as X,a2 as Y,B as y,T as P,J as Z}from"./vendor-50171071.js";import{_ as ee,j as T,P as te}from"./index-b03d3730.js";import{l as ae}from"./inform-d435d162.js";import{a as oe,n as se}from"./index-e36f2ac8.js";import{s as ne}from"./useStorage-f3528196.js";import{s as ue}from"./verify-2310454b.js";const ie=t=>(X("data-v-0af3c240"),t=t(),Y(),t),re={class:"footer-btn"},ce={class:"inform-file"},le=ie(()=>i("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),i("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),pe={class:"footer-button"},de=y("\u4E0B\u4E00\u6B65"),_e=z({setup(t){const e=O(),a=$(),{productCode:fe="MMBBSF",agentCode:b="65434444",tenantId:B="9991000007",agencyCode:me="3311222",insurerCode:k="zhongan",productCategory:F="1",templateId:ge="1",orderNo:v="2022080217103534947"}=a.query,d=S(null),D=S(!1),N=()=>{var o;(o=d.value)==null||o.clear()},u=G({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),q=()=>{oe({orderNo:v,saleUserId:b,tenantId:B}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(u.pageData,s)})};Q(()=>{q(),ae({insurerCode:k,orderNo:v,productCategory:F,tenantId:B,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(u.noticeList=s)})});const R=o=>{ne.set("questionData",o),e.push({path:"/healthNotice",query:{questionnaireType:o.questionnaireType}})},L=()=>{var _,f;if(!u.noticeList.every(r=>r.isDone===1)){P("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((_=d.value)==null?void 0:_.isEmpty()){P("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(f=d.value)==null?void 0:f.save();ue("AGENT",s,v,B).then(r=>{r&&se(E(g({},u.pageData),{extInfo:E(g({},u.pageData.extInfo),{templateId:"1",pageCode:"salesNotice"}),venderCode:k})).then((C,m)=>{C==="10000"&&m.pageAction.pageAction==="jumpToPage"&&e.push({path:te[m.pageAction.data.nextPageCode],query:g({},a.query)})})})};return(o,s)=>{const _=c("van-cell"),f=c("ProSign"),r=c("van-checkbox"),C=c("van-button"),m=c("ProPageWrap");return h(),I(m,{class:"page-salesman-inform"},{default:l(()=>[p(T,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:l(()=>[(h(!0),W(K,null,J(H(u).noticeList,n=>(h(),I(_,{key:n.id,class:Z({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>R(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),p(T,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:l(()=>[i("div",{class:"resign",onClick:N},"\u91CD\u7B7E")]),default:l(()=>[p(f,{ref_key:"agentSignRef",ref:d,selector:"sign2"},null,512)]),_:1}),i("footer",re,[i("div",ce,[p(r,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=n=>D.value=n),shape:"square"},null,8,["modelValue"]),le]),i("div",pe,[p(C,{type:"primary",block:"",onClick:L},{default:l(()=>[de]),_:1})])])]),_:1})}}});var xe=ee(_e,[["__scopeId","data-v-0af3c240"]]);export{xe as default};
