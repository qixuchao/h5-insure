import{d as a,r as i,ar as e,aA as l,R as u,N as s,b as t,c as n,e as r,f as o,U as d,h as m,a2 as v}from"./index-faa0f0b8.js";import{c as f}from"./cloneDeep-96676b66.js";import{B as g,a as c,R as k}from"./index-b678bb77.js";function p(a){return Object.keys(a)}const V=a({name:"InsureInfos"}),D=a({...V,props:{originData:{default:()=>({})},modelValue:{default:()=>({})},defaultValue:{default:()=>({})},trialResult:{default:()=>({})}},emits:["trialChange"],setup(a,{expose:V,emit:D}){const b=a,C=i(null),h=i({}),y=i({}),I=e({personalInfo:{},basicsAmount:"",basicsPremium:"",defaultValues:b.defaultValue,changeData:null,sValues:h.value});l("premium"),y.value=l("enumList")||{},u((()=>{}));const R=a=>{b.originData.mainRiskFlag,h.value.riskCategory=b.originData.riskCategory,h.value.riskCode=b.originData.riskCode,h.value.riskId=b.originData.riskId,h.value.riskType=b.originData.riskType,h.value.riskName=b.originData.riskName,h.value.riskType=b.originData.riskType,h.value.mainRiskCode=b.originData.mainRiskCode,h.value.mainRiskId=b.originData.mainRiskId,a?D("trialChange",h.value,a):D("trialChange",h.value)},P=(a,i)=>{i?h.value[i.key]=i.newValue:p(a).forEach((i=>{h.value[i]=a[i]})),R(i)},O=a=>{var i,e;1==+(null==(e=null==(i=b.originData)?void 0:i.productRiskInsureLimitVO)?void 0:e.amountPremiumConfigVO.saleMethod)?I.basicsAmount=null==a?void 0:a.initialAmount:I.basicsAmount=null==a?void 0:a.initialPremium,p(a).forEach((i=>{h.value[i]=a[i]})),R()},A=a=>{h.value.liabilityList=a,R()};return s((()=>b.defaultValue),(a=>{a&&(console.log("--default change ",a),I.defaultValues=f(a),h.value={...a})}),{deep:!0,immediate:!0}),s((()=>h.value),(a=>{I.sValues=a}),{deep:!0,immediate:!0}),V({validate:async()=>{var a;await(null==(a=C.value)?void 0:a.validate())}}),(a,i)=>{var e,l,u,s,f,p;const V=v;return 1===(null==(e=a.originData)?void 0:e.factorDisPlayFlag)?(t(),n(d,{key:0},[r(V,{title:"保障计划",class:"insurePlan","show-divider":!1}),r(o(g),{"v-model":o(I).sValues,"origin-data":null==(u=null==(l=a.originData)?void 0:l.productRiskInsureLimitVO)?void 0:u.amountPremiumConfigVO,"defalut-value":o(I).defaultValues,"trial-result":a.trialResult,onTrialChange:O},null,8,["v-model","origin-data","defalut-value","trial-result"]),r(o(c),{"v-model":o(I).sValues,"use-data":o(I).sValues,"origin-data":a.originData.productRiskInsureLimitVO,"risk-info":a.originData,"default-value":o(I).defaultValues,onTrialChange:P},null,8,["v-model","use-data","origin-data","risk-info","default-value"]),r(o(k),{"data-source-folmulate":o(h),"data-source":a.originData,params:{amountUnit:null==(f=null==(s=a.originData)?void 0:s.productRiskInsureLimitVO)?void 0:f.amountPremiumConfigVO.displayUnit,basicsAmount:o(I).basicsAmount,basicsPremium:o(I).basicsPremium,riskId:null==(p=a.originData)?void 0:p.riskId},"default-value":o(I).defaultValues,onTrialChange:A},null,8,["data-source-folmulate","data-source","params","default-value"])],64)):m("",!0)}}});export{D as _};
