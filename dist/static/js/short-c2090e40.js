import{G as e,d as a,r as t,R as l,a1 as s,c as n,A as o,f as i,g as r,i as d,h as c,ae as u,ab as p,L as v,w as m,U as f,V as g,e as h,j as A,E as I,F as y,aE as k,aF as O,cn as b,X as _,Y as x,cf as C,a as L,u as V,z as w,$ as P,Z as E,o as R,N as S,C as D,ac as T,a2 as N,D as B,a0 as j,a4 as F,P as U,aw as q,T as H}from"./index-591873b8.js";import{d as M}from"./debounce-eed12388.js";import{c as $}from"./cloneDeep-1de8e9b0.js";import{i as G,g as z,u as Q,p as W}from"./trial-140443dc.js";import{a as Z,q as Y}from"./product-35abb169.js";import{n as J}from"./nextStep-01753b87.js";import{I as X,c as K,O as ee,d as ae,S as te}from"./infoCollection-765a1e16.js";import{P as le}from"./index-50b6ee3b.js";import{g as se,r as ne,t as oe}from"./utils-06b02ec4.js";import{_ as ie}from"./index-7656d306.js";import{G as re,_ as de}from"./index-b00e933c.js";import{P as ce}from"./index-496054d5.js";import{c as ue}from"./phoneVerify-6e1feb50.js";import{u as pe}from"./useOrder-c14319e5.js";import{_ as ve,o as me,p as fe,f as ge}from"./utils-d758d7c4.js";import{u as he}from"./useAttachment-07369e17.js";import"./pdfh5-008ca364.js";import"./isObjectLike-a9798079.js";import"./_initCloneObject-0663309f.js";import"./core-65dc5c45.js";import"./constant-8927d485.js";import"./ProRenderFormWithCard.vue_vue_type_style_index_0_scoped_true_lang-c926e1d4.js";/* empty css              */import"./bankCard-e1e33931.js";import"./index-f2aa9716.js";import"./index-523df158.js";import"./trial-54c38a43.js";import"./index-a096cbfa.js";import"./createProposal-a2a12b2f.js";const Ae={class:"com-video"},Ie=["src"],ye=["src"];var ke=e(a({__name:"Video",props:{src:null},setup(e){const a=e,p=t(!1),v=t("");return l((()=>a),(e=>{v.value=`/api/app/common/file/generateLink?type=2&url=${e.src}`}),{deep:!0,immediate:!0}),s((()=>{})),(e,t)=>{const l=u;return n(),o("div",Ae,[i("img",{src:r(v),class:"cover-image",onClick:t[0]||(t[0]=e=>p.value=!0)},null,8,Ie),d(l,{name:"play",class:"cover-image-play",onClick:t[1]||(t[1]=e=>p.value=!0)}),r(p)?(n(),o("video",{key:0,src:a.src,autoplay:"",controls:"",class:"banner-video"},null,8,ye)):c("",!0)])}}}),[["__scopeId","data-v-cd73ccd2"]]);const Oe={class:"refueling-package-com"},be=i("div",{class:"title"},"加油包",-1),_e=a({name:"package"}),xe=a({..._e,props:{packageProductList:{default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{default:3}},setup(e){const a=e,[t,l]=p(!1),s=v((()=>a.packageProductList.length>a.count&&(!!a.isShowClose||!t.value))),i=()=>{l()},_=v((()=>a.packageProductList.length<=a.count||t.value?a.packageProductList:a.packageProductList.slice(0,a.count)));return(e,a)=>{const l=k,p=O,v=b;return n(),o("div",Oe,[be,d(v,{ref:"formRef"},{default:m((()=>[(n(!0),o(f,null,g(r(_),((e,a)=>(n(),h(p,{key:`${e.value}_${a}`,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.packageName,required:"",placeholder:"请选择"},{input:m((()=>[d(l,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,options:r(X),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),r(s)?(n(),o("div",{key:0,class:"show-more",onClick:i},[A(I(r(t)?"收起":"查看更多")+" ",1),d(u,{name:"down",class:y(["icon",{showMore:r(t)}])},null,8,["class"])])):c("",!0)])),_:1},512)])}}});const Ce={key:0},Le=[i("div",{class:"__skeleton_short_content__"},[i("div",{class:"van-config-provider sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[i("div",{class:"page-internet-product-detail"},[i("div",{class:"info"},[i("div",{class:"van-image banner",style:{width:"100%",height:"223px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[i("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20221222/e3719801cf6546449e18e06f3bbe8416/%E5%B0%8A%E4%BA%ABe%E7%94%9F.png?Expires=1676527379&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=tkscLe6oOZYjnRIA%2B7AiMS3bOs0%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),i("div")]),i("div",{class:"guarantee-list"},[i("div",{class:"header"},[i("span",null,[i("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"保障计划")]),i("span",null,[i("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"查看详情")])]),i("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[i("div",{class:"cell-container"},[i("div",{class:"left-part large"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"一般医疗保险金")]),i("div",{class:"divider"}),i("div",{class:"right-part"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高300万")])])]),i("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[i("div",{class:"cell-container"},[i("div",{class:"left-part large"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"重大疾病医疗保险金")]),i("div",{class:"divider"}),i("div",{class:"right-part"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),i("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[i("div",{class:"cell-container"},[i("div",{class:"left-part large"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤质子重离子医疗")]),i("div",{class:"divider"}),i("div",{class:"right-part"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),i("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[i("div",{class:"cell-container"},[i("div",{class:"left-part large"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤院外特定药品费用医疗")]),i("div",{class:"divider"}),i("div",{class:"right-part"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),i("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[i("div",{class:"cell-container"},[i("div",{class:"left-part large"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤特定器械耗材费用医疗责任 （适用于女性被保险人）")]),i("div",{class:"divider"}),i("div",{class:"right-part"},[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高100万")])])]),i("div",{class:"show-more"},[i("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"16.799999999999997px"}},"查看更多 "),i("svg",{class:"svg-icon icon-arrow-down-dobule icon icon"},[i("use",{"xlink:href":"#icon-arrow-down-dobule"})])]),i("div",{class:"feerate-view sk-border"},[i("span",null,[i("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"142.00元/年起")])])]),i("div",{class:"com-divider"}),i("div",{class:"tabs",sticky:"",scrollspy:""},[i("div",null,[i("div",{class:"van-sticky"},[i("div",{class:"van-tabs"},[i("div",{id:"tab-list",class:"tab-list"},[i("a",{class:"tab-title active",title:"产品亮点"},[i("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"产品亮点")]),i("a",{class:"tab-title",title:"理赔说明"},[i("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"理赔说明")]),i("a",{class:"tab-title",title:"我要投保"},[i("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"我要投保")])])])])]),i("div",{class:"tab-content"},[i("div",{id:"tab1"},[i("div",{class:"spec"},[i("div",{class:"van-image detail-img",style:{width:"100%"}},[i("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"van-image__img",style:{background:"rgb(238, 238, 238)"}})])])])])])])])],-1)],Ve=["theme-vars"],we={class:"info"},Pe={class:"custom-page-form"},Ee=i("div",{id:"xinaoDialog"},null,-1),Re=a({name:"InsuranceShort"}),Se=a({...Re,setup(e){const a=_((()=>x((()=>import("./index-fce69369.js")),["static/js/index-fce69369.js","static/css/index-fa4edf2a.css","static/js/index-591873b8.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js","static/js/index-a096cbfa.js","static/css/index-827a8544.css","static/js/utils-06b02ec4.js","static/js/infoCollection-765a1e16.js","static/js/trial-54c38a43.js"]))),u=_((()=>x((()=>import("./index-c097340c.js")),["static/js/index-c097340c.js","static/css/index-c1e75aab.css","static/js/index-591873b8.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"]))),p=_((()=>x((()=>import("./index-fef2fbcb.js")),["static/js/index-fef2fbcb.js","static/css/index-26ed4d65.css","static/js/index-591873b8.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js","static/js/infoCollection-765a1e16.js","static/js/trial-54c38a43.js"]))),g=_((()=>x((()=>import("./index-edd00ca3.js")),["static/js/index-edd00ca3.js","static/css/index-eabeb59f.css","static/js/index-591873b8.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"]))),I=_((()=>x((()=>import("./index-e06a2242.js")),["static/js/index-e06a2242.js","static/css/index-3329e46f.css","static/js/index-591873b8.js","static/css/index-56d1ba7e.css","static/js/pdfh5-008ca364.js"]))),{VITE_BASE:y}={VITE_BASE:"/",VITE_API_BASEURL:"/",VITE_APP_TITLE:"投保流程",VITE_THEME_COLOR:"#0d6efe",VITE_APP_DESCRIPTION:"一种互联网投保的快速落地实现方案",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},k=C();L();const O=V(),{productCode:b="",orderNo:X,proposalId:Ae,tenantId:Ie,extraInfo:ye,insurerCode:Oe,preview:be}=O.query;let _e={};console.log("route.query",O.query);try{console.log("extInfo",decodeURIComponent(ye)),_e=JSON.parse(decodeURIComponent(ye))}catch(Oa){}const Re=t(),Se=t(),De=t(),Te=t(!1),Ne=t({}),Be=t({}),je=t(!1),Fe=t(!1),Ue=t(0),qe=t(!1),He=t({}),Me=t(!0),$e=t(!0),Ge=t(!0),ze=t(""),Qe=t([]),We=t({}),Ze=t({}),Ye=t([]),Je=w({submitData:{},riskVOList:[{}],userData:{},ifPersonalInfoSuccess:!1,trialMsg:"",trialResult:0}),Xe=t({imgUrl:"",desc:"",title:"",link:window.location.href}),Ke=pe({extInfo:{buttonCode:"EVENT_SHORT_saveOrder",pageCode:"productInfo",extraInfo:_e,templateId:(null==_e?void 0:_e.templateId)||"1",iseeBizNo:""}}),ea=t({}),aa=v((()=>!!be)),ta=t([]),la=t(),sa=async()=>{Z({productCode:b,tenantId:Ie}).then((({data:e,code:a})=>{if("10000"===a){Ne.value=e,document.title=e.BASIC_INFO.title||"",Ne.BASIC_INFO=e.BASIC_INFO;const{title:a,desc:l,image:s}=(null==e?void 0:e.PRODUCT_LIST.wxShareConfig)||{},[n=""]=s||[];t={title:a,desc:l,image:n},Xe.value={desc:t.desc||"你好，这里是描述",imgUrl:t.image,title:t.title,link:window.location.href},console.log("shareInfo",Xe.value)}var t})),await G({productCode:b,isTenant:!be}).then((({data:e,code:a})=>{var t;"10000"===a&&(qe.value=!0,Be.value=e,We.value=null==(t=e.productPlanInsureVOList)?void 0:t[0],Ye.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),X&&z({orderNo:X,tenantId:Ie}).then((({code:e,data:a})=>{var t,l,s,n,o;if("10000"===e){Ke.value=a;const e=(null==(l=null==(t=Ke.value.tenantOrderInsuredList)?void 0:t[0])?void 0:l.planCode)||"";e&&(We.value=(null==(s=Be.value.productPlanInsureVOList)?void 0:s.find((a=>a.planCode===e)))||(null==(o=null==(n=We.value)?void 0:n.productPlanInsureVOList)?void 0:o[0])),Je.userData=me(a,Be.value,e)}})),Ae&&fe({proposalId:Ae,productCode:b,tenantId:Ie},(e=>{console.log(e,"skskks===="),Je.userData=e})),Ge.value=!1,Y({productCode:b}).then((({code:e,data:a})=>{var t,l,s,n;if("10000"===e){const{productMaterialPlanVOList:e,productQuestionnaireVOList:o}=a;la.value=e||[];const{basicInfo:{questionnaireType:i},questions:r,questionnaireName:d}=(null==(t=null==o?void 0:o[0])?void 0:t.questionnaireDetailResponseVO)||{basicInfo:{}};i&&(ta.value=2===i?[{attachmentName:d,attachmentUri:r,attachmentType:"question"}]:[{attachmentName:d,attachmentUri:null==(l=null==r?void 0:r[0])?void 0:l.content,attachmentType:se(String(null==(s=null==r?void 0:r[0])?void 0:s.textType),null==(n=null==r?void 0:r[0])?void 0:n.content)}])}}))},na=t([]),oa=e=>{console.log("currentPlanObj.value",e,We.value)};l((()=>ea.value.planCode),(e=>{We.value=(Be.value.productPlanInsureVOList||[]).find((a=>a.planCode===e))}));const ia=()=>{Se.value.handleClickTab()("tab3")},ra=t(""),da=t(0),ca=async()=>{var e;if(aa.value)window.location.href=`${window.location.origin}${y}baseInsurance/orderDetail?orderNo=mockOrderNo&tenantId=${Ie}&ISEE_BIZ=${ze}&productCode=${b}&preview=true&templateView=${null==_e?void 0:_e.templateId}`;else try{const a=((e={},a={},t={})=>{var l;const s={...t};console.log("nextStepParams",s);const{tenantOrderHolder:n,tenantOrderInsuredList:o}=ge({holder:null==(l=Je.submitData.holder)?void 0:l.personVO,insuredList:(Je.submitData.insuredVOList||[]).map((e=>e.personVO))});console.log("state.submitData",Je.submitData),console.log("tenantOrderHolder",n),console.log("tenantOrderInsuredList",o);const i=Je.submitData.insuredVOList.map((e=>{var a,t;return null==(t=null==(a=e.productPlanVOList)?void 0:a[0])?void 0:t.riskVOList})).flat();console.log("riskList",i);const r={tenantId:Ie,riskList:i,riskPremium:a,productId:e.id};return s.extInfo.iseeBizNo=ze.value,s.productCode=e.productCode,s.commencementTime=s.insuranceStartDate,s.expiryDate=s.insuranceEndDate,s.premium=Je.trialResult,s.orderAmount=Je.trialResult,s.orderRealAmount=Je.trialResult,s.tenantOrderHolder=n,s.tenantOrderInsuredList=o.map((a=>({...a,certType:a.certType||D.CERT,certNo:(a.certNo||"").toLocaleUpperCase(),planCode:We.value.planCode,tenantOrderProductList:[{premium:Je.trialResult,productCode:e.productCode,productName:e.productName,planCode:We.value.planCode,tenantOrderRiskList:oe(r)}]}))),console.log("nextStepParams",s),s})({insurerCode:Oe,productCode:b,productId:"",productName:(null==(e=Be.value)?void 0:e.productName)||"",tenantId:Ie},He.value,Ke.value);J(a,(async(e,a)=>{a===U.JUMP_PAGE&&(null==e?void 0:e.orderNo)&&await(async e=>{try{const{code:a,data:t}=await z({orderNo:e,tenantId:Ie});"10000"===a&&(t.extInfo={...t.extInfo,buttonCode:"EVENT_SHORT_underWrite"},await J(t))}catch(Oa){}})(null==e?void 0:e.orderNo)}))}catch(Oa){console.log(Oa)}},{fileList:ua,mustReadFileCount:pa,popupFileList:va}=he(We,la),ma=e=>{Ue.value=e,Fe.value=!0},fa=()=>{const e=[];return Qe.value.filter((e=>e.value===K.INSURE)).forEach((a=>{e.push(...a.productRiskVoList)})),e},ga=async()=>{je.value=!1,Fe.value=!1,console.log("previewMode.value---next",aa.value),aa.value?va.value.length>0?(Me.value=!1,ma(0)):ta.value.length>0?je.value=!0:ca():Re.value.validate().then((async e=>{var a;if(console.log(Ke.value,"skskks===++++",Je.trialResult,Je.submitData),Je.trialResult){const{mobile:e,verificationCode:t=""}=(null==(a=Je.submitData.holder)?void 0:a.personVO)||{},{code:l,data:s}=await ue(e,t);"10000"===l&&(va.value.length>0?(Me.value=!1,ma(0)):ta.value.length>0?je.value=!0:ca())}})).catch((e=>{console.log(e,"表单验证失败");const a=document.querySelector(".custom-page-form");a&&a.scrollIntoView()}))},ha=e=>{"allFalse"===e?(je.value=!1,ca()):B.confirm({className:"xinao-custom-dialog",title:"提示",teleport:"#xinaoDialog",message:"被保人不符合健康要求，很抱歉暂时无法投保该产品",confirmButtonText:"选错了",cancelButtonText:"为其他人投保"}).then((()=>{})).catch((()=>{je.value=!1}))},Aa=()=>{Fe.value=!1,Me.value=!0,ta.value.length<1?ca():je.value=!0},Ia=()=>{je.value=!1,Fe.value=!1,Me.value=!0},ya=M((async()=>{if(console.log(">>>>>调用试算<<<<<"),Je.ifPersonalInfoSuccess){Je.submitData.productCode=b,Je.submitData.tenantId=Ie,console.log([...na.value,...fa()],"slslslwwp--1--190199"),Je.riskVOList=(()=>{const{chargePeriod:e,coveragePeriod:a,paymentFrequency:t,insuranceEndDate:l,insuranceStartDate:s}=ea.value;return console.log("ssinit===++guaranteeObj.value",ea.value),ne([...na.value,...fa()]).map((l=>({...l,paymentFrequency:t,chargePeriod:e,coveragePeriod:a})))})(),console.log(Je.riskVOList,"state.riskVOList----2222223333"),Je.submitData.insuredVOList&&Je.submitData.insuredVOList.forEach((e=>{e.productPlanVOList=[{insurerCode:Oe,planCode:We.value.planCode,riskVOList:Je.riskVOList}]})),console.log(">>>数据构建<<<",Je.submitData);const e=$(Je.submitData);await(async(e,a=!0)=>{Je.trialMsg="试算中...",Je.trialResult=0;let t=!1;if(a){const{code:a}=await Q(e);t="10000"===a}!t&&a||W(e).then((e=>{var a,t;if(e.data&&e.code===q){(null==(a=null==e?void 0:e.data)?void 0:a.errorInfo)&&H(`${null==(t=null==e?void 0:e.data)?void 0:t.errorInfo}`),Je.trialMsg="",Je.trialResult=e.data.premium;const l={};e.data.riskPremiumDetailVOList&&e.data.riskPremiumDetailVOList.length&&e.data.riskPremiumDetailVOList.forEach((e=>{l[e.riskCode]={premium:e.premium,amount:e.amount}})),He.value=l}})).finally((()=>{}))})(e)}}),300),ka=async e=>{console.log(e,"slsllw--2020");const{holder:a,insuredVOList:t,isFirstInsuredChange:l}=e;a&&(Je.submitData.holder=a),t&&t.length>0&&t.forEach(((e,a)=>{var t;Je.submitData.insuredVOList&&Je.submitData.insuredVOList.length>a?Je.submitData.insuredVOList[a].personVO={...e.personVO,socialFlag:e.personVO.hasSocialInsurance}:((null==(t=Je.submitData)?void 0:t.insuredVOList)||(Je.submitData.insuredVOList=[]),Je.submitData.insuredVOList.push({personVO:{...e.personVO,socialFlag:e.personVO.hasSocialInsurance}}))})),Je.ifPersonalInfoSuccess=!0,ya()};return l((()=>Ke.value.tenantOrderInsuredList[0].relationToHolder),((e,a)=>{e!==a&&Qe.value&&Qe.value.forEach((e=>{e.value=K.UN_INSURE})),$e.value=!1,P((()=>{const{certType:e,extInfo:a}=Ke.value.tenantOrderInsuredList[0];a&&!a.hasSocialInsurance&&(Ke.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance=te.HAS),$e.value=!0}))}),{deep:!0,immediate:!0}),l((()=>We.value),(()=>{const{oilPackageProductVOList:e,planCode:a,insureProductRiskVOList:t}=We.value;ea.value.planCode=a,na.value=t,Ze.value=(t||[]).find((e=>e.mainRiskFlag===E.YES)),console.log("mainRiskInfo.value",Ze.value),Qe.value=(e||[]).map((e=>({...e,value:K.UN_INSURE})))}),{deep:!0,immediate:!0}),P((()=>{j(De,(([{isIntersecting:e}],a)=>{Te.value=!e}))})),R((()=>{var e;const a=S.get(ee);if(console.log("oldOrderDetailInfo",a),a){const{tenantOrderHolder:t,tenantOrderInsuredList:l}=a;if(t&&(Ke.value.tenantOrderHolder={...t,certType:t.certType||D.CERT}),Array(l)&&l[0]){const a=l[0]||{};if(Ke.value.activePlanCode=a.planCode,a.tenantOrderProductListtenantOrderProductList&&a.tenantOrderProductList[0]&&a.tenantOrderProductList[0].tenantOrderRiskList){const t=null==(e=a.tenantOrderProductList[0].tenantOrderRiskList)?void 0:e.find((e=>"1"===String(e.riskType)));t&&(Ke.value.paymentFrequency=(null==t?void 0:t.paymentFrequency)?String(null==t?void 0:t.paymentFrequency):ae.SINGLE)}}}})),s((()=>{Ge.value=!0,sa(),setTimeout((async()=>{ze.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),T((()=>{S.remove(ee)})),(e,t)=>{var l,s,v,y,O,b,_,x,C,L,V,w,P,E,R,S,D,T,B;const j=F;return n(),o(f,null,[r(Ge)?(n(),o("div",Ce,Le)):(n(),o("div",{key:1,"data-skeleton-root":"SHORT","theme-vars":r(k),class:"page-internet-product-detail"},[i("div",we,[1==(null==(s=null==(l=r(Ne))?void 0:l.BASIC_INFO)?void 0:s.bannerType)&&(null==(y=null==(v=r(Ne))?void 0:v.BASIC_INFO)?void 0:y.banner.length)?(n(),h(ie,{key:0,"data-skeleton-type":"img","indicator-color":"#ddd",images:null==(O=r(Ne))?void 0:O.BASIC_INFO.banner},null,8,["images"])):c("",!0),2==(null==(_=null==(b=r(Ne))?void 0:b.BASIC_INFO)?void 0:_.bannerType)&&(null==(C=null==(x=r(Ne))?void 0:x.BASIC_INFO)?void 0:C.video.length)?(n(),h(ke,{key:1,"data-skeleton-type":"img",src:null==(L=r(Ne))?void 0:L.BASIC_INFO.video[0]},null,8,["src"])):c("",!0),(null==(P=null==(w=null==(V=r(Ne))?void 0:V.BASIC_INFO)?void 0:w.bannerMove)?void 0:P.length)?(n(),h(ie,{key:2,url:null==(S=null==(R=null==(E=r(Ne))?void 0:E.BASIC_INFO)?void 0:R.bannerMove)?void 0:S[0],onClick:ia},null,8,["url"])):c("",!0),i("div",{ref_key:"observeRef",ref:De},null,512)]),(null==(D=r(Ne))?void 0:D.GUARANTEE)?(n(),h(re,{key:0,"show-service-config":"","data-source":r(Ne),"plan-list":r(Ye)},null,8,["data-source","plan-list"])):c("",!0),d(de,{ref_key:"detailScrollRef",ref:Se,"order-detail":r(Ke),"data-source":r(Ne)},{form:m((()=>{var e,a,l;return[i("div",Pe,[(null==(e=r(We))?void 0:e.productFactor)?(n(),h(r(le),{key:0,ref_key:"personalInfoRef",ref:Re,modelValue:r(Je).userData,"onUpdate:modelValue":t[0]||(t[0]=e=>r(Je).userData=e),"product-factor":null==(a=r(We))?void 0:a.productFactor,"multi-insured-config":null==(l=r(We))?void 0:l.multiInsuredConfigVO,"is-view":!1,onTrailChange:ka},null,8,["modelValue","product-factor","multi-insured-config"])):c("",!0)]),d(r(p),{"form-info":r(ea),"risk-info":r(Ze),"tenant-product-detail":r(Ne).PREMIUM,"plan-list":r(Ye),"premium-info":{premium:r(da),premiumLoadingText:r(ra)},onUpdateActivePlan:oa},null,8,["form-info","risk-info","tenant-product-detail","plan-list","premium-info"]),r(Qe).length>0?(n(),h(xe,{key:0,"package-product-list":r(Qe)},null,8,["package-product-list"])):c("",!0)]})),_:1},8,["order-detail","data-source"]),d(j,null,{default:m((()=>{var e,a,t;return[(null==(e=r(Ne).SIGNATURE)?void 0:e.inscribedContent)?(n(),h(r(g),{key:0,"inscribed-content":null==(t=null==(a=r(Ne))?void 0:a.SIGNATURE)?void 0:t.inscribedContent},null,8,["inscribed-content"])):c("",!0)]})),_:1}),d(j,null,{default:m((()=>{var e;return[(null==(e=r(ua))?void 0:e.length)?(n(),h(r(I),{key:0,"attachment-list":r(ua),"pre-text":"请阅读",onPreviewFile:t[1]||(t[1]=e=>ma(e))},null,8,["attachment-list"])):c("",!0)]})),_:1}),r(Te)?(n(),h(ve,{key:1,"is-share":null==(B=null==(T=r(Ne))?void 0:T.PRODUCT_LIST)?void 0:B.showWXShare,premium:r(Je).trialResult,"share-info":r(Xe),"loading-text":r(Je).trialMsg,"plan-code":r(ea).planCode,"payment-frequency":r(ea).paymentFrequency,"tenant-product-detail":r(Ne),onHandleClick:ga},{default:m((()=>[A("立即投保")])),_:1},8,["is-share","premium","share-info","loading-text","plan-code","payment-frequency","tenant-product-detail"])):c("",!0)],8,Ve)),r(qe)?(n(),h(ce,{key:2,"product-detail":r(Ne)},null,8,["product-detail"])):c("",!0),Ee,d(r(u),{show:r(je),"onUpdate:show":t[2]||(t[2]=e=>N(je)?je.value=e:null),"content-list":r(ta),"active-index":0,onOnConfirmHealth:ha,onOnCloseHealthByMask:Ia},null,8,["show","content-list"]),r(Fe)?(n(),h(r(a),{key:3,show:r(Fe),"onUpdate:show":t[3]||(t[3]=e=>N(Fe)?Fe.value=e:null),"content-list":r(Me)?r(ua):r(va),"is-only-view":r(Me),"active-index":r(Ue),text:r(Me)?"关闭":"我已逐页阅读并确认告知内容","force-read-count":r(Me)?0:r(pa),onSubmit:Aa,onOnCloseFilePreviewByMask:Ia},null,8,["show","content-list","is-only-view","active-index","text","force-read-count"])):c("",!0)],64)}}});export{Se as default};
