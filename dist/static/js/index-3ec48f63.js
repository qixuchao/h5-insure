import{l as e}from"./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-9cb21fc0.js";import{_ as a,d as l,r as i,E as o,G as u,an as t,c as n,h as s,e as d,w as m,j as r,f as c,g as p,k as v,t as y,y as V,m as g,ap as b,i as k,F as f,a2 as h,bT as C,J as D,b8 as x}from"./index-4edd55c0.js";import{S as _}from"./index-1d476210.js";import{c as L}from"./trial-fff0defb.js";function I(e){return Object.keys(e)}const U={key:0},K={class:"custom-field"},w={key:1,class:"flex-field"},P={class:"pro-radio-wrap"},A={key:2},O={class:"pro-radio-wrap"},S={class:"custom-field"},R={key:1},F={key:3},T={class:"custom-field"},j={key:1};var q=a(l({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})}},emits:["trialChange"],setup(e,{emit:a}){const l=e;console.log("baoebaofei  = ",l.originData);const k=i(l.originData),f=i(l.modelValue),h=i(1),C=()=>{const{displayType:e,requireCopies:a}=k.value;1===e?h.value=1:3===e&&2===a?h.value=2:3===e&&1===a?(h.value=3,k.value.minCopiesValue===k.value.maxCopiesValue&&(f.value.copy=k.value.minCopiesValue)):2===e&&(h.value=4,k.value.minCopiesValue===k.value.maxCopiesValue&&(f.value.copy=k.value.minCopiesValue))},D=o((()=>{var e;return 2===(null==(e=null==l?void 0:l.originData)?void 0:e.saleMethod)?{label:"保费",key:"premium"}:{label:"保额",key:"amount"}})),x=o((()=>k.value.displayValues?(1===k.value.displayValues.length&&(f.value[D.key]=k.value.displayValues[0].value),k.value.displayValues.map((e=>({label:e.value,value:e.code})))):[])),L=()=>{console.log("-------------------",f.value)};return u((()=>{C()})),t((()=>k),(e=>{C()}),{deep:!0}),t((()=>f.value),(e=>{a("trialChange",e)}),{deep:!0,immediate:!0}),(a,l)=>{const i=_,o=V,u=g,t=b;return 1===h.value?(n(),s("div",U,[1===e.originData.saleMethod?(n(),d(o,{key:0,label:`基本${p(D).label}`,name:p(D).key,class:"risk-select-field"},{input:m((()=>[r("div",K,[c(i,{modelValue:f.value[p(D).key],"onUpdate:modelValue":l[0]||(l[0]=e=>f.value[p(D).key]=e),"input-width":"80px","default-value":e.originData.minStepValue,min:e.originData.minStepValue,step:e.originData.stepValue,max:e.originData.maxStepValue},null,8,["modelValue","default-value","min","step","max"])])])),_:1},8,["label","name"])):v("",!0)])):2===h.value?(n(),s("div",w,[c(t,{modelValue:f.value[p(D).key],"onUpdate:modelValue":l[2]||(l[2]=e=>f.value[p(D).key]=e),label:`基本${p(D).label}`,name:p(D).key,class:"risk-select-field"},{input:m((()=>[r("div",P,[c(u,{modelValue:f.value[p(D).key],"onUpdate:modelValue":l[1]||(l[1]=e=>f.value[p(D).key]=e),options:p(x),onclick:L},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"])])):3===h.value?(n(),s("div",A,[c(t,{modelValue:f.value[p(D).key],"onUpdate:modelValue":l[4]||(l[4]=e=>f.value[p(D).key]=e),label:`基本${p(D).label}`,name:p(D).key,class:"risk-select-field"},{input:m((()=>[r("div",O,[c(u,{modelValue:f.value[p(D).key],"onUpdate:modelValue":l[3]||(l[3]=e=>f.value[p(D).key]=e),options:p(x),onclick:L},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"]),c(o,{modelValue:f.value.copy,"onUpdate:modelValue":l[6]||(l[6]=e=>f.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:m((()=>[r("div",S,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(n(),d(i,{key:0,modelValue:f.value.copy,"onUpdate:modelValue":l[5]||(l[5]=e=>f.value.copy=e),"input-width":"80px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(n(),s("span",R,y(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):4===h.value?(n(),s("div",F,[c(o,{modelValue:f.value.copy,"onUpdate:modelValue":l[8]||(l[8]=e=>f.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:m((()=>[r("div",T,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(n(),d(i,{key:0,modelValue:f.value.copy,"onUpdate:modelValue":l[7]||(l[7]=e=>f.value.copy=e),"input-width":"64px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(n(),s("span",j,y(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):v("",!0)}}}),[["__scopeId","data-v-36817872"]]);const E=[{name:"年金领取期间",type:"checkbox",configKey:["annuityDrawValueList"],valueKey:"annuityDrawDate"},{name:"领取频率",type:"checkbox",configKey:["annuityDrawFrequencyList"],valueKey:"annuityDrawType"},{name:"交费方式",type:"checkbox",configKey:["paymentFrequencyList"],valueKey:"paymentFrequency"},{name:"交费期间",type:"checkbox",configKey:["paymentPeriodValueList"],valueKey:"chargePeriod"},{name:"保障期间",type:"checkbox",configKey:["insurancePeriodValueList"],valueKey:"coveragePeriod"}];const $={class:"pro-radio-wrap"};var M=a(l({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})},riskCode:{default:""}},emits:["trialChange"],setup(a,{emit:l}){const o=a,y=i(o.originData),V=i(o.modelValue);i(1);const h=()=>{E.forEach((a=>{const l=e.exports.get(o.originData,a.configKey);"checkbox"===a.type&&l&&l.length>0&&(V.value[a.valueKey]=l[0].code)}))};return u((()=>{h()})),t((()=>y.value),(e=>{h()}),{deep:!0,immediate:!0}),t((()=>V.value),(e=>{l("trialChange",e)}),{deep:!0,immediate:!0}),(l,i)=>{const u=g,t=b;return n(!0),s(f,null,k(p(E),(l=>(n(),s(f,null,[p(e.exports.get)(a.originData,l.configKey)?(n(),s("div",{key:a.riskCode+"_"+l.name},["checkbox"===l.type?(n(),d(t,{key:0,modelValue:V.value[l.valueKey],"onUpdate:modelValue":e=>V.value[l.valueKey]=e,label:l.name,name:l.valueKey,class:"risk-select-field"},{input:m((()=>{return[r("div",$,[c(u,{modelValue:V.value[l.valueKey],"onUpdate:modelValue":e=>V.value[l.valueKey]=e,options:(a=l.configKey,e.exports.get(o.originData,a).map((e=>({label:e.value,value:e.code}))))},null,8,["modelValue","onUpdate:modelValue","options"])])];var a})),_:2},1032,["modelValue","onUpdate:modelValue","label","name"])):v("",!0)])):v("",!0)],64)))),256)}}}),[["__scopeId","data-v-4dfdb9b1"]]);const G={class:"com-risk-liabilityinfo"},J={class:"item-wrap"},N={key:0},z=r("div",{class:"cell-content"},null,-1),B=l({__name:"index",props:{dataSource:{default:()=>({})},modelValue:{default:()=>({})},params:{default:()=>({amountUnit:"",basicsAmount:"",basicsPremium:"",riskId:""})}},emits:["trialChange"],setup(e,{emit:a}){const l=e,o=[{value:"投保",code:"1"},{value:"不投保",code:"2"}],u=i(l.modelValue);i({}),console.log("mValue>>>>>>",u.value);const y=i({formInfo:l.dataSource,isCheckList:[]});return t((()=>u.value),(e=>{console.log("----------------------------------------mValues.value----------------------------------------"),a("trialChange",e)}),{deep:!0,immediate:!0}),t((()=>l.dataSource),(e=>{console.log("22----------------------------------------mValues.value----------------------------------------",e.productRiskInsureLimitVO);const i={amountUnit:l.params.amountUnit,basicsAmount:e.basicsAmount,basicsPremium:e.basicsPremium,riskId:l.params.riskId},o=l.dataSource.riskLiabilityInfoVOList.map((async e=>{if(e.formula.length>0){const{code:a,data:l}=await L({...i,riskLiabilities:[e]});return"10000"===a?(e.liabilityAttributeValueList=l[0].formulaResult,{...e,liabilityAttributeValueList:l[0]}):e}}));console.log("liabilityItem>>>>>>",o),console.log("riskLiabilityInfoVOList>>>>>>",l.dataSource.riskLiabilityInfoVOList),console.log("mValues.value>>>>>>",u.value),a("trialChange",e)}),{deep:!0,immediate:!0}),(a,l)=>{const i=b,u=h,t=C;return n(),d(t,null,{default:m((()=>[r("div",G,[r("div",J,[(n(!0),s(f,null,k(e.dataSource.riskLiabilityInfoVOList,((e,a)=>(n(),s("div",{key:a},[1==+e.showFlag?(n(),s("div",N,[c(i,{label:`${e.liabilityName}`,"label-width":"40%",name:"insuredRelation"},{input:m((()=>[1==+e.insureFlag?(n(),d(g,{key:0,modelValue:p(y).isCheckList[a],"onUpdate:modelValue":e=>p(y).isCheckList[a]=e,prop:{label:"value",value:"code"},options:o},null,8,["modelValue","onUpdate:modelValue"])):v("",!0)])),_:2},1032,["label"]),1==+p(y).isCheckList[a]||1===e.attributeFlag&&2===e.insureFlag?(n(),d(i,{key:0,label:e.liabilityAttributeTypeDesc,"label-width":"40%",name:"insuredRelation"},{input:m((()=>[c(g,{prop:{label:"displayValue",value:"actualValue"},options:(e.formula.length,e.liabilityAttributeValueList)},null,8,["options"])])),_:2},1032,["label"])):v("",!0)])):v("",!0)])))),128))])]),z,c(u)])),_:1})}}});var H=a(l({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})}},emits:["trialChange"],setup(a,{expose:l,emit:o}){const t=a,d=D({personalInfo:{},basicsAmount:"",basicsPremium:""}),m=i(null),r=i({}),v=i({});x("premium"),v.value=x("enumList")||{},u((()=>{console.log("--------origin data = ",t.originData)}));const y=e.exports.debounce((()=>{o("trialChange",r.value)}),500),V=e=>{I(e).forEach((a=>{r.value[a]=e[a]})),console.log("toubaoxinxi change: ",r.value),y()},g=e=>{var a,l;1==+(null==(l=null==(a=t.originData)?void 0:a.productRiskInsureLimitVO)?void 0:l.amountPremiumConfigVO.saleMethod)?d.basicsAmount=null==e?void 0:e.amount:d.basicsAmount=null==e?void 0:e.premium,I(e).forEach((a=>{r.value[a]=e[a]})),console.log("baoebaofei change ",r.value),y()},b=e=>{console.log("handleRiskLiabilityChange change ",e)};return l({validate:async()=>{var e;await(null==(e=m.value)?void 0:e.validate())}}),(e,l)=>{var i,o,u,t,m;return n(),s(f,null,[c(p(q),{"v-model":p(r),"origin-data":null==(o=null==(i=a.originData)?void 0:i.productRiskInsureLimitVO)?void 0:o.amountPremiumConfigVO,onTrialChange:g},null,8,["v-model","origin-data"]),c(p(M),{"v-model":p(r),"origin-data":a.originData.productRiskInsureLimitVO,"risk-code":a.originData.riskCode,onTrialChange:V},null,8,["v-model","origin-data","risk-code"]),c(p(B),{"v-model":p(r),"data-source":a.originData,params:{amountUnit:null==(t=null==(u=a.originData)?void 0:u.productRiskInsureLimitVO)?void 0:t.amountPremiumConfigVO.displayUnit,basicsAmount:p(d).basicsAmount,basicsPremium:p(d).basicsPremium,riskId:null==(m=a.originData)?void 0:m.riskId},onTrialChange:b},null,8,["v-model","data-source","params"])],64)}}}),[["__scopeId","data-v-53806425"]]);export{H as I};
