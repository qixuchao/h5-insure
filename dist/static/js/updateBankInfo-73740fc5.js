import{_ as a,d as e,h as s,g as t,i as o,av as r,o as n,c as i,u as f,l as c,q as d,a as l,b as u,w as m,a8 as p,aC as b,a9 as v,bj as y,an as j}from"./index-70866bb3.js";import{_ as h}from"./PolicyInfo-e2ffbe0f.js";import{u as I}from"./useOrder-4c3b96c8.js";import{a as _}from"./utils-394f97a4.js";import{g as k,m as g}from"./trial-55b7b6bf.js";import{n as P}from"./nextStep-73676ab5.js";import"./core-00714f77.js";import"./constants-fe95ef6f.js";const w={class:"bank-info-wrap"},L={class:"footer-button"},x=e({name:"updateBankInfo"});var C=a(e({...x,setup(a){const e=s(),x=t(),{orderNo:C,isShare:O,tenantId:q}=e.query,V=I(),D=o({schema:[],config:[],formData:[]}),N=o(!!O),R=o(),S=()=>{x.back()},U=()=>{R.value&&R.value.validate((a=>{a&&P(V.value,((a,s)=>{s===b.JUMP_PAGE&&v(a.nextPageCode,e.query)}),e)}))};return r((()=>{(async()=>{let a={};const{code:e,data:s}=await k({orderNo:C,tenantId:q});"10000"===e&&(Object.assign(V.value,s),a=_(s.insuredList[0].productList)),g(a).then((({data:a,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:s}=a,{payInfo:t}=y(s);D.value={...D.value,...t}}}))})()})),(a,e)=>{const s=j;return n(),i("div",w,[f(D).schema.length?(n(),c(h,{key:0,ref_key:"payInfoRef",ref:R,modelValue:f(V).tenantOrderPayInfoList,"onUpdate:modelValue":e[0]||(e[0]=a=>f(V).tenantOrderPayInfoList=a),schema:f(D).schema,"is-view":f(N)},null,8,["modelValue","schema","is-view"])):d("",!0),l("div",L,[u(s,{onClick:S},{default:m((()=>[p("取消")])),_:1}),u(s,{type:"primary",onClick:U},{default:m((()=>[p("确认")])),_:1})])])}}}),[["__scopeId","data-v-35017a90"]]);export{C as default};
