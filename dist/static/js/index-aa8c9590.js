import{h as j,x as J,k as d,p as _,L as I,v,B as p,Z as H,A as m,P as z,aa as K,G as Q,j as ee,r as V,m as W,n as l,s,d as te,F as oe,H as ae,ac as y,E as g,D as ne,T as se}from"./vendor-a1c35ffc.js";import{d as re}from"./order-146f4b66.js";import{_ as q,g as ue,s as Z,ae as S}from"./index-f6aa927b.js";import{O as de,b as C}from"./order-75f10202.js";import{I as ce}from"./InsuredPart-9bb4dca7.js";import"./trial-69fa7313.js";const le={class:"com-field-info"},ie={key:0,class:"label"},_e={class:"content"},pe=j({props:{label:{type:String,default:""},content:{type:String,default:""}},setup(k){const D=J();return(b,e)=>(d(),_("div",le,[k.label?(d(),_("div",ie,I(k.label),1)):v("",!0),p(D).label?H(b.$slots,"label",{key:1},void 0,!0):v("",!0),m("div",_e,I(k.content),1),p(D).content?H(b.$slots,"content",{key:2},void 0,!0):v("",!0)]))}});var h=q(pe,[["__scopeId","data-v-d673262c"]]);const ve={key:0,class:"page-order-detail"},fe={class:"card"},me={class:"header"},ye={class:"product-name"},Ce={class:"company-name"},he={class:"status"},Ie={key:0,class:"footer-button"},ge=g("\u5220\u9664"),ke=g("\u53BB\u5904\u7406"),De={key:1,class:"footer-button"},be=g("\u5220\u9664"),Oe=g("\u53BB\u652F\u4ED8"),Pe={key:2,class:"footer-button"},Be=g("\u5220\u9664"),Se=j({setup(k){const D=z(),b=K(),e=Q(),{query:{orderNo:O,agentCode:L,tenantId:P,abbreviation:Le,productCategory:T}}=D,F=()=>{ne.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{e.value&&re(e.value.id,e.value.orderStatus).then(o=>{const{code:a,data:t}=o;a==="10000"&&se.success("\u5220\u9664\u6210\u529F")})})},E=()=>{var r,u;if(!e.value)return!1;const{agencyId:o,saleChannelId:a,orderTopStatus:t}=e.value,n=(u=(r=e.value.tenantOrderInsuredList[0])==null?void 0:r.tenantOrderProductList[0])==null?void 0:u.productCode;if((C.PENDING===t||C.PAYING===t)&&(n===S.ZXYS||n===S.BWYL)){const c={[S.ZXYS]:"/internet/productDetail/package",[S.BWYL]:"/internet/productDetail"};return b.push({path:c[n],query:{productCode:n,saleChannelId:a,agentCode:L,tenantId:P,agencyCode:o,orderNo:O}}),!0}return!1},w=()=>{var o,a;if(e.value){if(E())return;const{id:t,extInfo:{templateId:n,pageCode:r},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;Z(r,{productCode:f,orderNo:O,orderId:t,agentCode:L,templateId:n,tenantId:P,productCategory:T,insurerCode:c,agencyCode:u,isFromOrderList:"1"})}},X=()=>{var o,a;if(e.value){if(E())return;const{id:t,saleUserId:n,extInfo:{templateId:r},agencyId:u,venderCode:c}=e.value,f=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;Z("payInfo",{productCode:f,orderNo:O,orderId:t,saleUserId:n,templateId:r,tenantId:P,productCategory:T,insurerCode:c,agencyCode:u})}};return ee(()=>{ue({orderNo:O,agentCode:L,tenantId:P}).then(o=>{const{code:a,data:t}=o;a==="10000"&&(e.value=t)})}),(o,a)=>{const t=V("van-button"),n=V("ProPageWrap");return d(),W(n,null,{default:l(()=>{var r,u,c,f,N,A,x,Y,M,U,R;return[e.value?(d(),_("div",ve,[m("div",fe,[s(h,null,{label:l(()=>{var i,B,$,G;return[m("div",me,[m("div",ye,I(($=(B=(i=e.value)==null?void 0:i.tenantOrderInsuredList[0])==null?void 0:B.tenantOrderProductList[0])==null?void 0:$.productName),1),m("div",Ce,I((G=e.value)==null?void 0:G.abbreviation),1)])]}),content:l(()=>{var i;return[m("div",he,I(e.value?p(de)[(i=e.value)==null?void 0:i.orderStatus]:""),1)]}),_:1}),s(h,{label:"\u6295\u4FDD\u5355\u53F7",content:(r=e.value)==null?void 0:r.orderNo},null,8,["content"]),s(h,{label:"\u521B\u5EFA\u65F6\u95F4",content:p(te)((u=e.value)==null?void 0:u.gmtCreated).format("YYYY-MM-DD HH:mm:ss")},null,8,["content"]),s(h,{label:"\u6295\u4FDD\u4EBA",content:(f=(c=e.value)==null?void 0:c.tenantOrderHolder)==null?void 0:f.name},null,8,["content"]),(d(!0),_(oe,null,ae(((N=e.value)==null?void 0:N.tenantOrderInsuredList)||[],(i,B)=>(d(),W(h,{key:B,label:"\u88AB\u4FDD\u4EBA",content:i.name},null,8,["content"]))),128))]),s(ce,{"product-data":(Y=(x=(A=e.value)==null?void 0:A.tenantOrderInsuredList[0])==null?void 0:x.tenantOrderProductList)==null?void 0:Y[0],class:"insure-info"},null,8,["product-data"]),((M=e.value)==null?void 0:M.orderTopStatus)===p(C).PENDING?(d(),_("div",Ie,[s(t,{type:"primary",onClick:y(F,["stop"])},{default:l(()=>[ge]),_:1},8,["onClick"]),s(t,{type:"primary",onClick:y(w,["stop"])},{default:l(()=>[ke]),_:1},8,["onClick"])])):v("",!0),((U=e.value)==null?void 0:U.orderTopStatus)===p(C).PAYING?(d(),_("div",De,[s(t,{type:"primary",onClick:y(F,["stop"])},{default:l(()=>[be]),_:1},8,["onClick"]),s(t,{type:"primary",onClick:y(X,["stop"])},{default:l(()=>[Oe]),_:1},8,["onClick"])])):v("",!0),((R=e.value)==null?void 0:R.orderTopStatus)===p(C).TIMEOUT?(d(),_("div",Pe,[s(t,{type:"primary",onClick:y(F,["stop"])},{default:l(()=>[Be]),_:1},8,["onClick"])])):v("",!0)])):v("",!0)]}),_:1})}}});var Ye=q(Se,[["__scopeId","data-v-719e96a1"]]);export{Ye as default};
