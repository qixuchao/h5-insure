!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.page-team-target .search-team-target[data-v-09d1bd0d]{padding-top:0}.page-team-target .search-team-target[data-v-09d1bd0d] .van-field__left-icon{margin:auto}.page-team-target .top[data-v-09d1bd0d]{width:100%;padding:.13333rem .4rem .66667rem;background-size:auto 30%;background-repeat:no-repeat}.page-team-target .top .title-tail div[data-v-09d1bd0d]{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#b39265;line-height:.49333rem}.page-team-target .top .title-tail div span[data-v-09d1bd0d]{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:700;color:#b39265;line-height:.49333rem;color:var(--van-primary-color)}.page-team-target .bottom[data-v-09d1bd0d]{width:100%;padding:.13333rem .4rem .53333rem;background-size:auto 30%;background-repeat:no-repeat}.page-team-target .bottom .title-tail[data-v-09d1bd0d]{display:flex;align-items:center}.page-team-target .bottom .title-tail img[data-v-09d1bd0d]{width:.42667rem;height:.42667rem}.page-team-target .bottom .title-tail .back-member[data-v-09d1bd0d]{font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#ff2b1f;line-height:.49333rem}.page-team-target .bottom .title-tail .back-member img[data-v-09d1bd0d]{width:.29333rem;height:.32rem;margin-right:.13333rem}.page-team-target .bottom .target-list .target-item[data-v-09d1bd0d]{position:relative;width:100%;height:1.54667rem;background:#ffffff;box-shadow:0 .08rem .21333rem #f6f6fa;border-radius:.26667rem;border:1px solid #f8e3e3;padding:.62667rem .4rem;display:flex;align-items:center;justify-content:space-between;margin-bottom:.4rem}.page-team-target .bottom .target-list .target-item .item-right .have-target[data-v-09d1bd0d]{height:.53333rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#b39366;line-height:.53333rem;text-align:center}.page-team-target .bottom .target-list .target-item .item-right .have-target img[data-v-09d1bd0d]{width:.26667rem;height:.29333rem}.page-team-target .bottom .target-list .target-item .item-right .no-target[data-v-09d1bd0d]{font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#c1c1c1;line-height:.53333rem}.page-team-target .bottom .target-list .target-item[data-v-09d1bd0d]:after{position:absolute;top:-1px;bottom:-1px;left:-1px;right:-1px;content:"";z-index:-1;border-radius:.26667rem}.page-team-target .bottom .target-list .more-area[data-v-09d1bd0d],.page-team-target .bottom .target-list .more-area .more-out[data-v-09d1bd0d]{display:flex;align-items:center;justify-content:center}.page-team-target .bottom .target-list .more-area .more-out .text[data-v-09d1bd0d]{height:.49333rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#868686;line-height:.49333rem;margin-right:.14667rem}.page-team-target .bottom .target-list .more-area .more-out img[data-v-09d1bd0d]{width:.32rem;height:.17333rem;transition:transform .5s}.page-team-target .bottom .target-list .more-area .more-out img.showMore[data-v-09d1bd0d]{transform:rotate(180deg)}.page-team-target .bottom .empty-bottom-class[data-v-09d1bd0d]{margin-top:1.33333rem}.page-team-target .member-target-popup .member-target-popup-top[data-v-09d1bd0d]{height:1.33333rem;font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#343434;line-height:.64rem;position:relative;text-align:center;padding-top:.34667rem;border-bottom:1px solid #f2f2f2}.page-team-target .member-target-popup .member-target-popup-top img[data-v-09d1bd0d]{width:.37333rem;height:.37333rem;right:.4rem;top:.46667rem;position:absolute}.page-team-target .member-target-popup .member-target-popup-content[data-v-09d1bd0d]{padding:0px .4rem 1.33333rem}.page-team-target .member-target-popup .member-target-popup-content .title-head[data-v-09d1bd0d]{width:.08rem;height:.37333rem;background:var(--van-primary-color);border-radius:.05333rem;margin-right:.21333rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-f56233fa.js","./target-legacy-bf526ae7.js","./index-legacy-b73bfc85.js","./index-legacy-4c8de798.js","./Divided-legacy-4b21cce5.js","./detailList-legacy-1d872ea3.js","./index-legacy-9604cbf9.js","./plugin-vue_export-helper-legacy-57eac467.js","./select-legacy-7de2a63e.js"],(function(e){"use strict";var t,a,l,i,r,o,m,d,n,g,s,u,v,c,p,b,f,h,y,Y,C,S,x,w,k,T,I,F,P,_,L,j,z,$,M,G,R,O,U;return{setters:[function(e){t=e.g,a=e.C,l=e.a4,i=e.d,r=e.k,o=e.h,m=e.L,d=e.M,n=e.j,g=e.r,s=e.m,u=e.n,v=e.z,c=e.s,p=e.y,b=e.ah,f=e.I,h=e.G,y=e.H,Y=e.F,C=e.E,S=e.J,x=e.B,w=e.a2,k=e.a3,T=e.T},function(e){I=e.a,F=e._,P=e.s},function(e){_=e.a,L=e._},function(e){j=e._},function(e){z=e.T,$=e.D},function(e){M=e.a,G=e.r},function(e){R=e.S,O=e.u},function(e){U=e._},function(){}],execute:function(){const N=t({props:{visible:{type:Boolean,default:!1},memberType:{type:String,default:""},memberCode:{type:String,default:""},mode:{type:String,default:"single"}},emits:["on-submit","update:visible"],setup(e,{emit:t}){const m=e,d=a([]),n=a([]);l((()=>m.visible),(e=>{n.value=[],e&&I({memberCode:m.memberCode,memberType:m.memberType,effectiveTime:`${i().format("YYYY")}-01-01 00:00:00`,expriyTime:`${i().format("YYYY")}-12-31 00:00:00`}).then((e=>{const{status:t}=e;200===t&&(d.value=e.data.data.teamMembers)}))}));const g=e=>{t("on-submit",e),t("update:visible",!1)},s=()=>{t("update:visible",!1)};return(t,a)=>(r(),o(_,{visible:e.visible,"show-next-icon":!1,"data-source":d.value,mode:e.mode,"data-index":"memberName","key-index":"memberCode","select-value":n.value,"search-current-info":!0,onOnSubmit:g,onOnClose:s},null,8,["visible","data-source","mode","select-value"]))}});const B=e=>(w("data-v-09d1bd0d"),e=e(),k(),e),D={class:"top"},E={class:"title-tail"},H=x(" 统计人数"),Z=x("人 "),A={class:"bottom"},J={class:"back-member"},W=["src"],q=x("恢复全部 "),K={key:0,class:"target-list"},Q=["onClick"],V={class:"item-left"},X={class:"item-right"},ee={class:"have-target"},te=x(" 查看目标 "),ae=["src"],le={class:"no-target"},ie={key:0,class:"more-area"},re={class:"text"},oe=["src"],me={class:"member-target-popup"},de={class:"member-target-popup-top"},ne=x(" 成员目标 "),ge=["src"],se={class:"member-target-popup-content"},ue=B((()=>p("div",{class:"title-head"},null,-1))),ve={class:"title-tail"},ce=x(" 统计人数"),pe=x("人 "),be=t({setup(e){const t=new R({source:"localStorage"}),{getIconUrl:l}=O(),x=a("请输入搜索关键词"),w=a(!1),k=a(!1),_=a(!1),U=a(!1),B=a(!1),be=a(0),fe=m([]),he=a([]),ye=a(!1),Ye=a([]),Ce=a([]),Se=a(!1),xe=a(""),we=a(""),ke=()=>{w.value=!w.value,!1===w.value?Ce.value=Ye.value.slice(0,3):Ce.value=Ye.value},Te=async()=>{if(Se.value){const e=await I({memberCode:"",memberType:"",effectiveTime:`${i().format("YYYY")}-01-01 00:00:00`,expriyTime:`${i().format("YYYY")}-12-31 23:59:59`});Ye.value=e.data.data.teamMembers,Ce.value=Ye.value.slice(0,3),Se.value=!1}else _.value=!0},Ie=()=>{k.value=!0},Fe=a(""),Pe=a(0),_e=a(!1),Le=a([]),je=m([]),ze=e=>{k.value=e},$e=async e=>{var t,a;xe.value=null===(t=e[0])||void 0===t?void 0:t.memberCode,we.value=null===(a=e[0])||void 0===a?void 0:a.memberType;try{var l,r,o,m,d,n,g,s,u;const t=await I({memberCode:null===(l=e[0])||void 0===l?void 0:l.memberCode,memberType:null===(r=e[0])||void 0===r?void 0:r.memberType,effectiveTime:`${i().format("YYYY")}-01-01 00:00:00`,expriyTime:`${i().format("YYYY")}-12-31 23:59:59`});x.value=(null===(o=e[0])||void 0===o?void 0:o.agencyName)||"请输入搜索关键词",null!==(m=t.data)&&void 0!==m&&null!==(d=m.data)&&void 0!==d&&d.goalSummaryList?(B.value=!0,fe.splice(0),fe.push({title:"目标项",dataIndex:"code"},...M(t.data.data.goalSummaryList||[])),he.value=G(t.data.data.goalSummaryList||[])):B.value=!1,be.value=null===(n=t.data)||void 0===n||null===(g=n.data)||void 0===g?void 0:g.totalSummary,Ye.value=(null===(s=t.data)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.teamMembers)||[],Ce.value=Ye.value.slice(0,3)}catch(v){}},Me=e=>{if(0===e.length)return _.value=!1,void(x.value="请输入搜索关键字");Ye.value=e,Ce.value=Ye.value.slice(0,3),Se.value=!0},Ge=e=>{_.value=e};return d((async()=>{const e=t.get("userInfo");"I"===(null==e?void 0:e.userType)||"O"===(null==e?void 0:e.userType)&&(null==e?void 0:e.agentLevel)<=60?ye.value=!0:ye.value=!1;const a=await I({memberCode:"",memberType:"",effectiveTime:`${i().format("YYYY")}-01-01 00:00:00`,expriyTime:`${i().format("YYYY")}-12-31 23:59:59`});a.data.data.goalSummaryList&&a.data.data.goalSummaryList.length>0?(fe.push({title:"目标项",dataIndex:"code"},...M(a.data.data.goalSummaryList||[])),he.value=G(a.data.data.goalSummaryList||[]),B.value=!0):B.value=!1,be.value=a.data.data.totalSummary,Ye.value=a.data.data.teamMembers,Ce.value=Ye.value.slice(0,3)})),(e,t)=>{const a=g("van-search"),m=g("ZaSvg"),d=g("van-popup"),I=g("ZaPageWrap");return r(),o(I,{"main-class":"page-team-target"},{default:n((()=>[ye.value?(r(),s("div",{key:0,onClick:Ie},[u(a,{shape:"round",disabled:"","left-icon":v(l)("target.searchImg"),placeholder:x.value,class:"search-team-target"},null,8,["left-icon","placeholder"])])):c("",!0),p("div",D,[u(z,{title:"目标汇总","title-class":"aaa","head-icon":v(l)("target.siconImg")},b({_:2},[B.value?{name:"tail",fn:n((()=>[p("div",E,[p("div",null,[H,p("span",null,f(be.value),1),Z])])]))}:void 0]),1032,["head-icon"]),B.value?(r(),o(F,{key:0,columns:v(fe),"data-source":he.value,"background-color":["var(--target-team-head-table)","var(--target-team-body-table)"]},null,8,["columns","data-source","background-color"])):c("",!0),B.value?c("",!0):(r(),o(j,{key:1,"empty-img":v(l)("target.emptyImg"),title:"请输入搜索关键词"===x.value?"团队暂无目标汇总":"没有找到相关信息","empty-class":"empty-class"},null,8,["empty-img","title"]))]),u($),p("div",A,[u(z,{title:"下级成员","title-class":"aaa","head-icon":v(l)("target.tpiconImg")},{tail:n((()=>[p("div",{class:"title-tail",onClick:Te},[h(u(m,{name:"search_new"},null,512),[[y,!Se.value]]),h(p("div",J,[p("img",{src:v(l)("target.backImg"),alt:""},null,8,W),q],512),[[y,Se.value]])])])),_:1},8,["head-icon"]),Ce.value.length>0?(r(),s("div",K,[(r(!0),s(Y,null,C(Ce.value,((e,t)=>(r(),s("div",{key:t,class:"target-item",onClick:t=>(async e=>{if(e.hasGoal)if(_e.value=!1,Le.value=[],je.splice(0),e.hasGoal){var t,a,l,r;U.value=!0;const o=await P({goalId:e.goalId||null,memberCode:e.memberCode,tplGoalId:e.tplGoalId,memberType:e.memberType,effectiveTime:`${i().format("YYYY")}-01-01 00:00:00`,expriyTime:`${i().format("YYYY")}-12-31 23:59:59`});Fe.value=(null===(t=o.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.name)||"",Le.value=G((null===(l=o.data)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.detailList)||[]),je.push({title:"目标项",dataIndex:"code"},...M(o.data.data.detailList||[]))}else T("该成员暂未设置目标");else T("A"===e.memberType?"该成员暂未设置目标":"该部门暂无目标汇总")})(e)},[p("div",V,f(e.memberName),1),p("div",X,[h(p("div",ee,[te,p("img",{src:v(l)("target.rightImg"),alt:""},null,8,ae)],512),[[y,!0===e.hasGoal]]),h(p("div",le,"未设置目标",512),[[y,!1===e.hasGoal]])])],8,Q)))),128)),Ye.value.length>3?(r(),s("div",ie,[p("div",{class:"more-out",onClick:ke},[p("div",re,f(w.value?"收起":"更多"),1),p("img",{src:v(l)("target.moreImg"),alt:"",class:S({showMore:w.value})},null,10,oe)])])):c("",!0)])):(r(),o(j,{key:1,title:"暂无下级成员","empty-class":"empty-bottom-class"}))]),u(L,{visible:k.value,mode:"single","is-target":!0,onOnSubmit:$e,"onUpdate:visible":ze},null,8,["visible"]),u(N,{"member-code":xe.value,"member-type":we.value,visible:_.value,mode:"single",onOnSubmit:Me,"onUpdate:visible":Ge},null,8,["member-code","member-type","visible"]),u(d,{show:U.value,"onUpdate:show":t[1]||(t[1]=e=>U.value=e),round:"",position:"bottom",style:{height:"60%"}},{default:n((()=>[p("div",me,[p("div",de,[ne,p("img",{src:v(l)("target.closeImg"),alt:"",onClick:t[0]||(t[0]=e=>U.value=!1)},null,8,ge)]),p("div",se,[u(z,{title:Fe.value},b({head:n((()=>[ue])),_:2},[_e.value?{name:"tail",fn:n((()=>[p("div",ve,[p("div",null,[ce,p("span",null,f(Pe.value),1),pe])])]))}:void 0]),1032,["title"]),u(F,{columns:v(je),"data-source":Le.value},null,8,["columns","data-source"])])])])),_:1},8,["show"])])),_:1})}}});e("default",U(be,[["__scopeId","data-v-09d1bd0d"]]))}}}))}();
