import{_ as e,d as a,aV as t,aW as s,cC as o,i as l,h as i,af as r,j as c,bc as n,l as d,m as u,o as v,p as m,w as p,a as b,u as f,q as y,f as h,b as w,v as N,bi as T,cL as g,y as _,b3 as x,bo as I,bp as j,cM as C}from"./index-2ac8b6d6.js";import{f as P}from"./face_img-b678980a.js";import q from"./index-a2c957f7.js";const z=e=>(I("data-v-601946bb"),e=e(),j(),e),F={class:"page-phone-verify"},U=z((()=>b("div",{class:"title face-title"},"人脸识别",-1))),k={class:"face-verify-img"},E=["src"],V=z((()=>b("div",{class:"face-verify-tip"},[b("div",{class:"title"},"操作时请您配合"),b("ol",null,[b("li",null,"请调亮手机屏幕亮度，确保光线充足"),b("li",null,"请保持正脸对准屏幕，确保人脸完整清晰"),b("li",null,"请确保真实本人操作")])],-1))),B={class:"attachment"},L={class:"footer-button"},S=a({name:"verifyFace"});var M=e(a({...S,setup(e){const a=t((()=>s((()=>import("./index-a338855c.js")),["static/js/index-a338855c.js","static/css/index-fa4edf2a.css","static/js/index-2ac8b6d6.js","static/css/index-5460286b.css","static/js/theme-94cf7d00.js","static/js/index-54e3754c.js","static/css/index-bbfdd7ec.css","static/js/utils-ab4832aa.js","static/js/infoCollection-4aaf49a5.js","static/js/trial-cb24e467.js"]))),I=o(),j=l(),z=i(),{isFirst:S,tenantId:M,objectType:A,orderNo:D,biz_id:O,nextPageCode:W}=j.query,$=I.get(`${r}_orderDetail`),R=c(),G=c(!0),H=c(),J=c([{attachmentName:"隐私政策"}]),K=c(!1),Q=()=>{H.value?(()=>{const{userName:e,certiNo:a,certType:t}=R.value,s={tenantId:M,faceAuthMode:"TENCENT",callbackUrl:window.location.href.replace("isFirst=1","isFirst=0"),bizNo:D,userName:e,certiNo:a,certType:t};C(s).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a.originalUrl)}))})():T.alert({message:"请先同意隐私政策",confirmButtonText:"我知道了"})};n((()=>{const{holder:e,insuredList:a}=$;if("holder"===A){const{name:a,certNo:t,certType:s,id:o}=e;R.value={userName:a,certiNo:t,certType:s,objectId:o}}else{const{name:e,certNo:t,certType:s,id:o}=(null==a?void 0:a[0])||{};R.value={userName:e,certiNo:t,certType:s,objectId:o}}O&&(()=>{const{userName:e,objectId:a,certType:t}=R.value,s={bizId:O,certType:t,objectId:a,objectType:`${A}`.toLocaleUpperCase(),orderNo:D,tenantId:M};g(s).then((({code:e,data:a})=>{"10000"===e&&"SUCCESS"===a.status?(delete j.query.biz_id,delete j.query.nextPageCode,z.push({path:_.infoPreview,query:j.query})):G.value=!1}))})()}));const X=c();return d((()=>{setTimeout((async()=>{X.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,t)=>{const s=x,o=u("ProPageWrap");return v(),m(o,null,{default:p((()=>{var e;return[b("div",F,[U,b("div",k,[b("img",{src:f(P),alt:""},null,8,E)]),V,b("div",B,[(null==(e=f(J))?void 0:e.length)?(v(),m(q,{key:0,modelValue:f(H),"onUpdate:modelValue":t[0]||(t[0]=e=>y(H)?H.value=e:null),"attachment-list":f(J),"has-bg-color":!1,"is-show-radio":"","pre-text":"本人同意利安人寿采集本人人脸信息，用于向国家法规许可的验证机构进行本人身份验证。本人已仔细阅读并知晓","suffix-text":"，并同意授权。",onPreviewFile:t[1]||(t[1]=()=>K.value=!0)},null,8,["modelValue","attachment-list"])):h("",!0)]),b("div",L,[w(s,{type:"primary",class:"submit-btn",onClick:Q},{default:p((()=>[N("同意拍摄")])),_:1})])]),f(K)?(v(),m(f(a),{key:0,show:f(K),"onUpdate:show":t[2]||(t[2]=e=>y(K)?K.value=e:null),"content-list":f(J),"is-only-view":"","active-index":0,text:"我已阅读","force-read-cound":0,onSubmit:t[3]||(t[3]=()=>K.value=!1),onOnCloseFilePreviewByMask:t[4]||(t[4]=()=>K.value=!1)},null,8,["show","content-list"])):h("",!0)]})),_:1})}}}),[["__scopeId","data-v-601946bb"]]);export{M as default};
