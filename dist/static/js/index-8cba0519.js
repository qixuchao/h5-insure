import{d as e,u as a,a as n,r as o,al as t,c as r,h as d,at as s,au as c,j as i,a9 as l,T as u}from"./index-9aeeb9a7.js";import{f as p}from"./infoCollection-d956aa91.js";import"./pdfh5-008ca364.js";const I={class:"page-middle-wrapper"},f=[i("h4",null,null,-1)],C=e({__name:"index",setup(e){const i=a(),C=n(),m=o(""),{extraInfo:g,agencyCode:h,insurerCode:y,productCode:v,agentCode:x,saleChannelId:j}=C.query;let N={};try{N=JSON.parse(decodeURIComponent(g))}catch(R){}const{templateId:$,tenantId:b,orderNo:q}=N,w=e=>{s({param:e}).then((({code:e,data:a})=>{"10000"===e&&a?(()=>{var e;if("4"===$&&q){const a={insurerCode:y,productCode:v,tenantId:b||(null==(e=C.query)?void 0:e.tenantId),agencyCode:h,agentCode:x,orderNo:q,saleChannelId:j};return a.extraInfo=decodeURIComponent(JSON.stringify({...N,templateId:$})),void i.push(`/baseInsurance/upgrade?${l.stringify(a)}`)}if(!$||!p[$])return void u("链接上模板ID不正确不正确，请检查链接");const a=`/baseInsurance/${p[$]}`;i.replace(encodeURI(`${a}?${l.stringify(C.query)}`))})():m.value="验证失败"}))};return t((()=>{var e;w((e=window.location.search,c(["ext"],e)))})),(e,a)=>(r(),d("div",I,f))}});export{C as default};
