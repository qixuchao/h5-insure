import{_ as e,d as a,cv as t,i as s,h as r,ah as o,j as c,aJ as d,o as i,c as n,a as l,u,F as p,b as y,f as v,m as N,w as f,a8 as m,cE as b,cF as h,aa as T,af as j,aj as I,aF as w,aG as C}from"./index-da20c37e.js";const F=e=>(w("data-v-016d4863"),e=e(),C(),e),_={class:"page-verify-face"},g={class:"result-content"},k=F((()=>l("h4",null,"人脸识别验证失败",-1))),q=F((()=>l("p",{class:"desc"},"请保持在检测框内",-1))),x={class:"operate-btn"},z={key:1},E=a({name:"verifyFace"});var U=e(a({...E,setup(e){const a=t(),w=s(),C=r(),{isFirst:F,tenantId:E,objectType:U,orderNo:P,biz_id:S,nextPageCode:L}=w.query,$=a.get(`${o}_orderDetail`),A=c(),D=c(!0),G=()=>{const{userName:e,certiNo:a,certType:t}=A.value,s={tenantId:E,faceAuthMode:"TENCENT",callbackUrl:window.location.href.replace("isFirst=1","isFirst=0"),bizNo:P,userName:e,certiNo:a,certType:t};b(s).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a.originalUrl)}))};return d((()=>{const{holder:e,insuredList:a}=$;if("holder"===U){const{name:a,certNo:t,certType:s,id:r}=e;A.value={userName:a,certiNo:t,certType:s,objectId:r}}else{const{name:e,certNo:t,certType:s,id:r}=(null==a?void 0:a[0])||{};A.value={userName:e,certiNo:t,certType:s,objectId:r}}"1"===F&&G(),S&&(()=>{const{userName:e,objectId:a,certType:t}=A.value,s={bizId:S,certType:t,objectId:a,objectType:`${U}`.toLocaleUpperCase(),orderNo:P,tenantId:E};h(s).then((({code:e,data:a})=>{"10000"===e&&"SUCCESS"===a.status?(delete w.query.biz_id,delete w.query.nextPageCode,C.push({path:T.infoPreview,query:w.query})):D.value=!1}))})()})),(e,a)=>{const t=j,s=I;return i(),n("div",_,[l("div",g,[u(D)?v("",!0):(i(),n(p,{key:0},[y(t,{name:"wrong","font-size":"52px",color:"var(--van-primary-color)"}),k],64)),q]),l("div",x,[u(D)?(i(),n("span",z,"人脸识别中...")):(i(),N(s,{key:0,type:"primary",onClick:G},{default:f((()=>[m("再试一次")])),_:1}))])])}}}),[["__scopeId","data-v-016d4863"]]);export{U as default};
