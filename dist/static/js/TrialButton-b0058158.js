import{d as e,j as a,b0 as l,E as t,o as n,c as s,a as d,g as o,u as i,b as r,f as u,v as p,e as c,F as m,w as f,a8 as h,b1 as v,b2 as y}from"./index-d6f6d527.js";import{P as b}from"./index-5befd2e3.js";import{t as k}from"./format-31cde443.js";const C={class:"trial-button-wrap","safe-area-inset-bottom":""},g={class:"footer-area"},x=d("span",null,"分享",-1),S={class:"price"},$={class:"label"},E={key:0},F={key:2},P=e({name:"trialButton"}),j=e({...P,props:{premium:{default:null},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(e,{emit:P}){const j=e,q=a(""),A=a(""),w=l(),D=a(),I=a(),T=()=>{j.handleShare?j.handleShare((()=>I.value.handleShare(D.value))):I.value.handleShare(D.value)};return t([()=>j.premium,()=>j.tenantProductDetail,()=>j.paymentFrequency,()=>j.planCode],(([e])=>{const{PREMIUM:a=[]}=j.tenantProductDetail||{};let l={};if(null==a?void 0:a.length){l=(a||[]).find((e=>e.planCode===j.planCode||!e.planCode))||{};const t=((null==l?void 0:l.data)||[]).find((e=>e.paymentFrequency===j.paymentFrequency)),{premium:n,minActualUnit:s}=t||{};e?(A.value=s,q.value=e&&`${e}`):(A.value=n,q.value="")}else q.value=null,e&&(A.value="",q.value=e&&`${e}`)}),{deep:!0,immediate:!0}),t((()=>j.shareInfo),(e=>{D.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const l=y;return n(),s("div",C,[d("div",g,[o(e.$slots,"right",{},(()=>[e.isShare&&i(w)?(n(),s("div",{key:0,class:"com-share",onClick:T},[r(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),x])):u("",!0)])),d("div",S,[d("div",$,[o(e.$slots,"label",{},(()=>[p("首期总保费")]))]),e.loadingText?(n(),s("span",E,c(e.loadingText),1)):i(q)?(n(),s(m,{key:1},[d("span",null,c(i(k)(i(q),void 0," ")),1),d("span",null,c(i(A)),1)],64)):(n(),s("span",F,c(i(A)),1))]),r(b,h(e.$attrs,{shadow:!1,class:"right",onClick:a[0]||(a[0]=e=>P("handleClick"))}),{default:f((()=>[o(e.$slots,"default",{},(()=>[p("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:I},i(D)),null,16)])}}});export{j as _};
