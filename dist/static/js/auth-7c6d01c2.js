import{_ as e,e as a,i as l,a as o,a7 as t,I as s,V as n,S as r}from"./index-41e186aa.js";import{h as i,l as d,y as u,A as c,z as m,I as p,P as f,x as v,r as h,k as y,ae as b,Q as I,n as g,F as w,E as V,m as k,C as _,J as D,s as C,G as N,a3 as P,a4 as S,X as F,L as U,Z as L,T as A,av as q,j as O}from"./vendor-d6fdc679.js";import{P as x}from"./index-f5257a51.js";import{t as H}from"./theme-ea709837.js";import{h as j,i as T,R as B,I as M,a as E,j as R,S as $}from"./infoCollection-2d5debdb.js";import{A as K}from"./bankCard-5e87522a.js";import{c as z,n as X,i as G,m as J,d as Q,e as W,f as Z,h as Y}from"./utils-911ae3f4.js";import{s as ee,c as ae}from"./phoneVerify-7cecb12e.js";import{_ as le,c as oe}from"./index-f3096ddc.js";import{L as te}from"./loading-1c9c1d7b.js";import{i as se,g as ne,e as re}from"./trial-c9c60270.js";import{p as ie}from"./product-582696b6.js";const de=["src"],ue=["src"];var ce=e(i({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(e){const a=e;return(e,l)=>a.isCheck?(d(),u("img",{key:0,src:c("/static/assets/check-detail.24065a01.png"),class:"banner"},null,8,de)):(d(),u("img",{key:1,src:a.url,class:"banner"},null,8,ue))}}),[["__scopeId","data-v-584aabfc"]]);const me={class:"product-desc"},pe={class:"title"},fe={class:"desc"};var ve=e(i({props:{productName:{type:String,default:""},productDesc:{type:String,default:""}},setup:e=>(a,l)=>(d(),u("div",me,[m("div",pe,p(e.productName),1),m("div",fe,p(e.productDesc),1)]))}),[["__scopeId","data-v-2e75305e"]]);const he={class:"guarantee-list"},ye={class:"basic"},be=["src"],Ie={class:"guarantee-detail"},ge={class:"title"},we={class:"content"};var Ve=e(i({props:{guaranteeList:{type:Array,default:()=>[]},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:10}},setup(e){const l=e,[o,t]=f(!1),s=v((()=>l.guaranteeList.length>l.count&&(!!l.isShowClose||!o.value))),n=()=>{t()},r=v((()=>l.guaranteeList.length<=l.count||o.value?l.guaranteeList:l.guaranteeList.slice(0,l.count))),i=v((()=>l.guaranteeList.filter((e=>!(null==e?void 0:e.noDetail))))),P=h(!1),S=()=>{P.value=!0};return(e,l)=>{const t=y("ProCell"),f=y("ProCard"),v=y("ProPopup"),h=b("dompurify-html");return d(),u(w,null,[m("div",he,[I(f,{title:"保障内容",link:"查看详情","show-divider":!0,"show-icon":!0,onLinkClick:S},{default:g((()=>[m("div",ye,[(d(!0),u(w,null,V(c(r),((e,a)=>(d(),k(t,{key:a,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128))]),c(s)?(d(),u("div",{key:0,class:"show-more",onClick:n},[_(p(c(o)?"收起":"查看更多")+" ",1),I(a,{name:"down",class:D(["icon",{showMore:c(o)}])},null,8,["class"])])):C("",!0),m("div",{class:"service-config",onClick:l[0]||(l[0]=(...a)=>e.onClose&&e.onClose(...a))},[m("img",{src:c("/static/assets/serviceConfig.3b6c945c.png")},null,8,be)])])),_:1})]),I(v,{show:P.value,"onUpdate:show":l[1]||(l[1]=e=>P.value=e),title:"保障详情",class:"guarantee-popup"},{default:g((()=>[m("div",Ie,[(d(!0),u(w,null,V(c(i),((e,a)=>(d(),u("div",{key:a,class:"guarantee-item"},[m("div",ge,p(e.title),1),N(m("div",we,null,512),[[h,e.content]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-e6de1ac4"]]);const ke={class:"question"},_e=(e=>(P("data-v-1d81ec06"),e=e(),S(),e))((()=>m("div",{class:"icon"},p("?"),-1))),De={class:"title"};var Ce=e(i({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup:e=>(a,l)=>{const o=y("van-collapse-item");return d(),k(o,{name:e.name,class:"com-question-item"},{title:g((()=>[m("div",ke,[_e,m("div",De,p(e.question),1)])])),default:g((()=>[_(" "+p(e.answer),1)])),_:1},8,["name"])}}),[["__scopeId","data-v-1d81ec06"]]);const Ne={class:"com-question"};var Pe=e(i({props:{list:{type:Array,default:()=>[]}},setup(e){const l=e,[o,t]=f(!1),s=h([]),n=()=>{t()},r=v((()=>l.list.length<=4||o.value?l.list:l.list.slice(0,4)));return(l,t)=>{const i=y("van-collapse");return d(),u("div",Ne,[I(i,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e)},{default:g((()=>[(d(!0),u(w,null,V(c(r),((e,a)=>(d(),k(Ce,{key:a,name:a.toString(),question:e.title,answer:e.desc},null,8,["name","question","answer"])))),128))])),_:1},8,["modelValue"]),e.list.length>4?(d(),u("div",{key:0,class:"show-more",onClick:n},[_(p(c(o)?"收起":"展开")+" ",1),I(a,{name:"down",class:D(["icon",{showMore:c(o)}])},null,8,["class"])])):C("",!0)])}}}),[["__scopeId","data-v-5359d801"]]);const Se={class:"spec"},Fe=["src"],Ue=(e=>(P("data-v-df0725a6"),e=e(),S(),e))((()=>m("div",{class:"sub-title"},"产品资料文件详情可手动放大，以便您更清晰查阅内容。",-1))),Le={class:"tab-1-content"},Ae=_(" 请查看 "),qe=_(" > "),Oe={key:0,class:"dun-hao"};var xe=e(i({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(e){const a=e,s=h([{title:"我要投保",slotName:"tab1"},{title:"产品特色",slotName:"tab2"},{title:"理赔流程",slotName:"tab3"},{title:"常见问题",slotName:"tab4"}]),n=e=>{const a=e.split("?")[0],l=a.lastIndexOf(".");return a.substring(l+1)},r=e=>{if(!e)return"";let a=e;return-1===a.indexOf("《")&&(a=`《${a}`),-1===a.indexOf("》")&&(a=`${a}》`),a};return(i,c)=>{const p=y("ProPDFviewer");return d(),k(t,{class:"tabs",list:s.value,sticky:"",scrollspy:""},{tab1:g((()=>[F(i.$slots,"form",{},void 0,!0)])),tab2:g((()=>{var t,s;return[m("div",Se,[(d(!0),u(w,null,V((null==(s=null==(t=a.detail)?void 0:t.tenantProductInsureVO)?void 0:s.spec)||[],((e,a)=>(d(),u("img",{key:a,src:e,class:"detail-img"},null,8,Fe)))),128)),I(l)]),I(o,{title:"产品资料"},{subTitle:g((()=>[Ue])),default:g((()=>{var a,l;return[m("div",Le,[Ae,(d(!0),u(w,null,V((null==(l=null==(a=e.detail)?void 0:a.tenantProductInsureVO)?void 0:l.attachmentVOList)||[],((a,l)=>(d(),k(p,{key:l,type:n(a.attachmentUri),class:"file-name",title:r(a.attachmentName),content:a.attachmentUri},{default:g((()=>{var a,o;return[qe,l!==((null==(o=null==(a=e.detail)?void 0:a.tenantProductInsureVO)?void 0:o.attachmentVOList)||[]).length-1?(d(),u("span",Oe,"、")):C("",!0)]})),_:2},1032,["type","title","content"])))),128))])]})),_:1})]})),tab3:g((()=>[I(o,{title:"理赔流程"},{default:g((()=>{var e,l;return[I(x,{list:null==(l=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:l.settlementProcessList},null,8,["list"])]})),_:1})])),tab4:g((()=>[I(o,{title:"常见问题"},{default:g((()=>{var e,l;return[I(Pe,{list:null==(l=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:l.questionList},null,8,["list"])]})),_:1})])),_:3},8,["list"])}}}),[["__scopeId","data-v-df0725a6"]]);const He={class:"refueling-package-com"},je=(e=>(P("data-v-0dce64f2"),e=e(),S(),e))((()=>m("div",{class:"title"},"加油包",-1)));var Te=e(i({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(e){const l=e,[o,t]=f(!1),s=v((()=>l.packageProductList.length>l.count&&(!!l.isShowClose||!o.value))),n=()=>{t()},r=v((()=>l.packageProductList.length<=l.count||o.value?l.packageProductList:l.packageProductList.slice(0,l.count)));return(e,l)=>{const t=y("ProRadioButton"),i=y("ProField"),m=y("ProForm");return d(),u("div",He,[je,I(m,{ref:"formRef"},{default:g((()=>[(d(!0),u(w,null,V(c(r),((e,a)=>(d(),k(i,{key:`${e.value}_${a}`,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.packageName,required:"",placeholder:"请选择"},{input:g((()=>[I(t,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,options:c(j),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),c(s)?(d(),u("div",{key:0,class:"show-more",onClick:n},[_(p(c(o)?"收起":"查看更多")+" ",1),I(a,{name:"down",class:D(["icon",{showMore:c(o)}])},null,8,["class"])])):C("",!0)])),_:1},512)])}}}),[["__scopeId","data-v-0dce64f2"]]);const Be=e=>(P("data-v-55da10e0"),e=e(),S(),e),Me={class:"holder container"},Ee=Be((()=>m("div",{class:"title"},"投保人信息",-1))),Re={class:"insured-relation container"},$e=Be((()=>m("div",{class:"title"},"为谁投保",-1))),Ke={class:"insured container"},ze=Be((()=>m("div",{class:"title"},"被保人信息",-1))),Xe={key:0,class:"container"},Ge={class:"payment container"},Je={class:"renewal-wrapper"},Qe=Be((()=>m("div",{class:"desc"},[m("p",null,"保单到期自动重新投保，享受保障不间断"),m("p",null,"自从重新投保开启后，中途可随时取消")],-1)));var We=e(i({props:{disable:{type:Boolean,default:!1},formAuth:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},payments:{type:Array,default:()=>[0,1]},paymentMethod:{type:Array,default:()=>[0,1]},productDetail:{type:Object,default:()=>{}},isShowPackage:{type:Boolean,default:!1}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:a,emit:o}){const t=e,r=h({}),i=U({formInfo:t.formInfo}),f=h(!1),b=h(0),w=h(!1),V=h(0),N=h("获取验证码"),P=h(!1),S=e=>!!(e=>/^[\u4E00-\u9FA5．·]{2,50}$/.test(e))(e)||"请输入正确的姓名",F=v((()=>T.filter(((e,a)=>t.payments.includes(a))))),q=v((()=>K.filter(((e,a)=>t.paymentMethod.includes(a))))),O=v((()=>i.formInfo.insured.relationToHolder===B.SELF)),x=v((()=>{var e,a;return null==(a=null==(e=t.productDetail)?void 0:e.tenantProductInsureVO)?void 0:a.attachmentVOList.filter((e=>"费率表"===e.attachmentName))})),j=v((()=>{var e,a;return(null==(a=null==(e=t.productDetail)?void 0:e.tenantProductInsureVO)?void 0:a.attachmentVOList.filter((e=>!["健康告知","费率表"].includes(e.attachmentName))))||[]})),W=v((()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(i.formInfo.holder.mobile))),Z=()=>(w.value=!0,w),Y=async()=>{V.value>0||null==r||r.value.validate("mobile").then((async()=>{const e=await ee(i.formInfo.holder.mobile),{code:a,data:l}=e;"10000"===a&&(P.value=!0,A({message:"短信发送成功，请查收"}),(()=>{if(V.value>0)return;V.value=60;const e=()=>{N.value=`${V.value}s`,V.value-=1};e();const a=setInterval((()=>{0===V.value?(N.value="获取验证码",V.value=0,clearInterval(a)):e()}),1e3)})())}))},oe=()=>{const{relationToHolder:e}=i.formInfo.insured;e===B.SELF?(i.formInfo.insured={certNo:i.formInfo.holder.certNo,name:i.formInfo.holder.name,socialFlag:i.formInfo.holder.socialFlag,relationToHolder:e},o("onReset")):(i.formInfo.insured={certNo:"",name:"",socialFlag:$.HAS,relationToHolder:e},o("onUpdate"))},te=e=>new Promise(((a,l)=>{e&&Q(e)&&i.formInfo.holder.mobile?ae(i.formInfo.holder.mobile,i.formInfo.holder.mobileSmsCode).then((e=>{const{data:l}=e;a(!!l)})):a(!1)}));return L([()=>i.formInfo.holder.certNo,()=>i.formInfo.insured.certNo],(()=>{var e,a;i.formInfo.holder.certNo=null==(e=i.formInfo.holder.certNo)?void 0:e.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,""),i.formInfo.insured.certNo=null==(a=i.formInfo.insured.certNo)?void 0:a.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,"")}),{deep:!0,immediate:!0}),L((()=>i.formInfo.holder),(()=>{i.formInfo.insured.relationToHolder===B.SELF&&Object.assign(i.formInfo.insured,i.formInfo.holder)}),{deep:!0,immediate:!0}),L((()=>i.formInfo.insured.certNo),(()=>{var e,a;let l=!1;s(i.formInfo.insured.certNo)&&(l=!0),null==(a=null==(e=i.formInfo)?void 0:e.packageProductList)||a.forEach((e=>{if(l){z(e,i.formInfo.insured.certNo)||(e.disabled=!0,e.value=M.UN_INSURE)}else e.disabled=!1}))})),a({validateForm:()=>new Promise(((e,a)=>{null==r||r.value.validate().then((()=>{e("")}),(e=>{a(e)}))})),previewFile:e=>{b.value=e,f.value=!0},reEditForm:()=>{w.value=!1},isAgreeFile:w,onSubmit:Z}),(a,o)=>{const s=y("ProField"),v=y("van-button"),h=y("ProRadioButton"),w=y("van-switch"),P=y("ProForm"),U=y("van-config-provider");return d(),k(U,{"theme-vars":c(H)},{default:g((()=>[I(P,{ref_key:"formRef",ref:r},{default:g((()=>{var a,r,y,P,U,L,A,H,T,B;return[I(l),m("div",Me,[Ee,(null==(a=t.formAuth)?void 0:a.holderNameDisable)?(d(),k(s,{key:0,label:"姓名",class:"pro-field","is-view":!0},{input:g((()=>[_(p(c(X)(c(i).formInfo.holder.name)),1)])),_:1})):(d(),k(s,{key:1,modelValue:c(i).formInfo.holder.name,"onUpdate:modelValue":o[0]||(o[0]=e=>c(i).formInfo.holder.name=e),label:"姓名",name:"name",required:"",placeholder:"请输入姓名",maxlength:"50",rules:[{validator:S}],"custom-class":"custom-class-name"},null,8,["modelValue","rules"])),(null==(r=t.formAuth)?void 0:r.holderCertDisable)?(d(),k(s,{key:2,label:"证件号码",class:"pro-field","is-view":!0},{input:g((()=>[_(p(c(G)(c(i).formInfo.holder.certNo)),1)])),_:1})):(d(),k(s,{key:3,modelValue:c(i).formInfo.holder.certNo,"onUpdate:modelValue":o[1]||(o[1]=e=>c(i).formInfo.holder.certNo=e),label:"证件号码",name:"certNo",required:"",placeholder:"请输入身份证号",maxlength:"18","validate-type":[c(n).ID_CARD],"custom-class":"custom-class-certNo"},null,8,["modelValue","validate-type"])),(null==(y=t.formAuth)?void 0:y.holderMobileDisable)?(d(),k(s,{key:4,label:"手机号",class:"pro-field","is-view":!0},{input:g((()=>[_(p(c(J)(c(i).formInfo.holder.mobile)),1)])),_:1})):(d(),k(s,{key:5,modelValue:c(i).formInfo.holder.mobile,"onUpdate:modelValue":o[2]||(o[2]=e=>c(i).formInfo.holder.mobile=e),label:"手机号",name:"mobile",required:"",placeholder:"请输入手机号",type:"digit",maxlength:"11","validate-type":[c(n).PHONE],"custom-class":"custom-class-mobile"},null,8,["modelValue","validate-type"])),(null==(P=t.formAuth)?void 0:P.holderMobileDisable)?C("",!0):(d(),k(s,{key:6,modelValue:c(i).formInfo.holder.mobileSmsCode,"onUpdate:modelValue":o[3]||(o[3]=e=>c(i).formInfo.holder.mobileSmsCode=e),label:"验证码",name:"mobileSmsCode",type:"digit",required:"",rules:[{validator:te,message:"请输入正确的验证码"}],"input-align":"left",placeholder:"请输入验证码","error-message-align":"left",maxlength:"6","validate-type":[c(n).SMS_CODE],"custom-class":"custom-class-mobileSmsCode"},{extra:g((()=>[I(v,{class:D(["sms-code",{"count-down":V.value>0}]),size:"small",type:"primary",disabled:!c(W),onClick:Y},{default:g((()=>[_(p(N.value),1)])),_:1},8,["class","disabled"])])),_:1},8,["modelValue","rules","validate-type"]))]),I(l),m("div",Re,[$e,I(s,{modelValue:c(i).formInfo.insured.relationToHolder,"onUpdate:modelValue":o[5]||(o[5]=e=>c(i).formInfo.insured.relationToHolder=e),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"请选择",onClick:oe},{input:g((()=>{var e;return[I(h,{modelValue:c(i).formInfo.insured.relationToHolder,"onUpdate:modelValue":o[4]||(o[4]=e=>c(i).formInfo.insured.relationToHolder=e),disabled:null==(e=t.formAuth)?void 0:e.relationToHolderDisable,options:c(E)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"])]),I(l),m("div",Ke,[ze,(null==(U=t.formAuth)?void 0:U.insuredNameDisable)?(d(),k(s,{key:0,label:"姓名",class:"pro-field","is-view":!0},{input:g((()=>[_(p(c(X)(c(i).formInfo.insured.name)),1)])),_:1})):C("",!0),(null==(L=t.formAuth)?void 0:L.insuredNameDisable)||c(O)?C("",!0):(d(),k(s,{key:1,modelValue:c(i).formInfo.insured.name,"onUpdate:modelValue":o[6]||(o[6]=e=>c(i).formInfo.insured.name=e),label:"姓名",name:"name",required:"",maxlength:"50",rules:[{validator:S}]},null,8,["modelValue","rules"])),(null==(A=t.formAuth)?void 0:A.insuredCertDisable)?(d(),k(s,{key:2,label:"证件号码",class:"pro-field","is-view":!0},{input:g((()=>[_(p(c(G)(c(i).formInfo.insured.certNo)),1)])),_:1})):C("",!0),(null==(H=t.formAuth)?void 0:H.insuredCertDisable)||c(O)?C("",!0):(d(),k(s,{key:3,modelValue:c(i).formInfo.insured.certNo,"onUpdate:modelValue":o[7]||(o[7]=e=>c(i).formInfo.insured.certNo=e),label:"证件号码",name:"certNo",required:"",placeholder:"请输入身份证号",maxlength:"20","validate-type":[c(n).ID_CARD]},null,8,["modelValue","validate-type"])),I(s,{modelValue:c(i).formInfo.insured.socialFlag,"onUpdate:modelValue":o[9]||(o[9]=e=>c(i).formInfo.insured.socialFlag=e),label:"有无社保",name:"name",required:"",placeholder:"请选择"},{input:g((()=>{var e;return[I(h,{modelValue:c(i).formInfo.insured.socialFlag,"onUpdate:modelValue":o[8]||(o[8]=e=>c(i).formInfo.insured.socialFlag=e),disabled:null==(e=t.formAuth)?void 0:e.insuredSocialDisable,options:c(R)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"])]),I(l),e.isShowPackage?(d(),u("div",Xe,[I(Te,{"package-product-list":null==(T=e.formInfo)?void 0:T.packageProductList},null,8,["package-product-list"])])):C("",!0),I(l),m("div",Ge,[(null==(B=t.formAuth)?void 0:B.paymentFrequencyDisable)?C("",!0):(d(),k(s,{key:0,modelValue:c(i).formInfo.paymentFrequency,"onUpdate:modelValue":o[11]||(o[11]=e=>c(i).formInfo.paymentFrequency=e),label:"交费方式",name:"paymentFrequency",required:"",placeholder:"请选择","error-message":"请选择交费方式"},{input:g((()=>{var e;return[I(h,{modelValue:c(i).formInfo.paymentFrequency,"onUpdate:modelValue":o[10]||(o[10]=e=>c(i).formInfo.paymentFrequency=e),disabled:null==(e=t.formAuth)?void 0:e.paymentFrequencyDisable,options:c(F)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"])),I(l),I(s,{modelValue:c(i).formInfo.paymentMethod,"onUpdate:modelValue":o[13]||(o[13]=e=>c(i).formInfo.paymentMethod=e),label:"支付方式",name:"paymentMethod",required:"",placeholder:"请选择","custom-class":"custom-class-paymentMethod","error-message":"请选择支付方式"},{input:g((()=>{var e;return[I(h,{modelValue:c(i).formInfo.paymentMethod,"onUpdate:modelValue":o[12]||(o[12]=e=>c(i).formInfo.paymentMethod=e),disabled:null==(e=t.formAuth)?void 0:e.paymentDisable,options:c(q)},null,8,["modelValue","disabled","options"])]})),_:1},8,["modelValue"]),I(l),m("div",Je,[I(s,{label:"开通自主重新投保",class:"pro-field",name:"renewalDK",placeholder:"请选择",border:!1},{input:g((()=>{var e;return[I(w,{modelValue:c(i).formInfo.renewalDK,"onUpdate:modelValue":o[14]||(o[14]=e=>c(i).formInfo.renewalDK=e),disabled:null==(e=t.formAuth)?void 0:e.renewalDKDisable},null,8,["modelValue","disabled"])]})),_:1}),Qe])]),I(l),I(le,{show:f.value,"onUpdate:show":o[15]||(o[15]=e=>f.value=e),"content-list":c(j).concat(c(x)),"active-index":b.value,text:"我已逐页阅读并确认告知内容",onSubmit:Z},null,8,["show","content-list","active-index"])]})),_:1},512)])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-55da10e0"]]);const Ze={key:0,class:"page-waiting"},Ye=["src"],ea=(e=>(P("data-v-812ee74a"),e=e(),S(),e))((()=>m("div",{class:"tips"},[m("p",null,"支付成功，承保中...")],-1)));var aa=e(i({props:{isShow:{type:Boolean,default:()=>{}}},setup(e){const a=e;return L((()=>a.isShow),(e=>{document.body.style.overflow=e?"hidden":"inherit"})),(e,l)=>a.isShow?(d(),u("div",Ze,[m("img",{class:"loading",src:c(te)},null,8,Ye),ea])):C("",!0)}}),[["__scopeId","data-v-812ee74a"]]);const la=e=>(P("data-v-171c7312"),e=e(),S(),e),oa={key:0,class:"pro-modal"},ta=la((()=>m("div",{class:"pro-overlay"},null,-1))),sa={class:"pro-modal-wrapper"},na=["src"],ra={class:"pro-modal-body"},ia={class:"pro-modal-content"},da=la((()=>m("p",{class:"tips"},"升级后的保障将于第二期保费扣费/缴费成功后生效",-1))),ua={class:"pro-modal-content"},ca={class:"product-attachment-list"},ma=_(" 请您重点阅读并知晓 "),pa={key:0,class:"dun-hao"},fa={class:"pro-modal-close"},va=["src"];var ha=e(i({props:{orderNo:{type:String,default:""},tenantId:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},upgradeCode:{type:String,default:""}},emits:["on-confirm","on-close"],setup(e,{emit:a}){const l=e,o=h(),t=h(),s=h(),n=h(),r=h([]),i=h(l.upgradeCode),f=()=>{a("on-close")},v=()=>{a("on-confirm")},b=()=>{const e=ie({productCode:i.value,withInsureInfo:!0,tenantId:l.tenantId}),a=se({productCode:i.value}),d=ne({orderNo:l.orderNo,tenantId:l.tenantId});Promise.all([e,a,d]).then((([e,a,i])=>{"10000"===e.code&&(o.value=e.data,r.value=e.data.tenantProductInsureVO.attachmentVOList),"10000"===a.code&&(t.value=a.data),"10000"===i.code&&(s.value=i.data),(async()=>{try{const e=Z({tenantId:l.tenantId,premium:n.value,orderDetail:s.value,productDetail:o.value,insureDetail:t.value,successJumpUrl:"",iseeBizNo:""},Y),a=await re(e),{code:r,data:i}=a;"10000"===r&&(n.value=i.installmentPremium)}catch(e){}})()}))};return L((()=>l.isShow),(e=>{i.value=l.upgradeCode,e?(document.body.style.overflow="hidden",b()):document.body.style.overflow="inherit"})),(e,a)=>{const o=y("ProPDFviewer");return l.isShow?(d(),u("div",oa,[ta,m("div",sa,[m("img",{class:"cover",src:c("/static/assets/upgrade_bg.b65c44d4.png")},null,8,na),m("div",ra,[m("div",ia,[m("p",null,"每月保费仅需"+p(c(W)(n.value||0))+"元，无需重复投保",1),da]),m("div",{class:"pro-modal-btn",onClick:v},"一键升级"),m("div",ua,[m("div",ca,[ma,(d(!0),u(w,null,V(r.value,((e,a)=>(d(),k(o,{key:a,class:"file-name",title:`《${e.attachmentName}》`,content:e.attachmentUri,type:"pdf"},{default:g((()=>[a!==(r.value||[]).length-1?(d(),u("span",pa,"、")):C("",!0)])),_:2},1032,["title","content"])))),128))])])]),m("div",fa,[m("img",{src:c(oe),onClick:f},null,8,va)])])])):C("",!0)}}}),[["__scopeId","data-v-171c7312"]]);const ya={class:"header"},ba=["src"],Ia={class:"content"},ga=(e=>(P("data-v-043963d8"),e=e(),S(),e))((()=>m("h4",null,"温馨提示，您已进入投保流程：",-1))),wa=_(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),Va=["onClick"],ka=_(" ，为维护您的合法权益，您的操作轨迹将被记录。 "),_a={class:"footer"},Da=_(" 好的 "),Ca={key:0};var Na=e(i({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,l=new r({source:"sessionStorage"}),o=h(!1),t=h(!1),s=q({time:4e3,onFinish:()=>{l.set("PRENOTICE-isShow","1"),o.value=!1}}),n=h(),i=v((()=>{var e,l;return null==(l=null==(e=a.productDetail)?void 0:e.tenantProductInsureVO)?void 0:l.attachmentVOList.filter((e=>"个人信息保护政策"===e.attachmentName))})),f=v((()=>s.current.value.seconds));return O((()=>{o.value=!0,s.start()})),(e,a)=>{const l=y("VanButton"),s=y("ProPopup"),r=y("ProFilePreview");return d(),u(w,null,[I(s,{class:"pre-notice-wrap",show:o.value,closeable:!1,height:45},{default:g((()=>[m("div",ya,[m("img",{src:c("/static/assets/header-logo.fadf5dcd.png")},null,8,ba)]),m("div",Ia,[ga,m("p",null,[wa,(d(!0),u(w,null,V(c(i),((e,a)=>(d(),u("span",{key:a,class:"file-name",onClick:a=>{return l=e.attachmentUri,t.value=!t.value,void(n.value=l);var l}}," 《"+p(e.attachmentName)+"》 ",9,Va)))),128)),ka])]),m("div",_a,[I(l,{type:"primary",block:"",round:""},{default:g((()=>[Da,c(f)?(d(),u("span",Ca,p(c(f))+"s",1)):C("",!0)])),_:1})])])),_:1},8,["show"]),I(s,{show:t.value,"onUpdate:show":a[0]||(a[0]=e=>t.value=e),class:"pre-notice-wrap","close-icon":"close",position:"bottom",style:{height:"600px",paddingTop:"40px"}},{default:g((()=>[I(r,{content:n.value,type:"pdf"},null,8,["content"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-043963d8"]]);const Pa={class:"list"},Sa={class:"item"},Fa={class:"footer"},Ua=_("部分为是"),La=_("全部为否"),Aa=i({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(e,{emit:a}){const l=e,o=h(l.show),t=h(l.activeIndex),s=v((()=>{var e;return null==(e=l.contentList[t.value])?void 0:e.attachmentUri})),n=h(!0),r=e=>{n.value=!1,a("update:show",!1),a("onConfirmHealth",e)};return L((()=>l),(()=>{o.value=l.show,t.value=l.activeIndex}),{deep:!0,immediate:!0}),(l,i)=>{const u=y("ProTab"),p=y("ProFilePreview"),f=y("VanButton"),v=y("van-config-provider"),h=y("ProPopup");return d(),k(h,{show:o.value,"onUpdate:show":i[3]||(i[3]=e=>o.value=e),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:i[4]||(i[4]=e=>{n.value&&a("onCloseHealth")})},{default:g((()=>[I(v,{"theme-vars":c(H),class:"custom-provider"},{default:g((()=>[o.value?(d(),k(u,{key:0,active:t.value,"onUpdate:active":i[0]||(i[0]=e=>t.value=e),list:e.contentList.map(((e,a)=>({title:e.attachmentName,slotName:`guarantee-${a}`}))),class:"tab"},null,8,["active","list"])):C("",!0),m("div",Pa,[m("div",Sa,[(d(),k(p,{key:c(s),content:c(s),type:"pdf"},null,8,["content"]))])]),m("div",Fa,[I(f,{type:"primary",block:"",round:"",onClick:i[1]||(i[1]=e=>r("N"))},{default:g((()=>[Ua])),_:1}),I(f,{type:"primary",plain:"",block:"",round:"",onClick:i[2]||(i[2]=e=>r("allFalse"))},{default:g((()=>[La])),_:1})])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}}),qa={holderNameDisable:!0,holderCertDisable:!0,holderMobileDisable:!0,holderSocialDisable:!0,relationToHolderDisable:!0,insuredNameDisable:!0,insuredCertDisable:!0,insuredSocialDisable:!0,paymentDisable:!0,renewalDKDisable:!0,paymentFrequencyDisable:!0},Oa={...qa,holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1},xa={...qa};export{ce as B,ve as D,Ve as G,We as H,Na as P,xe as S,ha as U,aa as W,Aa as _,Oa as a,qa as d,xa as p};
