import{g as Q,Q as L,C as M,L as z,v as Z,ag as ee,r as c,h as t,j as p,k as a,n as m,m as D,E as N,y as x,I as O,z as i,a6 as F,F as A,s as I,ah as te,B as w,T as ne,ak as oe,G as ue,M as J,af as se,x as R}from"./vendor-613d2567.js";import{_ as U,g as re,i as ae}from"./index-e91a6f9f.js";import{p as G,w as le,n as ce}from"./pdf_viewer-6d502c0c.js";import{g as ie,s as de}from"./inform-7148dce7.js";import{s as pe}from"./useStorage-b35a3ede.js";const _e={class:"problem"},me={class:"footer-button"},ve=w("\u63D0\u4EA4"),fe=Q({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(P,{emit:g}){const v=P,f=L(),l=M([]),{questionnaireType:y}=f.query,B={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},T=z({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:o,checked:s,modelValue:d,inputValue:n}=Z(T),b=u=>{l.value[u].toggle()},h=u=>u?JSON.parse(u).map(e=>({title:e.value,value:e.uid})):{},E=()=>{if([o.value,d.value,n.value].includes("")||s.value.length===0){ne("\u8BF7\u5B8C\u6210\u6240\u6709\u9898\u76EE\u8FDB\u884C\u4E0B\u4E00\u6B65");return}g("onSubmitCurrentStatus",1)};return ee(()=>{l.value=[]}),(u,e)=>{const k=c("van-radio"),_=c("van-cell"),C=c("van-cell-group"),V=c("van-radio-group"),$=c("van-checkbox"),Y=c("van-checkbox-group"),H=c("van-field"),K=c("van-button"),X=c("ProPageWrap");return t(),p(X,{class:"com-quersion"},{default:a(()=>[m(ae,{title:`${B[i(y)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:a(()=>[(t(!0),D(A,null,N(v.currentPageInfo,(S,W)=>(t(),D("div",{key:W,class:"question-item"},[x("div",_e,O(W+1)+". "+O(S.title),1),S.questionType===1?(t(),p(V,{key:0,modelValue:i(o),"onUpdate:modelValue":e[0]||(e[0]=r=>F(o)?o.value=r:null)},{default:a(()=>[m(C,{inset:""},{default:a(()=>[(t(!0),D(A,null,N(h(S.options),r=>(t(),p(_,{key:r.uid,title:r.title,clickable:"",onClick:q=>o.value=r.value},{"right-icon":a(()=>[m(k,{name:r.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),S.questionType===2?(t(),p(Y,{key:1,modelValue:i(s),"onUpdate:modelValue":e[2]||(e[2]=r=>F(s)?s.value=r:null)},{default:a(()=>[m(C,{inset:""},{default:a(()=>[(t(!0),D(A,null,N(h(S.options),(r,q)=>(t(),p(_,{key:r.uid,clickable:"",title:r.title,onClick:j=>b(q)},{"right-icon":a(()=>[m($,{ref_for:!0,ref:j=>l.value[q]=j,shape:"square",name:r,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),S.questionType===3?(t(),p(re,{key:2,"model-value":i(d),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):I("",!0),S.questionType===4?(t(),p(C,{key:3,inset:""},{default:a(()=>[m(H,{modelValue:i(n),"onUpdate:modelValue":e[3]||(e[3]=r=>F(n)?n.value=r:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):I("",!0)]))),128))]),_:1},8,["title"]),x("div",me,[m(K,{type:"primary",block:"",onClick:E},{default:a(()=>[ve]),_:1})])]),_:1})}}});var ge=U(fe,[["__scopeId","data-v-4b72012e"]]);const ye={class:"title"},ke={class:"content"},Ce={class:"footer-button"},be=w("\u4E86\u89E3\u5E76\u7EE7\u7EED"),he=Q({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(P,{emit:g}){const v=P;return(f,l)=>{const y=c("van-button"),B=c("ProPageWrap"),T=oe("dompurify-html");return t(),p(B,{class:"com-document"},{default:a(()=>{var o,s;return[x("div",ye,O((o=v.currentPageInfo[0])==null?void 0:o.title),1),ue(x("div",ke,null,512),[[T,(s=v.currentPageInfo[0])==null?void 0:s.content]]),x("div",Ce,[m(y,{type:"primary",onClick:l[0]||(l[0]=d=>g("onSubmitCurrentStatus",1))},{default:a(()=>[be]),_:1})])]}),_:1})}}});var Ee=U(he,[["__scopeId","data-v-27a7d770"]]);const Se={class:"com-pdf-viewer"},Ie=["id","isee_pdf"],xe={class:"footer-button"},Pe=w("\u90E8\u5206\u4E3A\u662F"),Be=w("\u4EE5\u4E0A\u7686\u5426"),Te=Q({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(P,{emit:g}){const v=P;G.exports.GlobalWorkerOptions.workerSrc=le;const f=ce(),l=M(!1),y=M(!0),B=()=>{const o=document.getElementById(f);if(o.hasChildNodes()){y.value=!1;return}G.exports.getDocument({url:v.url}).promise.then(d=>{const n=d.numPages;for(let b=1;b<=n;b++)d.getPage(b).then(h=>{const E=h.getViewport({scale:1}),u=document.createElement("canvas"),e=u.getContext("2d");u.width=E.width,u.height=E.height,u.style.width="100%",o.append(u);const k={canvasContext:e,viewport:E};h.render(k),y.value=!1})})},T=async()=>{l.value=!0,setTimeout(()=>{B()},0)};return J(()=>{T()}),(o,s)=>{const d=c("van-button");return t(),D("div",Se,[x("div",{id:i(f),isee_pdf:o.pdfUrl,class:"pdf-wapper"},null,8,Ie),x("div",xe,[m(d,{plain:"",type:"primary",onClick:s[0]||(s[0]=n=>g("onSubmitCurrentStatus",2))},{default:a(()=>[Pe]),_:1}),m(d,{type:"primary",onClick:s[1]||(s[1]=n=>g("onSubmitCurrentStatus",1))},{default:a(()=>[Be]),_:1})])])}}});var Ve=U(Te,[["__scopeId","data-v-280ffd98"]]);const De={class:"com-health-notice"},Fe=Q({setup(P){const g=se(),v=L(),f=pe.get("questionData"),{questionnaireType:l}=v.query,{orderNo:y="2022021815432987130620",productCode:B="CQ75CQ76",templateId:T=1,orderId:o=13005,tenantId:s=9991000007}=v.query,d={1:4,2:5,3:9},n=z({pageData:{},currentQuestionInfo:[]}),b=R(()=>l==="2"),h=R(()=>{var e;return l==="1"&&[1,3].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),E=R(()=>{var e;return l==="1"&&[2].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),u=e=>{var C;const{id:k,objectType:_}=f;de({content:(C=n.currentQuestionInfo[0])==null?void 0:C.content,contentType:l,isDone:e,noticeType:d[_],objectId:k,objectType:_,orderId:o,orderNo:y,tenantId:9991000007}).then(({code:V,data:$})=>{console.log(V),V==="10000"&&g.go(-1)})};return J(()=>{console.log(f);const{insurerCode:e,id:k,objectType:_,productCategory:C}=f;ie({insurerCode:e,id:k,objectType:_,productCategory:C,orderNo:"2022011815151382958351",tenantId:9991000007}).then(({code:V,data:$})=>{V==="10000"&&(n.currentQuestionInfo=$)})}),(e,k)=>{var _;return t(),D("div",De,[i(b)?(t(),p(ge,{key:0,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):I("",!0),i(E)?(t(),p(Ee,{key:1,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:u},null,8,["current-page-info"])):I("",!0),i(h)?(t(),p(Ve,{key:2,url:(_=i(n).currentQuestionInfo[0])==null?void 0:_.content,onOnSubmitCurrentStatus:u},null,8,["url"])):I("",!0)])}}});export{Fe as default};
