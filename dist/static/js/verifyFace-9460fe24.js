import{_ as e,d as a,cj as s,i as t,h as r,cn as o,aE as i,o as c,c as n,a as d,b as l,w as u,a8 as f,ae as p,ag as m,aC as N,aD as v}from"./index-ddb472e8.js";import{f as y,a as b}from"./verify-b5ca1292.js";import{P as h}from"./constants-62d1c4af.js";const g=e=>(N("data-v-2821fdce"),e=e(),v(),e),C={class:"page-verify-face"},_={class:"result-content"},w=g((()=>d("h4",null,"人脸识别验证失败",-1))),j=g((()=>d("p",{class:"desc"},"请保持在检测框内",-1))),q={class:"operate-btn"},x=a({name:"verifyFace"});var z=e(a({...x,setup(e){const a=s(),N=t(),v=r(),{isFirst:g,tenantId:x,objectType:z,orderNo:E,biz_id:F,nextPageCode:I}=N.query,P=a.get(`${o}_orderDetail`),S=()=>{const{holder:e,insuredList:a}=P;let s={userName:e.name,certiNo:e.certNo};"insured"===z&&(s={userName:null==a?void 0:a[0].name,certiNo:null==a?void 0:a[0].certNo});const{userName:t,certiNo:r}=s,o={tenantId:x,faceAuthMode:"TENCENT",callbackUrl:window.location.href.replace("isFirst=1","isFirst=0"),bizNo:E,userName:t,certiNo:r};y(o).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a.originalUrl)}))};return i((()=>{"1"===g&&S(),F&&b({bizId:F}).then((({code:e,data:a})=>{"10000"===e&&"SUCCESS"===a.status&&(delete N.query.biz_id,delete N.query.nextPageCode,v.push({path:h[`${I}`],query:N.query}))}))})),(e,a)=>{const s=p,t=m;return c(),n("div",C,[d("div",_,[l(s,{name:"wrong","font-size":"52px",color:"var(--van-primary-color)"}),w,j]),d("div",q,[l(t,{type:"primary",onClick:S},{default:u((()=>[f("再试一次")])),_:1})])])}}}),[["__scopeId","data-v-2821fdce"]]);export{z as default};
