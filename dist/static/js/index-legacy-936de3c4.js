!function(){var e=document.createElement("style");e.innerHTML=".com-field-info[data-v-74e2bdf6]{display:flex;align-items:center;justify-content:space-between;height:1.41333rem;border-top:1px solid #eeeff4}.com-field-info .title[data-v-74e2bdf6]{flex:0 0 3.33333rem;font-size:.4rem;font-weight:600;color:#393d46}.com-field-info .desc[data-v-74e2bdf6]{flex:1;text-align:right;font-size:.4rem;color:#515865;line-height:.56rem}.pro-modal .pro-overlay[data-v-39527d44]{position:fixed;top:0;left:0;z-index:99;width:100%;height:100%;background:var(--van-overlay-background-color)}.pro-modal .pro-modal-wrapper[data-v-39527d44]{position:fixed;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:1.2rem;text-align:center}.pro-modal .pro-modal-wrapper .pro-modal-body[data-v-39527d44]{width:100%;height:60%;background:url(/static/assets/upgrade_success.7fcab77e.png) no-repeat;background-size:contain;padding:.4rem}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg[data-v-39527d44],.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg img[data-v-39527d44]{width:100%}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-btn[data-v-39527d44]{width:5.6rem;height:1.17333rem;background:var(--van-primary-color);border-radius:.58667rem;font-size:.45333rem;font-weight:700;color:#fff;line-height:1.17333rem;text-align:center;margin:auto}.pro-modal .pro-modal-wrapper .pro-modal-content[data-v-39527d44]{padding:4.13333rem 0 .8rem;font-size:.4rem;font-weight:500;color:#9f5012;line-height:.61333rem}.pro-modal .pro-modal-wrapper .pro-modal-close[data-v-39527d44]{padding:.53333rem}.pro-modal .pro-modal-wrapper .pro-modal-close img[data-v-39527d44]{width:.77333rem;height:.77333rem}.page-activity-upgrade[data-v-d9257de8]{background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%);position:relative;height:100%;width:100%}.page-activity-upgrade .banner[data-v-d9257de8]{width:100%}.page-activity-upgrade .container[data-v-d9257de8]{position:absolute;left:0;width:100%;padding:.26667rem;bottom:.8rem}.page-activity-upgrade .container .main-form[data-v-d9257de8]{background:url(/static/assets/bg.c7f48ab0.png) no-repeat;background-size:100% 100%;position:relative;padding:.26667rem}.page-activity-upgrade .container .main-form .com-field-info[data-v-d9257de8]:first-child{border-top:none}.page-activity-upgrade .container .main-form .upgrade-btn[data-v-d9257de8]{margin-bottom:.26667rem;background-color:var(--van-primary-color);border-color:var(--van-primary-color)}.page-activity-upgrade .container .main-form .submit[data-v-d9257de8]{height:1.33333rem;margin-top:.53333rem;margin-bottom:.46667rem;background:url(/static/assets/up.66fa7d45.png) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-upgrade[data-v-d9257de8] .com-check-btn.activated-disabled,[data-v-d9257de8] .com-check-btn.activated-disabled{background-color:#ff6d23}[data-v-d9257de8] .van-cell{padding:.26667rem 0;border-top:1px solid #eeeff4}[data-v-d9257de8] .van-field__label{font-size:.4rem;font-weight:600;color:#393d46}\n",document.head.appendChild(e),System.register(["./vendor-legacy-2ed1ad67.js","./infoCollection-legacy-463c6cf6.js","./index-legacy-8948ea13.js","./index-legacy-fe2e29d4.js","./order-legacy-c2bcb521.js","./trial-legacy-26fb51cd.js","./theme-legacy-0d67cf8b.js","./utils-legacy-aa945bb4.js","./product-legacy-2bad32bd.js","./trial-legacy-591e821b.js"],(function(e){"use strict";var a,t,o,d,n,r,i,l,c,s,u,p,v,m,g,f,b,h,y,w,I,x,k,C,O,S,_,j,N,D,L,z,U,$,P,V,R,E,H,J;return{setters:[function(e){a=e.g,t=e.j,o=e.n,d=e.z,n=e.J,r=e.A,i=e.t,l=e.a4,c=e.a5,s=e.a9,u=e.O,p=e.E,v=e.h,m=e.r,g=e.k,f=e.m,b=e.p,h=e.T},function(e){y=e.S},function(e){w=e._,I=e.a1},function(e){x=e.c,k=e._},function(e){C=e.a},function(e){O=e.d,S=e.i,_=e.a,j=e.s,N=e.e,D=e.E},function(e){L=e.t},function(e){z=e.n,U=e.i,$=e.m,P=e.a,V=e.g,R=e.t,E=e.d,H=e.b},function(e){J=e.p},function(){}],execute:function(){const B={class:"com-field-info"},F={class:"title"},M={class:"desc"};var T=w(a({props:{title:{type:String,default:""},desc:{type:String,default:""}},setup:e=>(a,r)=>(t(),o("div",B,[d("div",F,n(e.title),1),d("div",M,n(e.desc),1)]))}),[["__scopeId","data-v-74e2bdf6"]]);const q=e=>(l("data-v-39527d44"),e=e(),c(),e),K={key:0,class:"pro-modal"},A=q((()=>d("div",{class:"pro-overlay"},null,-1))),G={class:"pro-modal-wrapper"},W=q((()=>d("div",{class:"pro-modal-content"},[d("p",null,"恭喜您"),d("p",null,"保障升级成功")],-1))),Y=["src"],Q=a({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}}},emits:["on-confirm","on-close"],setup(e,{emit:a}){const n=e,l=()=>{a("on-close")};return(e,a)=>n.isShow?(t(),o("div",K,[A,d("div",G,[d("div",{class:"pro-modal-body"},[W,d("div",{class:"pro-modal-btn",onClick:l},"我知道了")]),d("div",{class:"pro-modal-close",onClick:l},[d("img",{src:r(x)},null,8,Y)])])])):i("",!0)}});var X=w(Q,[["__scopeId","data-v-39527d44"]]);const Z={class:"page-activity-upgrade"},ee=["src"],ae={class:"container"},te={class:"main-form"};e("default",w(a({setup(e){const a=s(),o=u(),{productCode:n="BWYL2022",tenantId:i,orderNo:l,agentCode:c="",from:w}=o.query,x=p(),B=p(),F=p(),M=p(),q=p(),K=p(),A=p(!1),G="check"===w,W=p(!1),Y=p(0),Q=()=>{A.value=!1},oe=e=>`${I}/chuangxin/baigebao/orderDetail?orderNo=${e}&productCode=${n}&tenantId=${i}`,de=async e=>{try{h.loading({forbidClick:!0,message:"升级中"});const e=await(async()=>{var e,a,t,o,d;const n=V({tenantId:i,applicationNo:F.value.applicationNo,policyNo:F.value.policyNo,saleUserId:c,saleChannelId:F.value.saleChannelId,orderStatus:C.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:x.value,insureDetail:B.value,paymentMethod:null===(e=F.value.extInfo)||void 0===e||null===(a=e.extraInfo)||void 0===a?void 0:a.paymentMethod,renewalDK:null===(t=F.value.extInfo)||void 0===t||null===(o=t.extraInfo)||void 0===o?void 0:o.renewalDK,successJumpUrl:"",premium:M.value,holder:{...F.value.tenantOrderHolder,socialFlag:F.value.tenantOrderHolder.extInfo.hasSocialInsurance},insured:{...F.value.tenantOrderInsuredList[0],socialFlag:F.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:R({tenantId:i,riskList:E(B.value.productRiskVoList[0].riskDetailVOList,x.value),riskPremium:{},productId:null===(d=x.value)||void 0===d?void 0:d.id})}),r=await j(n),{code:l,data:s}=r;return"10000"===l?s.data:""})();await O({tenantId:i,applicationNo:F.value.applicationNo});if(K.value){const a=encodeURIComponent(encodeURIComponent(oe(e))),t=`${K.value}&successUrl=${a}`;window.location.href=G?t:K.value}else(async e=>{const t=H({tenantId:i,premium:M.value,orderDetail:F.value,productDetail:x.value,insureDetail:B.value,successJumpUrl:oe(e)}),o=await D({orderNo:e,...t}),{code:d,data:r}=o;"10000"===d&&(G?a.replace(`/chuangxin/baigebao/orderDetail?orderNo=${e}&productCode=${n}&tenantId=${i}`):A.value=!0)})(e)}catch(t){h.clear()}},ne=async e=>{G?W.value=!0:de()},re=()=>{h.loading({forbidClick:!0,duration:2e4,message:"试算中"});const e=J({productCode:n,withInsureInfo:!0,tenantId:i}),a=S({productCode:n}),t=_({orderNo:l,tenantId:i});Promise.all([e,a,t]).then((([e,a,t])=>{"10000"===e.code&&(x.value=e.data),"10000"===a.code&&(B.value=a.data),"10000"===t.code&&(F.value=t.data,q.value=t.data.tenantOrderInsuredList[0].extInfo.hasSocialInsurance),(async()=>{try{const e=H({tenantId:i,premium:M.value,orderDetail:F.value,productDetail:x.value,insureDetail:B.value,successJumpUrl:""}),a=await N(e),{code:t,data:o}=a;"10000"===t&&(M.value=o.installmentPremium,K.value=o.signUrl),h.clear()}catch(e){}})()}))};return v((()=>{re()})),(e,a)=>{const o=m("ProRadioButton"),n=m("ProField"),i=m("van-config-provider");return t(),g(i,{"theme-vars":r(L)},{default:f((()=>{var e,t,i,l,c,s,u,p,v,m;return[d("div",Z,[d("img",{src:null===(e=x.value)||void 0===e||null===(t=e.tenantProductInsureVO)||void 0===t?void 0:t.banner[0],class:"banner"},null,8,ee),d("div",ae,[d("div",te,[b(T,{title:"姓名",desc:r(z)(null===(i=F.value)||void 0===i||null===(l=i.tenantOrderInsuredList)||void 0===l?void 0:l[0].name)},null,8,["desc"]),b(T,{title:"证件号码",desc:r(U)(null===(c=F.value)||void 0===c||null===(s=c.tenantOrderInsuredList)||void 0===s?void 0:s[0].certNo)},null,8,["desc"]),b(T,{title:"手机号码",desc:r($)(null===(u=F.value)||void 0===u||null===(p=u.tenantOrderHolder)||void 0===p?void 0:p.mobile)},null,8,["desc"]),b(T,{title:"每月保费",desc:`${r(P)(M.value||0)}元 / 每月`},null,8,["desc"]),b(n,{label:"有无社保",name:"name",required:"",placeholder:"请选择"},{input:f((()=>[b(o,{modelValue:q.value,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),disabled:!0,options:r(y)},null,8,["modelValue","options"])])),_:1}),d("div",{class:"submit",onClick:ne})])]),b(X,{"is-show":A.value,onOnClose:Q},null,8,["is-show"])]),b(k,{show:W.value,"onUpdate:show":a[1]||(a[1]=e=>W.value=e),"content-list":null===(v=x.value)||void 0===v||null===(m=v.tenantProductInsureVO)||void 0===m?void 0:m.attachmentVOList,"active-index":Y.value,text:"我已逐页阅读并确认告知内容",onSubmit:de},null,8,["show","content-list","active-index"])]})),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-d9257de8"]]))}}}))}();
