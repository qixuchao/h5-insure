import{d as e,h as a,i as t,k as o,ag as r,o as s,c as n,u as l,m as d,w as i,a8 as c,cA as p,f as u,_ as m,aI as h,ck as f,cl as y,cm as g,bV as C}from"./index-4ae91e98.js";import{P as I}from"./constants-62d1c4af.js";const k={class:"operate-wrap"},S=e({name:"operateBtn"});var $=m(e({...S,props:{detail:{default:()=>({})}},emits:["handleCancel"],setup(e,{emit:m}){const S=e,$=a(),v=t(),{tenantId:x,nextPageCode:N}=v.query,_=o((()=>{const{orderTopStatus:e}=S.detail;return"-1"===e&&I.orderList===v.path})),P=o((()=>{const{policyNo:e,applicationNo:a,orderStatus:t}=S.detail;return!e&&a&&"cancel"!==t})),w=o((()=>{const{orderStatus:e}=S.detail;return"offlinePayment"===e})),z=()=>{const{orderStatus:e,orderNo:a}=S.detail;let t=I.sign;"collectInfo"===e&&(t=I.infoCollection),$.push({path:t,query:{tenantId:x,orderNo:a}})},D=()=>{S.detail,N?h.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{m("handleCancel")})):h.confirm({message:"确认取消当前订单？"}).then((()=>{(e=>{const{holderName:a,holderGender:t,orderId:o}=S.detail||{},r=a,s=`${f[t]}士`;y({shareType:0,title:`${g.sign.title}（${C[e.toLocaleUpperCase()]}）`,desc:g.sign.desc.replace("{name}",`${r}${s},代理人`),url:`${window.location.href}&objectType=${e}&orderId=${o}&nextPageCode=orderDetail`.replace(/\/order|\/orderDetail/,"/phoneVerify"),imageUrl:"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/lian_logo.png?OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Expires=1697288114&Signature=S87PMeDRxltLovmmHVTeiHoew1c%3D"})})("holder")}))},T=()=>{const{orderNo:e,orderId:a}=S.detail;$.push({path:I.updateBankInfo,query:{tenantId:x,orderNo:e,orderId:a,nextPageCode:"orderDetail"}})};return(e,a)=>{const t=r;return s(),n("div",k,[l(_)?(s(),d(t,{key:0,type:"primary",size:"small",onClick:p(z,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),l(P)?(s(),d(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(D,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),l(w)?(s(),d(t,{key:2,size:"small",onClick:p(T,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-06f0d302"]]);export{$ as O};
