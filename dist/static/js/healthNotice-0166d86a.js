import{d as e,u as t,a as n,r as a,o,b as s,c as i,e as r,w as u,f as c,g as d,_ as p,h as l,i as f,j as m,k as I,D as q,l as b,m as y,B as j,n as O,P as v,p as h}from"./index-54f2c51b.js";import{q as N}from"./product-c83cab9b.js";import{g as T}from"./utils-91e15fbd.js";import{P as C}from"./index-d8d8dec7.js";import{n as _}from"./nextStep-db76102f.js";import{u as x}from"./useOrder-85b3de90.js";import{P as Q,B as g}from"./constants-7afb7c3d.js";import"./pdfh5-008ca364.js";import"./infoCollection-85c0755e.js";import"./trial-08b6dcbf.js";import"./core-8970803b.js";import"./constant-8927d485.js";const P=1;const E={class:"long-health-notice-wrap"},V={class:"footer-btn"},w=e({__name:"healthNotice",setup(e){const w=t(),L=n(),k=x(),{productCode:S,orderNo:U,templateId:$,tenantId:B,preview:D,questionnaireId:A}=w.query,G=a({}),J=a(),M=a(),R=()=>{q.confirm({title:"",message:`${M.value}不符合当前产品投保条件，请选择其他产品`}).then((()=>{b()})).catch((()=>{}))},W=()=>{J.value?L.push({path:w.path,query:{...w.query,questionnaireId:J.value}}):D?O(Q.QUESTION_NOTICE,w.query):_(k.value,((e,t)=>{t===v.JUMP_PAGE&&h(e.nextPageCode,w.query)}))};return o((()=>{(async()=>{const{code:e,data:t}=await y({orderNo:U,tenantId:B});"10000"===e&&Object.assign(k.value,t,{extInfo:{...t.extInfo,templateId:$,pageCode:Q.QUESTION_NOTICE,buttonCode:g.QUESTION_NOTICE}})})(),(async()=>{const{code:e,data:t}=await N({productCode:S});if("10000"===e){let e=t.productQuestionnaireVOList[0]||{};if(A){const n=t.productQuestionnaireVOList.findIndex((e=>`${e.questionnaireId}`===A));t.productQuestionnaireVOList[n]&&(e=t.productQuestionnaireVOList[n]),t.productQuestionnaireVOList[n+1]&&(J.value=t.productQuestionnaireVOList[n+1].questionnaireId)}const{questionnaireDetailResponseVO:n,questionnaireId:a,questionnaireName:o}=e||{},{questions:s,basicInfo:i}=n||{},{objectType:r,questionnaireType:u}=i||{};if(M.value=r,u===P){const{content:e,textType:t}=(null==s?void 0:s[0])||{};G.value={content:e,contentType:T(`${t}`,e),questionnaireId:a,questionnaireName:o}}else G.value={content:s,contentType:"question",questionnaireId:a,questionnaireName:o}}})()})),(e,t)=>{const n=j,a=s("ProPageWrap");return i(),r(a,null,{default:u((()=>[c("div",E,[d(G).content?(i(),r(p,{key:0,type:d(G).contentType,content:d(G).content},null,8,["type","content"])):l("",!0),c("div",V,[f(n,{onClick:R},{default:u((()=>[m("部分为是")])),_:1}),f(C,{shadow:!1,onClick:W},{default:u((()=>[I(e.$slots,"default",{},(()=>[m("以上皆否")]))])),_:3})])])])),_:3})}}});export{w as default};
