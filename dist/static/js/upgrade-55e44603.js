import{_ as a,d as e,aW as t,u as s,a as l,r as n,z as i,y as o,b as r,c,g as d,e as p,w as v,i as u,f,l as m,j as h,t as b,n as A,aZ as y,T as _,K as g,L as w,aK as I}from"./index-deabd4b0.js";import{p as x}from"./product-f1714ca0.js";import{d as k,i as O,g as C,s as R,e as j,E as L}from"./trial-43533bd0.js";import{a as N,t as D,c as P,s as F,b as B,d as S}from"./utils-6c443a5d.js";import{a as J}from"./order-2bb2626d.js";import E from"./index-f8bcbc6e.js";import{u as V}from"./theme-65292714.js";import{B as z}from"./index-6179babd.js";import T from"./index-0af4a557.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-f5aa6860.js";import"./useStorage-53820124.js";import"./trial-b97af53d.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-3e3a461c.js";const U=a=>(g("data-v-45d4afa6"),a=a(),w(),a),M={key:0},W=[U((()=>u("div",{class:"__skeleton_free_content__"},[u("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[u("div",{class:"page-free-product-detail"},[u("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[u("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),u("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[u("div",{class:"container"},[u("div",{class:"title"},[u("svg",{class:"svg-icon icon-free-arrow"},[u("use",{"xlink:href":"#icon-free-arrow"})]),u("span",null,[u("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),u("svg",{class:"svg-icon icon-free-arrow"},[u("use",{"xlink:href":"#icon-free-arrow"})])]),u("div",{class:"page-info-wrapper"},[u("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[u("form",{class:"van-form"},[u("div",{class:"com-card"},[u("div",{class:"com-card-wrap"},[u("div",{class:"header"}),u("div",{class:"body",style:{height:"auto"}},[u("div",{class:"com-personal-wrapper"},[u("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[u("div",{class:"van-cell__title van-field__label van-field__label--left"},[u("label",{id:"van-field-1-label",for:"van-field-1-input"},[u("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),u("div",{class:"van-cell__value van-field__value"},[u("div",{class:"van-field__body"},[u("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),u("div",{class:"van-field__right-icon"})])])]),u("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[u("div",{class:"van-cell__title van-field__label van-field__label--left"},[u("label",{id:"van-field-2-label",for:"van-field-2-input"},[u("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),u("div",{class:"van-cell__value van-field__value"},[u("div",{class:"van-field__body"},[u("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),u("div",{class:"van-field__right-icon"})])]),u("div",{class:"button-extra"},[u("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[u("div",{class:"van-button__content"},[u("span",{class:"van-button__text"},[u("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),u("div",{class:"pro-shadow-button submit-btn"},[u("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[u("div",{class:"van-button__content"},[u("span",{class:"van-button__text"},[u("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),u("div",{class:"com-attachment-list"},[u("span",null,[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),u("span",{class:"attachment-item"},[u("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),u("div",{class:"product-desc"},[u("div",{class:"van-image",style:{width:"100%"}},[u("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],Z={class:"page-upgrade-product-detail"},G={class:"footer-area"},Y={class:"price"},H={class:"num"},Q=U((()=>u("span",{class:"unit"},"元/月",-1))),X=A(b("升级保障"));var $=a(e({setup(a){const e=t((()=>y((()=>import("./index-d676dd74.js")),["static/js/index-d676dd74.js","static/css/index-b9ba3011.css","static/js/index-deabd4b0.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),A=t((()=>y((()=>import("./index-ecffda99.js")),["static/js/index-ecffda99.js","static/css/index-ea588f10.css","static/js/index-deabd4b0.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-0af4a557.js","static/css/index-2dbcd337.css","static/js/utils-6c443a5d.js","static/js/infoCollection-f5aa6860.js","static/js/useStorage-53820124.js","static/js/trial-b97af53d.js"]))),g=V(),w=s(),U=l(),{productCode:$="",orderNo:K="",agencyCode:q="",tenantId:aa="",saleChannelId:ea="",extraInfo:ta}=U.query;let sa={};try{sa=JSON.parse(decodeURIComponent(ta))}catch(xa){}const{openId:la,indirectCode:na="",agentCode:ia}=sa,oa=n(!0),ra=n(),ca=n();n();const da=n(),pa=n(),va=n(),ua=n(),fa=n();n();const ma=n();n(!1),n(!1),n(0);const ha=n(""),ba=i({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),Aa=()=>{ba.showFilePreview=!1,ba.isOnlyView=!0},ya=a=>{var e;const t=null==(e=a.tenantOrderPaymentInfoList)?void 0:e.pop();return t?t.paymentMethod:3},_a=async a=>{const e=B({tenantId:aa,premium:fa.value,orderDetail:ua.value,productDetail:pa.value,insureDetail:va.value,successJumpUrl:`${I}/baseInsurance/orderDetail?tenantId=${aa}&orderNo=${ha.value}`,iseeBizNo:ra.value}),t=await L({orderNo:a,...e}),{code:s,data:l}=t;"10000"===s&&w.push(`/baseInsurance/orderDetail?tenantId=${aa}&orderNo=${ha.value}`)},ga=async a=>{try{_.loading({forbidClick:!0,message:"升级中",duration:0});const a=await(async()=>{var a,e,t;const s=N({tenantId:aa,applicationNo:ua.value.applicationNo,policyNo:ua.value.policyNo,saleUserId:ia,saleChannelId:ua.value.saleChannelId,orderStatus:J.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:pa.value,insureDetail:va.value,paymentMethod:ya(ua.value),renewalDK:null==(e=null==(a=ua.value.extInfo)?void 0:a.extraInfo)?void 0:e.renewalDK,iseeBizNo:ra.value,successJumpUrl:"",premium:fa.value,holder:{...ua.value.tenantOrderHolder,socialFlag:ua.value.tenantOrderHolder.extInfo.hasSocialInsurance},insured:{...ua.value.tenantOrderInsuredList[0],socialFlag:ua.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:D({tenantId:aa,riskList:P(F(va.value.productRiskVoList[0].riskDetailVOList),pa.value),riskPremium:{},productId:null==(t=pa.value)?void 0:t.id})}),l=await R(s),{code:n,data:i}=l;return"10000"===n?i.data:""})();await k({tenantId:aa,applicationNo:ua.value.applicationNo});if(ha.value=a,ma.value){const a=encodeURIComponent(encodeURIComponent(window.location.href)),e=`${ma.value}&failUrl=${a}`;window.location.href=e,_.clear()}else _a(a)}catch(e){_.clear()}},wa=async a=>{ga()},Ia=()=>{_.loading({forbidClick:!0,duration:2e4,message:"试算中"});const a=x({productCode:$,withInsureInfo:!0,tenantId:aa}),e=O({productCode:$}),t=C({orderNo:K,tenantId:aa});Promise.all([a,e,t]).then((([a,e,t])=>{var s;"10000"===a.code&&(pa.value=a.data,document.title=(null==(s=a.data)?void 0:s.productFullName)||""),"10000"===e.code&&(va.value=e.data),"10000"===t.code&&(ua.value=t.data),oa.value=!1,(async()=>{try{const a=B({tenantId:aa,premium:fa.value,orderDetail:ua.value,productDetail:pa.value,insureDetail:va.value,successJumpUrl:""},S),e=await j(a),{code:t,data:s}=e;"10000"===t&&(fa.value=s.installmentPremium,ma.value=s.signUrl)}catch(a){}finally{_.clear()}})(),(()=>{var a;let e={};if(e=(null==(a=pa.value.tenantProductInsureVO.planInsureVO)?void 0:a.attachmentVOList)||[],!e)return void(ca.value=[]);const t={2:"richText",3:"link"};ca.value=Object.keys(e).map((a=>(e[a].forEach((a=>{if("1"===a.attachmentType){const e=a.attachmentUri.split("?"),t=e[0].substr(e[0].lastIndexOf(".")+1);a.attachmentType="pdf"===t?"pdf":"picture"}else a.attachmentType=t[a.attachmentType]})),{attachmentName:a,attachmentList:e[a]})))||[]})()}))};return o((()=>{Ia(),setTimeout((async()=>{ra.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(a,t)=>{const s=r("van-config-provider");return oa.value?(c(),d("div",M,W)):(c(),p(s,{key:1,"data-skeleton-root":"FREE","theme-vars":m(g)},{default:v((()=>{var a,s,l;return[u("div",Z,[f(z,{"data-skeleton-type":"img",url:null==(s=null==(a=pa.value)?void 0:a.tenantProductInsureVO)?void 0:s.banner[0]},null,8,["url"]),f(E,{ref_key:"formRef",ref:da,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":!1,"input-align":"right","form-info":ua.value,"factor-object":null==(l=va.value)?void 0:l.productFactor},null,8,["form-info","factor-object"]),ca.value&&ca.value.length>0?(c(),p(m(e),{key:0,class:"attachment-bg","attachement-list":ca.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:t[0]||(t[0]=a=>(a=>{ba.isOnlyView=!0,ba.activeIndex=a,ba.showFilePreview=!0})(a))},null,8,["attachement-list"])):h("",!0),u("div",G,[u("div",Y,[u("span",H,b(fa.value),1),Q]),f(T,{shadow:!1,"theme-vars":m(g),class:"right",text:"升级保障",onClick:wa},{default:v((()=>[X])),_:1},8,["theme-vars"])])]),m(ba).showFilePreview&&0!==ca.value.length?(c(),p(m(A),{key:0,show:m(ba).showFilePreview,"onUpdate:show":t[1]||(t[1]=a=>m(ba).showFilePreview=a),"content-list":ca.value,"is-only-view":m(ba).isOnlyView,"active-index":m(ba).activeIndex,text:m(ba).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:ga,onOnCloseFilePreview:Aa},null,8,["show","content-list","is-only-view","active-index","text"])):h("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-45d4afa6"]]);export{$ as default};
