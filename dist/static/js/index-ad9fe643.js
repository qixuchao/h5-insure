import{d as t,i as e,z as a,o as n,c as i,a as s,e as o,b as l,w as r,F as d,n as c,l as u,bT as m,q as p,u as f,m as v,_ as h,cy as y,h as I,g as b,r as j,j as L,O as g,dB as O,b7 as V,cZ as k,a8 as _,al as w,b9 as N,V as q,a9 as A,bU as D,bk as x,ae as T,at as C,au as P}from"./index-f532db20.js";import{C as R}from"./index-d75c1b6d.js";import{_ as Y}from"./index-66d818b4.js";import{m as U}from"./trial-90f2cd38.js";import"./infoCollection-07eb5a4d.js";import"./core-eb4b5e4c.js";import{I as Q}from"./infoItem-7552b23c.js";import{C as M}from"./index-e15b2700.js";import{_ as E}from"./PolicyInfo-b798c202.js";import{l as H,c as S}from"./product-779e0114.js";import{Q as B}from"./questionnaire-62331097.js";import{P as F}from"./index-e851a107.js";import{Q as G}from"./notice-33e6eedd.js";import{g as z}from"./utils-9100ff3d.js";import{O as X}from"./OperateBtn-f0dad5c7.js";import"./index-97b93ce9.js";import"./empth-c0adfdba.js";import"./cloneDeep-7be160ee.js";import"./lodash-eed54c2d.js";import"./index-e36b0cf2.js";import"./search-71699e0a.js";import"./trial-c35f920c.js";import"./constants-f30769e1.js";const Z={class:"insurance-notification-information"},$={class:"insurance-notification-information-title"},J={class:"insurance-notification-information-collapse"},K={class:"insurance-notification-information-content"};var W=h(t({__name:"insuranceNotificationInformation",props:{title:{default:""},data:{default:()=>[]}},setup(t){const h=t,y=e([]);return e([]),a((()=>h.data),(()=>{}),{immediate:!0,deep:!0}),(t,e)=>{const a=R,h=M;return n(),i("div",Z,[s("div",$,o(t.title),1),s("div",J,[l(h,{modelValue:f(y),"onUpdate:modelValue":e[0]||(e[0]=t=>v(y)?y.value=t:null)},{default:r((()=>[(n(!0),i(d,null,c(t.data,((t,e)=>(n(),u(a,{key:e,title:t.questionnaireName||e,name:e},{default:r((()=>[s("div",K,[t?(n(),u(m,{key:0,type:t.contentType,"is-view":"",content:t,params:{}},null,8,["type","content"])):p("",!0)])])),_:2},1032,["title","name"])))),128))])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-4eb30ed0"]]);const tt=t=>(C("data-v-fd800c36"),t=t(),P(),t),et={class:"page-order-detail"},at=tt((()=>s("div",{class:"card-item-name"},"订单进度",-1))),nt={class:"card-item-icon"},it={class:"card card-list"},st=tt((()=>s("p",{class:"card-list-title"},"健利保倍享版",-1))),ot={class:"card card-list"},lt={class:"card-list-head"},rt=tt((()=>s("div",{class:"card-list-title"},"险种信息",-1))),dt={class:"card-list-premium"},ct={class:"card"},ut=tt((()=>s("div",{class:"policy-options"},[_("保单选项 "),s("span",{class:"policy-options-content"},"纸质保单和电子保单")],-1))),mt={class:"card"},pt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"投保人资料",-1))),ft={class:"tenantOrderAttachmentList-img"},vt=["src"],ht=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"被保人资料",-1))),yt={class:"tenantOrderAttachmentList-img"},It=["src"],bt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"受益人资料",-1))),jt={class:"tenantOrderAttachmentList-img"},Lt=["src"],gt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"监护人资料",-1))),Ot={class:"tenantOrderAttachmentList-img"},Vt=["src"],kt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"银行卡信息",-1))),_t={class:"tenantOrderAttachmentList-img"},wt=["src"],Nt={class:"insurance-notification-information card"},qt={class:"footer-button"};var At=h(t({__name:"index",setup(t){const a=y(),m=I();b();const h=e(),C=e([]),P=e([]),Z=[{title:"险种名称",dataIndex:"riskName",width:200},{title:"保险金额/份数",dataIndex:"regularPremium",width:180,render:(t,e)=>t.regularPremium/t.copy},{title:"保障期间",dataIndex:"coveragePeriodDesc",width:180},{title:"交费期间",dataIndex:"chargePeriodDesc",width:180},{title:"首期保费",dataIndex:"initialPremium",width:180,render:(t,e)=>t.initialPremium}],$=j({customerQuestions:[],payInfo:{schema:[],config:[],formData:[]}}),{query:{orderNo:J,agentCode:K,tenantId:tt}}=m,At=()=>{A("orderTrajectory",{orderNo:J,orderId:h.value.id,tenantId:tt})},Dt=e(!1),xt=e(),Tt=e([]),Ct=L((()=>t=>{const{tenantOrderAttachmentList:e}=h.value;return(null==e?void 0:e.length)?e.filter((e=>e.objectType===t)):[]})),Pt=e();return g((()=>{O({orderNo:J,agentCode:K,tenantId:tt}).then((({code:t,data:e})=>{if("10000"===t){h.value=e,Pt.value=e,h.value.tenantOrderPayInfoList=e.tenantOrderPayInfoList||[];const t=Object.keys(h.value.productCodeList).map((t=>({productCode:t,mergeRiskReqList:h.value.productCodeList[t]})));S(a={productList:t}).then((({data:t,code:e})=>{var a,n;"10000"===e&&(Tt.value=null==(n=null==(a=t.riskMaterialList)?void 0:a[0])?void 0:n.productMaterialList)})),U(a).then((({data:t,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:a}=t;xt.value=a;const{payInfo:n}=x(a);$.payInfo={...$.payInfo,...n}}})),(async t=>{let e=[];const{code:a,data:n}=await D({orderNo:J,tenantId:tt});"10000"===a&&(e=n.productQuestionnaireVOList);const{code:i,data:s}=await H(t);if("10000"===i){const{productQuestionnaireVOList:t}=s||{},a=t.filter((t=>t.businessType!==G.VISIT));$.customerQuestions=a.map((t=>{const{questionnaireDetailResponseVO:a,questionnaireId:n,questionnaireName:i}=t||{},{questions:s,basicInfo:o}=a||{},{objectType:l,questionnaireType:r}=o||{};if(r===B.TEXT){const{content:t,textType:e}=(null==s?void 0:s[0])||{};return{content:t,contentType:z(`${e}`,t),questionnaireId:n,questionnaireName:i}}const d=(e||[]).find((t=>t.questionnaireId===n));return{...a,contentType:"question",...null==d?void 0:d.questionnaireDetailResponseVO,questionnaireId:n,questionnaireName:i}}))}})({productCodeList:Object.keys(h.value.productCodeList)})}var a}))})),(t,e)=>{const m=T,y=Y,I=R,b=M,j=V,L=k("loading");return n(),u(j,{"theme-vars":f(a)},{default:r((()=>{var a,j,g,O,V,k,A,D,x,T,R;return[s("div",et,[s("div",{class:"card card-head",onClick:At},[at,s("div",nt,[_(o(null==(a=f(h))?void 0:a.orderStepDesc)+" ",1),l(m,{name:"arrow-right"})])]),s("div",it,[st,l(Q,{label:"订单号",content:null==(j=f(h))?void 0:j.orderNo,line:"","is-copy":"","min-width":"other"},null,8,["content"]),(n(!0),i(d,null,c(null==(g=f(h))?void 0:g.applicationNo,(e=>(n(),u(Q,{key:e,label:"投保单号",content:t.applicationNo,line:"","is-copy":"","min-width":"other"},null,8,["content"])))),128)),l(Q,{label:"创建时间",content:f(w)(null==(O=f(h))?void 0:O.gmtCreated).format("YYYY-MM-DD HH:mm:ss"),line:"","min-width":"other"},null,8,["content"]),l(Q,{label:"投保时间",content:f(w)(null==(V=f(h))?void 0:V.orderDate).format("YYYY-MM-DD HH:mm:ss"),line:"","min-width":"other"},null,8,["content"]),l(Q,{label:"投保保费",content:null==(k=f(h))?void 0:k.orderAmount,line:"","min-width":"other"},null,8,["content"]),l(Q,{label:"承保保费",content:null==(A=f(h))?void 0:A.orderAmount,line:"","min-width":"other"},null,8,["content"])]),s("div",ot,[s("div",lt,[rt,s("div",dt,[_(" 首年保费："),s("span",null,o(null==(D=f(h))?void 0:D.orderAmount),1)])]),(null==(T=null==(x=f(h))?void 0:x.riskList)?void 0:T.length)>0?(n(),u(y,{key:0,columns:Z,class:"table","data-source":null==(R=f(h))?void 0:R.riskList},null,8,["data-source"])):p("",!0)]),s("div",ct,[l(b,{modelValue:f(C),"onUpdate:modelValue":e[0]||(e[0]=t=>v(C)?C.value=t:null)},{default:r((()=>[l(I,{title:"投保告知信息",name:"1"},{default:r((()=>[ut])),_:1})])),_:1},8,["modelValue"])]),s("div",mt,[l(b,{modelValue:f(P),"onUpdate:modelValue":e[1]||(e[1]=t=>v(P)?P.value=t:null)},{default:r((()=>[l(I,{title:"影像信息",name:"1"},{default:r((()=>[pt,s("div",ft,[(n(!0),i(d,null,c(f(Ct)(f(N).HOLDER),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,vt)])))),128))]),ht,s("div",yt,[(n(!0),i(d,null,c(f(Ct)(f(N).INSURED),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,It)])))),128))]),bt,s("div",jt,[(n(!0),i(d,null,c(f(Ct)(f(N).BENEFICIARY),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,Lt)])))),128))]),gt,s("div",Ot,[(n(!0),i(d,null,c(f(Ct)(f(N).GUARDIAN),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,Vt)])))),128))]),kt,s("div",_t,[(n(!0),i(d,null,c(f(Ct)(f(N).INIT_SIGN),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,wt)])))),128))])])),_:1})])),_:1},8,["modelValue"])]),s("div",Nt,[l(W,{title:"投保告知信息",data:f($).customerQuestions||[]},null,8,["data"])]),f(xt)?(n(),u(F,{key:0,ref:"personalInfoRef",modelValue:f(Pt),"onUpdate:modelValue":e[2]||(e[2]=t=>v(Pt)?Pt.value=t:null),"product-factor":f(xt),"is-view":""},null,8,["modelValue","product-factor"])):p("",!0),f($).payInfo.schema.length?(n(),u(f(E),{key:1,ref:"payInfoRef",modelValue:f(h).tenantOrderPayInfoList,"onUpdate:modelValue":e[3]||(e[3]=t=>f(h).tenantOrderPayInfoList=t),schema:f($).payInfo.schema,"is-view":""},null,8,["modelValue","schema"])):p("",!0),q((n(),i("div",qt,[l(X,{detail:f(h)},null,8,["detail"])])),[[L,f(Dt)]])])]})),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-fd800c36"]]);export{At as default};
