import{h as T,P as B,aa as E,r as o,j as b,k as r,m as k,n as I,p as s,B as l,t as d,G as O}from"./vendor-e88cb016.js";import{F,g as q,N as D,n as M,b as S}from"./index-1492183a.js";const U={class:"notice-content"},V=O("\u6211\u5DF2\u9605\u8BFB"),G=T({setup(j){const _={1:"pdf",4:"picture",2:"richText",3:"link"},f="customerNotice",c=B(),m=E(),{orderNo:u="2022021815432987130620",productCode:w="CQ75CQ76",templateId:g=1,tenantId:i=9991000007,insurerCode:C="kunlunhealth"}=c.query,a=o({});o(!0),o(!0);const p=o({}),n=o(1),v=()=>{F({insureCode:C,objectType:5,tenantId:i,orderNo:u}).then(({code:t,data:e})=>{t==="10000"&&(p.value=e,e.materialSource===1?e.materialContent.indexOf(".pdf")!==-1?n.value=1:n.value=4:n.value=e.materialSource)})},N=()=>{q({orderNo:u,tenantId:i}).then(({code:t,data:e})=>{t==="10000"&&Object.assign(a.value,e)})},P=()=>{a.value.extInfo={...a.value.extInfo,isReadCustomerNotice:1,pageCode:f,templateId:g,buttonCode:D.customerNotice},M(a.value).then(({code:t,data:e})=>{t==="10000"&&e.pageAction.pageAction==="jumpToPage"&&m.push({path:S[e.pageAction.data.nextPageCode],query:c.query})})};return b(()=>{N(),v()}),(t,e)=>{const h=r("VanButton"),x=r("ProFilePreview"),y=r("ProPageWrap");return k(),I(y,{class:"page-customer-notice-wrapper"},{default:s(()=>[l("div",U,[d(x,{type:_[n.value],content:p.value.materialContent},{"footer-btn":s(()=>[l("div",{class:"footer-button",onClick:P},[d(h,{block:"",type:"primary"},{default:s(()=>[V]),_:1})])]),_:1},8,["type","content"])])]),_:1})}}});export{G as default};
