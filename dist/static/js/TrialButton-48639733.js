import{d as a,r as e,aV as l,L as n,b as t,c as s,i as d,f as i,e as o,h as r,Q as u,M as c,w as p,ao as f,j as m,a5 as h,aW as v,a7 as y}from"./index-779cecf9.js";import{P as C}from"./index-bb0f2aec.js";const k={class:"trial-button-wrap","safe-area-inset-bottom":""},x={class:"footer-area"},S=d("span",null,"分享",-1),b={class:"price"},g={key:0},P=a({name:"trialButton"}),q=a({...P,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:null},emits:["handleClick"],setup(a,{emit:P}){const q=a,A=e(""),E=e(""),F=l(),$=e(),j=e(),w=()=>{q.handleShare?q.handleShare((()=>j.value.handleShare($.value))):j.value.handleShare($.value)};return n([()=>q.premium,()=>q.tenantProductDetail,()=>q.paymentFrequency,()=>q.planCode],(([a])=>{const{PREMIUM:e=[]}=q.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===q.planCode||!a.planCode))||{};const n=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===q.paymentFrequency)),{premium:t,minActualUnit:s}=n||{};a?(E.value=s,A.value=a&&`${a}`):(E.value=t,A.value="")}else a&&(E.value="",A.value=a&&`${a}`)}),{deep:!0,immediate:!0}),n((()=>q.shareInfo),(a=>{$.value=a}),{deep:!0,immediate:!0}),(e,l)=>{const n=y;return t(),s("div",k,[d("div",x,[a.isShare&&i(F)?(t(),s("div",{key:0,class:"com-share",onClick:w},[o(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):r("",!0),d("div",b,[a.loadingText?(t(),s("span",g,u(a.loadingText),1)):(t(),s(c,{key:1},[d("span",null,u(i(A)),1),d("span",null,u(i(E)),1)],64))]),o(C,h(e.$attrs,{shadow:!1,class:"right",onClick:l[0]||(l[0]=a=>P("handleClick"))}),{default:p((()=>[f(e.$slots,"default",{},(()=>[m("立即投保")]))])),_:3},16)]),o(v,h({ref_key:"shareRef",ref:j},i($)),null,16)])}}});export{q as _};
