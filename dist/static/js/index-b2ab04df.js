import{g as j,E as g,_ as Z,j as o,n as d,z as e,t as U,J as p,A as S,d as Ce,k as D,C as P,a4 as H,a5 as X,r as y,p as E,m as h,F as V,G as L,y as fe,O as ke,ak as Ie,Q as Ee,h as De,T as W}from"./vendor-25e691d5.js";import{a as Fe,b as xe,g as Be}from"./proposalList-54fed66c.js";import{b as Ae,_ as G,F as he,S as Re,H as we,O as Ne}from"./index-85362ac8.js";import{P as Oe}from"./index-4702b192.js";import{_ as Se}from"./index-cb1edaf6.js";const Ve=(t={})=>Ae.get("/api/app/insure/proposal/proposalTransInsured",{params:t}),Le=(t={})=>Ae.get("/api/app/insure/proposal/checkProposalInsurer",{params:t});var Me="/static/assets/male.099176e3.png",$e="/static/assets/female.d4f701ab.png";const Ue=t=>(H("data-v-474db3f9"),t=t(),X(),t),Ke={class:"container head-cover"},Qe={class:"info-detail"},qe={class:"name"},Te={class:"img"},Ye={key:0,src:Me},ze={key:1,src:$e},We={clase:"p1"},je={class:"p2"},He={class:"fe"},Xe=P(" \u9996\u5E74\u4FDD\u8D39\uFF1A "),Ge=Ue(()=>e("div",{class:"line"},null,-1)),Je={class:"tp"},Ze=j({props:{info:{type:Object,default:()=>{}}},setup(t){const v=t,C=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"riskName",width:180},{title:"\u4FDD\u989D",dataIndex:"amount"},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"coveragePeriod",width:110},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"chargePeriod",width:110},{title:"\u4FDD\u8D39",dataIndex:"premium",width:120}],b=g([]),m={1:"\u7537",2:"\u5973"},u=n=>n===1,a=n=>{const s=n.split("_");if(n==="to_life")return"\u4FDD\u7EC8\u751F";switch(s[0]){case"year":return`${s[1]}\u5E74`;case"month":return`${s[1]}\u6708`;case"day":return`${s[1]}\u5929`;case"to":return`\u4FDD\u81F3${s[1]}\u5C81`;default:return""}},_=n=>{const s=n.split("_");switch(s[0]){case"year":return`${s[1]}\u5E74\u4EA4`;case"month":return`${s[1]}\u6708\u4EA4`;case"to":return`\u4EA4\u81F3${s[1]}\u5C81`;case"single":return"\u8DB8\u7F34";default:return""}},I=n=>{const s=[];n==null||n.forEach(k=>{const{riskName:F,amount:x,coveragePeriod:B,chargePeriod:i,premium:r}=k;s.push({riskName:F,amount:x,coveragePeriod:a(B),chargePeriod:_(i),premium:r})}),b.value=s};return Z(()=>v.info,n=>{I(n==null?void 0:n.proposalProductRiskVOList)},{deep:!0,immediate:!0}),(n,s)=>{var k,F,x,B,i,r;return o(),d("div",Ke,[e("div",Qe,[e("div",qe,[e("div",Te,[u((k=v.info)==null?void 0:k.gender)?(o(),d("img",Ye)):U("",!0),u((F=v.info)==null?void 0:F.gender)?U("",!0):(o(),d("img",ze))]),e("div",null,[e("p",We,p((x=v.info)==null?void 0:x.name),1),e("p",je,p(m[(B=v.info)==null?void 0:B.gender])+"\uFF0C"+p(S(Ce)().diff((i=t.info)==null?void 0:i.birthday,"y"))+"\u5C81",1)])]),e("div",He,[Xe,e("span",null,"\xA5"+p(S(he)((r=v.info)==null?void 0:r.totalPremium)),1)])]),Ge,e("div",Je,[b.value.length>0?(o(),D(Oe,{key:0,columns:C,class:"table","data-source":b.value},null,8,["data-source"])):U("",!0)])])}}});var et=G(Ze,[["__scopeId","data-v-474db3f9"]]),ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAtCAMAAADBXShDAAACJVBMVEUAAADr+P/g///////V///d7v/y+//i8v/L6f/K4//c7f/s9//H5P/0+v/u9v/L4/+42v/w9//e7v/0+v/L4/+72//K4/+93P/1+f/p8//b7P/v9/+/3f/S6f/2+//d7f/Q5//0/P/h8f/G4/+/4//k8v/R6P/k9v////++3f+72v/i8f/1+v/b7f/Q5//g7//P5v+32f/y+f/i8P+42v+32//w+P/d7f/A3v/J5P+93f+73f+63v/I4v/v9//i8f/b7f/P5f+42v/1+v/t9//k8P/d7f/1+//b7f/e7//b7P/g7v+32f/w9//2+v/f7v/O5P+52v+93f+72//u9v/j8P/Q5v/M5f/k8P/s9v/l8v/2+//w+P/b7f/R5v/e7v/P5v+52v/w9//P5v+32f/w9//h8f/k8f/g8f/I4f/M4/+62//M5P/p9P/S5/+12P/P5/+52f/3/P/k8f/b7P/q9P/L4/+93P/W7P/p9P+12v/V5//N6f/I5//2+//1+v/K4//I4v+/3f+93f/I4v+22f/w9//u9f/2+//b6/+/3f/I4f/t9v/J4//1+v/e7//Q5/+22v/0+//c7v/R6P+22P/3/P/w9v+31/+42/+52f/N5P/u9v/f7v/d7f/L4/+82/+22P/O5f/y+P+62v+42f/v9//b7P/J4v/0+f/h7/+93P/x9//g7//1+v/j8P/c7P/H4f/z+P/Q5v+32f/P5v++3f/+uQMOAAAAm3RSTlMAEQQCBiMjGQz1tD0y6ubJxLu5tqKimZmIiId9eGhHRzkuLiASDgsHAffz5+Pg4N+/v7Krp2pdXVlAOyoj/fn5+fj49fX19e/v6urm4uHb1tHRy8fExMTEu7Kyq6urp5eUlI+OjoSEfX15d3NybWFhX19eXldOSUk7ODcrKBX5+ffr6+no29rTwMC2tammnIqIiHV1cHBkVkAyKOPy81wAAAM+SURBVEjH7Zb3UxNREMdfEkKT3qsCoffeLaAIioIFbKgUBQtgBQUEe++95RLuUglBCBD8+9x3t+8uMTOOM/zEDPtT5vt2831lP5sQQrZGhx48nU6UyKgo2Re1zUPIOncoKPyyWhHUKUfzD58PJBAJDofZxu2oltdu7vxlMBrtSbKgLTbp9bNz4YFMCDzCW6xW64FG8F50mBdsHLfHH9f8W+YNBiPUM3/NMZNYPhfHyuOdPNS73REaEg3l4M5xibiWuDQvutuDUUhbFctn57ZnS0L2b57nrRa3IEyRUIdjZcEG9ZGYfWIJ3A1Gl30/CqlQbqLly2mSUO90Oi2we0GoIoWLK+AO5Scx+9Q8uBtcRnsRCldW1/Ri9XKIJISAO5QLgnCV9ODZuWTMvgDu4ubPoHCHbT7ITxL88qSzC0IDSb8HZ1/guDAVZqsKxLO7dmUQjLNYfokJKU5wtwhCJXy+sXsFNh+2hbDY0k7d99bIgqpUT28+Ri0/eyzPw8OVZYovlRBZngzeSvrF4KgkrYeQey3meNwt4hG34yNir+eSzdjAsa53h66jPe/ZdQU+XWfy7Troedp16Xcp7749b/9XzyPv0PM9yLtCHPLuRZzJmzjGe8N6eQ9F3pVpg7x7TRu997RhvFeRaAfl3XfWuZRZZ/KZdci7MEUnLeVdmbTaFnT3mLT6vyYtL/IuwKQlCeBu/o85P+s153k4O8z59f3KbMYGjqzqgcFxtYegHh96V5PlmRIy0peq9RQaq/qHf0jToYPy3uWvNFk37bqiCVnw66PI3R9RqofzgHdrPwAc0Crx/iwHl3I6Jd7bAljye+S9lgm1yPsHQt4y3kdxbZTx3ouCbg15f6BBhh4y3nWkg/H+GrMrGO+dKIzJvE9LQoPMey1pZbx3YXY3470Nhc8mVl4nCXVOxvsX8hx55wYwu5e5vyCYvYq8L2dKQqYTeRe+k6/U3Qzuk5g9yf5ZpbK7LF6T3F8RjJdQT8/+BK67HM4O7oOExZB088GyMNEkXvxj+SkCHtGrczfX03v8WGi2Pf1GlBgrMRjbP2kUYbq0SR/0ZkYRZirzLc1lP9m3qYh3qNBI6RydxlvQ6MSh/wcEiQ5vBU6rowAAAABJRU5ErkJggg==",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAZlBMVEUAAAAnhP8Nb/8Nbv8Nbv8OcP8Ob/8Ob/8Ob/8Nb/8PcP8Obv8Obv8Nb/8NcP8Pb/8PcP8TdP8Nb/8NcP8Obv8Nbv8Nb/8Obv8Ob/8OcP8Rb/8Ocf8Ncv8Pcf8Wb/8VgP8QcP8Nbv+quNhCAAAAIXRSTlMABvixlIDwb92IMezNnnNURBvRY/Hn0rm1Wzw2JiIXDFCHpR0hAAAB8UlEQVRYw6TU567CMAwF4JNxO+mibDrw+7/kbdxIVHSn3w+CKkiOrTpYEpWhOgexlHFwVmEZwUXhK49+eMovsIt43mnG/SmwVZteacE1bbelSWP6Ch6JDkOdPAL6ilOBVa8bWRflR2JwQOSrC1m311ocTT2pMoERkSlJPb0Yqj7ZbXSBGYW2W51qzMo9e1qDBY1N7eWYkcn+qDdWvPvgMsOkklgisEokxMrJPMR8bOITm8iUy6m61/opR7+v+XlQYbMq4JPrn6JP/LTCDhWffRIY0mTk2CUnQ2PgNerzjo6/BoXxfCXYLeG5+xaX2mL3sq1NYbV8b7zh4M23SjsMpOFEDyIJcx/KBk4aae5MAeNpAx2I9IRxN4EKOCpMpDt/o46CM0WdAvatyuAs43fZ7ngRcCYutiLProdq84BoNGVOExeh7BdnNkqJ0CwCBwjqhFxhgEMC7vK5+3zgkAcRnXm7BIckXFQ8HrTP34rPeNxiSO7UUEirxn+Q/63YsQ0AMAgDwY6Ckv2HZQCQ3NwCliAB7H+EKgvVFXpKmyw0t7Sn2T1Rp2+z2fOzD8lGhA0tWyNqsbFVy5Y/O0fqQLKTzUyEsjXMaCnrx8yossfKsLMIoUKNilkq+KkoqsKxiusKICikgSCLwj4KRHk05mEdw4cLrMGD5S1fn3UAAAAASUVORK5CYII=",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAZlBMVEUAAAAQcP8vgP8Nb/8Nbv8Ob/8Obv8Vc/8Ob/8Obv8Nbv8Nb/8Obv8Nb/8NcP8OcP8Pb/8PcP8Ocf8chf8Ob/8Obv8Ob/8Obv8OcP8NcP8Nbv8NcP8NcP8Pcf8Ocf8Scv8Pb/8Nbv90LxprAAAAIXRSTlMAPwX5svCSF27s5tLNmnFbVDEkCdzx37mgiYZ0YkY2HWWKqbLAAAACF0lEQVRYw6SU17LDIAxERXF3XOLe4uj/f/LGgjtDEldyHswMHpYVWoA98rGTUR0IEdSR7MYcbPB86eAHjvQ9uESRNrhBkxbnZYYQdwiHc1I8CYxVpWzdvndbWRqTQcLhEBahppJ+bizguS8r1ETsyI6LCiEzvvI7kwIV7q6pe6xl3Bk2mF0tFd93ytINv3m7wbjpMGyWlwm11QMOeCjjIoNVntoOh0O4NvVc9YNEAqdIkFjxxATVPcFJJoeqY1/9ovnyDqe5l7Tzxwoe69nz6L1jDiYqhxNcYlLJBAOGCz5cxMcFZhQWUd/hMpSCiJu9pGLXScMw3cpT/JaYgt6NrTx7AlF4WxmnV6UAxbBbGKNz2C1u0IZCpD1thMgvhspSqppoJaSDo86wWQzNtkLzYqkhc/hCgq0QyOW/95+qzF4ooyxrxYrbC/FKV+TQaC9EThyAnJzZC+mzyWGkwV5IWxmhWwb+ixDHFx1VWIKtEFHSKUf0/UWIvERQI2ILb3jMJKGXgpl48EaLiDUEXxctFXiASL+uWwDLqh5MQjwkBJN+0f5rxc5tAABhIAhiIkJaoP8mSRw5O2koAInH9u2yjdjR2GWz52cfkpUIK1rWRlRjY62WNX82jtSAZCObhQgVa1jQUtHPh9FVE0MSICkV2BlCKKjhmDXB7yQY8q5CUQXHCteVQFBKQ0kWr328iPJqzMu6XjvRhx8qv5Pz8gaE6wAAAABJRU5ErkJggg==";const M=t=>(H("data-v-49ac56a1"),t=t(),X(),t),ot={class:"container"},nt=M(()=>e("div",{class:"common-title"},"\u5229\u76CA\u6F14\u793A",-1)),ut={class:"benefit"},at={class:"benefit-title"},it=M(()=>e("div",{class:"line"},null,-1)),lt={key:0,class:"box-title box-title-chart"},ct=M(()=>e("img",{src:ee,alt:""},null,-1)),rt=P(" \u4FDD\u5355\u5E74\u5EA6"),dt=P("\u5E74\u5EA6\uFF0C\u88AB\u4FDD\u4EBA"),vt=P("\u5C81\u65F6 "),_t=M(()=>e("img",{src:ee,alt:""},null,-1)),pt={key:1},ft={class:"box"},At={class:"box-title"},ht=M(()=>e("img",{src:ee,alt:""},null,-1)),mt=P(" \u4FDD\u5355\u5E74\u5EA6"),bt=P("\u5E74\u5EA6\uFF0C\u88AB\u4FDD\u4EBA"),gt=P("\u5C81\u65F6 "),Pt=M(()=>e("img",{src:ee,alt:""},null,-1)),yt={class:"box-price"},Ct={class:"text1"},kt={class:"text2"},It={key:2,style:{width:"100%"}},Et={class:"slider"},Dt=M(()=>e("img",{src:tt,alt:""},null,-1)),Ft=[Dt],xt={style:{flex:"1",margin:"0px 5px"}},Bt={class:"custom-button"},Rt=M(()=>e("img",{src:st,alt:""},null,-1)),wt=[Rt],Nt=M(()=>e("p",{class:"slider-dec"},"\u62D6\u52A8\u6309\u94AE\u67E5\u770B\u4E0D\u540C\u5E74\u9F84\u4FDD\u969C",-1)),Ot={class:"btn-two"},St=P("\u56FE\u8868\u5C55\u793A"),Vt=P("\u8D8B\u52BF\u5C55\u793A"),Lt=j({props:{info:{type:Object,default:()=>{}}},setup(t){const v=t,C=g(0),b=g(0),m=g(0),u=g(),a=g(0),_=g(!0),I=(i,r)=>{const w=[],f=[];for(let R=i,N=0;R<=r;R++,N++)w.push(R.toString()),f.push(N+1);return{a:w,year:f}},n=()=>{var R,N,K;const i=(N=(R=v.info)==null?void 0:R.benefitRiskResultVOList)==null?void 0:N[C.value],{a:r,year:w}=I(b.value,m.value),f={index:r.indexOf(a.value.toString()),age:r,year:w,result:(K=i==null?void 0:i.benefitRiskItemResultVOList)==null?void 0:K[0]};u.value=f},s=i=>{if(!(i==null?void 0:i.benefitRiskResultVOList))return;const r=i==null?void 0:i.benefitRiskResultVOList[C.value];b.value=r.ageBegin+1,a.value=r.ageBegin+1,m.value=r.ageEnd},k=()=>{a.value>m.value-1||(a.value+=1,n())},F=()=>{a.value>b.value&&(a.value-=1,n())},x=i=>{C.value=i.name,n()},B=i=>{i==="1"?_.value=!0:_.value=!1};return Z(()=>v.info,i=>{i&&(s(i),n())},{deep:!0,immediate:!0}),Z(a,()=>{n()}),(i,r)=>{const w=y("van-slider"),f=y("van-button"),R=y("van-tab"),N=y("van-tabs");return o(),d("div",ot,[nt,E(N,{active:C.value,"title-active-color":"#0D6EFE","title-inactive-color":"#393D46",shrink:"",onClickTab:x},{default:h(()=>{var K;return[(o(!0),d(V,null,L((K=v.info)==null?void 0:K.benefitRiskResultVOList,(Y,c)=>(o(),D(R,{key:c,name:c,title:Y.riskName},{default:h(()=>{var l,A,$,Q,z,O,q,T,te,se,oe,ne,ue,ae,ie,le;return[e("div",ut,[e("div",at,p(Y==null?void 0:Y.riskName),1),it,_.value?U("",!0):(o(),d("p",lt,[ct,rt,e("span",null,p(($=(l=u.value)==null?void 0:l.year)==null?void 0:$[(A=u.value)==null?void 0:A.index]),1),dt,e("span",null,p((O=(Q=u.value)==null?void 0:Q.age)==null?void 0:O[(z=u.value)==null?void 0:z.index]),1),vt,_t])),_.value?(o(),d("div",pt,[e("div",ft,[e("p",At,[ht,mt,e("span",null,p((te=(q=u.value)==null?void 0:q.year)==null?void 0:te[(T=u.value)==null?void 0:T.index]),1),bt,e("span",null,p((ne=(se=u.value)==null?void 0:se.age)==null?void 0:ne[(oe=u.value)==null?void 0:oe.index]),1),gt,Pt]),e("div",yt,[(o(!0),d(V,null,L((ae=(ue=u.value)==null?void 0:ue.result)==null?void 0:ae.headers,(J,ce)=>{var re,de,ve,_e,pe;return o(),d("div",{key:ce,style:{width:"33%"}},[e("p",Ct,p(S(he)(Number((pe=(_e=(de=(re=u.value)==null?void 0:re.result)==null?void 0:de.dataList)==null?void 0:_e[(ve=u.value)==null?void 0:ve.index])==null?void 0:pe[ce]))),1),e("p",kt,p(J)+"(\u5143\uFF09",1)])}),128))])])])):(o(),d("div",It,[E(Se,{min:b.value,max:m.value,current:a.value,data:(le=(ie=u.value)==null?void 0:ie.result)==null?void 0:le.benefitRiskItemList},null,8,["min","max","current","data"])])),e("div",Et,[e("div",{class:"add lf",onClick:F},Ft),e("div",xt,[b.value?(o(),D(w,{key:0,modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=J=>a.value=J),min:b.value,max:m.value,"bar-height":"8px"},{button:h(()=>[e("div",Bt,p(a.value)+" \u5C81",1)]),_:1},8,["modelValue","min","max"])):U("",!0)]),e("div",{class:"add rg",onClick:k},wt)]),Nt,e("div",Ot,[E(f,{round:"",plain:!_.value,type:"primary",class:"btn",onClick:r[1]||(r[1]=J=>B("1"))},{default:h(()=>[St]),_:1},8,["plain"]),E(f,{round:"",plain:_.value,type:"primary",class:"btn",onClick:r[2]||(r[2]=J=>B("2"))},{default:h(()=>[Vt]),_:1},8,["plain"])])])]}),_:2},1032,["name","title"]))),128))]}),_:1},8,["active"])])}}});var Mt=G(Lt,[["__scopeId","data-v-49ac56a1"]]),me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAM1BMVEUAAAAHe/8JfP8HfP8ghf8IfP8Jfv8SgP8Lff8Iev8Kf/8Nf/8Ie/8KfP8Mff8Iff8Ke/9WxKgsAAAAEXRSTlMATTpGCEIdDS0kGBI+NCogMWRIF20AAADeSURBVDjL3ZOxDgMhDENdCOGAg+P/v7aI4oalQ3VT+6YoAaPYAkB2PtQII9bgXcagPSYKoq9GA/JjEXmLjQzHsq1ZY8PBWzmxwx6BZV2zykZAZ5nWLLHRIe9ThEoC5PniGW29c742FxQ9mmJH26GCf0HHrq7AKG54MTfutJMk2gn9mK1aXMeaHbezNYlrzS57RJboCXIuSQHKVHWWl7ip+No4p1SwU1LK+DFEPjWSH5vu++QwXEmb7w2kMRezttAUM/92tn3N+hfZmqSJeuE3rVu2dfvI5dKInahXAfAESeEGZRES0sEAAAAASUVORK5CYII=";const be=t=>(H("data-v-125e631a"),t=t(),X(),t),$t={class:"container"},Ut={class:"common-title"},Kt={class:"title"},Qt=be(()=>e("img",{src:me,class:"ig"},null,-1)),qt={class:"product-detail"},Tt=be(()=>e("div",{class:"line2"},null,-1)),Yt=j({props:{info:{type:Object,default:()=>{}}},setup(t){const v=t;return(C,b)=>{var a;const m=y("van-collapse-item"),u=y("van-collapse");return o(),d("div",$t,[(o(!0),d(V,null,L((a=v.info)==null?void 0:a.liabilityByRiskVOList,(_,I)=>(o(),d("div",{key:I},[e("div",Ut,[e("div",Kt,[Qt,P(" "+p(_.riskName),1)])]),e("div",qt,[E(u,{modelValue:_.riskName1,"onUpdate:modelValue":n=>_.riskName1=n,accordion:"","is-link":!1,border:!1,size:"middle"},{default:h(()=>[(o(!0),d(V,null,L(_.proposalRiskLiabilityVOList,(n,s)=>(o(),D(m,{key:s,title:n.liabilityName,name:s,"value-class":"price",value:n.liabilityIndemnityContent},{default:h(()=>[P(p(n.liabilityDesc),1)]),_:2},1032,["title","name","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]))),128)),Tt])}}});var zt=G(Yt,[["__scopeId","data-v-125e631a"]]);const ge=t=>(H("data-v-71d412f1"),t=t(),X(),t),Wt={class:"container"},jt={class:"common-title"},Ht={class:"title"},Xt=ge(()=>e("img",{src:me,class:"ig"},null,-1)),Gt={class:"product-detail"},Jt=ge(()=>e("div",{class:"line2"},null,-1)),Zt=j({props:{info:{type:Object,default:()=>{}}},setup(t){const v=t;return(C,b)=>{var u;const m=y("van-cell");return o(),d("div",Wt,[(o(!0),d(V,null,L((u=v.info)==null?void 0:u.liabilityByTopTypeVOList,(a,_)=>(o(),d("div",{key:_},[(o(!0),d(V,null,L(a.proposalRiskLiabilityVOList,I=>(o(),d("div",{key:I.liabilityId},[e("div",jt,[e("div",Ht,[Xt,P(" "+p(I.liabilityName),1)])]),e("div",Gt,[(o(!0),d(V,null,L(a.proposalRiskLiabilityVOList,(n,s)=>(o(),D(m,{key:s},{default:h(()=>[P(p(n.liabilityName),1)]),_:2},1024))),128))])]))),128)),Jt]))),128))])}}});var es=G(Zt,[["__scopeId","data-v-71d412f1"]]);const Pe=t=>(H("data-v-0a0d488c"),t=t(),X(),t),ts={class:"com-insured-product-wrapper"},ss={class:"container"},os=Pe(()=>e("span",{class:"clear-all"},null,-1)),ns=Pe(()=>e("span",{class:"title"}," \u9009\u62E9\u6295\u4FDD\u4EA7\u54C1 ",-1)),us={class:"popup-body"},as={class:"cell-title"},is={class:"title"},ls={class:"error-message"},cs={class:"footer-button"},rs=P("\u7ACB\u5373\u6295\u4FDD"),ds=j({props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(t,{emit:v}){const C=t,b={insured:"\u5DF2\u901A\u8FC7\u8BA1\u5212\u4E66\u8FDB\u884C\u6295\u4FDD",unAuth:"\u4EA7\u54C1\u672A\u6388\u6743\uFF0C\u65E0\u6CD5\u8FDB\u884C\u6295\u4FDD",off:"\u4EA7\u54C1\u5DF2\u4E0B\u67B6\uFF0C\u65E0\u6CD5\u8FDB\u884C\u6295\u4FDD",cps:"\u4EA7\u54C1\u6682\u4E0D\u652F\u6301\u8BA1\u5212\u4E66\u8F6C\u6295\u4FDD"},m=g(""),u=g(null),a=g({isShow:C.isShow}),_=fe(()=>s=>s.insured===1?b.insured:s.authStatus!==1?b.unAuth:s.insureMethod!==1?b.cps:""),I=s=>{_.value(s)||(u.value=s,m.value=s.productCode)},n=()=>{v("close")};return Z(()=>C.isShow,s=>{a.value.isShow=s}),(s,k)=>{const F=y("van-radio"),x=y("VanCell"),B=y("van-cell-group"),i=y("van-radio-group"),r=y("VanButton"),w=y("VanPopup");return o(),d("div",ts,[E(w,{show:a.value.isShow,"onUpdate:show":k[2]||(k[2]=f=>a.value.isShow=f),position:"bottom",onClose:n},{default:h(()=>[e("div",ss,[e("div",{class:"popup-header"},[os,ns,e("span",{onClick:n},"X")]),e("div",us,[E(i,{modelValue:m.value,"onUpdate:modelValue":k[0]||(k[0]=f=>m.value=f)},{default:h(()=>[E(B,null,{default:h(()=>[(o(!0),d(V,null,L(t.dataSource,f=>(o(),D(x,{key:f.productCode,onClick:R=>I(f)},{"right-icon":h(()=>[E(F,{name:f.productCode,disabled:!!S(_)(f)},null,8,["name","disabled"])]),title:h(()=>[e("div",as,[e("div",is,[e("p",null,p(f.productName),1),e("span",ls,p(S(_)(f)),1)])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",cs,[E(r,{block:"",type:"primary",disabled:!m.value,onClick:k[1]||(k[1]=f=>v("finished",u.value))},{default:h(()=>[rs]),_:1},8,["disabled"])])])]),_:1},8,["show"])])}}});var vs=G(ds,[["__scopeId","data-v-0a0d488c"]]);const ye=t=>(H("data-v-2eced698"),t=t(),X(),t),_s={class:"page-composition-proposal"},ps={class:"head-bg"},fs={class:"container"},As=ye(()=>e("div",{class:"common-title"},"\u4FDD\u9669\u516C\u53F8\u7B80\u4ECB",-1)),hs=ye(()=>e("span",{class:"poiner"},null,-1)),ms={key:2,class:"footer-btn"},bs=P("\u751F\u6210PDF"),gs=P("\u7ACB\u5373\u6295\u4FDD"),Ps=j({setup(t){const v=g(!0),C=ke(),b=Ie(),{isShare:m,id:u}=C.query,a=g(),_=g(""),I=g(""),n=g({}),s=g([]);g();const[k,F]=Ee(),x=g(""),B=()=>{v.value=!v.value},i=c=>c===1,r=fe(()=>!!s.value.filter(l=>l.authStatus===1&&l.insureMethod===1).length);Z(()=>a.value,c=>{const{gender:l,name:A}=c;i(l)?I.value=`${A||""}\u5148\u751F\u7684\u8BA1\u5212\u4E66`:I.value=`${A||""}\u5973\u58EB\u7684\u8BA1\u5212\u4E66`});const w=()=>{var l;const c=`${Ne}/compositionProposal?id=${u}&isShare=1&tenantId=${_.value}`;n.value={title:`${(l=a.value)==null?void 0:l.name}\u7684\u8BA1\u5212\u4E66`,desc:"\u60A8\u7684\u8D34\u5FC3\u4FDD\u9669\u7BA1\u5BB6",link:c,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg"}},f=async()=>{try{let c=null;m?c=await Fe(`${u}?tenantId=${C.query.tenantId}`):c=await xe(u);const{code:l,data:A}=c;if(l==="10000"){const $=(A==null?void 0:A.proposalInsuredVOList[0])||{};a.value=$,_.value=A==null?void 0:A.tenantId}w()}catch{W("\u63A5\u53E3\u8BF7\u6C42\u5931\u8D25")}},R=()=>{Ve({proposalId:u}).then(({code:c,data:l})=>{c==="10000"&&(s.value=l)})},N=c=>{const{productCode:l,insurerCode:A,tenantProductCode:$}=c;Le({productCode:l,proposalId:u}).then(({code:Q,data:z,message:O})=>{Q==="10000"&&(z?we({insurerCode:A,productCode:$,proposalId:u}).then(({code:q,data:T})=>{q==="10000"&&(window.location.href=T)}):W(O))})},K=()=>{var c,l;((c=s.value)==null?void 0:c.length)===1?N((l=s.value)==null?void 0:l[0]):F(!0)};De(()=>{C.query.token&&new Re({source:"localStorage"}).set("token",C.query.token),R(),f()});const Y=()=>{if(!u){W("PDF\u751F\u6210\u5931\u8D25");return}W.loading({message:"PDF\u751F\u6210\u4E2D...",forbidClick:!0}),Be(u.toString()).then(c=>{const{code:l,message:A}=c;l==="10000"&&(W.clear(),console.log(A),A?b.push(`/pdfViewer?url=${encodeURIComponent(A)}&title=${I.value}`):W("\u8BA1\u5212\u4E66\u4E3A\u7A7A"))})};return(c,l)=>{const A=y("van-collapse-item"),$=y("van-collapse"),Q=y("van-button"),z=y("ProPageWrap");return o(),D(z,null,{default:h(()=>[e("div",_s,[e("div",ps,p(I.value),1),E(et,{info:a.value},null,8,["info"]),e("div",{class:"switch-btn",onClick:B},p(v.value?"\u6309\u8D23\u4EFB\u663E\u793A":"\u6309\u9669\u79CD\u663E\u793A"),1),v.value?(o(),D(zt,{key:0,info:a.value},null,8,["info"])):(o(),D(es,{key:1,info:a.value},null,8,["info"])),E(Mt,{info:a.value},null,8,["info"]),e("div",fs,[As,E($,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=O=>x.value=O),accordion:"","is-link":!1,border:!1,size:"middle"},{default:h(()=>{var O;return[(o(!0),d(V,null,L((O=a.value)==null?void 0:O.insurerInfoVOList,(q,T)=>(o(),D(A,{key:T,name:T,"value-class":"price"},{title:h(()=>[e("div",null,[hs,P(" "+p(q.insurerName),1)])]),default:h(()=>[P(" "+p(q.insurerDesc),1)]),_:2},1032,["name"]))),128))]}),_:1},8,["modelValue"])]),S(m)?U("",!0):(o(),d("div",ms,[E(Q,{plain:"",type:"primary",class:"btn",onClick:Y},{default:h(()=>[bs]),_:1}),S(r)?(o(),D(Q,{key:0,type:"primary",class:"btn",onClick:K},{default:h(()=>[gs]),_:1})):U("",!0)]))]),S(k)?(o(),D(vs,{key:0,"is-show":S(k),"data-source":s.value,onFinished:N,onClose:l[1]||(l[1]=O=>S(F)(!1))},null,8,["is-show","data-source"])):U("",!0)]),_:1})}}});var Ds=G(Ps,[["__scopeId","data-v-2eced698"]]);export{Ds as default};
