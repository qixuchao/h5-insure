import{g as w,v as z,j as l,n as f,z as _,J as h,A as p,Y as V,t as m,O as K,a9 as Q,E as ee,h as te,r as W,k as q,m as c,p as r,d as oe,F as ae,G as ne,ab as y,C as I,D as re,T as se}from"./vendor-17026bfd.js";import{d as ue}from"./order-c943eb29.js";import{_ as J,g as de,q as H,ac as S}from"./index-07095b31.js";import{O as ce,b as T,a as j}from"./order-26db6dbf.js";import{I as le}from"./InsuredPart-b396bea8.js";import"./utils-b6782348.js";import"./trial-ea3fe76e.js";const ie={class:"com-field-info"},_e={class:"label"},pe={class:"content"},ve=w({props:{label:{type:String,default:""},content:{type:String,default:""}},setup(P){const g=z();return(D,e)=>(l(),f("div",ie,[_("div",_e,h(P.label),1),p(g).label?V(D.$slots,"label",{key:0},void 0,!0):m("",!0),_("div",pe,h(P.content),1),p(g).content?V(D.$slots,"content",{key:1},void 0,!0):m("",!0)]))}});var C=J(ve,[["__scopeId","data-v-67c490df"]]);const fe={key:0,class:"page-order-detail"},me={class:"card"},ye={class:"header"},Ce={class:"product-name"},he={class:"company-name"},Ie={class:"status"},ge={key:0,class:"footer-button"},De=I("\u5220\u9664"),Oe=I("\u53BB\u5904\u7406"),ke={key:1,class:"footer-button"},be=I("\u5220\u9664"),Se=I("\u53BB\u652F\u4ED8"),Pe={key:2,class:"footer-button"},Be=I("\u5220\u9664"),Ee=w({setup(P){const g=K(),D=Q(),e=ee(),{query:{orderNo:O,agentCode:B,tenantId:k,abbreviation:Te,productCategory:F}}=g,E=()=>{re.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{e.value&&ue(e.value.id,e.value.orderStatus).then(o=>{const{code:a,data:t}=o;a==="10000"&&se.success("\u5220\u9664\u6210\u529F")})})},L=()=>{var s,u;if(!e.value)return!1;const{agencyId:o,saleChannelId:a,orderStatus:t}=e.value,n=(u=(s=e.value.tenantOrderInsuredList[0])==null?void 0:s.tenantOrderProductList[0])==null?void 0:u.productCode;if((j.PENDING===t||j.PAYING===t)&&(n===S.ZXYS||n===S.BWYL)){const d={[S.ZXYS]:"/internet/productDetail/package",[S.BWYL]:"/internet/productDetail"};return D.push({path:d[n],query:{productCode:n,saleChannelId:a,agentCode:B,tenantId:k,agencyCode:o,orderNo:O}}),!0}return!1},X=()=>{var o,a;if(e.value){if(L())return;const{id:t,extInfo:{templateId:n,pageCode:s},agencyId:u,venderCode:d}=e.value,v=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;H(s,{productCode:v,orderNo:O,orderId:t,agentCode:B,templateId:n,tenantId:k,productCategory:F,insurerCode:d,agencyCode:u,isFromOrderList:"1"})}},Z=()=>{var o,a;if(e.value){if(L())return;const{id:t,saleUserId:n,extInfo:{templateId:s},agencyId:u,venderCode:d}=e.value,v=(a=(o=e.value.tenantOrderInsuredList[0])==null?void 0:o.tenantOrderProductList[0])==null?void 0:a.productCode;H("payInfo",{productCode:v,orderNo:O,orderId:t,saleUserId:n,templateId:s,tenantId:k,productCategory:F,insurerCode:d,agencyCode:u})}};return te(()=>{de({orderNo:O,agentCode:B,tenantId:k}).then(o=>{const{code:a,data:t}=o;a==="10000"&&(e.value=t)})}),(o,a)=>{const t=W("van-button"),n=W("ProPageWrap");return l(),q(n,null,{default:c(()=>{var s,u,d,v,N,A,Y,x,M,U,R;return[e.value?(l(),f("div",fe,[_("div",me,[r(C,null,{label:c(()=>{var i,b,$,G;return[_("div",ye,[_("div",Ce,h(($=(b=(i=e.value)==null?void 0:i.tenantOrderInsuredList[0])==null?void 0:b.tenantOrderProductList[0])==null?void 0:$.productName),1),_("div",he,h((G=e.value)==null?void 0:G.abbreviation),1)])]}),content:c(()=>{var i;return[_("div",Ie,h(e.value?p(ce)[(i=e.value)==null?void 0:i.orderStatus]:""),1)]}),_:1}),r(C,{label:"\u6295\u4FDD\u5355\u53F7",content:(s=e.value)==null?void 0:s.orderNo},null,8,["content"]),r(C,{label:"\u521B\u5EFA\u65F6\u95F4",content:p(oe)((u=e.value)==null?void 0:u.gmtCreated).format("YYYY-MM-DD HH:mm:ss")},null,8,["content"]),r(C,{label:"\u6295\u4FDD\u4EBA",content:(v=(d=e.value)==null?void 0:d.tenantOrderHolder)==null?void 0:v.name},null,8,["content"]),(l(!0),f(ae,null,ne(((N=e.value)==null?void 0:N.tenantOrderInsuredList)||[],(i,b)=>(l(),q(C,{key:b,label:"\u88AB\u4FDD\u4EBA",content:i.name},null,8,["content"]))),128))]),r(le,{"product-data":(x=(Y=(A=e.value)==null?void 0:A.tenantOrderInsuredList[0])==null?void 0:Y.tenantOrderProductList)==null?void 0:x[0],class:"insure-info"},null,8,["product-data"]),((M=e.value)==null?void 0:M.orderTopStatus)===p(T).PENDING?(l(),f("div",ge,[r(t,{type:"primary",onClick:y(E,["stop"])},{default:c(()=>[De]),_:1},8,["onClick"]),r(t,{type:"primary",onClick:y(X,["stop"])},{default:c(()=>[Oe]),_:1},8,["onClick"])])):m("",!0),((U=e.value)==null?void 0:U.orderTopStatus)===p(T).PAYING?(l(),f("div",ke,[r(t,{type:"primary",onClick:y(E,["stop"])},{default:c(()=>[be]),_:1},8,["onClick"]),r(t,{type:"primary",onClick:y(Z,["stop"])},{default:c(()=>[Se]),_:1},8,["onClick"])])):m("",!0),((R=e.value)==null?void 0:R.orderTopStatus)===p(T).TIMEOUT?(l(),f("div",Pe,[r(t,{type:"primary",onClick:y(E,["stop"])},{default:c(()=>[Be]),_:1},8,["onClick"])])):m("",!0)])):m("",!0)]}),_:1})}}});var Ue=J(Ee,[["__scopeId","data-v-0ecf33c4"]]);export{Ue as default};
