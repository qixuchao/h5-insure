import{g as w,Q as L,C as M,L as z,v as Z,ag as ee,r as c,h as t,j as d,k as a,n as m,m as D,E as N,y as x,I as O,z as i,a6 as F,F as A,s as I,ah as te,B as q,ak as ne,G as oe,M as J,af as ue,x as R}from"./vendor-613d2567.js";import{_ as U,g as se,i as re}from"./index-7e8a0800.js";import{p as G,w as ae,n as le}from"./pdf_viewer-6d502c0c.js";import{g as ce,s as ie}from"./inform-470b1c4d.js";import{s as de}from"./useStorage-20269cdf.js";const pe={class:"problem"},_e={class:"footer-button"},me=q("\u63D0\u4EA4"),ve=w({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(P,{emit:y}){const v=P,f=L(),l=M([]),{questionnaireType:g}=f.query,V={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},T=z({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:u,checked:s,modelValue:p,inputValue:n}=Z(T),b=o=>{l.value[o].toggle()},h=o=>o?JSON.parse(o).map(e=>({title:e.value,value:e.uid})):[],S=()=>{y("onSubmitCurrentStatus",1)};return ee(()=>{l.value=[]}),(o,e)=>{const k=c("van-radio"),_=c("van-cell"),C=c("van-cell-group"),$=c("van-radio-group"),Q=c("van-checkbox"),Y=c("van-checkbox-group"),H=c("van-field"),K=c("van-button"),X=c("ProPageWrap");return t(),d(X,{class:"com-quersion"},{default:a(()=>[m(re,{title:`${V[i(g)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:a(()=>[(t(!0),D(A,null,N(v.currentPageInfo,(E,W)=>(t(),D("div",{key:W,class:"question-item"},[x("div",pe,O(W+1)+". "+O(E.title),1),E.questionType===1?(t(),d($,{key:0,modelValue:i(u),"onUpdate:modelValue":e[0]||(e[0]=r=>F(u)?u.value=r:null)},{default:a(()=>[m(C,{inset:""},{default:a(()=>[(t(!0),D(A,null,N(h(E.options),r=>(t(),d(_,{key:r.uid,title:r.title,clickable:"",onClick:B=>u.value=r.value},{"right-icon":a(()=>[m(k,{name:r.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),E.questionType===2?(t(),d(Y,{key:1,modelValue:i(s),"onUpdate:modelValue":e[2]||(e[2]=r=>F(s)?s.value=r:null)},{default:a(()=>[m(C,{inset:""},{default:a(()=>[(t(!0),D(A,null,N(h(E.options),(r,B)=>(t(),d(_,{key:r.uid,clickable:"",title:r.title,onClick:j=>b(B)},{"right-icon":a(()=>[m(Q,{ref_for:!0,ref:j=>l.value[B]=j,shape:"square",name:r,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):I("",!0),E.questionType===3?(t(),d(se,{key:2,"model-value":i(p),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):I("",!0),E.questionType===4?(t(),d(C,{key:3,inset:""},{default:a(()=>[m(H,{modelValue:i(n),"onUpdate:modelValue":e[3]||(e[3]=r=>F(n)?n.value=r:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):I("",!0)]))),128))]),_:1},8,["title"]),x("div",_e,[m(K,{type:"primary",block:"",onClick:S},{default:a(()=>[me]),_:1})])]),_:1})}}});var fe=U(ve,[["__scopeId","data-v-529a6d3e"]]);const ge={class:"title"},ye={class:"content"},ke={class:"footer-button"},Ce=q("\u4E86\u89E3\u5E76\u7EE7\u7EED"),be=w({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(P,{emit:y}){const v=P;return(f,l)=>{const g=c("van-button"),V=c("ProPageWrap"),T=ne("dompurify-html");return t(),d(V,{class:"com-document"},{default:a(()=>{var u,s;return[x("div",ge,O((u=v.currentPageInfo[0])==null?void 0:u.title),1),oe(x("div",ye,null,512),[[T,(s=v.currentPageInfo[0])==null?void 0:s.content]]),x("div",ke,[m(g,{type:"primary",onClick:l[0]||(l[0]=p=>y("onSubmitCurrentStatus",1))},{default:a(()=>[Ce]),_:1})])]}),_:1})}}});var he=U(be,[["__scopeId","data-v-27a7d770"]]);const Se={class:"com-pdf-viewer"},Ee=["id","isee_pdf"],Ie={class:"footer-button"},xe=q("\u90E8\u5206\u4E3A\u662F"),Pe=q("\u4EE5\u4E0A\u7686\u5426"),Ve=w({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(P,{emit:y}){const v=P;G.exports.GlobalWorkerOptions.workerSrc=ae;const f=le(),l=M(!1),g=M(!0),V=()=>{const u=document.getElementById(f);if(u.hasChildNodes()){g.value=!1;return}G.exports.getDocument({url:v.url}).promise.then(p=>{const n=p.numPages;for(let b=1;b<=n;b++)p.getPage(b).then(h=>{const S=h.getViewport({scale:1}),o=document.createElement("canvas"),e=o.getContext("2d");o.width=S.width,o.height=S.height,o.style.width="100%",u.append(o);const k={canvasContext:e,viewport:S};h.render(k),g.value=!1})})},T=async()=>{l.value=!0,setTimeout(()=>{V()},0)};return J(()=>{T()}),(u,s)=>{const p=c("van-button");return t(),D("div",Se,[x("div",{id:i(f),isee_pdf:u.pdfUrl,class:"pdf-wapper"},null,8,Ee),x("div",Ie,[m(p,{plain:"",type:"primary",onClick:s[0]||(s[0]=n=>y("onSubmitCurrentStatus",2))},{default:a(()=>[xe]),_:1}),m(p,{type:"primary",onClick:s[1]||(s[1]=n=>y("onSubmitCurrentStatus",1))},{default:a(()=>[Pe]),_:1})])])}}});var Te=U(Ve,[["__scopeId","data-v-280ffd98"]]);const $e={class:"com-health-notice"},Ne=w({setup(P){const y=ue(),v=L(),f=de.get("questionData"),{questionnaireType:l}=v.query,{orderNo:g="2022021815432987130620",productCode:V="CQ75CQ76",templateId:T=1,orderId:u=13005,tenantId:s=9991000007}=v.query,p={1:4,2:5,3:9},n=z({pageData:{},currentQuestionInfo:[]}),b=R(()=>l==="2"),h=R(()=>{var e;return l==="1"&&[1,3].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),S=R(()=>{var e;return l==="1"&&[2].includes((e=n.currentQuestionInfo[0])==null?void 0:e.textType)}),o=e=>{var C;const{id:k,objectType:_}=f;ie({content:(C=n.currentQuestionInfo[0])==null?void 0:C.content,contentType:l,isDone:e,noticeType:p[_],objectId:k,objectType:_,orderId:u,orderNo:g,tenantId:9991000007}).then(({code:$,data:Q})=>{console.log($),$==="10000"&&y.go(-1)})};return J(()=>{console.log(f);const{insurerCode:e,id:k,objectType:_,productCategory:C}=f;ce({insurerCode:e,id:k,objectType:_,productCategory:C,orderNo:g,tenantId:s}).then(({code:$,data:Q})=>{$==="10000"&&(n.currentQuestionInfo=Q)})}),(e,k)=>{var _;return t(),D("div",$e,[i(b)?(t(),d(fe,{key:0,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:o},null,8,["current-page-info"])):I("",!0),i(S)?(t(),d(he,{key:1,"current-page-info":i(n).currentQuestionInfo,onOnSubmitCurrentStatus:o},null,8,["current-page-info"])):I("",!0),i(h)?(t(),d(Te,{key:2,url:(_=i(n).currentQuestionInfo[0])==null?void 0:_.content,onOnSubmitCurrentStatus:o},null,8,["url"])):I("",!0)])}}});export{Ne as default};
