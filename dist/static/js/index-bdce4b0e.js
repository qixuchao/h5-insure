import{i as b,P as S,r as d,aC as T,k as R,l as y,m,n as U,p as r,B as t,L as u,G as i,C as l,s as v,t as s,x as q,H as P,F as B,aD as C,T as G,aE as h}from"./vendor-87894311.js";import{af as L}from"./index-0cf53a23.js";import{g as O,P as E,u as X,s as Y,w as j,l as z}from"./core-cbf7994b.js";import"./index-e648c3c5.js";const J={class:"pay-amount"},M=i(" \uFFE5"),H={class:"amount"},K={class:"order-info"},Q={class:"order-name"},Z={class:"order-no"},ee={key:0},oe={style:{"margin-bottom":"50px"}},ae=i(" ======= "),te=i("jsBridge\u4ED8\u6B3E"),ce=b({setup(ne){const o=S().query;L(),O(o.payWay||E.WXPAY);const n=d();d();const f=d(!1),c=d(E.WX_SIGN),p=d("h5"),k=()=>{const a=`${window.location.protocol}//${window.location.host}/baseInsurance/orderDetail?orderNo=${o.businessTradeNo||o.orderNo}&tenantId=${o.tenantId}`;Y({...n.value,payWay:c.value,srcType:p.value,code:o.code,extraInfo:JSON.stringify({redirectRrl:a,wxCode:o.code}),redirectUrl:a})},w=()=>{const a=`${window.location.protocol}//${window.location.host}/baseInsurance/orderDetail?orderNo=${o.businessTradeNo||o.orderNo}&tenantId=${o.tenantId}`;j({...n.value,payWay:c.value,srcType:p.value,code:o.code,extraInfo:JSON.stringify({redirectUrl:a,wxCode:o.code}),redirectUrl:a})},{copy:D,copied:re,isSupported:I}=T({source:""}),V=()=>{var a;D((a=n.value)==null?void 0:a.orderNo),G("\u5DF2\u62F7\u8D1D\u5230\u60A8\u7684\u7C98\u8D34\u677F")},W=()=>{f.value=!0,z({orderNo:o.orderNo||"P2211220947519991000001750022183",tenantId:o.tenantId||"9991000001"}).then(a=>{console.log("\u83B7\u53D6\u8BA2\u5355\u4FE1\u606F",a),a.code==="10000"&&(n.value=a.data)}).finally(()=>{f.value=!1})};return X(),R(()=>{W()}),(a,_)=>{const A=y("ProSvg"),g=y("VanButton"),$=y("ProPageWrap");return m(),U($,{title:"\u6536\u94F6\u53F0","main-class":"page-cashier"},{default:r(()=>{var x,N,F;return[t("div",J,[M,t("span",H,u((x=n.value)==null?void 0:x.orderAmt),1)]),t("div",K,[t("div",Q,u((N=n.value)==null?void 0:N.orderName),1),t("div",Z,[i(" \u8BA2\u5355\u53F7\uFF1A "+u((F=n.value)==null?void 0:F.orderNo)+" ",1),l(I)?(m(),v("span",ee,[s(A,{name:"copy",onClick:V})])):q("",!0)])]),s(l(C),{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=e=>c.value=e)},{default:r(()=>[(m(),v(B,null,P(["wxSign","wxPay"],e=>t("div",{key:e,class:"pay-wrapper"},[t("span",null,"\u5FAE\u4FE1"+u(e),1),s(l(h),{name:e},null,8,["name"])])),64))]),_:1},8,["modelValue"]),t("div",oe,[s(l(C),{modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=e=>p.value=e)},{default:r(()=>[(m(),v(B,null,P(["h5","js"],e=>t("div",{key:e,style:{"margin-bottom":"20px"}},[s(l(h),{name:e},{default:r(()=>[t("span",null,u(e),1)]),_:2},1032,["name"])])),64))]),_:1},8,["modelValue"])]),s(g,{type:"primary",round:"",size:"large",block:"",onClick:k},{default:r(()=>{var e;return[i("\u786E\u8BA4\u4ED8\u6B3E \uFFE5"+u((e=n.value)==null?void 0:e.orderAmt),1)]}),_:1}),ae,s(g,{type:"primary",round:"",size:"large",block:"",onClick:w},{default:r(()=>[te]),_:1})]}),_:1})}}});export{ce as default};
