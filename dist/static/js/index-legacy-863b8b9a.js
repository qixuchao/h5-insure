!function(){var e=document.createElement("style");e.innerHTML=".input-extra{margin-left:.33333rem;margin-top:.18667rem}.date-extra{padding-left:var(--zaui-card-border, .4rem);margin-left:var(--zaui-card-border, .4rem);border-left:1px solid #EEEFF4;margin-top:.21333rem;display:flex}.page-info-wrapper{padding-bottom:2rem}.page-info-wrapper .van-cell .van-field__value{align-items:flex-start}.page-info-wrapper .com-card .com-card-wrap .body{padding:0}.page-info-wrapper .beneficiary-part .part-title{display:flex;align-items:center;justify-content:space-between;padding:0 var(--zaui-card-border, .4rem);background-color:var(--zaui-global-bg, #f2f5fc);height:1.2rem}.page-info-wrapper .beneficiary-part .part-title .title{font-size:.4rem;font-weight:600;color:#393d46}.page-info-wrapper .left{flex:0 0 50%}.page-info-wrapper .left .trial-result{font-size:.45333rem;color:#393d46}.page-info-wrapper .left .trial-result .result-num{margin-left:.17333rem;color:var(--zaui-price, #ff5840);font-weight:700;margin-left:.21333rem}.page-info-wrapper .left .result-desc{font-size:.32rem;color:#666}.page-info-wrapper .operate-btn{width:50%}.page-info-wrapper .radio-item-wrapper{padding:0}.page-info-wrapper .radio-item-wrapper p{font-size:.4rem;color:#393d46;margin:.06667rem 0;word-break:break-all}.page-info-wrapper .radio-item-wrapper .name{font-weight:600;margin-right:.4rem}.page-info-wrapper .radio-item-wrapper .phone{font-weight:400}.page-internet-product-detail[data-v-7093cf5d]{padding-bottom:2rem;background:#f1f5fc}.page-internet-product-detail .footer-button[data-v-7093cf5d]{justify-content:space-between}.page-internet-product-detail .price[data-v-7093cf5d]{color:#393d46;font-size:.45333rem;font-weight:400}.page-internet-product-detail .price span[data-v-7093cf5d]{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .right[data-v-7093cf5d]{width:3.73333rem;background:var(--van-primary-color);border-color:var(--van-primary-color)}\n",document.head.appendChild(e),System.register(["./vendor-legacy-4a30a9db.js","./trial-legacy-5b02c8f1.js","./infoCollection-legacy-29f3ba0e.js","./relativeTime-legacy-585edf94.js","./index-legacy-83db4b71.js","./useDicData-legacy-bcc8fc4a.js","./utils-legacy-5ff6c316.js","./theme-legacy-1caf6c52.js","./order-legacy-aac8b6da.js","./index-legacy-9ddb295d.js","./trial-legacy-fe73da36.js"],(function(e){"use strict";var a,l,o,r,n,t,i,d,u,m,s,f,c,p,v,I,y,b,h,V,x,g,w,C,k,T,U,q,_,L,O,N,A,R,E,S,D,P,$,H,F,B,M,j,Y,z,K,Z,G,J,W,Q,X,ee,ae,le,oe,re,ne;return{setters:[function(e){a=e.h,l=e.R,o=e.P,r=e.G,n=e.d,t=e.z,i=e.$,d=e.r,u=e.B,m=e.k,s=e.p,f=e.m,c=e.n,p=e.s,v=e.v,I=e.A,y=e.E,b=e.L,h=e.M,V=e.T,x=e.aa,g=e.N,w=e.F,C=e.H,k=e.l,T=e.j,U=e.D,q=e.Y},function(e){_=e.p,L=e.i,O=e.g,N=e.s,A=e.u,R=e.a},function(e){E=e.e,S=e.R,D=e.S,P=e.g,$=e.I},function(e){H=e.r},function(e){F=e.C,B=e.V,M=e.I,j=e.J,Y=e.K,z=e.Y,K=e._,Z=e.a4},function(e){G=e.u},function(e){J=e.g,W=e.o,Q=e.a,X=e.t,ee=e.b,ae=e.d},function(e){le=e.u},function(e){oe=e.a},function(e){re=e.a,ne=e._},function(){}],execute:function(){const te={key:0,class:"com-personal-wrapper"},ie={class:"date-extra"},de=y("长期"),ue=I("span",{class:"input-extra"},"万",-1),me=I("span",{class:"input-extra"},"万",-1),se=I("span",{class:"input-extra"},"%",-1),fe=a({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]},isView:{type:Boolean,default:!1},prefix:{default:""},beneficiaryList:{default:()=>[]},sendSmsCode:{type:Function,default:e=>{}}},emits:["update:images"],setup(e,{emit:a}){const x=e;l();const{venderCode:g=""}=o().query,w=G(`${g.toLocaleUpperCase()}_OCCUPATION`),C=G("NATIONAL_REGION_CODE"),k=r([]),T=r(!1),U=r({formInfo:x.formInfo,birth:{min:new Date("1900-01-01"),max:new Date},certEndDate:{min:new Date("1900-01-01"),max:new Date("2099-12-31")},occupationalText:""});n.extend(H);const q=r(2===x.formInfo.certEndType),_=r(0),L=r("获取验证码"),O=r(!1),N=t((()=>{const e={};return x.factorList.forEach((a=>{e[a.code]=a})),e})),A=t((()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(U.value.formInfo.mobile))),R=async()=>{_.value>0||x.isSendSmsCode((()=>{O.value=!0,V({message:"短信发送成功，请查收"}),(()=>{if(_.value>0)return;_.value=60;const e=()=>{L.value=`${_.value}s`,_.value-=1};e();const a=setInterval((()=>{0===_.value?(L.value="获取验证码",_.value=0,clearInterval(a)):e()}),1e3)})()}))},S=e=>{U.value.formInfo.certNo=e.personIdCard,U.value.formInfo.name=e.personName,U.value.formInfo.certEndDate=n(e.validDateEnd,"YYYYMMDD").toDate()},D=e=>N.value&&N.value[e]&&N.value[e].isDisplay===z.YES,P=e=>N.value&&N.value[e]&&N.value[e].isMustInput===z.YES,$=(e,a)=>N.value?.[e]?.[a]||"",K=t((()=>[F.CERT,F.HOUSE_HOLD].includes(`${U.value.formInfo.certType}`)?[B.ID_CARD]:`${U.value.formInfo.certType}`===F.BIRTH?[B.BIRTH]:`${U.value.formInfo.certType}`===F.PASSPORT?[B.PASSPORT]:[B.ID_CARD])),Z=(e,a)=>P("attachment")?2===U.value.formInfo.certEndType||U.value.formInfo.certEndDate?"":"请选择有效期至":"",J=(e,a)=>/^\d{1,10}(\.\d{1,2})?$/.test(e)?"":"年收入最多录入10位数字",W=(e,a)=>/^[1-9]$|^[1-9][0-9]$|^100$/.test(e)?"":"收益比例只能填写1-100的正整数",Q=(e,a,l)=>a.length>e?`最大不能超过${e}个字符`:"",X=(e,a)=>{if(!D("nationality"))return"";if("CHN"===U.value.formInfo?.extInfo?.nationalityCode){if(![F.CERT,F.HOUSE_HOLD,F.BIRTH,F.MILITARY_CARD].includes(`${e}`))return"国籍为中国时，证件类型只允许选择身份证、户口本、出生证、军官证"}else if(["HKG","MAC"].includes(U.value.formInfo?.extInfo?.nationalityCode)){if(![F.HK_MACAO_RESIDENCE_PERMIT,F.HONGKONG_MACAO].includes(`${e}`))return"国籍为中国香港、中国澳门时，证件类型只允许选择港澳通行证、港澳居民居住证"}else if("TWN"===U.value.formInfo?.extInfo?.nationalityCode){if(![F.TAIWAN_RESIDENCE_PERMIT,F.TAIWAN_TRAVEL].includes(`${e}`))return"国籍为中国台湾时，证件类型只允许选择台湾通行证、台湾居民居住证"}else if(![F.PASSPORT,F.FOREIGN_PERMANENT].includes(`${e}`))return"国籍为非中国、港澳台时，证件类型只允许选择护照、外国人永久居留身份证";return n().year()-n(U.value.formInfo?.birthday).year()>2&&e===F.BIRTH?"年龄大于等于2周岁时，证件类型不能选择出生证":""},ee=e=>Array.isArray(e)&&2===e.length&&e[0]&&e[1]?"":"请上传身份证正反面照片",ae=e=>x.beneficiaryList.filter((e=>e.relationToInsured===E.SPOUSE)).length>=2?"已存在配偶关系的受益人":"";return i((()=>q.value),(e=>{e?(U.value.formInfo.certEndType=2,U.value.formInfo.certEndDate=""):U.value.formInfo.certEndType=1}),{immediate:!0}),i((()=>U.value.formInfo.certType),(e=>{[F.CERT,F.HOUSE_HOLD].includes(e)?T.value=!0:T.value=!1}),{deep:!0,immediate:!0}),i((()=>U.value.formInfo.certNo),(e=>{M(e)&&(U.value.formInfo.gender=+j(e),U.value.formInfo.birthday=n(new Date(Y(e))).format("YYYY-MM-DD"))}),{deep:!0,immediate:!0}),i((()=>x.images),(e=>{k.value=e}),{immediate:!0}),i((()=>x.formInfo),(()=>{U.value.formInfo=x.formInfo}),{deep:!0,immediate:!0}),i(k,(e=>{a("update:images",e)}),{deep:!0}),(a,l)=>{const o=d("ProRadioButton"),r=d("ProField"),n=d("ProDatePicker"),t=d("ProPicker"),i=d("ProIDCardUpload"),V=d("ProImageUpload"),x=d("van-checkbox"),g=d("ProCascader"),O=d("van-button");return Object.keys(u(N)).length?(m(),s("div",te,[D("relationToHolder")?(m(),f(r,{key:0,modelValue:U.value.formInfo.relationToInsured,"onUpdate:modelValue":l[1]||(l[1]=e=>U.value.formInfo.relationToInsured=e),name:`${e.prefix}_relationToInsured`,required:P("relationToHolder"),label:$("relationToHolder","title"),rules:[{validator:ae}]},{input:c((()=>[p(o,{modelValue:U.value.formInfo.relationToInsured,"onUpdate:modelValue":l[0]||(l[0]=e=>U.value.formInfo.relationToInsured=e),"is-view":e.isView,options:$("relationToHolder","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","name","required","label","rules"])):v("",!0),D("insuredBeneficiaryType")?(m(),f(r,{key:1,modelValue:U.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[3]||(l[3]=e=>U.value.formInfo.insuredBeneficiaryType=e),label:$("insuredBeneficiaryType","title"),name:"insuredBeneficiaryType",placeholder:"请选择"},{input:c((()=>[p(o,{modelValue:U.value.formInfo.insuredBeneficiaryType,"onUpdate:modelValue":l[2]||(l[2]=e=>U.value.formInfo.insuredBeneficiaryType=e),options:$("insuredBeneficiaryType","attributeValueList")||[]},null,8,["modelValue","options"])])),_:1},8,["modelValue","label"])):v("",!0),D("insuredRelation")?(m(),f(r,{key:2,modelValue:U.value.formInfo.insuredRelation,"onUpdate:modelValue":l[5]||(l[5]=e=>U.value.formInfo.insuredRelation=e),label:$("insuredRelation","title"),name:"insuredRelation",placeholder:"请选择"},{input:c((()=>[p(o,{modelValue:U.value.formInfo.insuredRelation,"onUpdate:modelValue":l[4]||(l[4]=e=>U.value.formInfo.insuredRelation=e),options:$("insuredRelation","attributeValueList")||[]},null,8,["modelValue","options"])])),_:1},8,["modelValue","label"])):v("",!0),D("name")?(m(),f(r,{key:3,modelValue:U.value.formInfo.name,"onUpdate:modelValue":l[6]||(l[6]=e=>U.value.formInfo.name=e),label:$("name","title"),name:`${e.prefix}_name`,required:P("name")},null,8,["modelValue","label","name","required"])):v("",!0),D("sex")?(m(),f(r,{key:4,modelValue:U.value.formInfo.gender,"onUpdate:modelValue":l[8]||(l[8]=e=>U.value.formInfo.gender=e),required:P("sex"),label:$("sex","title"),name:`${e.prefix}_gender`,placeholder:"请选择","is-view":T.value},{input:c((()=>[p(o,{modelValue:U.value.formInfo.gender,"onUpdate:modelValue":l[7]||(l[7]=e=>U.value.formInfo.gender=e),disabled:T.value,"is-view":e.isView,options:$("sex","attributeValueList")||[]},null,8,["modelValue","disabled","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):v("",!0),D("birthDate")?(m(),f(n,{key:5,modelValue:U.value.formInfo.birthday,"onUpdate:modelValue":l[9]||(l[9]=e=>U.value.formInfo.birthday=e),label:$("birthDate","title"),name:`${e.prefix}_birthday`,min:U.value.birth.min,max:U.value.birth.max,type:"date",required:P("birthDate")},null,8,["modelValue","label","name","min","max","required"])):v("",!0),D("certType")?(m(),f(t,{key:6,modelValue:U.value.formInfo.certType,"onUpdate:modelValue":l[10]||(l[10]=e=>U.value.formInfo.certType=e),label:$("certType","title"),name:`${e.prefix}_certType`,"data-source":$("certType","attributeValueList")||[],required:P("certType"),rules:[{validator:X}]},null,8,["modelValue","label","name","data-source","required","rules"])):v("",!0),D("certImage")&&U.value.formInfo.certType+""=="1"?(m(),f(r,{key:7,label:"身份证上传",block:"",required:P("certImage"),rules:[{validator:ee}],name:`${e.prefix}_idCard`},{input:c((()=>[p(i,{modelValue:k.value,"onUpdate:modelValue":l[11]||(l[11]=e=>k.value=e),"is-view":e.isView,onOnOCR:S},null,8,["modelValue","is-view"])])),_:1},8,["required","rules","name"])):v("",!0),D("certImage")&&U.value.formInfo.certType&&U.value.formInfo.certType+""!="1"?(m(),f(r,{key:8,label:$("certImage","title"),block:"",required:P("certImage")},{input:c((()=>[p(V,{modelValue:k.value,"onUpdate:modelValue":l[12]||(l[12]=e=>k.value=e),"max-count":1},null,8,["modelValue"])])),_:1},8,["label","required"])):v("",!0),D("certNo")?(m(),f(r,{key:9,modelValue:U.value.formInfo.certNo,"onUpdate:modelValue":l[13]||(l[13]=e=>U.value.formInfo.certNo=e),label:$("certNo","title"),name:`${e.prefix}_certNo`,required:P("certNo"),placeholder:"请输入",maxlength:18,"validate-type":u(K)},null,8,["modelValue","label","name","required","validate-type"])):v("",!0),D("certExpiry")?(m(),f(n,{key:10,modelValue:U.value.formInfo.certEndDate,"onUpdate:modelValue":l[15]||(l[15]=e=>U.value.formInfo.certEndDate=e),label:$("certExpiry","title"),name:`${e.prefix}_certEndDate`,type:"date",min:U.value.certEndDate.min,max:U.value.certEndDate.max,"is-view":q.value||e.isView,read:"",rules:[{validator:Z}]},{extra:c((()=>[I("div",ie,[p(x,{modelValue:q.value,"onUpdate:modelValue":l[14]||(l[14]=e=>q.value=e),"icon-size":16,disabled:e.isView},{default:c((()=>[de])),_:1},8,["modelValue","disabled"])])])),_:1},8,["modelValue","label","name","min","max","is-view","rules"])):v("",!0),D("age")?(m(),f(r,{key:11,modelValue:U.value.formInfo.name,"onUpdate:modelValue":l[16]||(l[16]=e=>U.value.formInfo.name=e),label:$("age","title"),name:`${e.prefix}_age`,required:P("age")},null,8,["modelValue","label","name","required"])):v("",!0),D("residence")?(m(),f(g,{key:12,modelValue:U.value.formInfo.extInfo.provinceCode,"onUpdate:modelValue":l[17]||(l[17]=e=>U.value.formInfo.extInfo.provinceCode=e),field1:U.value.formInfo.extInfo.provinceCode,"onUpdate:field1":l[18]||(l[18]=e=>U.value.formInfo.extInfo.provinceCode=e),field2:U.value.formInfo.extInfo.cityCode,"onUpdate:field2":l[19]||(l[19]=e=>U.value.formInfo.extInfo.cityCode=e),field3:U.value.formInfo.extInfo.areaCode,"onUpdate:field3":l[20]||(l[20]=e=>U.value.formInfo.extInfo.areaCode=e),label:$("residence","title"),name:`${e.prefix}_provinceCode`,placeholder:"请选择","is-link":"",required:P("residence"),"data-source":u(C),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):v("",!0),D("social")?(m(),f(r,{key:13,modelValue:U.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[22]||(l[22]=e=>U.value.formInfo.extInfo.hasSocialInsurance=e),label:$("social","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:P("social")},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[21]||(l[21]=e=>U.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,options:$("social","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("height")?(m(),f(r,{key:14,modelValue:U.value.formInfo.name,"onUpdate:modelValue":l[23]||(l[23]=e=>U.value.formInfo.name=e),label:$("height","title"),name:`${e.prefix}_height`,required:P("height")},null,8,["modelValue","label","name","required"])):v("",!0),D("weight")?(m(),f(r,{key:15,modelValue:U.value.formInfo.name,"onUpdate:modelValue":l[24]||(l[24]=e=>U.value.formInfo.name=e),label:$("weight","title"),name:`${e.prefix}_weight`,required:P("weight")},null,8,["modelValue","label","name","required"])):v("",!0),D("BMI")?(m(),f(r,{key:16,modelValue:U.value.formInfo.name,"onUpdate:modelValue":l[25]||(l[25]=e=>U.value.formInfo.name=e),label:$("BMI","title"),name:`${e.prefix}_BMI`,required:P("BMI")},null,8,["modelValue","label","name","required"])):v("",!0),D("insuredRiskManagementLevel")?(m(),f(r,{key:17,modelValue:U.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[27]||(l[27]=e=>U.value.formInfo.extInfo.hasSocialInsurance=e),label:$("insuredRiskManagementLevel","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:P("insuredRiskManagementLevel")},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[26]||(l[26]=e=>U.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,options:$("insuredRiskManagementLevel","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("purchaseOtherInsurance")?(m(),f(r,{key:18,modelValue:U.value.formInfo.extInfo.purchaseOtherInsurance,"onUpdate:modelValue":l[29]||(l[29]=e=>U.value.formInfo.extInfo.purchaseOtherInsurance=e),label:$("purchaseOtherInsurance","title"),name:`${e.prefix}_purchaseOtherInsurance`,placeholder:"请选择",required:P("purchaseOtherInsurance")},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":l[28]||(l[28]=e=>U.value.formInfo.extInfo.hasSocialInsurance=e),"is-view":e.isView,options:$("purchaseOtherInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("injuryInsurance")?(m(),f(r,{key:19,modelValue:U.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[31]||(l[31]=e=>U.value.formInfo.extInfo.injuryInsurance=e),label:$("injuryInsurance","title"),name:`${e.prefix}_hasSocialInsurance`,placeholder:"请选择",required:P("injuryInsurance")},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.injuryInsurance,"onUpdate:modelValue":l[30]||(l[30]=e=>U.value.formInfo.extInfo.injuryInsurance=e),"is-view":e.isView,options:$("injuryInsurance","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("insureArea")?(m(),f(g,{key:20,label:$("insureArea","title"),name:"insureAreaCode",placeholder:"请选择","is-link":"",required:P("insureArea"),"data-source":u(C),mapping:{label:"name",value:"code",children:"children"}},null,8,["label","required","data-source"])):v("",!0),D("occupation")?(m(),f(g,{key:21,modelValue:U.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:modelValue":l[32]||(l[32]=e=>U.value.formInfo.extInfo.occupationCodeList[0]=e),field0:U.value.formInfo.extInfo.occupationCodeList[0],"onUpdate:field0":l[33]||(l[33]=e=>U.value.formInfo.extInfo.occupationCodeList[0]=e),field1:U.value.formInfo.extInfo.occupationCodeList[1],"onUpdate:field1":l[34]||(l[34]=e=>U.value.formInfo.extInfo.occupationCodeList[1]=e),field2:U.value.formInfo.extInfo.occupationCodeList[2],"onUpdate:field2":l[35]||(l[35]=e=>U.value.formInfo.extInfo.occupationCodeList[2]=e),label:$("occupation","title"),name:`${e.prefix}_occupationCodeList`,placeholder:"请选择",required:P("occupation"),"data-source":u(w),mapping:{label:"value",value:"code",children:"children"},"is-link":""},null,8,["modelValue","field0","field1","field2","label","name","required","data-source"])):v("",!0),D("personalAnnualIncome")?(m(),f(r,{key:22,modelValue:U.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":l[36]||(l[36]=e=>U.value.formInfo.extInfo.personalAnnualIncome=e),label:$("personalAnnualIncome","title"),name:`${e.prefix}_personalAnnualIncome`,required:P("personalAnnualIncome"),placeholder:"请输入",rules:[{validator:J}]},{extra:c((()=>[ue])),_:1},8,["modelValue","label","name","required","rules"])):v("",!0),D("familyAnnualIncome")?(m(),f(r,{key:23,modelValue:U.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":l[37]||(l[37]=e=>U.value.formInfo.extInfo.familyAnnualIncome=e),label:$("familyAnnualIncome","title"),name:`${e.prefix}_familyAnnualIncome`,placeholder:"请输入",rules:[{validator:J}],required:P("familyAnnualIncome")},{extra:c((()=>[me])),_:1},8,["modelValue","label","name","rules","required"])):v("",!0),D("country")?(m(),f(t,{key:24,modelValue:U.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":l[38]||(l[38]=e=>U.value.formInfo.extInfo.nationalityCode=e),label:$("country","title"),name:`${e.prefix}_nationalityCode`,"data-source":$("country","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},placeholder:"请选择",required:P("country"),"is-link":""},null,8,["modelValue","label","name","data-source","required"])):v("",!0),D("hasUsCard")?(m(),f(r,{key:25,modelValue:U.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[40]||(l[40]=e=>U.value.formInfo.extInfo.hasUsCard=e),label:$("hasUsCard","title"),name:`${e.prefix}_hasUsCard`,placeholder:"请选择",required:P("hasUsCard")},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":l[39]||(l[39]=e=>U.value.formInfo.extInfo.hasUsCard=e),"is-view":e.isView,options:$("hasUsCard","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("marritalStatus")?(m(),f(t,{key:26,modelValue:U.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":l[41]||(l[41]=e=>U.value.formInfo.extInfo.marriageStatus=e),label:$("marritalStatus","title"),name:`${e.prefix}_marriageStatus`,placeholder:"请选择","data-source":$("marritalStatus","attributeValueList")||[],"is-link":"",required:P("marritalStatus")},null,8,["modelValue","label","name","data-source","required"])):v("",!0),D("degree")?(m(),f(t,{key:27,modelValue:U.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":l[42]||(l[42]=e=>U.value.formInfo.extInfo.educationDegree=e),label:$("degree","title"),name:`${e.prefix}_educationDegree`,"data-source":$("degree","attributeValueList")||[],mapping:{label:"name",value:"code",children:"child"},placeholder:"请选择",required:P("degree"),"is-link":""},null,8,["modelValue","label","name","data-source","required"])):v("",!0),D("mobile")?(m(),f(r,{key:28,modelValue:U.value.formInfo.mobile,"onUpdate:modelValue":l[43]||(l[43]=e=>U.value.formInfo.mobile=e),label:$("mobile","title"),name:`${e.prefix}_mobile`,placeholder:"请输入",maxlength:11,required:P("mobile"),"validate-type":[u(B).PHONE]},null,8,["modelValue","label","name","required","validate-type"])):v("",!0),D("verificationCode")?(m(),f(r,{key:29,modelValue:U.value.formInfo.verificationCode,"onUpdate:modelValue":l[44]||(l[44]=e=>U.value.formInfo.verificationCode=e),label:$("verificationCode","title"),name:`${e.prefix}_verificationCode`,required:P("verificationCode")},{extra:c((()=>[p(O,{class:h(["sms-code",{"count-down":_.value>0}]),size:"small",type:"primary",disabled:!u(A),onClick:R},{default:c((()=>[y(b(L.value),1)])),_:1},8,["class","disabled"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("isSmoke")?(m(),f(r,{key:30,modelValue:U.value.formInfo.isSmoke,"onUpdate:modelValue":l[46]||(l[46]=e=>U.value.formInfo.isSmoke=e),required:P("isSmoke"),label:$("isSmoke","title"),name:`${e.prefix}_isSmoke`,placeholder:"请选择","is-view":T.value},{input:c((()=>[p(o,{modelValue:U.value.formInfo.isSmoke,"onUpdate:modelValue":l[45]||(l[45]=e=>U.value.formInfo.isSmoke=e),"is-view":e.isView,options:$("isSmoke","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required","label","name","is-view"])):v("",!0),D("contactNo")?(m(),f(r,{key:31,modelValue:U.value.formInfo.contactNo,"onUpdate:modelValue":l[47]||(l[47]=e=>U.value.formInfo.contactNo=e),label:$("contactNo","title"),name:`${e.prefix}_contactNo`,required:P("contactNo")},null,8,["modelValue","label","name","required"])):v("",!0),D("email")?(m(),f(r,{key:32,modelValue:U.value.formInfo.email,"onUpdate:modelValue":l[48]||(l[48]=e=>U.value.formInfo.email=e),label:$("email","title"),name:`${e.prefix}_email`,placeholder:"请输入",required:P("email"),"validate-type":[u(B).EMAIL]},null,8,["modelValue","label","name","required","validate-type"])):v("",!0),D("homeAddress")?(m(),f(g,{key:33,modelValue:U.value.formInfo.extInfo.familyAreaCode,"onUpdate:modelValue":l[49]||(l[49]=e=>U.value.formInfo.extInfo.familyAreaCode=e),field1:U.value.formInfo.extInfo.familyProvinceCode,"onUpdate:field1":l[50]||(l[50]=e=>U.value.formInfo.extInfo.familyProvinceCode=e),field2:U.value.formInfo.extInfo.familyCityCode,"onUpdate:field2":l[51]||(l[51]=e=>U.value.formInfo.extInfo.familyCityCode=e),field3:U.value.formInfo.extInfo.familyAreaCode,"onUpdate:field3":l[52]||(l[52]=e=>U.value.formInfo.extInfo.familyAreaCode=e),label:$("homeAddress","title"),name:`${e.prefix}_familyProvinceCode`,placeholder:"请选择","is-link":"",required:P("homeAddress"),"data-source":u(C),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):v("",!0),D("homeAddressDetail")?(m(),f(r,{key:34,modelValue:U.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":l[53]||(l[53]=e=>U.value.formInfo.extInfo.familyAddress=e),label:$("homeAddressDetail","title"),name:`${e.prefix}_familyAddress`,placeholder:"请输入",rules:[{validator:(...e)=>Q(100,...e)}],required:P("homeAddressDetail")},null,8,["modelValue","label","name","rules","required"])):v("",!0),D("homePostalCode")?(m(),f(r,{key:35,modelValue:U.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":l[54]||(l[54]=e=>U.value.formInfo.extInfo.familyZipCode=e),label:$("homePostalCode","title"),name:`${e.prefix}_familyZipCode`,placeholder:"请输入",required:P("homePostalCode"),"validate-type":[u(B).ZIP_CODE]},null,8,["modelValue","label","name","required","validate-type"])):v("",!0),D("workAddress")?(m(),f(g,{key:36,modelValue:U.value.formInfo.extInfo.workAreaCode,"onUpdate:modelValue":l[55]||(l[55]=e=>U.value.formInfo.extInfo.workAreaCode=e),field1:U.value.formInfo.extInfo.workProvinceCode,"onUpdate:field1":l[56]||(l[56]=e=>U.value.formInfo.extInfo.workProvinceCode=e),field2:U.value.formInfo.extInfo.workCityCode,"onUpdate:field2":l[57]||(l[57]=e=>U.value.formInfo.extInfo.workCityCode=e),field3:U.value.formInfo.extInfo.workAreaCode,"onUpdate:field3":l[58]||(l[58]=e=>U.value.formInfo.extInfo.workAreaCode=e),label:$("workAddress","title"),name:`${e.prefix}_workProvinceCode`,placeholder:"请选择","is-link":"",required:P("workAddress"),"data-source":u(C),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","label","name","required","data-source"])):v("",!0),D("workAddressDetail")?(m(),f(r,{key:37,modelValue:U.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":l[59]||(l[59]=e=>U.value.formInfo.extInfo.workAddress=e),label:$("workAddressDetail","title"),name:`${e.prefix}_workAddress`,placeholder:"请输入",rules:[{validator:(...e)=>Q(100,...e)}],required:P("workAddressDetail")},null,8,["modelValue","label","name","rules","required"])):v("",!0),D("workPostalCode")?(m(),f(r,{key:38,modelValue:U.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":l[60]||(l[60]=e=>U.value.formInfo.extInfo.workZipCode=e),label:$("workPostalCode","title"),required:P("workZipCode"),name:`${e.prefix}_workPostCode`,placeholder:"请输入","validate-type":[u(B).ZIP_CODE]},null,8,["modelValue","label","required","name","validate-type"])):v("",!0),D("companyName")?(m(),f(r,{key:39,modelValue:U.value.formInfo.extInfo.workStation,"onUpdate:modelValue":l[61]||(l[61]=e=>U.value.formInfo.extInfo.workStation=e),label:$("companyName","title"),name:`${e.prefix}_workPostCode`,placeholder:"请输入",rules:[{validator:(...e)=>Q(20,...e)}],required:P("companyName")},null,8,["modelValue","label","name","rules","required"])):v("",!0),D("workContent")?(m(),f(r,{key:40,modelValue:U.value.formInfo.extInfo.workContent,"onUpdate:modelValue":l[62]||(l[62]=e=>U.value.formInfo.extInfo.workContent=e),label:$("workContent","title"),name:`${e.prefix}_workContent`,required:P("workContent"),placeholder:"请输入",rules:[{validator:(...e)=>Q(100,...e)}]},null,8,["modelValue","label","name","required","rules"])):v("",!0),D("chineseTaxResident")?(m(),f(r,{key:41,modelValue:U.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[64]||(l[64]=e=>U.value.formInfo.extInfo.chineseTaxResident=e),label:$("chineseTaxResident","title"),name:`${e.prefix}_taxResident`,required:P("chineseTaxResident"),placeholder:"请输入"},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.chineseTaxResident,"onUpdate:modelValue":l[63]||(l[63]=e=>U.value.formInfo.extInfo.chineseTaxResident=e),"is-view":e.isView,options:$("chineseTaxResident","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("taxResident")?(m(),f(t,{key:42,modelValue:U.value.formInfo.taxResident,"onUpdate:modelValue":l[65]||(l[65]=e=>U.value.formInfo.taxResident=e),label:$("taxResident","title"),name:`${e.prefix}_benefitOrder`,"data-source":$("taxResident","attributeValueList")||[],required:P("taxResident")},null,8,["modelValue","label","name","data-source","required"])):v("",!0),D("partTimeJob")?(m(),f(r,{key:43,modelValue:U.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[67]||(l[67]=e=>U.value.formInfo.extInfo.isPartTime=e),label:$("partTimeJob","title"),name:`${e.prefix}_isPartTime`,required:P("partTimeJob"),placeholder:"请输入"},{input:c((()=>[p(o,{modelValue:U.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":l[66]||(l[66]=e=>U.value.formInfo.extInfo.isPartTime=e),"is-view":e.isView,options:$("partTimeJob","attributeValueList")||[]},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","label","name","required"])):v("",!0),D("gasNumberCollection")?(m(),f(r,{key:44,modelValue:U.value.formInfo.extInfo.gasNumberCollection,"onUpdate:modelValue":l[68]||(l[68]=e=>U.value.formInfo.extInfo.gasNumberCollection=e),label:$("gasNumberCollection","title"),name:`${e.prefix}_gasNumberCollection`,required:P("gasNumberCollection"),placeholder:"请输入",rules:[{validator:(...e)=>Q(100,...e)}]},null,8,["modelValue","label","name","required","rules"])):v("",!0),D("benefitOrder")?(m(),f(t,{key:45,modelValue:U.value.formInfo.benefitOrder,"onUpdate:modelValue":l[69]||(l[69]=e=>U.value.formInfo.benefitOrder=e),label:$("benefitOrder","title"),name:`${e.prefix}_benefitOrder`,"data-source":$("benefitOrder","attributeValueList")||[],required:P("benefitOrder")},null,8,["modelValue","label","name","data-source","required"])):v("",!0),D("benefitRate")?(m(),f(r,{key:46,modelValue:U.value.formInfo.benefitRate,"onUpdate:modelValue":l[70]||(l[70]=e=>U.value.formInfo.benefitRate=e),required:P("benefitRate"),name:`${e.prefix}_benefitRate`,rules:[{validator:W}],label:$("benefitRate","title")},{extra:c((()=>[se])),_:1},8,["modelValue","required","name","rules","label"])):v("",!0)])):v("",!0)}}});const ce={class:"page-info-wrapper"},pe={key:0,class:"beneficiary-part"},ve={class:"part-title"},Ie={class:"title"},ye=y("删除"),be=a({props:{factorObject:null,formData:{default:()=>({})},isView:{type:Boolean,default:!1},sendSmsCode:{type:Function,default:e=>{}}},setup(e,{expose:a}){const l=e;x(),o();const n=r({}),t=r({tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),u=r(null),y=r([]),h=r([]);r([]),r([]);const V=r([]);g({beneficiaryId:0,nextPage:"",currentAddress:null,isLoading:!0});return a({validateForm:()=>new Promise(((e,a)=>{u.value?.validate().then((()=>{e(t.value)}),(()=>{a()}))}))}),i((()=>l.factorObject),(()=>{const e={BENEFICIARY:l.factorObject[3],INSURER:l.factorObject[2],HOLDER:l.factorObject[1]};n.value=e}),{immediate:!0,deep:!0}),i([()=>t.value.tenantOrderInsuredList[0].relationToHolder,()=>t.value.tenantOrderHolder],(()=>{`${t.value.tenantOrderInsuredList[0].relationToHolder}`===S.SELF&&Object.assign(t.value.tenantOrderInsuredList[0],t.value.tenantOrderHolder,{id:t.value.tenantOrderInsuredList[0].id,extInfo:{...t.value.tenantOrderHolder.extInfo,insureProvinceCode:t.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,insureCityCode:t.value.tenantOrderInsuredList[0].extInfo.insureCityCode,insureAreaCode:t.value.tenantOrderInsuredList[0].extInfo.insureAreaCode}})}),{deep:!0,immediate:!0}),(a,l)=>{const o=d("ProCard"),r=d("ProSvg"),i=d("ProForm");return m(),s("div",ce,[p(i,{ref_key:"formRef",ref:u,"show-error":"","show-error-message":!1,"input-align":"left"},{default:c((()=>[n.value.HOLDER?.length?(m(),f(o,{key:0,"show-divider":!1,title:"本人信息（投保人）"},{default:c((()=>[p(fe,{images:y.value,"onUpdate:images":l[0]||(l[0]=e=>y.value=e),"form-info":t.value.tenantOrderHolder,"factor-list":n.value.HOLDER,prefix:"holder","is-view":e.isView,"send-sms-code":e.sendSmsCode},null,8,["images","form-info","factor-list","is-view","send-sms-code"])])),_:1})):v("",!0),n.value.INSURER?.length?(m(),f(o,{key:1,"show-divider":!1,title:"为谁投保（被保人）"},{default:c((()=>[1!=+t.value.tenantOrderInsuredList[0].relationToHolder?(m(),f(fe,{key:0,images:h.value,"onUpdate:images":l[1]||(l[1]=e=>h.value=e),"form-info":t.value.tenantOrderInsuredList[0],"factor-list":n.value.INSURER||[],prefix:"insure","send-sms-code":e.sendSmsCode,"is-view":e.isView},null,8,["images","form-info","factor-list","send-sms-code","is-view"])):v("",!0)])),_:1})):v("",!0),n.value.BENEFICIARY?.length?(m(),f(o,{key:2,"show-divider":!1,title:"受益人"},{default:c((()=>[2==t.value.tenantOrderInsuredList[0].insuredBeneficiaryType?(m(),s("div",pe,[(m(!0),s(w,null,C(t.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList,((a,o)=>(m(),s("div",{key:a.beneficiaryId||a.id,class:"beneficiary-item"},[I("div",ve,[I("span",Ie,b(`受益人${o+1}`),1),p(r,{name:"delete",onClick:e=>{return l=a,void(t.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=t.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.filter((e=>e.beneficiaryId!==l.beneficiaryId||l.id!==e.id)));var l}},{default:c((()=>[ye])),_:2},1032,["onClick"])]),p(fe,{images:V.value,"onUpdate:images":l[2]||(l[2]=e=>V.value=e),"form-info":a,"factor-list":n.value.BENEFICIARY||[],prefix:`beneficiary-${o}`,"is-view":e.isView,"send-sms-code":e.sendSmsCode,"beneficiary-list":t.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList},null,8,["images","form-info","factor-list","prefix","is-view","send-sms-code","beneficiary-list"])])))),128))])):v("",!0)])),_:1})):v("",!0)])),_:1},512)])}}});const he={class:"footer-button"},Ve=y("分享用户确认投保"),xe=a({setup(e){const a=le(),l=x(),n=o(),{productCode:y="03O4",tenantId:b="0",orderNo:h,phoneNo:C,agentCode:E="",saleChannelId:H,paymentMethod:B,certNo:Y,name:z,pageCode:K,from:G}=n.query,te=r(),ie=r({}),de=r(),ue=r(),me=r({}),se="payBack"===K,fe=r(!1),ce=r(!1),pe=r(!1),ve=r(0),Ie=r(!1),ye=r(!1),xe=r({show:!1,html:""});let ge="";const we=g({holder:{certNo:Y,certType:F.CERT,mobile:C,name:z,socialFlag:D.HAS},insured:{certNo:Y,certType:F.CERT,name:z,socialFlag:D.HAS,relationToHolder:S.SELF},paymentMethod:B,renewalDK:"Y",paymentFrequency:P.YEAR,packageProductList:[],mobileSmsCode:""}),Ce=()=>{te.value&&te.value.validateForm().then((e=>{}))},ke=t((()=>ie.value?.tenantProductInsureVO?.attachmentVOList.filter((e=>"健康告知"===e.attachmentName))||[])),Te=t((()=>ie.value?.tenantProductInsureVO?.attachmentVOList.filter((e=>"健康告知"!==e.attachmentName))||[])),Ue=e=>`${Z}/internet/payFail?tenantId=${b}&orderNo=${e}&agentCode=${E}&pageCode=payBack&from=${G||"normal"}`,qe=async e=>{const a=ee({tenantId:b,saleUserId:E,saleChannelId:H,detail:ie.value,insureDetail:de.value,paymentMethod:we.paymentMethod,paymentFrequency:we.paymentFrequency,renewalDK:we.renewalDK,iseeBizNo:ge,successJumpUrl:"",premium:ue.value,holder:we.holder,insured:we.insured,tenantOrderRiskList:e,orderStatus:"",orderTopStatus:""});try{const e=await N(a),{code:o,data:r}=e;"10000"===o&&(async e=>{V.loading({message:"核保中...",forbidClick:!0});try{const a=await A(e),{code:l}=a;if("10000"===l){V.loading({message:"核保中...",forbidClick:!0});const a=await R({orderNo:e.orderNo,tenantId:b}),{data:l}=a;"10000"===a.code&&(2===l.type?(xe.value={show:!0,html:l.paymentUrl},q((()=>{const e=document.getElementById("cashierSubmit");e?.addEventListener("submit",(e=>{e.preventDefault()})),e?.submit()}))):window.location.href=l.paymentUrl)}}catch(a){}})({...a,orderNo:r.data,extInfo:{extraInfo:{renewalDK:we.renewalDK,paymentMethod:we.paymentMethod,paymentFrequency:we.paymentFrequency,successJumpUrl:(l=r.data,`${Z}/pay?orderNo=${l}&saleUserId=${E}&tenantId=${b}`),failUrl:Ue(r.data)},iseeBizNo:ge}})}catch(o){}var l},_e=()=>new Promise(((e,a)=>{te.value?.validateForm?.().then((async()=>{if(!(()=>{if(we.holder.certNo){const e=ae(we.holder.certNo,"year"),a=j(we.holder.certNo);if(e<18)return V("投保人年龄必须大于18岁！"),!1;if(we.insured.certNo&&we.insured.relationToHolder===S.MATE&&a===j(we.insured.certNo))return V("被保人为配偶时，性别不可相同！"),!1}if(we.insured.certNo){const e=ae(we.insured.certNo,"day"),a=ae(we.insured.certNo,"year");if(we.insured.relationToHolder===S.CHILD&&e<30)return V("被保人为子女时，年龄必须大于等于30天！"),!1;if(we.insured.relationToHolder===S.PARENT&&a>=71)return V("被保人为父母时，年龄必须小于等于70岁！"),!1}if([S.CHILD,S.PARENT].includes(we.insured.relationToHolder)){const e=ae(we.holder.certNo,"year"),a=ae(we.insured.certNo,"year");if(we.insured.relationToHolder===S.CHILD&&e-a<18)return V("投保人和子女年龄必须相差18岁！"),!1;if(we.insured.relationToHolder===S.PARENT&&a-e<18)return V("投保人和父母年龄必须相差18岁！"),!1}return!0})())return;if(!(te.value?.isAgreeFile||fe.value))return fe.value=!1,pe.value=!0,void(e=>{ve.value=e,pe.value=!0})(0);const{calcData:l,riskVOList:o}=J({holder:we.holder,insured:we.insured,tenantId:b,productDetail:ie.value,insureDetail:de.value,paymentFrequency:we.paymentFrequency,packageRiskIdList:W(we.packageProductList)},!1,Q);(!Array.isArray(o)||o.length<1)&&(ue.value=null,a(new Error));const r=await _(l),{code:n,data:t}=r;"10000"===n?(ue.value=t.premium,e({condition:o,data:t})):(ue.value=null,a(new Error))})).catch((()=>{}))})),Le=async()=>{if(se)l.push({path:"/internet/guaranteeUpgrade",query:{...n.query,tenantId:b,productCode:"BWYL2022",orderNo:h,agentCode:E}});else try{const{condition:e,data:a}=await _e(),l={},o=(e=[])=>{(e||[]).forEach((e=>{l[e.riskCode]=e,e.riskPremiumDetailVOList?.length&&o(e.riskPremiumDetailVOList)}))};o(a.riskPremiumDetailVOList);const r=X({tenantId:b,riskList:e,riskPremium:l,productId:ie.value?.id});qe(r)}catch(e){}},Oe=e=>{"allFalse"===e?(ce.value=!1,fe.value=!0,Le()):U.confirm({message:"您当前的健康状况不符合该产品",confirmButtonText:"确定"}).then((()=>{window.history.back()})).catch((()=>{te.value?.reEditForm(),fe.value=!1}))},Ne=()=>{te.value?.reEditForm(),fe.value=!1},Ae=()=>{ce.value=!1,Ne()},Re=()=>{pe.value=!1,Ne()},Ee=()=>{pe.value=!1,ce.value=!0};i([()=>we.insured.certNo,()=>we.insured.socialFlag,()=>we.packageProductList,()=>we.paymentFrequency],k.exports.debounce((()=>{we.insured.certNo&&we.insured.socialFlag&&(()=>{const{holder:{certNo:e,mobile:a,name:l,socialFlag:o},insured:{certNo:r,name:n,socialFlag:t,relationToHolder:i},paymentMethod:d}=we;return!(!M(r)||!t)})()&&(async()=>{const{calcData:e,riskVOList:a}=J({holder:we.holder,insured:we.insured,tenantId:b,productDetail:ie.value,insureDetail:de.value,paymentFrequency:we.paymentFrequency,packageRiskIdList:W(we.packageProductList)},!1,Q);if(!Array.isArray(a)||a.length<1)return ue.value=null,{};const l=await _(e),{code:o,data:r}=l;"10000"===o?ue.value=r.premium:ue.value=null})()}),500),{deep:!0,immediate:!0});const Se=async()=>{const e=await O({orderNo:h,tenantId:b}),{code:a,data:l}=e;if("10000"===a){const{tenantOrderHolder:e,tenantOrderInsuredList:a,extInfo:o}=l;if(!se)return void Object.assign(we,{holder:{certNo:e.certNo,certType:e.certType,mobile:e.mobile,name:e.name,socialFlag:D.HAS},insured:{certNo:a?.[0].certNo,certType:a[0]?.certType,name:a[0]?.name,socialFlag:a[0]?.extInfo?.hasSocialInsurance,relationToHolder:a[0]?.relationToHolder},paymentMethod:o.extraInfo.paymentMethod,paymentFrequency:o.extraInfo.paymentFrequency,renewalDK:o.extraInfo.renewalDK||"N"});Object.assign(we,{holder:{certNo:e.certNo,certType:e.certType,mobile:e.mobile,name:e.name,socialFlag:D.HAS},insured:{certNo:a?.[0].certNo,certType:a[0]?.certType,name:a[0]?.name,socialFlag:a[0]?.extInfo?.hasSocialInsurance,relationToHolder:a[0]?.relationToHolder},paymentMethod:o.extraInfo.paymentMethod,paymentFrequency:o.extraInfo.paymentFrequency,renewalDK:o.extraInfo.renewalDK||"N"}),ue.value=a[0]?.tenantOrderProductList?.[0]?.premium,l.orderStatus!==oe.ACCEPT_POLICY&&l.orderStatus!==oe.PAYMENT_SUCCESS||(Ie.value=!1,ye.value=!0),l.orderStatus===oe.PAYING&&(Ie.value=!0,setTimeout((()=>{Se()}),3e3))}};return T((()=>{(async()=>{const{code:e,data:a}=await L({productCode:y});"10000"===e&&(we.packageProductList=(a.data?.packageProductVOList||[]).map((e=>({...e,value:$.UN_INSURE,disabled:!1}))),de.value=a.data,me.value=a.productFactor),h&&Se()})(),setTimeout((async()=>{ge=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,l)=>{const o=d("van-button"),r=d("ProPageWrap"),n=d("van-config-provider");return m(),s(w,null,[p(n,{"theme-vars":u(a)},{default:c((()=>[p(r,{class:"net-sale-wrap"},{default:c((()=>[p(be,{ref_key:"formRef",ref:te,"form-info":ie.value,"send-sms-code":()=>{},"factor-object":me.value},null,8,["form-info","send-sms-code","factor-object"]),I("div",he,[p(o,{type:"primary",block:"",onClick:Ce},{default:c((()=>[Ve])),_:1})])])),_:1})])),_:1},8,["theme-vars"]),p(re,{show:ce.value,"onUpdate:show":l[0]||(l[0]=e=>ce.value=e),"content-list":u(ke),"active-index":0,onOnConfirmHealth:Oe,onOnCloseHealth:Ae},null,8,["show","content-list"]),pe.value?(m(),f(ne,{key:0,show:pe.value,"onUpdate:show":l[1]||(l[1]=e=>pe.value=e),"content-list":u(Te),"active-index":ve.value,text:"我已逐页阅读并确认告知内容","force-read-cound":2,"on-close-file-preview":"",onSubmit:Ee,onOnCloseFilePreview:Re},null,8,["show","content-list","active-index"])):v("",!0)],64)}}});e("default",K(xe,[["__scopeId","data-v-7093cf5d"]]))}}}))}();
