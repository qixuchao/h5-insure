import{g,af as N,r as A,h as s,m as n,y as a,I as k,z as d,d as P,n as u,k as c,ah as v,s as f,B as i,D as U,T as x,C as F,x as M,X as R,M as O,j as S,E as Y,F as $}from"./vendor-ee04cf44.js";import{_ as B,P as I,s as L}from"./index-650d668b.js";import{O as V,a as C,d as j,g as w}from"./order-790a7402.js";import"./utils-b6782348.js";const G={class:"com-order-item"},H={class:"header"},W={class:"product-name"},q={class:"company-name"},z={class:"status"},J={class:"holder"},X={class:"footer"},K={class:"fee"},Q=i(" \u4FDD\u8D39\uFF1A"),Z={class:"money"},tt={key:0,class:"buttons"},et=i("\u5220\u9664"),st=i("\u53BB\u5904\u7406"),ot={key:1,class:"buttons"},at=i("\u5220\u9664"),dt=i("\u53BB\u652F\u4ED8"),nt={key:2,class:"buttons"},ut=i("\u5220\u9664"),ct=i("\u53BB\u652F\u4ED8"),it={key:3,class:"buttons"},lt={key:4,class:"buttons"},rt={key:5,class:"buttons"},_t=i("\u5220\u9664"),ht={key:6,class:"buttons"},mt=i("\u5220\u9664"),vt=g({props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup(e,{emit:E}){const l=e,y=N(),r=()=>{U.confirm({title:"\u786E\u8BA4",message:"\u786E\u8BA4\u5220\u9664\u8BA2\u5355\uFF1F"}).then(()=>{j(l.detail.id).then(o=>{const{code:_,data:t}=o;_==="10000"&&(x.success("\u5220\u9664\u6210\u529F"),E("afterDelete"))})})},D=()=>{const{goodsCode:o,orderNo:_,id:t,saleUserId:h,templateId:p,tenantId:m}=l.detail;y.push({path:I.payInfo,query:{productCode:o,orderNo:_,orderId:t,saleUserId:h,templateId:p,tenantId:m}})},b=()=>{const{goodsCode:o,orderNo:_,id:t,saleUserId:h,templateId:p,tenantId:m}=l.detail;y.push({path:I[l.detail.pageCode],query:{productCode:o,orderNo:_,orderId:t,saleUserId:h,templateId:p,tenantId:m}})};return(o,_)=>{const t=A("van-button");return s(),n("div",G,[a("div",H,[a("div",W,k(e.detail.goodsName),1),a("div",q,k(e.detail.companyName),1),a("div",z,k(d(V)[e.detail.orderStatus]),1)]),a("div",J," \u6295\u4FDD\u4EBA\uFF1A "+k(e.detail.policyHolder)+" "+k(d(P)(e.detail.orderStartDate).format("YYYY-MM-DD HH:mm:ss")),1),a("div",X,[a("div",K,[Q,a("span",Z,"\uFFE5"+k(e.detail.prem),1)]),e.detail.orderStatus===d(C).PENDING?(s(),n("div",tt,[u(t,{class:"button",onClick:v(r,["stop"])},{default:c(()=>[et]),_:1},8,["onClick"]),u(t,{class:"button primary",onClick:v(b,["stop"])},{default:c(()=>[st]),_:1},8,["onClick"])])):f("",!0),e.detail.orderStatus===d(C).PAYING?(s(),n("div",ot,[u(t,{class:"button",onClick:v(r,["stop"])},{default:c(()=>[at]),_:1},8,["onClick"]),u(t,{class:"button primary",onClick:v(D,["stop"])},{default:c(()=>[dt]),_:1},8,["onClick"])])):f("",!0),e.detail.orderStatus===d(C).PAYMENT_FAILED?(s(),n("div",nt,[u(t,{class:"button",onClick:v(r,["stop"])},{default:c(()=>[ut]),_:1},8,["onClick"]),u(t,{class:"button primary",onClick:v(D,["stop"])},{default:c(()=>[ct]),_:1},8,["onClick"])])):f("",!0),e.detail.orderStatus===d(C).PAYMENT_SUCCESS?(s(),n("div",it)):f("",!0),e.detail.orderStatus===d(C).UNDERWRITE?(s(),n("div",lt)):f("",!0),e.detail.orderStatus===d(C).INSURER_REJECT?(s(),n("div",rt,[u(t,{class:"button",onClick:v(r,["stop"])},{default:c(()=>[_t]),_:1},8,["onClick"])])):f("",!0),e.detail.orderStatus===d(C).TIMEOUT?(s(),n("div",ht,[u(t,{class:"button",onClick:v(r,["stop"])},{default:c(()=>[mt]),_:1},8,["onClick"])])):f("",!0)])])}}});var pt=B(vt,[["__scopeId","data-v-cf309272"]]);const ft={class:"page-order"},Ct={class:"body"},kt=g({setup(e){const E=N(),l=F(0),y=F([]),r=[{title:"\u5168\u90E8",status:""},{title:"\u5F85\u5904\u7406",status:"-1"},{title:"\u5F85\u652F\u4ED8",status:"0"},{title:"\u5DF2\u5B8C\u6210",status:"1"},{title:"\u5DF2\u5931\u6548",status:"2"}],D=M(()=>r[l.value].status),b=t=>{E.push(`/orderDetail?id=${t.id}`)},o=()=>{w({condition:{orderTopStatus:D.value}}).then(t=>{const{code:h,data:p}=t;h==="10000"&&(y.value=p.datas)})},_=()=>{o()};return R(D,()=>{o()}),O(()=>{o()}),(t,h)=>{const p=A("ProPageWrap");return s(),S(p,null,{default:c(()=>[a("div",ft,[u(L,{active:l.value,"onUpdate:active":h[0]||(h[0]=m=>l.value=m),list:r,"small-gap":"",class:"tab"},null,8,["active"]),a("div",Ct,[(s(!0),n($,null,Y(y.value,(m,T)=>(s(),S(pt,{key:T,detail:m,onClick:yt=>b(m),onAfterDelete:_},null,8,["detail","onClick"]))),128))])])]),_:1})}}});var St=B(kt,[["__scopeId","data-v-139e466c"]]);export{St as default};
