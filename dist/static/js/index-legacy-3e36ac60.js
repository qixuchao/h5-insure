!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-select .com-select-container[data-v-9c6de82e]{padding:.4rem}.com-select .com-select-container .radio-item[data-v-9c6de82e]{margin:.26667rem 0}.com-select .com-select-container .radio-item .radio-item-wrapper[data-v-9c6de82e]{padding:0 .42667rem}.com-select .com-select-container .radio-item .radio-item-wrapper p[data-v-9c6de82e]{font-size:.4rem;font-family:PingFangSC-Semibold,PingFang SC,serif;color:#393d46;margin:.06667rem 0}.com-select .com-select-container .radio-item .radio-item-wrapper .name[data-v-9c6de82e]{font-weight:600;margin-right:.4rem}.com-select .com-select-container .radio-item .radio-item-wrapper .phone[data-v-9c6de82e]{font-weight:400}@charset "UTF-8";.page-info-wrapper{padding-bottom:2rem}.page-info-wrapper .com-card .com-card-wrap .body{padding:0}.page-info-wrapper .beneficiary-part .part-title{display:flex;align-items:center;justify-content:space-between;padding:0 var(--zaui-card-border, .4rem);background-color:#f2f5fc;height:1.2rem}.page-info-wrapper .beneficiary-part .part-title .title{font-size:.4rem;font-family:PingFangSC-Semibold,PingFang SC,self;font-weight:600;color:#393d46}.page-info-wrapper .radio-item-wrapper{padding:0}.page-info-wrapper .radio-item-wrapper p{font-size:.4rem;font-family:PingFangSC-Semibold,PingFang SC,serif;color:#393d46;margin:.06667rem 0}.page-info-wrapper .radio-item-wrapper .name{font-weight:600;margin-right:.4rem}.page-info-wrapper .radio-item-wrapper .phone{font-weight:400}\n',document.head.appendChild(e),System.register(["./vendor-legacy-bdaab2e2.js","./index-legacy-93706d9f.js","./index-legacy-d9437e33.js","./index-legacy-00fc84c4.js","./useDicData-legacy-dbcbc4e9.js","./index-legacy-4e735ae7.js"],(function(e){"use strict";var t,a,n,r,o,d,i,l,s,c,u,m,f,p,v,y,I,g,O,L,h,b,E,w,R,T,C,H,V,_,x,B,P,S;return{setters:[function(e){t=e.g,a=e.C,n=e.X,r=e.r,o=e.h,d=e.j,i=e.k,l=e.y,s=e.n,c=e.m,u=e.E,m=e.I,f=e.F,p=e.B,v=e.aj,y=e.Q,I=e.a5,g=e.L,O=e.x,L=e.o,h=e.z,b=e.s},function(e){E=e._,w=e.q,R=e.G,T=e.F,C=e.P},function(e){H=e.c,V=e.n,_=e.a},function(e){x=e._,B=e.R,P=e.B,S=e.a},function(){},function(){}],execute:function(){const A={class:"com-select-container"},N={class:"radio-item-wrapper"},j={class:"name"},k={class:"hone"},U={class:"address"},F={class:"footer-button"},D=p("取消"),z=p("确认"),q=t({props:{dataSource:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:null}},emits:["update","update:modelValue","submit","close"],setup(e,{emit:t}){const p=e,v=a(p.modelValue),y=a(p.show),I=()=>{t("submit",v.value),y.value=!1},g=()=>{t("close")};return n((()=>p.modelValue),(e=>{v.value=e})),n((()=>v.value),(e=>{t("update:modelValue",e)})),(t,a)=>{const n=r("van-radio"),p=r("van-radio-group"),O=r("VanButton");return o(),d(w,{show:y.value,"onUpdate:show":a[1]||(a[1]=e=>y.value=e),class:"com-select",title:"选择保单通讯信息",onClose:g},{default:i((()=>[l("div",A,[s(p,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e)},{default:i((()=>[(o(!0),c(f,null,u(e.dataSource,((e,t)=>(o(),d(n,{key:t,name:t+1,class:"radio-item"},{default:i((()=>[l("div",N,[l("p",null,[l("span",j,m(e.contactName),1),l("span",k,m(e.contactPhoneNo),1)]),l("p",U,m(e.contactAddress),1)])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])]),l("div",F,[s(O,{plain:"",type:"primary"},{default:i((()=>[D])),_:1}),s(O,{type:"primary",onClick:I},{default:i((()=>[z])),_:1})])])),_:1},8,["show"])}}});var Y=E(q,[["__scopeId","data-v-9c6de82e"]]);const G={key:0,class:"beneficiary-part"},M={class:"part-title"},Q={class:"title"},W=p("删除"),X=p("+添加受益人"),$=p("选择保单通讯信息"),J={class:"radio-item-wrapper"},K={class:"name"},Z={class:"hone"},ee={class:"address"},te={class:"footer-button"},ae=p("下一步");e("default",t({setup(e){const t=v(),p=y(),{templateId:E=1,orderNo:w="2022072710380711215",tenantId:A="9991000007"}=p.query,[N,j]=I(),k="/infoPreview"===p.path?"infoPreview":"infoCollection",U=a({}),F=a({extInfo:{pageCode:k},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0}}),D=a(null),z=a([]),q=a([]),ne=a([]),re=a([]),oe=a([]),de=g({beneficiaryId:0,addressList:[],nextPage:"",currentAddress:null,isLoading:!0}),ie=O((()=>{var e,t;return de.currentAddress?de.addressList[de.currentAddress]:(null===(e=F.value.extInfo)||void 0===e||null===(t=e.contactInfo)||void 0===t?void 0:t[0])||{}})),le=()=>{const e={...F.value};e.extInfo={...e.extInfo,contactInfo:[ie.value]},e.tenantOrderAttachmentList=[{category:R.OBVERSE_CERT,objectType:T.HOLDER,objectId:F.value.tenantOrderHolder.id,name:"投保人证件正面",uri:z.value[0],id:ne.value[0]},{category:R.REVERSE_CERT,objectType:T.HOLDER,objectId:F.value.tenantOrderHolder.id,name:"投保人证件背面",uri:z.value[1],id:ne.value[1]},{category:R.OBVERSE_CERT,objectType:T.INSURED,objectId:F.value.tenantOrderInsuredList[0].id,name:"被保人证件正面",uri:q.value[0],id:re.value[1]},{category:R.REVERSE_CERT,objectType:T.INSURED,objectId:F.value.tenantOrderInsuredList[0].id,name:"被保人证件背面",uri:q.value[1],id:re.value[1]}],D.value.validate().then((a=>{V(e).then((({code:e,data:a})=>{"10000"===e&&"jumpToPage"===a.pageAction.pageAction&&t.push({path:C[a.pageAction.data.nextPageCode],query:p.query})}))}))},se=e=>{},ce=()=>{de.beneficiaryId+=1,F.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.push({id:de.beneficiaryId,extInfo:{}})};return L((()=>{_({orderNo:w,tenantId:A}).then((({code:e,data:t})=>{if("10000"===e){const e=t;e.extInfo={...e.extInfo,pageCode:k,templateId:E},e.tenantOrderHolder=e.tenantOrderHolder||{},e.tenantOrderHolder.extInfo=e.tenantOrderHolder.extInfo||{},e.tenantOrderInsuredList[0].extInfo=e.tenantOrderInsuredList[0].extInfo||{},e.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=e.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.map((e=>{const t=e;return t.extInfo={},t})),e.tenantOrderAttachmentList.forEach((e=>{e.category===R.OBVERSE_CERT?e.objectType===T.HOLDER?(z.value[0]=e.uri,ne.value[0]=e.id):e.objectType===T.INSURED&&(q.value[0]=e.uri,re.value[0]=e.id):e.category===R.REVERSE_CERT&&(e.objectType===T.HOLDER?(z.value[1]=e.uri,ne.value[1]=e.id):e.objectType===T.INSURED&&(q.value[1]=e.uri,ne.value[1]=e.id))})),Object.assign(F.value,e)}})).finally((()=>{de.isLoading=!1})),H({pageCode:"infoCollection",templateId:E}).then((({code:e,data:t})=>{if("10000"===e){const e={BENEFICIARY:[],INSURER:[],HOLDER:[]};t.productInsureFactorList.forEach((t=>{(e[t.moduleType]=e[t.moduleType]||[]).push(t)})),U.value=e}}))})),n((()=>F.value),(e=>{if(e){var t,a,n,r,o,d,i,l,s,c;const u=[{contactAddress:null===(t=e.tenantOrderHolder)||void 0===t||null===(a=t.extInfo)||void 0===a?void 0:a.familyAddress,contactName:e.tenantOrderHolder.name,contactPhoneNo:e.tenantOrderHolder.mobile},{contactAddress:null===(n=e.tenantOrderHolder)||void 0===n||null===(r=n.extInfo)||void 0===r?void 0:r.workAddress,contactName:e.tenantOrderHolder.name,contactPhoneNo:e.tenantOrderHolder.mobile},{contactAddress:null===(o=e.tenantOrderInsuredList[0])||void 0===o||null===(d=o.extInfo)||void 0===d?void 0:d.familyAddress,contactName:null===(i=e.tenantOrderInsuredList[0])||void 0===i?void 0:i.name,contactPhoneNo:null===(l=e.tenantOrderInsuredList[0])||void 0===l?void 0:l.mobile},{contactAddress:null===(s=e.tenantOrderInsuredList[0])||void 0===s||null===(c=s.extInfo)||void 0===c?void 0:c.workAddress,contactName:e.tenantOrderInsuredList[0].name,contactPhoneNo:e.tenantOrderInsuredList[0].mobile}];de.addressList=u.filter((e=>e.contactAddress&&e.contactName&&e.contactPhoneNo))}}),{deep:!0,immediate:!0}),n((()=>F.value.tenantOrderInsuredList[0].relationToHolder),(e=>{1==+e&&Object.assign(F.value.tenantOrderInsuredList[0],F.value.tenantOrderHolder,{id:F.value.tenantOrderInsuredList[0].id})}),{deep:!0,immediate:!0}),(e,t)=>{const a=r("ProCard"),n=r("ProRadioButton"),p=r("ProField"),v=r("ProSvg"),y=r("VanButton"),I=r("ProCheckButton"),g=r("van-cell"),O=r("ProForm"),L=r("ProPageWrap");return o(),d(L,{class:"page-info-wrapper"},{default:i((()=>[h(de).isLoading?b("",!0):(o(),d(O,{key:0,ref_key:"formRef",ref:D},{default:i((()=>[s(a,{title:"投保人"},{default:i((()=>[s(x,{images:z.value,"onUpdate:images":t[0]||(t[0]=e=>z.value=e),"form-info":F.value.tenantOrderHolder,"factor-list":U.value.HOLDER},null,8,["images","form-info","factor-list"])])),_:1}),s(a,{title:"被保人"},{default:i((()=>[s(p,{modelValue:F.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":t[2]||(t[2]=e=>F.value.tenantOrderInsuredList[0].relationToHolder=e),label:"为谁保单",name:"relationToHolder",placeholder:"请选择"},{input:i((()=>[s(n,{modelValue:F.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":t[1]||(t[1]=e=>F.value.tenantOrderInsuredList[0].relationToHolder=e),options:h(B)},null,8,["modelValue","options"])])),_:1},8,["modelValue"]),1!=+F.value.tenantOrderInsuredList[0].relationToHolder?(o(),d(x,{key:0,images:q.value,"onUpdate:images":t[3]||(t[3]=e=>q.value=e),"form-info":F.value.tenantOrderInsuredList[0],"factor-list":U.value.INSURER||[]},null,8,["images","form-info","factor-list"])):b("",!0),s(p,{label:"投保地区",name:"type",placeholder:"请选择","is-link":""})])),_:1}),s(a,{title:"受益人"},{default:i((()=>[s(p,{modelValue:F.value.tenantOrderInsuredList[0].insuredBeneficiaryType,"onUpdate:modelValue":t[5]||(t[5]=e=>F.value.tenantOrderInsuredList[0].insuredBeneficiaryType=e),label:"受益人类型",name:"insuredBeneficiaryType",placeholder:"请选择"},{input:i((()=>[s(n,{modelValue:F.value.tenantOrderInsuredList[0].insuredBeneficiaryType,"onUpdate:modelValue":t[4]||(t[4]=e=>F.value.tenantOrderInsuredList[0].insuredBeneficiaryType=e),options:h(P)},null,8,["modelValue","options"])])),_:1},8,["modelValue"]),2==F.value.tenantOrderInsuredList[0].insuredBeneficiaryType?(o(),c("div",G,[(o(!0),c(f,null,u(F.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList,((e,a)=>(o(),c("div",{key:e.beneficiaryId||e.id,class:"beneficiary-item"},[l("div",M,[l("span",Q,m(`受益人${a+1}`),1),s(v,{name:"delete",onClick:t=>{return a=e,void(F.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=F.value.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.filter((e=>e.beneficiaryId!==a.beneficiaryId)));var a}},{default:i((()=>[W])),_:2},1032,["onClick"])]),s(x,{images:oe.value,"onUpdate:images":t[6]||(t[6]=e=>oe.value=e),"form-info":e,"factor-list":U.value.BENEFICIARY||[]},null,8,["images","form-info","factor-list"]),s(S,{"form-info":e,"factor-list":U.value.BENEFICIARY},null,8,["form-info","factor-list"])])))),128)),s(y,{onClick:ce},{default:i((()=>[X])),_:1})])):b("",!0)])),_:1}),s(a,{title:"保单通讯信息"},{default:i((()=>[Object.keys(h(ie)).length?(o(),d(g,{key:1,title:"单元格","is-link":"",onClick:t[8]||(t[8]=e=>h(j)(!0))},{title:i((()=>[l("div",J,[l("p",null,[l("span",K,m(h(ie).contactName),1),l("span",Z,m(h(ie).contactPhoneNo),1)]),l("p",ee,m(h(ie).contactAddress),1)])])),_:1})):(o(),d(I,{key:0,activated:"",onClick:t[7]||(t[7]=e=>h(j)(!0))},{default:i((()=>[$])),_:1}))])),_:1})])),_:1},512)),l("div",te,[s(y,{block:"",type:"primary",onClick:le},{default:i((()=>[ae])),_:1})]),h(N)?(o(),d(Y,{key:1,modelValue:h(de).currentAddress,"onUpdate:modelValue":t[9]||(t[9]=e=>h(de).currentAddress=e),show:h(N),"data-source":h(de).addressList,onSubmit:se,onClose:t[10]||(t[10]=e=>h(j)(!1))},null,8,["modelValue","show","data-source"])):b("",!0)])),_:1})}}}))}}}))}();
