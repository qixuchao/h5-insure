var te=Object.defineProperty,ne=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var W=(D,V,n)=>V in D?te(D,V,{enumerable:!0,configurable:!0,writable:!0,value:n}):D[V]=n,Y=(D,V)=>{for(var n in V||(V={}))de.call(V,n)&&W(D,n,V[n]);if(G)for(var n of G(V))se.call(V,n)&&W(D,n,V[n]);return D},X=(D,V)=>ne(D,re(V));import{g as j,C as g,x as J,r as B,h as l,m as L,z as a,j as r,k as c,n as f,s as d,d as z,X as U,y as k,E as K,I as _,F as ee,B as O,af as ie,Q as me,a5 as fe,L as pe,o as Ie}from"./vendor-94f9fb13.js";import{D as M,n as oe,E as ce,F as ve,G as ye,H as Z,_ as Ve,s as Be,P as be}from"./index-d223992d.js";import{c as Fe,n as Ee,a as Ae}from"./index-95d94299.js";import{u as Ce}from"./useDicData-70de984e.js";const De=[{label:"\u672C\u4EBA",value:"0"},{label:"\u914D\u5076",value:"1"},{label:"\u5B50\u5973",value:"2"},{label:"\u7236\u6BCD",value:"3"}],ke=[{label:"\u6CD5\u4EBA",value:"1"},{label:"\u6307\u5B9A",value:"2"}],xe=[{label:"\u672C\u4EBA",value:"1"},{label:"\u914D\u5076",value:"2"},{label:"\u5B50\u5973",value:"3"},{label:"\u7236\u6BCD",value:"4"},{label:"\u7956\u7236\u6BCD",value:"5"},{label:"\u517B\u7236\u6BCD",value:"6"},{label:"\u96C7\u4F63",value:"7"},{label:"\u5B59\u5B50\u5973",value:"8"},{label:"\u76D1\u62A4\u4EBA",value:"9"},{label:"\u5176\u4ED6",value:"10"}],ge={class:"com-beneficiary-wrapper"},Pe=j({props:{formInfo:{default:()=>({})},factorList:null},setup(D){const V=D,n=g({formInfo:V.formInfo}),C=J(()=>{const F={};return V.factorList.forEach(i=>{(F[i.code]=F[i.code]||[]).push(i)}),F});return(F,i)=>{const o=B("ProRadioButton"),s=B("ProField"),b=B("ProPicker"),e=B("ProDatePicker");return l(),L("div",ge,[a(C).relationToInsured?(l(),r(s,{key:0,modelValue:n.value.formInfo.relationToInsured,"onUpdate:modelValue":i[1]||(i[1]=t=>n.value.formInfo.relationToInsured=t),name:"relationToInsured",required:"",label:"\u662F\u88AB\u4FDD\u4EBA\u7684"},{input:c(()=>[f(o,{modelValue:n.value.formInfo.relationToInsured,"onUpdate:modelValue":i[0]||(i[0]=t=>n.value.formInfo.relationToInsured=t),options:a(xe)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),a(C).certType?(l(),r(b,{key:1,modelValue:n.value.formInfo.certType,"onUpdate:modelValue":i[2]||(i[2]=t=>n.value.formInfo.certType=t),label:"\u8BC1\u4EF6\u7C7B\u578B",name:"certType",readonly:"","data-source":a(M),required:""},null,8,["modelValue","data-source"])):d("",!0),a(C).certNo?(l(),r(s,{key:2,modelValue:n.value.formInfo.certNo,"onUpdate:modelValue":i[3]||(i[3]=t=>n.value.formInfo.certNo=t),name:"certNo",required:"",label:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])):d("",!0),a(C).name?(l(),r(s,{key:3,modelValue:n.value.formInfo.name,"onUpdate:modelValue":i[4]||(i[4]=t=>n.value.formInfo.name=t),required:"",name:"name",label:"\u59D3\u540D"},null,8,["modelValue"])):d("",!0),a(C).gender?(l(),r(s,{key:4,modelValue:n.value.formInfo.gender,"onUpdate:modelValue":i[6]||(i[6]=t=>n.value.formInfo.gender=t),required:"",name:"gender",label:"\u6027\u522B"},{input:c(()=>[f(o,{modelValue:n.value.formInfo.gender,"onUpdate:modelValue":i[5]||(i[5]=t=>n.value.formInfo.gender=t),options:a(oe)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),a(C).birthday?(l(),r(e,{key:5,modelValue:n.value.formInfo.birthday,"onUpdate:modelValue":i[7]||(i[7]=t=>n.value.formInfo.birthday=t),label:"\u51FA\u751F\u65E5\u671F",name:"birthday",required:""},null,8,["modelValue"])):d("",!0),a(C).certEndDate?(l(),r(e,{key:6,modelValue:n.value.formInfo.certEndDate,"onUpdate:modelValue":i[8]||(i[8]=t=>n.value.formInfo.certEndDate=t),label:"\u6709\u6548\u671F\u81F3",name:"certEndDate",required:""},null,8,["modelValue"])):d("",!0),a(C).country?(l(),r(b,{key:7,modelValue:n.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":i[9]||(i[9]=t=>n.value.formInfo.extInfo.nationalityCode=t),label:"\u56FD\u7C4D",name:"nationalityCode","data-source":a(M),required:""},null,8,["modelValue","data-source"])):d("",!0),a(C).beneficiaryType?(l(),r(b,{key:8,modelValue:n.value.formInfo.benefitOrder,"onUpdate:modelValue":i[10]||(i[10]=t=>n.value.formInfo.benefitOrder=t),label:"\u53D7\u76CA\u4EBA\u987A\u5E8F",name:"benefitOrder","data-source":a(M),required:""},null,8,["modelValue","data-source"])):d("",!0),f(s,{modelValue:n.value.formInfo.benefitRate,"onUpdate:modelValue":i[11]||(i[11]=t=>n.value.formInfo.benefitRate=t),name:"benefitRate",label:"\u53D7\u76CA\u6BD4\u4F8B"},null,8,["modelValue"])])}}}),Te={class:"com-personal-wrapper"},Q=j({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]}},emits:["update:images"],setup(D,{emit:V}){const n=D,C=Ce("CERT_TYPE"),F=g([]),i=g(!1),o=g({formInfo:n.formInfo,birth:{min:z(new Date("1900-01-01")).format("YYYY-MM-DD"),max:z(new Date).format("YYYY-MM-DD")},front:"",back:""}),s=J(()=>{const b={};return n.factorList.forEach(e=>{(b[e.code]=b[e.code]||[]).push(e)}),b});return U(()=>o.value.formInfo.certNo,b=>{ce(b)?(o.value.formInfo.gender=ve(b),o.value.formInfo.birthday=new Date(ye(b)),i.value=!0):i.value=!1},{deep:!0,immediate:!0}),U(()=>n.images,b=>{F.value=b},{immediate:!0}),U(F,b=>{V("update:images",b)},{deep:!0}),(b,e)=>{const t=B("ProPicker"),x=B("ProIDCardUpload"),m=B("ProField"),T=B("ProImageUpload"),E=B("ProRadioButton"),R=B("ProDatePicker");return l(),L("div",Te,[a(s).certType?(l(),r(t,{key:0,modelValue:o.value.formInfo.certType,"onUpdate:modelValue":e[0]||(e[0]=u=>o.value.formInfo.certType=u),label:"\u8BC1\u4EF6\u7C7B\u578B",name:"certType",readonly:"","data-source":a(C),mapping:{label:"name",value:"code",children:"child"},required:""},null,8,["modelValue","data-source"])):d("",!0),o.value.formInfo.certType+""=="1"?(l(),r(m,{key:1,label:"\u8EAB\u4EFD\u8BC1\u4E0A\u4F20",block:"",required:""},{input:c(()=>[f(x,{front:F.value[0],"onUpdate:front":e[1]||(e[1]=u=>F.value[0]=u),back:F.value[1],"onUpdate:back":e[2]||(e[2]=u=>F.value[1]=u)},null,8,["front","back"])]),_:1})):d("",!0),o.value.formInfo.certType&&o.value.formInfo.certType+""!="1"?(l(),r(m,{key:2,label:"\u8BC1\u4EF6\u4E0A\u4F20",block:"",required:""},{input:c(()=>[f(T,{modelValue:F.value,"onUpdate:modelValue":e[3]||(e[3]=u=>F.value=u),"max-count":1},null,8,["modelValue"])]),_:1})):d("",!0),a(s).certNo?(l(),r(m,{key:3,modelValue:o.value.formInfo.certNo,"onUpdate:modelValue":e[4]||(e[4]=u=>o.value.formInfo.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165","validate-type":o.value.formInfo.certType==="1"?["idCard"]:[]},null,8,["modelValue","validate-type"])):d("",!0),a(s).name?(l(),r(m,{key:4,modelValue:o.value.formInfo.name,"onUpdate:modelValue":e[5]||(e[5]=u=>o.value.formInfo.name=u),label:"\u59D3\u540D",name:"name",required:""},null,8,["modelValue"])):d("",!0),a(s).sex?(l(),r(m,{key:5,modelValue:o.value.formInfo.gender,"onUpdate:modelValue":e[7]||(e[7]=u=>o.value.formInfo.gender=u),required:"",label:"\u6027\u522B",name:"gender",placeholder:"\u8BF7\u9009\u62E9","is-view":i.value},{input:c(()=>[f(E,{modelValue:o.value.formInfo.gender,"onUpdate:modelValue":e[6]||(e[6]=u=>o.value.formInfo.gender=u),options:a(oe)},null,8,["modelValue","options"])]),_:1},8,["modelValue","is-view"])):d("",!0),a(s).birthday?(l(),r(R,{key:6,modelValue:o.value.formInfo.birthday,"onUpdate:modelValue":e[8]||(e[8]=u=>o.value.formInfo.birthday=u),label:"\u51FA\u751F\u65E5\u671F",name:"birthday",min:o.value.birth.min,max:o.value.birth.max,type:"date",required:"","is-view":i.value},null,8,["modelValue","min","max","is-view"])):d("",!0),a(s).certEndDate?(l(),r(R,{key:7,modelValue:o.value.formInfo.certEndDate,"onUpdate:modelValue":e[9]||(e[9]=u=>o.value.formInfo.certEndDate=u),label:"\u6709\u6548\u671F\u81F3",name:"certEndDate",type:"date",required:""},null,8,["modelValue"])):d("",!0),f(m,{label:"\u6237\u7C4D\u6240\u5728\u5730",name:"type",placeholder:"\u8BF7\u9009\u62E9","is-link":""}),a(s).hasSocialInsurance?(l(),r(m,{key:8,modelValue:o.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":e[11]||(e[11]=u=>o.value.formInfo.extInfo.hasSocialInsurance=u),label:"\u793E\u4FDD",name:"hasSocialInsurance",placeholder:"\u8BF7\u9009\u62E9"},{input:c(()=>[f(E,{modelValue:o.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":e[10]||(e[10]=u=>o.value.formInfo.extInfo.hasSocialInsurance=u),options:a(Z)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),a(s).occupation?(l(),r(m,{key:9,modelValue:o.value.formInfo.extInfo.occupationCode,"onUpdate:modelValue":e[12]||(e[12]=u=>o.value.formInfo.extInfo.occupationCode=u),label:"\u804C\u4E1A",name:"occupationCode",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),a(s).annualIncome?(l(),r(m,{key:10,modelValue:o.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":e[13]||(e[13]=u=>o.value.formInfo.extInfo.personalAnnualIncome=u),label:"\u4E2A\u4EBA\u5E74\u6536\u5165",name:"personalAnnualIncome",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).familyAnnualIncome?(l(),r(m,{key:11,modelValue:o.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":e[14]||(e[14]=u=>o.value.formInfo.extInfo.familyAnnualIncome=u),label:"\u5BB6\u5EAD\u5E74\u6536\u5165",name:"familyAnnualIncome",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).nation?(l(),r(m,{key:12,modelValue:o.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":e[15]||(e[15]=u=>o.value.formInfo.extInfo.nationalityCode=u),label:"\u56FD\u7C4D",name:"nationalityCode",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),a(s).marriage?(l(),r(m,{key:13,modelValue:o.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":e[17]||(e[17]=u=>o.value.formInfo.extInfo.hasUsCard=u),label:"\u7F8E\u56FD\u7EFF\u5361",name:"hasUsCard",placeholder:"\u8BF7\u9009\u62E9"},{input:c(()=>[f(E,{modelValue:o.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":e[16]||(e[16]=u=>o.value.formInfo.extInfo.hasUsCard=u),options:a(Z)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),a(s).marriage?(l(),r(m,{key:14,modelValue:o.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":e[18]||(e[18]=u=>o.value.formInfo.extInfo.marriageStatus=u),label:"\u5A5A\u59FB\u72B6\u51B5",name:"marriageStatus",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),a(s).educationDegree?(l(),r(m,{key:15,modelValue:o.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":e[19]||(e[19]=u=>o.value.formInfo.extInfo.educationDegree=u),label:"\u5B66\u5386",name:"educationDegree",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),a(s).mobile?(l(),r(m,{key:16,modelValue:o.value.formInfo.mobile,"onUpdate:modelValue":e[20]||(e[20]=u=>o.value.formInfo.mobile=u),label:"\u624B\u673A\u53F7\u7801",name:"mobile",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).email?(l(),r(m,{key:17,modelValue:o.value.formInfo.email,"onUpdate:modelValue":e[21]||(e[21]=u=>o.value.formInfo.email=u),label:"\u7535\u5B50\u90AE\u7BB1",name:"email",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).familyAddress?(l(),r(m,{key:18,label:"\u5BB6\u5EAD\u5730\u5740",name:"type",placeholder:"\u8BF7\u9009\u62E9"})):d("",!0),a(s).familyAddressDetail?(l(),r(m,{key:19,modelValue:o.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":e[22]||(e[22]=u=>o.value.formInfo.extInfo.familyAddress=u),label:"\u5730\u5740\u8BE6\u60C5",name:"familyAddress",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).familyPostCode?(l(),r(m,{key:20,modelValue:o.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":e[23]||(e[23]=u=>o.value.formInfo.extInfo.familyZipCode=u),label:"\u5BB6\u5EAD\u90AE\u7F16",name:"familyZipCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).workAddress?(l(),r(m,{key:21,label:"\u5DE5\u4F5C\u5730\u5740",name:"type",placeholder:"\u8BF7\u9009\u62E9"})):d("",!0),a(s).workAddressDetail?(l(),r(m,{key:22,modelValue:o.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":e[24]||(e[24]=u=>o.value.formInfo.extInfo.workAddress=u),label:"\u5730\u5740\u8BE6\u60C5",name:"workAddress",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).workZipCode?(l(),r(m,{key:23,modelValue:o.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":e[25]||(e[25]=u=>o.value.formInfo.extInfo.workZipCode=u),label:"\u5DE5\u4F5C\u90AE\u7F16",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).workPlace?(l(),r(m,{key:24,modelValue:o.value.formInfo.extInfo.workStation,"onUpdate:modelValue":e[26]||(e[26]=u=>o.value.formInfo.extInfo.workStation=u),label:"\u5355\u4F4D\u540D\u79F0",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).workContent?(l(),r(m,{key:25,modelValue:o.value.formInfo.extInfo.workContent,"onUpdate:modelValue":e[27]||(e[27]=u=>o.value.formInfo.extInfo.workContent=u),label:"\u5DE5\u4F5C\u5185\u5BB9",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).taxCert?(l(),r(m,{key:26,modelValue:o.value.formInfo.extInfo.taxResident,"onUpdate:modelValue":e[28]||(e[28]=u=>o.value.formInfo.extInfo.taxResident=u),label:"\u7A0E\u6536\u5C45\u6C11\u8EAB\u4EFD",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),a(s).partTime?(l(),r(m,{key:27,modelValue:o.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":e[30]||(e[30]=u=>o.value.formInfo.extInfo.isPartTime=u),label:"\u662F\u5426\u517C\u804C",name:"isPartTime",placeholder:"\u8BF7\u8F93\u5165"},{input:c(()=>[f(E,{modelValue:o.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":e[29]||(e[29]=u=>o.value.formInfo.extInfo.isPartTime=u),options:a(Z)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0)])}}});const _e={class:"com-select-container"},Le={class:"radio-item-wrapper"},Ue={class:"name"},Oe={class:"hone"},Ne={class:"address"},we={class:"footer-button"},Re=O("\u53D6\u6D88"),Se=O("\u786E\u8BA4"),qe=j({props:{dataSource:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:null}},emits:["update","submit"],setup(D,{emit:V}){const n=D,C=g(null),F=g(n.show),i=()=>{V("submit",C.value),F.value=!1};return U(()=>n.modelValue,o=>{C.value=o}),U(F.value,o=>{V("update:show",o)}),(o,s)=>{const b=B("van-radio"),e=B("van-radio-group"),t=B("VanButton");return l(),r(Be,{show:F.value,"onUpdate:show":s[1]||(s[1]=x=>F.value=x),class:"com-select",title:"\u9009\u62E9\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"},{default:c(()=>[k("div",_e,[f(e,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=x=>C.value=x)},{default:c(()=>[(l(!0),L(ee,null,K(D.dataSource,(x,m)=>(l(),r(b,{key:m,name:m+1,class:"radio-item"},{default:c(()=>[k("div",Le,[k("p",null,[k("span",Ue,_(x.contactName),1),k("span",Oe,_(x.contactPhoneNo),1)]),k("p",Ne,_(x.contactAddress),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),k("div",we,[f(t,{plain:"",type:"primary"},{default:c(()=>[Re]),_:1}),f(t,{type:"primary",onClick:i},{default:c(()=>[Se]),_:1})])]),_:1},8,["show"])}}});var He=Ve(qe,[["__scopeId","data-v-a625d614"]]);const he={key:0,class:"beneficiary-part"},$e={class:"part-title"},je={class:"title"},Ye=O("\u5220\u9664"),Me=O("+\u6DFB\u52A0\u53D7\u76CA\u4EBA"),Ze=O("\u9009\u62E9\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"),Ge={class:"radio-item-wrapper"},We={class:"name"},Xe={class:"hone"},ze={class:"address"},Qe={class:"footer-button"},Je=O("\u4E0B\u4E00\u6B65"),to=j({setup(D){const V=ie(),n=me(),{templateId:C=1,orderNo:F="2022072710380711215",tenantId:i="9991000007"}=n.query,[o,s]=fe(),b=n.path==="/infoPreview"?"infoPreview":"infoCollection",e=g({}),t=g({extInfo:{pageCode:b},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{},tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0}}),x=g(null),m=g([]),T=g([]),E=pe({beneficiaryId:0,addressList:[],nextPage:"",currentAddress:null,isLoading:!0}),R=()=>{const v=Y({},t.value);v.tenantOrderAttachmentList=[{category:2,objectType:2,name:"\u6295\u4FDD\u4EBA\u8BC1\u4EF6\u6B63\u9762",uri:m.value[0]},{category:3,objectType:2,name:"\u6295\u4FDD\u4EBA\u8BC1\u4EF6\u80CC\u9762",uri:m.value[1]},{category:2,objectType:3,name:"\u88AB\u4FDD\u4EBA\u8BC1\u4EF6\u6B63\u9762",uri:T.value[0]},{category:2,objectType:3,name:"\u88AB\u4FDD\u4EBA\u8BC1\u4EF6\u80CC\u9762",uri:T.value[1]}],Ee(v).then(({code:p,data:I})=>{p==="10000"&&I.pageAction.pageAction==="jumpToPage"&&V.push({path:be[I.pageAction.data.nextPageCode],query:n.query})})},u=v=>{console.log("value",v)},ue=()=>{E.beneficiaryId+=1,t.value.tenantOrderInsuredList[0].beneficiaryReqList.push({id:E.beneficiaryId,extInfo:{}})},ae=v=>{t.value.tenantOrderInsuredList[0].beneficiaryReqList=t.value.tenantOrderInsuredList[0].beneficiaryReqList.filter(p=>p.beneficiaryId!==v.beneficiaryId)},le=()=>{Ae({orderNo:F,tenantId:i}).then(({code:v,data:p})=>{if(v==="10000"){const I=p;I.extInfo=X(Y({},I.extInfo),{pageCode:b,templateId:C}),I.tenantOrderHolder=I.tenantOrderHolder||{},I.tenantOrderHolder.extInfo=I.tenantOrderHolder.extInfo||{},I.tenantOrderInsuredList[0].extInfo=I.tenantOrderInsuredList[0].extInfo||{},I.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=I.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.map(y=>{const P=y;return P.extInfo={},P}),I.tenantOrderAttachmentList.forEach(y=>{y.category,y.objectType,y.category===2?y.objectType===2?m[0]=y.uri:y.objectType===3&&(T[0]=y.uri):y.category===3&&(y.objectType===2?m[1]=y.uri:y.objectType===3&&(T[1]=y.uri))}),Object.assign(t.value,I)}}).finally(()=>{E.isLoading=!1})};return Ie(()=>{le(),Fe({pageCode:"infoCollection",templateId:C}).then(({code:v,data:p})=>{if(v==="10000"){const I={BENEFICIARY:[],INSURER:[],HOLDER:[]};p.productInsureFactorList.forEach(y=>{(I[y.moduleType]=I[y.moduleType]||[]).push(y)}),e.value=I}})}),U(()=>t.value,v=>{var p,I,y,P,S,N,q,H,h,$;if(v){const A=[{contactAddress:((I=(p=v.tenantOrderHolder)==null?void 0:p.extInfo)==null?void 0:I.familyAddress)||1231123,contactName:v.tenantOrderHolder.name||123131,contactPhoneNo:v.tenantOrderHolder.mobile||123132},{contactAddress:(P=(y=v.tenantOrderHolder)==null?void 0:y.extInfo)==null?void 0:P.workAddress,contactName:v.tenantOrderHolder.name,contactPhoneNo:v.tenantOrderHolder.mobile},{contactAddress:(N=(S=v.tenantOrderInsuredList[0])==null?void 0:S.extInfo)==null?void 0:N.familyAddress,contactName:(q=v.tenantOrderInsuredList[0])==null?void 0:q.name,contactPhoneNo:(H=v.tenantOrderInsuredList[0])==null?void 0:H.mobile},{contactAddress:($=(h=v.tenantOrderInsuredList[0])==null?void 0:h.extInfo)==null?void 0:$.workAddress,contactName:v.tenantOrderInsuredList[0].name,contactPhoneNo:v.tenantOrderInsuredList[0].mobile}];E.addressList=A.filter(w=>w.contactAddress&&w.contactName&&w.contactPhoneNo)}},{deep:!0,immediate:!0}),(v,p)=>{const I=B("ProCard"),y=B("ProRadioButton"),P=B("ProField"),S=B("ProSvg"),N=B("VanButton"),q=B("ProCheckButton"),H=B("van-cell"),h=B("ProForm"),$=B("ProPageWrap");return l(),r($,{class:"page-info-wrapper"},{default:c(()=>[a(E).isLoading?d("",!0):(l(),r(h,{key:0,ref_key:"formRef",ref:x},{default:c(()=>[f(I,{title:"\u6295\u4FDD\u4EBA"},{default:c(()=>[f(Q,{images:m.value,"onUpdate:images":p[0]||(p[0]=A=>m.value=A),"form-info":t.value.tenantOrderHolder,"factor-list":e.value.HOLDER},null,8,["images","form-info","factor-list"])]),_:1}),f(I,{title:"\u88AB\u4FDD\u4EBA"},{default:c(()=>[f(P,{modelValue:t.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":p[2]||(p[2]=A=>t.value.tenantOrderInsuredList[0].relationToHolder=A),label:"\u4E3A\u8C01\u4FDD\u5355",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:c(()=>[f(y,{modelValue:t.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":p[1]||(p[1]=A=>t.value.tenantOrderInsuredList[0].relationToHolder=A),options:a(De)},null,8,["modelValue","options"])]),_:1},8,["modelValue"]),t.value.tenantOrderInsuredList[0].relationToHolder!=="0"?(l(),r(Q,{key:0,images:T.value,"onUpdate:images":p[3]||(p[3]=A=>T.value=A),"form-info":t.value.tenantOrderInsuredList[0],"factor-list":e.value.INSURER||[]},null,8,["images","form-info","factor-list"])):d("",!0),f(P,{label:"\u6295\u4FDD\u5730\u533A",name:"type",placeholder:"\u8BF7\u9009\u62E9","is-link":""})]),_:1}),f(I,{title:"\u53D7\u76CA\u4EBA"},{default:c(()=>[f(P,{modelValue:t.value.tenantOrderInsuredList[0].beneficiaryType,"onUpdate:modelValue":p[5]||(p[5]=A=>t.value.tenantOrderInsuredList[0].beneficiaryType=A),label:"\u53D7\u76CA\u4EBA\u7C7B\u578B",name:"beneficiaryType",placeholder:"\u8BF7\u9009\u62E9"},{input:c(()=>[f(y,{modelValue:t.value.tenantOrderInsuredList[0].beneficiaryType,"onUpdate:modelValue":p[4]||(p[4]=A=>t.value.tenantOrderInsuredList[0].beneficiaryType=A),options:a(ke)},null,8,["modelValue","options"])]),_:1},8,["modelValue"]),t.value.tenantOrderInsuredList[0].beneficiaryType==2?(l(),L("div",he,[(l(!0),L(ee,null,K(t.value.tenantOrderInsuredList[0].beneficiaryReqList,(A,w)=>(l(),L("div",{key:A.beneficiaryId,class:"beneficiary-item"},[k("div",$e,[k("span",je,_(`\u53D7\u76CA\u4EBA${w+1}`),1),f(S,{name:"delete",onClick:Ke=>ae(A)},{default:c(()=>[Ye]),_:2},1032,["onClick"])]),f(Pe,{"form-info":A,"factor-list":e.value.BENEFICIARY},null,8,["form-info","factor-list"])]))),128)),f(N,{onClick:ue},{default:c(()=>[Me]),_:1})])):d("",!0)]),_:1}),f(I,{title:"\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"},{default:c(()=>[a(E).currentAddress?(l(),r(H,{key:1,title:"\u5355\u5143\u683C","is-link":""},{title:c(()=>[k("div",Ge,[k("p",null,[k("span",We,_(a(E).addressList[a(E).currentAddress-1].contactName),1),k("span",Xe,_(a(E).addressList[a(E).currentAddress-1].contactPhoneNo),1)]),k("p",ze,_(a(E).addressList[a(E).currentAddress-1].contactAddress),1)])]),_:1})):(l(),r(q,{key:0,activated:"",onClick:p[6]||(p[6]=A=>a(s)(!0))},{default:c(()=>[Ze]),_:1}))]),_:1})]),_:1},512)),k("div",Qe,[f(N,{block:"",type:"primary",onClick:R},{default:c(()=>[Je]),_:1})]),f(He,{modelValue:a(E).currentAddress,"onUpdate:modelValue":p[7]||(p[7]=A=>a(E).currentAddress=A),show:a(o),"data-source":a(E).addressList,onSubmit:u},null,8,["modelValue","show","data-source"])]),_:1})}}});export{to as default};
