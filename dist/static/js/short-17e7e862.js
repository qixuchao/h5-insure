import{k as e,O as t,$ as a,p as n,s as l,B as o,S as i,v as r,C as u,M as s,E as d,H as c,I as v,N as m,J as p,L as f,r as y,b as I,R as h,ag as g,y as O,t as P,G as C,a5 as V,a6 as L,Z as k,_ as w,d as A,U as D,T as S,aa as N,u as b,o as F,D as x}from"./vendor-9bab628e.js";import{d as U}from"./debounce-a0c8763d.js";import{P as q}from"./index-5214e70a.js";import{_ as R,e as E,i as B,a7 as T,C as j,I as _,K as H,a8 as M,a1 as Y,ac as Q}from"./index-28546aa3.js";import{u as G,B as K,I as W,A as X,P as z,_ as J}from"./useAddressList-84e1c733.js";import{C as Z,k as $,l as ee,m as te,S as ae,R as ne,g as le}from"./infoCollection-26638380.js";import{j as oe}from"./trial-664c95c9.js";import{i as ie,g as re,b as ue,p as se}from"./trial-e795e836.js";import{p as de}from"./product-67871918.js";import{o as ce,g as ve,v as me,r as pe,t as fe}from"./utils-fc39f5d4.js";import{_ as ye,n as Ie}from"./nextStep-006cd4cc.js";import{u as he,t as ge}from"./theme-467ed2f7.js";import{P as Oe}from"./index-2b8844c9.js";import{L as Pe}from"./loading-1c9c1d7b.js";import{u as Ce}from"./useDicData-b0ff974e.js";import{s as Ve,c as Le}from"./phoneVerify-c5ae9dd8.js";import"./useStorage-735143e7.js";import"./relativeTime-043d4e7b.js";const ke={class:"customer-body"},we={class:"header"},Ae={class:"conatiner"},De=["onClick"],Se={class:"name"};var Ne=R(e({props:{userInfo:{type:Object,default:()=>({})},relationCode:{type:String,default:"1"},title:{type:String,default:"选择投保人"},data:{type:Array,default:()=>[]}},emits:["change"],setup(e,{emit:y}){const I=e,h=t({loading:!1,select:{},list:[]});a((()=>I.data),(e=>{h.list=I.data}),{deep:!0,immediate:!0}),a((()=>I.userInfo),(e=>{h.select={...e,certName:e.name}}),{deep:!0,immediate:!0});const g=()=>{h.loading=!1,y("change",h.select)},O=()=>{h.loading=!1,h.loading=!0};return(t,a)=>{const y=n("ProSvg"),I=n("van-icon"),P=n("ProPopup");return l(),o(c,null,[i(y,{name:"customer",onClick:O}),i(P,{class:"customer-list",style:{height:"416px"},show:d(h).loading,closeable:!1},{default:r((()=>[u("div",ke,[u("div",we,[u("span",null,s(e.title),1),i(I,{name:d("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAuRJREFUeF7t3DtOI0EQBuDfEtImXAdyNoIEAffYkIALrFZaMu4BiAQiyOE6myARoJI8kteyx/3469FWTTxT3fVNdY/dY/cCeVAFFtRoGQwJSi6CBE1QsgA5XFZogpIFyOGyQhOULEAOlxWaoGQBcris0CCglwB+ATgEcA/gFsAXuW/W4Q4AXAOQ3P4BuAPwUNuJlgqVBgVx9XheduSztgNBzv+xxDtb689VLWoL6CuAkw0Qo6Juw5QU3wD8rLnpLaDvAI62NDIa6hympPgB4Fgb9AbA75lGRkHdhSkpSq5/tEFl8n4CsD7fjDSnlmBKYZzXPmxbhrzAlXZIHmDRHlSqfW8FHRVVFVNQekBHQ1XHZICOgmqCyQKNjmqGyQSNimqKyQaNhmqOqQEaBdUFUwvUG9UNUxPUC9UVUxvUGtUd0wLUCjUEphWoNmoYTEtQLdRQmNagbNRwmB6gLNSQmF6gvahhMT1BW1FDY3qD1qLK+fKePPSrl94FZkmy9yipupdlI6czjYV4ORgBtLRS525cCMwIQ34VqaRSN6GGwYwG2lKpoTAjgk6ojwDm5ks5T+bVi2ivqaPMoetDP0F7H/XL62vn0RzyM/C1mFOoUKhRhnwrZjjUCKAlmPnBvnBOLcGchnR+9dyBWoM5/YKv5ZrCe8s5zWvI98D0XMtRm4niAcoAYcRQwbUGZUIwY9FwLUE1ADRiduFagWomrhm7GtcC1CJhizaKcLVBLRO1bGsrriaoR4Iebf6HqwXqmZhn293/AtlU+q4JVSwDqqxSsSs0AuZ0k136wgR1SUBhvaDoab7tJBZoREyXSmWARsY0R+0FHQHTFLUHdCRMM9RW0BExTVBbQHMDAvICc26RQQbNTVzIoLnNEBk0N8Iig0q41a3a5Gfaf2t3j+n6fqdzsdtWbTrp7EnUlo9Ne5K6ThoJSnZN0AQlC5DDZYUmKFmAHC4rNEHJAuRwWaEJShYgh8sKJYN+A6+yQmSPqqjtAAAAAElFTkSuQmCC"),onClick:a[0]||(a[0]=e=>d(h).loading=!1)},null,8,["name"])]),u("div",Ae,[(l(!0),o(c,null,v(d(h).list,((e,t)=>{var a,n;return l(),o("div",{key:`${e.customerId}_${t}`,class:m({item:!0,active:d(h).select.certNo===(null==(a=e.cert[0])?void 0:a.certNo)}),onClick:t=>(e=>{h.select.name=e.cert[0].certName,h.select.certNo=e.cert[0].certNo})(e)},[u("span",Se,s(e.cert[0].certName),1),u("span",null,s(e.cert[0].certNo),1),p(i(I,{class:"check-icon",name:d("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAn9JREFUSEvtlktIVFEcxn/XXpM6Mz5zVBzR8oFUVARRUljhItKNhZC0qVYhZjMMFIG0aFUUtijKB0GEBL02WmZqRjlbFyWSYQ+EynKyh5baNHPi3hsNtzuj89Bp44G7Oec732/u//y/c0cSQgj+w5AWwNGqevRK/eMLXD0AAx2wu47ogD8OwcVyGHmuFnSJIQrgwR5o2Avfx3ynuL5insFPmuB6NXjcPmjhDqhunSew1wO3HNB9Xtur+SVQ0wZL4+YBPPkVmvdBf7sWmrcVau7Bsnhlfm6ba/SV2kTvB7TQlcVwpB0Mxr/zkvj8VigtvqYMjKnhx/jFY2jYAxMurUfuZqi9DwaTZl4SdQWCD4NgssChFpAPP9ThvAIth8HzU7szZxPUdsBys85REsetgrFhdUGKUcKtPDGLZsfLTXTnGHSe02uzN8LRTohN8OsjiSGnoH4nuKd8goLt6tub0wPDp8ahuQqetek11g1g64LYxID71ebquw2NlSC8PqExDQ5eg6JS/WbXG7WJ3vXr17LWga0b4pJmrJivq+XM3bBpxXLpd52A8pMQs1hdG+qFyxUwPqo3zlwL9m6IT5n1mLRxummDrn9CL1vkbYP9jSpUvol+TeuNM1aD/WHQydCCvV5oqkQpfSgjvUiFmtKC3qW/QNyTUF8KL53BmVgKwd4DZktw+j8q/zfXxCc4U4yS75nGinxwyNCMkKBKcgP+53K9htNb4NuIf9PUVeB4BAmZIUNnBsurw31wtgSmx7XmKbkqNDErLOjsYFkx8AAulPm+qck5KjTJGjY0OLCsetoKd0+p+ay6BMnZEUGDB0eM0RvM7fc4hB+4AA6hWJFJfwMaXAhFHVsobQAAAABJRU5ErkJggg==")},null,8,["name"]),[[f,d(h).select.certNo===(null==(n=e.cert[0])?void 0:n.certNo)]])],10,De)})),128))]),i(q,{shadow:!1,text:"确定",onClick:g})])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-03ffdb9a"]]);const be={class:"guarantee-list"},Fe=(e=>(V("data-v-2da31e52"),e=e(),L(),e))((()=>u("span",null,"保障计划",-1))),xe={key:0,class:"picture-payment-content"},Ue=["onClick"],qe=["src"],Re=["src"],Ee={key:1,class:"plan-list"},Be=["onClick"],Te={key:2,class:"feerate-view"},je={class:"guarantee-detail"},_e={key:0,class:"plan-list"},He=["onClick"],Me={key:1},Ye={class:"extinfo-info-list"},Qe={class:"content"};var Ge=R(e({props:{dataSource:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:5},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(e,{emit:t}){var f;const V=e,L=y(null==(f=V.dataSource)?void 0:f.planList),k=y(V.activePlanCode);a([()=>V.dataSource,()=>V.activePlanCode],(()=>{var e;V.isMultiplePlan&&(L.value=null==(e=V.dataSource)?void 0:e.planList)}),{immediate:!0});const w=y([]),A=y([]),D=y(),S=I((()=>V.isMultiplePlan?V.dataSource.planList.map((e=>e.planPicList?{...e.planPicList,planCode:e.planCode,planName:e.planName}:null)).filter((e=>!!e)):[]));a([()=>V.dataSource,()=>V.activePlanCode],(()=>{var e,t,a,n;if(k.value=V.activePlanCode,V.isMultiplePlan){if(L.value&&L.value.length>0){let e=0;const t=L.value.findIndex((e=>e.planCode===k.value));t>-1&&(e=t),w.value=L.value[e].guaranteeItemVOS,A.value=L.value[e].extInfoVOList,D.value=null==(n=L.value[e])?void 0:n.productPremiumVOList[0]}}else w.value=null==(e=V.dataSource)?void 0:e.planInsureVO.guaranteeItemVOS,A.value=null==(t=V.dataSource)?void 0:t.planInsureVO.extInfoVOList,D.value=null==(a=V.dataSource)?void 0:a.planInsureVO.productPremiumVOList[0]}),{immediate:!0,deep:!0});const N=I((()=>{var e;return(null==(e=V.dataSource)?void 0:e.rateUri)||""})),b=I((()=>!!(D.value&&D.value.paymentFrequencyValue&&D.value.premiumUnit&&N))),[F,x]=h(!1),U=I((()=>{var e;return!(!w.value||!(null==(e=w.value)?void 0:e.length))&&(w.value.length>V.count&&(!!V.isShowClose||!F.value))})),q=()=>{x()},R=I((()=>{var e;return w.value&&(null==(e=w.value)?void 0:e.length)?w.value.length<=V.count||F.value?w.value:w.value.slice(0,V.count):[]})),T=e=>{k.value=e,t("update-active-plan",e)},j=y(!1),_=()=>{j.value=!0},H=()=>{ce({fileType:"pdf",feeFileUri:N.value})};return(t,a)=>{var f,y;const I=n("ProCell"),h=n("ProPopup"),V=g("dompurify-html");return l(),o(c,null,[u("div",be,[u("div",{class:"header"},[Fe,u("span",{onClick:_},"查看详情")]),e.isMultiplePlan?(l(),o(c,{key:0},[d(S).length>0?(l(),o("div",xe,[(l(!0),o(c,null,v(d(S),(e=>(l(),o("div",{key:e.planCode,class:m("picture-payment-item"),onClick:t=>T(e.planCode)},[k.value==e.planCode?(l(),o("img",{key:0,src:e.selectedPic},null,8,qe)):(l(),o("img",{key:1,src:e.unSelectedPic},null,8,Re))],8,Ue)))),128))])):(l(),o("div",Ee,[(l(!0),o(c,null,v(L.value,((e,t)=>(l(),o("div",{key:`${e.planCode}_${t}`,class:m("plan-list-item "+(e.planCode===k.value?"plan-list-item-active":"")),onClick:t=>T(e.planCode)},[u("span",null,s(e.planName),1)],10,Be)))),128))]))],64)):O("",!0),(l(!0),o(c,null,v(d(R),((e,t)=>(l(),P(I,{key:t,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128)),d(U)?(l(),o("div",{key:1,class:"show-more",onClick:q},[C(s(d(F)?"收起":"查看更多")+" ",1),i(E,{name:"down",class:m(["icon",{showMore:d(F)}])},null,8,["class"])])):O("",!0),d(b)?(l(),o("div",Te,[u("span",null,s(`${(null==(f=D.value)?void 0:f.paymentFrequencyValue)||""}${(null==(y=D.value)?void 0:y.premiumUnit)||""}`),1),d(N)?(l(),o("span",{key:0,onClick:H},"查看保费")):O("",!0)])):O("",!0)]),i(B),i(h,{show:j.value,"onUpdate:show":a[0]||(a[0]=e=>j.value=e),title:"保障详情",class:"guarantee-popup"},{default:r((()=>[u("div",je,[e.isMultiplePlan?(l(),o("div",_e,[(l(!0),o(c,null,v(L.value,((e,t)=>(l(),o("div",{key:`${e.planCode}_${t}`,class:m("plan-list-item "+(e.planCode===k.value?"plan-list-item-active":"")),onClick:t=>T(e.planCode)},[u("span",null,s(e.planName),1)],10,He)))),128))])):O("",!0),A.value&&A.value.length>0?(l(),o("div",Me,[u("div",Ye,[(l(!0),o(c,null,v(A.value,((e,t)=>(l(),P(I,{key:t,title:e.name,content:e.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),i(B)])):O("",!0),(l(!0),o(c,null,v(w.value,((e,t)=>(l(),o("div",{key:t,class:"guarantee-item"},[i(I,{title:e.title,content:e.desc,border:!1,size:"small"},null,8,["title","content"]),p(u("div",Qe,null,512),[[V,e.content]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-2da31e52"]]);const Ke={class:"com-custom-card"},We={class:"title"};var Xe=R(e({props:{title:{type:String,required:!0}},setup:e=>(t,a)=>(l(),o("div",Ke,[u("div",We,s(e.title),1),u("div",null,[k(t.$slots,"default",{},void 0,!0)])]))}),[["__scopeId","data-v-059c21ee"]]);const ze={class:"question"},Je={class:"title"};var Ze=R(e({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup:e=>(t,a)=>{const o=n("ProSvg"),d=n("van-collapse-item");return l(),P(d,{name:e.name,class:"com-question-item"},{title:r((()=>[u("div",ze,[i(o,{name:"question"}),u("div",Je,s(e.question),1)])])),default:r((()=>[C(" "+s(e.answer),1)])),_:1},8,["name"])}}),[["__scopeId","data-v-0d7ea124"]]);const $e={class:"com-question"};var et=R(e({props:{list:{type:Array,default:()=>[]}},setup(e){const t=e,[a,u]=h(!1),p=y([]),f=()=>{u()},g=I((()=>t.list.length<=4||a.value?t.list:t.list.slice(0,4)));return(t,u)=>{const y=n("van-collapse");return l(),o("div",$e,[i(y,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=e=>p.value=e)},{default:r((()=>[(l(!0),o(c,null,v(d(g),((e,t)=>(l(),P(Ze,{key:t,name:t.toString(),question:e.title,answer:e.desc},null,8,["name","question","answer"])))),128))])),_:1},8,["modelValue"]),e.list.length>4?(l(),o("div",{key:0,class:"show-more",onClick:f},[C(s(d(a)?"收起":"展开")+" ",1),i(E,{name:"down",class:m(["icon",{showMore:d(a)}])},null,8,["class"])])):O("",!0)])}}}),[["__scopeId","data-v-1b7e97e9"]]);const tt={class:"spec"},at={key:1,class:"spec"},nt=["src"];var lt=R(e({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(e,{expose:t}){const a=e,s=y(),m=y([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),p=I((()=>{var e,t,n,l;return(null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.spec)&&(null==(l=null==(n=a.detail)?void 0:n.tenantProductInsureVO)?void 0:l.spec.length)>0})),f=I((()=>{var e,t,n,l,o,i,r,u,s,d,c,v,m,p;const f=null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.settlementProcessVO.settlementProcessType;return!!(f===Z.WORD&&(null==(o=null==(l=null==(n=a.detail)?void 0:n.tenantProductInsureVO)?void 0:l.settlementProcessVO)?void 0:o.settlementProcessList)&&(null==(u=null==(r=null==(i=a.detail)?void 0:i.tenantProductInsureVO)?void 0:r.settlementProcessVO)?void 0:u.settlementProcessList.length)>0||f===Z.IMAGE&&(null==(c=null==(d=null==(s=a.detail)?void 0:s.tenantProductInsureVO)?void 0:d.settlementProcessVO)?void 0:c.settlementProcessPicList)&&(null==(p=null==(m=null==(v=a.detail)?void 0:v.tenantProductInsureVO)?void 0:m.settlementProcessVO)?void 0:p.settlementProcessPicList.length)>0)})),h=I((()=>{var e,t,n,l;return(null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.questionList)&&(null==(l=null==(n=a.detail)?void 0:n.tenantProductInsureVO)?void 0:l.questionList.length)>0})),g=I((()=>{let e=[...m.value];return p.value||(e=e.filter((e=>"tab1"!==e.slotName))),f.value||h.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return t({handleClickTab:()=>{var e;return null==(e=s.value)?void 0:e.handleClickTab}}),(e,t)=>{const m=n("van-image");return l(),P(T,{ref_key:"scrollRef",ref:s,class:"tabs",list:d(g),sticky:"",scrollspy:""},w({tab3:r((()=>[k(e.$slots,"form",{},void 0,!0)])),_:2},[d(p)?{name:"tab1",fn:r((()=>{var e,t;return[u("div",tt,[(l(!0),o(c,null,v((null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.spec)||[],((e,t)=>(l(),P(m,{key:t,class:"detail-img",width:"100%","lazy-load":"",src:e},null,8,["src"])))),128)),i(B)])]}))}:void 0,d(f)||d(h)?{name:"tab2",fn:r((()=>{var e,t,n,u,s;return[d(f)?(l(),o(c,{key:0},[(null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.settlementProcessVO.settlementProcessType)===d(Z).WORD?(l(),P(Xe,{key:0,title:"理赔流程"},{default:r((()=>{var e,t,n;return[i(Oe,{list:null==(n=null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.settlementProcessVO)?void 0:n.settlementProcessList},null,8,["list"])]})),_:1})):(l(),o("div",at,[(l(!0),o(c,null,v((null==(s=null==(u=null==(n=a.detail)?void 0:n.tenantProductInsureVO)?void 0:u.settlementProcessVO)?void 0:s.settlementProcessPicList)||[],((e,t)=>(l(),o("img",{key:t,src:e,class:"detail-img"},null,8,nt)))),128))])),i(B)],64)):O("",!0),d(h)?(l(),o(c,{key:1},[i(Xe,{title:"常见问题"},{default:r((()=>{var e,t;return[i(et,{list:null==(t=null==(e=a.detail)?void 0:e.tenantProductInsureVO)?void 0:t.questionList},null,8,["list"])]})),_:1}),i(B)],64)):O("",!0)]}))}:void 0]),1032,["list"])}}}),[["__scopeId","data-v-72590bd3"]]);const ot={key:0,class:"page-waiting"},it=["src"],rt=(e=>(V("data-v-ead4d7ae"),e=e(),L(),e))((()=>u("div",{class:"tips"},[u("p",null,"支付成功，承保中...")],-1)));var ut=R(e({props:{isShow:{type:Boolean,default:()=>{}}},setup(e){const t=e;return a((()=>t.isShow),(e=>{document.body.style.overflow=e?"hidden":"inherit"})),(e,a)=>t.isShow?(l(),o("div",ot,[u("img",{class:"loading",src:d(Pe)},null,8,it),rt])):O("",!0)}}),[["__scopeId","data-v-ead4d7ae"]]);const st={class:"list"},dt=u("div",{class:"tip"},[u("span",null,[u("span",{class:"important-text"},"重要"),C(" 请确认被保险人是否存在下列问题，请如实告知，否则将对您的理赔权益或合同效力产生影响 ")])],-1),ct={class:"title"},vt={class:"item"},mt={class:"footer"},pt=C("不符合"),ft=C("符合，立即投保"),yt=e({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(e,{emit:t}){const o=e,c=he(),v=y(o.show),m=y(o.activeIndex),p=I((()=>{var e;return null==(e=o.contentList[m.value])?void 0:e.attachmentUri})),f=I((()=>{var e;return null==(e=o.contentList[m.value])?void 0:e.attachmentType})),h=y(!0),g=e=>{"allFalse"===e&&(h.value=!1,t("update:show",!1)),t("onConfirmHealth",e)};return a((()=>o),(()=>{v.value=o.show,m.value=o.activeIndex}),{deep:!0,immediate:!0}),(a,o)=>{const m=n("ProFilePreview"),y=n("VanButton"),I=n("van-config-provider"),O=n("ProPopup");return l(),P(O,{show:v.value,"onUpdate:show":o[2]||(o[2]=e=>v.value=e),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:o[3]||(o[3]=e=>{h.value&&t("onCloseHealth")})},{default:r((()=>[i(I,{"theme-vars":d(c),class:"custom-provider"},{default:r((()=>[u("div",st,[dt,u("div",ct,s(e.contentList[0].attachmentName),1),u("div",vt,[(l(),P(m,{key:d(p),content:d(p),type:d(f)},null,8,["content","type"]))])]),u("div",mt,[i(y,{block:"",round:"",class:"left",onClick:o[0]||(o[0]=e=>g("N"))},{default:r((()=>[pt])),_:1}),i(y,{type:"primary",plain:"",block:"",round:"",onClick:o[1]||(o[1]=e=>g("allFalse"))},{default:r((()=>[ft])),_:1})])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}}),It=(e,t="YYYY-MM-DD")=>A(e).format(t),ht=(e,t=0,a="day",n="YYYY-MM-DD")=>A(e).add(t,a).format(n);const gt=e=>(V("data-v-7fd60a40"),e=e(),L(),e),Ot={class:"com-period-cell"},Pt={key:0,class:"custom-cell check-btn-cell"},Ct=gt((()=>u("div",{class:"cell-label"},"保障期间",-1))),Vt={class:"cell-content"},Lt=gt((()=>u("div",{class:"cell-label"},"生效日期",-1))),kt={class:"cell-content"},wt={key:2,class:"custom-cell common-cell"},At=gt((()=>u("div",{class:"cell-label"},"保障期限",-1))),Dt={class:"cell-content"};var St=R(e({props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:v,emit:m}){const p=e;y({});const f=(e,t)=>"year"===e?`${t}年`:"month"===e?`${t}月`:"day"===e?`${t}日`:t,g=y(new Date),P=Ce("RISK_INSURANCE_PERIOD"),C=t({formInfo:p.formInfo});a((()=>C.formInfo.insuranceStartDate),(e=>{e&&"string"==typeof e&&(g.value=new Date(e))}));const V=y(),L=y([]);a([()=>p.insureDetail,()=>C.formInfo.activePlanCode],(()=>{var e;if(C.formInfo.insurancePeriodValue="",C.formInfo.insuranceStartDate="",C.formInfo.insuranceEndDate="",C.formInfo.commencementTime="",p.insureDetail)if(p.insureDetail.productRelationPlanVOList&&p.insureDetail.productRelationPlanVOList.length>0){let t=0;const a=p.insureDetail.productRelationPlanVOList.findIndex((e=>e.planCode===C.formInfo.activePlanCode));a>-1&&(t=a);const n=((null==(e=p.insureDetail.productRelationPlanVOList[t])?void 0:e.productRiskVoList[0].riskDetailVOList)||[]).find((e=>1===e.riskType));n&&(V.value=n)}else{const e=(p.insureDetail.productRiskVoList[0].riskDetailVOList||[]).find((e=>1===e.riskType));e&&(V.value=e)}}),{deep:!0,immediate:!0}),a([()=>V.value,()=>P.value],(()=>{L.value=[],Array.isArray(P.value)&&P.value.length>1&&V.value&&(L.value=(V.value.riskInsureLimitVO.insurancePeriodValueList||[]).map((e=>{const t=P.value.find((t=>t.value===e));return t?{label:t.name,value:t.value}:null})).filter((e=>!!e))),L.value.length>0&&(C.formInfo.insurancePeriodValue=L.value[0].value)}),{deep:!0,immediate:!0});const k=I((()=>{var e,t;return(null==(e=V.value)?void 0:e.riskInsureLimitVO.guaranteeStartDate)?String(null==(t=V.value)?void 0:t.riskInsureLimitVO.guaranteeStartDate):$.CURRENT_DAY})),[w,S]=h(!1),N=()=>{S(!0)},b=new Date(ht(new Date,1,"day")),F=I((()=>{var e;if(k.value===$.CUSTOM_DAY){const t=null==(e=V.value)?void 0:e.riskInsureLimitVO.maxInsuranceDay;if(!t)return new Date;const a=ht(new Date,Number(t),"day");return new Date(a)}return new Date})),x=e=>{C.formInfo.insuranceStartDate=`${It(e)} 00:00:00`,S(!1)},U=()=>{S(!1)},q=I((()=>{}));return a([()=>k.value,()=>q.value,()=>C.formInfo.insurancePeriodValue,()=>C.formInfo.insuranceStartDate],(()=>{if(!C.formInfo.insurancePeriodValue)return;const[e,t]=C.formInfo.insurancePeriodValue.split("_");if(C.formInfo.insuranceStartDate||(k.value===$.CUSTOM_DAY||k.value===$.NEXT_DAY?C.formInfo.insuranceStartDate=`${ht(new Date,1,"day")} 00:00:00`:C.formInfo.insuranceStartDate=`${It(new Date)} 00:00:00`),"to"!==e){const a=`${((e,t=0,a="day",n="YYYY-MM-DD")=>A(e).subtract(t,a).format(n))(C.formInfo.insuranceStartDate,1,"day")} 00:00:00`;C.formInfo.insuranceEndDate=`${ht(a,Number(t),e)} 23:59:59`}else C.formInfo.tenantOrderInsuredList[0].birthday,C.formInfo.tenantOrderInsuredList[0].certType===j.CERT&&C.formInfo.tenantOrderInsuredList[0].certNo&&_(C.formInfo.tenantOrderInsuredList[0].certNo)&&H(C.formInfo.tenantOrderInsuredList[0].certNo),"single"===t&&(C.formInfo.insuranceEndDate="9999-99-99 23:59:59"),C.formInfo.insuranceEndDate=`${ht(C.formInfo.insuranceStartDate,Number(t),e)} 23:59:59`}),{immediate:!0}),v({}),(e,t)=>{const a=n("ProRadioButton"),v=n("van-config-provider"),m=n("van-datetime-picker"),p=n("ProPopup");return l(),o(c,null,[i(v,{"theme-vars":d(ge)},{default:r((()=>[u("div",Ot,[L.value.length>1?(l(),o("div",Pt,[Ct,u("div",Vt,[i(a,{modelValue:d(C).formInfo.insurancePeriodValue,"onUpdate:modelValue":t[0]||(t[0]=e=>d(C).formInfo.insurancePeriodValue=e),options:L.value},null,8,["modelValue","options"])])])):O("",!0),d(k)===d($).CUSTOM_DAY?(l(),o("div",{key:1,class:"custom-cell common-cell",onClick:N},[Lt,u("div",kt,s(d(C).formInfo.insuranceStartDate),1)])):O("",!0),d(k)!==d($).CUSTOM_DAY?(l(),o("div",wt,[At,u("div",Dt,s(d(C).formInfo.insuranceStartDate?d(It)(d(C).formInfo.insuranceStartDate):"")+" - "+s(d(C).formInfo.insuranceEndDate?d(It)(d(C).formInfo.insuranceEndDate):""),1)])):O("",!0)])])),_:1},8,["theme-vars"]),i(p,{show:d(w),"onUpdate:show":t[2]||(t[2]=e=>D(w)?w.value=e:null),height:40,closeable:!1},{default:r((()=>[i(m,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),type:"date",title:"选择年月","min-date":d(b),"max-date":d(F),formatter:f,onConfirm:x,onCancel:U},null,8,["modelValue","min-date","max-date"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-7fd60a40"]]);const Nt=e=>(V("data-v-0daa05e6"),e=e(),L(),e),bt={class:"com-payment-type"},Ft={class:"title"},xt={key:0,class:"picture-payment-content"},Ut=["onClick"],qt=["src"],Rt=["src"],Et={key:1,class:"custom-cell check-btn-cell"},Bt=Nt((()=>u("div",{class:"cell-label"},"保障方案",-1))),Tt={class:"cell-content"},jt={key:0,class:"picture-payment-content"},_t=["onClick"],Ht=["src"],Mt=["src"],Yt={key:1,class:"default-payment-content"},Qt=[Nt((()=>u("div",{class:"pay-method"},[u("span",{class:"method"},s("按月交费")),u("span",{class:"acount"},s("共12期"))],-1)))],Gt=[Nt((()=>u("div",null,[u("div",{class:"tip"},[u("span",null,s("比按月支付最高省")),C(),u("span",null,"16%")]),u("div",{class:"triangle"}),u("div",{class:"pay-method"},[u("span",{class:"method"},s("一次交清")),u("span",{class:"acount"},s("比月交保费省最高2014元"))])],-1)))],Kt={key:2,class:"custom-cell check-btn-cell"},Wt=Nt((()=>u("div",{class:"cell-label"},"交费方式",-1))),Xt={class:"cell-content"},zt={class:"custom-cell common-cell"},Jt=Nt((()=>u("div",{class:"cell-label"},"实付保费",-1))),Zt={class:"cell-content actual-premium"},$t={key:0,class:"feerate-explain"},ea={class:"content"},ta=Nt((()=>u("div",{class:"triangle-top"},null,-1)));var aa=R(e({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}},configDetail:{type:Object,default:()=>{}},isMultiplePlan:{type:Boolean,default:!1},premium:{type:[Number||null],default:null}},emits:["onReset","onUpdate","onVerify"],setup(e,{expose:p,emit:f}){const h=e;y({});const g=t({formInfo:h.formInfo}),C=y([]),V=y(),L=y(),k=I((()=>{var e;return"1"===String(null==(e=V.value)?void 0:e.paymentFrequencyFlag)})),w=I((()=>{var e;return null==(e=L.value)?void 0:e.productPremiumVOList.find((e=>e.paymentFrequency===g.formInfo.paymentFrequency))})),A=I((()=>h.premium&&w.value?`${h.premium}${w.value.premiumUnit||""}`:w.value?`${w.value.paymentFrequencyValue||""}${w.value.premiumUnit||""}`:"")),D=I((()=>{if(L){const{premiumExplain:e,premiumExplainViewName:t,premiumExplainUri:a}=L.value||{};return{premiumExplain:e,premiumExplainUri:a,premiumExplainViewName:t}}return null}));a((()=>h.configDetail),(()=>{var e;h.isMultiplePlan&&h.configDetail&&(C.value=null==(e=h.configDetail.tenantProductInsureVO)?void 0:e.planList)}),{immediate:!0,deep:!0}),a([()=>h.configDetail,()=>h.isMultiplePlan,()=>g.formInfo.activePlanCode],(()=>{if(h.configDetail)if(h.isMultiplePlan){let e=0;const t=h.configDetail.tenantProductInsureVO.planList.findIndex((e=>e.planCode===g.formInfo.activePlanCode));t>-1&&(e=t),V.value=h.configDetail.tenantProductInsureVO.planList[e].productPlanInsureConditionVO,L.value=h.configDetail.tenantProductInsureVO.planList[e]}else V.value=h.configDetail.tenantProductInsureVO.planInsureVO.productPlanInsureConditionVO,L.value=h.configDetail.tenantProductInsureVO.planInsureVO}),{deep:!0,immediate:!0});const N=I((()=>{var e;if(V.value&&V.value.paymentFrequency){return((null==(e=V.value.paymentFrequency)?void 0:e.split(","))||[]).length>1}return!1})),b=y(!1);a((()=>V.value),(()=>{var e;if(V.value){const t=(null==(e=V.value.paymentFrequency)?void 0:e.split(","))||[];if(1===t.length)return g.formInfo.paymentFrequency=V.value.paymentFrequency,void(b.value=!1);if(2===t.length&&t.filter((e=>![ee.SINGLE,ee.MONTH].includes(e))).length<1)return void(b.value=!0);b.value=!1}}),{immediate:!0,deep:!0});const F=I((()=>{var e;return V.value?null==(e=V.value.paymentFrequencyList||[])?void 0:e.map((e=>({...e,paymentFrequency:e.skinValue}))):[]})),x=I((()=>F.value.length>0)),U=I((()=>h.isMultiplePlan?h.configDetail.tenantProductInsureVO.planList.map((e=>e.planPicList?{...e.planPicList,planCode:e.planCode,planName:e.planName}:null)).filter((e=>!!e)):[])),q=I((()=>{var e,t;if(V.value){const a=(null==(e=V.value.paymentFrequency)?void 0:e.split(","))||[];return 1===a.length&&(g.formInfo.paymentFrequency=a[0]),null==(t=a||[])?void 0:t.map((e=>({label:te[e],value:e})))}return[]})),R=e=>{g.formInfo.paymentFrequency=e},E=()=>{var e,t;(null==(e=D.value)?void 0:e.premiumExplainUri)?ce({fileType:"pdf",fileUri:null==(t=D.value)?void 0:t.premiumExplainUri}):S("无费率文件！")};return p({}),(t,a)=>{const p=n("ProRadioButton"),f=n("templat"),y=n("ProDivider"),I=n("van-config-provider");return l(),P(I,{"theme-vars":d(ge)},{default:r((()=>[u("div",bt,[u("div",Ft,s(d(N)?"交费方式":"保障计划"),1),e.isMultiplePlan?(l(),o(c,{key:0},[d(U).length>0?(l(),o("div",xt,[(l(!0),o(c,null,v(d(U),(e=>(l(),o("div",{key:e.planCode,class:m("picture-payment-item"),onClick:t=>{return a=e.planCode,void(g.formInfo.activePlanCode=a);var a}},[d(g).formInfo.activePlanCode==e.planCode?(l(),o("img",{key:0,src:e.selectedPic},null,8,qt)):(l(),o("img",{key:1,src:e.unSelectedPic},null,8,Rt))],8,Ut)))),128))])):(l(),o("div",Et,[Bt,u("div",Tt,[i(p,{modelValue:d(g).formInfo.activePlanCode,"onUpdate:modelValue":a[0]||(a[0]=e=>d(g).formInfo.activePlanCode=e),options:C.value,prop:{value:"planCode",label:"planName"}},null,8,["modelValue","options"])])]))],64)):O("",!0),d(k)?(l(),P(f,{key:1},{default:r((()=>[d(x)&&d(F).length>1?(l(),o("div",jt,[(l(!0),o(c,null,v(d(F),(e=>(l(),o("div",{key:e.paymentFrequency,class:m("picture-payment-item"),onClick:t=>R(e.paymentFrequency)},[d(g).formInfo.paymentFrequency==e.paymentFrequency?(l(),o("img",{key:0,src:e.selectedPic},null,8,Ht)):(l(),o("img",{key:1,src:e.unSelectedPic},null,8,Mt))],8,_t)))),128))])):b.value?(l(),o("div",Yt,[u("div",{class:m("com-payment-type-item "+(d(g).formInfo.paymentFrequency==d(ee).MONTH?"active":"")),onClick:a[1]||(a[1]=e=>R(d(ee).MONTH))},Qt,2),u("div",{class:m("com-payment-type-item "+(d(g).formInfo.paymentFrequency==d(ee).SINGLE?"active":"")),onClick:a[2]||(a[2]=e=>R(d(ee).SINGLE))},Gt,2)])):d(q).length>1?(l(),o("div",Kt,[Wt,u("div",Xt,[i(p,{modelValue:d(g).formInfo.paymentFrequency,"onUpdate:modelValue":a[3]||(a[3]=e=>d(g).formInfo.paymentFrequency=e),options:d(q)},null,8,["modelValue","options"])])])):O("",!0)])),_:1})):O("",!0),i(St,{"form-info":d(g).formInfo,"insure-detail":e.insureDetail,"config-detail":e.configDetail},null,8,["form-info","insure-detail","config-detail"]),d(w)&&d(w).premiumUnit?(l(),o(c,{key:2},[u("div",zt,[Jt,u("div",Zt,s(d(A)),1)]),d(D)&&d(D).premiumExplain&&d(D).premiumExplainViewName?(l(),o("div",$t,[u("div",ea,[ta,u("div",null,[u("span",null,s(d(D).premiumExplain||""),1),u("span",{class:"file-name",onClick:E},"《"+s(d(D).premiumExplainViewName||"")+"》",1)])])])):O("",!0)],64)):O("",!0)]),i(y)])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-0daa05e6"]]);const na={class:"page-internet-product-detail"},la={class:"info"},oa={class:"footer-area"},ia={class:"price"},ra=C(" 总保费"),ua=C(s("立即投保"));var sa=R(e({setup(e){var t,v;const m=he();N();const p=b(),{productCode:f="BWYL2021",tenantId:h,phoneNo:g,agentCode:C="",saleChannelId:V,paymentMethod:L,certNo:k,name:A,templateId:D,pageCode:R,from:E,extraInfo:B,insurerCode:T}=p.query;let j={};try{j=JSON.parse(decodeURIComponent(B))}catch(tt){}const{openId:_}=j,H=y(),Z=y(),$=y(),te=y(),ce=y(),ge=y(!1),Oe=y(!1),Pe=y(0),Ce=y(!1);y(!1);const ke=y(!1),we=y(""),Ae=y({});let De="";const Se=y(!0),be="alert",Fe="jumpToPage",xe=y({tenantId:h,agencyId:C,orderCategory:1,saleUserId:V,saleChannelId:V,venderCode:T,insuranceStartDate:null,insuranceEndDate:null,activePlanCode:"",paymentFrequency:ee.YEAR,insurancePeriodValue:"",commencementTime:"",tenantOrderHolder:{socialFlag:ae.HAS,extInfo:{hasSocialInsurance:ae.HAS}},tenantOrderInsuredList:[{dontFetchDefaultInfo:!1,socialFlag:ae.HAS,relationToHolder:ne.SELF,extInfo:{occupationCodeList:[],hasSocialInsurance:ae.HAS},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{tenantId:h,productCode:null==(t=$.value)?void 0:t.productCode,productName:null==(v=$.value)?void 0:v.productName,premium:ce.value||0}]}],extInfo:{buttonCode:"EVENT_SHORT_saveOrder",successJumpUrl:"",pageCode:"productInfo",extraInfo:j,templateId:null==j?void 0:j.templateId},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),Ue=I((()=>{var e,t,a,n,l,o;return!!$.value&&!!((null==(t=null==(e=$.value)?void 0:e.tenantProductInsureVO)?void 0:t.planList)&&Array.isArray(null==(n=null==(a=$.value)?void 0:a.tenantProductInsureVO)?void 0:n.planList)&&(null==(o=null==(l=$.value)?void 0:l.tenantProductInsureVO)?void 0:o.planList.length)>0)}));G({openId:_},(e=>{Ae.value=e}));const qe=I((()=>Ae.value[oe.SELF]&&Ae.value[oe.SELF].length>0)),Re=I((()=>qe.value&&Ae.value[oe.SELF]||[])),Ee=I((()=>qe.value&&xe.value.tenantOrderInsuredList[0]&&Ae.value[xe.value.tenantOrderInsuredList[0].relationToHolder]||[])),Be=I((()=>{var e,t,a;let n={};if(Ue.value?xe.value.activePlanCode&&(n=(null==(e=te.value)?void 0:e.planFactor[xe.value.activePlanCode])||{}):(null==(t=te.value)?void 0:t.productFactor)&&(n=null==(a=te.value)?void 0:a.productFactor),qe.value&&n[1]){const e=n[1].findIndex((e=>"verificationCode"===e.code&&1===e.isDisplay));e>-1&&(n[1][e].isDisplay=2)}return n}));a((()=>Ue.value),(()=>{var e,t;Ue.value&&(xe.value.activePlanCode=null==(t=null==(e=$.value)?void 0:e.tenantProductInsureVO)?void 0:t.planList[0].planCode)}),{immediate:!0});const Te=I((()=>{var e,t,a;return Ue.value?(null==(t=null==(e=te.value)?void 0:e.productRelationPlanVOList.find((e=>e.planCode===xe.value.activePlanCode)))?void 0:t.productRiskVoList)||[]:(null==(a=te.value)?void 0:a.productRiskVoList)||[]})),je=e=>{xe.value.activePlanCode=e},_e=I((()=>{var e,t,a;if((null==(e=te.value)?void 0:e.productQuestionnaireVOList)&&(null==(t=te.value)?void 0:t.productQuestionnaireVOList.length)>0){const e=null==(a=te.value)?void 0:a.productQuestionnaireVOList[0];if(e){const{basicInfo:{questionnaireType:t},questions:a}=e.questionnaireDetailResponseVO||{};return 2===t?[{attachmentName:null==e?void 0:e.questionnaireName,attachmentUri:a,attachmentType:"question"}]:[{attachmentName:null==e?void 0:e.questionnaireName,attachmentUri:a[0].content,attachmentType:ve(String(t),a[0].content)}]}}return[]})),He=y();a([()=>Ue.value,()=>xe.value.activePlanCode,()=>$.value],(()=>{var e,t;let a=null;if(Ue.value&&$.value){const t=null==(e=$.value)?void 0:e.tenantProductInsureVO.planList.find((e=>e.planCode===(xe.value.activePlanCode||"")));t&&(a=null==t?void 0:t.attachmentVOList)}else $.value&&(a=null==(t=$.value)?void 0:t.tenantProductInsureVO.planInsureVO.attachmentVOList);He.value=a?Object.keys(a).map((e=>(a[e].forEach((e=>{e.attachmentType=ve(String(e.attachmentType),e.attachmentUri)})),{attachmentName:e,attachmentList:a[e]}))):[]}),{immediate:!0});const Me=async(e,t)=>{const a=await Ve(e),{code:n,data:l}=a;"10000"===n&&(null==t||t())},Ye=()=>{Z.value.handleClickTab()("tab3")},Qe=e=>{Object.assign(xe.value.tenantOrderHolder,e)},Ke=e=>{Object.assign(xe.value.tenantOrderInsuredList[0],e)},We=e=>{Pe.value=e,Oe.value=!0},Xe=async()=>{const{code:e,data:t}=await re({orderNo:we.value,tenantId:h});"10000"===e&&(t.extInfo={...t.extInfo,buttonCode:"EVENT_SHORT_underWrite"},await Ie(t))},ze=async()=>{await Ie(((e={},t={},a={})=>{var n;const l={...a},o={tenantId:h,riskList:(null==(n=l.tenantOrderInsuredList[0])?void 0:n.tenantOrderProductList[0].riskVOList)||[],riskPremium:t,productId:null==e?void 0:e.productBasicInfoVO.id};return l.extInfo.iseeBizNo=De,l.commencementTime=l.insuranceStartDate,l.expiryDate=l.insuranceEndDate,l.tenantOrderInsuredList=l.tenantOrderInsuredList.map((e=>({...e,planCode:xe.value.activePlanCode?xe.value.activePlanCode:null}))),l.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:e.productBasicInfoVO.productCode,productName:e.productBasicInfoVO.productName,planCode:xe.value.activePlanCode?xe.value.activePlanCode:null,tenantOrderRiskList:fe(o)},l})(te.value,{},xe.value),(async(e,t)=>{t===Fe&&(null==e?void 0:e.orderNo)&&(we.value=null==e?void 0:e.orderNo,He.value.length>0?(Se.value=!1,We(0)):_e.value.length>0?ge.value=!0:await Xe())}))},Je=async(e,t,a,n=!0)=>{var l,o;const i=y(!0);try{const r=pe(a).map((t=>({...t,paymentFrequency:e.paymentFrequency,insurancePeriodValue:e.insurancePeriodValue}))),u={tenantId:h,productCode:null==(l=$.value)?void 0:l.productCode,insuranceStartDate:e.insuranceStartDate,insuranceEndDate:e.insuranceEndDate,commencementTime:e.insuranceStartDate,expiryDate:e.insuranceEndDate,holder:{personVO:{...e.tenantOrderHolder,socialFlag:e.tenantOrderHolder.extInfo.hasSocialInsurance}},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",relationToHolder:e.relationToHolder,personVO:{...e,socialFlag:e.extInfo.hasSocialInsurance},productPlanVOList:[{insurerCode:t.productBasicInfoVO.insurerCode,planCode:xe.value.activePlanCode?xe.value.activePlanCode:null,riskVOList:r}]})))},{code:s,message:d}=await ue(u);if("10000"===s){Q(i,"保费试算中");const{code:e,data:t}=await se(u);if("10000"===e){i.value=!1;const{pageAction:e,message:a,data:l}=t.pageAction||{};if(e===be)return void S(a);xe.value.tenantOrderInsuredList[0].tenantOrderProductList=null==(o=u.insuredVOList[0])?void 0:o.productPlanVOList,ce.value=t.premium,xe.value.orderAmount=t.premium,xe.value.orderRealAmount=t.premium,n||ze()}}else S(d)}catch(tt){i.value=!1}},Ze=async()=>{var e;try{H.value&&(null==(e=H.value)||e.validateForm().then((async()=>{var e;if(qe.value)await Je(xe.value,te.value,Te.value,!1);else{const t=null==(e=xe.value.tenantOrderHolder)?void 0:e.verificationCode;if(!t||!me(t))return void S({message:"请输入正确的验证码"});const{code:a,data:n}=await Le(xe.value.tenantOrderHolder.mobile,t);"10000"===a&&await Je(xe.value,te.value,Te.value,!1)}})))}catch(t){}},$e=e=>{"allFalse"===e?(ge.value=!1,Xe()):x.confirm({message:"被保人不符合健康要求，很抱歉暂时无法投保该产品",confirmButtonText:"选错了",cancelButtonText:"为其他人投保"}).then((()=>{})).catch((()=>{ge.value=!1}))},et=()=>{Oe.value=!1,_e.value.length<1?Xe():ge.value=!0};a((()=>xe.value.tenantOrderInsuredList[0].relationToHolder),(()=>{xe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance=ne.SELF}),{deep:!0,immediate:!0}),a([()=>xe.value.tenantOrderInsuredList[0].birthday,()=>xe.value.tenantOrderInsuredList[0].gender,()=>xe.value.tenantOrderInsuredList[0].mobile,()=>xe.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance,()=>xe.value.activePlanCode,()=>xe.value.paymentFrequency,()=>xe.value.insurancePeriodValue],U((()=>{const{birthday:e,gender:t,extInfo:{hasSocialInsurance:a}}=xe.value.tenantOrderInsuredList[0];e&&t&&xe.value.paymentFrequency&&Je(xe.value,te.value,Te.value)}),500)),a((()=>xe.value.tenantOrderInsuredList[0]),(e=>{if(M(Ae.value))return null;const t=Ae.value[e.relationToHolder]||[];return 1===t.length&&(oe.SELF!==e.relationToHolder?xe.value.tenantOrderInsuredList[0].dontFetchDefaultInfo||(xe.value.tenantOrderInsuredList[0].dontFetchDefaultInfo=!0,xe.value.tenantOrderInsuredList[0].certNo=xe.value.tenantOrderInsuredList[0].certNo?xe.value.tenantOrderInsuredList[0].certNo:t[0].cert[0].certNo,xe.value.tenantOrderInsuredList[0].name=xe.value.tenantOrderInsuredList[0].name?xe.value.tenantOrderInsuredList[0].name:t[0].cert[0].certName):xe.value.tenantOrderHolder.dontFetchDefaultInfo||(xe.value.tenantOrderHolder.dontFetchDefaultInfo=!0,xe.value.tenantOrderHolder.certNo=xe.value.tenantOrderHolder.certNo?xe.value.tenantOrderHolder.certNo:t[0].cert[0].certNo,xe.value.tenantOrderHolder.name=xe.value.tenantOrderHolder.name?xe.value.tenantOrderHolder.name:t[0].cert[0].certName)),!1}),{immediate:!0,deep:!0});return F((()=>{(async()=>{var e;const t=await de({productCode:f,withInsureInfo:!0,tenantId:h});"10000"===t.code&&(ke.value=!0,$.value={...t.data},document.title=(null==(e=t.data)?void 0:e.productFullName)||"");const a=await ie({productCode:f});"10000"===a.code&&(te.value=a.data)})(),setTimeout((async()=>{De=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,t)=>{const a=n("van-config-provider");return l(),o(c,null,[i(a,{"theme-vars":d(m)},{default:r((()=>{var a,n,o,c,v,p,f,y,I;return[u("div",na,[u("div",la,[i(K,{url:null==(n=null==(a=$.value)?void 0:a.tenantProductInsureVO)?void 0:n.banner[0]},null,8,["url"]),(null==(c=null==(o=$.value)?void 0:o.tenantProductInsureVO)?void 0:c.bannerMove)?(l(),P(K,{key:0,url:null==(p=null==(v=$.value)?void 0:v.tenantProductInsureVO)?void 0:p.bannerMove[0],onClick:Ye},null,8,["url"])):O("",!0)]),i(Ge,{"show-service-config":"","data-source":null==(f=$.value)?void 0:f.tenantProductInsureVO,"is-multiple-plan":d(Ue),"active-plan-code":xe.value.activePlanCode,onUpdateActivePlan:je},null,8,["data-source","is-multiple-plan","active-plan-code"]),i(lt,{ref_key:"detailScrollRef",ref:Z,detail:$.value},{form:r((()=>[i(ye,{ref_key:"formRef",ref:H,"title-collection":{HOLDER:"本人信息（投保人）",INSURER:"为谁投保（被保人）"},"form-info":xe.value,"send-sms-code":Me,"factor-object":d(Be)||{}},w({_:2},[d(Re).length>1?{name:"holderName",fn:r((()=>[i(Ne,{"user-info":xe.value.tenantOrderHolder,data:d(Re),onChange:Qe},null,8,["user-info","data"])]))}:void 0,d(Ee).length>1?{name:"insurerName",fn:r((()=>[i(Ne,{title:"选择被保人","user-info":xe.value.tenantOrderInsuredList[0],data:d(Ee),onChange:Ke},null,8,["user-info","data"])]))}:void 0]),1032,["form-info","factor-object"]),i(aa,{"form-info":xe.value,"insure-detail":te.value,"config-detail":$.value,"is-multiple-plan":d(Ue),"risk-info-period-list":e.riskInfoPeriodList,premium:ce.value},null,8,["form-info","insure-detail","config-detail","is-multiple-plan","risk-info-period-list","premium"])])),_:1},8,["detail"]),(null==(y=$.value)?void 0:y.tenantProductInsureVO.inscribedContent)?(l(),P(W,{key:0,"inscribed-content":null==(I=$.value)?void 0:I.tenantProductInsureVO.inscribedContent},null,8,["inscribed-content"])):O("",!0),He.value&&He.value.length>0?(l(),P(X,{key:1,"attachement-list":He.value,"pre-text":"请阅读",onPreviewFile:t[0]||(t[0]=e=>We(e))},null,8,["attachement-list"])):O("",!0),u("div",oa,[u("div",ia,[ra,u("span",null,s(ce.value?"￥":"")+s(d(Y)(ce.value))+" "+s(ce.value?xe.value.paymentFrequency==d(le).YEAR?"元/年":"元/月":""),1)]),i(q,{shadow:!1,"theme-vars":d(m),class:"right",text:"立即投保",onClick:Ze},{default:r((()=>[ua])),_:1},8,["theme-vars"])])]),ke.value?(l(),P(z,{key:0,"product-detail":$.value},null,8,["product-detail"])):O("",!0)]})),_:1},8,["theme-vars"]),i(yt,{show:ge.value,"onUpdate:show":t[1]||(t[1]=e=>ge.value=e),"content-list":d(_e),"active-index":0,onOnConfirmHealth:$e},null,8,["show","content-list"]),Oe.value?(l(),P(J,{key:0,show:Oe.value,"onUpdate:show":t[2]||(t[2]=e=>Oe.value=e),"content-list":He.value,"is-only-view":Se.value,"active-index":Pe.value,text:Se.value?"关闭":"我已逐页阅读并确认告知内容","force-read-cound":0,"on-close-file-preview":"",onSubmit:et},null,8,["show","content-list","is-only-view","active-index","text"])):O("",!0),i(ut,{"is-show":Ce.value},null,8,["is-show"])],64)}}}),[["__scopeId","data-v-03135eee"]]);export{sa as default};
