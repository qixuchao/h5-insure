import{ref as e,onBeforeMount as o}from"vue";import{a as n,u as a,aG as t,aH as r,o as d,T as s}from"./index-d66a20d8.js";import{T as i}from"./infoCollection-e6a8a0ee.js";import{T as l}from"./constant-8927d485.js";import"./pdfh5-e588f83d.js";const u={class:"page-middle-wrapper"},c=[vue.createElementVNode("h4",null,null,-1)],p=vue.defineComponent({__name:"index",setup(p){const m=n(),f=a(),I=e(""),{extraInfo:C,agencyCode:v,insurerCode:g,productCode:y,agentCode:h,saleChannelId:x}=f.query;console.log("middlePage route.query-------",f.query);let q={};try{q=JSON.parse(decodeURIComponent(C))}catch($){}const{templateId:N,tenantId:j,orderNo:R}=q,U=e=>{t({param:e}).then((({code:e,data:o})=>{"10000"===e&&o?(()=>{var e;if(N===l.UPGRADE&&R){const o={insurerCode:g,productCode:y,tenantId:j||(null==(e=f.query)?void 0:e.tenantId),agencyCode:v,agentCode:h,orderNo:R,saleChannelId:x};return o.extraInfo=decodeURIComponent(JSON.stringify({...q,templateId:N})),void m.push(`/baseInsurance/upgrade?${d.stringify(o)}`)}if(!N||!i[N])return void s("链接上模板ID不正确不正确，请检查链接");const o=`/baseInsurance/${i[N]}`;m.replace(encodeURI(`${o}?${d.stringify(f.query)}`))})():I.value="验证失败"}))};return o((()=>{var e;U((e=window.location.search,r(["ext"],e).split("?")[1]))})),(e,o)=>(vue.openBlock(),vue.createElementBlock("div",u,c))}});export{p as default};
