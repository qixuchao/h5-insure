System.register(["./index-legacy-dee7ea74.js","./infoCollection-legacy-aff17138.js","./trial-legacy-8406851d.js","./pdfh5-legacy-9f98dc45.js"],(function(e){"use strict";var t,n,a,r,c,d,o,s,u,i,l,p,f;return{setters:[function(e){t=e.d,n=e.u,a=e.a,r=e.r,c=e.al,d=e.c,o=e.h,s=e.at,u=e.j,i=e.a9},function(e){l=e.f,p=e.P},function(e){f=e.q},function(){}],execute:function(){const g={class:"page-middle-wrapper"},C=[u("h4",null,null,-1)];e("default",t({__name:"index",setup(e){const t=n(),u=a(),I=r(""),{extraInfo:y,agencyCode:h,templateId:m,pageCode:x,insurerCode:$,productCode:R,agentCode:U,saleChannelId:j}=u.query;let w={};try{w=JSON.parse(decodeURIComponent(y))}catch(A){}const{templateId:N,openId:b,tenantId:q,orderNo:v}=w,E=()=>{try{const e=b?m:N;if(e)return`/baseInsurance/${l[e]}`;switch(x){case p.FREE:return`/chuangxin/baigebao/${x}`;case p.COMMON:return"/internet/productDetail";case p.UPGRADE:return"/internet/guaranteeUpgrade";case p.PACKAGE:return"/internet/productDetail/package";default:return""}}catch(e){return""}},O=e=>{s({param:e}).then((({code:n,data:a})=>{if("10000"===n&&a)if(b){const n=E();t.replace(encodeURI(`${n}?${e}`))}else(e=>{if("4"===N&&v){const e={insurerCode:$,productCode:R,tenantId:q||u.query?.tenantId,agencyCode:h,agentCode:U,orderNo:v,saleChannelId:j};return e.extraInfo=decodeURIComponent(JSON.stringify({...w,templateId:N})),void t.push(`/baseInsurance/upgrade?${i.stringify(e)}`)}let n=e;const a=E();a&&(n=a),t.replace(encodeURI(`${n}?${i.stringify(u.query)}`))})();else I.value="验证失败"}))};return c((()=>{b?(async()=>{const{code:e,data:t}=await f({insurerCode:$,productCode:R,tenantId:q,agencyCode:h,extraMap:{...w,templateId:m}});"10000"===e&&O((t||"").split("?")[1])})():O(window.location.search.replace("?",""))})),(e,t)=>(d(),o("div",g,C))}}))}}}));
