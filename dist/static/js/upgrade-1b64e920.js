import{b5 as e,b6 as t,b7 as a,b8 as r,b9 as n,ba as o,bb as s,aP as c,bc as i,bd as l,be as u,aR as d,bf as p,bg as v,_ as f,d as b,aW as y,b4 as m,u as h,a as j,r as A,z as g,y as _,b as w,c as x,g as I,e as O,w as k,i as P,f as S,l as D,j as C,aC as F,t as B,n as L,aZ as R,T as U,K as N,L as E,aK as V}from"./index-0879500c.js";import{p as z}from"./product-e6dc8e50.js";import{d as M,i as T,g as J,s as W,e as G,E as Z}from"./trial-0eb03701.js";import{a as Y,t as H,c as $,s as Q,b as X,d as K}from"./utils-45cd8954.js";import{a as q}from"./order-d40ed240.js";import ee from"./index-804a648f.js";import{u as te}from"./theme-65292714.js";import{B as ae}from"./index-278644eb.js";import re from"./index-c3762a1e.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-fdf7ce89.js";import"./useStorage-41015a89.js";import"./trial-1d723ee6.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-5037eb69.js";function ne(t){var a=this.__data__=new e(t);this.size=a.size}ne.prototype.clear=function(){this.__data__=new e,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(r,n){var o=this.__data__;if(o instanceof e){var s=o.__data__;if(!t||s.length<199)return s.push([r,n]),this.size=++o.size,this;o=this.__data__=new a(s)}return o.set(r,n),this.size=o.size,this};var oe=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function se(e,t,a){"__proto__"==t&&oe?oe(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var ce=Object.prototype.hasOwnProperty;function ie(e,t,a){var r=e[t];ce.call(e,t)&&n(r,a)&&(void 0!==a||t in e)||se(e,t,a)}function le(e,t,a,r){var n=!a;a||(a={});for(var o=-1,s=t.length;++o<s;){var c=t[o],i=r?r(a[c],e[c],c,a,e):void 0;void 0===i&&(i=e[c]),n?se(a,c,i):ie(a,c,i)}return a}function ue(e){return o(e)&&"[object Arguments]"==s(e)}var de=Object.prototype,pe=de.hasOwnProperty,ve=de.propertyIsEnumerable,fe=ue(function(){return arguments}())?ue:function(e){return o(e)&&pe.call(e,"callee")&&!ve.call(e,"callee")};var be="object"==typeof exports&&exports&&!exports.nodeType&&exports,ye=be&&"object"==typeof module&&module&&!module.nodeType&&module,me=ye&&ye.exports===be?c.Buffer:void 0,he=(me?me.isBuffer:void 0)||function(){return!1},je=/^(?:0|[1-9]\d*)$/;function Ae(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&je.test(e))&&e>-1&&e%1==0&&e<t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var _e={};function we(e){return function(t){return e(t)}}_e["[object Float32Array]"]=_e["[object Float64Array]"]=_e["[object Int8Array]"]=_e["[object Int16Array]"]=_e["[object Int32Array]"]=_e["[object Uint8Array]"]=_e["[object Uint8ClampedArray]"]=_e["[object Uint16Array]"]=_e["[object Uint32Array]"]=!0,_e["[object Arguments]"]=_e["[object Array]"]=_e["[object ArrayBuffer]"]=_e["[object Boolean]"]=_e["[object DataView]"]=_e["[object Date]"]=_e["[object Error]"]=_e["[object Function]"]=_e["[object Map]"]=_e["[object Number]"]=_e["[object Object]"]=_e["[object RegExp]"]=_e["[object Set]"]=_e["[object String]"]=_e["[object WeakMap]"]=!1;var xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ie=xe&&"object"==typeof module&&module&&!module.nodeType&&module,Oe=Ie&&Ie.exports===xe&&i.process,ke=function(){try{var e=Ie&&Ie.require&&Ie.require("util").types;return e||Oe&&Oe.binding&&Oe.binding("util")}catch(t){}}(),Pe=ke&&ke.isTypedArray,Se=Pe?we(Pe):function(e){return o(e)&&ge(e.length)&&!!_e[s(e)]},De=Object.prototype.hasOwnProperty;function Ce(e,t){var a=l(e),r=!a&&fe(e),n=!a&&!r&&he(e),o=!a&&!r&&!n&&Se(e),s=a||r||n||o,c=s?function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}(e.length,String):[],i=c.length;for(var u in e)!t&&!De.call(e,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ae(u,i))||c.push(u);return c}var Fe=Object.prototype;function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fe)}function Le(e,t){return function(a){return e(t(a))}}var Re=Le(Object.keys,Object),Ue=Object.prototype.hasOwnProperty;function Ne(e){return null!=e&&ge(e.length)&&!u(e)}function Ee(e){return Ne(e)?Ce(e):function(e){if(!Be(e))return Re(e);var t=[];for(var a in Object(e))Ue.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e)}var Ve=Object.prototype.hasOwnProperty;function ze(e){if(!d(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=Be(e),a=[];for(var r in e)("constructor"!=r||!t&&Ve.call(e,r))&&a.push(r);return a}function Me(e){return Ne(e)?Ce(e,!0):ze(e)}var Te="object"==typeof exports&&exports&&!exports.nodeType&&exports,Je=Te&&"object"==typeof module&&module&&!module.nodeType&&module,We=Je&&Je.exports===Te?c.Buffer:void 0,Ge=We?We.allocUnsafe:void 0;function Ze(){return[]}var Ye=Object.prototype.propertyIsEnumerable,He=Object.getOwnPropertySymbols,$e=He?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,o=[];++a<r;){var s=e[a];t(s,a,e)&&(o[n++]=s)}return o}(He(e),(function(t){return Ye.call(e,t)})))}:Ze;function Qe(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}var Xe=Le(Object.getPrototypeOf,Object),Ke=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Qe(t,$e(e)),e=Xe(e);return t}:Ze;function qe(e,t,a){var r=t(e);return l(e)?r:Qe(r,a(e))}function et(e){return qe(e,Ee,$e)}function tt(e){return qe(e,Me,Ke)}var at=r(c,"DataView"),rt=r(c,"Promise"),nt=r(c,"Set"),ot=r(c,"WeakMap"),st=p(at),ct=p(t),it=p(rt),lt=p(nt),ut=p(ot),dt=s;(at&&"[object DataView]"!=dt(new at(new ArrayBuffer(1)))||t&&"[object Map]"!=dt(new t)||rt&&"[object Promise]"!=dt(rt.resolve())||nt&&"[object Set]"!=dt(new nt)||ot&&"[object WeakMap]"!=dt(new ot))&&(dt=function(e){var t=s(e),a="[object Object]"==t?e.constructor:void 0,r=a?p(a):"";if(r)switch(r){case st:return"[object DataView]";case ct:return"[object Map]";case it:return"[object Promise]";case lt:return"[object Set]";case ut:return"[object WeakMap]"}return t});var pt=dt,vt=Object.prototype.hasOwnProperty;var ft=c.Uint8Array;function bt(e){var t=new e.constructor(e.byteLength);return new ft(t).set(new ft(e)),t}var yt=/\w*$/;var mt=v?v.prototype:void 0,ht=mt?mt.valueOf:void 0;function jt(e,t,a){var r,n,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return bt(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var a=t?bt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var a=t?bt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(e,a);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(n=e).constructor(n.source,yt.exec(n))).lastIndex=n.lastIndex,o;case"[object Symbol]":return r=e,ht?Object(ht.call(r)):{}}}var At=Object.create,gt=function(){function e(){}return function(t){if(!d(t))return{};if(At)return At(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();var _t=ke&&ke.isMap,wt=_t?we(_t):function(e){return o(e)&&"[object Map]"==pt(e)};var xt=ke&&ke.isSet,It=xt?we(xt):function(e){return o(e)&&"[object Set]"==pt(e)},Ot={};function kt(e,t,a,r,n,o){var s,c=1&t,i=2&t,u=4&t;if(a&&(s=n?a(e,r,n,o):a(e)),void 0!==s)return s;if(!d(e))return e;var p=l(e);if(p){if(s=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!c)return function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}(e,s)}else{var v=pt(e),f="[object Function]"==v||"[object GeneratorFunction]"==v;if(he(e))return function(e,t){if(t)return e.slice();var a=e.length,r=Ge?Ge(a):new e.constructor(a);return e.copy(r),r}(e,c);if("[object Object]"==v||"[object Arguments]"==v||f&&!n){if(s=i||f?{}:function(e){return"function"!=typeof e.constructor||Be(e)?{}:gt(Xe(e))}(e),!c)return i?function(e,t){return le(e,Ke(e),t)}(e,function(e,t){return e&&le(t,Me(t),e)}(s,e)):function(e,t){return le(e,$e(e),t)}(e,function(e,t){return e&&le(t,Ee(t),e)}(s,e))}else{if(!Ot[v])return n?e:{};s=jt(e,v,c)}}o||(o=new ne);var b=o.get(e);if(b)return b;o.set(e,s),It(e)?e.forEach((function(r){s.add(kt(r,t,a,r,e,o))})):wt(e)&&e.forEach((function(r,n){s.set(n,kt(r,t,a,n,e,o))}));var y=p?void 0:(u?i?tt:et:i?Me:Ee)(e);return function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););}(y||e,(function(r,n){y&&(r=e[n=r]),ie(s,n,kt(r,t,a,n,e,o))})),s}Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object DataView]"]=Ot["[object Boolean]"]=Ot["[object Date]"]=Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object Symbol]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object WeakMap]"]=!1;const Pt=e=>(N("data-v-44c342e1"),e=e(),E(),e),St={key:0},Dt=[Pt((()=>P("div",{class:"__skeleton_free_content__"},[P("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px","--6a485862-state_colors_1_":"#ddd"}},[P("div",{class:"page-free-product-detail"},[P("div",{class:"van-image banner",style:{width:"375px",height:"185px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[P("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221213/b38ae9c8c023488bb4fb4bdc2c67a211/wecom-temp-b44cd90cb804d1826e7824adc3b386e9(1).png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzhaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=gAgGPVirtYpSJtdYcnN1W3zpIbQ%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),P("div",{class:"free-card",style:{"--0c47bddc-props_colors_0_":"#ddd","--0c47bddc-props_colors_1_":"#ddd"}},[P("div",{class:"container"},[P("div",{class:"title"},[P("svg",{class:"svg-icon icon-free-arrow"},[P("use",{"xlink:href":"#icon-free-arrow"})]),P("span",null,[P("span",{class:"sk-text",style:{"--fp":"0.00%","--sp":"100.00%","--lh":"16.0001px"}},"最后一步 填写信息")]),P("svg",{class:"svg-icon icon-free-arrow"},[P("use",{"xlink:href":"#icon-free-arrow"})])]),P("div",{class:"page-info-wrapper"},[P("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[P("form",{class:"van-form"},[P("div",{class:"com-card"},[P("div",{class:"com-card-wrap"},[P("div",{class:"header"}),P("div",{class:"body",style:{height:"auto"}},[P("div",{class:"com-personal-wrapper"},[P("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[P("div",{class:"van-cell__title van-field__label van-field__label--left"},[P("label",{id:"van-field-1-label",for:"van-field-1-input"},[P("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),P("div",{class:"van-cell__value van-field__value"},[P("div",{class:"van-field__body"},[P("input",{type:"text",id:"van-field-1-input",name:"holder_mobile",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-1-label"}),P("div",{class:"van-field__right-icon"})])])]),P("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[P("div",{class:"van-cell__title van-field__label van-field__label--left"},[P("label",{id:"van-field-2-label",for:"van-field-2-input"},[P("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),P("div",{class:"van-cell__value van-field__value"},[P("div",{class:"van-field__body"},[P("input",{type:"tel",inputmode:"numeric",id:"van-field-2-input",name:"holder_verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-2-label"}),P("div",{class:"van-field__right-icon"})])]),P("div",{class:"button-extra"},[P("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain sms-code sk-button"},[P("div",{class:"van-button__content"},[P("span",{class:"van-button__text"},[P("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"验证码")])])])])])])])])])])])]),P("div",{class:"pro-shadow-button submit-btn"},[P("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button shadow sk-button"},[P("div",{class:"van-button__content"},[P("span",{class:"van-button__text"},[P("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"激活保障")])])])]),P("div",{class:"com-attachment-list"},[P("span",null,[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《免责条款说明》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《被保险人同意声明》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款费率》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《保险经纪委托合同》 ")]),P("span",{class:"attachment-item"},[P("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《客户告知书》 ")])])])]),P("div",{class:"product-desc"},[P("div",{class:"van-image",style:{width:"100%"}},[P("img",{class:"van-image__img","data-src":"https://za-obs-prod.obs.cn-north-4.myhuaweicloud.com:443/common/20221211/dff441c3bcf94b2d8f08e6ec3f4267ec/产品介绍.png?AccessKeyId=LLSTLZA8R9JY8AJRF7ZF&Policy=eyJleHBpcmF0aW9uIjoiMjAyMi0xMi0yM1QwNDowNTo1OS41NzlaIiwiY29uZGl0aW9ucyI6W1sic3RhcnRzLXdpdGgiLCIka2V5IiwiIl0sWyJlcSIsIiRidWNrZXQiLCJ6YS1vYnMtcHJvZCJdXX0=&Signature=%2B%2FGYArnGmx9sMDCEvOBvjfpiZsU%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})])])])])],-1)))],Ct={class:"page-upgrade-product-detail"},Ft={class:"footer-area"},Bt=Pt((()=>P("span",null,"分享",-1))),Lt={class:"upgrade-submit"},Rt={class:"price"},Ut={class:"num"},Nt=Pt((()=>P("span",{class:"unit"},"元/月",-1))),Et=L(B("升级保障"));var Vt=f(b({setup(e){const t=y((()=>R((()=>import("./index-fb83b89d.js")),["static/js/index-fb83b89d.js","static/css/index-b9ba3011.css","static/js/index-0879500c.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),a=y((()=>R((()=>import("./index-f04eafb5.js")),["static/js/index-f04eafb5.js","static/css/index-ea588f10.css","static/js/index-0879500c.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-c3762a1e.js","static/css/index-2dbcd337.css","static/js/utils-45cd8954.js","static/js/infoCollection-fdf7ce89.js","static/js/useStorage-41015a89.js","static/js/trial-1d723ee6.js"]))),r=m(),n=te(),o=h(),s=j(),{productCode:c="",orderNo:i="",agencyCode:l="",tenantId:u="",saleChannelId:d="",extraInfo:p}=s.query;let v={};try{v=JSON.parse(decodeURIComponent(p))}catch(_e){}const{openId:f,indirectCode:b="",agentCode:L}=v,N=A(!0),E=A(),ne=A();A();const oe=A(),se=A(),ce=A(),ie=A(),le=A(0),ue=A();A(!1),A(!1),A(0);const de=A(""),pe=A(!1),ve=A(),fe=g({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),be=A({imgUrl:"",desc:"",title:"",link:window.location.href}),ye=()=>{fe.showFilePreview=!1,fe.isOnlyView=!0},me=e=>{var t;const a=null==(t=e.tenantOrderPaymentInfoList)?void 0:t.pop();return a?a.paymentMethod:3},he=async e=>{const t=X({tenantId:u,premium:le.value,orderDetail:ie.value,productDetail:se.value,insureDetail:ce.value,successJumpUrl:`${V}/baseInsurance/orderDetail?tenantId=${u}&orderNo=${de.value}`,iseeBizNo:E.value}),a=await Z({orderNo:e,...t}),{code:r,data:n}=a;"10000"===r&&o.push(`/baseInsurance/orderDetail?tenantId=${u}&orderNo=${de.value}`)},je=async e=>{try{U.loading({forbidClick:!0,message:"升级中",duration:0});const e=await(async()=>{var e,t,a;const r=Y({tenantId:u,templateId:ie.value.tenantOrderInsuredList[0].templateId,applicationNo:ie.value.applicationNo,policyNo:ie.value.policyNo,saleUserId:L,saleChannelId:ie.value.saleChannelId,orderStatus:q.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:se.value,insureDetail:ce.value,paymentMethod:me(ie.value),renewalDK:null==(t=null==(e=ie.value.extInfo)?void 0:e.extraInfo)?void 0:t.renewalDK,iseeBizNo:E.value,expiryDate:ie.value.expiryDate,successJumpUrl:"",premium:le.value,holder:{...ie.value.tenantOrderHolder,extInfo:ve.value,socialFlag:ve.value.hasSocialInsurance},insured:{...ie.value.tenantOrderInsuredList[0],socialFlag:ie.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:H({tenantId:u,riskList:$(Q(ce.value.productRiskVoList[0].riskDetailVOList),se.value),riskPremium:{},productId:null==(a=se.value)?void 0:a.id})}),n=await W(r),{code:o,data:s}=n;return"10000"===o?s.data:""})();await M({tenantId:u,applicationNo:ie.value.applicationNo});if(de.value=e,ue.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),t=`${ue.value}&failUrl=${e}`;window.location.href=t,U.clear()}else he(e)}catch(t){U.clear()}},Ae=async e=>{je()},ge=()=>{const e=z({productCode:c,withInsureInfo:!0,tenantId:u}),t=T({productCode:c}),a=J({orderNo:i,tenantId:u});Promise.all([e,t,a]).then((([e,t,a])=>{var r,n,o;if("10000"===e.code){se.value=e.data,document.title=(null==(r=e.data)?void 0:r.productFullName)||"";const{title:t,desc:a,image:s}=(null==(n=e.data)?void 0:n.showConfigVO)||{};o={title:t,desc:a,image:s},be.value={desc:o.desc||"你好，这里是描述",imgUrl:o.image,title:o.title,link:window.location.href}}"10000"===t.code&&(ce.value=t.data),"10000"===a.code&&(ie.value=a.data,ve.value=kt(ie.value.tenantOrderHolder.extInfo,5),ie.value.tenantOrderHolder.extInfo=ie.value.tenantOrderInsuredList[0].extInfo),N.value=!1,(async()=>{U.loading({forbidClick:!0,duration:0,message:"试算中"});try{const e=X({tenantId:u,premium:le.value,orderDetail:ie.value,productDetail:se.value,insureDetail:ce.value,successJumpUrl:""},K),t=await G(e),{code:a,data:r,message:n}=t;"10000"===a?(le.value=r.installmentPremium,ue.value=r.signUrl):"已升级成功"===n&&(pe.value=!0)}catch(e){}finally{setTimeout((()=>{U.clear()}),2e3)}})(),(()=>{var e;let t={};if(t=(null==(e=se.value.tenantProductInsureVO.planInsureVO)?void 0:e.attachmentVOList)||[],!t)return void(ne.value=[]);const a={2:"richText",3:"link"};ne.value=Object.keys(t).map((e=>(t[e].forEach((e=>{if("1"===e.attachmentType){const t=e.attachmentUri.split("?"),a=t[0].substr(t[0].lastIndexOf(".")+1);e.attachmentType="pdf"===a?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:e,attachmentList:t[e]})))||[]})()}))};return _((()=>{ge(),setTimeout((async()=>{E.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,o)=>{const s=w("ProField"),c=w("ProSvg"),i=w("ProShare"),l=w("van-config-provider");return N.value?(x(),I("div",St,Dt)):(x(),O(l,{key:1,"data-skeleton-root":"FREE","theme-vars":D(n)},{default:k((()=>{var e,l,u;return[P("div",Ct,[S(ae,{"data-skeleton-type":"img",url:null==(l=null==(e=se.value)?void 0:e.tenantProductInsureVO)?void 0:l.banner[0]},null,8,["url"]),S(ee,{ref_key:"formRef",ref:oe,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":"","input-align":"right","form-info":ie.value,"factor-object":null==(u=ce.value)?void 0:u.productFactor},null,8,["form-info","factor-object"]),S(s,{modelValue:le.value,"onUpdate:modelValue":o[0]||(o[0]=e=>le.value=e),"input-align":"right",label:"每月保费",name:"insuredBeneficiaryType"},null,8,["modelValue"]),ne.value&&ne.value.length>0?(x(),O(D(t),{key:0,class:"attachment-bg","attachement-list":ne.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:o[1]||(o[1]=e=>(e=>{fe.isOnlyView=!0,fe.activeIndex=e,fe.showFilePreview=!0})(e))},null,8,["attachement-list"])):C("",!0),P("div",Ft,[D(r)?(x(),O(i,F({key:0},be.value,{class:"share-btn"}),{default:k((()=>[S(c,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),Bt])),_:1},16)):C("",!0),P("div",Lt,[P("div",Rt,[P("span",Ut,B(le.value),1),Nt]),S(re,{shadow:!1,disabled:pe.value,"theme-vars":D(n),class:"right",text:"升级保障",onClick:Ae},{default:k((()=>[Et])),_:1},8,["disabled","theme-vars"])])])]),D(fe).showFilePreview&&0!==ne.value.length?(x(),O(D(a),{key:0,show:D(fe).showFilePreview,"onUpdate:show":o[2]||(o[2]=e=>D(fe).showFilePreview=e),"content-list":ne.value,"is-only-view":D(fe).isOnlyView,"active-index":D(fe).activeIndex,text:D(fe).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:je,onOnCloseFilePreview:ye},null,8,["show","content-list","is-only-view","active-index","text"])):C("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-44c342e1"]]);export{Vt as default};
