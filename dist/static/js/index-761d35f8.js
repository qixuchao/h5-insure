var Ke=Object.defineProperty,je=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var ye=(t,a,o)=>a in t?Ke(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,ae=(t,a)=>{for(var o in a||(a={}))Ge.call(a,o)&&ye(t,o,a[o]);if(ge)for(var o of ge(a))Je.call(a,o)&&ye(t,o,a[o]);return t},ne=(t,a)=>je(t,ze(a));import{g as Z,Q as Pe,E as M,y as X,j as p,n as V,z as u,J as H,p as d,L as Oe,A as n,B as Qe,a4 as pe,a5 as _e,F as W,G as z,k as G,C as Q,t as J,r as U,m as B,M as Se,_ as de,a9 as Xe,O as Ze,h as et,af as tt,H as ot,l as at,T as nt}from"./vendor-667a94d7.js";import{_ as ee,u as lt,q as Ne,a2 as se,x as re,l as ue,a8 as be,G as st,z as rt,Q as Fe,A as ut,a3 as Ie,O as it}from"./index-32fbbf52.js";import{P as dt}from"./index-53dbf54f.js";import{c as ct}from"./close-df102554.js";import{a as ce,S as Ce,R as mt,f as ie}from"./infoCollection-242da9b6.js";import{A as ft}from"./bankCard-b0679059.js";import{a as pt,t as _t,b as we,c as ht,g as vt}from"./theme-c57feeae.js";import{b as me,v as Dt}from"./validator-ebd71d12.js";import{a as Ee}from"./order-b675ac95.js";import{p as Be,i as gt,s as yt,a as bt,u as Ft,b as It}from"./trial-7c8d95a3.js";import{p as Ct}from"./product-1e2da2e6.js";import"./trial-a05556b1.js";const wt=t=>(pe("data-v-47f4f4ca"),t=t(),_e(),t),Et={class:"com-question-item"},Bt={class:"question"},Vt=wt(()=>u("div",{class:"icon"},H("?"),-1)),Tt={class:"title"},Pt=Z({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Pe(!1),l=M(),e=()=>{o()},s=X(()=>a.value?lt(l.value):0);return(y,_)=>(p(),V("div",Et,[u("div",Bt,[Vt,u("div",Tt,H(t.question),1),d(Ne,{name:"down",class:Oe(["arrow-icon",{show:n(a)}]),onClick:e},null,8,["class"])]),u("div",{ref_key:"answerDom",ref:l,class:"answer",style:Qe({height:`${n(s)}px`})},H(t.answer),5)]))}});var Ot=ee(Pt,[["__scopeId","data-v-47f4f4ca"]]);const St={class:"com-question"},Nt=Z({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,l]=Pe(!1),e=()=>{l()},s=X(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(y,_)=>(p(),V("div",St,[(p(!0),V(W,null,z(n(s),(O,w)=>(p(),G(Ot,{key:w,question:O.title,answer:O.desc},null,8,["question","answer"]))),128)),t.list.length>4?(p(),V("div",{key:0,class:"show-more",onClick:e},[Q(H(n(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),d(Ne,{name:"down",class:Oe(["icon",{showMore:n(o)}])},null,8,["class"])])):J("",!0)]))}});var At=ee(Nt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Lt=t=>typeof t=="number"&&isFinite(t),$t=t=>K(t)&&Object.keys(t).length===0,kt=Object.assign;let Ve;const Mt=()=>Ve||(Ve=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),le=Array.isArray,Y=t=>typeof t=="string",fe=t=>typeof t=="boolean",Ut=Object.prototype.toString,xt=t=>Ut.call(t),K=t=>xt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Ht(t,a,o={}){const{domain:l,messages:e,args:s}=o,y=t,_=new SyntaxError(String(y));return _.code=t,a&&(_.location=a),_.domain=l,_}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Rt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let qt=null;Rt.FunctionTranslate;function Wt(t){return a=>qt}const Yt=-1;function Kt(t,a,o,l,e){const{missing:s,onWarn:y}=t;if(s!==null){const _=s(t,o,a,e);return Y(_)?_:a}else return a}function jt(t,a,o){const l=t;l.__localeChainCache||(l.__localeChainCache=new Map);let e=l.__localeChainCache.get(o);if(!e){e=[];let s=[o];for(;le(s);)s=Te(e,s,a);const y=le(a)?a:K(a)?a.default?a.default:null:a;s=Y(y)?[y]:y,le(s)&&Te(e,s,!1),l.__localeChainCache.set(o,e)}return e}function Te(t,a,o){let l=!0;for(let e=0;e<a.length&&fe(l);e++){const s=a[e];Y(s)&&(l=zt(t,a[e],o))}return l}function zt(t,a,o){let l;const e=a.split("-");do{const s=e.join("-");l=Gt(t,s,o),e.splice(-1,1)}while(e.length&&l===!0);return l}function Gt(t,a,o){let l=!1;if(!t.includes(a)&&(l=!0,a)){l=a[a.length-1]!=="!";const e=a.replace(/!/g,"");t.push(e),(le(o)||K(o))&&o[e]&&(l=o[e])}return l}function Jt(t){return Ht(t,null,void 0)}function Qt(t,...a){const{numberFormats:o,unresolving:l,fallbackLocale:e,onWarn:s}=t,{__numberFormatters:y}=t,[_,O,w,v]=Xt(...a),r=fe(w.missingWarn)?w.missingWarn:t.missingWarn;fe(w.fallbackWarn)?w.fallbackWarn:t.fallbackWarn;const C=!!w.part,x=Y(w.locale)?w.locale:t.locale,R=jt(t,e,x);if(!Y(_)||_==="")return new Intl.NumberFormat(x).format(O);let g={},P,S=null;const i="number format";for(let L=0;L<R.length&&(P=R[L],g=o[P]||{},S=g[_],!K(S));L++)Kt(t,_,P,r,i);if(!K(S)||!Y(P))return l?Yt:_;let $=`${P}__${_}`;$t(v)||($=`${$}__${JSON.stringify(v)}`);let c=y.get($);return c||(c=new Intl.NumberFormat(P,kt({},S,v)),y.set($,c)),C?c.formatToParts(O):c.format(O)}function Xt(...t){const[a,o,l,e]=t;let s={},y={};if(!Lt(a))throw Jt(14);const _=a;return Y(o)?s.key=o:K(o)&&(s=o),Y(l)?s.locale=l:K(l)&&(y=l),K(e)&&(y=e),[s.key||"",_,s,y]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Mt().__INTLIFY_PROD_DEVTOOLS__=!1);const Ae=t=>(pe("data-v-c8a8e288"),t=t(),_e(),t),Zt={key:0,class:"pro-modal"},eo=Ae(()=>u("div",{class:"pro-overlay"},null,-1)),to={class:"pro-modal-wrapper"},oo={class:"pro-modal-body"},ao={class:"pro-modal-content"},no=Ae(()=>u("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),lo={class:"pro-modal-content"},so={class:"product-attachment-list"},ro=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),uo={key:0,class:"dun-hao"},io=["src"],co=Z({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:Qt,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,l=()=>{a("on-close")},e=()=>{a("on-confirm")};return(s,y)=>{const _=U("ProPDFviewer");return o.isShow?(p(),V("div",Zt,[eo,u("div",to,[u("div",oo,[u("div",ao,[u("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+H(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),no]),u("div",{class:"pro-modal-btn",onClick:e},"\u4E00\u952E\u5347\u7EA7"),u("div",lo,[u("div",so,[ro,(p(!0),V(W,null,z(o.attachmentList,(O,w)=>(p(),G(_,{key:w,class:"file-name",title:`\u300A${O.attachmentName}\u300B`,content:O.attachmentUri,type:"pdf"},{default:B(()=>[w!==(o.attachmentList||[]).length-1?(p(),V("span",uo,"\u3001")):J("",!0)]),_:2},1032,["title","content"]))),128))])])]),u("div",{class:"pro-modal-close",onClick:l},[u("img",{src:n(ct)},null,8,io)])])])):J("",!0)}}});var mo=ee(co,[["__scopeId","data-v-c8a8e288"]]);const he=t=>(pe("data-v-07ffa5c0"),t=t(),_e(),t),fo=he(()=>u("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),po=he(()=>u("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),_o=he(()=>u("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),ho={class:"attachment-list"},vo={class:"product-attachment-list"},Do=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),go={key:0,class:"dun-hao"},yo={class:"rate-attachment-list"},bo=Q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),Fo={key:0,class:"dun-hao"},Io=Z({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,l=M({}),e=Se({insureDisable:!0,formInfo:o.formInfo}),s=v=>me(v)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",y=X(()=>{var v,r;return(r=(v=o.productDetail)==null?void 0:v.tenantProductInsureVO)==null?void 0:r.attachmentVOList.filter(C=>C.attachmentName==="\u8D39\u7387\u8868")}),_=X(()=>{var v,r;return((r=(v=o.productDetail)==null?void 0:v.tenantProductInsureVO)==null?void 0:r.attachmentVOList.filter(C=>C.attachmentName!=="\u8D39\u7387\u8868"))||[]}),O=()=>new Promise((v,r)=>{l==null||l.value.validate().then(()=>{v("")},()=>{r()})}),w=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return de(()=>e.formInfo.insured.relationToHolder,(v,r)=>{o.disable||v!==r&&(v.toString()===ce.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:v},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:v},e.insureDisable=!1))}),de(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===ce.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:O}),(v,r)=>{const C=U("ProField"),x=U("ProRadioButton"),R=U("ProPicker"),g=U("ProTabButton"),P=U("ProPDFviewer"),S=U("ProForm");return p(),G(S,{ref_key:"formRef",ref:l},{default:B(()=>[u("div",null,[fo,d(C,{modelValue:n(e).formInfo.holder.name,"onUpdate:modelValue":r[0]||(r[0]=i=>n(e).formInfo.holder.name=i),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:s}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(C,{modelValue:n(e).formInfo.holder.certNo,"onUpdate:modelValue":r[1]||(r[1]=i=>n(e).formInfo.holder.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(C,{modelValue:n(e).formInfo.holder.mobile,"onUpdate:modelValue":r[2]||(r[2]=i=>n(e).formInfo.holder.mobile=i),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[n(se).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(C,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":r[4]||(r[4]=i=>n(e).formInfo.holder.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[d(x,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":r[3]||(r[3]=i=>n(e).formInfo.holder.socialFlag=i),disabled:o.disable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),u("div",null,[po,d(C,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[6]||(r[6]=i=>n(e).formInfo.insured.relationToHolder=i),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[d(x,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[5]||(r[5]=i=>n(e).formInfo.insured.relationToHolder=i),disabled:o.disable,options:n(mt)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),d(C,{modelValue:n(e).formInfo.insured.name,"onUpdate:modelValue":r[7]||(r[7]=i=>n(e).formInfo.insured.name=i),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:s}],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(C,{modelValue:n(e).formInfo.insured.certNo,"onUpdate:modelValue":r[8]||(r[8]=i=>n(e).formInfo.insured.certNo=i),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(se).ID_CARD],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(C,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[10]||(r[10]=i=>n(e).formInfo.insured.socialFlag=i),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:B(()=>[d(x,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[9]||(r[9]=i=>n(e).formInfo.insured.socialFlag=i),disabled:o.disable||n(e).insureDisable,options:n(Ce)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(re),u("div",null,[_o,d(C,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:B(()=>[Q(H(n(pt)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),d(R,{modelValue:n(e).formInfo.paymentMethod,"onUpdate:modelValue":r[11]||(r[11]=i=>n(e).formInfo.paymentMethod=i),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":n(ft),"is-view":o.disable||n(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),d(C,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:B(()=>[d(g,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:n(e).formInfo.renewalDK,onClick:w},null,8,["disabled","active"])]),_:1}),u("div",ho,[u("div",vo,[Do,(p(!0),V(W,null,z(n(_),(i,$)=>(p(),G(P,{key:$,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},{default:B(()=>{var c,L;return[$!==(((L=(c=t.productDetail)==null?void 0:c.tenantProductInsureVO)==null?void 0:L.attachmentVOList)||[]).length-1?(p(),V("span",go,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))]),u("div",yo,[bo,(p(!0),V(W,null,z(n(y),(i,$)=>(p(),G(P,{key:$,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},{default:B(()=>{var c,L;return[$!==(((L=(c=t.productDetail)==null?void 0:c.tenantProductInsureVO)==null?void 0:L.attachmentVOList)||[]).length-1?(p(),V("span",Fo,"\u3001")):J("",!0)]}),_:2},1032,["title","content"]))),128))])])]),d(re)]),_:1},512)}}});var Co=ee(Io,[["__scopeId","data-v-07ffa5c0"]]);const wo={class:"page-product-detail"},Eo={class:"info"},Bo=["src"],Vo={class:"guarantee-list"},To={key:0,class:"basic"},Po={class:"tab-1"},Oo=["src"],So={class:"footer-button"},No={class:"price"},Ao=Q(" \u603B\u4FDD\u8D39"),Lo={class:"guarantee-list"},$o={class:"title"},ko={class:"content"},Mo=Z({setup(t){const a=Xe(),o=Ze(),{productCode:l="BWYL2021",tenantId:e,orderId:s,phoneNo:y,saleChannelId:_,paymentMethod:O,certNo:w,name:v}=o.query,r=M([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),C=M(),x=M(0),R=M(!1),g=M(),P=M(),S=M(),i=!!(v&&w&&y),$=!!s,c=Se({holder:{certNo:w,certType:Fe.CERT,mobile:y,name:v,socialFlag:ie.HAS},insured:{certNo:w,certType:Fe.CERT,name:v,socialFlag:ie.HAS,relationToHolder:ce.SELF},paymentMethod:O,paymentMethodDisable:!!O,renewalDK:!0}),L=M(!1),q=M(!1),Le=()=>{L.value=!1},$e=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ne(ae({},o.query),{tenantId:e,productCode:"BWYL2022",orderId:s})})},ke=()=>{R.value=!0},te=X(()=>{var D,f,m,h,b,T,N;return((m=(f=(D=g.value)==null?void 0:D.tenantProductInsureVO)==null?void 0:f.guaranteeList)==null?void 0:m.length)?(b=(h=g.value)==null?void 0:h.tenantProductInsureVO)==null?void 0:b.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(N=(T=g.value)==null?void 0:T.tenantProductInsureVO)==null?void 0:N.titleAndDescVOS}]}),ve=()=>{const{holder:{certNo:D,mobile:f,name:m,socialFlag:h},insured:{certNo:b,name:T,socialFlag:N,relationToHolder:A},paymentMethod:F}=c,k=Ie(D)&&Dt(f)&&me(m)&&!!h,E=Ie(b)&&me(T)&&!!N&&!!A;return!!(k&&E&&!!F)},Me=async D=>{nt.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const f=await Ft(D),{code:m}=f;if(m==="10000"){const h=await It({id:D.id,tenantId:e}),{data:b}=h;m==="10000"?window.location.href=b:q.value=!1}else q.value=!1}catch{q.value=!1}},Ue=D=>`${it}/chuangxin/baigebao/productDetail?tenantId=${e}&productCode=${l}&orderId=${D}`,xe=async D=>{const f=vt({tenantId:e,saleChannelId:_,detail:g.value,insureDetail:P.value,paymentMethod:c.paymentMethod,renewalDK:c.renewalDK?"Y":"N",successJumpUrl:"",premium:S.value,holder:c.holder,insured:c.insured,tenantOrderRiskList:D,orderStatus:"",orderTopStatus:""});try{const m=await yt(f),{code:h,data:b}=m;h==="10000"&&Me(ne(ae({},f),{id:b.data,extInfo:{extraInfo:{renewalDK:c.renewalDK,paymentMethod:c.paymentMethod,successJumpUrl:Ue(b.data)}}}))}catch{q.value=!1}},De=async()=>{const{calcData:D,riskVOList:f}=we({holder:c.holder,insured:c.insured,tenantId:e,productDetail:g.value,insureDetail:P.value}),m=async()=>{const h=await Be(D),{code:b,data:T}=h;return b==="10000"?(S.value=T.premium,{condition:f,data:T}):{}};m(),at.exports.debounce(m,500,{trailing:!0})},He=()=>new Promise((D,f)=>{var m,h;(h=(m=C.value)==null?void 0:m.validateForm)==null||h.call(m).then(async()=>{const{calcData:b,riskVOList:T}=we({holder:c.holder,insured:c.insured,tenantId:e,productDetail:g.value,insureDetail:P.value}),N=await Be(b),{code:A,data:F}=N;A==="10000"?(S.value=F.premium,D({condition:T,data:F})):f(new Error)}).catch(()=>{q.value=!1})}),Re=async()=>{var D;if(s){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ne(ae({},o.query),{tenantId:e,productCode:"BWYL2022",orderId:s})});return}q.value=!0;try{const{condition:f,data:m}=await He(),h={},b=(N=[])=>{(N||[]).forEach(A=>{var F;h[A.riskCode]=A,((F=A.riskPremiumDetailVOList)==null?void 0:F.length)&&b(A.riskPremiumDetailVOList)})};b(m.riskPremiumDetailVOList);const T=ht({tenantId:e,riskList:f,riskPremium:h,productId:(D=g.value)==null?void 0:D.id});xe(T)}catch{q.value=!1}};de(()=>c,()=>{g.value&&P.value&&!s&&ve()&&De()},{deep:!0,immediate:!0});const qe=async()=>{var h,b,T,N,A,F,k;const D=await bt({id:s,tenantId:e}),{code:f,data:m}=D;if(f==="10000"){const{tenantOrderHolder:E,tenantOrderInsuredList:I,extInfo:j}=m;c.holder={certNo:E.certNo,certType:E.certType,mobile:E.mobile,name:E.name,socialFlag:ie.HAS},c.insured={certNo:I==null?void 0:I[0].certNo,certType:(h=I[0])==null?void 0:h.certType,name:(b=I[0])==null?void 0:b.name,socialFlag:(N=(T=I[0])==null?void 0:T.extInfo)==null?void 0:N.hasSocialInsurance,relationToHolder:(A=I[0])==null?void 0:A.relationToHolder},c.paymentMethod=j.extraInfo.paymentMethod,S.value=(k=(F=I[0])==null?void 0:F.tenantOrderProductList[0])==null?void 0:k.premium,c.renewalDK=j.extraInfo.renewalDK==="Y",(m.orderStatus===Ee.ACCEPT_POLICY||m.orderStatus===Ee.PAYMENT_SUCCESS)&&(L.value=!0)}},We=async()=>{const D=Ct({productCode:l,withInsureInfo:!0,tenantId:e}),f=gt({productCode:l});await Promise.all([D,f]).then(([m,h])=>{m.code==="10000"&&(g.value=m.data),h.code==="10000"&&(P.value=h.data)}),s?qe():ve()&&De()};return et(()=>{We(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(D,f)=>{var N,A;const m=U("van-divider"),h=U("van-button"),b=U("van-config-provider"),T=tt("dompurify-html");return p(),V(W,null,[d(b,{"theme-vars":n(_t)},{default:B(()=>{var F,k;return[u("div",wo,[u("div",Eo,[u("img",{src:(k=(F=g.value)==null?void 0:F.tenantProductInsureVO)==null?void 0:k.banner[0],class:"banner"},null,8,Bo),u("div",Vo,[d(ue,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:ke},{default:B(()=>{var E,I,j;return[g.value&&((E=g.value)==null?void 0:E.tenantProductInsureVO)?(p(),V("div",To,[(p(!0),V(W,null,z((j=(I=n(te))==null?void 0:I[x.value])==null?void 0:j.titleAndDescVOS,(oe,Ye)=>(p(),G(ut,{key:Ye,class:"guarantee-item",title:oe.title,content:oe.desc,border:!1},null,8,["title","content"]))),128))])):J("",!0)]}),_:1})])]),d(be,{class:"tabs",list:r.value,sticky:"",scrollspy:""},{tab1:B(()=>[d(Co,{ref_key:"formRef",ref:C,"holder-disable":i,disable:$,"form-info":n(c),premium:S.value,"product-detail":g.value},null,8,["form-info","premium","product-detail"])]),tab2:B(()=>{var E,I;return[u("div",Po,[(p(!0),V(W,null,z(((I=(E=g.value)==null?void 0:E.tenantProductInsureVO)==null?void 0:I.spec)||[],(j,oe)=>(p(),V("img",{key:oe,src:j,class:"detail-img"},null,8,Oo))),128))])]}),tab3:B(()=>[d(m),d(ue,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:B(()=>{var E,I;return[d(dt,{list:(I=(E=g.value)==null?void 0:E.tenantProductInsureVO)==null?void 0:I.settlementProcessList},null,8,["list"])]}),_:1}),d(ue,{title:"\u5E38\u89C1\u95EE\u9898"},{default:B(()=>{var E,I;return[d(At,{list:(I=(E=g.value)==null?void 0:E.tenantProductInsureVO)==null?void 0:I.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),u("div",So,[u("div",No,[Ao,u("span",null,"\uFFE5"+H(n(st)(S.value))+"/\u6708",1)]),d(h,{type:"primary",class:"right",disabled:q.value,onClick:Re},{default:B(()=>[Q(H(n(s)?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["theme-vars"]),d(rt,{show:R.value,"onUpdate:show":f[0]||(f[0]=F=>R.value=F),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:B(()=>[n(te).length>1?(p(),G(be,{key:0,list:n(te).map((F,k)=>({title:F.guaranteeType,slotName:`guarantee-${k}`})),class:"tab"},null,8,["list"])):J("",!0),u("div",Lo,[(p(!0),V(W,null,z(n(te)[x.value].titleAndDescVOS,(F,k)=>(p(),V("div",{key:k,class:"guarantee-item"},[u("div",$o,H(F.title),1),ot(u("div",ko,null,512),[[T,F.content]])]))),128))])]),_:1},8,["show"]),d(mo,{"is-show":L.value,premium:S.value,"attachment-list":(A=(N=g.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:A.attachmentVOList,onOnConfirm:$e,onOnClose:Le},null,8,["is-show","premium","attachment-list"])],64)}}});var Xo=ee(Mo,[["__scopeId","data-v-3bcdfa5c"]]);export{Xo as default};
