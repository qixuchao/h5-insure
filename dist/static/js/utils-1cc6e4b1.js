import{d as e,r as a,aR as t,Q as n,c as l,y as r,f as s,i as o,h as i,z as d,R as u,g as c,w as f,k as p,j as m,aw as h,aS as y,a9 as v}from"./index-811aa171.js";import{P as C}from"./index-297ff860.js";import"./infoCollection-7f9729ad.js";import"./trial-d59dfaef.js";const k={class:"trial-button-wrap"},x={class:"footer-area"},S=s("span",null,"分享",-1),g={class:"price"},j={key:0},I=e({name:"trialButton"}),T=e({...I,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{type:Function,default:()=>{}}},emits:["handleClick"],setup(e,{emit:I}){const T=e,E=a(""),b=a("");t();const D=a(),F=()=>{console.log("323424"),T.handleShare?T.handleShare((()=>D.value.handleShare())):D.value.handleShare()};return n([()=>T.premium,()=>T.tenantProductDetail,()=>T.paymentFrequency,()=>T.planCode],(([e])=>{const{PREMIUM:a=[]}=T.tenantProductDetail||{};let t={};if(null==a?void 0:a.length){t=(a||[]).find((e=>e.planCode===T.planCode||!e.planCode))||{};const n=((null==t?void 0:t.data)||[]).find((e=>e.paymentFrequency===T.paymentFrequency)),{premium:l,minActualUnit:r}=n||{};e?(b.value=r,E.value=e&&`${e}`):(b.value=l,E.value="")}else e&&(b.value="",E.value=e&&`${e}`)}),{deep:!0,immediate:!0}),(a,t)=>{const n=v;return l(),r("div",k,[s("div",x,[e.isShare?(l(),r("div",{key:0,class:"com-share",onClick:F},[o(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):i("",!0),s("div",g,[e.loadingText?(l(),r("span",j,d(e.loadingText),1)):(l(),r(u,{key:1},[s("span",null,d(c(E)),1),s("span",null,d(c(b)),1)],64))]),o(C,{shadow:!1,class:"right",onClick:t[0]||(t[0]=e=>I("handleClick"))},{default:f((()=>[p(a.$slots,"default",{},(()=>[m("立即投保")]))])),_:3})]),o(y,h({ref_key:"shareRef",ref:D},e.shareInfo),null,16)])}}}),E=({holder:e,insuredList:a=[]})=>{const t=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured","tenantOrderBeneficiaryList","extInfo"],n=e=>{const a={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{t.includes(n)?a[n]=e[n]:a.extInfo[n]=e[n]})),a};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(a||[]).map((e=>n(e)))}};export{T as _,E as f};
