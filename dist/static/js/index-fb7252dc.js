import{G as e,d as o,r,b5 as s,aD as t,c as a,e as d,w as i,f as l,i as u,g as n,j as c,B as p,z as m,bL as f,R as k,A as v,a2 as P,U as L,V as h,by as V,E as C,bM as b,aE as O,bN as y,bO as I,bE as R,al as g,am as j,ac as _,L as D,bP as w,h as E,bQ as x,ba as T,a as N,u as S,bR as U,bt as M,o as F,b as H,y as q,aA as $,D as B,aB as A,bl as K,aw as W,T as z}from"./index-655f425b.js";import{A as G}from"./index-ddccdcc3.js";import{P as Q,a as Y,b as J,c as X}from"./index-2bc1b096.js";import{d as Z}from"./debounce-eed12388.js";import{P as ee,u as oe}from"./ProductTips-767820d1.js";import{_ as re}from"./ProRenderFormWithCard.vue_vue_type_style_index_0_scoped_true_lang-d2d058c0.js";/* empty css              */import"./bankCard-d97010dd.js";import{a as se,b as te,c as ae}from"./createProposal-ffb4437c.js";import{a as de,p as ie,q as le}from"./trial-2de6224d.js";import{T as ue}from"./index-14d4a272.js";import{u as ne}from"./useDicData-0c7fb899.js";import"./pdfh5-008ca364.js";import"./index-3413e731.js";import"./isObjectLike-a9798079.js";import"./_initCloneObject-0663309f.js";import"./phoneVerify-256bb25d.js";import"./index-f4d83aba.js";import"./cloneDeep-1de8e9b0.js";import"./infoCollection-e004c5a6.js";import"./TrialButton-6701fc8a.js";import"./index-2deb78d4.js";import"./index-2ccac246.js";import"./index-077618d3.js";import"./useOrder-2c54ca32.js";import"./utils-40fead7a.js";import"./trial-a9922483.js";import"./utils-bc4d0c77.js";import"./constants-7afb7c3d.js";import"./nextStep-d9062bc0.js";import"./core-05f5b046.js";import"./constant-8927d485.js";import"./index-413ac418.js";import"./empty-c926d8ec.js";import"./box-title-8bf5c5cf.js";import"./index-b97e7ad0.js";import"./echarts-ac920fed.js";import"./Table-8d86c818.js";const ce={class:"trial-button"};var pe=e(o({__name:"TrialPopup",props:{productCode:{default:""},productName:{default:""}},emits:["finish"],setup(e,{expose:o,emit:m}){const f=e,k=r(null);s(t,{insuredFactorCodes:["hasSocialInsurance","occupationCodeList"]});const v=(e,o)=>{console.log("trialData",e);const{holder:r,insuredVOList:s,productCode:t}=e||{},{personVO:a,productPlanVOList:d}=(null==s?void 0:s[0])||{},{riskVOList:i,...l}=(null==d?void 0:d[0])||{},u=(i||[]).map((e=>{var r,s;return{...e,premium:null==(r=o[e.riskCode])?void 0:r.premium,amount:null==(s=o[e.riskCode])?void 0:s.amount}}));return{productCode:t,proposalHolder:null==r?void 0:r.personVO,insuredPersonVO:a,insuredProductInfo:{productCode:t,...l,productName:f.productName,occupationCodeList:null==a?void 0:a.occupationCodeList,proposalProductRiskList:u}}};return o({...["open","close"].reduce(((e,o)=>(e[o]=(...e)=>{var r;null==(r=k.value)||r[o](...e)},e)),{}),formatData:v}),(o,r)=>{const s=p;return a(),d(ue,{ref_key:"trialRef",ref:k,"hide-benefit":"","hide-popup-button":"",title:"选择保障方案",class:"proposal-trial","product-info":{productCode:e.productCode},"tenant-product-detail":{}},{trialBtn:i((({trialData:e,riskPremium:o})=>[l("div",ce,[u(s,{disabled:!n(k).getTrialSuccessFlag(),type:"primary",onClick:r=>((...e)=>{m("finish",v(e[0],e[1]))})(e,o)},{default:i((()=>[c("确定")])),_:2},1032,["disabled","onClick"])])])),_:1},8,["product-info"])}}}),[["__scopeId","data-v-2be44ad6"]]);const me={class:"com-risk-list-wrapper"},fe=(e=>(g("data-v-7d3c3028"),e=e(),j(),e))((()=>l("div",{class:"popup-title"},"选择附加险",-1))),ke={class:"risk-list"},ve={class:"cell-title"},Pe={class:"title"},Le={class:"footer-button"};var he=e(o({__name:"index",props:{riskList:{default:()=>[]},show:{type:Boolean,default:!1},collocationList:{default:()=>[]},disabled:{default:()=>[]},modelValue:{default:()=>[]}},emits:["finished","close","update:modelValue"],setup(e,{emit:o}){const s=e,t=r([]),g=r([]),j=r([...s.disabled]),_=m({show:s.show,currentChecked:[...s.modelValue]}),D=e=>{var o,r,a;if(j.value.includes(e))return;((e,o)=>{if(!s.collocationList.length)return o?void(_.currentChecked=[]):void _.currentChecked.push(e);let r=_.currentChecked,t=j.value;o?(s.collocationList.forEach((o=>{e===o.riskId&&(2===o.collocationType?r=r.filter((r=>r!==o.collocationRiskId||r!==e)):3===o.collocationType?(r=r.filter((o=>o!==e)),t=t.filter((e=>e!==o.collocationRiskId))):r=r.filter((o=>o!==e)))})),_.currentChecked=r,j.value=t):(s.collocationList.forEach((s=>{e===s.riskId&&(o||(2===s.collocationType?r.push(s.collocationRiskId):3===s.collocationType&&t.push(s.collocationRiskId),r.push(e)))})),_.currentChecked.push(...r),j.value=t)})(e,_.currentChecked.includes(e)),null==(a=null==(r=null==(o=null==t?void 0:t.value)?void 0:o[e])?void 0:r.toggle)||a.call(r)},w=()=>{o("close")},E=()=>{const e=s.riskList.filter((e=>_.currentChecked.includes(e.id)));o("update:modelValue",[...new Set(g.value)]),o("finished",e,j.value),o("close")};return f((()=>{t.value=[]})),k((()=>_.currentChecked),(e=>{g.value=e}),{deep:!0,immediate:!0}),k((()=>s.modelValue),(e=>{g.value=e||[],j.value.push(...e||[])}),{deep:!0,immediate:!0}),(o,r)=>{const s=b,m=O,f=y,k=I,x=p,T=R;return a(),v("div",me,[u(T,{show:n(_).show,"onUpdate:show":r[1]||(r[1]=e=>n(_).show=e),title:"选择附加险","show-footer":"",round:"",position:"bottom",closeable:"",onClose:w},{default:i((()=>[fe,l("div",ke,[u(k,{modelValue:n(g),"onUpdate:modelValue":r[0]||(r[0]=e=>P(g)?g.value=e:null)},{default:i((()=>[u(f,{inset:""},{default:i((()=>[(a(!0),v(L,null,h(e.riskList,(e=>(a(),d(m,{key:e.id,title:e.riskName,disabled:n(j).includes(e.id),onClick:o=>D(e.id)},{"right-icon":i((()=>[u(s,{ref_for:!0,ref:o=>n(t)[e.id]=o,shape:"square",disabled:n(j).includes(e.id),name:e.id,onClick:V((o=>D(e.id)),["stop"])},null,8,["disabled","name","onClick"])])),title:i((()=>[l("div",ve,[l("div",Pe,C(e.riskName),1)])])),_:2},1032,["title","disabled","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),l("div",Le,[u(x,{type:"primary",disabled:!n(_).currentChecked.length,block:"",onClick:E},{default:i((()=>[c("确认")])),_:1},8,["disabled"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-7d3c3028"]]);const Ve=e=>(g("data-v-2f7e38c5"),e=e(),j(),e),Ce={class:"com-product-list-wrapper"},be={class:"risk-item-wrapper"},Oe={class:"content"},ye={class:"risk-premium"},Ie={class:"premium"},Re={class:"risk-factor"},ge={class:"factor"},je={class:"factor-value"},_e=Ve((()=>l("span",{class:"factor-name"}," 保额(元) ",-1))),De={class:"factor"},we={class:"factor-value"},Ee=Ve((()=>l("span",{class:"factor-name"}," 保障期间 ",-1))),xe={class:"factor"},Te={class:"factor-value"},Ne=Ve((()=>l("span",{class:"factor-name"}," 缴费期间 ",-1))),Se={key:0,class:"operate-bar"},Ue={key:0,class:"premium-total"},Me={class:"premium"},Fe=o({name:"ProductList"});var He=e(o({...Fe,props:{productRiskList:{default:()=>[]},productInfo:{default:()=>({})},productData:{default:()=>({})},pickProductPremium:{type:Function,default:()=>{}},productNum:{default:0},errorMsg:{default:""}},emits:["deleteRisk","updateRisk","addRiderRisk"],setup(e,{emit:o}){const s=e,[t,p]=_(),m=r({checkedList:[],disabledList:[],riderRiskList:[],mainRiskData:{},totalPremium:0,currentRiskRecord:{},productRiskList:[]}),f=ne("RISK_PAYMENT_PERIOD"),P=ne("RISK_INSURANCE_PERIOD"),V=D((()=>{var e,o;return(null==(o=null==(e=s.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.filter((e=>1===e.collocationType)))||[]}));D((()=>{var e,o;const r=s.productRiskList.map((e=>e.riskId)),t=((null==(o=null==(e=s.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList)||[]).filter((e=>r.includes(e.id)&&1===e.collocationType));return V.value.length-t.length}));const b=D((()=>e=>{var o,r;const t=(null==(r=null==(o=s.productData)?void 0:o.productRiskVoList)?void 0:r[0].riskDetailVOList.find((o=>o.id!==e)))||{};let a=!1;return a=!!s.productNum||2===t.riskType&&1===t.collocationType,a})),O=D((()=>{var e,o;return(null==(o=null==(e=s.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.find((e=>1===e.riskType)))||{}})),y=D((()=>O.value.collocationVOList||[])),I=(e,r)=>{const t=e.map((e=>e.id)).filter((e=>!m.value.disabledList.includes(e)));o("addRiderRisk",t,s.productInfo)};return k((()=>s.productInfo),(e=>{let o=0;(e.proposalProductRiskList||[]).forEach((e=>{o+=e.premium})),m.value.totalPremium=o}),{deep:!0,immediate:!0}),k((()=>s.productRiskList),(e=>{const o=[],r=[],s=[];(e||[]).forEach((e=>{1===e.riskType?o.unshift(e):(r.push(e.riskId),s.push(e.riskId),o.push(e))})),m.value.disabledList=r,m.value.checkedList=s,m.value.productRiskList=o}),{deep:!0,immediate:!0}),(r,k)=>{var O,R,g;const j=x,_=T;return a(),v("div",Ce,[(a(!0),v(L,null,h(n(m).productRiskList,(r=>{var t,p;return a(),v("div",{key:r.riskId},[l("div",be,[u(j,{"risk-type":r.riskType,title:r.riskName,class:"no-border"},null,8,["risk-type","title"]),l("div",Oe,[l("div",ye,[c(" 保费:"),l("span",Ie,C(!e.errorMsg&&r.premium?`￥${null==(t=r.premium)?void 0:t.toLocaleString()}`:"-"),1)]),l("div",Re,[l("div",ge,[l("span",je,C((null==(p=r.amount)?void 0:p.toLocaleString())||"-"),1),_e]),l("div",De,[l("span",we,C(n(w)(n(P),r.coveragePeriod)||"-"),1),Ee]),l("div",xe,[l("span",Te,C(n(w)(n(f),r.chargePeriod)||"-"),1),Ne])]),2!==r.riskType?(a(),v("div",Se,[n(b)(r.riskId)?(a(),d(_,{key:0,round:32,class:"border",onClick:e=>{o("deleteRisk",r,s.productInfo)}},{default:i((()=>[c("删除")])),_:2},1032,["onClick"])):E("",!0),u(_,{activated:"",round:32,onClick:e=>{o("updateRisk",r,s.productInfo)}},{default:i((()=>[c("修改")])),_:2},1032,["onClick"])])):E("",!0)])])])})),128)),n(m).productRiskList.length>1?(a(),v("div",Ue,[c(" 保费: "),l("span",Me,C(!e.errorMsg&&(null==(O=n(m))?void 0:O.totalPremium)?`￥${null==(g=null==(R=n(m))?void 0:R.totalPremium)?void 0:g.toLocaleString()}`:"-"),1)])):E("",!0),n(t)?(a(),d(he,{key:1,modelValue:n(m).checkedList,"onUpdate:modelValue":k[0]||(k[0]=e=>n(m).checkedList=e),show:n(t),disabled:n(m).disabledList,"risk-list":n(V),"collocation-list":n(y),onFinished:I,onClose:k[1]||(k[1]=e=>n(p)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):E("",!0),u(ee,{"error-msg":e.errorMsg},null,8,["error-msg"])])}}}),[["__scopeId","data-v-2f7e38c5"]]);const qe={class:"container"},$e={class:"operate-bar"},Be={class:"footer-bar"},Ae={class:"trial-result"},Ke={class:"result-num"},We={class:"trial-operate"},ze=o({name:"CreateProposal"});var Ge=e(o({...ze,setup(e){const o=[{name:"保存修改"},{name:"另存为新计划书"}],[s,t]=_(),[f,V]=_(),b=r({proposalHolder:{},proposalInsuredList:[{name:"",gender:"",birthday:"",proposalInsuredProductList:[]}],proposalName:"",totalPremium:0,relationUserType:2}),O=N(),y=S(),I=oe(),{productCode:R,id:g}=y.query,j=["age","gender","birthday"],w=["name",...j].reduce(((e,o)=>(e[o]={hidden:!0},e)),{}),E=r(null),x=r({productCode:0,productCollection:{},productInfo:{},productPremium:{},riderRisk:{},type:"add",currentRisk:[]}),ee=m({selectedProductCodeList:[],insuredPersonVO:{},currentProductCode:"",proposalHolder:{},proposalInsuredProductList:[],productCollection:{},productErrorMap:{},defaultData:null}),ue=r(null),ne=r(null),ce=D((()=>ee.proposalInsuredProductList.map((e=>e.productCode)).filter((e=>Boolean(e))))),me=D((()=>{const{productPlanInsureVOList:e}=ee.productCollection[R]||{},[{insureProductRiskVOList:o}={}]=e||[],{riskInsureLimitVO:r}=(null==o?void 0:o.find((e=>1===e.riskType)))||{};return null==r?void 0:r.sexLimit})),fe=D((()=>"-1"===me.value?U:U.filter((e=>me.value===e.value)))),ke=D((()=>{var e;return(null==(e=ee.productCollection)?void 0:e[ee.currentProductCode])||{}})),ve=D((()=>{var e,o;return(null==(o=null==(e=ke.value)?void 0:e.productPlanInsureVOList)?void 0:o[0])||{}})),Pe=D((()=>Boolean(Object.values(ee.productErrorMap).join("")))),Le=D((()=>ee.proposalInsuredProductList.reduce(((e,o)=>e+o.proposalProductRiskList.reduce(((e,o)=>e+(o.premium||0)),0)),0))),he=e=>{const o=ee.proposalInsuredProductList.findIndex((o=>o.productCode===e.productCode)),r={...e.insuredProductInfo,nanoid:A()};if(-1===o)return ee.proposalInsuredProductList.push(r),!1;const s=ee.proposalInsuredProductList[o],{proposalProductRiskList:t,...a}=r;ee.proposalInsuredProductList[o]={...r,...a,proposalProductRiskList:$(t)?t.map((e=>({...s.proposalProductRiskList.find((o=>o.riskCode===e.riskCode)),...e}))):[]}},Ve=e=>{var o;Object.assign(ee.proposalHolder,e.proposalHolder),Object.assign(ee.insuredPersonVO,e.insuredPersonVO),he(e),null==(o=E.value)||o.close()},Ce=()=>{I.setProposalInfo(b.value),I.setExcludeProduct(ce.value),I.setInsuredPersonVO(ee.insuredPersonVO),O.push({path:"/proposalListSelect",query:{isCreateProposal:"1"}})},be=e=>{ie(e,{isCustomError:!0}).then((({code:o,data:r,message:s})=>{var t;if(o===W&&r){(null==r?void 0:r.errorInfo)&&z(`${null==r?void 0:r.errorInfo}`);const o={};$(r.riskPremiumDetailVOList)&&(r.riskPremiumDetailVOList.forEach((e=>{o[e.riskCode]={premium:e.premium,amount:e.amount}})),he(null==(t=E.value)?void 0:t.formatData(e,o))),ee.productErrorMap[e.productCode]=""}else ee.productErrorMap[e.productCode]=s}))},Oe=e=>{e&&(ee.insuredPersonVO.age=q(e).diff(new Date,"year"))},ye=()=>{ee.insuredPersonVO.birthday=""},Ie=e=>{se(e).then((({code:e,data:o})=>{"10000"===e&&$(o)&&Object.assign(ee.productCollection,o.reduce(((e,o)=>(e[o.productCode]=o,e)),{}))})).finally((()=>{}))},Re=async(e,o=!1)=>{if(!$(e))return;const{code:r,data:s}=await de({calcProductFactorList:e,...ee.insuredPersonVO},{isCustomError:!o});"10000"===r&&s&&$(s)&&s.forEach((e=>{const{holder:r,insuredVOList:s,productCode:t}=e,{personVO:a,productPlanVOList:d}=(s||[])[0]||{},[{riskVOList:i,...l}={}]=d||[],u={productCode:t,...l,proposalProductRiskList:i};be(e),o&&(Object.assign(ee.insuredPersonVO,a),Object.assign(ee.proposalHolder,null==r?void 0:r.personVO));const n=ce.value.findIndex((e=>e===t));n>-1?ee.proposalInsuredProductList[n]=u:ee.proposalInsuredProductList.push(u)}))},ge=e=>ee.proposalInsuredProductList.filter((o=>o.productCode===e)).map((({productCode:e,proposalProductRiskList:o})=>{const{productPlanInsureVOList:r}=ee.productCollection[e]||{},[{insureProductRiskVOList:s}={}]=r||[];return{productCode:e,riskEditVOList:$(o)?o.filter((e=>1===e.riskType)).map((({riskCode:e,riskType:o,annuityDrawValueList:r,paymentPeriodValueList:t,insurancePeriodValueList:a,...d})=>{const i=(null==s?void 0:s.find((o=>o.riskCode===e)))||{};return{insureProductRiskVO:{...i,productRiskInsureLimitVO:{...null==i?void 0:i.productRiskInsureLimitVO,annuityDrawValueList:r,paymentPeriodValueList:t,insurancePeriodValueList:a}}}})):[]}})),je=e=>{const{proposalProductRiskList:o,...r}=ee.proposalInsuredProductList.find((o=>o.productCode===e))||{};return{holder:{personVO:ee.proposalHolder},insuredVOList:[{personVO:ee.insuredPersonVO,config:w,productPlanVOList:[{...r,riskVOList:o}]}],productCode:e}},_e=(e,o)=>{const r=o;B.confirm({message:"确认删除该险种？"}).then((()=>{1===e.riskType?ee.proposalInsuredProductList=ee.proposalInsuredProductList.filter((e=>e.productCode!==r.productCode)).map((e=>({...e,nanoid:A()}))):r.proposalProductRiskList=r.proposalProductRiskList.filter((o=>o.riskId!==e.riskId))}))},De=(e,o)=>{var r;ee.currentProductCode=o.productCode,ee.defaultData=[je(o.productCode)],null==(r=E.value)||r.open()},we=(e,o)=>{x.value.productInfo=o,x.value.type="addRiderRisk",x.value.currentRisk=e,t(!0)},Ee=e=>!!$(e)&&e.every((e=>"number"==typeof e?!Number.isNaN(e):Boolean(e))),xe=e=>{var o,r;Promise.all([null==(o=ue.value)?void 0:o.validate(),null==(r=ne.value)?void 0:r.validate()]).then((()=>{var o;const{proposalHolder:r}=ee;ae({proposalHolder:r,proposalInsuredList:[{...ee.insuredPersonVO,socialFlag:null==(o=ee.insuredPersonVO)?void 0:o.hasSocialInsurance,proposalInsuredProductList:ee.proposalInsuredProductList}],proposalName:ee.insuredPersonVO.proposalName,totalPremium:Le.value,relationUserType:2,id:e}).then((e=>{const{code:o,data:r}=e||{};"10000"===o&&(I.$reset(),O.push({path:"/compositionProposal",query:{id:r}}))}))}))},Te=()=>{g?V(!0):xe(g)},Ne=(e,o)=>{xe(o?void 0:g)};return k((()=>j.map((e=>ee.insuredPersonVO[e]))),Z(((e,o)=>{Ee(e)&&Ee(o)&&(console.log("被保人条件变动"),ce.value.forEach((e=>(async e=>{try{const{code:o,data:r,message:s}=await le({calcProductFactorList:ge(e),...ee.insuredPersonVO},{isCustomError:!0});"10000"===o&&$(r)?(ee.proposalInsuredProductList.forEach((({productCode:e,proposalProductRiskList:o})=>{const{productRiskDyInsureFactorVOList:s}=r[0]||r.find((o=>o.productCode===e))||{};o.forEach((e=>{const o=s.find((o=>o.riskCode===e.riskCode));Object.assign(e,{...e,...o})}))})),be(je(e)),ee.productErrorMap[e]=""):ee.productErrorMap[e]=s}catch(o){console.log("Error",o)}})(e))))})),{deep:!0}),k((()=>ee.selectedProductCodeList),Z((e=>{if($(e)){console.log("选择的产品变动了",e),Re(e.map((e=>({productCode:e}))));const o=Object.keys(ee.productCollection),r=null==e?void 0:e.filter((e=>!o.includes(e)));$(r)&&Ie(null==r?void 0:r.map((e=>({productCode:e}))))}})),{deep:!0}),M((()=>{const{selectedProduct:e,insuredPersonVO:o}=I.$state;ee.selectedProductCodeList=$(e)?e:[]})),F((()=>{if(R){const e=[{productCode:R}];Ie(e),Re(e,!0)}g&&((e={})=>{te(e).then((({code:e,data:o})=>{if("10000"===e&&o){const{proposalInsuredList:e,proposalHolder:r,proposalName:s}=o||{},[{proposalInsuredProductList:t,...a}]=e||{};ee.proposalHolder=r,ee.insuredPersonVO={...a,proposalName:s},Ie(t.map((e=>({productCode:e.productCode})))),ee.proposalInsuredProductList=t}}))})({id:g})})),(e,r)=>{const s=X,t=K,m=T,k=p,b=G,O=H("ProPageWrap");return a(),d(O,{class:"page-create-wrapper"},{default:i((()=>{var e;return[l("div",qe,[u(s,{ref_key:"formRef",ref:ue,class:"mb20",model:n(ee).insuredPersonVO},{default:i((()=>[u(n(re),{modelValue:n(ee).insuredPersonVO.proposalName,"onUpdate:modelValue":r[0]||(r[0]=e=>n(ee).insuredPersonVO.proposalName=e),label:"计划书名称",name:"proposalName",maxlength:20,required:""},null,8,["modelValue"])])),_:1},8,["model"]),u(n(Q),{ref_key:"insuredFormRef",ref:ne,title:"被保人信息",model:n(ee).insuredPersonVO},{default:i((()=>[u(n(re),{modelValue:n(ee).insuredPersonVO.name,"onUpdate:modelValue":r[1]||(r[1]=e=>n(ee).insuredPersonVO.name=e),label:"姓名",name:"name",maxlength:20,required:""},null,8,["modelValue"]),u(n(re),{modelValue:n(ee).insuredPersonVO.age,"onUpdate:modelValue":r[3]||(r[3]=e=>n(ee).insuredPersonVO.age=e),class:"age-field-wrap",name:"age",label:"年龄",type:"digit",maxlength:3,required:"",onChange:ye},{extra:i((()=>[u(n(Y),{modelValue:n(ee).insuredPersonVO.birthday,"onUpdate:modelValue":[r[2]||(r[2]=e=>n(ee).insuredPersonVO.birthday=e),Oe],class:"birthday-field-wrap",label:"出生日期",name:"birthday",required:""},null,8,["modelValue"])])),_:1},8,["modelValue"]),u(n(J),{modelValue:n(ee).insuredPersonVO.gender,"onUpdate:modelValue":r[4]||(r[4]=e=>n(ee).insuredPersonVO.gender=e),label:"性别",name:"gender",columns:n(fe),required:""},null,8,["modelValue","columns"])])),_:1},8,["model"]),(a(!0),v(L,null,h(n(ee).proposalInsuredProductList,((e,o)=>(a(),d(t,{key:`${e.nanoid}_${o}_${e.productCode}`,class:"product-item-card","show-line":!1,"show-divider":!1},{default:i((()=>{var o;return[u(He,{"product-risk-list":e.proposalProductRiskList,"product-info":e,"product-num":(null==(o=n(ee).proposalInsuredProductList)?void 0:o.length)-1,"product-data":n(x).productCollection[e.productCode],"error-msg":n(ee).productErrorMap[e.productCode],onAddRiderRisk:we,onUpdateRisk:De,onDeleteRisk:_e},null,8,["product-risk-list","product-info","product-num","product-data","error-msg"])]})),_:2},1024)))),128)),l("div",$e,[u(m,{activated:"",round:34,onClick:Ce},{default:i((()=>[c("添加产品")])),_:1})])]),l("div",Be,[l("span",Ae,[c("总保费"),l("span",Ke,C(n(Pe)?"-":`￥${null==(e=n(Le))?void 0:e.toLocaleString()}`),1)]),l("div",We,[u(k,{disabled:n(Pe),type:"primary",onClick:Te},{default:i((()=>[c("保存并预览")])),_:1},8,["disabled"])])]),u(b,{show:n(f),"onUpdate:show":r[5]||(r[5]=e=>P(f)?f.value=e:null),actions:o,"cancel-text":"取消","close-on-click-action":"",onCancel:r[6]||(r[6]=e=>n(V)(!1)),onSelect:Ne},null,8,["show"]),u(pe,{ref_key:"trialPopupRef",ref:E,"data-source":n(ve),"product-code":n(ee).currentProductCode,"default-data":n(ee).defaultData,onFinish:Ve},null,8,["data-source","product-code","default-data"])]})),_:1})}}}),[["__scopeId","data-v-64344d3c"]]);export{Ge as default};
