import{d as e,h as a,i as t,k as o,ag as r,o as n,c as s,u as d,m as l,w as i,a8 as c,cA as p,f as u,_ as m,aI as g,ck as h,cl as f,cm as y,bV as C}from"./index-77d3984c.js";import{P as I}from"./constants-62d1c4af.js";const k={class:"operate-wrap"},v=e({name:"operateBtn"});var $=m(e({...v,props:{detail:{default:()=>({})}},emits:["handleCancel"],setup(e,{emit:m}){const v=e,$=a(),S=t(),{tenantId:x,nextPageCode:_}=S.query,N=o((()=>{const{orderTopStatus:e}=v.detail;return"-1"===e&&I.orderList===S.path})),P=o((()=>{const{policyNo:e,applicationNo:a,orderStatus:t}=v.detail;return!e&&a&&"cancel"!==t})),w=o((()=>{const{orderStatus:e}=v.detail;return"offlinePayment"===e})),z=()=>{const{orderStatus:e,orderNo:a}=v.detail;let t=I.sign;"collectInfo"===e&&(t=I.infoCollection),$.push({path:t,query:{tenantId:x,orderNo:a}})},D=()=>{v.detail,_?g.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{m("handleCancel")})):g.confirm({message:"确认取消当前订单？"}).then((()=>{(e=>{const{holder:a,insured:t,orderId:o}=v.detail||{};let r={name:a.name,gender:`${h[a.gender]}士`};"insured"===e&&(r={name:null==t?void 0:t[0].name,gender:`${h[null==t?void 0:t[0].gender]}士`}),f({shareType:0,title:`${y.sign.title}（${C[e.toLocaleUpperCase()]}）`,desc:y.sign.desc.replace("{name}",`${r.name}${r.gender},代理人`),url:`${window.location.href}&objectType=${e}&orderId=${o}&nextPageCode=orderDetail`.replace(/\/order|\/orderDetail/,"/phoneVerify"),imageUrl:"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/lian_logo.png?OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Expires=1697288114&Signature=S87PMeDRxltLovmmHVTeiHoew1c%3D"})})("holder")}))},T=()=>{const{orderNo:e,orderId:a}=v.detail;$.push({path:I.updateBankInfo,query:{tenantId:x,orderNo:e,orderId:a,nextPageCode:"orderDetail"}})};return(e,a)=>{const t=r;return n(),s("div",k,[d(N)?(n(),l(t,{key:0,type:"primary",size:"small",onClick:p(z,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),d(P)?(n(),l(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(D,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),d(w)?(n(),l(t,{key:2,size:"small",onClick:p(T,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-5e4757a8"]]);export{$ as O};
