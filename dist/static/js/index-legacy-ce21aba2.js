!function(){var e=document.createElement("style");e.innerHTML=".net-sale-wrap[data-v-2f79ea18]{padding-bottom:2rem;background:#f1f5fc}.net-sale-wrap .footer-button[data-v-2f79ea18]{justify-content:space-between}.net-sale-wrap .radio-group[data-v-2f79ea18]{width:100%}.net-sale-wrap .radio-group .radio-btn[data-v-2f79ea18]{justify-content:space-between}.net-sale-wrap .price[data-v-2f79ea18]{color:#393d46;font-size:.45333rem;font-weight:400}.net-sale-wrap .price span[data-v-2f79ea18]{color:var(--van-primary-color);font-weight:700}.net-sale-wrap .right[data-v-2f79ea18]{width:3.73333rem;background:var(--van-primary-color);border-color:var(--van-primary-color)}\n",document.head.appendChild(e),System.register(["./vendor-legacy-69aabaa4.js","./utils-legacy-fb6c1d08.js","./product-legacy-9d4d5097.js","./trial-legacy-02a96173.js","./index-legacy-8cf0c8fa.js","./index-legacy-c28a124d.js","./theme-legacy-83ec434c.js","./nextStep-legacy-2f16b239.js","./useStorage-legacy-5bdd8985.js","./infoCollection-legacy-4ac00022.js","./trial-legacy-cb362ea5.js","./relativeTime-legacy-9d9fd799.js","./useDicData-legacy-6293422d.js"],(function(e){"use strict";var t,a,n,r,o,d,i,u,l,c,s,p,f,v,m,I,O,y,L,g,b,C,V,w,h,j,P,R,k,B,N;return{setters:[function(e){t=e.h,a=e.aa,n=e.P,r=e.r,o=e.A,d=e.$,i=e.l,u=e.j,l=e.k,c=e.m,s=e.n,p=e.p,f=e.t,v=e.B,m=e.L,I=e.C,O=e.x,y=e.G,L=e.D,g=e.a5,b=e.a6},function(e){C=e.r,V=e.t},function(e){w=e.p},function(e){h=e.b,j=e.p,P=e.i},function(e){R=e._},function(e){k=e._},function(e){B=e.u},function(e){N=e.n},function(){},function(){},function(){},function(){},function(){}],execute:function(){const x=e=>(g("data-v-2f79ea18"),e=e(),b(),e),E={class:"net-sale-wrap"},_={class:"product-name"},H=x((()=>v("span",null,null,-1))),T=x((()=>v("span",null,null,-1))),A={class:"footer-button"},D=y("分享用户确认投保");e("default",k(t({setup(e){const t=B();a();const y=n(),{productCode:g="HTEJBX",tenantId:b="9991000001",orderNo:k,agentCode:x="",saleChannelId:F,from:S}=y.query,U=r(),z=r(),q=r(),G=r(),W=r(),$=r({}),J=r({agencyId:x,commencementTime:"",expiryDate:"",extInfo:{buttonCode:"EVENT_NETSALE_underWrite",pageCode:"infoCollection",templateId:3,iseeBizNo:""},orderCategory:1,saleUserId:F,tenantId:b,venderCode:"",tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"xinao",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",tenantId:b}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),M=o((()=>!!q.value?.productRelationPlanVOList?.length)),X=o((()=>{let{premium:e}=W.value||{};if(!e){const{tenantProductInsureVO:t}=G.value||{};let a={};a=t?.planList?.length?t?.planList.find((e=>e.plaCode===z.value)):t?.planInsureVO;const{paymentFrequencyValue:n,premiumUnit:r}=a?.productPremiumVOList?.[0]||{};e=n+r}return e||""})),Y=o((()=>{let e=[];return e=M.value?q.value?.productRelationPlanVOList.find((e=>e.planCode===z.value))?.productRiskVoList||[]:q.value?.productRiskVoList||[],e}));o((()=>{Y.value?.[0]?.riskDetailVOList?.[0]}));const K=async()=>{J.value.venderCode=q.value?.productBasicInfoVO.insurerCode,J.value.orderAmount=W.value.premium,J.value.orderRealAmount=W.value.premium,N(((e={},t={},a={})=>{const n={...a},r={tenantId:b,riskList:n.tenantOrderInsuredList[0]?.tenantOrderProductList[0].riskVOList||[],riskPremium:t,productId:e?.productBasicInfoVO.id};return n.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:e.productBasicInfoVO.productCode,productName:e.productBasicInfoVO.productName,tenantOrderRiskList:V(r)},n})(q.value,W.value,J.value),(()=>{}))},Q=async()=>{L.confirm({title:"分享",message:`即将向客户【${J.value.tenantOrderHolder.name}】发送投保确认信息,请确认是否继续？`}).then((()=>{K()}))};d([()=>J.value.tenantOrderHolder.gender,()=>J.value.tenantOrderHolder.birthday,()=>J.value.tenantOrderInsuredList?.[0].gender,()=>J.value.tenantOrderInsuredList?.[0].birthday,()=>z.value],i.exports.debounce((([e,t,a,n])=>{e&&t&&a&&n&&(async(e,t,a)=>{const n={holder:{personVO:e.tenantOrderHolder},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",personVO:e,productPlanVOList:[{insurerCode:t.productBasicInfoVO.insurerCode,planCode:z.value||0,riskVOList:C(a)}]})))},{code:r}=await h(n);if("10000"===r){const{code:e,data:t}=await j(n);W.value="10000"===e?t:null}J.value.tenantOrderInsuredList[0].tenantOrderProductList=n.insuredVOList[0]?.productPlanVOList})(J.value,q.value,Y.value)}),500));return u((()=>{(async()=>{const{code:e,data:t}=await w({productCode:g,withInsureInfo:!0,tenantId:b});"10000"===e&&(G.value=t,document.title=t.productFullName||"");const{code:a,data:n}=await P({productCode:g});"10000"===a&&(q.value=n,$.value=n.productFactor,n?.productRelationPlanVOList?.length&&(z.value=n.productRelationPlanVOList[0].planCode))})(),setTimeout((async()=>{window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const n=l("ProRadioButton"),r=l("ProCard"),o=l("ProCell"),d=l("van-button"),i=l("ProPageWrap"),u=l("van-config-provider");return c(),s(u,{"theme-vars":I(t)},{default:p((()=>[f(i,null,{default:p((()=>[v("div",E,[v("div",_,m(q.value?.productBasicInfoVO?.productFullName),1),I(M)?(c(),s(r,{key:0,title:"保障年期"},{default:p((()=>[f(n,{modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),class:"radio-group",prop:{label:"planName",value:"planCode"},options:q.value?.productRelationPlanVOList},null,8,["modelValue","options"])])),_:1})):O("",!0),f(R,{ref_key:"formRef",ref:U,"title-collection":{HOLDER:"投保人",INSURER:"被保人",BENEFICIARY:"收益人"},"form-info":J.value,"send-sms-code":()=>{},"input-align":"left","factor-object":$.value},{holderName:p((()=>[H])),insurerName:p((()=>[T])),_:1},8,["form-info","send-sms-code","factor-object"]),f(o,{title:"保费",content:I(X)},null,8,["content"]),v("div",A,[f(d,{type:"primary",block:"",onClick:Q},{default:p((()=>[D])),_:1})])])])),_:1})])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-2f79ea18"]]))}}}))}();
