import{_ as e,d as a,ay as l,az as n,d3 as t,h as i,i as s,ad as o,af as d,j as r,r as c,dr as v,ds as u,k as p,E as f,bv as _,aB as m,l as b,dt as h,aC as g,o as y,c as x,u as w,a as k,p as I,f as C,F as P,s as j,b as O,q as V,n as N,w as T,a8 as D,du as A,bT as L,c6 as F,T as R,aO as E,bP as q,dv as S,aX as B,aZ as $,bW as U,I as z,dw as Y,aH as M,aA as G,aG as H,b1 as X,b2 as J,ah as W}from"./index-1a2f17f4.js";import{a as Z,c as Q}from"./product-94c565da.js";import{i as K,g as ee,s as ae}from"./trial-a735adfa.js";import{P as le}from"./index-bb86a5a9.js";import{n as ne}from"./nextStep-70df975c.js";import{g as te,t as ie,r as se}from"./utils-e3c95d7d.js";import oe from"./index-a6962e4d.js";import{P as de}from"./index-6669b987.js";import re from"./index-fcc401b8.js";import{u as ce}from"./useAttachment-403526d7.js";import{u as ve}from"./useOrder-9526bf57.js";import{_ as ue}from"./AgentInfo-9a2dc42f.js";import{q as pe}from"./core-8ca2268c.js";import"./PolicyInfo-7d2c755c.js";import{P as fe}from"./constants-b39aa53b.js";import{u as _e}from"./useThread-637a02aa.js";import{I as me}from"./index-f70b5f0a.js";import"./infoCollection-2a99cd25.js";import"./questionnaire-42dcb602.js";import"./util-7fa4f52b.js";import"./trial-c4fdc91e.js";import"./utils-ca427327.js";import"./createProposal-ecb41f85.js";const be=e=>(X("data-v-14b89da1"),e=e(),J(),e),he={key:0},ge={class:"__skeleton_free5_content__"},ye={"theme-vars":"[object Object]",class:"page-free-product-detail sk"},xe={class:"content"},we=be((()=>k("div",{class:"van-tabs van-tabs--line pro-tab custom-plan-tab"},[k("div",{class:"van-tabs__wrap"},[k("div",{role:"tablist",class:"van-tabs__nav van-tabs__nav--line van-tabs__nav--complete","aria-orientation":"horizontal"},[k("div",{id:"van-tabs-1-0",role:"tab",class:"van-tab van-tab--line van-tab--grow van-tab--active",tabindex:"0","aria-selected":"true","aria-controls":"van-tab-2"},[k("span",{class:"van-tab__text"},[k("span",{class:"sk-text",style:{"--fp":"10.00%","--sp":"90.00%","--lh":"20px"}},"计划一")])]),k("div",{id:"van-tabs-1-1",role:"tab",class:"van-tab van-tab--line van-tab--grow",tabindex:"-1","aria-selected":"false","aria-controls":"van-tab-3"},[k("span",{class:"van-tab__text"},[k("span",{class:"sk-text",style:{"--fp":"10.00%","--sp":"90.00%","--lh":"20px"}},"计划二")])]),k("div",{class:"van-tabs__line",style:{width:"28px",transform:"translateX(90.5px) translateX(-50%)",height:"4px","border-radius":"4px"}})])]),k("div",{class:"van-tabs__content"},[k("div",{id:"van-tab-2",role:"tabpanel",class:"van-tab__panel",tabindex:"0","aria-labelledby":"van-tabs-1-0",style:{}})])],-1))),ke={class:"part"},Ie={class:"part-header holder-header"},Ce={class:"svg-icon icon-free-arrow","font-size":"40px",style:{color:"var(--van-primary-color)"}},Pe=[be((()=>k("use",{"xlink:href":"#icon-free-arrow"},null,-1)))],je=be((()=>k("div",{class:"header"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"22.400139999999997px"}},"免费领取")],-1))),Oe={class:"svg-icon icon-free-arrow","font-size":"40px",style:{color:"var(--van-primary-color)"}},Ve=[be((()=>k("use",{"xlink:href":"#icon-free-arrow"},null,-1)))],Ne={class:"com-card com-pro-form-with-card com-card-body-no-padding personal-info-card holder"},Te={class:"com-card-wrap"},De={class:"body",style:{height:"auto"}},Ae={class:"van-form com-van-form"},Le={class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"Bc0wjU19UwIhyiefbs4zE",columns:""},Fe=be((()=>k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-4-label",for:"van-field-4-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"姓名")])],-1))),Re={class:"van-cell__value van-field__value"},Ee={class:"van-field__body"},qe=be((()=>k("input",{type:"text",id:"van-field-4-input",name:"name",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入姓名",autocomplete:"off","aria-labelledby":"van-field-4-label"},null,-1))),Se={class:"van-field__right-icon"},Be={class:"choose-customer"},$e={class:"svg-icon icon-customer",style:{color:"rgb(51, 51, 51)"}},Ue=[be((()=>k("use",{"xlink:href":"#icon-customer"},null,-1)))],ze=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item",role:"button",tabindex:"0",textalign:"right"},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-5-label",for:"van-field-5-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件类型")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"value-view-wrap",style:{}},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"居民身份证")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Ye=be((()=>k("div",{class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"cYX6njpk9PbIdM0Cc1uko",columns:""},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-6-label",for:"van-field-6-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件号码")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("input",{type:"text",id:"van-field-6-input",name:"certNo",class:"van-field__control van-field__control--left sk-input",placeholder:"请输入证件号码",autocomplete:"off","aria-labelledby":"van-field-6-label"})])])],-1))),Me=be((()=>k("div",{class:"van-cell van-field com-van-field",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"f80BClgG7He6ZF8gYqnf0",columns:""},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-7-label",for:"van-field-7-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"手机号")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("input",{type:"tel",inputmode:"numeric",id:"van-field-7-input",name:"mobile",class:"van-field__control van-field__control--left",placeholder:"请输入手机号",autocomplete:"off","aria-labelledby":"van-field-7-label"})])])],-1))),Ge=be((()=>k("div",{class:"van-cell van-field com-van-field com-pro-sms-code",textalign:"right",customfieldname:"[object Object]",remark:"",componentname:"[object Object]",nanoid:"f6uaPlar0trUqrkDscy4s",columns:""},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-8-label",for:"van-field-8-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"验证码")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("input",{type:"tel",inputmode:"numeric",id:"van-field-8-input",name:"verificationCode",class:"van-field__control van-field__control--left",placeholder:"请输入验证码",autocomplete:"off","aria-labelledby":"van-field-8-label"})])]),k("button",{type:"button",class:"van-button van-button--primary van-button--small van-button--plain extra-button sk-button"},[k("div",{class:"van-button__content"},[k("span",{class:"van-button__text"},[k("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"16.8px"}},"验证码")])])])],-1))),He=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item com-van-field--hidden",role:"button",tabindex:"0",textalign:"right"},[k("div",{class:"van-cell__value van-cell__value--alone van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"})])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Xe=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item",role:"button",tabindex:"0",textalign:"right"},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-10-label",for:"van-field-10-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"投保地区")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择投保地区")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Je=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-van-field--hidden com-form-item com-van-field--hidden undefined",role:"button",tabindex:"0",textalign:"right",visible:"false"},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-11-label",for:"van-field-11-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"出生日期")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择出生日期")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),We=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-van-field--hidden com-form-item com-van-field--hidden",role:"button",tabindex:"0",textalign:"right",visible:"false"},[k("div",{class:"van-cell__title van-field__label van-field__label--required"},[k("label",{id:"van-field-12-label",for:"van-field-12-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"性别")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择性别")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Ze=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item undefined",role:"button",tabindex:"0",textalign:"right"},[k("div",{class:"van-cell__title van-field__label"},[k("label",{id:"van-field-13-label",for:"van-field-13-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件有效期")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择证件有效期")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"}),k("div",{class:"wrap"},[k("div",{role:"checkbox",class:"van-checkbox",tabindex:"0","aria-checked":"false"},[k("div",{class:"van-checkbox__icon van-checkbox__icon--round"},[k("i",{class:"van-badge__wrapper van-icon van-icon-success sk-border"})]),k("span",{class:"van-checkbox__label"},[k("span",{class:"sk-text",style:{"--fp":"12.50%","--sp":"87.50%","--lh":"20px"}},"长期")])])])],-1))),Qe=be((()=>k("div",{class:"van-cell van-cell--clickable van-field com-van-field com-form-item undefined",role:"button",tabindex:"0",textalign:"right"},[k("div",{class:"van-cell__title van-field__label"},[k("label",{id:"van-field-14-label",for:"van-field-14-input"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"证件起期")])]),k("div",{class:"van-cell__value van-field__value"},[k("div",{class:"van-field__body"},[k("div",{class:"van-field__control van-field__control--left van-field__control--custom"},[k("div",{class:"custom-input-wrap"},[k("span",{class:"placeholder"},[k("span",{class:"sk-text",style:{"--fp":"18.75%","--sp":"81.25%","--lh":"24px"}},"请选择证件起期")])])])])]),k("i",{class:"van-badge__wrapper van-icon van-icon-arrow van-cell__right-icon"})],-1))),Ke=A('<div class="com-card com-pro-form-with-card com-card-body-no-padding personal-info-card insured" data-v-14b89da1><div class="com-card-wrap" data-v-14b89da1><div class="header showLine" data-v-14b89da1><div class="title-wrapper" data-v-14b89da1><div class="title showIcon" data-v-14b89da1><span class="sk-text" style="--fp:33.33%;--sp:66.67%;--lh:45px;" data-v-14b89da1>被保人信息</span></div></div></div></div></div>',1),ea=["theme-vars"],aa={class:"content"},la={key:1,class:"part"},na=be((()=>k("div",{class:"part-header agent-header"},[k("span",{class:"header"},"销售人员信息")],-1))),ta={class:"part"},ia={class:"part-header holder-header"},sa=be((()=>k("div",{class:"header"},"免费领取",-1))),oa=be((()=>k("p",{class:"page-tip"},"同一被保险人仅限领取1份",-1)));var da=e(a({__name:"index",setup(e){const a=l((()=>n((()=>import("./index-076e36f1.js")),["static/js/index-076e36f1.js","static/css/index-eabeb59f.css","static/js/index-1a2f17f4.js","static/css/index-efad381f.css"]))),A=l((()=>n((()=>import("./index-5ffc8628.js")),["static/js/index-5ffc8628.js","static/css/index-4822eb94.css","static/js/index-1a2f17f4.js","static/css/index-efad381f.css"]))),X=l((()=>n((()=>import("./index-3aa76a5f.js")),["static/js/index-3aa76a5f.js","static/css/index-fa4edf2a.css","static/js/index-1a2f17f4.js","static/css/index-efad381f.css","static/js/theme-94cf7d00.js","static/js/index-6669b987.js","static/css/index-bbfdd7ec.css","static/js/utils-e3c95d7d.js","static/js/infoCollection-2a99cd25.js","static/js/trial-c4fdc91e.js"]))),J=t(),be=i(),da=s(),{productCode:ra="",agentCode:ca="",tenantId:va="",templateId:ua,insurerCode:pa="",orderNo:fa,preview:_a,isShare:ma}=da.query,{agentCode:ba}=o.get(`${d}_userInfo`)||{},ha=r(),ga=r();r();const ya=r(),xa=r({}),wa=c({tenantProductDetail:{},insureProductDetail:{},submitData:{},riskVOList:[{}],userData:{},ifPersonalInfoSuccess:!1,currentRiskInfo:[],mainRiskInfo:{},currentPackageConfigVOList:[],planList:[],colors:["#fff"],detail:{},banner:"",productDesc:[],newAuth:!0,isValidateCode:!1,insureDetail:{},loading:!0,isSelfInsure:!0,showBtn:!1,activeIndex:0,formInfo:{},showFilePreview:!1,isOnlyView:!0,agree:!1}),ka=r({}),Ia=ve({extInfo:{buttonCode:"EVENT_FREE_multiIssuePolicy",pageCode:"productInfo",templateId:ua,iseeBizNo:""},periodType:v.free},da),Ca=r(),Pa=r(),ja=r({}),Oa=r([]),Va=r(),{fileList:Na,mustReadFileCount:Ta,popupFileList:Da}=ce(ja,Va),Aa=r({title:"标题",desc:"描述",imageUrl:u,url:`${window.location.origin}${fe.faceVerify}`,link:`${window.location.origin}${fe.faceVerify}`}),La=p((()=>!!_a)),Fa=async()=>{wa.loading=!0;const e=Z({productCode:ra}),a=K({productCode:ra,isTenant:!_a});await Promise.all([e,a]).then((([e,a])=>{var l;"10000"===e.code&&(wa.tenantProductDetail=e.data,L(e.data.BASIC_INFO.title||""),e.data.BASIC_INFO&&e.data.BASIC_INFO.themeType&&F(e.data.BASIC_INFO.themeType)),"10000"===a.code&&(wa.insureProductDetail=a.data,ja.value=null==(l=a.data.productPlanInsureVOList)?void 0:l[0],wa.planList=(a.data.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode})))),Q({productCode:ra}).then((({code:e,data:a})=>{var l,n,t,i;if("10000"===e){const{productMaterialPlanVOList:e,productQuestionnaireVOList:s}=a;Va.value=e||[];const{basicInfo:{questionnaireType:o},questions:d,questionnaireName:r}=(null==(l=null==s?void 0:s[0])?void 0:l.questionnaireDetailResponseVO)||{basicInfo:{}};o&&(Oa.value=2===o?[{attachmentName:r,attachmentUri:d,attachmentType:"question"}]:[{attachmentName:r,attachmentUri:null==(n=null==d?void 0:d[0])?void 0:n.content,attachmentType:te(String(null==(t=null==d?void 0:d[0])?void 0:t.textType),null==(i=null==d?void 0:d[0])?void 0:i.content)}])}})),wa.loading=!1}))},Ra=r();r(!1);const Ea=e=>{var a;ja.value=null==(a=wa.insureProductDetail.productPlanInsureVOList)?void 0:a[e.name]};f((()=>ja.value),(()=>{var e,a;const{planCode:l,insureProductRiskVOList:n,productFactor:t}=ja.value;ka.value.planCode=l,Ra.value=null==(a=null==(e=_(t))?void 0:e.agent)?void 0:a.schema,wa.currentRiskInfo=n,wa.mainRiskInfo=(n||[]).find((e=>e.mainRiskFlag===m.YES)),console.log("mainRiskInfo.value",wa.mainRiskInfo)}),{deep:!0,immediate:!0});const qa=(e={},a={},l={})=>{const n={...l},{insuredList:t,holder:i}=l,{insuranceStartDate:s,insuranceEndDate:o}=wa.formInfo,d=se([...wa.currentRiskInfo]).map((e=>({...e}))),r={tenantId:va,riskList:d,riskPremium:a,productId:null==e?void 0:e.id};return n.extInfo.iseeBizNo=ha.value,n.productCode=null==e?void 0:e.productCode,n.commencementTime=s,n.expiryDate=o,n.premium=0,n.orderAmount=0,n.orderRealAmount=0,n.insuredList=t.map((a=>{var l;return{...a,nationalityCode:"CHN",certType:a.certType||W.CERT,certNo:(a.certNo||"").toLocaleUpperCase(),planCode:ja.value.planCode,productList:[{premium:0,productCode:null==e?void 0:e.productCode,productName:null==e?void 0:e.productName,productClass:null==e?void 0:e.productClass,planCode:null==(l=ja.value)?void 0:l.planCode,riskList:ie(r)}]}})),n.holder.nationalityCode="CHN",n},Sa=r(),Ba=r(!1),$a=r(),Ua=r(!1),za=r(),Ya=r(!1),Ma=(e=!0)=>{ee({orderNo:fa,tenantId:va},{isLoading:e}).then((({code:e,data:a})=>{var l,n,t;"10000"===e&&(Ua.value=(null==(n=null==(l=a.insuredList)?void 0:l[0])?void 0:n.faceAuthFlag)===m.YES,Ua.value&&(za.value.isStart&&R("被保险人认证完成"),za.value.stop()),Object.assign(Ia.value,a),Ba.value=!!(null==(t=a.holder)?void 0:t.name),Ia.value.holder.config={name:{isView:Ba.value}},wa.userData=a,Ba.value&&(Sa.value.agentCode=$a.value))}))};za.value=_e({start:()=>{Ma(!1),Ua.value=!1},stop:()=>{Ua.value=!0},time:1e4,number:0});const Ga=async()=>{var e,a,l;const n={insurerCode:pa,productCode:ra,productId:"",productName:(null==(e=wa.insureProductDetail)?void 0:e.productName)||"",productClass:(null==(a=wa.insureProductDetail)?void 0:a.productClass)||"",tenantId:va},t=qa(n,{},Object.assign(Ia.value,wa.userData));if(La.value)be.push(`/baseInsurance/orderDetail?from=free&tenantId=${va}&orderNo=mockOrderNo&productCode=${ra}&preview=true&templateView=${ua}`);else try{if(ma)t.extInfo.buttonCode=S.free.underWriteAndIssue,Promise.all([null==(l=Ca.value)?void 0:l.validate(),Pa.value.validate()]).then((async e=>{var a;(()=>{var e;return!(null==(e=Ra.value)?void 0:e.length)||ca===Sa.value.agentCode})()?!(null==(a=Na.value)?void 0:a.length)||wa.agree?ne(t,((e,a,l)=>{a===$.JUMP_PAGE&&e.orderNo?be.push({path:fe.paymentResult,query:{tenantId:va,from:"free",orderNo:fa}}):a===$.JUMP_ALERT&&"faceAuth"===e.alertType&&B.confirm({message:l,confirmButtonText:"去分享",cancelButtonText:"被保险人确认"}).then((()=>{const e={...da.query,isShare:1,orderNo:fa,agentCode:ba,objectType:"insured",origin:"share"};xa.value={title:"标题",desc:"描述",imageUrl:u,url:`${window.location.origin}${fe.faceVerify}?${q.stringify(e)}`,link:`${window.location.origin}${fe.faceVerify}?${q.stringify(e)}`},ya.value.handleShare(xa.value),Ya.value=!0,za.value.run()})).catch((()=>{be.push({path:fe.faceVerify,query:{...da.query,objectType:"insured",origin:"confirm"}})}))})):B.alert({message:"请先阅读投保文档",confirmButtonText:"我知道了"}):B.alert({message:"销售人员工号有误，请核对后重新录入",confirmButtonText:"我知道了"})})).catch((e=>{U(".page-free-product-detail",".van-field--error")}));else{const{code:e,data:a}=await ae(t);if("10000"===e){const e={...da.query,isShare:1,orderNo:a,agentCode:ba,expiryDate:E().format("YYYY-MM-DD")};xa.value={title:"标题",desc:"描述",imageUrl:u,link:`${window.location.origin}${window.location.pathname}?${q.stringify(e)}`,url:`${window.location.origin}${window.location.pathname}?${q.stringify(e)}`},ya.value.handleShare(xa.value)}}}catch(i){console.log("e")}},Ha=()=>{wa.showFilePreview=!1,wa.isOnlyView=!0},Xa=()=>{wa.showFilePreview=!1,wa.isOnlyView=!0,Ga()};b((()=>{ca&&pe({tenantId:va,saleUserId:ca}).then((({code:e,data:a})=>{"10000"===e&&($a.value=a.agentCode,Sa.value={...a,agentCode:""},o.set(`${d}_userInfo`,a),Ma())})),Fa(),setTimeout((async()=>{ha.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)}));const Ja=h(ga);return g(ga,(([{isIntersecting:e}],a)=>{(e=>{Ja.bottom.value<0||Ja.top.value<0?wa.showBtn=!e:wa.showBtn=!1})(e)})),(e,l)=>{var n,t,i,s,o,d,r,c,v,u,p;const f=z,_=Y,m=M,b=G,h=H;return y(),x(P,null,[w(wa).loading?(y(),x("div",he,[k("div",ge,[k("div",ye,[k("div",xe,[we,k("div",ke,[k("div",Ie,[(y(),x("svg",Ce,Pe)),je,(y(),x("svg",Oe,Ve))]),k("div",Ne,[k("div",Te,[k("div",De,[k("form",Ae,[k("div",Le,[Fe,k("div",Re,[k("div",Ee,[qe,k("div",Se,[k("div",Be,[(y(),x("svg",$e,Ue))])])])])]),ze,Ye,Me,Ge,He,Xe,Je,We,Ze,Qe])])])]),Ke])])])])])):(y(),x("div",{key:1,"data-skeleton-root":"FREE5","theme-vars":w(J),class:"page-free-product-detail"},[1==(null==(t=null==(n=w(wa).tenantProductDetail)?void 0:n.BASIC_INFO)?void 0:t.bannerType)&&(null==(s=null==(i=w(wa).tenantProductDetail)?void 0:i.BASIC_INFO)?void 0:s.banner.length)?(y(),I(oe,{key:0,"data-skeleton-type":"img","indicator-color":"#ddd",images:null==(o=w(wa).tenantProductDetail)?void 0:o.BASIC_INFO.banner},null,8,["images"])):C("",!0),k("div",aa,[(y(!0),x(P,null,j(null==(r=null==(d=w(wa).tenantProductDetail)?void 0:d.SPECIAL_FEATURE)?void 0:r.spec,((e,a)=>(y(),x("div",{key:a,class:"part image-part"},[O(f,{src:e},null,8,["src"])])))),128)),(null==(c=w(wa).planList)?void 0:c.length)>1?(y(),I(_,{key:0,active:e.currentActivePlanCodeIndex,"onUpdate:active":l[0]||(l[0]=a=>e.currentActivePlanCodeIndex=a),list:w(wa).planList.map(((e,a)=>({title:e.planName,slotName:e.planName}))),class:"custom-plan-tab",onClickTab:Ea},null,8,["active","list"])):C("",!0),w(ma)&&(null==(v=w(Ra))?void 0:v.length)?(y(),x("div",la,[na,O(ue,{ref_key:"agentRef",ref:Ca,modelValue:w(Sa),"onUpdate:modelValue":l[1]||(l[1]=e=>V(Sa)?Sa.value=e:null),"is-view":"",config:{agentCode:{isView:w(Ba)}},schema:w(Ra)},null,8,["modelValue","config","schema"])])):C("",!0),k("div",ta,[k("div",ia,[O(m,{color:"var(--van-primary-color)","font-size":"40px",name:"free-arrow"}),sa,O(m,{color:"var(--van-primary-color)","font-size":"40px",name:"free-arrow"})]),(y(),I(le,{key:w(ja).planCode,ref_key:"personalInfoRef",ref:Pa,modelValue:w(wa).userData,"onUpdate:modelValue":l[2]||(l[2]=e=>w(wa).userData=e),"input-align":"left","is-view":w(Ya)||w(Ua),"error-message-align":"left","product-factor":null==(u=w(ja))?void 0:u.productFactor,"multi-insured-config":null==(p=w(ja))?void 0:p.multiInsuredConfigVO,onTrailChange:e.handlePersonalInfoChange},null,8,["modelValue","is-view","product-factor","multi-insured-config","onTrailChange"])),O(me,{"form-info":w(wa).formInfo,"risk-info":w(wa).mainRiskInfo},null,8,["form-info","risk-info"]),oa,O(de,{ref_key:"root",ref:ga,class:N({"submit-btn":!0,"is-first":!w(wa).newAuth}),"is-gradient":!1,disabled:w(Ya)&&!w(Ua),text:w(ma)?"领取保障并激活":"分享至客户",onClick:Ga},null,8,["class","disabled","text"]),w(ma)?(y(),I(b,{key:0},{default:T((()=>{var e;return[(null==(e=w(Na))?void 0:e.length)?(y(),I(w(A),{key:0,modelValue:w(wa).agree,"onUpdate:modelValue":l[3]||(l[3]=e=>w(wa).agree=e),"attachment-list":w(Na),"has-bg-color":!1,"is-show-radio":"","pre-text":"请阅读",onPreviewFile:l[4]||(l[4]=e=>(e=>{wa.isOnlyView=!0,wa.activeIndex=e,wa.showFilePreview=!0})(e))},null,8,["modelValue","attachment-list"])):C("",!0)]})),_:1})):C("",!0),O(b,null,{default:T((()=>{var e,l,n;return[(null==(e=w(wa).tenantProductDetail.SIGNATURE)?void 0:e.inscribedContent)?(y(),I(w(a),{key:0,"inscribed-content":null==(n=null==(l=w(wa).tenantProductDetail)?void 0:l.SIGNATURE)?void 0:n.inscribedContent},null,8,["inscribed-content"])):C("",!0)]})),_:1})])])],8,ea)),w(wa).showFilePreview?(y(),I(w(X),{key:2,show:w(wa).showFilePreview,"onUpdate:show":l[5]||(l[5]=e=>w(wa).showFilePreview=e),"content-list":w(wa).isOnlyView?w(Na):w(Da),"is-only-view":w(wa).isOnlyView,"active-index":w(wa).activeIndex,text:w(wa).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-count":w(wa).isOnlyView?0:w(Ta),onSubmit:Xa,onOnCloseFilePreviewByMask:Ha},null,8,["show","content-list","is-only-view","active-index","text","force-read-count"])):C("",!0),O(h,D({ref_key:"shareRef",ref:ya},w(Aa)),null,16),w(wa).loading?C("",!0):(y(),I(re,{key:3,"product-detail":w(wa).tenantProductDetail},null,8,["product-detail"]))],64)}}}),[["__scopeId","data-v-14b89da1"]]);export{da as default};
