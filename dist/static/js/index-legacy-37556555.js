!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.customer-list-item{background-color:#fff}.customer-list-item .delete-button{height:100%}.customer-list-item .list-item{display:flex;align-items:center;justify-content:space-between;padding:.26667rem .4rem;border-bottom:1px solid #f4f5f7}.customer-list-item .list-item .mf{width:1.17333rem;height:1.17333rem}.customer-list-item .list-item .icon{margin-left:.13333rem;padding:.06667rem .16rem;font-size:.29333rem;text-align:center;border-radius:.10667rem}.customer-list-item .list-item .icon-bg1{color:var(--van-primary-color);background:rgba(255,43,31,.08)}.customer-list-item .list-item .icon-bg2{color:#f60;background:#ffeee7}.customer-list-item .list-item .icon-bg3{background-color:rgba(115,76,255,.1);color:#947fe1}.customer-list-item .list-item .icon-bg4{background:rgba(27,205,145,.1);color:#1bcd91}.customer-list-item .list-item .icon-bg5{color:#ff8d1e;background:rgba(255,141,30,.1)}.customer-list-item .list-item .icon-bg6{color:#00afff;background:rgba(0,175,255,.08)}.customer-list-item .list-item .left{display:flex;align-items:center}.customer-list-item .list-item .left .from-wx{display:flex;align-items:center;font-size:.32rem;color:#b6b6b6;margin-top:.05333rem}.customer-list-item .list-item .left .img-wx{margin-left:.2rem;width:.4rem;height:.4rem;background:#dffae9;border-radius:.08rem;margin-right:.05333rem}.customer-list-item .list-item .right{margin-right:.66667rem;padding:.13333rem}.customer-list-item .list-item .name{margin-left:.21333rem}.customer-list-item .list-item .ph{width:.45333rem;height:.45333rem}.customer-list{background-color:#f6f6fa}.customer-list .van-index-anchor{color:#999;font-size:.32rem;line-height:.64rem}.customer-list .list-pr{position:relative}.customer-list .list-alp{height:.77333rem;padding-left:.4rem;color:#999;line-height:.77333rem;font-size:.32rem;background-color:#f5f5f5}.customer-list .list-alphabet{position:absolute;top:1.46667rem;right:.13333rem;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent;-webkit-overflow-scrolling:touch;width:.4rem;height:14.74667rem;background:#f2f2f2;border-radius:.2rem}.customer-list .list-alphabet span{display:block;margin-top:.08rem;font-size:.26667rem;color:#969696;text-align:center}.customer-list .van-index-bar__sidebar{border-radius:.2rem;background:#f2f2f2;color:#969696;right:.13333rem;padding:.26667rem .06667rem;top:67%;font-size:.10667rem!important}.customer-list .van-index-bar__index{padding:0;font-weight:400}@media screen and (max-height: 750px){.customer-list .van-index-bar__index{padding:0}}@media screen and (min-height: 751px){.customer-list .van-index-bar__index{padding:.04rem 0}}.icon[data-v-7afbf302]{margin-left:.13333rem;padding:.06667rem .16rem;font-size:.29333rem;text-align:center;border-radius:.10667rem}.icon-bg1[data-v-7afbf302]{color:var(--van-primary-color);background:rgba(255,43,31,.08)}.icon-bg2[data-v-7afbf302]{color:#f60;background:#ffeee7}.icon-bg3[data-v-7afbf302]{background-color:rgba(115,76,255,.1);color:#947fe1}.icon-bg4[data-v-7afbf302]{background:rgba(27,205,145,.1);color:#1bcd91}.icon-bg5[data-v-7afbf302]{color:#ff8d1e;background:rgba(255,141,30,.1)}.icon-bg6[data-v-7afbf302]{color:#00afff;background:rgba(0,175,255,.08)}.van-popup[data-v-7afbf302]{border-radius:.26667rem .26667rem 0 0}.recommend[data-v-7afbf302]{width:100%;background-color:#f6f6fa;border-radius:.26667rem .26667rem 0 0}.recommend .van-checkbox__icon[data-v-7afbf302]{height:.37333rem;line-height:.37333rem}.recommend .van-checkbox__icon .van-icon[data-v-7afbf302]{width:.37333rem;height:.37333rem;border-color:#dedede}.recommend .van-icon-success[data-v-7afbf302]:before{line-height:100%}.recommend .title[data-v-7afbf302]{position:relative;padding:.42667rem;color:#343434;font-weight:500;font-size:.48rem;text-align:center;border-bottom:1px solid #f2f2f2;background-color:#fff}.recommend .title span[data-v-7afbf302]{position:absolute;top:.4rem;right:.53333rem;display:inline-block;font-size:.56rem}.recommend .dec[data-v-7afbf302]{background-color:#fff;padding:.37333rem;color:#616161;font-weight:500;font-size:.37333rem;margin-bottom:.26667rem}.recommend .dec img[data-v-7afbf302]{width:.56rem;margin-top:.10667rem;margin-right:.10667rem}.recommend .dec .dp[data-v-7afbf302]{display:flex;align-items:flex-start;font-size:.37333rem;line-height:.53333rem}.recommend .dec .sub[data-v-7afbf302]{margin-top:.16rem;color:#b38e57;font-size:.32rem;margin-left:.6rem;background:#faf6f0;border-radius:.08rem 1.33333rem 1.33333rem;padding:.21333rem .57333rem .21333rem .53333rem}.recommend .com-dp[data-v-7afbf302]{display:flex;align-items:center}.recommend .com-dp .name[data-v-7afbf302]{margin:0 .26667rem 0 .4rem}.recommend .ch-icon[data-v-7afbf302]{width:1.17333rem;height:1.17333rem}.recommend .tag[data-v-7afbf302]{padding:0 .16rem;color:var(--van-primary-color);font-size:.32rem;background:rgba(255,43,31,.08);border-radius:.10667rem}.recommend .footer[data-v-7afbf302]{position:fixed;bottom:0px;width:100%;background-color:#fff}.recommend .footer .btn-za[data-v-7afbf302]{margin:.26667rem 0px;padding:0 .4rem;width:100%;display:flex;align-items:center;justify-content:space-between}.recommend .footer .btn-za .btn-a[data-v-7afbf302]{height:1.2rem;flex:1;margin-left:.33333rem;background:var(--van-button-primary-background-color);border-radius:.6rem;border:none;color:#fff}.recommend .footer .btn-za .all[data-v-7afbf302]{font-size:.37333rem;color:#616161;white-space:nowrap}.com-search-filter{position:relative;width:8rem;height:100vh;padding:1.38667rem .53333rem 2rem;overflow-y:auto;background:#fff}.com-search-filter .action-bar{position:fixed;bottom:0;left:0;display:flex;align-items:center;justify-content:space-around;width:100%;height:2.13333rem;padding:0 .53333rem;background:#ffffff;border-radius:1px;box-shadow:0 0 .16rem rgba(52,52,52,.1)}.com-search-filter .action-bar .btn-com{width:3.06667rem;height:1.17333rem;border-radius:.58667rem;border:1px solid #ef4034;font-size:.37333rem}.com-search-filter .action-bar .btn{background:#ffffff;color:#ef4034}.com-search-filter .action-bar .btn1{background-color:ef4034}@charset "UTF-8";[data-v-27e3c791] .van-cell__right-icon{line-height:.66667rem;color:#ddd}[data-v-27e3c791] .van-icon{line-height:inherit}[data-v-27e3c791] .van-tab__text{font-size:.4rem}.page-customer .br[data-v-27e3c791]{background:#faf4eb;display:flex;align-items:center;justify-content:space-between;padding:.26667rem .4rem;height:1.33333rem}.page-customer .br .br-left[data-v-27e3c791]{display:flex;align-items:center}.page-customer .br .br-left img[data-v-27e3c791]{width:.78667rem;height:.78667rem;margin-right:.26667rem}.page-customer .br .br-left .custom-title[data-v-27e3c791]{font-size:.4rem;font-weight:600;color:#343434}.page-customer .br .br-right[data-v-27e3c791]{display:flex;align-items:center}.page-customer .br .br-right .brith-in[data-v-27e3c791]{font-size:.4rem;color:#b38e57}.page-customer .br .br-right .brith-in span[data-v-27e3c791]{color:var(--van-primary-color);font-weight:600;font-size:.4rem}.page-customer .br .br-right img[data-v-27e3c791]{width:.18667rem;height:.29333rem;margin-left:.2rem;margin-top:.04rem}.page-customer .search-content[data-v-27e3c791]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.16rem;padding:.16rem .4rem}.page-customer .search-bar[data-v-27e3c791]{flex:1}.page-customer .search-bar[data-v-27e3c791] .van-search{padding-right:.32rem}.page-customer .btn[data-v-27e3c791]{width:1.28rem;height:.74667rem;background:linear-gradient(90deg,#f70800 0%,#ff5003 100%);border-radius:.37333rem;white-space:nowrap;font-size:.32rem}.page-customer .btn[data-v-27e3c791] .van-button__text{font-weight:600;font-size:.32rem}.page-customer .filter[data-v-27e3c791]{color:#616161;font-size:.4rem;white-space:nowrap;display:flex;align-items:center}.page-customer .filter-img[data-v-27e3c791]{width:.32rem;height:.18667rem;vertical-align:middle;margin-left:.16rem}.page-customer .empth[data-v-27e3c791]{text-align:center}.page-customer .empth .bt[data-v-27e3c791]{width:3.2rem;height:.90667rem;background:var(--van-button-primary-background-color);border-radius:.45333rem}.page-customer .empth .bt[data-v-27e3c791] .van-button__text{font-size:.37333rem!important}.page-customer .empth .p1[data-v-27e3c791]{font-size:.4rem;font-weight:500;color:#343434}.page-customer .empth .p2[data-v-27e3c791]{font-size:.37333rem;color:#969696;margin-bottom:.32rem;margin-top:.12rem}.page-customer .empth .ig[data-v-27e3c791]{width:2.66667rem;height:2.66667rem;margin-top:2.66667rem;margin-bottom:.50667rem}.page-customer .header-count[data-v-27e3c791]{display:flex;align-items:center;justify-content:space-between;padding:.37333rem .4rem;color:#616161;font-size:.4rem}.page-customer .star[data-v-27e3c791]{display:flex;align-items:center;font-size:.37333rem;font-weight:600;color:#b38e57}.page-customer .star .icon[data-v-27e3c791]{width:.34667rem;height:.4rem;margin-right:.08rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-f56233fa.js","./index-legacy-32e69765.js","./businessOpportunity-legacy-c0354cb5.js","./index-legacy-9604cbf9.js","./plugin-vue_export-helper-legacy-57eac467.js","./constant-legacy-f10ed62b.js","./customer-legacy-fdf59632.js","./arrow-br-legacy-95839e2e.js"],(function(e){"use strict";var t,a,r,i,o,n,s,l,c,m,d,u,g,f,p,v,b,h,y,k,w,x,_,T,z,C,j,L,O,S,q,I,U,N,B,$,A,D,F,V,E,M,R;return{setters:[function(e){t=e.g,a=e.v,r=e.C,i=e.a0,o=e.r,n=e.k,s=e.m,l=e.n,c=e.j,m=e.y,d=e.z,u=e.I,g=e.s,f=e.B,p=e.F,v=e.E,b=e.h,h=e.a2,y=e.a3,k=e.aa,w=e.a5,x=e.G,_=e.Q,T=e.L,z=e.M,C=e.a6,j=e.D,L=e.T},function(e){O=e._},function(e){S=e.q},function(e){q=e.u,I=e.S},function(e){U=e._},function(e){N=e._,B=e.a,$=e.l},function(e){A=e.s,D=e.a,F=e.b,V=e.m,E=e.c,M=e.r},function(e){R=e._}],execute:function(){const G={class:"customer-list-item"},P={class:"left"},H=["src"],Q={class:"left"},W={class:"name"},Y={key:0,class:"icon icon-bg1"},Z={key:1,class:"icon icon-bg2"},J={key:2,class:"icon icon-bg3"},K={key:3,class:"icon icon-bg6"},X={key:4,class:"icon icon-bg5"},ee={key:5,class:"icon icon-bg6"},te={key:6,class:"icon icon-bg4"},ae={key:0,class:"from-wx"},re=["src"],ie=f(" 微信客户 "),oe={class:"right"},ne=["src"],se=t({props:{data:{type:Object,required:!1,default:()=>Object},disabled:{type:Boolean,required:!1,default:()=>!0}},emits:["on-delete"],setup(e,{emit:t}){const f=e,{getIconUrl:p}=q(),{data:v,disabled:b}=a(f),h=r(!1),y=i(),k=[{name:"拨打电话",color:"$primary-color",type:"1"},{name:"发送短信",type:"2"}],w=e=>{h.value=!1,S({agentCustomerId:v.value.agentCustomerId,customerType:v.value.customerType,businessType:"06",useType:"1"===e.type?"TEL":"SMS"}).then((t=>{"1"===e.type?window.location.href=`tel:${t.data.data}`:window.location.href=`sms:${t.data.data}`}))},x=()=>{t("on-delete",v.value)},_=()=>{y.push({name:"customerDetail",query:{agentCustomerId:v.value.agentCustomerId,customerType:v.value.customerType,customerName:v.value.customerName}})};return(e,t)=>{const a=o("van-button"),r=o("van-swipe-cell"),i=o("van-action-sheet");return n(),s("div",G,[l(r,{disabled:d(b)},{right:c((()=>[l(a,{square:"",text:"删除",type:"danger",class:"delete-button",onClick:x})])),default:c((()=>[m("div",{class:"list-item",onClick:_},[m("div",P,[m("div",null,[m("img",{src:d(v).gender?"F"===d(v).gender?d(p)("customer.female"):d(p)("customer.male"):d(p)("customer.defaultGender"),alt:"",class:"mf"},null,8,H)]),m("div",null,[m("div",Q,[m("div",W,u(d(v).customerName),1),"转介绍"===d(v).visitTag?(n(),s("div",Y,u(d(v).visitTag),1)):g("",!0),"接触面谈"===d(v).visitTag?(n(),s("div",Z,u(d(v).visitTag),1)):g("",!0),"客户获取"===d(v).visitTag?(n(),s("div",J,u(d(v).visitTag),1)):g("",!0),"需求分析"===d(v).visitTag?(n(),s("div",K,u(d(v).visitTag),1)):g("",!0),"电话邀约"===d(v).visitTag?(n(),s("div",X,u(d(v).visitTag),1)):g("",!0),"呈现促成"===d(v).visitTag?(n(),s("div",ee,u(d(v).visitTag),1)):g("",!0),"保单服务"===d(v).visitTag?(n(),s("div",te,u(d(v).visitTag),1)):g("",!0)]),d(v).isRelative?(n(),s("div",ae,[m("img",{class:"img-wx",src:d(p)("customer.weixin"),alt:""},null,8,re),ie])):g("",!0)])]),m("div",oe,[m("img",{src:d(p)("customer.phone"),alt:"",class:"ph",onClick:t[0]||(t[0]=e=>(e=>{e.stopPropagation(),h.value=!0})(e))},null,8,ne)])])])),_:1},8,["disabled"]),l(i,{show:h.value,"onUpdate:show":t[1]||(t[1]=e=>h.value=e),actions:k,"cancel-text":"取消","close-on-click-action":"",onSelect:w},null,8,["show"])])}}});const le={class:"customer-list"},ce={key:0,class:"list-pr"},me={key:1,class:"list-pr"},de=t({props:{data:{type:Array,required:!0,default:()=>[]},type:{type:String,required:!0,default:()=>"firstLetter"},disabled:{type:Boolean,required:!1,default:()=>!0}},emits:["on-delete"],setup(e,{emit:t}){const r=e,{data:i,type:m,disabled:u}=a(r),f=e=>{t("on-delete",e)};return(e,t)=>{const a=o("van-index-anchor"),r=o("van-index-bar");return n(),s("div",le,["firstLetter"===d(m)?(n(),s("div",ce,[l(r,{"highlight-color":"$primary-color"},{default:c((()=>[(n(!0),s(p,null,v(d(i),((e,t)=>{var r;return n(),s("div",{key:t},[(null==e||null===(r=e.children)||void 0===r?void 0:r.length)>0?(n(),b(a,{key:0,index:e.label},null,8,["index"])):g("",!0),(n(!0),s(p,null,v(e.children,((e,t)=>(n(),b(se,{key:t,data:e,disabled:d(u),onOnDelete:f},null,8,["data","disabled"])))),128))])})),128))])),_:1})])):(n(),s("div",me,[(n(!0),s(p,null,v(d(i),((e,t)=>(n(),b(se,{key:t,data:e,disabled:d(u),onOnDelete:f},null,8,["data","disabled"])))),128))]))])}}});const ue=e=>(h("data-v-7afbf302"),e=e(),y(),e),ge={class:"recommend"},fe={class:"title"},pe=f(" 推荐待跟进客户 "),ve={class:"dec"},be={class:"dp"},he=["src"],ye=ue((()=>m("p",null,"您近期跟进过以下客户，是否需要导入待跟进客户列表，以便更好开发？",-1))),ke=ue((()=>m("div",{class:"sub"},[m("p",null,"待跟进客户列表会推荐导入30天内有活动记录的客户，并会移除开发成功的客户或30内未联系的客户。")],-1))),we={class:"com-dp"},xe=["src"],_e={class:"name"},Te={key:0,class:"icon icon-bg1"},ze={key:1,class:"icon icon-bg2"},Ce={key:2,class:"icon icon-bg3"},je={key:3,class:"icon icon-bg6"},Le={key:4,class:"icon icon-bg5"},Oe={key:5,class:"icon icon-bg6"},Se={key:6,class:"icon icon-bg4"},qe={class:"footer"},Ie={class:"btn-za"};var Ue=U(t({props:{list:{type:Array,default:()=>[]}},emits:["on-submit","on-close"],setup(e,{emit:t}){const{getIconUrl:a}=q(),i=r([]),h=r(),y=r(!1),w=()=>{y.value=!y.value,h.value.toggleAll(y.value)},x=()=>{t("on-close"),setTimeout((()=>{i.value=[]}),1e3)},_=()=>{t("on-submit",k(i.value)),setTimeout((()=>{i.value=[]}),1e3)};return(t,r)=>{const k=o("van-icon"),T=o("van-checkbox"),z=o("van-cell"),C=o("van-checkbox-group"),j=o("van-cell-group"),L=o("van-button");return n(),s("div",ge,[m("p",fe,[pe,m("span",{onClick:x},[l(k,{name:"cross",color:"#999999"})])]),m("div",ve,[m("div",be,[m("img",{src:d(a)("customer.qa"),alt:""},null,8,he),ye]),ke]),m("div",null,[l(j,{border:!1},{default:c((()=>[l(C,{ref_key:"checkboxGroup",ref:h,modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e)},{default:c((()=>[(n(!0),s(p,null,v(e.list,((e,t)=>(n(),b(z,{key:t},{title:c((()=>[l(T,{name:e,shape:"square"},{default:c((()=>[m("div",we,[m("img",{src:e.sex?"F"===e.sex?d(a)("customer.female"):d(a)("customer.male"):d(a)("customer.defaultGender"),alt:"",class:"ch-icon"},null,8,xe),m("span",_e,u(e.customerName),1),"转介绍"===e.visitType?(n(),s("span",Te,u(e.visitType),1)):g("",!0),"接触面谈"===e.visitType?(n(),s("span",ze,u(e.visitType),1)):g("",!0),"客户获取"===e.visitType?(n(),s("span",Ce,u(e.visitType),1)):g("",!0),"需求分析"===e.visitType?(n(),s("span",je,u(e.visitType),1)):g("",!0),"电话邀约"===e.visitType?(n(),s("span",Le,u(e.visitType),1)):g("",!0),"呈现促成"===e.visitType?(n(),s("span",Oe,u(e.visitType),1)):g("",!0),"保单服务"===e.visitType?(n(),s("span",Se,u(e.visitType),1)):g("",!0)])])),_:2},1032,["name"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})]),m("div",qe,[m("div",Ie,[m("div",{class:"all",onClick:w},[l(T,{name:"C",shape:"square",checked:y.value},{default:c((()=>[f(u(y.value?"取消":"全选"),1)])),_:1},8,["checked"])]),l(L,{class:"btn-a",type:"primary",block:!0,onClick:_},{default:c((()=>[f(" 确定·已选"+u(i.value.length)+"人",1)])),_:1})])])])}}}),[["__scopeId","data-v-7afbf302"]]);const Ne={class:"com-search-filter"},Be={class:"action-bar"},$e=f("重置"),Ae=f("确定"),De=t({props:{list:{type:Array,required:!0,default:()=>[]},data:{type:Object,default:()=>{}}},emits:["on-submit","on-reset"],setup(e,{expose:t,emit:i}){const m=e,{list:u}=a(m),f=r(m.data||{}),h=(e,t)=>{f.value[t.value]=e},y=()=>{i("on-submit",f.value)},k=()=>{f.value={},i("on-reset",f.value)};return t({handleReset:k}),(e,t)=>{const a=o("van-button"),r=w("resize");return n(),s("div",Ne,[(n(!0),s(p,null,v(d(u),((e,t)=>(n(),s("div",{key:t,class:"insure-list"},["multi"===e.type?(n(),b(N,{key:0,data:e,value:f.value[e.value],onOnChange:t=>h(t,e)},null,8,["data","value","onOnChange"])):"single"===e.type?(n(),b(B,{key:1,data:e,value:f.value[e.value],onOnChange:t=>h(t,e)},null,8,["data","value","onOnChange"])):g("",!0)])))),128)),x((n(),s("div",Be,[l(a,{plain:"",type:"primary",class:"btn btn-com",onClick:k},{default:c((()=>[$e])),_:1}),l(a,{type:"primary",class:"btn1 btn-com",onClick:y},{default:c((()=>[Ae])),_:1})])),[[r]])])}}});const Fe=e=>(h("data-v-27e3c791"),e=e(),y(),e),Ve={class:"br"},Ee={class:"br-left"},Me=["src"],Re=Fe((()=>m("span",{class:"custom-title"},"生日管理",-1))),Ge={class:"br-right"},Pe=f(" 有"),He=f("个客户近期生日"),Qe=["src"],We={class:"body"},Ye={class:"search-content"},Ze=Fe((()=>m("span",null,"筛选",-1))),Je=["src"],Ke={class:"search-bar"},Xe=f("添加"),et={key:1},tt={class:"star"},at=["src"],rt=f(" 客户推荐"),it={key:2,class:"empth"},ot=["src"],nt=Fe((()=>m("p",{class:"p1"},"暂无待跟进客户",-1))),st=Fe((()=>m("p",{class:"p2"},"推荐导入近30天有活动记录的客户，去查看~",-1))),lt=f("客户推荐"),ct={key:1},mt={key:2,class:"empth"},dt=["src"],ut=Fe((()=>m("p",{class:"p1"},"暂无准客户",-1))),gt={key:0,class:"p2"},ft=f("客户推荐"),pt={key:1},vt={key:2,class:"empth"},bt=["src"],ht=Fe((()=>m("p",{class:"p1"},"暂无承保客户",-1)));e("default",U(t({setup(e){const{getIconUrl:t}=q(),f=r(!1),p=r(!1),v=r(),h=r(),y=i();_();const w=r([]),x=new URL(decodeURIComponent(window.location.href)).hash,S=T({list:[],count:0,keyword:void 0,active:"#3"===x?"03":"#2"===x?"02":"01",brithCount:0,order:"firstLetter",role:""}),{list:U,count:N,keyword:B,active:G,brithCount:P,order:H,role:Q}=a(S),W=new I({source:"localStorage"}).get("userInfo")||{},Y=r("O"===W.userType),Z=r(!1),J=async e=>{Z.value=!0;const t=await A({pageNum:"1",pageSize:"999",queryBean:{orderBy:"firstLetter",customerListType:"01",...e}}),{data:a}=t.data;if("firstLetter"===H.value){const e=[];Object.keys((null==a?void 0:a.customerMaps)||{}).forEach((t=>{e.push({label:t,children:a.customerMaps[t]})})),U.value=e}else U.value=a.customerLists;Z.value=!1,N.value=(null==a?void 0:a.count)||0};z((()=>{const e="#3"===x?"03":"#2"===x?"02":"01";(async()=>{const e=await D({pageNum:"1",pageSize:"999",queryBean:{birth:30}}),{data:t}=e.data;P.value=t.count})(),J({customerListType:e}),(async()=>{const{data:e}=await F();Q.value=e.data.userRole})()}));const K=e=>{j.confirm({title:"提示",message:"确认删除"}).then((async()=>{await V({agentCustomerId:e.agentCustomerId,markStatus:"N",customerType:"02"}),J({customerListType:"01"})})).catch((()=>{}))},X=e=>{G.value=e.name,B.value=void 0,H.value="firstLetter",window.location.replace(`${window.location.href.toString().replace(window.location.hash,"")}#${Number(e.name)}`),J({customerListType:e.name})},ee=()=>{J({customerListType:G.value,keyword:B.value})},te=()=>{y.push("./brithdayList")},ae=e=>{p.value=e},re=e=>{e?M({}).then((e=>{var t;w.value=(null===(t=e.data)||void 0===t?void 0:t.data)||[],f.value=!0})):f.value=!1},ie=()=>{y.push("./editCustomer")},oe=e=>{h.value=e,p.value=!1;const{orderBy:t}=k(e);t&&(H.value=t);const a=k(e),r={};Object.keys(a).forEach((e=>{Array.isArray(a[e])?r[e]=a[e].join(","):r[e]=a[e]})),J({customerListType:G.value,keyword:B.value,...r})},ne=(e=[])=>{var t;(null==e?void 0:e.length)>0&&E({customerDetails:(null==e||null===(t=e.map)||void 0===t?void 0:t.call(e,(e=>({...e,markStatus:"Y"}))))||[]}).then((e=>{var t;200===(null===(t=e.data)||void 0===t?void 0:t.status)&&L("导入成功")}));re(!1)};return(e,a)=>{const r=o("van-search"),i=o("van-button"),h=o("van-tab"),y=o("van-tabs"),k=o("van-popup"),x=o("ZaPageWrap");return n(),b(x,{"main-class":"page-customer"},{default:c((()=>[m("div",null,[m("div",Ve,[m("div",Ee,[m("img",{src:d("/static/assets/brith.34fc8669.png"),alt:""},null,8,Me),Re]),m("div",Ge,[m("span",{class:"brith-in",onClick:te},[Pe,m("span",null,u(d(P)||0),1),He]),m("img",{src:d(R),alt:""},null,8,Qe)])]),m("div",We,[m("div",Ye,[m("div",{class:"filter",onClick:a[0]||(a[0]=e=>ae(!0))},[Ze,m("img",{src:d(t)("customer.down"),alt:"",class:"filter-img"},null,8,Je)]),m("div",Ke,[l(r,{modelValue:d(B),"onUpdate:modelValue":a[1]||(a[1]=e=>C(B)?B.value=e:null),shape:"round",placeholder:"姓名或手机号查询",onSearch:ee},null,8,["modelValue"])]),Y.value?(n(),b(i,{key:0,type:"primary",class:"btn",onClick:ie},{default:c((()=>[Xe])),_:1})):g("",!0)]),m("div",null,[l(y,{"title-active-color":"$primary-color",sticky:"",active:d(G),onClickTab:X},{default:c((()=>[l(h,{title:"待跟进客户",name:"01"},{default:c((()=>[Z.value?(n(),b(O,{key:0})):d(N)?(n(),s("div",et,[m("div",{class:"header-count",onClick:a[2]||(a[2]=e=>re(!0))},[m("span",null,"共"+u(d(N))+"人",1),m("span",tt,[m("img",{src:d(t)("customer.import"),alt:"",class:"icon"},null,8,at),rt])]),l(de,{data:d(U),type:d(H),disabled:!1,onOnDelete:K},null,8,["data","type"])])):(n(),s("div",it,[m("p",null,[m("img",{src:d(t)("customer.empth"),alt:"",class:"ig"},null,8,ot)]),nt,st,m("p",null,[l(i,{type:"primary",class:"bt",onClick:a[3]||(a[3]=e=>re(!0))},{default:c((()=>[lt])),_:1})])]))])),_:1}),l(h,{title:"准客户",name:"02"},{default:c((()=>[Z.value?(n(),b(O,{key:0})):d(N)?(n(),s("div",ct,[l(de,{data:d(U),type:d(H)},null,8,["data","type"])])):(n(),s("div",mt,[m("p",null,[m("img",{src:d(t)("customer.empty2"),alt:"",class:"ig"},null,8,dt)]),ut,Y.value?(n(),s("p",gt,"您还没有客户，先手动添加一个吧~")):g("",!0),m("p",null,[Y.value?(n(),b(i,{key:0,type:"primary",class:"bt",onClick:ie},{default:c((()=>[ft])),_:1})):g("",!0)])]))])),_:1}),l(h,{title:"承保客户",name:"03"},{default:c((()=>[Z.value?(n(),b(O,{key:0})):d(N)?(n(),s("div",pt,[l(de,{data:d(U),type:d(H)},null,8,["data","type"])])):(n(),s("div",vt,[m("p",null,[m("img",{src:d(t)("customer.empth"),alt:"",class:"ig"},null,8,bt)]),ht]))])),_:1})])),_:1},8,["active"])])]),l(k,{show:f.value,position:"bottom",style:{height:"90%"},onClose:a[5]||(a[5]=e=>re(!1))},{default:c((()=>[l(Ue,{list:w.value,onOnSubmit:ne,onOnClose:a[4]||(a[4]=e=>ne(!1))},null,8,["list"])])),_:1},8,["show"]),l(k,{show:p.value,position:"right",onClickOverlay:a[6]||(a[6]=e=>ae(!1))},{default:c((()=>[l(De,{ref_key:"refFilter",ref:v,list:d($),onOnSubmit:oe},null,8,["list"])])),_:1},8,["show"])])])),_:1})}}}),[["__scopeId","data-v-27e3c791"]]))}}}))}();
