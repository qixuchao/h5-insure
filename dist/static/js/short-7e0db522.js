import{h as J,N as ye,k as B,m as a,s as o,t as I,p as $,B as s,L as E,C as t,F as q,H as W,M as ne,I as De,J as ct,d as Ue,r as C,$ as K,A as S,R as Pe,ag as qe,x as U,n as H,G as le,a5 as _e,a6 as he,Z as Ze,_ as dt,U as mt,T as pt,aa as gt,P as ft,l as vt,j as yt,D as _t}from"./vendor-dfbc3b9e.js";import{P as ve}from"./index-5d169edf.js";import{_ as ee,e as He,i as pe,a7 as ht,C as Ce,I as Ye,K as It,a1 as Ct}from"./index-54f8560b.js";import{C as Ie,k as se,l as oe,m as Dt,S as Ee,R as xe,g as Pt}from"./infoCollection-06db3c02.js";import{i as Tt,n as Be,p as kt,g as Nt}from"./trial-172d315f.js";import{p as wt}from"./product-f3c4f8c0.js";import{o as Te,r as At,t as Ot}from"./utils-a3ffb63c.js";import{u as Qe,t as ke}from"./theme-fdbb0f53.js";import{B as $e}from"./index-87e52ba2.js";import{P as St}from"./index-7e8e6890.js";import{L as Ft}from"./loading-1c9c1d7b.js";import{u as Vt}from"./useDicData-ed55d41b.js";import{_ as bt}from"./index-dfc8e4f2.js";import"./useStorage-68f6b0c3.js";import"./trial-835d6447.js";import"./check-detail-c292a89b.js";import"./relativeTime-1474ed2d.js";var Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAuRJREFUeF7t3DtOI0EQBuDfEtImXAdyNoIEAffYkIALrFZaMu4BiAQiyOE6myARoJI8kteyx/3469FWTTxT3fVNdY/dY/cCeVAFFtRoGQwJSi6CBE1QsgA5XFZogpIFyOGyQhOULEAOlxWaoGQBcris0CCglwB+ATgEcA/gFsAXuW/W4Q4AXAOQ3P4BuAPwUNuJlgqVBgVx9XheduSztgNBzv+xxDtb689VLWoL6CuAkw0Qo6Juw5QU3wD8rLnpLaDvAI62NDIa6hympPgB4Fgb9AbA75lGRkHdhSkpSq5/tEFl8n4CsD7fjDSnlmBKYZzXPmxbhrzAlXZIHmDRHlSqfW8FHRVVFVNQekBHQ1XHZICOgmqCyQKNjmqGyQSNimqKyQaNhmqOqQEaBdUFUwvUG9UNUxPUC9UVUxvUGtUd0wLUCjUEphWoNmoYTEtQLdRQmNagbNRwmB6gLNSQmF6gvahhMT1BW1FDY3qD1qLK+fKePPSrl94FZkmy9yipupdlI6czjYV4ORgBtLRS525cCMwIQ34VqaRSN6GGwYwG2lKpoTAjgk6ojwDm5ks5T+bVi2ivqaPMoetDP0F7H/XL62vn0RzyM/C1mFOoUKhRhnwrZjjUCKAlmPnBvnBOLcGchnR+9dyBWoM5/YKv5ZrCe8s5zWvI98D0XMtRm4niAcoAYcRQwbUGZUIwY9FwLUE1ADRiduFagWomrhm7GtcC1CJhizaKcLVBLRO1bGsrriaoR4Iebf6HqwXqmZhn293/AtlU+q4JVSwDqqxSsSs0AuZ0k136wgR1SUBhvaDoab7tJBZoREyXSmWARsY0R+0FHQHTFLUHdCRMM9RW0BExTVBbQHMDAvICc26RQQbNTVzIoLnNEBk0N8Iig0q41a3a5Gfaf2t3j+n6fqdzsdtWbTrp7EnUlo9Ne5K6ThoJSnZN0AQlC5DDZYUmKFmAHC4rNEHJAuRwWaEJShYgh8sKJYN+A6+yQmSPqqjtAAAAAElFTkSuQmCC",Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAn9JREFUSEvtlktIVFEcxn/XXpM6Mz5zVBzR8oFUVARRUljhItKNhZC0qVYhZjMMFIG0aFUUtijKB0GEBL02WmZqRjlbFyWSYQ+EynKyh5baNHPi3hsNtzuj89Bp44G7Oec732/u//y/c0cSQgj+w5AWwNGqevRK/eMLXD0AAx2wu47ogD8OwcVyGHmuFnSJIQrgwR5o2Avfx3ynuL5insFPmuB6NXjcPmjhDqhunSew1wO3HNB9Xtur+SVQ0wZL4+YBPPkVmvdBf7sWmrcVau7Bsnhlfm6ba/SV2kTvB7TQlcVwpB0Mxr/zkvj8VigtvqYMjKnhx/jFY2jYAxMurUfuZqi9DwaTZl4SdQWCD4NgssChFpAPP9ThvAIth8HzU7szZxPUdsBys85REsetgrFhdUGKUcKtPDGLZsfLTXTnGHSe02uzN8LRTohN8OsjiSGnoH4nuKd8goLt6tub0wPDp8ahuQqetek11g1g64LYxID71ebquw2NlSC8PqExDQ5eg6JS/WbXG7WJ3vXr17LWga0b4pJmrJivq+XM3bBpxXLpd52A8pMQs1hdG+qFyxUwPqo3zlwL9m6IT5n1mLRxummDrn9CL1vkbYP9jSpUvol+TeuNM1aD/WHQydCCvV5oqkQpfSgjvUiFmtKC3qW/QNyTUF8KL53BmVgKwd4DZktw+j8q/zfXxCc4U4yS75nGinxwyNCMkKBKcgP+53K9htNb4NuIf9PUVeB4BAmZIUNnBsurw31wtgSmx7XmKbkqNDErLOjsYFkx8AAulPm+qck5KjTJGjY0OLCsetoKd0+p+ay6BMnZEUGDB0eM0RvM7fc4hB+4AA6hWJFJfwMaXAhFHVsobQAAAABJRU5ErkJggg==";const xt={class:"customer-body"},Bt={class:"header"},$t={class:"conatiner"},Rt=["onClick"],Mt={class:"name"},Ut=J({props:{userInfo:{type:Object,default:()=>({})},relationCode:{type:String,default:"1"},title:{type:String,default:"\u9009\u62E9\u6295\u4FDD\u4EBA"}},emits:["change"],setup(u,{emit:D}){let n=[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"\u738B\u5927\u5566",certNo:"110101199003078910",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"001",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"string",certNo:"string",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"string",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[null],relationCode:"string",routeList:[0],salary:"string",type:"string",workPlace:"string"}],relationCode:"string",salary:"string",type:"string",workPlace:"string"},{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"\u674E\u5927\u9704",certNo:"110101199003070193",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"002",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.054Z",gmtModified:"2022-12-01T09:24:04.054Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[{addr:[{address:"string",area:"string",areaName:"string",city:"string",cityName:"string",province:"string",provinceName:"string"}],att:[{fileType:"string",fileUrl:"string"}],birthday:"string",cert:[{certId:"string",certName:"string",certNo:"string",certStart:"string",certType:"string",certValidity:"string",createTime:"string",customerType:"string"}],companyContact:[{area:"string",certExpiryDate:"string",certNo:"string",certType:"string",city:"string",companyContactId:"string",contactEmail:"string",contactType:"string",detail:"string",mobile:"string",name:"string",officePhone:"string",province:"string",tenantId:"string"}],companyExtInfoDTO:{enterpriseJobCategoryDesc:"string",enterpriseOfficeAddress:"string",enterpriseStaffAvgAge:0,enterpriseStaffNum:0},companyType:"string",contact:[{contactId:"string",contactNo:"string",contactRemark:"string",contactTool:"string",contactType:"string",createTime:"string",customerId:"string",isDefault:"string",tenantId:0}],country:"string",customerAttrDTO:{addNumberProgress:"string",addNumberSource:"string",creator:"string",customerAttrType:"string",customerId:0,customerType:"string",degree:"string",ext1:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",height:0,id:0,isDeleted:"string",marriage:"string",modifier:"string",occupation:"string",remark:"string",salary:"string",saleSource:"string",tenantId:0,visitProgress:"string",weight:0},customerId:"string",customerMaterialDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDefault:"string",isDeleted:"string",materialName:"string",materialType:"string",materialUrl:"string",modifier:"string",parentId:0,tenantId:0}],customerName:"string",customerNo:"string",customerTagDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],customerTagRandomDTO:[{creator:"string",customerId:0,customerType:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",id:0,isDeleted:"string",modifier:"string",tagId:0,tagName:"string",tagType:"string",tenantId:0}],degree:"string",gender:"string",hasSocialInsurance:"string",healthCondition:"string",marriage:"string",memo:"string",occupation:"string",occupationDesc:"string",occupationDuty:"string",occupationType:"string",payInfo:[{accountName:"string",bankBranch:"string",gmtCreated:"2022-12-01T09:24:04.055Z",gmtModified:"2022-12-01T09:24:04.055Z",isDefault:"string",payAccount:"string",payBank:"string",paymentMethod:0}],relation:[null],relationCode:"string",routeList:[0],salary:"string",type:"string",workPlace:"string"}],relationCode:"string",salary:"string",type:"string",workPlace:"string"}];n=[...n,...n,...n];const r=ye({loading:!1,select:n[0],list:n}),g=async()=>{r.loading=!0},p=()=>{r.loading=!1,D("change",r.select)},d=()=>{r.loading=!1,g()};return(l,F)=>{const P=B("ProSvg"),c=B("van-icon"),h=B("ProPopup");return a(),o(q,null,[I(P,{name:"customer",onClick:d}),I(h,{class:"customer-list",style:{height:"416px"},show:t(r).loading,closeable:!1},{default:$(()=>[s("div",xt,[s("div",Bt,[s("span",null,E(u.title),1),I(c,{name:t(Lt),onClick:F[0]||(F[0]=T=>t(r).loading=!1)},null,8,["name"])]),s("div",$t,[(a(!0),o(q,null,W(t(r).list,T=>(a(),o("div",{key:T.customerId,class:ne({item:!0,active:t(r).select.customerId===T.customerId}),onClick:x=>t(r).select=T},[s("span",Mt,E(T.cert[0].certName),1),s("span",null,E(T.cert[0].certNo),1),De(I(c,{class:"check-icon",name:t(Et)},null,8,["name"]),[[ct,t(r).select.customerId===T.customerId]])],10,Rt))),128))]),I(ve,{shadow:!1,text:"\u786E\u5B9A",onClick:p})])]),_:1},8,["show"])],64)}}});var Re=ee(Ut,[["__scopeId","data-v-71e988c8"]]);const fe=(u,D="YYYY-MM-DD")=>Ue(u).format(D),ie=(u,D=0,n="day",r="YYYY-MM-DD")=>Ue(u).add(D,n).format(r);const qt=u=>(_e("data-v-9a094e48"),u=u(),he(),u),Zt={class:"guarantee-list"},Ht=qt(()=>s("span",null,"\u4FDD\u969C\u8BA1\u5212",-1)),Yt={key:0,class:"picture-payment-content"},Qt=["onClick"],jt=["src"],Gt=["src"],Kt={key:1,class:"plan-list"},Wt=["onClick"],Jt={key:2,class:"feerate-view"},Xt={class:"guarantee-detail"},zt={key:0,class:"plan-list"},en=["onClick"],tn={key:1},nn={class:"extinfo-info-list"},an={class:"content"},rn=J({props:{dataSource:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:5},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(u,{emit:D}){var _;const n=u,r=C((_=n.dataSource)==null?void 0:_.planList),g=C(n.activePlanCode);K([()=>n.dataSource,()=>n.activePlanCode],()=>{var e;n.isMultiplePlan&&(r.value=(e=n.dataSource)==null?void 0:e.planList)},{immediate:!0});const p=C([]),d=C([]),l=C(),F=S(()=>n.isMultiplePlan?n.dataSource.planList.map(e=>e.planPicList?{...e.planPicList,planCode:e.planCode,planName:e.planName}:null).filter(e=>!!e):[]);K([()=>n.dataSource,()=>n.activePlanCode],()=>{var e,i,f,V;if(g.value=n.activePlanCode,!n.isMultiplePlan)p.value=(e=n.dataSource)==null?void 0:e.planInsureVO.guaranteeItemVOS,d.value=(i=n.dataSource)==null?void 0:i.planInsureVO.extInfoVOList,l.value=(f=n.dataSource)==null?void 0:f.planInsureVO.productPremiumVOList[0];else if(r.value&&r.value.length>0){let Q=0;const X=r.value.findIndex(b=>b.planCode===g.value);X>-1&&(Q=X),p.value=r.value[Q].guaranteeItemVOS,d.value=r.value[Q].extInfoVOList,l.value=(V=r.value[Q])==null?void 0:V.productPremiumVOList[0]}},{immediate:!0,deep:!0});const P=S(()=>{var e;return((e=n.dataSource)==null?void 0:e.rateUri)||""}),c=S(()=>!!(l.value&&l.value.paymentFrequencyValue&&l.value.premiumUnit&&!!P)),[h,T]=Pe(!1),x=S(()=>{var e;return!p.value||!((e=p.value)!=null&&e.length)?!1:p.value.length>n.count?n.isShowClose?!0:!h.value:!1}),Y=()=>{T()},j=S(()=>{var e;return!p.value||!((e=p.value)!=null&&e.length)?[]:p.value.length<=n.count||h.value?p.value:p.value.slice(0,n.count)}),v=e=>{g.value=e,D("update-active-plan",e)},N=C(!1),R=()=>{N.value=!0},y=()=>{Te({fileType:"pdf",feeFileUri:P.value})};return(e,i)=>{var X,b;const f=B("ProCell"),V=B("ProPopup"),Q=qe("dompurify-html");return a(),o(q,null,[s("div",Zt,[s("div",{class:"header"},[Ht,s("span",{onClick:R},"\u67E5\u770B\u8BE6\u60C5")]),u.isMultiplePlan?(a(),o(q,{key:0},[t(F).length>0?(a(),o("div",Yt,[(a(!0),o(q,null,W(t(F),A=>(a(),o("div",{key:A.planCode,class:ne("picture-payment-item"),onClick:z=>v(A.planCode)},[g.value==A.planCode?(a(),o("img",{key:0,src:A.selectedPic},null,8,jt)):(a(),o("img",{key:1,src:A.unSelectedPic},null,8,Gt))],8,Qt))),128))])):(a(),o("div",Kt,[(a(!0),o(q,null,W(r.value,(A,z)=>(a(),o("div",{key:`${A.planCode}_${z}`,class:ne(`plan-list-item ${A.planCode===g.value?"plan-list-item-active":""}`),onClick:ge=>v(A.planCode)},[s("span",null,E(A.planName),1)],10,Wt))),128))]))],64)):U("",!0),(a(!0),o(q,null,W(t(j),(A,z)=>(a(),H(f,{key:z,class:"guarantee-item",title:A.title,content:A.desc,border:!1},null,8,["title","content"]))),128)),t(x)?(a(),o("div",{key:1,class:"show-more",onClick:Y},[le(E(t(h)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),I(He,{name:"down",class:ne(["icon",{showMore:t(h)}])},null,8,["class"])])):U("",!0),t(c)?(a(),o("div",Jt,[s("span",null,E(`${((X=l.value)==null?void 0:X.paymentFrequencyValue)||""}${((b=l.value)==null?void 0:b.premiumUnit)||""}`),1),t(P)?(a(),o("span",{key:0,onClick:y},"\u67E5\u770B\u4FDD\u8D39")):U("",!0)])):U("",!0)]),I(pe),I(V,{show:N.value,"onUpdate:show":i[0]||(i[0]=A=>N.value=A),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:$(()=>[s("div",Xt,[u.isMultiplePlan?(a(),o("div",zt,[(a(!0),o(q,null,W(r.value,(A,z)=>(a(),o("div",{key:`${A.planCode}_${z}`,class:ne(`plan-list-item ${A.planCode===g.value?"plan-list-item-active":""}`),onClick:ge=>v(A.planCode)},[s("span",null,E(A.planName),1)],10,en))),128))])):U("",!0),d.value&&d.value.length>0?(a(),o("div",tn,[s("div",nn,[(a(!0),o(q,null,W(d.value,(A,z)=>(a(),H(f,{key:z,title:A.name,content:A.description,border:!1,size:"small"},null,8,["title","content"]))),128))]),I(pe)])):U("",!0),(a(!0),o(q,null,W(p.value,(A,z)=>(a(),o("div",{key:z,class:"guarantee-item"},[I(f,{title:A.title,content:A.desc,border:!1,size:"small"},null,8,["title","content"]),De(s("div",an,null,512),[[Q,A.content]])]))),128))])]),_:1},8,["show"])],64)}}});var sn=ee(rn,[["__scopeId","data-v-9a094e48"]]);const on={class:"com-custom-card"},ln={class:"title"},un=J({props:{title:{type:String,required:!0}},setup(u){return(D,n)=>(a(),o("div",on,[s("div",ln,E(u.title),1),s("div",null,[Ze(D.$slots,"default",{},void 0,!0)])]))}});var Me=ee(un,[["__scopeId","data-v-059c21ee"]]);const cn={class:"question"},dn={class:"title"},mn=J({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup(u){return(D,n)=>{const r=B("ProSvg"),g=B("van-collapse-item");return a(),H(g,{name:u.name,class:"com-question-item"},{title:$(()=>[s("div",cn,[I(r,{name:"question"}),s("div",dn,E(u.question),1)])]),default:$(()=>[le(" "+E(u.answer),1)]),_:1},8,["name"])}}});var pn=ee(mn,[["__scopeId","data-v-0d7ea124"]]);const gn={class:"com-question"},fn=J({props:{list:{type:Array,default:()=>[]}},setup(u){const D=u,[n,r]=Pe(!1),g=C([]),p=()=>{r()},d=S(()=>D.list.length<=4||n.value?D.list:D.list.slice(0,4));return(l,F)=>{const P=B("van-collapse");return a(),o("div",gn,[I(P,{modelValue:g.value,"onUpdate:modelValue":F[0]||(F[0]=c=>g.value=c)},{default:$(()=>[(a(!0),o(q,null,W(t(d),(c,h)=>(a(),H(pn,{key:h,name:h.toString(),question:c.title,answer:c.desc},null,8,["name","question","answer"]))),128))]),_:1},8,["modelValue"]),u.list.length>4?(a(),o("div",{key:0,class:"show-more",onClick:p},[le(E(t(n)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),I(He,{name:"down",class:ne(["icon",{showMore:t(n)}])},null,8,["class"])])):U("",!0)])}}});var vn=ee(fn,[["__scopeId","data-v-1b7e97e9"]]);const yn={class:"spec"},_n=["src"],hn={key:1,class:"spec"},In=["src"],Cn=J({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(u,{expose:D}){const n=u,r=C(),g=C([{title:"\u4EA7\u54C1\u4EAE\u70B9",slotName:"tab1"},{title:"\u7406\u8D54\u8BF4\u660E",slotName:"tab2"},{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab3"}]),p=S(()=>{var c,h,T,x;return((h=(c=n.detail)==null?void 0:c.tenantProductInsureVO)==null?void 0:h.spec)&&((x=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:x.spec.length)>0}),d=S(()=>{var h,T,x,Y,j,v,N,R,y,_,e,i,f,V;const c=(T=(h=n.detail)==null?void 0:h.tenantProductInsureVO)==null?void 0:T.settlementProcessVO.settlementProcessType;return!!(c===Ie.WORD&&((j=(Y=(x=n.detail)==null?void 0:x.tenantProductInsureVO)==null?void 0:Y.settlementProcessVO)==null?void 0:j.settlementProcessList)&&((R=(N=(v=n.detail)==null?void 0:v.tenantProductInsureVO)==null?void 0:N.settlementProcessVO)==null?void 0:R.settlementProcessList.length)>0||c===Ie.IMAGE&&((e=(_=(y=n.detail)==null?void 0:y.tenantProductInsureVO)==null?void 0:_.settlementProcessVO)==null?void 0:e.settlementProcessPicList)&&((V=(f=(i=n.detail)==null?void 0:i.tenantProductInsureVO)==null?void 0:f.settlementProcessVO)==null?void 0:V.settlementProcessPicList.length)>0)}),l=S(()=>{var c,h,T,x;return((h=(c=n.detail)==null?void 0:c.tenantProductInsureVO)==null?void 0:h.questionList)&&((x=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:x.questionList.length)>0}),F=S(()=>{let c=[...g.value];return p.value||(c=c.filter(h=>h.slotName!=="tab1")),!d.value&&!l.value&&(c=c.filter(h=>h.slotName!=="tab2")),c});return D({handleClickTab:()=>{var c;return(c=r.value)==null?void 0:c.handleClickTab}}),(c,h)=>(a(),H(ht,{ref_key:"scrollRef",ref:r,class:"tabs",list:t(F),sticky:"",scrollspy:""},dt({tab3:$(()=>[Ze(c.$slots,"form",{},void 0,!0)]),_:2},[t(p)?{name:"tab1",fn:$(()=>{var T,x;return[s("div",yn,[(a(!0),o(q,null,W(((x=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:x.spec)||[],(Y,j)=>(a(),o("img",{key:j,src:Y,class:"detail-img"},null,8,_n))),128)),I(pe)])]})}:void 0,t(d)||t(l)?{name:"tab2",fn:$(()=>{var T,x,Y,j,v;return[t(d)?(a(),o(q,{key:0},[((x=(T=n.detail)==null?void 0:T.tenantProductInsureVO)==null?void 0:x.settlementProcessVO.settlementProcessType)===t(Ie).WORD?(a(),H(Me,{key:0,title:"\u7406\u8D54\u6D41\u7A0B"},{default:$(()=>{var N,R,y;return[I(St,{list:(y=(R=(N=n.detail)==null?void 0:N.tenantProductInsureVO)==null?void 0:R.settlementProcessVO)==null?void 0:y.settlementProcessList},null,8,["list"])]}),_:1})):(a(),o("div",hn,[(a(!0),o(q,null,W(((v=(j=(Y=n.detail)==null?void 0:Y.tenantProductInsureVO)==null?void 0:j.settlementProcessVO)==null?void 0:v.settlementProcessPicList)||[],(N,R)=>(a(),o("img",{key:R,src:N,class:"detail-img"},null,8,In))),128))])),I(pe)],64)):U("",!0),t(l)?(a(),o(q,{key:1},[I(Me,{title:"\u5E38\u89C1\u95EE\u9898"},{default:$(()=>{var N,R;return[I(vn,{list:(R=(N=n.detail)==null?void 0:N.tenantProductInsureVO)==null?void 0:R.questionList},null,8,["list"])]}),_:1}),I(pe)],64)):U("",!0)]})}:void 0]),1032,["list"]))}});var Dn=ee(Cn,[["__scopeId","data-v-4383aeea"]]);const Pn=u=>(_e("data-v-ead4d7ae"),u=u(),he(),u),Tn={key:0,class:"page-waiting"},kn=["src"],Nn=Pn(()=>s("div",{class:"tips"},[s("p",null,"\u652F\u4ED8\u6210\u529F\uFF0C\u627F\u4FDD\u4E2D...")],-1)),wn=J({props:{isShow:{type:Boolean,default:()=>{}}},setup(u){const D=u;return K(()=>D.isShow,n=>{n?document.body.style.overflow="hidden":document.body.style.overflow="inherit"}),(n,r)=>D.isShow?(a(),o("div",Tn,[s("img",{class:"loading",src:t(Ft)},null,8,kn),Nn])):U("",!0)}});var An=ee(wn,[["__scopeId","data-v-ead4d7ae"]]);const On={key:0,class:"item"},Sn={key:1,class:"attachment-list"},Fn=["onClick"],Vn={class:"attachment-list-item-name"},bn={class:"attachment-list-item-icon"},Ln={class:"footer"},En=J({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"\u540C\u610F\uFF0C\u4E0B\u4E00\u6761"},forceReadCound:{type:Number,default:0},isOnlyView:{type:Boolean,default:!1}},emits:["update:show","submit","onCloseFilePreview"],setup(u,{emit:D}){const n=u,r=Qe(),g=C(n.show),p=C(n.contentList.map((v,N)=>({...v,disabled:!0,readDisabled:!0}))),d=C(n.activeIndex),l=C(0),F=C(null),P=S(()=>{var v,N;return(N=(v=p.value)==null?void 0:v[d.value])==null?void 0:N.attachmentList}),c=S(()=>{var v;return(v=p.value[d.value])==null?void 0:v.readDisabled}),h=S(()=>d.value>=n.forceReadCound-1||l.value>=n.forceReadCound?!1:l.value<n.forceReadCound?d.value!==n.forceReadCound-1:!1),T=v=>{const N={fileType:v.attachmentType,fileUri:v.attachmentUri};Te(N)},x=()=>{d.value+=1},Y=()=>{if(n.isOnlyView){D("update:show",!1);return}D("update:show",!1),D("submit")};K(()=>n,()=>{g.value=n.show,d.value=n.activeIndex},{deep:!0,immediate:!0});const j=v=>{v&&Math.floor(v.target.scrollHeight-v.target.scrollTop)===v.target.clientHeight&&p.value[d.value].readDisabled&&(p.value[d.value].disabled=!1,p.value[d.value].readDisabled=!1,p.value[d.value+1].disabled=!1,l.value+=1)};return K(()=>d.value,()=>{n.show&&(l.value>=n.forceReadCound&&p.value.forEach(v=>{v.disabled=!1,v.readDisabled=!1}),F.value&&(F.value.scrollTop=0))},{immediate:!0}),(v,N)=>{const R=B("ProTab"),y=B("ProFilePreview"),_=B("ProSvg"),e=B("van-config-provider"),i=B("ProPopup");return a(),H(i,{show:g.value,"onUpdate:show":N[1]||(N[1]=f=>g.value=f),class:"file-preview-popup-wrap",closeable:!1,onClose:N[2]||(N[2]=f=>D("onCloseFilePreview"))},{default:$(()=>[I(e,{"theme-vars":t(r),class:"custom-provider"},{default:$(()=>[g.value?(a(),H(R,{key:0,active:d.value,"onUpdate:active":N[0]||(N[0]=f=>d.value=f),list:p.value.map((f,V)=>({title:f.attachmentName,disabled:V==d.value?!1:f.disabled||!1,slotName:`guarantee-${V}`})),class:"tab"},null,8,["active","list"])):U("",!0),s("div",{ref_key:"previewRef",ref:F,class:"list",onScroll:j},[t(P).length===1?(a(),o("div",On,[(a(),H(y,{key:t(P)[0].attachmentName,content:t(P)[0].attachmentUri,type:t(P)[0].attachmentType,"forbid-click":!0},null,8,["content","type"]))])):(a(),o("div",Sn,[(a(!0),o(q,null,W(t(P),(f,V)=>(a(),o("div",{key:V,class:"attachment-list-item",onClick:Q=>T(f)},[s("div",Vn,E(f.attachmentName),1),s("div",bn,[I(_,{name:"arrow-right"})])],8,Fn))),128))]))],544),s("div",Ln,[t(h)?(a(),H(ve,{key:0,shadow:!1,"theme-vars":t(r),disabled:t(c),class:"right",text:`${u.beforeReadOverText}(${d.value+1}/${u.forceReadCound})`,onClick:x},null,8,["theme-vars","disabled","text"])):(a(),H(ve,{key:1,disabled:t(c),shadow:!1,"theme-vars":t(r),text:n.text,onClick:Y},null,8,["disabled","theme-vars","text"]))])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const xn={class:"list"},Bn={class:"item"},$n={class:"footer"},Rn=le("\u90E8\u5206\u4E3A\u662F"),Mn=le("\u5168\u90E8\u4E3A\u5426"),Un=J({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(u,{emit:D}){const n=u,r=C(n.show),g=C(n.activeIndex),p=S(()=>{var P;return(P=n.contentList[g.value])==null?void 0:P.attachmentUri}),d=C(!0),l=P=>{d.value=!1,D("update:show",!1),D("onConfirmHealth",P)},F=()=>{d.value&&D("onCloseHealth")};return K(()=>n,()=>{r.value=n.show,g.value=n.activeIndex},{deep:!0,immediate:!0}),(P,c)=>{const h=B("ProTab"),T=B("ProFilePreview"),x=B("VanButton"),Y=B("van-config-provider"),j=B("ProPopup");return a(),H(j,{show:r.value,"onUpdate:show":c[3]||(c[3]=v=>r.value=v),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:c[4]||(c[4]=v=>F())},{default:$(()=>[I(Y,{"theme-vars":t(ke),class:"custom-provider"},{default:$(()=>[r.value?(a(),H(h,{key:0,active:g.value,"onUpdate:active":c[0]||(c[0]=v=>g.value=v),list:u.contentList.map((v,N)=>({title:v.attachmentName,slotName:`guarantee-${N}`})),class:"tab"},null,8,["active","list"])):U("",!0),s("div",xn,[s("div",Bn,[(a(),H(T,{key:t(p),content:t(p),type:"pdf"},null,8,["content"]))])]),s("div",$n,[I(x,{type:"primary",block:"",round:"",onClick:c[1]||(c[1]=v=>l("N"))},{default:$(()=>[Rn]),_:1}),I(x,{type:"primary",plain:"",block:"",round:"",onClick:c[2]||(c[2]=v=>l("allFalse"))},{default:$(()=>[Mn]),_:1})])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const Ne=u=>(_e("data-v-1a769194"),u=u(),he(),u),qn={class:"com-period-cell"},Zn={key:0,class:"custom-cell check-btn-cell"},Hn=Ne(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u671F\u95F4",-1)),Yn={class:"cell-content"},Qn=Ne(()=>s("div",{class:"cell-label"},"\u751F\u6548\u65E5\u671F",-1)),jn={class:"cell-content"},Gn={key:2,class:"custom-cell common-cell"},Kn=Ne(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u671F\u9650",-1)),Wn={class:"cell-content"},Jn=J({props:{formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(u,{expose:D,emit:n}){const r=u;C({});const g=(y,_)=>y==="year"?`${_}\u5E74`:y==="month"?`${_}\u6708`:y==="day"?`${_}\u65E5`:_,p=C(new Date),d=Vt("RISK_INSURANCE_PERIOD"),l=ye({formInfo:r.formInfo});K(()=>l.formInfo.insuranceStartDate,y=>{y&&typeof y=="string"&&(p.value=new Date(y))});const F=C(),P=C([]);K([()=>r.insureDetail,()=>l.formInfo.activePlanCode],()=>{var y;if(l.formInfo.insurancePeriodValue="",l.formInfo.insuranceStartDate="",l.formInfo.insuranceEndDate="",r.insureDetail)if(r.insureDetail.productRelationPlanVOList&&r.insureDetail.productRelationPlanVOList.length>0){let _=0;const e=r.insureDetail.productRelationPlanVOList.findIndex(V=>V.planCode===l.formInfo.activePlanCode);e>-1&&(_=e);const f=(((y=r.insureDetail.productRelationPlanVOList[_])==null?void 0:y.productRiskVoList[0].riskDetailVOList)||[]).find(V=>V.riskType===1);f&&(F.value=f)}else{const e=(r.insureDetail.productRiskVoList[0].riskDetailVOList||[]).find(i=>i.riskType===1);e&&(F.value=e)}},{deep:!0,immediate:!0}),K([()=>F.value,()=>d.value],()=>{P.value=[],Array.isArray(d.value)&&d.value.length>1&&F.value&&(P.value=(F.value.riskInsureLimitVO.insurancePeriodValueList||[]).map(y=>{const _=d.value.find(e=>e.value===y);return _?{label:_.name,value:_.value}:null}).filter(y=>!!y)),P.value.length>0&&(l.formInfo.insurancePeriodValue=P.value[0].value)},{deep:!0,immediate:!0});const c=S(()=>{var y,_;return(y=F.value)!=null&&y.riskInsureLimitVO.guaranteeStartDate?String((_=F.value)==null?void 0:_.riskInsureLimitVO.guaranteeStartDate):se.CURRENT_DAY}),[h,T]=Pe(!1),x=()=>{T(!0)},Y=new Date(ie(new Date,1,"day")),j=S(()=>{var y;if(c.value===se.CUSTOM_DAY){const _=(y=F.value)==null?void 0:y.riskInsureLimitVO.maxInsuranceDay;if(!_)return new Date;const e=ie(new Date,Number(_),"day");return new Date(e)}return new Date}),v=y=>{l.formInfo.insuranceStartDate=`${fe(y)} 00:00:00`,T(!1)},N=()=>{T(!1)},R=S(()=>{if(c.value===se.CUSTOM_DAY||!l.formInfo.insurancePeriodValue)return"";const[y,_]=l.formInfo.insurancePeriodValue.split("_");if(y!=="to"){let e=fe(new Date);if(c.value===se.NEXT_DAY)return e=ie(new Date,1,"day"),"";const i=ie(e,Number(_)-1,y);return`${e} - ${i}`}return l.formInfo.insured.certNo,""});return K([()=>c.value,()=>R.value,()=>l.formInfo.insurancePeriodValue,()=>l.formInfo.insuranceStartDate],()=>{const[y,_]=l.formInfo.insurancePeriodValue.split("_");l.formInfo.insuranceStartDate||(c.value===se.CUSTOM_DAY?l.formInfo.insuranceStartDate=`${ie(new Date,1,"day")} 00:00:00`:c.value===se.NEXT_DAY?l.formInfo.insuranceStartDate=`${ie(new Date,1,"day")} 00:00:00`:l.formInfo.insuranceStartDate=`${fe(new Date)} 23:59:59`),y!=="to"?l.formInfo.insuranceEndDate=`${ie(l.formInfo.insuranceStartDate,Number(_)-1,y)} 23:59:59`:(l.formInfo.tenantOrderInsuredList[0].birthday,l.formInfo.tenantOrderInsuredList[0].certType===Ce.CERT&&l.formInfo.tenantOrderInsuredList[0].certNo&&Ye(l.formInfo.tenantOrderInsuredList[0].certNo)&&It(l.formInfo.tenantOrderInsuredList[0].certNo),_==="single"&&(l.formInfo.insuranceEndDate="9999-99-99 23:59:59"),l.formInfo.insuranceEndDate=`${ie(l.formInfo.insuranceStartDate,Number(_)-1,y)} 23:59:59`)},{immediate:!0}),D({}),(y,_)=>{const e=B("ProRadioButton"),i=B("van-config-provider"),f=B("van-datetime-picker"),V=B("ProPopup");return a(),o(q,null,[I(i,{"theme-vars":t(ke)},{default:$(()=>[s("div",qn,[P.value.length>1?(a(),o("div",Zn,[Hn,s("div",Yn,[I(e,{modelValue:t(l).formInfo.insurancePeriodValue,"onUpdate:modelValue":_[0]||(_[0]=Q=>t(l).formInfo.insurancePeriodValue=Q),options:P.value},null,8,["modelValue","options"])])])):U("",!0),t(c)===t(se).CUSTOM_DAY?(a(),o("div",{key:1,class:"custom-cell common-cell",onClick:x},[Qn,s("div",jn,E(t(l).formInfo.insuranceStartDate),1)])):U("",!0),t(c)!==t(se).CUSTOM_DAY?(a(),o("div",Gn,[Kn,s("div",Wn,E(t(R)),1)])):U("",!0)])]),_:1},8,["theme-vars"]),I(V,{show:t(h),"onUpdate:show":_[2]||(_[2]=Q=>mt(h)?h.value=Q:null),height:40,closeable:!1},{default:$(()=>[I(f,{modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=Q=>p.value=Q),type:"date",title:"\u9009\u62E9\u5E74\u6708","min-date":t(Y),"max-date":t(j),formatter:g,onConfirm:v,onCancel:N},null,8,["modelValue","min-date","max-date"])]),_:1},8,["show"])],64)}}});var Xn=ee(Jn,[["__scopeId","data-v-1a769194"]]);const me=u=>(_e("data-v-3c8e6e76"),u=u(),he(),u),zn={class:"com-payment-type"},ea={class:"title"},ta={key:0,class:"picture-payment-content"},na=["onClick"],aa=["src"],ra=["src"],sa={key:1,class:"custom-cell check-btn-cell"},ia=me(()=>s("div",{class:"cell-label"},"\u4FDD\u969C\u65B9\u6848",-1)),oa={class:"cell-content"},la={key:0,class:"picture-payment-content"},ua=["onClick"],ca=["src"],da=["src"],ma={key:1,class:"default-payment-content"},pa=me(()=>s("div",{class:"pay-method"},[s("span",{class:"method"},E("\u6309\u6708\u4EA4\u8D39")),s("span",{class:"acount"},E("\u517112\u671F"))],-1)),ga=[pa],fa=me(()=>s("div",null,[s("div",{class:"tip"},[s("span",null,E("\u6BD4\u6309\u6708\u652F\u4ED8\u6700\u9AD8\u7701")),le(),s("span",null,"16%")]),s("div",{class:"triangle"}),s("div",{class:"pay-method"},[s("span",{class:"method"},E("\u4E00\u6B21\u4EA4\u6E05")),s("span",{class:"acount"},E("\u6BD4\u6708\u4EA4\u4FDD\u8D39\u7701\u6700\u9AD82014\u5143"))])],-1)),va=[fa],ya={key:2,class:"custom-cell check-btn-cell"},_a=me(()=>s("div",{class:"cell-label"},"\u4EA4\u8D39\u65B9\u5F0F",-1)),ha={class:"cell-content"},Ia={class:"custom-cell common-cell"},Ca=me(()=>s("div",{class:"cell-label"},"\u5B9E\u4ED8\u4FDD\u8D39",-1)),Da={class:"cell-content actual-premium"},Pa={key:0,class:"feerate-explain"},Ta={class:"content"},ka=me(()=>s("div",{class:"triangle-top"},null,-1)),Na=J({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},insureDetail:{type:Object,default:()=>{}},configDetail:{type:Object,default:()=>{}},isMultiplePlan:{type:Boolean,default:!1},premium:{type:[Number||null],default:null}},emits:["onReset","onUpdate","onVerify"],setup(u,{expose:D,emit:n}){const r=u;C({});const g=ye({formInfo:r.formInfo}),p=C([]),d=C(),l=C(),F=S(()=>{var e;return String((e=d.value)==null?void 0:e.paymentFrequencyFlag)==="1"}),P=S(()=>{var e;return(e=l.value)==null?void 0:e.productPremiumVOList.find(i=>i.paymentFrequency===g.formInfo.paymentFrequency)}),c=S(()=>r.premium&&P.value?`${r.premium}${P.value.premiumUnit||""}`:P.value?`${P.value.paymentFrequencyValue||""}${P.value.premiumUnit||""}`:""),h=S(()=>{if(l){const{premiumExplain:e,premiumExplainViewName:i,premiumExplainUri:f}=l.value||{};return{premiumExplain:e,premiumExplainUri:f,premiumExplainViewName:i}}return null});K(()=>r.configDetail,()=>{var e;r.isMultiplePlan&&r.configDetail&&(p.value=(e=r.configDetail.tenantProductInsureVO)==null?void 0:e.planList)},{immediate:!0,deep:!0}),K([()=>r.configDetail,()=>r.isMultiplePlan,()=>g.formInfo.activePlanCode],()=>{if(r.configDetail)if(r.isMultiplePlan){let e=0;const i=r.configDetail.tenantProductInsureVO.planList.findIndex(f=>f.planCode===g.formInfo.activePlanCode);i>-1&&(e=i),d.value=r.configDetail.tenantProductInsureVO.planList[e].productPlanInsureConditionVO,l.value=r.configDetail.tenantProductInsureVO.planList[e]}else d.value=r.configDetail.tenantProductInsureVO.planInsureVO.productPlanInsureConditionVO,l.value=r.configDetail.tenantProductInsureVO.planInsureVO},{deep:!0,immediate:!0});const T=S(()=>{var e;return d.value&&d.value.paymentFrequency?(((e=d.value.paymentFrequency)==null?void 0:e.split(","))||[]).length>1:!1}),x=S(()=>{var e;if(d.value){const i=((e=d.value.paymentFrequency)==null?void 0:e.split(","))||[];if(i.length===1)return g.formInfo.paymentFrequency=d.value.paymentFrequency,!1;if(i.length===2&&i.filter(f=>![oe.SINGLE,oe.MONTH].includes(f)).length<1)return!0}return!1}),Y=S(()=>{var e;return d.value?(e=d.value.paymentFrequencyList||[])==null?void 0:e.map(i=>({...i,paymentFrequency:i.skinValue})):[]}),j=S(()=>Y.value.length>0),v=S(()=>r.isMultiplePlan?r.configDetail.tenantProductInsureVO.planList.map(e=>e.planPicList?{...e.planPicList,planCode:e.planCode,planName:e.planName}:null).filter(e=>!!e):[]),N=S(()=>{var e,i;if(d.value){const f=((e=d.value.paymentFrequency)==null?void 0:e.split(","))||[];return f.length===1&&(console.log("paymentFrequencyList======",f),g.formInfo.paymentFrequency=f[0]),(i=f||[])==null?void 0:i.map(V=>({label:Dt[V],value:V}))}return[]}),R=e=>{console.log("type",e),g.formInfo.paymentFrequency=e},y=e=>{g.formInfo.activePlanCode=e},_=()=>{var e,i;if(!((e=h.value)!=null&&e.premiumExplainUri)){pt("\u65E0\u8D39\u7387\u6587\u4EF6\uFF01");return}Te({fileType:"pdf",fileUri:(i=h.value)==null?void 0:i.premiumExplainUri})};return D({}),(e,i)=>{const f=B("ProRadioButton"),V=B("templat"),Q=B("ProDivider"),X=B("van-config-provider");return a(),H(X,{"theme-vars":t(ke)},{default:$(()=>[s("div",zn,[s("div",ea,E(t(T)?"\u4EA4\u8D39\u65B9\u5F0F":"\u4FDD\u969C\u8BA1\u5212"),1),u.isMultiplePlan?(a(),o(q,{key:0},[t(v).length>0?(a(),o("div",ta,[(a(!0),o(q,null,W(t(v),b=>(a(),o("div",{key:b.planCode,class:ne("picture-payment-item"),onClick:A=>y(b.planCode)},[t(g).formInfo.activePlanCode==b.planCode?(a(),o("img",{key:0,src:b.selectedPic},null,8,aa)):(a(),o("img",{key:1,src:b.unSelectedPic},null,8,ra))],8,na))),128))])):(a(),o("div",sa,[ia,s("div",oa,[I(f,{modelValue:t(g).formInfo.activePlanCode,"onUpdate:modelValue":i[0]||(i[0]=b=>t(g).formInfo.activePlanCode=b),options:p.value,prop:{value:"planCode",label:"planName"}},null,8,["modelValue","options"])])]))],64)):U("",!0),t(F)?(a(),H(V,{key:1},{default:$(()=>[t(j)?(a(),o("div",la,[(a(!0),o(q,null,W(t(Y),b=>(a(),o("div",{key:b.paymentFrequency,class:ne("picture-payment-item"),onClick:A=>R(b.paymentFrequency)},[t(g).formInfo.paymentFrequency==b.paymentFrequency?(a(),o("img",{key:0,src:b.selectedPic},null,8,ca)):(a(),o("img",{key:1,src:b.unSelectedPic},null,8,da))],8,ua))),128))])):t(x)?(a(),o("div",ma,[s("div",{class:ne(`com-payment-type-item ${t(g).formInfo.paymentFrequency==t(oe).MONTH?"active":""}`),onClick:i[1]||(i[1]=b=>R(t(oe).MONTH))},ga,2),s("div",{class:ne(`com-payment-type-item ${t(g).formInfo.paymentFrequency==t(oe).SINGLE?"active":""}`),onClick:i[2]||(i[2]=b=>R(t(oe).SINGLE))},va,2)])):t(N).length>1?(a(),o("div",ya,[_a,s("div",ha,[I(f,{modelValue:t(g).formInfo.paymentFrequency,"onUpdate:modelValue":i[3]||(i[3]=b=>t(g).formInfo.paymentFrequency=b),options:t(N)},null,8,["modelValue","options"])])])):U("",!0)]),_:1})):U("",!0),I(Xn,{"form-info":t(g).formInfo,"insure-detail":u.insureDetail,"config-detail":u.configDetail},null,8,["form-info","insure-detail","config-detail"]),t(P)&&t(P).premiumUnit?(a(),o(q,{key:2},[s("div",Ia,[Ca,s("div",Da,E(t(c)),1)]),t(h)&&t(h).premiumExplain&&t(h).premiumExplainViewName?(a(),o("div",Pa,[s("div",Ta,[ka,s("div",null,[s("span",null,E(t(h).premiumExplain||""),1),s("span",{class:"file-name",onClick:_},"\u300A"+E(t(h).premiumExplainViewName||"")+"\u300B",1)])])])):U("",!0)],64)):U("",!0)]),I(Q)]),_:1},8,["theme-vars"])}}});var wa=ee(Na,[["__scopeId","data-v-3c8e6e76"]]);const Aa={class:"inscribedContent-content"},Oa={class:"content"},Sa=J({props:{inscribedContent:{type:String,default:""}},setup(u){const D=u,n=C();return K(()=>D.inscribedContent,r=>{r?n.value=r.replaceAll(`
`,"<br />"):n.value=""},{immediate:!0,deep:!0}),(r,g)=>{const p=qe("dompurify-html");return a(),o("div",Aa,[De(s("div",Oa,null,512),[[p,n.value]])])}}});var Fa=ee(Sa,[["__scopeId","data-v-702b2de2"]]);const Va={class:"com-attachment-list"},ba=["onClick"],La=J({props:{preText:{type:String,default:""},attachementList:{type:Object,default:()=>{}}},emits:["preview-file"],setup(u,{emit:D}){const n=r=>{D("preview-file",r)};return(r,g)=>(a(),o("div",Va,[s("span",null,E(u.preText),1),(a(!0),o(q,null,W(u.attachementList||[],(p,d)=>(a(),o("span",{key:d,class:"attachment-item",onClick:l=>n(d)}," \u300A"+E(p.attachmentName)+"\u300B ",9,ba))),128))]))}});var Ea=ee(La,[["__scopeId","data-v-17da129e"]]);const xa={class:"page-internet-product-detail"},Ba={class:"info"},$a={class:"footer-area"},Ra={class:"price"},Ma=le(" \u603B\u4FDD\u8D39"),Ua=le(E("\u7ACB\u5373\u6295\u4FDD")),qa=J({setup(u){var Fe,Ve;const D=Qe();gt();const n=ft(),{openId:r,productCode:g="BWYL2021",tenantId:p,orderNo:d,phoneNo:l,agentCode:F="",saleChannelId:P,paymentMethod:c,certNo:h,name:T,templateId:x,pageCode:Y,from:j,extraInfo:v,insurerCode:N}=n.query;let R={};try{R=JSON.parse(decodeURIComponent(v))}catch{}const y=C({certNo:h,openId:r,tenantId:p,mobile:l}),_=C(),e=C(),i=C(),f=C(),V=C(),Q=C(!1),X=C(!1),b=C(!1),A=C(0),z=C(!1);C(!1);let ge="";const we=C(!0),ue=ye({holder:{certNo:h,certType:Ce.CERT,mobile:l,name:T,socialFlag:Ee.HAS},insured:{certNo:h,certType:Ce.CERT,name:T,socialFlag:Ee.HAS,relationToHolder:xe.SELF},paymentMethod:c,renewalDK:"Y",packageProductList:[],mobileSmsCode:"",activePlanCode:"",paymentFrequency:oe.MONTH,insurancePeriodValue:"",commencementTime:fe(new Date)}),M=C({tenantId:p,agencyId:F,orderCategory:1,saleUserId:P,saleChannelId:P,venderCode:N,insuranceStartDate:null,insuranceEndDate:null,activePlanCode:"",paymentFrequency:oe.MONTH,insurancePeriodValue:"",commencementTime:"",tenantOrderHolder:{extInfo:{},socialFlag:"1"},tenantOrderInsuredList:[{socialFlag:"1",relationToHolder:xe.SELF,extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}],tenantOrderProductList:[{tenantId:p,productCode:(Fe=i.value)==null?void 0:Fe.productCode,productName:(Ve=i.value)==null?void 0:Ve.productName,premium:V.value||0}]}],extInfo:{buttonCode:"EVENT_SHORT_saveOrder",successJumpUrl:"",pageCode:"productInfo",...R},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}}),ae=S(()=>{var m,w,O,k,L,Z;return i.value?!!(((w=(m=i.value)==null?void 0:m.tenantProductInsureVO)==null?void 0:w.planList)&&Array.isArray((k=(O=i.value)==null?void 0:O.tenantProductInsureVO)==null?void 0:k.planList)&&((Z=(L=i.value)==null?void 0:L.tenantProductInsureVO)==null?void 0:Z.planList.length)>0):!1}),je=S(()=>{var m,w,O;if(ae.value){if(M.value.activePlanCode)return((m=f.value)==null?void 0:m.planFactor[M.value.activePlanCode])||{}}else if((w=f.value)!=null&&w.productFactor)return(O=f.value)==null?void 0:O.productFactor;return{}});K(()=>ae.value,()=>{var m,w;ae.value&&(M.value.activePlanCode=(w=(m=i.value)==null?void 0:m.tenantProductInsureVO)==null?void 0:w.planList[0].planCode)},{immediate:!0});const Ae=S(()=>{var m,w,O;return ae.value?((w=(m=f.value)==null?void 0:m.productRelationPlanVOList.find(k=>k.planCode===M.value.activePlanCode))==null?void 0:w.productRiskVoList)||[]:((O=f.value)==null?void 0:O.productRiskVoList)||[]}),Ge=m=>{M.value.activePlanCode=m},Ke=S(()=>[]),ce=C();K([()=>ae.value,()=>M.value.activePlanCode,()=>i.value],()=>{var O,k;let m={};if(console.log("isMultiplePlan",ae.value),ae.value){const L=(O=i.value)==null?void 0:O.tenantProductInsureVO.planList.find(Z=>Z.planCode===(M.value.activePlanCode||""));L&&(m=L==null?void 0:L.attachmentVOList)}else console.log("detail.value?.tenantProductInsureVO.planInsureVO",i.value),m=(k=i.value)==null?void 0:k.tenantProductInsureVO.planInsureVO.attachmentVOList;if(!m){ce.value=[];return}const w={2:"richText",3:"link"};ce.value=Object.keys(m).map(L=>(m[L].forEach(Z=>{if(Z.attachmentType==="1"){const G=Z.attachmentUri.split("?"),te=G[0].substr(G[0].lastIndexOf(".")+1);console.log("type",te),te==="pdf"?Z.attachmentType="pdf":Z.attachmentType="picture"}else Z.attachmentType=w[Z.attachmentType]}),{attachmentName:L,attachmentList:m[L]}))},{immediate:!0});const We=()=>{console.log("detailScrollRef.value",e.value),e.value.handleClickTab()("tab3")},Je=()=>{const{holder:{certNo:m,mobile:w,name:O,socialFlag:k},insured:{certNo:L,name:Z,socialFlag:G,relationToHolder:te},paymentMethod:de}=ue;return!!(Ye(L)&&!!G)},Xe=(m={},w={},O={})=>{var Z,G;const k={...O};console.log("currentOrderDetail==========",(Z=k.tenantOrderInsuredList[0])==null?void 0:Z.tenantOrderProductList[0].riskVOList);const L={tenantId:p,riskList:((G=k.tenantOrderInsuredList[0])==null?void 0:G.tenantOrderProductList[0].riskVOList)||[],riskPremium:w,productId:m==null?void 0:m.productBasicInfoVO.id};return k.extInfo.iseeBizNo=ge,k.commencementTime=k.insuranceStartDate,k.expiryDate=k.insuranceEndDate,k.tenantOrderInsuredList=k.tenantOrderInsuredList.map(te=>({...te,planCode:M.value.activePlanCode?M.value.activePlanCode:null})),k.tenantOrderInsuredList[0].tenantOrderProductList[0]={premium:"",productCode:m.productBasicInfoVO.productCode,productName:m.productBasicInfoVO.productName,planCode:M.value.activePlanCode?M.value.activePlanCode:null,tenantOrderRiskList:Ot(L)},k},ze=async m=>{const{code:w,data:O}=await Nt({orderNo:m,tenantId:p});if(w==="10000"){O.extInfo={...O.extInfo,buttonCode:"EVENT_SHORT_underWrite"};const{code:k,data:L}=await Be(O);k==="10000"&&console.log("res=====",L),Object.assign(M.value,O)}},et=async m=>{var k,L,Z,G;const{code:w,data:O}=await Be(Xe(f.value,{},M.value));console.log("data",O),(L=(k=O.pageAction)==null?void 0:k.data)!=null&&L.orderNo&&(console.log("23233322332"),await ze((G=(Z=O.pageAction)==null?void 0:Z.data)==null?void 0:G.orderNo))},tt=async()=>{},nt=m=>{A.value=m,b.value=!0},at=async(m,w,O)=>{var te,de;const k=At(O).map(re=>({...re,paymentFrequency:m.paymentFrequency,insurancePeriodValue:m.insurancePeriodValue}));console.log("orderDetail.value.activePlanCode",M.value.activePlanCode);const L={tenantId:p,productCode:(te=i.value)==null?void 0:te.productCode,insuranceStartDate:m.insuranceStartDate,insuranceEndDate:m.insuranceEndDate,commencementTime:m.insuranceStartDate,expiryDate:m.insuranceEndDate,holder:{personVO:m.tenantOrderHolder},insuredVOList:m.tenantOrderInsuredList.map(re=>({insuredCode:"",relationToHolder:re.relationToHolder,personVO:re,productPlanVOList:[{insurerCode:w.productBasicInfoVO.insurerCode,planCode:M.value.activePlanCode?M.value.activePlanCode:null,riskVOList:k}]}))},{code:Z,data:G}=await kt(L);M.value.tenantOrderInsuredList[0].tenantOrderProductList=(de=L.insuredVOList[0])==null?void 0:de.productPlanVOList,M.value.orderAmount=G.premium,M.value.orderRealAmount=G.premium},Oe=async()=>{try{console.log("currentRiskInfo.value",Ae.value),await at(M.value,f.value,Ae.value),et({})}catch{}},rt=m=>{m==="allFalse"?(X.value=!1,Q.value=!0,Oe()):_t.confirm({message:"\u60A8\u5F53\u524D\u7684\u5065\u5EB7\u72B6\u51B5\u4E0D\u7B26\u5408\u8BE5\u4EA7\u54C1",confirmButtonText:"\u786E\u5B9A"}).then(()=>{window.history.back()}).catch(()=>{var w;(w=_.value)==null||w.reEditForm(),Q.value=!1})},Se=()=>{var m;(m=_.value)==null||m.reEditForm(),Q.value=!1},st=()=>{X.value=!1,Se()},it=()=>{b.value=!1,Se()},ot=()=>{b.value=!1,X.value=!0};K([()=>ue.insured.certNo,()=>ue.insured.socialFlag,()=>ue.packageProductList,()=>ue.paymentFrequency],vt.exports.debounce(()=>{ue.insured.certNo&&ue.insured.socialFlag&&Je()&&tt()},500),{deep:!0,immediate:!0});const lt=async()=>{const m=wt({productCode:g,withInsureInfo:!0,tenantId:p}),w=Tt({productCode:g});await Promise.all([m,w]).then(([O,k])=>{var L;O.code==="10000"&&(i.value={...O.data},document.title=((L=O.data)==null?void 0:L.productFullName)||""),k.code==="10000"&&(f.value=k.data)})};return yt(()=>{lt(),setTimeout(async()=>{ge=window.getIseeBiz&&await window.getIseeBiz()},1500)}),(m,w)=>{const O=B("van-config-provider");return a(),o(q,null,[I(O,{"theme-vars":t(D)},{default:$(()=>{var k,L,Z,G,te,de,re,be,Le;return[s("div",xa,[s("div",Ba,[I($e,{url:(L=(k=i.value)==null?void 0:k.tenantProductInsureVO)==null?void 0:L.banner[0]},null,8,["url"]),(G=(Z=i.value)==null?void 0:Z.tenantProductInsureVO)!=null&&G.bannerMove?(a(),H($e,{key:0,url:(de=(te=i.value)==null?void 0:te.tenantProductInsureVO)==null?void 0:de.bannerMove[0],onClick:We},null,8,["url"])):U("",!0)]),I(sn,{"show-service-config":"","data-source":(re=i.value)==null?void 0:re.tenantProductInsureVO,"is-multiple-plan":t(ae),"active-plan-code":M.value.activePlanCode,onUpdateActivePlan:Ge},null,8,["data-source","is-multiple-plan","active-plan-code"]),I(Dn,{ref_key:"detailScrollRef",ref:e,detail:i.value},{form:$(()=>[I(bt,{ref_key:"formRef",ref:_,"title-collection":{HOLDER:"\u672C\u4EBA\u4FE1\u606F\uFF08\u6295\u4FDD\u4EBA\uFF09",INSURER:"\u4E3A\u8C01\u6295\u4FDD\uFF08\u88AB\u4FDD\u4EBA\uFF09"},"form-info":M.value,"send-sms-code":()=>{},"factor-object":t(je)||{}},{holderName:$(()=>[I(Re,{"user-info":y.value},null,8,["user-info"])]),insurerName:$(()=>[I(Re,{title:"\u9009\u62E9\u88AB\u4FDD\u4EBA","user-info":y.value},null,8,["user-info"])]),_:1},8,["form-info","send-sms-code","factor-object"]),I(wa,{"form-info":M.value,"insure-detail":f.value,"config-detail":i.value,"is-multiple-plan":t(ae),"risk-info-period-list":m.riskInfoPeriodList,premium:V.value},null,8,["form-info","insure-detail","config-detail","is-multiple-plan","risk-info-period-list","premium"])]),_:1},8,["detail"]),(be=i.value)!=null&&be.tenantProductInsureVO.inscribedContent?(a(),H(Fa,{key:0,"inscribed-content":(Le=i.value)==null?void 0:Le.tenantProductInsureVO.inscribedContent},null,8,["inscribed-content"])):U("",!0),ce.value&&ce.value.length>1?(a(),H(Ea,{key:1,"attachement-list":ce.value,"pre-text":"\u8BF7\u9605\u8BFB",onPreviewFile:w[0]||(w[0]=ut=>nt(ut))},null,8,["attachement-list"])):U("",!0),s("div",$a,[s("div",Ra,[Ma,s("span",null,E(V.value?"\uFFE5":"")+E(t(Ct)(V.value))+" "+E(V.value?M.value.paymentFrequency==t(Pt).YEAR?"\u5143/\u5E74":"\u5143/\u6708":""),1)]),I(ve,{shadow:!1,"theme-vars":t(D),class:"right",text:"\u7ACB\u5373\u6295\u4FDD",onClick:Oe},{default:$(()=>[Ua]),_:1},8,["theme-vars"])])])]}),_:1},8,["theme-vars"]),I(Un,{show:X.value,"onUpdate:show":w[1]||(w[1]=k=>X.value=k),"content-list":t(Ke),"active-index":0,onOnConfirmHealth:rt,onOnCloseHealth:st},null,8,["show","content-list"]),b.value?(a(),H(En,{key:0,show:b.value,"onUpdate:show":w[2]||(w[2]=k=>b.value=k),"content-list":ce.value,"is-only-view":we.value,"active-index":A.value,text:we.value?"\u5173\u95ED":"\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u544A\u77E5\u5185\u5BB9","force-read-cound":0,"on-close-file-preview":"",onSubmit:ot,onOnCloseFilePreview:it},null,8,["show","content-list","is-only-view","active-index","text"])):U("",!0),I(An,{"is-show":z.value},null,8,["is-show"])],64)}}});var ir=ee(qa,[["__scopeId","data-v-19eae554"]]);export{ir as default};
