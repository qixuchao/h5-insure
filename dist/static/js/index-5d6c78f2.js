import{G as e,d as o,r,c as s,e as t,w as a,f as d,i,g as l,j as u,B as n,z as c,bK as p,R as m,A as f,a2 as k,U as v,V as P,bx as L,E as V,bL as h,aA as C,bM as b,bN as O,bD as y,al as I,am as R,ac as g,L as j,bO as _,h as D,bP as w,b9 as x,a as E,u as T,bQ as N,bs as U,o as M,b as S,y as H,ay as q,D as F,az as $,bk as A,aw as B,T as K}from"./index-d44a19aa.js";import{A as z}from"./index-bd5a2459.js";import{P as W,a as G,b as Q,c as Y}from"./index-9bfd3643.js";import{d as J}from"./debounce-eed12388.js";import{P as X,u as Z}from"./ProductTips-5ca01ce6.js";import{_ as ee}from"./ProRenderFormWithCard.vue_vue_type_style_index_0_scoped_true_lang-13fe57c4.js";/* empty css              */import"./bankCard-3b3c8447.js";import{a as oe,b as re,c as se}from"./createProposal-5791d716.js";import{a as te,p as ae,q as de}from"./trial-f6485929.js";import{T as ie}from"./index-81a4471c.js";import{u as le}from"./useDicData-0673a40d.js";import"./pdfh5-008ca364.js";import"./index-c565cb72.js";import"./isObjectLike-a9798079.js";import"./_initCloneObject-0663309f.js";import"./phoneVerify-d1df74d6.js";import"./index-760d5d11.js";import"./cloneDeep-1de8e9b0.js";import"./infoCollection-7277e1f0.js";import"./TrialButton-9bdcaabd.js";import"./index-17dbeb2c.js";import"./index-5d924819.js";import"./index-58768689.js";import"./useOrder-c51a2f5f.js";import"./utils-cc38211a.js";import"./trial-bd5a6cd7.js";import"./utils-070ab600.js";import"./constants-7afb7c3d.js";import"./nextStep-0e1fc88a.js";import"./core-e919d03a.js";import"./constant-8927d485.js";import"./index-f2139863.js";import"./empty-c926d8ec.js";import"./box-title-63d9e8a0.js";import"./index-65280588.js";import"./echarts-ac920fed.js";import"./Table-6bf45e9c.js";const ue={class:"trial-button"};var ne=e(o({__name:"TrialPopup",props:{productCode:{default:""},productName:{default:""}},emits:["finish"],setup(e,{expose:o,emit:c}){const p=e,m=r(null),f=(e,o)=>{console.log("trialData",e);const{holder:r,insuredVOList:s,productCode:t}=e||{},{personVO:a,productPlanVOList:d}=(null==s?void 0:s[0])||{},{riskVOList:i,...l}=(null==d?void 0:d[0])||{},u=(i||[]).map((e=>{var r,s;return{...e,premium:null==(r=o[e.riskCode])?void 0:r.premium,amount:null==(s=o[e.riskCode])?void 0:s.amount}}));return{productCode:t,proposalHolder:null==r?void 0:r.personVO,insuredPersonVO:a,insuredProductInfo:{productCode:t,...l,productName:p.productName,occupationCodeList:null==a?void 0:a.occupationCodeList,proposalProductRiskList:u}}};return o({...["open","close"].reduce(((e,o)=>(e[o]=(...e)=>{var r;null==(r=m.value)||r[o](...e)},e)),{}),formatData:f}),(o,r)=>{const p=n;return s(),t(ie,{ref_key:"trialRef",ref:m,"hide-benefit":"","hide-popup-button":"",title:"选择保障方案",class:"proposal-trial","product-info":{productCode:e.productCode},"tenant-product-detail":{}},{default:a((({trialData:e,riskPremium:o})=>[d("div",ue,[i(p,{disabled:!l(m).getTrialSuccessFlag(),type:"primary",onClick:r=>((...e)=>{c("finish",f(e[0],e[1]))})(e,o)},{default:a((()=>[u("确定")])),_:2},1032,["disabled","onClick"])])])),_:1},8,["product-info"])}}}),[["__scopeId","data-v-1f98c75c"]]);const ce={class:"com-risk-list-wrapper"},pe=(e=>(I("data-v-7d3c3028"),e=e(),R(),e))((()=>d("div",{class:"popup-title"},"选择附加险",-1))),me={class:"risk-list"},fe={class:"cell-title"},ke={class:"title"},ve={class:"footer-button"};var Pe=e(o({__name:"index",props:{riskList:{default:()=>[]},show:{type:Boolean,default:!1},collocationList:{default:()=>[]},disabled:{default:()=>[]},modelValue:{default:()=>[]}},emits:["finished","close","update:modelValue"],setup(e,{emit:o}){const I=e,R=r([]),g=r([]),j=r([...I.disabled]),_=c({show:I.show,currentChecked:[...I.modelValue]}),D=e=>{var o,r,s;if(j.value.includes(e))return;((e,o)=>{if(!I.collocationList.length)return o?void(_.currentChecked=[]):void _.currentChecked.push(e);let r=_.currentChecked,s=j.value;o?(I.collocationList.forEach((o=>{e===o.riskId&&(2===o.collocationType?r=r.filter((r=>r!==o.collocationRiskId||r!==e)):3===o.collocationType?(r=r.filter((o=>o!==e)),s=s.filter((e=>e!==o.collocationRiskId))):r=r.filter((o=>o!==e)))})),_.currentChecked=r,j.value=s):(I.collocationList.forEach((t=>{e===t.riskId&&(o||(2===t.collocationType?r.push(t.collocationRiskId):3===t.collocationType&&s.push(t.collocationRiskId),r.push(e)))})),_.currentChecked.push(...r),j.value=s)})(e,_.currentChecked.includes(e)),null==(s=null==(r=null==(o=null==R?void 0:R.value)?void 0:o[e])?void 0:r.toggle)||s.call(r)},w=()=>{o("close")},x=()=>{const e=I.riskList.filter((e=>_.currentChecked.includes(e.id)));o("update:modelValue",[...new Set(g.value)]),o("finished",e,j.value),o("close")};return p((()=>{R.value=[]})),m((()=>_.currentChecked),(e=>{g.value=e}),{deep:!0,immediate:!0}),m((()=>I.modelValue),(e=>{g.value=e||[],j.value.push(...e||[])}),{deep:!0,immediate:!0}),(o,r)=>{const c=h,p=C,m=b,I=O,E=n,T=y;return s(),f("div",ce,[i(T,{show:l(_).show,"onUpdate:show":r[1]||(r[1]=e=>l(_).show=e),title:"选择附加险","show-footer":"",round:"",position:"bottom",closeable:"",onClose:w},{default:a((()=>[pe,d("div",me,[i(I,{modelValue:l(g),"onUpdate:modelValue":r[0]||(r[0]=e=>k(g)?g.value=e:null)},{default:a((()=>[i(m,{inset:""},{default:a((()=>[(s(!0),f(v,null,P(e.riskList,(e=>(s(),t(p,{key:e.id,title:e.riskName,disabled:l(j).includes(e.id),onClick:o=>D(e.id)},{"right-icon":a((()=>[i(c,{ref_for:!0,ref:o=>l(R)[e.id]=o,shape:"square",disabled:l(j).includes(e.id),name:e.id,onClick:L((o=>D(e.id)),["stop"])},null,8,["disabled","name","onClick"])])),title:a((()=>[d("div",fe,[d("div",ke,V(e.riskName),1)])])),_:2},1032,["title","disabled","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),d("div",ve,[i(E,{type:"primary",disabled:!l(_).currentChecked.length,block:"",onClick:x},{default:a((()=>[u("确认")])),_:1},8,["disabled"])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-7d3c3028"]]);const Le=e=>(I("data-v-2f7e38c5"),e=e(),R(),e),Ve={class:"com-product-list-wrapper"},he={class:"risk-item-wrapper"},Ce={class:"content"},be={class:"risk-premium"},Oe={class:"premium"},ye={class:"risk-factor"},Ie={class:"factor"},Re={class:"factor-value"},ge=Le((()=>d("span",{class:"factor-name"}," 保额(元) ",-1))),je={class:"factor"},_e={class:"factor-value"},De=Le((()=>d("span",{class:"factor-name"}," 保障期间 ",-1))),we={class:"factor"},xe={class:"factor-value"},Ee=Le((()=>d("span",{class:"factor-name"}," 缴费期间 ",-1))),Te={key:0,class:"operate-bar"},Ne={key:0,class:"premium-total"},Ue={class:"premium"},Me=o({name:"ProductList"});var Se=e(o({...Me,props:{productRiskList:{default:()=>[]},productInfo:{default:()=>({})},productData:{default:()=>({})},pickProductPremium:{type:Function,default:()=>{}},productNum:{default:0},errorMsg:{default:""}},emits:["deleteRisk","updateRisk","addRiderRisk"],setup(e,{emit:o}){const n=e,[c,p]=g(),k=r({checkedList:[],disabledList:[],riderRiskList:[],mainRiskData:{},totalPremium:0,currentRiskRecord:{},productRiskList:[]}),L=le("RISK_PAYMENT_PERIOD"),h=le("RISK_INSURANCE_PERIOD"),C=j((()=>{var e,o;return(null==(o=null==(e=n.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.filter((e=>1===e.collocationType)))||[]}));j((()=>{var e,o;const r=n.productRiskList.map((e=>e.riskId)),s=((null==(o=null==(e=n.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList)||[]).filter((e=>r.includes(e.id)&&1===e.collocationType));return C.value.length-s.length}));const b=j((()=>e=>{var o,r;const s=(null==(r=null==(o=n.productData)?void 0:o.productRiskVoList)?void 0:r[0].riskDetailVOList.find((o=>o.id!==e)))||{};let t=!1;return t=!!n.productNum||2===s.riskType&&1===s.collocationType,t})),O=j((()=>{var e,o;return(null==(o=null==(e=n.productData)?void 0:e.productRiskVoList)?void 0:o[0].riskDetailVOList.find((e=>1===e.riskType)))||{}})),y=j((()=>O.value.collocationVOList||[])),I=(e,r)=>{const s=e.map((e=>e.id)).filter((e=>!k.value.disabledList.includes(e)));o("addRiderRisk",s,n.productInfo)};return m((()=>n.productInfo),(e=>{let o=0;(e.proposalProductRiskList||[]).forEach((e=>{o+=e.premium})),k.value.totalPremium=o}),{deep:!0,immediate:!0}),m((()=>n.productRiskList),(e=>{const o=[],r=[],s=[];(e||[]).forEach((e=>{1===e.riskType?o.unshift(e):(r.push(e.riskId),s.push(e.riskId),o.push(e))})),k.value.disabledList=r,k.value.checkedList=s,k.value.productRiskList=o}),{deep:!0,immediate:!0}),(r,m)=>{var O,R,g;const j=w,E=x;return s(),f("div",Ve,[(s(!0),f(v,null,P(l(k).productRiskList,(r=>{var c,p;return s(),f("div",{key:r.riskId},[d("div",he,[i(j,{"risk-type":r.riskType,title:r.riskName,class:"no-border"},null,8,["risk-type","title"]),d("div",Ce,[d("div",be,[u(" 保费:"),d("span",Oe,V(!e.errorMsg&&r.premium?`￥${null==(c=r.premium)?void 0:c.toLocaleString()}`:"-"),1)]),d("div",ye,[d("div",Ie,[d("span",Re,V((null==(p=r.amount)?void 0:p.toLocaleString())||"-"),1),ge]),d("div",je,[d("span",_e,V(l(_)(l(h),r.coveragePeriod)||"-"),1),De]),d("div",we,[d("span",xe,V(l(_)(l(L),r.chargePeriod)||"-"),1),Ee])]),2!==r.riskType?(s(),f("div",Te,[l(b)(r.riskId)?(s(),t(E,{key:0,round:32,class:"border",onClick:e=>{o("deleteRisk",r,n.productInfo)}},{default:a((()=>[u("删除")])),_:2},1032,["onClick"])):D("",!0),i(E,{activated:"",round:32,onClick:e=>{o("updateRisk",r,n.productInfo)}},{default:a((()=>[u("修改")])),_:2},1032,["onClick"])])):D("",!0)])])])})),128)),l(k).productRiskList.length>1?(s(),f("div",Ne,[u(" 保费: "),d("span",Ue,V(!e.errorMsg&&(null==(O=l(k))?void 0:O.totalPremium)?`￥${null==(g=null==(R=l(k))?void 0:R.totalPremium)?void 0:g.toLocaleString()}`:"-"),1)])):D("",!0),l(c)?(s(),t(Pe,{key:1,modelValue:l(k).checkedList,"onUpdate:modelValue":m[0]||(m[0]=e=>l(k).checkedList=e),show:l(c),disabled:l(k).disabledList,"risk-list":l(C),"collocation-list":l(y),onFinished:I,onClose:m[1]||(m[1]=e=>l(p)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):D("",!0),i(X,{"error-msg":e.errorMsg},null,8,["error-msg"])])}}}),[["__scopeId","data-v-2f7e38c5"]]);const He={class:"container"},qe={class:"operate-bar"},Fe={class:"footer-bar"},$e={class:"trial-result"},Ae={class:"result-num"},Be={class:"trial-operate"},Ke=o({name:"CreateProposal"});var ze=e(o({...Ke,setup(e){const o=[{name:"保存修改"},{name:"另存为新计划书"}],[p,L]=g(),[h,C]=g(),b=r({proposalHolder:{},proposalInsuredList:[{name:"",gender:"",birthday:"",proposalInsuredProductList:[]}],proposalName:"",totalPremium:0,relationUserType:2}),O=E(),y=T(),I=Z(),{productCode:R,id:_}=y.query,D=["age","gender","birthday"],w=["name",...D].reduce(((e,o)=>(e[o]={hidden:!0},e)),{}),X=r(null),ie=r({productCode:0,productCollection:{},productInfo:{},productPremium:{},riderRisk:{},type:"add",currentRisk:[]}),le=c({selectedProductCodeList:[],insuredPersonVO:{},currentProductCode:"",proposalHolder:{},proposalInsuredProductList:[],productCollection:{},productErrorMap:{},defaultData:null}),ue=r(null),ce=r(null),pe=j((()=>le.proposalInsuredProductList.map((e=>e.productCode)).filter((e=>Boolean(e))))),me=j((()=>{const{productPlanInsureVOList:e}=le.productCollection[R]||{},[{insureProductRiskVOList:o}={}]=e||[],{riskInsureLimitVO:r}=(null==o?void 0:o.find((e=>1===e.riskType)))||{};return null==r?void 0:r.sexLimit})),fe=j((()=>"-1"===me.value?N:N.filter((e=>me.value===e.value)))),ke=j((()=>{var e;return(null==(e=le.productCollection)?void 0:e[le.currentProductCode])||{}})),ve=j((()=>{var e,o;return(null==(o=null==(e=ke.value)?void 0:e.productPlanInsureVOList)?void 0:o[0])||{}})),Pe=j((()=>Boolean(Object.values(le.productErrorMap).join("")))),Le=j((()=>le.proposalInsuredProductList.reduce(((e,o)=>e+o.proposalProductRiskList.reduce(((e,o)=>e+(o.premium||0)),0)),0))),Ve=e=>{const o=le.proposalInsuredProductList.findIndex((o=>o.productCode===e.productCode)),r={...e.insuredProductInfo,nanoid:$()};if(-1===o)return le.proposalInsuredProductList.push(r),!1;const s=le.proposalInsuredProductList[o],{proposalProductRiskList:t,...a}=r;le.proposalInsuredProductList[o]={...r,...a,proposalProductRiskList:q(t)?t.map((e=>({...s.proposalProductRiskList.find((o=>o.riskCode===e.riskCode)),...e}))):[]}},he=e=>{var o;Object.assign(le.proposalHolder,e.proposalHolder),Object.assign(le.insuredPersonVO,e.insuredPersonVO),Ve(e),null==(o=X.value)||o.close()},Ce=()=>{I.setProposalInfo(b.value),I.setExcludeProduct(pe.value),I.setInsuredPersonVO(le.insuredPersonVO),O.push({path:"/proposalListSelect",query:{isCreateProposal:"1"}})},be=e=>{ae(e,{isCustomError:!0}).then((({code:o,data:r,message:s})=>{var t;if(o===B&&r){(null==r?void 0:r.errorInfo)&&K(`${null==r?void 0:r.errorInfo}`);const o={};q(r.riskPremiumDetailVOList)&&(r.riskPremiumDetailVOList.forEach((e=>{o[e.riskCode]={premium:e.premium,amount:e.amount}})),Ve(null==(t=X.value)?void 0:t.formatData(e,o))),le.productErrorMap[e.productCode]=""}else le.productErrorMap[e.productCode]=s}))},Oe=e=>{e&&(le.insuredPersonVO.age=H(e).diff(new Date,"year"))},ye=()=>{le.insuredPersonVO.birthday=""},Ie=e=>{re(e).then((({code:e,data:o})=>{"10000"===e&&q(o)&&Object.assign(le.productCollection,o.reduce(((e,o)=>(e[o.productCode]=o,e)),{}))})).finally((()=>{}))},Re=async(e,o=!1)=>{if(!q(e))return;const{code:r,data:s}=await te({calcProductFactorList:e,...le.insuredPersonVO},{isCustomError:!o});"10000"===r&&s&&q(s)&&s.forEach((e=>{const{holder:r,insuredVOList:s,productCode:t}=e,{personVO:a,productPlanVOList:d}=(s||[])[0]||{},[{riskVOList:i,...l}={}]=d||[],u={productCode:t,...l,proposalProductRiskList:i};be(e),o&&(Object.assign(le.insuredPersonVO,a),Object.assign(le.proposalHolder,null==r?void 0:r.personVO));const n=pe.value.findIndex((e=>e===t));n>-1?le.proposalInsuredProductList[n]=u:le.proposalInsuredProductList.push(u)}))},ge=e=>le.proposalInsuredProductList.filter((o=>o.productCode===e)).map((({productCode:e,proposalProductRiskList:o})=>{const{productPlanInsureVOList:r}=le.productCollection[e]||{},[{insureProductRiskVOList:s}={}]=r||[];return{productCode:e,riskEditVOList:q(o)?o.filter((e=>1===e.riskType)).map((({riskCode:e,riskType:o,annuityDrawValueList:r,paymentPeriodValueList:t,insurancePeriodValueList:a,...d})=>{const i=(null==s?void 0:s.find((o=>o.riskCode===e)))||{};return{insureProductRiskVO:{...i,productRiskInsureLimitVO:{...null==i?void 0:i.productRiskInsureLimitVO,annuityDrawValueList:r,paymentPeriodValueList:t,insurancePeriodValueList:a}}}})):[]}})),je=e=>{const{proposalProductRiskList:o,...r}=le.proposalInsuredProductList.find((o=>o.productCode===e))||{};return{holder:{personVO:le.proposalHolder},insuredVOList:[{personVO:le.insuredPersonVO,config:w,productPlanVOList:[{...r,riskVOList:o}]}],productCode:e}},_e=(e,o)=>{const r=o;F.confirm({message:"确认删除该险种？"}).then((()=>{1===e.riskType?le.proposalInsuredProductList=le.proposalInsuredProductList.filter((e=>e.productCode!==r.productCode)).map((e=>({...e,nanoid:$()}))):r.proposalProductRiskList=r.proposalProductRiskList.filter((o=>o.riskId!==e.riskId))}))},De=(e,o)=>{var r;le.currentProductCode=o.productCode,le.defaultData=[je(o.productCode)],null==(r=X.value)||r.open()},we=(e,o)=>{ie.value.productInfo=o,ie.value.type="addRiderRisk",ie.value.currentRisk=e,L(!0)},xe=e=>!!q(e)&&e.every((e=>"number"==typeof e?!Number.isNaN(e):Boolean(e))),Ee=()=>{var e,o;Promise.all([null==(e=ue.value)?void 0:e.validate(),null==(o=ce.value)?void 0:o.validate()]).then((()=>{var e;const{proposalHolder:o}=le;se({proposalHolder:o,proposalInsuredList:[{...le.insuredPersonVO,socialFlag:null==(e=le.insuredPersonVO)?void 0:e.hasSocialInsurance,proposalInsuredProductList:le.proposalInsuredProductList}],proposalName:le.insuredPersonVO.proposalName,totalPremium:Le.value,relationUserType:2,id:_}).then((e=>{const{code:o,data:r}=e||{};"10000"===o&&(I.$reset(),O.push({path:"/compositionProposal",query:{id:r}}))}))}))},Te=()=>{Ee()},Ne=(e,o)=>{o&&(b.value.id=null),Ee()};return m((()=>D.map((e=>le.insuredPersonVO[e]))),J(((e,o)=>{xe(e)&&xe(o)&&(console.log("被保人条件变动"),pe.value.forEach((e=>(async e=>{try{const{code:o,data:r,message:s}=await de({calcProductFactorList:ge(e),...le.insuredPersonVO},{isCustomError:!0});"10000"===o&&q(r)?(le.proposalInsuredProductList.forEach((({productCode:e,proposalProductRiskList:o})=>{const{productRiskDyInsureFactorVOList:s}=r[0]||r.find((o=>o.productCode===e))||{};o.forEach((e=>{const o=s.find((o=>o.riskCode===e.riskCode));Object.assign(e,{...e,...o})}))})),be(je(e)),le.productErrorMap[e]=""):le.productErrorMap[e]=s}catch(o){console.log("Error",o)}})(e))))})),{deep:!0}),m((()=>le.selectedProductCodeList),J((e=>{if(q(e)){console.log("选择的产品变动了",e),Re(e.map((e=>({productCode:e}))));const o=Object.keys(le.productCollection),r=null==e?void 0:e.filter((e=>!o.includes(e)));q(r)&&Ie(null==r?void 0:r.map((e=>({productCode:e}))))}})),{deep:!0}),U((()=>{const{selectedProduct:e,insuredPersonVO:o}=I.$state;le.selectedProductCodeList=q(e)?e:[]})),M((()=>{if(R){const e=[{productCode:R}];Ie(e),Re(e,!0)}_&&((e={})=>{oe(e).then((({code:e,data:o})=>{if("10000"===e&&o){const{proposalInsuredList:e,proposalHolder:r,proposalName:s}=o||{},[{proposalInsuredProductList:t,...a}]=e||{};le.proposalHolder=r,le.insuredPersonVO={...a,proposalName:s},le.proposalInsuredProductList=t}}))})({id:_})})),(e,r)=>{const c=Y,p=A,m=x,L=n,b=z,O=S("ProPageWrap");return s(),t(O,{class:"page-create-wrapper"},{default:a((()=>{var e;return[d("div",He,[i(c,{ref_key:"formRef",ref:ue,class:"mb20",model:l(le).insuredPersonVO},{default:a((()=>[i(l(ee),{modelValue:l(le).insuredPersonVO.proposalName,"onUpdate:modelValue":r[0]||(r[0]=e=>l(le).insuredPersonVO.proposalName=e),label:"计划书名称",name:"proposalName",maxlength:20,required:""},null,8,["modelValue"])])),_:1},8,["model"]),i(l(W),{ref_key:"insuredFormRef",ref:ce,title:"被保人信息",model:l(le).insuredPersonVO},{default:a((()=>[i(l(ee),{modelValue:l(le).insuredPersonVO.name,"onUpdate:modelValue":r[1]||(r[1]=e=>l(le).insuredPersonVO.name=e),label:"姓名",name:"name",maxlength:20,required:""},null,8,["modelValue"]),i(l(ee),{modelValue:l(le).insuredPersonVO.age,"onUpdate:modelValue":r[3]||(r[3]=e=>l(le).insuredPersonVO.age=e),class:"age-field-wrap",name:"age",label:"年龄",type:"digit",maxlength:3,required:"",onChange:ye},{extra:a((()=>[i(l(G),{modelValue:l(le).insuredPersonVO.birthday,"onUpdate:modelValue":[r[2]||(r[2]=e=>l(le).insuredPersonVO.birthday=e),Oe],class:"birthday-field-wrap",label:"出生日期",name:"birthday",required:""},null,8,["modelValue"])])),_:1},8,["modelValue"]),i(l(Q),{modelValue:l(le).insuredPersonVO.gender,"onUpdate:modelValue":r[4]||(r[4]=e=>l(le).insuredPersonVO.gender=e),label:"性别",name:"gender",columns:l(fe),required:""},null,8,["modelValue","columns"])])),_:1},8,["model"]),(s(!0),f(v,null,P(l(le).proposalInsuredProductList,((e,o)=>(s(),t(p,{key:`${e.nanoid}_${o}_${e.productCode}`,class:"product-item-card","show-line":!1,"show-divider":!1},{default:a((()=>{var o;return[i(Se,{"product-risk-list":e.proposalProductRiskList,"product-info":e,"product-num":(null==(o=l(le).proposalInsuredProductList)?void 0:o.length)-1,"product-data":l(ie).productCollection[e.productCode],"error-msg":l(le).productErrorMap[e.productCode],onAddRiderRisk:we,onUpdateRisk:De,onDeleteRisk:_e},null,8,["product-risk-list","product-info","product-num","product-data","error-msg"])]})),_:2},1024)))),128)),d("div",qe,[i(m,{activated:"",round:34,onClick:Ce},{default:a((()=>[u("添加产品")])),_:1})])]),d("div",Fe,[d("span",$e,[u("总保费"),d("span",Ae,V(l(Pe)?"-":`￥${null==(e=l(Le))?void 0:e.toLocaleString()}`),1)]),d("div",Be,[i(L,{disabled:l(Pe),type:"primary",onClick:Te},{default:a((()=>[u("保存并预览")])),_:1},8,["disabled"])])]),i(b,{show:l(h),"onUpdate:show":r[5]||(r[5]=e=>k(h)?h.value=e:null),actions:o,"cancel-text":"取消","close-on-click-action":"",onCancel:r[6]||(r[6]=e=>l(C)(!1)),onSelect:Ne},null,8,["show"]),i(ne,{ref_key:"trialPopupRef",ref:X,"data-source":l(ve),"product-code":l(le).currentProductCode,"default-data":l(le).defaultData,onFinish:he},null,8,["data-source","product-code","default-data"])]})),_:1})}}}),[["__scopeId","data-v-43e7274a"]]);export{ze as default};
