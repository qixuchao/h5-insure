import{g as B,v as J,r as W,L as H,_ as Z,V as ee,A as i,o as t,E as d,B as r,t as m,i as P,F as R,j as x,J as M,k as a,U as j,G as U,O as $,W as te,H as D,a7 as ne,a8 as oe,h as q,p as K,K as ue}from"./vendor-efd23fdb.js";import{P as re}from"./index-64237d2a.js";import{P as se}from"./index-bfa23378.js";import{_ as F}from"./index-4efca34e.js";import{w as ae,n as ie}from"./pdf.worker.entry-3dcc1cf9.js";import{p as G}from"./pdf_viewer-2bdec52c.js";import{g as le,s as ce}from"./inform-3f10446d.js";import{s as de}from"./useStorage-e12737d1.js";import"./index-bdead608.js";const pe={class:"problem"},_e={class:"footer-button"},me=D("\u63D0\u4EA4"),ve=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S,y=J(),n=W([]),{questionnaireType:p}=y.query,E={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},T=H({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:f,checked:s,modelValue:k,inputValue:o}=Z(T),I=_=>{console.log(n.value[_].toggle),n.value[_].toggle()},b=_=>_?JSON.parse(_).map(e=>({title:e.value,value:e.uid})):[],w=()=>{v("onSubmitCurrentStatus",1)};return ee(()=>{n.value=[]}),(_,e)=>{const u=i("van-radio"),C=i("van-cell"),g=i("van-cell-group"),h=i("van-radio-group"),Q=i("van-checkbox"),N=i("van-checkbox-group"),Y=i("van-field"),z=i("van-button"),X=i("ProPageWrap");return t(),d(X,{class:"com-quersion"},{default:r(()=>[m(re,{title:`${E[a(p)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:r(()=>[(t(!0),P(U,null,R(l.currentPageInfo,(V,L)=>(t(),P("div",{key:L,class:"question-item"},[x("div",pe,M(L+1)+". "+M(V.title),1),V.questionType===1?(t(),d(h,{key:0,modelValue:a(f),"onUpdate:modelValue":e[0]||(e[0]=c=>j(f)?f.value=c:null)},{default:r(()=>[m(g,{inset:""},{default:r(()=>[(t(!0),P(U,null,R(b(V.options),(c,A)=>(t(),d(C,{key:A,title:c.title,clickable:"",onClick:O=>f.value=c.value},{"right-icon":r(()=>[m(u,{name:c.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):$("",!0),V.questionType===2?(t(),d(N,{key:1,modelValue:a(s),"onUpdate:modelValue":e[2]||(e[2]=c=>j(s)?s.value=c:null)},{default:r(()=>[m(g,{inset:""},{default:r(()=>[(t(!0),P(U,null,R(b(V.options),(c,A)=>(t(),d(C,{key:c.uid,clickable:"",title:c.title,onClick:O=>I(A)},{"right-icon":r(()=>[m(Q,{ref_for:!0,ref:O=>n.value[A]=O,shape:"square",name:c.value,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):$("",!0),V.questionType===3?(t(),d(se,{key:2,"model-value":a(k),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):$("",!0),V.questionType===4?(t(),d(g,{key:3,inset:""},{default:r(()=>[m(Y,{modelValue:a(o),"onUpdate:modelValue":e[3]||(e[3]=c=>j(o)?o.value=c:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):$("",!0)]))),128))]),_:1},8,["title"]),x("div",_e,[m(z,{type:"primary",block:"",onClick:w},{default:r(()=>[me]),_:1})])]),_:1})}}});var fe=F(ve,[["__scopeId","data-v-1b2662a1"]]);const ge={class:"title"},ye={class:"content"},ke={class:"footer-button"},be=D("\u4E86\u89E3\u5E76\u7EE7\u7EED"),Ce=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;return(y,n)=>{const p=i("van-button"),E=i("ProPageWrap"),T=ne("dompurify-html");return t(),d(E,{class:"com-document"},{default:r(()=>{var f,s;return[x("div",ge,M((f=l.currentPageInfo[0])==null?void 0:f.title),1),oe(x("div",ye,null,512),[[T,(s=l.currentPageInfo[0])==null?void 0:s.content]]),x("div",ke,[m(p,{type:"primary",onClick:n[0]||(n[0]=k=>v("onSubmitCurrentStatus",1))},{default:r(()=>[be]),_:1})])]}),_:1})}}});var he=F(Ce,[["__scopeId","data-v-27a7d770"]]);const Se={class:"com-pdf-viewer"},Ee=["id","isee_pdf"],Ie={class:"footer-button"},Pe=D("\u90E8\u5206\u4E3A\u662F"),$e=D("\u4EE5\u4E0A\u7686\u5426"),xe=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;G.exports.GlobalWorkerOptions.workerSrc=ae;const y=ie(),n=W(!1),p=W(!0),E=q(()=>["png","jpg","jpeg"].some(s=>l.url.includes(s))),T=()=>{const s=document.getElementById(y);if(s.hasChildNodes()){p.value=!1;return}G.exports.getDocument({url:l.url}).promise.then(o=>{const I=o.numPages;for(let b=1;b<=I;b++)o.getPage(b).then(w=>{const _=w.getViewport({scale:1}),e=document.createElement("canvas"),u=e.getContext("2d");e.width=_.width,e.height=_.height,e.style.width="100%",s.append(e);const C={canvasContext:u,viewport:_};w.render(C),p.value=!1})})},f=async()=>{n.value=!0,setTimeout(()=>{T()},0)};return K(()=>{f()}),(s,k)=>{const o=i("van-image"),I=i("van-button");return t(),P("div",Se,[a(E)?(t(),d(o,{key:0,width:"100%",height:"80vh",fit:"contain",src:l.url},null,8,["src"])):(t(),P("div",{key:1,id:a(y),isee_pdf:s.pdfUrl,class:"pdf-wapper"},null,8,Ee)),x("div",Ie,[m(I,{plain:"",type:"primary",onClick:k[0]||(k[0]=b=>v("onSubmitCurrentStatus",2))},{default:r(()=>[Pe]),_:1}),m(I,{type:"primary",onClick:k[1]||(k[1]=b=>v("onSubmitCurrentStatus",1))},{default:r(()=>[$e]),_:1})])])}}});var Ve=F(xe,[["__scopeId","data-v-4c70488e"]]);const Te={class:"iframe-wrap"},we=["src"],Qe={class:"footer-button"},De=D("\u90E8\u5206\u4E3A\u662F"),qe=D("\u4EE5\u4E0A\u7686\u5426"),Be=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:v}){const l=S;return(y,n)=>{const p=i("van-button");return t(),P("div",Te,[x("iframe",{src:l.url,frameborder:"0"},null,8,we),x("div",Qe,[m(p,{plain:"",type:"primary",onClick:n[0]||(n[0]=E=>v("onSubmitCurrentStatus",2))},{default:r(()=>[De]),_:1}),m(p,{type:"primary",onClick:n[1]||(n[1]=E=>v("onSubmitCurrentStatus",1))},{default:r(()=>[qe]),_:1})])])}}});var Ne=F(Be,[["__scopeId","data-v-1ac7e729"]]);const Ae={class:"com-health-notice"},Je=B({setup(S){const v=ue(),l=J(),y=de.get("questionData"),{questionnaireType:n}=l.query,{orderNo:p="2022021815432987130620",productCode:E="CQ75CQ76",templateId:T=1,orderId:f=13005,tenantId:s=9991000007}=l.query,k={1:4,2:5,3:9},o=H({pageData:{},currentQuestionInfo:[]}),I=q(()=>n==="2"),b=q(()=>{var u;return n==="1"&&[1].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),w=q(()=>{var u;return n==="1"&&[2].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),_=q(()=>{var u;return n==="1"&&[3].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),e=u=>{var h;const{id:C,objectType:g}=y;ce({content:(h=o.currentQuestionInfo[0])==null?void 0:h.content,contentType:n,isDone:u,noticeType:k[g],objectId:C,objectType:g,orderId:f,orderNo:p,tenantId:9991000007}).then(({code:Q,data:N})=>{console.log(Q),Q==="10000"&&v.go(-1)})};return K(()=>{console.log(y);const{insurerCode:u,id:C,objectType:g,productCategory:h}=y;le({insurerCode:u,id:C,objectType:g,productCategory:h,orderNo:p,tenantId:s}).then(({code:Q,data:N})=>{Q==="10000"&&(o.currentQuestionInfo=N)})}),(u,C)=>{var g,h;return t(),P("div",Ae,[a(I)?(t(),d(fe,{key:0,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):$("",!0),a(w)?(t(),d(he,{key:1,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):$("",!0),a(b)?(t(),d(Ve,{key:2,url:(g=a(o).currentQuestionInfo[0])==null?void 0:g.content,onOnSubmitCurrentStatus:e},null,8,["url"])):$("",!0),a(_)?(t(),d(Ne,{key:3,url:(h=a(o).currentQuestionInfo[0])==null?void 0:h.content,onOnSubmitCurrentStatus:e},null,8,["url"])):$("",!0)])}}});export{Je as default};
