import{q as e,a}from"./product-48bec35b.js";import{aE as t,_ as s,d as n,a as o,J as l,r,ac as i,bW as c,E as u,G as d,c as p,h as v,f,w as m,j as h,g,n as w,t as y,k as b,a7 as k,F as C,b3 as _,B as E,a8 as x,aQ as I,X as j,Y as A}from"./index-f03140d4.js";const N=(a,s,n)=>{t((()=>{(async()=>{try{const{code:t,data:n}=await e(a);if("10000"===t){const e={};n.forEach((a=>{e[a.relationCode]||(e[a.relationCode]=[]),e[a.relationCode].push(a)})),null==s||s(e)}}catch(t){console.log(t),null==n||n(!1)}})()}))};const O=e=>{const a=(()=>{const e=new Map;return[{name:"华瑞",ids:[100039,8200000010]},{name:"华润",ids:[9991000001]}].forEach((a=>{a.ids.forEach((t=>{e.set(t,a.name)}))})),e})().get(+e);return a?`本产品由${a}保险销售有限公司销售本页面仅做产品展示，具体承保方案以实际保单约定为准`:""};const q={class:"header"},D=["src"],F={class:"content"},P=(e=>(j("data-v-69c82ca4"),e=e(),A(),e))((()=>h("h4",null,"温馨提示，您已进入投保流程：",-1))),S={class:"statement"},T={class:"footer"},B={key:0},G={class:"review-pdf"};var J=s(n({__name:"index",props:{productDetail:{type:Object,default:()=>{}}},setup(e){const t=e,s=o(),{tenantId:n=""}=s.query,j=l({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),A=r(!1),N=r(!1),J=new i({source:"sessionStorage"}),L=c({time:4e3,onFinish:()=>{J.set("PRENOTICE-isShow","1")}}),M=r({title:"",link:""}),Q=u((()=>L.current.value.seconds)),R=u((()=>{if(M.value.link){const e=(M.value.link||"").split("?"),a=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",a),"pdf"===a?"pdf":"picture"}return"link"})),U=()=>{A.value=!1};return d((()=>{(async()=>{const{code:e,data:s}=await a({insureCode:t.productDetail.insurerCode,tenantId:n});"10000"===e&&(j.insureConfig=s,_((()=>{L.start()}))),A.value=!0})(),j.statement=O(n)})),(e,a)=>{var t;const s=E,n=x,o=I;return p(),v(C,null,[f(n,{class:"pre-notice-wrap",show:g(A),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:m((()=>{var e;return[h("div",q,[h("img",{src:g("/static/assets/header-logo.f6f405b0.png")},null,8,D)]),h("div",F,[P,h("p",null,[w(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),h("span",{class:"file-name",onClick:a[0]||(a[0]=e=>((e,a)=>{var t;N.value=!N.value,M.value.link=null==(t=j.insureConfig)?void 0:t[a].link,M.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+y((null==(e=g(j).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),w(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),h("abbr",S,y(g(j).statement),1),h("div",T,[f(s,{type:"primary",block:"",round:"",onClick:U},{default:m((()=>[w(" 好的 "),g(Q)?(p(),v("span",B,y(g(Q))+"s",1)):b("",!0)])),_:1})])]})),_:1},8,["show"]),f(n,{show:g(N),"onUpdate:show":a[1]||(a[1]=e=>k(N)?N.value=e:null),class:"pre-notice-wrap",title:null==(t=g(M))?void 0:t.title,position:"bottom",style:{overflow:"hidden"}},{default:m((()=>{var e;return[h("div",G,[f(o,{content:null==(e=g(M))?void 0:e.link,type:g(R)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-69c82ca4"]]);export{J as P,N as u};
