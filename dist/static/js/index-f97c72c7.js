var ne=Object.defineProperty,te=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var G=(C,V,t)=>V in C?ne(C,V,{enumerable:!0,configurable:!0,writable:!0,value:t}):C[V]=t,j=(C,V)=>{for(var t in V||(V={}))de.call(V,t)&&G(C,t,V[t]);if(Z)for(var t of Z(V))se.call(V,t)&&G(C,t,V[t]);return C},W=(C,V)=>te(C,re(V));import{g as $,C as P,x as Q,r as B,h as a,m as L,z as l,j as r,k as I,n as m,s as d,d as X,X as U,y as D,E as J,I as T,F as K,B as O,ae as ie,Q as me,a5 as fe,L as pe,o as Ie}from"./vendor-89e50ef2.js";import{C as Y,n as ee,F as M,_ as ce,s as ve,P as ye}from"./index-b98bfe67.js";import{c as Ve,n as Be,a as be}from"./index-e009ac36.js";import{u as Fe}from"./useDicData-cffa9831.js";const Ee=[{label:"\u672C\u4EBA",value:"0"},{label:"\u914D\u5076",value:"1"},{label:"\u5B50\u5973",value:"2"},{label:"\u7236\u6BCD",value:"3"}],Ae=[{label:"\u6CD5\u4EBA",value:"1"},{label:"\u6307\u5B9A",value:"2"}],Ce=[{label:"\u672C\u4EBA",value:"1"},{label:"\u914D\u5076",value:"2"},{label:"\u5B50\u5973",value:"3"},{label:"\u7236\u6BCD",value:"4"},{label:"\u7956\u7236\u6BCD",value:"5"},{label:"\u517B\u7236\u6BCD",value:"6"},{label:"\u96C7\u4F63",value:"7"},{label:"\u5B59\u5B50\u5973",value:"8"},{label:"\u76D1\u62A4\u4EBA",value:"9"},{label:"\u5176\u4ED6",value:"10"}],De={class:"com-beneficiary-wrapper"},ke=$({props:{formInfo:{default:()=>({})},factorList:null},setup(C){const V=C,t=P({formInfo:V.formInfo}),E=Q(()=>{const b={};return V.factorList.forEach(e=>{(b[e.code]=b[e.code]||[]).push(e)}),b});return(b,e)=>{const s=B("ProRadioButton"),v=B("ProField"),o=B("ProPicker"),k=B("ProDatePicker");return a(),L("div",De,[l(E).relationToInsured?(a(),r(v,{key:0,modelValue:t.value.formInfo.relationToInsured,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.formInfo.relationToInsured=n),name:"relationToInsured",required:"",label:"\u662F\u88AB\u4FDD\u4EBA\u7684"},{input:I(()=>[m(s,{modelValue:t.value.formInfo.relationToInsured,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.formInfo.relationToInsured=n),options:l(Ce)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),l(E).certType?(a(),r(o,{key:1,modelValue:t.value.formInfo.certType,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.formInfo.certType=n),label:"\u8BC1\u4EF6\u7C7B\u578B",name:"certType",readonly:"","data-source":l(Y),required:""},null,8,["modelValue","data-source"])):d("",!0),l(E).certNo?(a(),r(v,{key:2,modelValue:t.value.formInfo.certNo,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.formInfo.certNo=n),name:"certNo",required:"",label:"\u8BC1\u4EF6\u53F7\u7801"},null,8,["modelValue"])):d("",!0),l(E).name?(a(),r(v,{key:3,modelValue:t.value.formInfo.name,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.formInfo.name=n),required:"",name:"name",label:"\u59D3\u540D"},null,8,["modelValue"])):d("",!0),l(E).gender?(a(),r(v,{key:4,modelValue:t.value.formInfo.gender,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value.formInfo.gender=n),required:"",name:"gender",label:"\u6027\u522B"},{input:I(()=>[m(s,{modelValue:t.value.formInfo.gender,"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.formInfo.gender=n),options:l(ee)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),l(E).birthday?(a(),r(k,{key:5,modelValue:t.value.formInfo.birthday,"onUpdate:modelValue":e[7]||(e[7]=n=>t.value.formInfo.birthday=n),label:"\u51FA\u751F\u65E5\u671F",name:"birthday",required:""},null,8,["modelValue"])):d("",!0),l(E).certEndDate?(a(),r(k,{key:6,modelValue:t.value.formInfo.certEndDate,"onUpdate:modelValue":e[8]||(e[8]=n=>t.value.formInfo.certEndDate=n),label:"\u6709\u6548\u671F\u81F3",name:"certEndDate",required:""},null,8,["modelValue"])):d("",!0),l(E).country?(a(),r(o,{key:7,modelValue:t.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":e[9]||(e[9]=n=>t.value.formInfo.extInfo.nationalityCode=n),label:"\u56FD\u7C4D",name:"nationalityCode","data-source":l(Y),required:""},null,8,["modelValue","data-source"])):d("",!0),l(E).beneficiaryType?(a(),r(o,{key:8,modelValue:t.value.formInfo.benefitOrder,"onUpdate:modelValue":e[10]||(e[10]=n=>t.value.formInfo.benefitOrder=n),label:"\u53D7\u76CA\u4EBA\u987A\u5E8F",name:"benefitOrder","data-source":l(Y),required:""},null,8,["modelValue","data-source"])):d("",!0),m(v,{modelValue:t.value.formInfo.benefitRate,"onUpdate:modelValue":e[11]||(e[11]=n=>t.value.formInfo.benefitRate=n),name:"benefitRate",label:"\u53D7\u76CA\u6BD4\u4F8B"},null,8,["modelValue"])])}}}),xe={class:"com-personal-wrapper"},z=$({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},images:{default:()=>[]}},emits:["update:images"],setup(C,{emit:V}){const t=C,E=Fe("CERT_TYPE"),b=P([]),e=P({formInfo:t.formInfo,birth:{min:X(new Date("1900-01-01")).format("YYYY-MM-DD"),max:X(new Date).format("YYYY-MM-DD")},front:"",back:""}),s=Q(()=>{const v={};return t.factorList.forEach(o=>{(v[o.code]=v[o.code]||[]).push(o)}),v});return U(()=>e.value.formInfo,v=>{console.log("newVal",v)},{deep:!0,immediate:!0}),U(()=>t.images,v=>{b.value=v},{immediate:!0}),U(b,v=>{console.log("val",v),V("update:images",v)},{deep:!0}),(v,o)=>{const k=B("ProPicker"),n=B("ProIDCardUpload"),i=B("ProField"),x=B("ProImageUpload"),g=B("ProRadioButton"),A=B("ProDatePicker");return a(),L("div",xe,[l(s).certType?(a(),r(k,{key:0,modelValue:e.value.formInfo.certType,"onUpdate:modelValue":o[0]||(o[0]=u=>e.value.formInfo.certType=u),label:"\u8BC1\u4EF6\u7C7B\u578B",name:"certType",readonly:"","data-source":l(E),mapping:{label:"name",value:"code",children:"child"},required:""},null,8,["modelValue","data-source"])):d("",!0),e.value.formInfo.certType+""=="1"?(a(),r(i,{key:1,label:"\u8EAB\u4EFD\u8BC1\u4E0A\u4F20",block:"",required:""},{input:I(()=>[m(n,{front:b.value[0],"onUpdate:front":o[1]||(o[1]=u=>b.value[0]=u),back:b.value[1],"onUpdate:back":o[2]||(o[2]=u=>b.value[1]=u)},null,8,["front","back"])]),_:1})):d("",!0),e.value.formInfo.certType&&e.value.formInfo.certType+""!="1"?(a(),r(i,{key:2,label:"\u8BC1\u4EF6\u4E0A\u4F20",block:"",required:""},{input:I(()=>[m(x,{modelValue:b.value,"onUpdate:modelValue":o[3]||(o[3]=u=>b.value=u),"max-count":1},null,8,["modelValue"])]),_:1})):d("",!0),l(s).certNo?(a(),r(i,{key:3,modelValue:e.value.formInfo.certNo,"onUpdate:modelValue":o[4]||(o[4]=u=>e.value.formInfo.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).name?(a(),r(i,{key:4,modelValue:e.value.formInfo.name,"onUpdate:modelValue":o[5]||(o[5]=u=>e.value.formInfo.name=u),label:"\u59D3\u540D",name:"name",required:""},null,8,["modelValue"])):d("",!0),l(s).sex?(a(),r(i,{key:5,modelValue:e.value.formInfo.gender,"onUpdate:modelValue":o[7]||(o[7]=u=>e.value.formInfo.gender=u),required:"",label:"\u6027\u522B",name:"gender",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[m(g,{modelValue:e.value.formInfo.gender,"onUpdate:modelValue":o[6]||(o[6]=u=>e.value.formInfo.gender=u),options:l(ee)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),l(s).birthday?(a(),r(A,{key:6,modelValue:e.value.formInfo.birthday,"onUpdate:modelValue":o[8]||(o[8]=u=>e.value.formInfo.birthday=u),label:"\u51FA\u751F\u65E5\u671F",name:"birthday",min:e.value.birth.min,max:e.value.birth.max,type:"date",required:""},null,8,["modelValue","min","max"])):d("",!0),l(s).certEndDate?(a(),r(A,{key:7,modelValue:e.value.formInfo.certEndDate,"onUpdate:modelValue":o[9]||(o[9]=u=>e.value.formInfo.certEndDate=u),label:"\u6709\u6548\u671F\u81F3",name:"certEndDate",type:"date",required:""},null,8,["modelValue"])):d("",!0),m(i,{label:"\u6237\u7C4D\u6240\u5728\u5730",name:"type",placeholder:"\u8BF7\u9009\u62E9","is-link":""}),l(s).hasSocialInsurance?(a(),r(i,{key:8,modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[11]||(o[11]=u=>e.value.formInfo.extInfo.hasSocialInsurance=u),label:"\u793E\u4FDD",name:"hasSocialInsurance",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[m(g,{modelValue:e.value.formInfo.extInfo.hasSocialInsurance,"onUpdate:modelValue":o[10]||(o[10]=u=>e.value.formInfo.extInfo.hasSocialInsurance=u),options:l(M)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),l(s).occupation?(a(),r(i,{key:9,modelValue:e.value.formInfo.extInfo.occupationCode,"onUpdate:modelValue":o[12]||(o[12]=u=>e.value.formInfo.extInfo.occupationCode=u),label:"\u804C\u4E1A",name:"occupationCode",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),l(s).annualIncome?(a(),r(i,{key:10,modelValue:e.value.formInfo.extInfo.personalAnnualIncome,"onUpdate:modelValue":o[13]||(o[13]=u=>e.value.formInfo.extInfo.personalAnnualIncome=u),label:"\u4E2A\u4EBA\u5E74\u6536\u5165",name:"personalAnnualIncome",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).familyAnnualIncome?(a(),r(i,{key:11,modelValue:e.value.formInfo.extInfo.familyAnnualIncome,"onUpdate:modelValue":o[14]||(o[14]=u=>e.value.formInfo.extInfo.familyAnnualIncome=u),label:"\u5BB6\u5EAD\u5E74\u6536\u5165",name:"familyAnnualIncome",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).nation?(a(),r(i,{key:12,modelValue:e.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":o[15]||(o[15]=u=>e.value.formInfo.extInfo.nationalityCode=u),label:"\u56FD\u7C4D",name:"nationalityCode",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),l(s).marriage?(a(),r(i,{key:13,modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":o[17]||(o[17]=u=>e.value.formInfo.extInfo.hasUsCard=u),label:"\u7F8E\u56FD\u7EFF\u5361",name:"hasUsCard",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[m(g,{modelValue:e.value.formInfo.extInfo.hasUsCard,"onUpdate:modelValue":o[16]||(o[16]=u=>e.value.formInfo.extInfo.hasUsCard=u),options:l(M)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0),l(s).marriage?(a(),r(i,{key:14,modelValue:e.value.formInfo.extInfo.marriageStatus,"onUpdate:modelValue":o[18]||(o[18]=u=>e.value.formInfo.extInfo.marriageStatus=u),label:"\u5A5A\u59FB\u72B6\u51B5",name:"marriageStatus",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),l(s).educationDegree?(a(),r(i,{key:15,modelValue:e.value.formInfo.extInfo.educationDegree,"onUpdate:modelValue":o[19]||(o[19]=u=>e.value.formInfo.extInfo.educationDegree=u),label:"\u5B66\u5386",name:"educationDegree",placeholder:"\u8BF7\u9009\u62E9","is-link":""},null,8,["modelValue"])):d("",!0),l(s).mobile?(a(),r(i,{key:16,modelValue:e.value.formInfo.mobile,"onUpdate:modelValue":o[20]||(o[20]=u=>e.value.formInfo.mobile=u),label:"\u624B\u673A\u53F7\u7801",name:"mobile",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).email?(a(),r(i,{key:17,modelValue:e.value.formInfo.email,"onUpdate:modelValue":o[21]||(o[21]=u=>e.value.formInfo.email=u),label:"\u7535\u5B50\u90AE\u7BB1",name:"email",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).familyAddress?(a(),r(i,{key:18,label:"\u5BB6\u5EAD\u5730\u5740",name:"type",placeholder:"\u8BF7\u9009\u62E9"})):d("",!0),l(s).familyAddressDetail?(a(),r(i,{key:19,modelValue:e.value.formInfo.extInfo.familyAddress,"onUpdate:modelValue":o[22]||(o[22]=u=>e.value.formInfo.extInfo.familyAddress=u),label:"\u5730\u5740\u8BE6\u60C5",name:"familyAddress",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).familyPostCode?(a(),r(i,{key:20,modelValue:e.value.formInfo.extInfo.familyZipCode,"onUpdate:modelValue":o[23]||(o[23]=u=>e.value.formInfo.extInfo.familyZipCode=u),label:"\u5BB6\u5EAD\u90AE\u7F16",name:"familyZipCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).workAddress?(a(),r(i,{key:21,label:"\u5DE5\u4F5C\u5730\u5740",name:"type",placeholder:"\u8BF7\u9009\u62E9"})):d("",!0),l(s).workAddressDetail?(a(),r(i,{key:22,modelValue:e.value.formInfo.extInfo.workAddress,"onUpdate:modelValue":o[24]||(o[24]=u=>e.value.formInfo.extInfo.workAddress=u),label:"\u5730\u5740\u8BE6\u60C5",name:"workAddress",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).workZipCode?(a(),r(i,{key:23,modelValue:e.value.formInfo.extInfo.workZipCode,"onUpdate:modelValue":o[25]||(o[25]=u=>e.value.formInfo.extInfo.workZipCode=u),label:"\u5DE5\u4F5C\u90AE\u7F16",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).workPlace?(a(),r(i,{key:24,modelValue:e.value.formInfo.extInfo.workStation,"onUpdate:modelValue":o[26]||(o[26]=u=>e.value.formInfo.extInfo.workStation=u),label:"\u5355\u4F4D\u540D\u79F0",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).workContent?(a(),r(i,{key:25,modelValue:e.value.formInfo.extInfo.workContent,"onUpdate:modelValue":o[27]||(o[27]=u=>e.value.formInfo.extInfo.workContent=u),label:"\u5DE5\u4F5C\u5185\u5BB9",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).taxCert?(a(),r(i,{key:26,modelValue:e.value.formInfo.extInfo.taxResident,"onUpdate:modelValue":o[28]||(o[28]=u=>e.value.formInfo.extInfo.taxResident=u),label:"\u7A0E\u6536\u5C45\u6C11\u8EAB\u4EFD",name:"workPostCode",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):d("",!0),l(s).partTime?(a(),r(i,{key:27,modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":o[30]||(o[30]=u=>e.value.formInfo.extInfo.isPartTime=u),label:"\u662F\u5426\u517C\u804C",name:"isPartTime",placeholder:"\u8BF7\u8F93\u5165"},{input:I(()=>[m(g,{modelValue:e.value.formInfo.extInfo.isPartTime,"onUpdate:modelValue":o[29]||(o[29]=u=>e.value.formInfo.extInfo.isPartTime=u),options:l(M)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):d("",!0)])}}});const ge={class:"com-select-container"},Pe={class:"radio-item-wrapper"},_e={class:"name"},Te={class:"hone"},Le={class:"address"},Ue={class:"footer-button"},Oe=O("\u53D6\u6D88"),Ne=O("\u786E\u8BA4"),Re=$({props:{dataSource:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:null}},emits:["update","submit"],setup(C,{emit:V}){const t=C,E=P(null),b=P(t.show),e=()=>{V("submit",E.value),b.value=!1};return U(()=>t.modelValue,s=>{E.value=s}),U(b.value,s=>{V("update:show",s)}),(s,v)=>{const o=B("van-radio"),k=B("van-radio-group"),n=B("VanButton");return a(),r(ve,{show:b.value,"onUpdate:show":v[1]||(v[1]=i=>b.value=i),class:"com-select",title:"\u9009\u62E9\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"},{default:I(()=>[D("div",ge,[m(k,{modelValue:E.value,"onUpdate:modelValue":v[0]||(v[0]=i=>E.value=i)},{default:I(()=>[(a(!0),L(K,null,J(C.dataSource,(i,x)=>(a(),r(o,{key:x,name:x+1,class:"radio-item"},{default:I(()=>[D("div",Pe,[D("p",null,[D("span",_e,T(i.contactName),1),D("span",Te,T(i.contactPhoneNo),1)]),D("p",Le,T(i.contactAddress),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),D("div",Ue,[m(n,{plain:"",type:"primary"},{default:I(()=>[Oe]),_:1}),m(n,{type:"primary",onClick:e},{default:I(()=>[Ne]),_:1})])]),_:1},8,["show"])}}});var we=ce(Re,[["__scopeId","data-v-a625d614"]]);const Se={key:0,class:"beneficiary-part"},qe={class:"part-title"},He={class:"title"},he=O("\u5220\u9664"),$e=O("+\u6DFB\u52A0\u53D7\u76CA\u4EBA"),je=O("\u9009\u62E9\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"),Ye={class:"radio-item-wrapper"},Me={class:"name"},Ze={class:"hone"},Ge={class:"address"},We={class:"footer-button"},Xe=O("\u4E0B\u4E00\u6B65"),uo=$({setup(C){const V=ie(),t=me(),{templateId:E=1,orderNo:b="2022072710380711215",tenantId:e="9991000007"}=t.query,[s,v]=fe(),o=t.path==="/infoPreview"?"infoPreview":"infoCollection",k=P({}),n=P({extInfo:{pageCode:o},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{},tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0}}),i=P(null),x=P([]),g=P([]),A=pe({beneficiaryId:0,addressList:[],nextPage:"",currentAddress:null,isLoading:!0}),u=()=>{const c=j({},n.value);c.tenantOrderAttachmentList=[{category:2,objectType:2,name:"\u6295\u4FDD\u4EBA\u8BC1\u4EF6\u6B63\u9762",uri:x.value[0]},{category:3,objectType:2,name:"\u6295\u4FDD\u4EBA\u8BC1\u4EF6\u80CC\u9762",uri:x.value[1]},{category:2,objectType:3,name:"\u88AB\u4FDD\u4EBA\u8BC1\u4EF6\u6B63\u9762",uri:g.value[0]},{category:2,objectType:3,name:"\u88AB\u4FDD\u4EBA\u8BC1\u4EF6\u80CC\u9762",uri:g.value[1]}],Be(c).then(({code:f,data:p})=>{f==="10000"&&p.pageAction.pageAction==="jumpToPage"&&V.push({path:ye[p.pageAction.data.nextPageCode],query:t.query})})},oe=c=>{console.log("value",c)},ue=()=>{A.beneficiaryId+=1,n.value.tenantOrderInsuredList[0].beneficiaryReqList.push({id:A.beneficiaryId,extInfo:{}})},le=c=>{n.value.tenantOrderInsuredList[0].beneficiaryReqList=n.value.tenantOrderInsuredList[0].beneficiaryReqList.filter(f=>f.beneficiaryId!==c.beneficiaryId)},ae=()=>{be({orderNo:b,tenantId:e}).then(({code:c,data:f})=>{if(c==="10000"){const p=f;p.extInfo=W(j({},p.extInfo),{pageCode:o,templateId:E}),p.tenantOrderHolder=p.tenantOrderHolder||{},p.tenantOrderHolder.extInfo=p.tenantOrderHolder.extInfo||{},p.tenantOrderInsuredList[0].extInfo=p.tenantOrderInsuredList[0].extInfo||{},p.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=p.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.map(y=>{const _=y;return _.extInfo={},_}),p.tenantOrderAttachmentList.forEach(y=>{y.category,y.objectType,y.category===2?y.objectType===2?x[0]=y.uri:y.objectType===3&&(g[0]=y.uri):y.category===3&&(y.objectType===2?x[1]=y.uri:y.objectType===3&&(g[1]=y.uri))}),Object.assign(n.value,p)}}).finally(()=>{A.isLoading=!1})};return Ie(()=>{ae(),Ve({pageCode:"infoCollection",templateId:E}).then(({code:c,data:f})=>{if(c==="10000"){const p={BENEFICIARY:[],INSURER:[],HOLDER:[]};f.productInsureFactorList.forEach(y=>{(p[y.moduleType]=p[y.moduleType]||[]).push(y)}),k.value=p}})}),U(()=>n.value,c=>{var f,p,y,_,w,N,S,q,H,h;if(c){const F=[{contactAddress:((p=(f=c.tenantOrderHolder)==null?void 0:f.extInfo)==null?void 0:p.familyAddress)||1231123,contactName:c.tenantOrderHolder.name||123131,contactPhoneNo:c.tenantOrderHolder.mobile||123132},{contactAddress:(_=(y=c.tenantOrderHolder)==null?void 0:y.extInfo)==null?void 0:_.workAddress,contactName:c.tenantOrderHolder.name,contactPhoneNo:c.tenantOrderHolder.mobile},{contactAddress:(N=(w=c.tenantOrderInsuredList[0])==null?void 0:w.extInfo)==null?void 0:N.familyAddress,contactName:(S=c.tenantOrderInsuredList[0])==null?void 0:S.name,contactPhoneNo:(q=c.tenantOrderInsuredList[0])==null?void 0:q.mobile},{contactAddress:(h=(H=c.tenantOrderInsuredList[0])==null?void 0:H.extInfo)==null?void 0:h.workAddress,contactName:c.tenantOrderInsuredList[0].name,contactPhoneNo:c.tenantOrderInsuredList[0].mobile}];A.addressList=F.filter(R=>R.contactAddress&&R.contactName&&R.contactPhoneNo)}},{deep:!0,immediate:!0}),(c,f)=>{const p=B("ProCard"),y=B("ProRadioButton"),_=B("ProField"),w=B("ProSvg"),N=B("VanButton"),S=B("ProCheckButton"),q=B("van-cell"),H=B("ProForm"),h=B("ProPageWrap");return a(),r(h,{class:"page-info-wrapper"},{default:I(()=>[l(A).isLoading?d("",!0):(a(),r(H,{key:0,ref_key:"formRef",ref:i},{default:I(()=>[m(p,{title:"\u6295\u4FDD\u4EBA"},{default:I(()=>[m(z,{images:x.value,"onUpdate:images":f[0]||(f[0]=F=>x.value=F),"form-info":n.value.tenantOrderHolder,"factor-list":k.value.HOLDER},null,8,["images","form-info","factor-list"])]),_:1}),m(p,{title:"\u88AB\u4FDD\u4EBA"},{default:I(()=>[m(_,{modelValue:n.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":f[2]||(f[2]=F=>n.value.tenantOrderInsuredList[0].relationToHolder=F),label:"\u4E3A\u8C01\u4FDD\u5355",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[m(y,{modelValue:n.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":f[1]||(f[1]=F=>n.value.tenantOrderInsuredList[0].relationToHolder=F),options:l(Ee)},null,8,["modelValue","options"])]),_:1},8,["modelValue"]),n.value.tenantOrderInsuredList[0].relationToHolder!=="0"?(a(),r(z,{key:0,images:g.value,"onUpdate:images":f[3]||(f[3]=F=>g.value=F),"form-info":n.value.tenantOrderInsuredList[0],"factor-list":k.value.INSURER||[]},null,8,["images","form-info","factor-list"])):d("",!0),m(_,{label:"\u6295\u4FDD\u5730\u533A",name:"type",placeholder:"\u8BF7\u9009\u62E9","is-link":""})]),_:1}),m(p,{title:"\u53D7\u76CA\u4EBA"},{default:I(()=>[m(_,{modelValue:n.value.tenantOrderInsuredList[0].beneficiaryType,"onUpdate:modelValue":f[5]||(f[5]=F=>n.value.tenantOrderInsuredList[0].beneficiaryType=F),label:"\u53D7\u76CA\u4EBA\u7C7B\u578B",name:"beneficiaryType",placeholder:"\u8BF7\u9009\u62E9"},{input:I(()=>[m(y,{modelValue:n.value.tenantOrderInsuredList[0].beneficiaryType,"onUpdate:modelValue":f[4]||(f[4]=F=>n.value.tenantOrderInsuredList[0].beneficiaryType=F),options:l(Ae)},null,8,["modelValue","options"])]),_:1},8,["modelValue"]),n.value.tenantOrderInsuredList[0].beneficiaryType==2?(a(),L("div",Se,[(a(!0),L(K,null,J(n.value.tenantOrderInsuredList[0].beneficiaryReqList,(F,R)=>(a(),L("div",{key:F.beneficiaryId,class:"beneficiary-item"},[D("div",qe,[D("span",He,T(`\u53D7\u76CA\u4EBA${R+1}`),1),m(w,{name:"delete",onClick:ze=>le(F)},{default:I(()=>[he]),_:2},1032,["onClick"])]),m(ke,{"form-info":F,"factor-list":k.value.BENEFICIARY},null,8,["form-info","factor-list"])]))),128)),m(N,{onClick:ue},{default:I(()=>[$e]),_:1})])):d("",!0)]),_:1}),m(p,{title:"\u4FDD\u5355\u901A\u8BAF\u4FE1\u606F"},{default:I(()=>[l(A).currentAddress?(a(),r(q,{key:1,title:"\u5355\u5143\u683C","is-link":""},{title:I(()=>[D("div",Ye,[D("p",null,[D("span",Me,T(l(A).addressList[l(A).currentAddress-1].contactName),1),D("span",Ze,T(l(A).addressList[l(A).currentAddress-1].contactPhoneNo),1)]),D("p",Ge,T(l(A).addressList[l(A).currentAddress-1].contactAddress),1)])]),_:1})):(a(),r(S,{key:0,activated:"",onClick:f[6]||(f[6]=F=>l(v)(!0))},{default:I(()=>[je]),_:1}))]),_:1})]),_:1},512)),D("div",We,[m(N,{block:"",type:"primary",onClick:u},{default:I(()=>[Xe]),_:1})]),m(we,{modelValue:l(A).currentAddress,"onUpdate:modelValue":f[7]||(f[7]=F=>l(A).currentAddress=F),show:l(s),"data-source":l(A).addressList,onSubmit:oe},null,8,["modelValue","show","data-source"])]),_:1})}}});export{uo as default};
