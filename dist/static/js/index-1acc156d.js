import{_ as e,d as a,r as l,E as o,G as i,an as u,c as t,h as n,e as s,w as d,j as r,f as m,g as p,k as c,t as v,y,m as V,ap as f,a as g,J as k,i as b,F as D,a2 as x,bT as C,b8 as h}from"./index-b8ef7d55.js";import{S as _}from"./index-864c4640.js";import{c as K,t as U,P as w,l as F}from"./index-58321d46.js";const L={key:0},I={class:"custom-field"},P={key:1,class:"flex-field"},S={class:"pro-radio-wrap"},j={key:2},q={class:"pro-radio-wrap"},A={class:"custom-field"},O={key:1},R={key:3},T={class:"custom-field"},$={key:1};var E=e(a({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})}},setup(e){const a=e;console.log("baoebaofei  = ",a.originData);const g=l(a.originData),k=l(a.modelValue),b=l(1),D=()=>{const{displayType:e,requireCopies:a}=g.value;1===e?b.value=1:3===e&&2===a?b.value=2:3===e&&1===a?(b.value=3,g.value.minCopiesValue===g.value.maxCopiesValue&&(k.value.copy=g.value.minCopiesValue)):2===e&&(b.value=4,g.value.minCopiesValue===g.value.maxCopiesValue&&(k.value.copy=g.value.minCopiesValue))},x=o((()=>{var e;return 2===(null==(e=null==a?void 0:a.originData)?void 0:e.saleMethod)?{label:"保费",key:"premium"}:{label:"保额",key:"amount"}})),C=o((()=>g.value.displayValues?(1===g.value.displayValues.length&&(k.value[x.key]=g.value.displayValues[0].value),g.value.displayValues.map((e=>({label:e.value,value:e.code})))):[])),h=()=>{console.log("-------------------",k.value)};return i((()=>{D()})),u((()=>g),(e=>{D()}),{deep:!0}),(a,l)=>{const o=_,i=y,u=V,g=f;return 1===b.value?(t(),n("div",L,[1===e.originData.saleMethod?(t(),s(i,{key:0,modelValue:k.value[p(x).key],"onUpdate:modelValue":l[1]||(l[1]=e=>k.value[p(x).key]=e),label:`基本${p(x).label}`,name:p(x).key,class:"risk-select-field"},{input:d((()=>[r("div",I,[m(o,{modelValue:k.value[p(x).key],"onUpdate:modelValue":l[0]||(l[0]=e=>k.value[p(x).key]=e),"input-width":"80px","default-value":e.originData.minStepValue,min:e.originData.minStepValue,step:e.originData.stepValue,max:e.originData.maxStepValue},null,8,["modelValue","default-value","min","step","max"])])])),_:1},8,["modelValue","label","name"])):c("",!0)])):2===b.value?(t(),n("div",P,[m(g,{modelValue:k.value[p(x).key],"onUpdate:modelValue":l[3]||(l[3]=e=>k.value[p(x).key]=e),label:`基本${p(x).label}`,name:p(x).key,class:"risk-select-field"},{input:d((()=>[r("div",S,[m(u,{modelValue:k.value[p(x).key],"onUpdate:modelValue":l[2]||(l[2]=e=>k.value[p(x).key]=e),options:p(C),onclick:h},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"])])):3===b.value?(t(),n("div",j,[m(g,{modelValue:k.value[p(x).key],"onUpdate:modelValue":l[5]||(l[5]=e=>k.value[p(x).key]=e),label:`基本${p(x).label}`,name:p(x).key,class:"risk-select-field"},{input:d((()=>[r("div",q,[m(u,{modelValue:k.value[p(x).key],"onUpdate:modelValue":l[4]||(l[4]=e=>k.value[p(x).key]=e),options:p(C),onclick:h},null,8,["modelValue","options"])])])),_:1},8,["modelValue","label","name"]),m(i,{modelValue:k.value.copy,"onUpdate:modelValue":l[7]||(l[7]=e=>k.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:d((()=>[r("div",A,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(t(),s(o,{key:0,modelValue:k.value.copy,"onUpdate:modelValue":l[6]||(l[6]=e=>k.value.copy=e),"input-width":"80px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(t(),n("span",O,v(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):4===b.value?(t(),n("div",R,[m(i,{modelValue:k.value.copy,"onUpdate:modelValue":l[9]||(l[9]=e=>k.value.copy=e),label:"份数",name:"copy",class:"risk-select-field"},{input:d((()=>[r("div",T,[e.originData.minCopiesValue!==e.originData.maxCopiesValue?(t(),s(o,{key:0,modelValue:k.value.copy,"onUpdate:modelValue":l[8]||(l[8]=e=>k.value.copy=e),"input-width":"64px","default-value":e.originData.minCopiesValue,min:e.originData.minCopiesValue,step:1,max:e.originData.maxCopiesValue},null,8,["modelValue","default-value","min","max"])):(t(),n("span",$,v(e.originData.minCopiesValue),1))])])),_:1},8,["modelValue"])])):c("",!0)}}}),[["__scopeId","data-v-09272acb"]]);const M=a({__name:"PersonalInfo",props:{productFactor:{default:()=>({})},modelValue:{default:()=>({})}},emits:["update:modelValue","trail"],setup(e,{emit:a}){const o=e,{query:{insurerCode:i}={}}=g(),n=l(null),d=k({formData:{},schema:[],trialFactorCodes:[],config:{occupation:{dictCode:K(i)}}});return u((()=>o.productFactor),(()=>{const[e,a]=U(o.productFactor,!0);Object.assign(d,a)}),{deep:!0,immediate:!0}),u((()=>d.formData),(()=>{var e;a("update:modelValue",d.formData),d.trialFactorCodes.some((e=>{const a=d.formData[e];return F.exports.isNil(a)||""===a}))||null==(e=n.value)||e.validate().then((()=>{a("trail",d.formData)}))}),{deep:!0,immediate:!0}),(e,a)=>(t(),s(p(w),{ref_key:"personalInfoRef",ref:n,model:p(d).formData,schema:p(d).schema,config:p(d).config},null,8,["model","schema","config"]))}}),N=[{name:"年金领取期间",type:"checkbox",configKey:["annuityDrawValueList"],valueKey:"annuityDrawDate"},{name:"领取频率",type:"checkbox",configKey:["annuityDrawFrequencyList"],valueKey:"annuityDrawType"},{name:"交费方式",type:"checkbox",configKey:["paymentFrequencyList"],valueKey:"paymentFrequency"},{name:"交费期间",type:"checkbox",configKey:["paymentPeriodValueList"],valueKey:"chargePeriod"},{name:"保障期间",type:"checkbox",configKey:["insurancePeriodValueList"],valueKey:"coveragePeriod"}];const G={class:"pro-radio-wrap"};var J=e(a({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})},riskCode:{default:""}},setup(e){const a=e;console.log("baoebaofei  = ",a.originData);const o=l(a.originData),v=l(a.modelValue);l(1);const y=()=>{N.forEach((e=>{const l=F.exports.get(a.originData,e.configKey);"checkbox"===e.type&&l&&l.length>0&&(v.value[e.valueKey]=l[0].code)}))};return i((()=>{y()})),u((()=>o),(e=>{y()}),{deep:!0,immediate:!0}),(l,o)=>{const i=V,u=f;return t(!0),n(D,null,b(p(N),(l=>(t(),n(D,null,[p(F.exports.get)(e.originData,l.configKey)?(t(),n("div",{key:e.riskCode+"_"+l.name},["checkbox"===l.type?(t(),s(u,{key:0,modelValue:v.value[l.valueKey],"onUpdate:modelValue":e=>v.value[l.valueKey]=e,label:l.name,name:l.valueKey,class:"risk-select-field"},{input:d((()=>{return[r("div",G,[m(i,{modelValue:v.value[l.valueKey],"onUpdate:modelValue":e=>v.value[l.valueKey]=e,options:(e=l.configKey,F.exports.get(a.originData,e).map((e=>({label:e.value,value:e.code}))))},null,8,["modelValue","onUpdate:modelValue","options"])])];var e})),_:2},1032,["modelValue","onUpdate:modelValue","label","name"])):c("",!0)])):c("",!0)],64)))),256)}}}),[["__scopeId","data-v-687b8b98"]]);const z={class:"com-risk-liabilityinfo"},B={class:"item-wrap"},H={key:0},Q=r("div",{class:"cell-content"},null,-1),W=a({__name:"index",props:{dataSource:{default:()=>[]},basicsAmount:null,basicsPremium:null},setup(e){const a=e,o=[{value:"投保",code:"1"},{value:"不投保",code:"2"}],i=l({formInfo:a.dataSource,isCheckList:[],basicsAmount:"",basicsPremium:""});return u((()=>a.basicsAmount),(e=>{e&&console.log("11")}),{immediate:!0}),(a,l)=>{const u=f,v=x,y=C;return t(),s(y,null,{default:d((()=>[r("div",z,[r("div",B,[(t(!0),n(D,null,b(e.dataSource.riskLiabilityInfoVOList,((e,a)=>(t(),n("div",{key:a},[1==+e.showFlag?(t(),n("div",H,[m(u,{label:`${e.liabilityName}`,"label-width":"40%",name:"insuredRelation"},{input:d((()=>[1==+e.insureFlag?(t(),s(V,{key:0,modelValue:p(i).isCheckList[a],"onUpdate:modelValue":e=>p(i).isCheckList[a]=e,prop:{label:"value",value:"code"},options:o},null,8,["modelValue","onUpdate:modelValue"])):c("",!0)])),_:2},1032,["label"]),1==+p(i).isCheckList[a]||1==+e.attributeFlag?(t(),s(u,{key:0,label:e.liabilityAttributeTypeDesc,"label-width":"40%",name:"insuredRelation"},{input:d((()=>[m(V,{prop:{label:"displayValue",value:"actualValue"},options:(e.formula.length,e.liabilityAttributeValueList)},null,8,["options"])])),_:2},1032,["label"])):c("",!0)])):c("",!0)])))),128))])]),Q,m(v)])),_:1})}}});const X={key:0};var Y=e(a({__name:"index",props:{originData:{default:()=>({})},modelValue:{default:()=>({})},productFactor:{default:()=>({})}},setup(e){const a=e,o=k({personalInfo:{}}),u=l({});h("premium"),u.value=h("enumList")||{};const s=e=>{console.log("---personal trail---",e)};return i((()=>{console.log("--------origin data = ",a.originData)})),(a,l)=>{var i,u;return t(),n(D,null,[m(p(E),{"v-model":e.modelValue,"origin-data":null==(u=null==(i=e.originData)?void 0:i.productRiskInsureLimitVO)?void 0:u.amountPremiumConfigVO},null,8,["v-model","origin-data"]),e.productFactor?(t(),n("div",X,[m(p(M),{modelValue:p(o).personalInfo,"onUpdate:modelValue":l[0]||(l[0]=e=>p(o).personalInfo=e),"product-factor":e.productFactor,onTrail:s},null,8,["modelValue","product-factor"])])):c("",!0),m(p(J),{"v-model":e.modelValue,"origin-data":e.originData.productRiskInsureLimitVO,"risk-code":e.originData.riskCode},null,8,["v-model","origin-data","risk-code"]),m(p(W),{"data-source":e.originData},null,8,["data-source"])],64)}}}),[["__scopeId","data-v-4daf4a16"]]);export{Y as I};
