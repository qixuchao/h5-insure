!function(){var e=document.createElement("style");e.innerHTML=".com-field-info[data-v-26c796cf]{display:flex;align-items:center;justify-content:space-between;height:1.41333rem;border-top:1px solid #eeeff4}.com-field-info .title[data-v-26c796cf]{flex:0 0 3.33333rem;font-size:.4rem;font-weight:600;color:#393d46}.com-field-info .desc[data-v-26c796cf]{flex:1;text-align:right;font-size:.4rem;color:#515865;line-height:.56rem}.pro-modal .pro-overlay[data-v-fa9670a0]{position:fixed;top:0;left:0;z-index:99;width:100%;height:100%;background:var(--van-overlay-background-color)}.pro-modal .pro-modal-wrapper[data-v-fa9670a0]{position:fixed;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:1.2rem;text-align:center}.pro-modal .pro-modal-wrapper .pro-modal-body[data-v-fa9670a0]{width:100%;height:60%;background:url(/static/assets/upgrade_success.7fcab77e.png) no-repeat;background-size:contain;padding:.4rem}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg[data-v-fa9670a0],.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg img[data-v-fa9670a0]{width:100%}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-btn[data-v-fa9670a0]{width:5.6rem;height:1.17333rem;background:var(--van-primary-color);border-radius:.58667rem;font-size:.45333rem;font-weight:700;color:#fff;line-height:1.17333rem;text-align:center;margin:auto}.pro-modal .pro-modal-wrapper .pro-modal-content[data-v-fa9670a0]{padding:4.13333rem 0 .8rem;font-size:.4rem;font-weight:500;color:#9f5012;line-height:.61333rem}.pro-modal .pro-modal-wrapper .pro-modal-close[data-v-fa9670a0]{padding:.53333rem}.pro-modal .pro-modal-wrapper .pro-modal-close img[data-v-fa9670a0]{width:.77333rem;height:.77333rem}.page-activity-upgrade[data-v-7565f9b0]{background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%)}.page-activity-upgrade .banner[data-v-7565f9b0]{width:100%;display:block}.page-activity-upgrade .container[data-v-7565f9b0]{padding:0 .26667rem;margin-bottom:.8rem}.page-activity-upgrade .container .main-form[data-v-7565f9b0]{background:url(/static/assets/bg.c7f48ab0.png) no-repeat;background-size:100% 100%;position:relative;padding:.26667rem}.page-activity-upgrade .container .main-form .com-field-info[data-v-7565f9b0]:first-child{border-top:none}.page-activity-upgrade .container .main-form .upgrade-btn[data-v-7565f9b0]{margin-bottom:.26667rem;background-color:var(--van-primary-color);border-color:var(--van-primary-color)}.page-activity-upgrade .container .main-form .submit[data-v-7565f9b0]{height:1.33333rem;margin-top:.53333rem;margin-bottom:.46667rem;background:url(/static/assets/up.66fa7d45.png) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-upgrade[data-v-7565f9b0] .com-check-btn.activated-disabled,[data-v-7565f9b0] .com-check-btn.activated-disabled{background-color:var(--van-primary-background-color)}[data-v-7565f9b0] .van-cell{padding:.26667rem 0;border-top:1px solid #eeeff4}[data-v-7565f9b0] .van-field__label{font-size:.4rem;font-weight:600;color:#393d46}\n",document.head.appendChild(e),System.register(["./vendor-legacy-4a30a9db.js","./infoCollection-legacy-22617a2b.js","./index-legacy-98f8cb4b.js","./close-legacy-d9c2a5df.js","./index-legacy-be13aa61.js","./order-legacy-9e0ec1e5.js","./trial-legacy-393c4e66.js","./theme-legacy-7ef84ea9.js","./utils-legacy-f8776165.js","./product-legacy-c305de19.js","./trial-legacy-c8efcad5.js"],(function(e){"use strict";var a,t,o,n,r,d,i,l,c,s,u,p,m,v,f,g,b,h,y,w,I,k,x,C,N,j,O,U,S,$,z,_,L,D,P,B,R,V,F,H,T;return{setters:[function(e){a=e.h,t=e.k,o=e.p,n=e.A,r=e.L,d=e.B,i=e.v,l=e.a5,c=e.a6,s=e.aa,u=e.P,p=e.G,m=e.j,v=e.r,f=e.m,g=e.n,b=e.s,h=e.T},function(e){y=e.j},function(e){w=e._,I=e.a4},function(e){k=e.c},function(e){x=e._},function(e){C=e.a},function(e){N=e.d,j=e.i,O=e.g,U=e.s,S=e.e,$=e.E},function(e){z=e.t},function(e){_=e.n,L=e.i,D=e.m,P=e.e,B=e.a,R=e.t,V=e.j,F=e.f,H=e.h},function(e){T=e.p},function(){}],execute:function(){const E={class:"com-field-info"},J={class:"title"},M={class:"desc"};var q=w(a({props:{title:{type:String,default:""},desc:{type:String,default:""}},setup:e=>(a,d)=>(t(),o("div",E,[n("div",J,r(e.title),1),n("div",M,r(e.desc),1)]))}),[["__scopeId","data-v-26c796cf"]]);const G=e=>(l("data-v-fa9670a0"),e=e(),c(),e),K={key:0,class:"pro-modal"},A=G((()=>n("div",{class:"pro-overlay"},null,-1))),W={class:"pro-modal-wrapper"},Y=G((()=>n("div",{class:"pro-modal-content"},[n("p",null,"恭喜您"),n("p",null,"保障升级成功")],-1))),Q=["src"],X=a({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}}},emits:["on-confirm","on-close"],setup(e,{emit:a}){const r=e,l=()=>{a("on-close")},c=()=>{a("on-confirm")};return(e,a)=>r.isShow?(t(),o("div",K,[A,n("div",W,[n("div",{class:"pro-modal-body"},[Y,n("div",{class:"pro-modal-btn",onClick:c},"我知道了")]),n("div",{class:"pro-modal-close",onClick:l},[n("img",{src:d(k)},null,8,Q)])])])):i("",!0)}});var Z=w(X,[["__scopeId","data-v-fa9670a0"]]);const ee={class:"page-activity-upgrade"},ae=["src"],te={class:"container"},oe={class:"main-form"};e("default",w(a({setup(e){const a=s(),o=u(),{productCode:r="BWYL2022",tenantId:i,orderNo:l,agentCode:c="",from:w}=o.query,k=p(),E=p(),J=p(),M=p(),G=p(),K=p(),A=p(!1),W="check"===w,Y=p(!1),Q=p(0),X=p("");let ne="";const re=()=>{A.value=!1},de=e=>`${I}/pay?orderNo=${e}&saleUserId=${c}&tenantId=${i}`,ie=()=>{a.replace(`/pay?orderNo=${X.value}&saleUserId=${c}&tenantId=${i}`)},le=async e=>{try{h.loading({forbidClick:!0,message:"升级中",duration:15e3});const e=await(async()=>{const e=B({tenantId:i,applicationNo:J.value.applicationNo,policyNo:J.value.policyNo,saleUserId:c,saleChannelId:J.value.saleChannelId,orderStatus:C.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:k.value,insureDetail:E.value,paymentMethod:J.value.extInfo?.extraInfo?.paymentMethod,renewalDK:J.value.extInfo?.extraInfo?.renewalDK,iseeBizNo:ne,successJumpUrl:"",premium:M.value,holder:{...J.value.tenantOrderHolder,socialFlag:J.value.tenantOrderHolder.extInfo.hasSocialInsurance},insured:{...J.value.tenantOrderInsuredList[0],socialFlag:J.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:R({tenantId:i,riskList:V(E.value.productRiskVoList[0].riskDetailVOList,k.value),riskPremium:{},productId:k.value?.id})}),a=await U(e),{code:t,data:o}=a;return"10000"===t?o.data:""})();await N({tenantId:i,applicationNo:J.value.applicationNo});if(X.value=e,K.value){if(W){const a=encodeURIComponent(encodeURIComponent(de(e))),t=`${K.value}&successUrl=${a}`;window.location.href=t}else{const e=encodeURIComponent(encodeURIComponent(window.location.href)),a=`${K.value}&failUrl=${e}`;window.location.href=a}h.clear()}else(async e=>{const t=F({tenantId:i,premium:M.value,orderDetail:J.value,productDetail:k.value,insureDetail:E.value,successJumpUrl:de(e),iseeBizNo:ne}),o=await $({orderNo:e,...t}),{code:n,data:d}=o;"10000"===n&&(W?a.replace(`/internet/orderDetail?orderNo=${e}&productCode=${r}&tenantId=${i}`):(h.clear(),ie()))})(e)}catch(t){h.clear()}},ce=async e=>{W?Y.value=!0:le()},se=()=>{h.loading({forbidClick:!0,duration:2e4,message:"试算中"});const e=T({productCode:r,withInsureInfo:!0,tenantId:i}),a=j({productCode:r}),t=O({orderNo:l,tenantId:i});Promise.all([e,a,t]).then((([e,a,t])=>{"10000"===e.code&&(k.value=e.data,document.title=e.data?.productFullName||""),"10000"===a.code&&(E.value=a.data),"10000"===t.code&&(J.value=t.data,G.value=t.data.tenantOrderInsuredList[0].extInfo.hasSocialInsurance),(async()=>{try{const e=F({tenantId:i,premium:M.value,orderDetail:J.value,productDetail:k.value,insureDetail:E.value,successJumpUrl:""},H),a=await S(e),{code:t,data:o}=a;"10000"===t&&(M.value=o.installmentPremium,K.value=o.signUrl),h.clear()}catch(e){}})()}))};return m((()=>{se(),setTimeout((async()=>{ne=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const o=v("ProRadioButton"),r=v("ProField"),i=v("van-config-provider");return t(),f(i,{"theme-vars":d(z)},{default:g((()=>[n("div",ee,[n("img",{src:k.value?.tenantProductInsureVO?.banner[0],class:"banner"},null,8,ae),n("div",te,[n("div",oe,[b(q,{title:"姓名",desc:d(_)(J.value?.tenantOrderInsuredList?.[0].name)},null,8,["desc"]),b(q,{title:"证件号码",desc:d(L)(J.value?.tenantOrderInsuredList?.[0].certNo)},null,8,["desc"]),b(q,{title:"手机号码",desc:d(D)(J.value?.tenantOrderHolder?.mobile)},null,8,["desc"]),b(q,{title:"每月保费",desc:`${d(P)(M.value||0)}元 / 每月`},null,8,["desc"]),b(r,{label:"有无社保",name:"name",required:"",placeholder:"请选择"},{input:g((()=>[b(o,{modelValue:G.value,"onUpdate:modelValue":a[0]||(a[0]=e=>G.value=e),disabled:!0,options:d(y)},null,8,["modelValue","options"])])),_:1}),n("div",{class:"submit",onClick:ce})])]),b(Z,{"is-show":A.value,onOnConfirm:ie,onOnClose:re},null,8,["is-show"])]),b(x,{show:Y.value,"onUpdate:show":a[1]||(a[1]=e=>Y.value=e),"content-list":k.value?.tenantProductInsureVO?.attachmentVOList,"active-index":Q.value,text:"我已逐页阅读并确认告知内容",onSubmit:le},null,8,["show","content-list","active-index"])])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-7565f9b0"]]))}}}))}();
