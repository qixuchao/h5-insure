!function(){var e=document.createElement("style");e.innerHTML=".refueling-package-com[data-v-7e34c868]{background:#fff}.refueling-package-com .title[data-v-7e34c868]{background:#ffffff;font-size:.42667rem;font-weight:500;color:#333;line-height:.4rem;padding:.4rem .33333rem}.refueling-package-com[data-v-7e34c868] .van-cell .van-field__label{min-width:4rem!important}.refueling-package-com .show-more[data-v-7e34c868]{padding:.4rem 0;width:100%;display:flex;justify-content:center;align-items:center;font-size:.34667rem;color:var(--van-primary-color, var(--zaui-brand))}.refueling-package-com .show-more .icon[data-v-7e34c868]{margin-left:.13333rem;font-size:.26667rem;transition:transform .5s}.refueling-package-com .show-more .icon.showMore[data-v-7e34c868]{transform:rotate(180deg)}.tabs .tab-card .rich-text{width:100%;word-wrap:break-word}.tabs :deep(.tab-title){font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500}.tabs :deep(.active):after{width:.64rem!important;height:.08rem!important;border-radius:.05333rem!important}.spec img{width:100%;display:block}.spec .van-image__error{font-size:.8rem}.sub-title{font-size:.34667rem;font-weight:400;color:#99a9c0;line-height:.50667rem;margin-bottom:.13333rem}.tab-1-content{font-size:.34667rem;font-weight:400;color:#393d46;line-height:.50667rem;margin-top:.33333rem;margin-bottom:.53333rem}:deep(.com-time-line .item .left .num){background:var(--van-primary-background-color);border:1px solid var(--van-primary-color)}:deep(.com-time-line .item .left .num):after{border-left:1px dashed var(--van-primary-background-color);border-right:1px dashed var(--van-primary-background-color)}.trial-button-wrap .footer-area{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.trial-button-wrap .footer-area .price{color:#393d46;font-size:.45333rem;font-weight:400}.trial-button-wrap .footer-area .price span{color:var(--van-primary-color);font-weight:700}.trial-button-wrap .footer-area .price span:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.trial-button-wrap .footer-area .right{width:4.26667rem!important;height:1.17333rem!important;border-radius:.58667rem}.page-internet-product-detail[data-v-58c02e92]{padding-bottom:2rem;background:#f1f5fc}.page-internet-product-detail .custom-page-form[data-v-58c02e92]{background:#ffffff}.page-internet-product-detail .custom-page-form .form-title[data-v-58c02e92]{padding:.53333rem 0px .13333rem;text-align:center;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.page-internet-product-detail .custom-page-form[data-v-58c02e92] .com-card-wrap .header{margin-left:0!important}.page-internet-product-detail .custom-page-form[data-v-58c02e92] .com-card-wrap .header .title-wrapper .title:before{margin-right:.37333rem!important}.page-internet-product-detail .custom-page-form[data-v-58c02e92] .com-card-wrap .relation-holder .van-cell__title{display:none}.page-internet-product-detail .custom-page-form[data-v-58c02e92] .radio-btn{justify-content:flex-start}.page-internet-product-detail .custom-page-form[data-v-58c02e92] .radio-btn .btn-wrapper{margin-left:0!important;margin-right:.10667rem!important}.page-internet-product-detail .footer-area[data-v-58c02e92]{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.page-internet-product-detail .footer-area[data-v-58c02e92] .com-share{width:1.02667rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.page-internet-product-detail .footer-area[data-v-58c02e92] .com-share span{font-size:.32rem;color:var(--zaui-text, #393d46)}.page-internet-product-detail .price[data-v-58c02e92]{color:#393d46;font-size:.45333rem;font-weight:400;width:3.6rem;margin:0 .26667rem}.page-internet-product-detail .price span[data-v-58c02e92]{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .price span[data-v-58c02e92]:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.page-internet-product-detail .right[data-v-58c02e92]{width:4rem;height:1.17333rem;border-radius:.58667rem}\n",document.head.appendChild(e),System.register(["./index-legacy-991c023d.js","./debounce-legacy-211ba60e.js","./trial-legacy-2ae513fd.js","./product-legacy-850d3032.js","./nextStep-legacy-50e9a170.js","./infoCollection-legacy-aa24b621.js","./index-legacy-13e760b8.js","./utils-legacy-c9dd1ba8.js","./validator-legacy-5e43cc69.js","./index-legacy-0c1cc4fe.js","./phoneVerify-legacy-cb08475d.js","./index-legacy-85e50019.js","./index-legacy-1b4b4328.js","./trial-legacy-bb2044a0.js","./pdfh5-legacy-9f98dc45.js","./isObject-legacy-83e04b6f.js","./isObjectLike-legacy-7cedb542.js","./core-legacy-df8a6152.js","./constant-legacy-c9c30061.js","./_nodeUtil-legacy-acbb75ec.js"],(function(e,t){"use strict";var a,n,l,r,o,i,d,s,c,u,p,v,m,f,g,h,y,b,A,I,C,x,k,L,O,w,_,E,T,S,P,j,F,R,N,D,H,V,B,U,M,z,q,W,G,Q,$,J,Y,Z,K,X,ee,te,ae,ne,le,re,oe,ie,de,se,ce,ue,pe,ve,me,fe,ge,he,ye,be,Ae,Ie,Ce,xe,ke,Le,Oe,we;return{setters:[function(e){a=e._,n=e.d,l=e.S,r=e.E,o=e.c,i=e.g,d=e.f,s=e.w,c=e.F,u=e.h,p=e.e,v=e.m,m=e.n,f=e.t,g=e.V,h=e.L,y=e.j,b=e.l,A=e.ao,I=e.at,C=e.X,x=e.Y,k=e.i,L=e.bY,O=e.c0,w=e.bp,_=e.r,E=e.z,T=e.bt,S=e.c7,P=e.A,j=e.bk,F=e.I,R=e.a,N=e.am,D=e.c8,H=e.bZ,V=e.u,B=e.J,U=e.b2,M=e.a8,z=e.b$,q=e.aD,W=e.H,G=e.ag,Q=e.G,$=e.bR,J=e.T,Y=e.ai,Z=e.c9,K=e.bT,X=e.c1},function(e){ee=e.d},function(e){te=e.i,ae=e.b,ne=e.p,le=e.g},function(e){re=e.b,oe=e.c},function(e){ie=e.n},function(e){de=e.g,se=e.C,ce=e.I,ue=e.S,pe=e.O,ve=e.l},function(e){me=e.u,fe=e.P},function(e){ge=e.v,he=e.g,ye=e.r,be=e.t},function(e){Ae=e.v},function(e){Ie=e._},function(e){Ce=e.s,xe=e.c},function(e){ke=e.default},function(e){Le=e.c,Oe=e.t,we=e._},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const _e={class:"refueling-package-com"},Ee=(e=>(C("data-v-7e34c868"),e=e(),x(),e))((()=>k("div",{class:"title"},"加油包",-1))),Te=n({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(e){const t=e,[a,n]=l(!1),C=r((()=>t.packageProductList.length>t.count&&(!!t.isShowClose||!a.value))),x=()=>{n()},k=r((()=>t.packageProductList.length<=t.count||a.value?t.packageProductList:t.packageProductList.slice(0,t.count)));return(e,t)=>{const n=b,l=A,r=I;return o(),i("div",_e,[Ee,d(r,{ref:"formRef"},{default:s((()=>[(o(!0),i(c,null,u(v(k),((e,t)=>(o(),p(l,{key:`${e.value}_${t}`,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:e.packageName,required:"",placeholder:"请选择"},{input:s((()=>[d(n,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,options:v(de),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),v(C)?(o(),i("div",{key:0,class:"show-more",onClick:x},[m(f(v(a)?"收起":"查看更多")+" ",1),d(g,{name:"down",class:h(["icon",{showMore:v(a)}])},null,8,["class"])])):y("",!0)])),_:1},512)])}}});var Se=a(Te,[["__scopeId","data-v-7e34c868"]]);const Pe={class:"spec"},je={class:"rich-text"},Fe={key:1,class:"spec"},Re={class:"rich-text"},Ne={key:1,class:"spec"},De={class:"rich-text"},He=n({props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(e,{expose:a}){const n=e,l=L((()=>O((()=>t.import("./index-legacy-991c023d.js").then((function(e){return e.cG}))),void 0)));L((()=>O((()=>t.import("./index-legacy-4abde78e.js")),void 0)));const m=L((()=>O((()=>t.import("./index-legacy-991c023d.js").then((function(e){return e.cE}))),void 0))),f=L((()=>O((()=>t.import("./index-legacy-d0697907.js")),void 0))),h=L((()=>O((()=>t.import("./index-legacy-d346a714.js")),void 0))),{dataSource:b}=w(n),A=_(),I=_([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),C=r((()=>{var e,t;return null===(e=b.value.SPECIAL_FEATURE)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.length})),x=r((()=>{var e,t,a,n;const l=null===(e=b.value.CLAIM_FLOW)||void 0===e?void 0:e.processCaseType;return!!(l===se.WORD&&null!==(t=b.value.CLAIM_FLOW)&&void 0!==t&&t.processContent||l===se.IMAGE&&null!==(a=b.value.CLAIM_FLOW)&&void 0!==a&&null!==(n=a.processPicList)&&void 0!==n&&n.length)})),R=r((()=>{var e,t,a,n,l;const r=null===(e=b.value)||void 0===e||null===(t=e.CLAIM_CASE)||void 0===t?void 0:t.claimCaseType;return!!(r===se.WORD&&null!==(a=b.value.CLAIM_CASE)&&void 0!==a&&a.claimContent||r===se.IMAGE&&null!==(n=b.value.CLAIM_CASE)&&void 0!==n&&null!==(l=n.claimCasePicList)&&void 0!==l&&l.length)})),N=r((()=>{var e,t;return null===(e=b.value)||void 0===e||null===(t=e.FAQ)||void 0===t?void 0:t.length})),D=r((()=>{var e,t;return null===(e=b.value)||void 0===e||null===(t=e.FAQ)||void 0===t?void 0:t.length})),H=r((()=>{let e=[...I.value];return C.value||(e=e.filter((e=>"tab1"!==e.slotName))),x.value||R.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return a({handleClickTab:()=>{var e;return null===(e=A.value)||void 0===e?void 0:e.handleClickTab}}),(e,t)=>{const a=F,n=g,r=E("dompurify-html");return o(),p(v(l),{ref_key:"scrollRef",ref:A,class:"tabs",list:v(H),sticky:"",scrollspy:""},T({tab3:s((()=>[j(e.$slots,"form")])),_:2},[v(C)?{name:"tab1",fn:s((()=>{var e;return[k("div",Pe,[(o(!0),i(c,null,u((null===(e=v(b).SPECIAL_FEATURE)||void 0===e?void 0:e.spec)||[],((e,t)=>(o(),p(S,{key:t},{fallback:s((()=>[d(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:s((()=>[(o(),p(a,{key:t,class:"detail-img",width:"100%",src:e},null,8,["src"]))])),_:2},1024)))),128)),d(v(m))])]}))}:void 0,v(x)||v(R)||v(N)||v(D)?{name:"tab2",fn:s((()=>{var e,t;return[v(x)?(o(),i(c,{key:0},[(null===(e=v(b).CLAIM_FLOW)||void 0===e?void 0:e.processCaseType)===v(se).WORD?(o(),p(v(f),{key:0,class:"tab-card",title:"理赔说明"},{default:s((()=>{var e;return[P(k("div",je,null,512),[[r,null===(e=v(b).CLAIM_FLOW)||void 0===e?void 0:e.processContent]])]})),_:1})):(o(),i("div",Fe,[(o(),p(S,null,{fallback:s((()=>[d(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:s((()=>{var e;return[(o(!0),i(c,null,u((null===(e=v(b).CLAIM_FLOW)||void 0===e?void 0:e.processCasePicList)||[],((e,t)=>(o(),p(a,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),d(v(m))],64)):y("",!0),v(R)?(o(),i(c,{key:1},[(null===(t=v(b).CLAIM_CASE)||void 0===t?void 0:t.claimCaseType)===v(se).WORD?(o(),p(v(f),{key:0,class:"tab-card",title:"理赔案例"},{default:s((()=>{var e;return[P(k("div",Re,null,512),[[r,null===(e=v(b).CLAIM_CASE)||void 0===e?void 0:e.claimContent]])]})),_:1})):(o(),i("div",Ne,[(o(),p(S,null,{fallback:s((()=>[d(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:s((()=>{var e;return[(o(!0),i(c,null,u((null===(e=v(b).CLAIM_CASE)||void 0===e?void 0:e.claimCasePicList)||[],((e,t)=>(o(),p(a,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),d(v(m))],64)):y("",!0),v(N)?(o(),i(c,{key:2},[d(v(f),{class:"tab-card",title:"投保须知"},{default:s((()=>{var e;return[P(k("div",De,null,512),[[r,null===(e=v(b).ISSUE_NOTICE)||void 0===e?void 0:e.noticeContent]])]})),_:1}),d(v(m))],64)):y("",!0),v(D)?(o(),i(c,{key:3},[d(v(f),{title:"常见问题"},{default:s((()=>[d(v(h),{list:v(b).FAQ},null,8,["list"])])),_:1}),d(v(m))],64)):y("",!0)]}))}:void 0]),1032,["list"])}}});const Ve={class:"trial-button-wrap"},Be={class:"footer-area"},Ue={class:"price"},Me={key:0},ze=m("立即投保"),qe=n({props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:""},loadingText:{default:""},paymentFrequency:{default:""}},emits:["onClick"],setup(e,{emit:t}){const a=e,n=_(""),l=_("");return N([()=>a.premium,()=>a.tenantProductDetail,()=>a.planCode],(([e])=>{const{PREMIUM:t}=a.tenantProductDetail||{};let r={};null!=t&&t.length&&(r=(t||[]).find((e=>e.planCode===a.planCode))||{});const o=(r.data||[]).map((e=>e.paymentFrequency===a.paymentFrequency)),{premium:i,minActualUnit:d}=o||{};console.log("unit",o),e?(l.value=d,n.value=e&&`${e}`):l.value=i}),{deep:!0,immediate:!0}),(a,r)=>(o(),i("div",Ve,[k("div",Be,[k("div",Ue,[e.loadingText?(o(),i("span",Me,f(e.loadingText),1)):(o(),i(c,{key:1},[k("span",null,f(n.value),1),k("span",null,f(l.value),1)],64))]),d(ke,{shadow:!1,class:"right",onClick:r[0]||(r[0]=e=>t("onClick"))},{default:s((()=>[j(a.$slots,"default",{},(()=>[ze]))])),_:3})])]))}});const We=e=>(C("data-v-58c02e92"),e=e(),x(),e),Ge={key:0},Qe=[We((()=>k("div",{class:"__skeleton_short_content__"},[k("div",{class:"van-config-provider sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[k("div",{class:"page-internet-product-detail"},[k("div",{class:"info"},[k("div",{class:"van-image banner",style:{width:"100%",height:"223px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[k("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20221222/e3719801cf6546449e18e06f3bbe8416/%E5%B0%8A%E4%BA%ABe%E7%94%9F.png?Expires=1676527379&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=tkscLe6oOZYjnRIA%2B7AiMS3bOs0%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),k("div")]),k("div",{class:"guarantee-list"},[k("div",{class:"header"},[k("span",null,[k("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"保障计划")]),k("span",null,[k("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"查看详情")])]),k("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[k("div",{class:"cell-container"},[k("div",{class:"left-part large"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"一般医疗保险金")]),k("div",{class:"divider"}),k("div",{class:"right-part"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高300万")])])]),k("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[k("div",{class:"cell-container"},[k("div",{class:"left-part large"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"重大疾病医疗保险金")]),k("div",{class:"divider"}),k("div",{class:"right-part"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),k("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[k("div",{class:"cell-container"},[k("div",{class:"left-part large"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤质子重离子医疗")]),k("div",{class:"divider"}),k("div",{class:"right-part"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),k("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[k("div",{class:"cell-container"},[k("div",{class:"left-part large"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤院外特定药品费用医疗")]),k("div",{class:"divider"}),k("div",{class:"right-part"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),k("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[k("div",{class:"cell-container"},[k("div",{class:"left-part large"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤特定器械耗材费用医疗责任 （适用于女性被保险人）")]),k("div",{class:"divider"}),k("div",{class:"right-part"},[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高100万")])])]),k("div",{class:"show-more"},[k("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"16.799999999999997px"}},"查看更多 "),k("svg",{class:"svg-icon icon-arrow-down-dobule icon icon"},[k("use",{"xlink:href":"#icon-arrow-down-dobule"})])]),k("div",{class:"feerate-view sk-border"},[k("span",null,[k("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"142.00元/年起")])])]),k("div",{class:"com-divider"}),k("div",{class:"tabs",sticky:"",scrollspy:""},[k("div",null,[k("div",{class:"van-sticky"},[k("div",{class:"van-tabs"},[k("div",{id:"tab-list",class:"tab-list"},[k("a",{class:"tab-title active",title:"产品亮点"},[k("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"产品亮点")]),k("a",{class:"tab-title",title:"理赔说明"},[k("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"理赔说明")]),k("a",{class:"tab-title",title:"我要投保"},[k("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"我要投保")])])])])]),k("div",{class:"tab-content"},[k("div",{id:"tab1"},[k("div",{class:"spec"},[k("div",{class:"van-image detail-img",style:{width:"100%"}},[k("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"van-image__img",style:{background:"rgb(238, 238, 238)"}})])])])])])])])],-1)))],$e={class:"page-internet-product-detail"},Je={class:"info"},Ye={class:"custom-page-form"},Ze=We((()=>k("div",{class:"form-title"},"请填写投保信息",-1))),Ke=m("立即投保"),Xe=We((()=>k("div",{id:"xinaoDialog"},null,-1)));e("default",a(n({setup(e){var a;D(),L((()=>O((()=>t.import("./index-legacy-cfda3e4d.js")),void 0)));const n=L((()=>O((()=>t.import("./index-legacy-88856033.js")),void 0))),l=L((()=>O((()=>t.import("./index-legacy-152f0e85.js")),void 0)));L((()=>O((()=>t.import("./index-legacy-85e50019.js")),void 0))),L((()=>O((()=>t.import("./index-legacy-975dd09d.js")),void 0))),L((()=>O((()=>t.import("./index-legacy-b73b2e58.js")),void 0)));const m=L((()=>O((()=>t.import("./index-legacy-9f36d3d5.js")),void 0))),f=L((()=>O((()=>t.import("./index-legacy-fe2492fe.js")),void 0))),g=H();V();const h=R(),{productCode:b="",tenantId:A,agentCode:I="",agencyCode:C,saleChannelId:x,extraInfo:w,insurerCode:E,preview:T}=h.query;let S={};try{console.log("extInfo",decodeURIComponent(w)),S=JSON.parse(decodeURIComponent(w))}catch(Lt){}const{openId:P}=S;_();const j=_(),F=_(),de=_(!1),se=_({}),ke=_({}),_e=_(!1),Ee=_(!1),Te=_(0),Pe=_(!1),je=_({}),Fe=_({}),Re=_(!0),Ne=_(!0),De=_(!0),Ve=_(""),Be=_([]);_({});const Ue=_({}),Me=_({}),ze=_([]),We=_(),et=_(),tt=B({holder:{formData:{},schema:[],trialFactorCodes:[],config:{name:{},verificationCode:{sendSMSCode:async({mobile:e},t)=>{const a=await Ce(e),{code:n}=a;"10000"===n&&"function"==typeof t&&t()}},certType:{},certNo:{label:"身份证号"},occupation:{dictCode:Le(E)}}},insuredList:[{formData:{},schema:[],trialFactorCodes:[],config:{relationToHolder:{label:""},certNo:{label:"身份证号"}}}]});P&&me({openId:P},(e=>{Fe.value=e}));const at=_({imgUrl:"",desc:"",title:"",link:window.location.href}),nt=(e=>{const{tenantId:t,agentCode:a="",agencyCode:n,saleChannelId:l,extraInfo:r,insurerCode:o}=R().query;let i={};try{i=JSON.parse(decodeURIComponent(r))}catch(Lt){}const d=_({agencyId:n,commencementTime:"",expiryDate:"",extInfo:{buttonCode:"",pageCode:"",iseeBizNo:"",extraInfo:{}},orderCategory:1,saleUserId:a,saleChannelId:l,tenantId:t,venderCode:o,tenantOrderHolder:{extInfo:{occupationCodeList:[]}},tenantOrderInsuredList:[{relationToHolder:"1",extInfo:{occupationCodeList:[]},tenantOrderBeneficiaryList:[{extInfo:{}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",subjectNo:"",tenantId:t}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}});return"[object Object]"==={}.toString.call(e)&&Object.assign(d.value,e),d})({extInfo:{buttonCode:"EVENT_SHORT_saveOrder",pageCode:"productInfo",extraInfo:S,templateId:(null===(a=S)||void 0===a?void 0:a.templateId)||"1",iseeBizNo:""}}),lt=_({}),rt=r((()=>!!T)),ot=_([]),it=async()=>{re({productCode:b,tenantId:A}).then((({data:e,code:t})=>{if("10000"===t){se.value=e,document.title=e.BASIC_INFO.title||"";const{title:t,desc:n,image:l}=(null==e?void 0:e.showConfigVO)||{};a={title:t,desc:n,image:l},at.value={desc:a.desc||"你好，这里是描述",imgUrl:a.image,title:a.title,link:window.location.href}}var a})),await te({productCode:b}).then((({data:e,code:t})=>{var a;"10000"===t&&(Pe.value=!0,ke.value=e,Ue.value=null===(a=e.productPlanInsureVOList)||void 0===a?void 0:a[0],ze.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),De.value=!1,oe({productCode:b}).then((({code:e,data:t})=>{if("10000"===e){var a,n,l,r;const{productInsureMaterialVOList:e,productQuestionnaireVOList:o}=t,{basicInfo:{questionnaireType:i},questions:d,questionnaireName:s}=(null==o||null===(a=o[0])||void 0===a?void 0:a.questionnaireDetailResponseVO)||{basicInfo:{}};2===i&&(ot.value=[{attachmentName:s,attachmentUri:d,attachmentType:"question"}]),ot.value=[{attachmentName:s,attachmentUri:null==d||null===(n=d[0])||void 0===n?void 0:n.content,attachmentType:he(String(null==d||null===(l=d[0])||void 0===l?void 0:l.textType),null==d||null===(r=d[0])||void 0===r?void 0:r.content)}]}}))},dt=r((()=>{if(Fe.value){const e=[];return Object.keys(Fe.value).forEach((t=>{e.push(...Fe.value[t])})),e}return[]})),st=r((()=>dt.value.length>0)),ct=_([]),ut=e=>{console.log("currentPlanObj.value",e,Ue.value)};N((()=>lt.value.planCode),(e=>{Ue.value=(ke.value.productPlanInsureVOList||[]).find((t=>t.planCode===e))}));const pt=()=>{j.value.handleClickTab()("tab3")};_([]);const vt=_([]),mt=e=>{Te.value=e,Ee.value=!0},ft=async()=>{try{await ie(((e={},t={},a={})=>{var n;const l={...a},r={tenantId:A,riskList:(null===(n=l.tenantOrderInsuredList[0])||void 0===n?void 0:n.tenantOrderProductList[0].riskVOList)||[],riskPremium:t,productId:e.id};return l.extInfo.iseeBizNo=Ve.value,l.productCode=e.productCode,l.commencementTime=l.insuranceStartDate,l.expiryDate=l.insuranceEndDate,l.tenantOrderHolder={...l.tenantOrderHolder,certType:l.tenantOrderHolder.certType||G.CERT,certNo:(l.tenantOrderHolder.certNo||"").toLocaleUpperCase(),extInfo:{...l.tenantOrderHolder.extInfo}},l.tenantOrderInsuredList=l.tenantOrderInsuredList.map((e=>({...e,certType:e.certType||G.CERT,certNo:(e.certNo||"").toLocaleUpperCase(),planCode:Ue.value.planCode,extInfo:{...e.extInfo}}))),l.tenantOrderInsuredList[0].tenantOrderProductList[0]={productCode:e.productCode,productName:e.productName,planCode:Ue.value.planCode,tenantOrderRiskList:be(r)},l})(ke.value,je.value,nt.value),(async(e,t)=>{t===X.JUMP_PAGE&&null!=e&&e.orderNo&&await(async e=>{try{const{code:t,data:a}=await le({orderNo:e,tenantId:A});"10000"===t&&(a.extInfo={...a.extInfo,buttonCode:"EVENT_SHORT_underWrite"},await ie(a))}catch(Lt){}})(null==e?void 0:e.orderNo)}))}catch(Lt){}},gt=_(""),ht=_(0),yt=async(e,t,a,n=!0)=>{var l;const{chargePeriod:r,coveragePeriod:o,paymentFrequency:i,insuranceEndDate:d,insuranceStartDate:s}=lt.value;gt.value="保费试算中...";const c=ye(a).map((e=>({...e,paymentFrequency:i,chargePeriod:r,coveragePeriod:o}))),u={tenantId:A,productCode:t.productCode,insuranceStartDate:s,insuranceEndDate:d,holder:{personVO:{...e.tenantOrderHolder,socialFlag:null===(l=e.tenantOrderHolder.extInfo)||void 0===l?void 0:l.hasSocialInsurance,certType:e.tenantOrderHolder.certType||G.CERT}},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",relationToHolder:e.relationToHolder,personVO:{...e,socialFlag:e.extInfo.hasSocialInsurance,certType:e.certType||G.CERT},productPlanVOList:[{insurerCode:E,planCode:Ue.value.planCode,riskVOList:c}]})))},{code:p,message:v}=await ae(u);if("10000"===p){const{code:e,data:t}=await ne(u);if("10000"===e){if(gt.value="",nt.value.tenantOrderInsuredList[0].tenantOrderProductList=u.insuredVOList[0].productPlanVOList,ht.value=null==t?void 0:t.premium,nt.value.premium=t.premium,nt.value.orderAmount=t.premium,nt.value.orderRealAmount=t.premium,!n){const e={};t.riskPremiumDetailVOList&&t.riskPremiumDetailVOList.length&&t.riskPremiumDetailVOList.forEach((t=>{e[t.riskCode]={premium:t.premium,amount:t.amount}})),je.value=e,vt.value.length>0?(Re.value=!1,mt(0)):ot.value.length>0?_e.value=!0:await ft()}}else gt.value=""}else gt.value="",J(v)},bt=()=>{const e=[];return Be.value.filter((e=>e.value===ce.INSURE)).forEach((t=>{e.push(...t.productRiskVoList)})),e},At=async()=>{if(console.log("insuredFormRef",et),ht.value)ft();else try{_e.value=!1,Ee.value=!1,We.value&&We.value.validate().then((async()=>{if(st.value)await yt(nt.value,ke.value,[...ct.value,...bt()],!1);else{var e;const t=null===(e=nt.value.tenantOrderHolder)||void 0===e?void 0:e.verificationCode;if(!ge(t))return void J({message:"请输入正确的验证码"});const{code:a,data:n}=await xe(nt.value.tenantOrderHolder.mobile,t);"10000"===a&&await yt(nt.value,ke.value,[...ct.value,...bt()],!1)}})).catch((()=>{const e=document.querySelector(".form-title");e&&e.scrollIntoView()}))}catch(e){}},It=e=>{"allFalse"===e?(_e.value=!1,ft()):Y.confirm({className:"xinao-custom-dialog",title:"提示",teleport:"#xinaoDialog",message:"被保人不符合健康要求，很抱歉暂时无法投保该产品",confirmButtonText:"选错了",cancelButtonText:"为其他人投保"}).then((()=>{})).catch((()=>{_e.value=!1}))},Ct=()=>{_e.value=!1,Ee.value=!1,Re.value=!0};N((()=>nt.value.tenantOrderInsuredList[0].relationToHolder),(()=>{Be.value&&Be.value.forEach((e=>{e.value=ce.UN_INSURE})),Ne.value=!1,U((()=>{const{certType:e,extInfo:t}=nt.value.tenantOrderInsuredList[0];t&&!t.hasSocialInsurance&&(nt.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance=ue.HAS),Ne.value=!0}))}),{deep:!0,immediate:!0}),N([()=>tt.holder.formData,()=>tt.insuredList],(([e,t])=>{Object.assign(nt.value,(({holder:e,insuredList:t=[]})=>{const a=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured"],n=e=>{const t={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{a.includes(n)?t[n]=e[n]:t.extInfo[n]=e[n]})),t};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(t||[]).map((e=>n(e)))}})({holder:e,insuredList:t.map((e=>e.formData))}))}),{deep:!0});const xt=()=>{const{name:e,birthday:t,gender:a,certType:n,extInfo:{hasSocialInsurance:l}}=nt.value.tenantOrderInsuredList[0];return!!(t&&a&&nt.value.paymentFrequency&&e&&Ae(e)&&l)},kt=()=>{xt()&&(gt.value="保费试算中...")};return N([()=>Ue.value,()=>lt.value.paymentFrequency],(()=>{kt()}),{deep:!0,immediate:!0}),N((()=>[...tt.holder.trialFactorCodes.map((e=>tt.holder.formData[e])),...tt.insuredList.reduce(((e,t,a)=>(e.push(...t.trialFactorCodes.map((e=>tt.insuredList[a].formData[e]))),e)),[])]),((...e)=>{console.log(999999,e),console.log("%c🔥 试算因子变动了","color:#1989fa;background:#5e4;padding:3px 5px;")}),{deep:!0,immediate:!0}),N([()=>nt.value.tenantOrderInsuredList[0].birthday,()=>nt.value.tenantOrderInsuredList[0].name,()=>nt.value.tenantOrderInsuredList[0].gender,()=>nt.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance,()=>nt.value.activePlanCode,()=>nt.value.paymentFrequency,()=>nt.value.insurancePeriodValue,()=>Be.value],ee((()=>{if(xt()){if(rt.value)return;yt(nt.value,ke.value,[...ct.value,...bt()])}else kt()}),500),{deep:!0}),N((()=>tt.holder.formData),((...e)=>{console.log("%c🔥 投保人信息变动了","color:#1989fa;background:#5e4;padding:3px 5px;"),tt.insuredList.forEach(((e,t)=>{const{formData:a,schema:n}=e||{};"1"===a.relationToHolder&&Object.assign(e.formData,tt.holder.formData)}))}),{deep:!0,immediate:!0}),N((()=>Ue.value),(()=>{let{productFactor:e}=Ue.value;const{oilPackageProductVOList:t,planCode:a,insureProductRiskVOList:n}=Ue.value;st.value&&e[1]&&(e=e[1].filter((e=>"verificationCode"!==e.code))),lt.value.planCode=a,ct.value=n,Me.value=(n||[]).find((e=>e.mainRiskFlag===M.YES)),console.log("mainRiskInfo.value",Me.value),Be.value=(t||[]).map((e=>({...e,value:ce.UN_INSURE})));const[l,r,o]=Oe(e);tt.holder={...tt.holder,...l},tt.insuredList[0]={...tt.insuredList[0],...r}}),{deep:!0,immediate:!0}),N((()=>tt.insuredList.map(((e,t)=>tt.insuredList[t].formData.relationToHolder))),((e,t)=>{console.log("%c🔥 与投保人关系变动了","color:#1989fa;background:#5e4;padding:3px 5px;"),tt.insuredList.forEach(((e,t)=>{const{formData:a,schema:n,config:l}=e||{},r="1"===a.relationToHolder,o="3"===a.relationToHolder;l.certNo.label="身份证号"+(o?"(户口簿)":""),e.schema.forEach((e=>{e.relationToHolder=a.relationToHolder,e.hidden=!e.isSelfInsuredNeed&&r})),r?Object.assign(e.formData,{...tt.insuredList[t].formData,...tt.holder.formData}):Object.assign(e.formData,{...Object.keys(e.formData).reduce(((e,t)=>(e[t]="",e)),{}),relationToHolder:a.relationToHolder})}))}),{immediate:!0,deep:!0}),U((()=>{z(F,(([{isIntersecting:e}],t)=>{de.value=!e}))})),q((()=>{const e=W.get(pe);if(e){const{tenantOrderHolder:a,tenantOrderInsuredList:n}=e;if(a&&(nt.value.tenantOrderHolder={...a,certType:a.certType||G.CERT}),Array(n)&&n[0]){const e=n[0]||{};if(nt.value.activePlanCode=e.planCode,e.tenantOrderProductListtenantOrderProductList&&e.tenantOrderProductList[0]&&e.tenantOrderProductList[0].tenantOrderRiskList){var t;const a=null===(t=e.tenantOrderProductList[0].tenantOrderRiskList)||void 0===t?void 0:t.find((e=>"1"===String(e.riskType)));a&&(nt.value.paymentFrequency=null!=a&&a.paymentFrequency?String(null==a?void 0:a.paymentFrequency):ve.SINGLE)}}}})),Q((()=>{De.value=!0,it(),setTimeout((async()=>{Ve.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),$((()=>{W.remove(pe)})),(e,t)=>{const a=Z,r=K;return o(),i(c,null,[De.value?(o(),i("div",Ge,Qe)):(o(),p(r,{key:1,"data-skeleton-root":"SHORT","theme-vars":v(g)},{default:s((()=>{var n,r,g,h,b,A,I,C,x;return[k("div",$e,[k("div",Je,[null!==(n=se.value)&&void 0!==n&&null!==(r=n.BASIC_INFO)&&void 0!==r&&r.banner.length?(o(),p(Ie,{key:0,"data-skeleton-type":"img",url:null===(g=se.value)||void 0===g?void 0:g.BASIC_INFO.banner[0]},null,8,["url"])):y("",!0),null!==(h=se.value)&&void 0!==h&&null!==(b=h.BASIC_INFO)&&void 0!==b&&null!==(A=b.bannerMove)&&void 0!==A&&A.length?(o(),p(Ie,{key:1,url:null===(I=se.value)||void 0===I||null===(C=I.BASIC_INFO)||void 0===C||null===(x=C.bannerMove)||void 0===x?void 0:x[0],onClick:pt},null,8,["url"])):y("",!0),k("div",{ref_key:"observeRef",ref:F},null,512)]),d(He,{ref:"tenantProductDetailScrollRef","data-source":se.value},{form:s((()=>[k("div",Ye,[Ze,d(v(we),{ref_key:"holderFormRef",ref:We,title:"本人信息（投保人）",model:v(tt).holder.formData,schema:v(tt).holder.schema,config:v(tt).holder.config},null,8,["model","schema","config"]),(o(!0),i(c,null,u(v(tt).insuredList,((e,t)=>(o(),p(v(we),{ref_for:!0,ref_key:"insuredFormRef",ref:et,key:t,title:"为谁投保（被保人）",model:v(tt).insuredList[t].formData,schema:e.schema,config:e.config},null,8,["model","schema","config"])))),128))]),d(v(l),{"form-info":lt.value,"risk-info":Me.value,"tenant-product-detail":se.value.PREMIUM,"plan-list":ze.value,"premium-info":{premium:ht.value,premiumLoadingText:gt.value},onUpdateActivePlan:ut},null,8,["form-info","risk-info","tenant-product-detail","plan-list","premium-info"]),Be.value.length>0?(o(),p(Se,{key:0,"package-product-list":Be.value},null,8,["package-product-list"])):y("",!0)])),_:1},8,["data-source"]),d(a,null,{default:s((()=>{var e,t,a;return[null!==(e=se.value.SIGNATURE)&&void 0!==e&&e.inscribedContent?(o(),p(v(m),{key:0,"inscribed-content":null===(t=se.value)||void 0===t||null===(a=t.SIGNATURE)||void 0===a?void 0:a.inscribedContent},null,8,["inscribed-content"])):y("",!0)]})),_:1}),d(a,null,{default:s((()=>[e.filterHealthAttachmentList&&e.filterHealthAttachmentList.length>0?(o(),p(v(f),{key:0,"attachement-list":e.filterHealthAttachmentList,"pre-text":"请阅读",onPreviewFile:t[0]||(t[0]=e=>mt(e))},null,8,["attachement-list"])):y("",!0)])),_:1}),de.value?(o(),p(qe,{key:0,premium:ht.value,"loading-text":gt.value,"plan-code":lt.value.planCode,"payment-frequency":lt.value.paymentFrequency,"tenant-product-detail":se.value,onClick:At},{default:s((()=>[Ke])),_:1},8,["premium","loading-text","plan-code","payment-frequency","tenant-product-detail"])):y("",!0)]),Pe.value?(o(),p(fe,{key:0,"product-detail":se.value},null,8,["product-detail"])):y("",!0),Xe]})),_:1},8,["theme-vars"])),d(v(n),{show:_e.value,"onUpdate:show":t[1]||(t[1]=e=>_e.value=e),"content-list":ot.value,"active-index":0,onOnConfirmHealth:It,onOnCloseHealthByMask:Ct},null,8,["show","content-list"])],64)}}}),[["__scopeId","data-v-58c02e92"]]))}}}))}();
