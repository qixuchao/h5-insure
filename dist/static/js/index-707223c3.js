var Je=Object.defineProperty,Ge=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Ie=(t,a,o)=>a in t?Je(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,Z=(t,a)=>{for(var o in a||(a={}))Xe.call(a,o)&&Ie(t,o,a[o]);if(ye)for(var o of ye(a))Ze.call(a,o)&&Ie(t,o,a[o]);return t},ee=(t,a)=>Ge(t,Qe(a));import{g as oe,Q as Pe,E as x,y as te,j as _,n as w,z as r,J as H,p as d,L as Ne,A as n,B as et,a4 as _e,a5 as he,F as W,G as z,k as J,C as Q,t as G,r as U,m as C,M as Se,_ as ce,a9 as tt,O as ot,h as at,af as nt,H as st,l as lt,T as rt}from"./vendor-667a94d7.js";import{_ as ae,u as ut,q as Ae,a2 as re,x as ue,l as ie,y as be,G as it,z as dt,Q as Fe,A as ct,a3 as Ce,O as mt}from"./index-58c2a3c5.js";import{P as ft}from"./index-7bb3edcd.js";import{c as pt}from"./close-df102554.js";import{a as me,S as we,R as _t,f as de}from"./infoCollection-242da9b6.js";import{A as ht}from"./bankCard-b0679059.js";import{b as vt,g as Dt,t as gt,c as Ee,d as yt,a as It}from"./theme-8b9eb8cb.js";import{b as fe,v as bt}from"./validator-ebd71d12.js";import{a as Be}from"./order-b675ac95.js";import{p as Ve,i as Ft,s as Ct,a as wt,u as Et,b as Bt}from"./trial-eeb07efa.js";import{p as Vt}from"./product-b3a27bd8.js";import"./trial-7a947a1f.js";const Ot=t=>(_e("data-v-47f4f4ca"),t=t(),he(),t),Tt={class:"com-question-item"},Pt={class:"question"},Nt=Ot(()=>r("div",{class:"icon"},H("?"),-1)),St={class:"title"},At=oe({props:{question:{type:String,default:""},answer:{type:String,default:""}},setup(t){const[a,o]=Pe(!1),s=x(),e=()=>{o()},i=te(()=>a.value?ut(s.value):0);return(I,f)=>(_(),w("div",Tt,[r("div",Pt,[Nt,r("div",St,H(t.question),1),d(Ae,{name:"down",class:Ne(["arrow-icon",{show:n(a)}]),onClick:e},null,8,["class"])]),r("div",{ref_key:"answerDom",ref:s,class:"answer",style:et({height:`${n(i)}px`})},H(t.answer),5)]))}});var Lt=ae(At,[["__scopeId","data-v-47f4f4ca"]]);const $t={class:"com-question"},kt=oe({props:{list:{type:Array,default:()=>[]}},setup(t){const a=t,[o,s]=Pe(!1),e=()=>{s()},i=te(()=>a.list.length<=4||o.value?a.list:a.list.slice(0,4));return(I,f)=>(_(),w("div",$t,[(_(!0),w(W,null,z(n(i),(S,T)=>(_(),J(Lt,{key:T,question:S.title,answer:S.desc},null,8,["question","answer"]))),128)),t.list.length>4?(_(),w("div",{key:0,class:"show-more",onClick:e},[Q(H(n(o)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),d(Ae,{name:"down",class:Ne(["icon",{showMore:n(o)}])},null,8,["class"])])):G("",!0)]))}});var xt=ae(kt,[["__scopeId","data-v-40dd0994"]]);/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Mt=t=>typeof t=="number"&&isFinite(t),Ut=t=>j(t)&&Object.keys(t).length===0,Ht=Object.assign;let Oe;const Rt=()=>Oe||(Oe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),se=Array.isArray,Y=t=>typeof t=="string",pe=t=>typeof t=="boolean",qt=Object.prototype.toString,Wt=t=>qt.call(t),j=t=>Wt(t)==="[object Object]";/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Yt(t,a,o={}){const{domain:s,messages:e,args:i}=o,I=t,f=new SyntaxError(String(I));return f.code=t,a&&(f.location=a),f.domain=s,f}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const jt={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Kt=null;jt.FunctionTranslate;function zt(t){return a=>Kt}const Jt=-1;function Gt(t,a,o,s,e){const{missing:i,onWarn:I}=t;if(i!==null){const f=i(t,o,a,e);return Y(f)?f:a}else return a}function Qt(t,a,o){const s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let e=s.__localeChainCache.get(o);if(!e){e=[];let i=[o];for(;se(i);)i=Te(e,i,a);const I=se(a)?a:j(a)?a.default?a.default:null:a;i=Y(I)?[I]:I,se(i)&&Te(e,i,!1),s.__localeChainCache.set(o,e)}return e}function Te(t,a,o){let s=!0;for(let e=0;e<a.length&&pe(s);e++){const i=a[e];Y(i)&&(s=Xt(t,a[e],o))}return s}function Xt(t,a,o){let s;const e=a.split("-");do{const i=e.join("-");s=Zt(t,i,o),e.splice(-1,1)}while(e.length&&s===!0);return s}function Zt(t,a,o){let s=!1;if(!t.includes(a)&&(s=!0,a)){s=a[a.length-1]!=="!";const e=a.replace(/!/g,"");t.push(e),(se(o)||j(o))&&o[e]&&(s=o[e])}return s}function eo(t){return Yt(t,null,void 0)}function to(t,...a){const{numberFormats:o,unresolving:s,fallbackLocale:e,onWarn:i}=t,{__numberFormatters:I}=t,[f,S,T,D]=oo(...a),l=pe(T.missingWarn)?T.missingWarn:t.missingWarn;pe(T.fallbackWarn)?T.fallbackWarn:t.fallbackWarn;const b=!!T.part,R=Y(T.locale)?T.locale:t.locale,L=Qt(t,e,R);if(!Y(f)||f==="")return new Intl.NumberFormat(R).format(S);let X={},k,M=null;const u="number format";for(let E=0;E<L.length&&(k=L[E],X=o[k]||{},M=X[f],!j(M));E++)Gt(t,f,k,l,u);if(!j(M)||!Y(k))return s?Jt:f;let m=`${k}__${f}`;Ut(D)||(m=`${m}__${JSON.stringify(D)}`);let P=I.get(m);return P||(P=new Intl.NumberFormat(k,Ht({},M,D)),I.set(m,P)),b?P.formatToParts(S):P.format(S)}function oo(...t){const[a,o,s,e]=t;let i={},I={};if(!Mt(a))throw eo(14);const f=a;return Y(o)?i.key=o:j(o)&&(i=o),Y(s)?i.locale=s:j(s)&&(I=s),j(e)&&(I=e),[i.key||"",f,i,I]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Rt().__INTLIFY_PROD_DEVTOOLS__=!1);const Le=t=>(_e("data-v-3e427589"),t=t(),he(),t),ao={key:0,class:"pro-modal"},no=Le(()=>r("div",{class:"pro-overlay"},null,-1)),so={class:"pro-modal-wrapper"},lo={class:"pro-modal-body"},ro={class:"pro-modal-content"},uo=Le(()=>r("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),io={class:"pro-modal-content"},co={class:"product-attachment-list"},mo=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),fo={key:0,class:"dun-hao"},po=["src"],_o=oe({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},attachmentList:{type:Array,default:()=>[]},premium:{type:to,default:0}},emits:["on-confirm","on-close"],setup(t,{emit:a}){const o=t,s=()=>{a("on-close")},e=()=>{a("on-confirm")};return(i,I)=>{const f=U("ProPDFviewer");return o.isShow?(_(),w("div",ao,[no,r("div",so,[r("div",lo,[r("div",ro,[r("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+H(o.premium)+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),uo]),r("div",{class:"pro-modal-btn",onClick:e},"\u4E00\u952E\u5347\u7EA7"),r("div",io,[r("div",co,[mo,(_(!0),w(W,null,z(o.attachmentList,(S,T)=>(_(),J(f,{key:T,class:"file-name",title:`\u300A${S.attachmentName}\u300B`,content:S.attachmentUri,type:"pdf"},{default:C(()=>[T!==(o.attachmentList||[]).length-1?(_(),w("span",fo,"\u3001")):G("",!0)]),_:2},1032,["title","content"]))),128))])])]),r("div",{class:"pro-modal-close",onClick:s},[r("img",{src:n(pt)},null,8,po)])])])):G("",!0)}}});var ho=ae(_o,[["__scopeId","data-v-3e427589"]]);const ve=t=>(_e("data-v-07ffa5c0"),t=t(),he(),t),vo=ve(()=>r("div",{class:"title"},"\u6295\u4FDD\u4EBA",-1)),Do=ve(()=>r("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),go=ve(()=>r("div",{class:"title"},"\u4FDD\u8D39\u652F\u4ED8",-1)),yo={class:"attachment-list"},Io={class:"product-attachment-list"},bo=Q(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Fo={key:0,class:"dun-hao"},Co={class:"rate-attachment-list"},wo=Q(" *\u4FDD\u8D39\u4E0E\u88AB\u4FDD\u4EBA\u5E74\u9F84\u3001\u533B\u4FDD\u60C5\u51B5\u76F8\u5173\uFF0C\u8BE6\u89C1 "),Eo={key:0,class:"dun-hao"},Bo=oe({props:{disable:{type:Boolean,default:!1},holderDisable:{type:Boolean,default:!1},paymentMethodDisable:{type:Boolean,default:!1},premium:{default:0},productDetail:{default:{}},formInfo:{default:()=>({})}},setup(t,{expose:a}){const o=t,s=x({}),e=Se({insureDisable:!0,formInfo:o.formInfo}),i=D=>fe(D)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D",I=te(()=>{var D,l;return(l=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:l.attachmentVOList.filter(b=>b.attachmentName==="\u8D39\u7387\u8868")}),f=te(()=>{var D,l;return((l=(D=o.productDetail)==null?void 0:D.tenantProductInsureVO)==null?void 0:l.attachmentVOList.filter(b=>b.attachmentName!=="\u8D39\u7387\u8868"))||[]}),S=()=>new Promise((D,l)=>{s==null||s.value.validate().then(()=>{D("")},()=>{l()})}),T=()=>{o.disable||(e.formInfo.renewalDK=!e.formInfo.renewalDK)};return ce(()=>e.formInfo.insured.relationToHolder,(D,l)=>{o.disable||D!==l&&(D.toString()===me.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:D},e.insureDisable=!0):(e.formInfo.insured={certNo:"",name:"",socialFlag:1,relationToHolder:D},e.insureDisable=!1))}),ce(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===me.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),a({validateForm:S}),(D,l)=>{const b=U("ProField"),R=U("ProRadioButton"),L=U("ProPicker"),X=U("ProTabButton"),k=U("ProPDFviewer"),M=U("ProForm");return _(),J(M,{ref_key:"formRef",ref:s},{default:C(()=>[r("div",null,[vo,d(b,{modelValue:n(e).formInfo.holder.name,"onUpdate:modelValue":l[0]||(l[0]=u=>n(e).formInfo.holder.name=u),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"10",rules:[{validator:i}],"is-view":o.holderDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(b,{modelValue:n(e).formInfo.holder.certNo,"onUpdate:modelValue":l[1]||(l[1]=u=>n(e).formInfo.holder.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(re).ID_CARD],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.holder.mobile,"onUpdate:modelValue":l[2]||(l[2]=u=>n(e).formInfo.holder.mobile=u),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",maxlength:"11","validate-type":[n(re).PHONE],"is-view":o.holderDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":l[4]||(l[4]=u=>n(e).formInfo.holder.socialFlag=u),label:"\u6709\u65E0\u793E\u4FDD",name:"socialFlag",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:C(()=>[d(R,{modelValue:n(e).formInfo.holder.socialFlag,"onUpdate:modelValue":l[3]||(l[3]=u=>n(e).formInfo.holder.socialFlag=u),disabled:o.disable,options:n(we)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(ue),r("div",null,[Do,d(b,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[6]||(l[6]=u=>n(e).formInfo.insured.relationToHolder=u),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9"},{input:C(()=>[d(R,{modelValue:n(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":l[5]||(l[5]=u=>n(e).formInfo.insured.relationToHolder=u),disabled:o.disable,options:n(_t)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"]),d(b,{modelValue:n(e).formInfo.insured.name,"onUpdate:modelValue":l[7]||(l[7]=u=>n(e).formInfo.insured.name=u),label:"\u59D3\u540D",name:"name",required:"",maxlength:"10",rules:[{validator:i}],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","rules","is-view"]),d(b,{modelValue:n(e).formInfo.insured.certNo,"onUpdate:modelValue":l[8]||(l[8]=u=>n(e).formInfo.insured.certNo=u),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[n(re).ID_CARD],"is-view":n(e).insureDisable||o.disable},null,8,["modelValue","validate-type","is-view"]),d(b,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":l[10]||(l[10]=u=>n(e).formInfo.insured.socialFlag=u),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:C(()=>[d(R,{modelValue:n(e).formInfo.insured.socialFlag,"onUpdate:modelValue":l[9]||(l[9]=u=>n(e).formInfo.insured.socialFlag=u),disabled:o.disable||n(e).insureDisable,options:n(we)},null,8,["modelValue","disabled","options"])]),_:1},8,["modelValue"])]),d(ue),r("div",null,[go,d(b,{label:"\u6BCF\u6708\u4FDD\u8D39",class:"pro-field","is-view":!0},{input:C(()=>[Q(H(n(vt)(o.premium))+" \u5143/\u6708 \u517112\u671F",1)]),_:1}),d(L,{modelValue:n(e).formInfo.paymentMethod,"onUpdate:modelValue":l[11]||(l[11]=u=>n(e).formInfo.paymentMethod=u),name:"paymentMethod",label:"\u652F\u4ED8\u65B9\u5F0F",placeholder:"\u8BF7\u9009\u62E9","data-source":n(ht),"is-view":o.disable||n(e).formInfo.paymentMethodDisable,required:""},null,8,["modelValue","data-source","is-view"]),d(b,{label:"\u5F00\u901A\u4E0B\u4E00\u5E74\u81EA\u4E3B\u91CD\u65B0\u6295\u4FDD",class:"pro-field",name:"renewalDK",placeholder:"\u8BF7\u9009\u62E9",border:!1},{input:C(()=>[d(X,{disabled:o.allDisabled,title:"\u514D\u8D39\u5F00\u901A",active:n(e).formInfo.renewalDK,onClick:T},null,8,["disabled","active"])]),_:1}),r("div",yo,[r("div",Io,[bo,(_(!0),w(W,null,z(n(f),(u,m)=>(_(),J(k,{key:m,class:"file-name",title:`\u300A${u.attachmentName}\u300B`,content:u.attachmentUri,type:"pdf"},{default:C(()=>{var P,E;return[m!==(((E=(P=t.productDetail)==null?void 0:P.tenantProductInsureVO)==null?void 0:E.attachmentVOList)||[]).length-1?(_(),w("span",Fo,"\u3001")):G("",!0)]}),_:2},1032,["title","content"]))),128))]),r("div",Co,[wo,(_(!0),w(W,null,z(n(I),(u,m)=>(_(),J(k,{key:m,class:"file-name",title:`\u300A${u.attachmentName}\u300B`,content:u.attachmentUri,type:"pdf"},{default:C(()=>{var P,E;return[m!==(((E=(P=t.productDetail)==null?void 0:P.tenantProductInsureVO)==null?void 0:E.attachmentVOList)||[]).length-1?(_(),w("span",Eo,"\u3001")):G("",!0)]}),_:2},1032,["title","content"]))),128))])])]),d(ue)]),_:1},512)}}});var Vo=ae(Bo,[["__scopeId","data-v-07ffa5c0"]]),Oo="/static/assets/logo.020372b9.png";const To={class:"page-product-detail"},Po={class:"info"},No=["src"],So=["src"],Ao={class:"guarantee-list"},Lo={key:0,class:"basic"},$o={class:"tab-1"},ko=["src"],xo={class:"footer-button"},Mo={class:"price"},Uo=Q(" \u603B\u4FDD\u8D39"),Ho={class:"guarantee-list"},Ro={class:"title"},qo={class:"content"},Wo=oe({setup(t){const a=tt(),o=ot(),{productCode:s="BWYL2021",tenantId:e,extInfo:i,orderId:I}=o.query,f=Dt(i),{phoneNo:S,saleChannelId:T,paymentMethod:D,certNo:l,name:b,orderId:R}=f,L=I||R,X=x([{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab1"},{title:"\u4EA7\u54C1\u7279\u8272",slotName:"tab2"},{title:"\u7406\u8D54\u6D41\u7A0B",slotName:"tab3"}]),k=x(),M=x(0),u=x(!1),m=x(),P=x(),E=x(),$e=!!(b&&l&&S),ke=!!L,B=Se({holder:{certNo:l,certType:Fe.CERT,mobile:S,name:b,socialFlag:de.HAS},insured:{certNo:l,certType:Fe.CERT,name:b,socialFlag:de.HAS,relationToHolder:me.SELF},paymentMethod:D,paymentMethodDisable:!!D,renewalDK:!0}),le=x(!1),q=x(!1),xe=()=>{le.value=!1},Me=()=>{a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ee(Z({},o.query),{tenantId:e,productCode:"BWYL2022",extInfo:JSON.stringify(ee(Z({},f),{orderId:L}))})})},Ue=()=>{u.value=!0},ne=te(()=>{var v,p,c,h,g,V,A;return((c=(p=(v=m.value)==null?void 0:v.tenantProductInsureVO)==null?void 0:p.guaranteeList)==null?void 0:c.length)?(g=(h=m.value)==null?void 0:h.tenantProductInsureVO)==null?void 0:g.guaranteeList:[{guaranteeType:"\u5355\u8BA1\u5212",titleAndDescVOS:(A=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:A.titleAndDescVOS}]}),De=()=>{const{holder:{certNo:v,mobile:p,name:c,socialFlag:h},insured:{certNo:g,name:V,socialFlag:A,relationToHolder:y},paymentMethod:O}=B,N=Ce(v)&&bt(p)&&fe(c)&&!!h,F=Ce(g)&&fe(V)&&!!A&&!!y;return!!(N&&F&&!!O)},He=async v=>{rt.loading({message:"\u6838\u4FDD\u4E2D...",forbidClick:!0});try{const p=await Et(v),{code:c}=p;if(c==="10000"){const h=await Bt({id:v.id,tenantId:e}),{data:g}=h;c==="10000"?window.location.href=g:q.value=!1}else q.value=!1}catch{q.value=!1}},Re=v=>`${mt}/chuangxin/baigebao/productDetail?tenantId=${e}&productCode=${s}&orderId=${v}`,qe=async v=>{const p=It({tenantId:e,saleChannelId:T,detail:m.value,paymentMethod:B.paymentMethod,renewalDK:B.renewalDK?"Y":"N",successJumpUrl:"",premium:E.value,holder:B.holder,insured:B.insured,tenantOrderRiskList:v,orderStatus:"",orderTopStatus:""});try{const c=await Ct(p),{code:h,data:g}=c;h==="10000"&&He(ee(Z({},p),{id:g.data,extInfo:{extraInfo:{renewalDK:B.renewalDK,paymentMethod:B.paymentMethod,successJumpUrl:Re(g.data)}}}))}catch{q.value=!1}},ge=async()=>{const{calcData:v,riskVOList:p}=Ee({holder:B.holder,insured:B.insured,tenantId:e,productDetail:m.value,insureDetail:P.value}),c=async()=>{const h=await Ve(v),{code:g,data:V}=h;return g==="10000"?(E.value=V.premium,{condition:p,data:V}):{}};c(),lt.exports.debounce(c,500,{trailing:!0})},We=()=>new Promise((v,p)=>{var c,h;(h=(c=k.value)==null?void 0:c.validateForm)==null||h.call(c).then(async()=>{const{calcData:g,riskVOList:V}=Ee({holder:B.holder,insured:B.insured,tenantId:e,productDetail:m.value,insureDetail:P.value}),A=await Ve(g),{code:y,data:O}=A;y==="10000"?(E.value=O.premium,v({condition:V,data:O})):p(new Error)}).catch(()=>{q.value=!1})}),Ye=async()=>{var v;if(L){a.push({path:"/chuangxin/baigebao/guaranteeUpgrade",query:ee(Z({},o.query),{tenantId:e,productCode:"BWYL2022",extInfo:JSON.stringify(ee(Z({},f),{orderId:L}))})});return}q.value=!0;try{const{condition:p,data:c}=await We(),h={},g=(A=[])=>{(A||[]).forEach(y=>{var O;h[y.riskCode]=y,((O=y.riskPremiumDetailVOList)==null?void 0:O.length)&&g(y.riskPremiumDetailVOList)})};g(c.riskPremiumDetailVOList);const V=yt({tenantId:e,riskList:p,riskPremium:h,productId:(v=m.value)==null?void 0:v.id});qe(V)}catch{q.value=!1}};ce(()=>B,()=>{m.value&&P.value&&!L&&De()&&ge()},{deep:!0,immediate:!0});const je=async()=>{var h,g,V,A,y,O,N;const v=await wt({id:L,tenantId:e}),{code:p,data:c}=v;if(p==="10000"){const{tenantOrderHolder:F,tenantOrderInsuredList:$,extInfo:K}=c;B.holder={certNo:F.certNo,certType:F.certType,mobile:F.mobile,name:F.name,socialFlag:de.HAS},B.insured={certNo:$==null?void 0:$[0].certNo,certType:(h=$[0])==null?void 0:h.certType,name:(g=$[0])==null?void 0:g.name,socialFlag:(A=(V=$[0])==null?void 0:V.extInfo)==null?void 0:A.hasSocialInsurance,relationToHolder:(y=$[0])==null?void 0:y.relationToHolder},B.paymentMethod=K.extraInfo.paymentMethod,E.value=(N=(O=$[0])==null?void 0:O.tenantOrderProductList[0])==null?void 0:N.premium,B.renewalDK=K.extraInfo.renewalDK==="Y",(c.orderStatus===Be.ACCEPT_POLICY||c.orderStatus===Be.PAYMENT_SUCCESS)&&(le.value=!0)}},Ke=async()=>{const v=Vt({productCode:s,withInsureInfo:!0}),p=Ft({productCode:s});await Promise.all([v,p]).then(([c,h])=>{c.code==="10000"&&(m.value=c.data),h.code==="10000"&&(P.value=h.data)}),L?je():De()&&ge()};return at(()=>{Ke(),setTimeout(()=>{window.getIseeBiz&&window.getIseeBiz()},1500)}),(v,p)=>{var V,A;const c=U("van-button"),h=U("van-config-provider"),g=nt("dompurify-html");return _(),w(W,null,[d(h,{"theme-vars":n(gt)},{default:C(()=>{var y,O;return[r("div",To,[r("div",Po,[r("img",{class:"logo",src:n(Oo)},null,8,No),r("img",{src:(O=(y=m.value)==null?void 0:y.tenantProductInsureVO)==null?void 0:O.banner[0],class:"banner"},null,8,So),r("div",Ao,[d(ie,{title:"\u4FDD\u969C\u5185\u5BB9",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!1,"show-icon":!1,onLinkClick:Ue},{default:C(()=>{var N,F,$;return[m.value&&((N=m.value)==null?void 0:N.tenantProductInsureVO)?(_(),w("div",Lo,[(_(!0),w(W,null,z(($=(F=n(ne))==null?void 0:F[M.value])==null?void 0:$.titleAndDescVOS,(K,ze)=>(_(),J(ct,{key:ze,class:"guarantee-item",title:K.title,content:K.desc,border:!1},null,8,["title","content"]))),128))])):G("",!0)]}),_:1})])]),d(be,{class:"tabs",list:X.value,sticky:"",scrollspy:""},{tab1:C(()=>[d(Vo,{ref_key:"formRef",ref:k,"holder-disable":$e,disable:ke,"form-info":n(B),premium:E.value,"product-detail":m.value},null,8,["form-info","premium","product-detail"])]),tab2:C(()=>{var N,F;return[r("div",$o,[(_(!0),w(W,null,z(((F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.spec)||[],($,K)=>(_(),w("img",{key:K,src:$,class:"detail-img"},null,8,ko))),128))])]}),tab3:C(()=>[d(ie,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:C(()=>{var N,F;return[d(ft,{list:(F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.settlementProcessList},null,8,["list"])]}),_:1}),d(ie,{title:"\u5E38\u89C1\u95EE\u9898"},{default:C(()=>{var N,F;return[d(xt,{list:(F=(N=m.value)==null?void 0:N.tenantProductInsureVO)==null?void 0:F.questionList},null,8,["list"])]}),_:1})]),_:1},8,["list"]),r("div",xo,[r("div",Mo,[Uo,r("span",null,"\uFFE5"+H(n(it)(E.value))+"/\u6708",1)]),d(c,{type:"primary",class:"right",disabled:q.value,onClick:Ye},{default:C(()=>[Q(H(n(L)?"\u5347\u7EA7\u4FDD\u969C":"\u7ACB\u5373\u6295\u4FDD"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["theme-vars"]),d(dt,{show:u.value,"onUpdate:show":p[0]||(p[0]=y=>u.value=y),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:C(()=>[n(ne).length>1?(_(),J(be,{key:0,list:n(ne).map((y,O)=>({title:y.guaranteeType,slotName:`guarantee-${O}`})),class:"tab"},null,8,["list"])):G("",!0),r("div",Ho,[(_(!0),w(W,null,z(n(ne)[M.value].titleAndDescVOS,(y,O)=>(_(),w("div",{key:O,class:"guarantee-item"},[r("div",Ro,H(y.title),1),st(r("div",qo,null,512),[[g,y.content]])]))),128))])]),_:1},8,["show"]),d(ho,{"is-show":le.value,premium:E.value,"attachment-list":(A=(V=m.value)==null?void 0:V.tenantProductInsureVO)==null?void 0:A.attachmentVOList,onOnConfirm:Me,onOnClose:xe},null,8,["is-show","premium","attachment-list"])],64)}}});var na=ae(Wo,[["__scopeId","data-v-743d3aa5"]]);export{na as default};
