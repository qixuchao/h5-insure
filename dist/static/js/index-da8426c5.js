var qe=Object.defineProperty,Me=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var Ae=(n,o,k)=>o in n?qe(n,o,{enumerable:!0,configurable:!0,writable:!0,value:k}):n[o]=k,X=(n,o)=>{for(var k in o||(o={}))Ye.call(o,k)&&Ae(n,k,o[k]);if(Oe)for(var k of Oe(o))je.call(o,k)&&Ae(n,k,o[k]);return n},Q=(n,o)=>Me(n,Se(o));import{g as te,L as ie,X as H,r as C,h as p,m as w,n as I,k as D,y as U,z as t,a1 as $e,a2 as Ue,a5 as ge,C as S,a4 as ce,x as Z,d as pe,j as P,s as $,I as J,a6 as Ge,o as Ve,F as me,E as fe,ag as Ke,ah as He,B as ae,D as We,af as Xe,Q as Je,a3 as Ee}from"./vendor-d47732e4.js";import{S as Qe,a as ze,R as Ze,b as ye,A as et,c as tt,L as Te,d as it,P as at,I as ot}from"./trial-f272328d.js";import{g as we,n as nt}from"./index-1e238587.js";import{l as Be,u as rt}from"./useStorage-6aadb995.js";import{_ as oe,P as ut}from"./index-dcbfa701.js";import{a as lt,p as st}from"./trial-e4e6422f.js";const dt=n=>($e("data-v-75228791"),n=n(),Ue(),n),ct={class:"com-occupational-wrapper"},mt=dt(()=>U("div",{class:"popup-title"},"\u9009\u62E9\u804C\u4E1A",-1)),ft={class:"popup-content"},pt=te({props:{modelValue:{type:Array,required:!0,default:()=>[]},insuredCode:{type:String,required:!0,default:""},show:{type:Boolean,required:!0,default:!1}},emits:["finish","close","update:modelValue"],setup(n,{emit:o}){const k=n,E=ie({show:k.show,options:[],currentValue:""}),h=()=>{o("close")},a=({value:L,selectedOptions:s})=>{const g=(s||[]).map(c=>c.value).join("/"),d=+s[s.length-1].name;o("update:modelValue",d),o("finish",g),h()},v=L=>{const s=L,g=d=>{d.forEach(c=>{const V=c;V.children.length?g(V.children):V.children=null})};return g(s),s},R=(L="")=>{var d;const s=`${(d=L==null?void 0:L.toLocaleUpperCase)==null?void 0:d.call(L)}_OCCUPATION`,g=Be.get("occupational")||{};if(g[s]){E.options=g[s];return}we({dictCodeList:[s]}).then(({code:c,data:V})=>{var y;if(c==="10000"){const i=v(((y=V==null?void 0:V[0])==null?void 0:y.dictItemList)||[]);E.options=i,g[s]=i,Be.set("occupational",g)}})};return H(()=>k,()=>{R(k.insuredCode)},{deep:!0,immediate:!0}),H(()=>k.modelValue,L=>{},{deep:!0,immediate:!0}),(L,s)=>{const g=C("van-cascader"),d=C("VanPopup");return p(),w("div",ct,[I(d,{show:t(E).show,"onUpdate:show":s[1]||(s[1]=c=>t(E).show=c),"show-footer":"",position:"bottom",closeable:"",onClose:h},{default:D(()=>[mt,U("div",ft,[I(g,{modelValue:t(E).currentValue,"onUpdate:modelValue":s[0]||(s[0]=c=>t(E).currentValue=c),title:"\u8BF7\u9009\u62E9\u804C\u4E1A","show-header":!1,placeholder:"\u8BF7\u9009\u62E9",options:t(E).options,"active-color":"#0d6efe","field-names":{text:"value",value:"code",children:"children"},onFinish:a},null,8,["modelValue","options"])])]),_:1},8,["show"])])}}});var yt=oe(pt,[["__scopeId","data-v-75228791"]]);const gt={class:"com-personal-info-wrapper"},Vt={key:0,class:"placeholder"},kt={key:1},Dt=te({props:{formInfo:{default:()=>({})},insuredCode:{default:""},factorList:{default:()=>[]},ageRange:{default:()=>[]}},setup(n,{expose:o}){const k=n,[E,h]=ge(),[a,v]=ge(),R=S(),L=ce("source")||{},s=ie({formInfo:k.formInfo,occupationalText:""}),g=i=>{s.occupationalText=i},d=()=>{v(!1)},c=()=>new Promise((i,e)=>{R==null||R.value.validate().then(()=>{i("")},()=>{e()})}),V=i=>{const e=i||[];for(let u=0;u<e.length;u++)for(let l=u+1;l<e.length;l++){const r=e[u].split("_"),f=e[l].split("_"),N=e[u];r[0]===f[0]?r>f&&(e[u]=e[l],e[l]=N):r[0]==="age"&&(e[u]=e[l],e[l]=N)}return e},y=Z(()=>{const i=V(k==null?void 0:k.ageRange),e=(N="")=>{const b=+N.split("_")[1],ee=N.split("_")[0];return[b,ee]},u=e(i[0]),l=e(i[i.length-1]),r=pe().subtract(u[0],u[1]==="age"?"year":"day").format("YYYY-MM-DD"),f=pe().subtract(l[0],l[1]==="age"?"year":"day").format("YYYY-MM-DD");return console.log("ageRangeObj",new Date(f),new Date(r)),{minAge:new Date(f),maxAge:new Date(r)}});return o({validateForm:c,ageRangeObj:y.value}),(i,e)=>{const u=C("VanField"),l=C("ProRadioButton"),r=C("VanForm"),f=C("van-datetime-picker"),N=C("van-popup");return p(),w("div",gt,[I(r,{ref_key:"formRef",ref:R,"input-align":"right","error-message-align":"right"},{default:D(()=>[t(L).type==="proposal"&&(t(L).type==="add"||t(L).type==="repeatAdd")||t(L).type!=="proposal"&&(n.factorList.includes("APPLICANT.AGE")||n.factorList.includes("AGE")||n.factorList.includes("DAY")||n.factorList.includes("APPLICANT.DAY"))?(p(),P(u,{key:0,modelValue:t(s).formInfo.birthday,"onUpdate:modelValue":e[0]||(e[0]=b=>t(s).formInfo.birthday=b),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F"}],name:"birth",label:"\u51FA\u751F\u65E5\u671F",class:"isLink",readonly:"","is-link":"",placeholder:"\u8BF7\u9009\u62E9",onClick:e[1]||(e[1]=b=>t(h)(!0))},null,8,["modelValue"])):$("",!0),t(L).type==="proposal"&&(t(L).type==="add"||t(L).type==="repeatAdd")||t(L).type!=="proposal"&&(n.factorList.includes("APPLICANT.GENDER")||n.factorList.includes("GENDER"))?(p(),P(u,{key:1,modelValue:t(s).formInfo.gender,"onUpdate:modelValue":e[3]||(e[3]=b=>t(s).formInfo.gender=b),name:"gender",label:"\u6027\u522B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]},{input:D(()=>[I(l,{modelValue:t(s).formInfo.gender,"onUpdate:modelValue":e[2]||(e[2]=b=>t(s).formInfo.gender=b),options:t(Qe)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):$("",!0),n.factorList.includes("SOCIAL_INS")?(p(),P(u,{key:2,modelValue:t(s).formInfo.socialSecurity,"onUpdate:modelValue":e[5]||(e[5]=b=>t(s).formInfo.socialSecurity=b),name:"socialSecurity",label:"\u793E\u4FDD",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u793E\u4FDD"}]},{input:D(()=>[I(l,{modelValue:t(s).formInfo.socialSecurity,"onUpdate:modelValue":e[4]||(e[4]=b=>t(s).formInfo.socialSecurity=b),options:t(ze)},null,8,["modelValue","options"])]),_:1},8,["modelValue"])):$("",!0),n.factorList.includes("OCCUPATION_CATEGORY")?(p(),P(u,{key:3,modelValue:t(s).formInfo.occupationalClass,"onUpdate:modelValue":e[6]||(e[6]=b=>t(s).formInfo.occupationalClass=b),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u804C\u4E1A\u7C7B\u578B"}],name:"occupationalClass",label:"\u804C\u4E1A\u7C7B\u578B","is-link":"",readonly:"",placeholder:"\u8BF7\u9009\u62E9",onClick:e[7]||(e[7]=b=>t(v)(!0))},{input:D(()=>[t(s).occupationalText?(p(),w("div",kt,J(t(s).occupationalText),1)):(p(),w("span",Vt,"\u8BF7\u9009\u62E9"))]),_:1},8,["modelValue"])):$("",!0)]),_:1},512),I(N,{show:t(E),"onUpdate:show":e[10]||(e[10]=b=>Ge(E)?E.value=b:null),position:"bottom"},{default:D(()=>[I(f,{type:"date","min-date":t(y).minAge,"max-date":t(y).maxAge,onConfirm:e[8]||(e[8]=b=>{t(s).formInfo.birthday=t(pe)(b).format("YYYY-MM-DD"),t(h)(!1)}),onCancel:e[9]||(e[9]=b=>t(h)(!1))},null,8,["min-date","max-date"])]),_:1},8,["show"]),t(a)?(p(),P(yt,{key:0,modelValue:t(s).formInfo.occupationalClass,"onUpdate:modelValue":e[11]||(e[11]=b=>t(s).formInfo.occupationalClass=b),show:t(a),"insured-code":n.insuredCode,onFinish:g,onClose:d},null,8,["modelValue","show","insured-code"])):$("",!0)])}}});var xe=oe(Dt,[["__scopeId","data-v-66c854a3"]]);const It={class:"com-risk-card-wrapper part-card"},vt={class:"custom-field"},ht={class:"field-tip"},Lt={class:"custom-field"},bt={class:"field-tip"},Ft={class:"custom-field"},Ct={class:"field-tip"},_t={key:0},Rt={key:9,class:"liab-desc"},Pt=te({props:{originData:{default:()=>({})},formInfo:{default:()=>({})},mainRiskData:{default:()=>({})},mainRiskInfo:{default:()=>({})},index:{default:0},removeRisk:{type:Function,default:()=>{}},removeRiskList:{default:()=>[]},enums:{default:()=>({})}},setup(n){const o=n,k=S({}),E=ce("premium")||{};k.value=ce("enumList")||{};const h=S({chargePeriod:{disabled:!1,prevent:!1},coveragePeriod:{disabled:!1,prevent:!1},paymentFrequency:{disabled:!1,prevent:!1}}),a=ie({formInfo:o.formInfo}),v=i=>typeof i!="boolean"&&!i||Array.isArray(i)&&!i.length?!0:{}.toString.call(i)==="[object Object]"?Object.keys(i).length:!1,R=(i,e,u={})=>{let l=e;return Array.isArray(e)||(l=[`${l}`]),(i||[]).filter(r=>l.includes(`${r.value}`)||l.includes(r.value))},L=Z(()=>{var i,e,u,l,r;return((i=o.originData)==null?void 0:i.riskType)===1?R(o.enums.RISK_INSURANCE_PERIOD,((e=o.originData.riskInsureLimitVO)==null?void 0:e.insurancePeriodValueList)||[]):((u=o.originData)==null?void 0:u.periodType)===2?R([{value:"year_1",name:"1\u5E74"}],["year_1"]):R((l=o.enums)==null?void 0:l.RISK_INSURANCE_PERIOD,((r=o.mainRiskData.riskInsureLimitVO)==null?void 0:r.insurancePeriodValueList)||[])}),s=Z(()=>{var i,e,u,l,r,f,N,b;return((i=o.originData)==null?void 0:i.riskType)===1?R((e=o==null?void 0:o.enums)==null?void 0:e.RISK_PAYMENT_PERIOD,((u=o.originData.riskInsureLimitVO)==null?void 0:u.paymentPeriodValueList)||[]):((l=o.originData)==null?void 0:l.exemptFlag)===1?R(Ze,[`${(f=(r=o==null?void 0:o.originData)==null?void 0:r.riskInsureLimitVO)==null?void 0:f.paymentPeriodRule}`]):((N=o.originData)==null?void 0:N.periodType)===2?R([{value:"year_1",name:"1\u5E74\u4EA4"}],["year_1"]):R(o.enums.RISK_PAYMENT_PERIOD,((b=o.mainRiskData.riskInsureLimitVO)==null?void 0:b.paymentPeriodValueList)||[])}),g=Z(()=>{var i,e,u,l,r;return((i=o.originData)==null?void 0:i.riskType)===1?R(ye,((e=o.originData.riskInsureLimitVO)==null?void 0:e.paymentFrequencyList)||[]):((u=o.originData.riskInsureLimitVO)==null?void 0:u.paymentTypeRule)===1?R(ye,((l=o.mainRiskData.riskInsureLimitVO)==null?void 0:l.paymentFrequencyList)||[]):R(ye,((r=o.mainRiskData.riskInsureLimitVO)==null?void 0:r.paymentFrequencyList)||[])}),d=Z(()=>{var u,l;let i=0,e=0;return(((l=(u=o.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.paymentMethodLimitList)||[]).forEach((r,f)=>{f===0&&(i=r.minAmount,e=r.maxAmount),i>r.minAmount&&(i=r.minAmount),e<r.maxAmount&&(e=r.maxAmount)}),a.formInfo.amount=i,{min:i,max:e}}),c=Z(()=>{var u,l;let i=0,e=0;return(((l=(u=o.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.paymentMethodLimitList)||[]).forEach((r,f)=>{f===0&&(i=r.minPremium,e=r.maxPremium),i>r.minPremium&&(i=r.minPremium),e<r.maxPremium&&(e=r.maxPremium)}),a.formInfo.premium=i,{min:i,max:e}}),V=Z(()=>{var u,l,r,f;const i=((l=(u=o.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.minCopy)||1,e=(f=(r=o.originData)==null?void 0:r.riskCalcMethodInfoVO)==null?void 0:f.maxCopy;return a.formInfo.copy=`${i||1}`,{min:i,max:e}}),y=(i,e,u)=>{var r,f;const l=((f=(r=o.originData)==null?void 0:r.riskCalcMethodInfoVO)==null?void 0:f.increaseDecreaseNum)||1;if(u==="sumInsured"){if(d.value.max&&+i>d.value.max)return`\u91D1\u989D\u6700\u5927${d.value.max}\u5143`;if(+i<d.value.min)return`\u91D1\u989D\u6700\u5C0F${d.value.min}\u5143`}else{if(c.value.max&&+i>c.value.max)return`\u91D1\u989D\u6700\u5927${c.value.max}\u5143`;if(+i<c.value.min)return`\u91D1\u989D\u6700\u5C0F${c.value.min}\u5143`}return+i%l===0?"":`\u91D1\u989D\u5FC5\u987B\u662F${l}\u7684\u500D\u6570`};return Ve(()=>{var e,u;const i={riskType:o.originData.riskType,riskId:o.originData.id,riskName:o.originData.riskName,riskCode:o.originData.riskCode,mainRiskCode:(e=o==null?void 0:o.mainRiskData)==null?void 0:e.riskCode,mainRiskId:(u=o==null?void 0:o.mainRiskData)==null?void 0:u.id,riskCategory:o.originData.riskCategory,liabilityVOList:(o.originData.riskLiabilityInfoVOList||[]).map(l=>Q(X({},l),{liabilityAttributeCode:l.liabilityAttributeType,liabilityCode:l.liabilityCode,liabilityRateType:l.liabilityRateType}))};Object.assign(a==null?void 0:a.formInfo,i)}),H(()=>{var i;return(i=a.formInfo)==null?void 0:i.paymentFrequency},(i=0)=>{var e,u,l;[3].includes(((e=o.originData.riskCalcMethodInfoVO)==null?void 0:e.saleMethod)||0)&&(((l=(u=o.originData)==null?void 0:u.riskCalcMethodInfoVO)==null?void 0:l.paymentMethodLimitList)||[]).forEach(r=>{+r.paymentFrequency==+i&&Object.assign(a.formInfo,{amount:r.perCopyAmount,premium:r.perCopyPremium})}),+i==1&&a.formInfo.chargePeriod!=="single"&&(a.formInfo.chargePeriod="single")}),H(()=>{var i;return(i=a.formInfo)==null?void 0:i.copy},i=>{var e,u;((e=o.originData.riskCalcMethodInfoVO)==null?void 0:e.saleMethod)===4&&(a.formInfo.amount=+(i||1)*(((u=o.originData.riskCalcMethodInfoVO)==null?void 0:u.fixedAmount)||0))}),H(()=>{var i;return(i=a.formInfo)==null?void 0:i.chargePeriod},i=>{i==="single"&&+(a.formInfo.paymentFrequency||0)!=1&&(a.formInfo.paymentFrequency=1)}),H(()=>o==null?void 0:o.mainRiskInfo,i=>{var e,u,l,r,f,N;i&&o.originData.riskType===2&&(((u=(e=o.originData)==null?void 0:e.riskInsureLimitVO)==null?void 0:u.insurancePeriodRule)===1&&(i.coveragePeriod?h.value.coveragePeriod.disabled=!0:h.value.coveragePeriod.prevent=!0,a.formInfo.coveragePeriod=i.coveragePeriod||""),((r=(l=o.originData)==null?void 0:l.riskInsureLimitVO)==null?void 0:r.paymentPeriodRule)===1&&(i.chargePeriod?h.value.chargePeriod.disabled=!0:h.value.chargePeriod.prevent=!0,a.formInfo.chargePeriod=i.chargePeriod||""),((N=(f=o.originData)==null?void 0:f.riskInsureLimitVO)==null?void 0:N.paymentTypeRule)===1&&(i.paymentFrequency?h.value.paymentFrequency.disabled=!0:h.value.paymentFrequency.prevent=!0,a.formInfo.paymentFrequency=i.paymentFrequency||0))},{immediate:!0,deep:!0}),(i,e)=>{var ee,se,ne,O,_,T,B,x,F,Y,W,j,G,de,re,ue,le,M,ke,De,Ie,ve,he,Le,be,Fe,Ce,_e,Re,Pe;const u=C("ProSvg"),l=C("ProTitle"),r=C("VanStepper"),f=C("VanField"),N=C("ProRadioButton"),b=C("ProExpand");return p(),w("div",It,[I(l,{"risk-type":n.originData.riskType,title:n.originData.riskName},{default:D(()=>[n.removeRiskList.includes(n.originData.id)?(p(),w("div",{key:0,class:"delete-risk",onClick:e[0]||(e[0]=m=>n.removeRisk(n.originData.id))},[I(u,{name:"delete",color:"#0d6efe"})])):$("",!0)]),_:1},8,["risk-type","title"]),((ee=n.originData.riskCalcMethodInfoVO)==null?void 0:ee.saleMethod)===1&&n.originData.exemptFlag===2?(p(),P(f,{key:0,modelValue:t(a).formInfo.amount,"onUpdate:modelValue":e[2]||(e[2]=m=>t(a).formInfo.amount=m),label:"\u4FDD\u989D",name:"amount",rules:[{required:!0,message:"\u8BF7\u586B\u5199"},{trigger:"onChange",validator:(...m)=>y(...m,"sumInsured")}]},{input:D(()=>{var m,A;return[U("div",vt,[I(r,{modelValue:t(a).formInfo.amount,"onUpdate:modelValue":e[1]||(e[1]=q=>t(a).formInfo.amount=q),"input-width":"64px",min:t(d).min,step:((m=n.originData.riskCalcMethodInfoVO)==null?void 0:m.increaseDecreaseNum)||1,max:t(d).max},null,8,["modelValue","min","step","max"]),U("span",ht,J(`\u91D1\u989D\u6700\u4F4E${t(d).min}\u5143\uFF0C\u4E3A${((A=n.originData.riskCalcMethodInfoVO)==null?void 0:A.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue","rules"])):$("",!0),((ne=(se=n.originData)==null?void 0:se.riskCalcMethodInfoVO)==null?void 0:ne.saleMethod)===2?(p(),P(f,{key:1,modelValue:t(a).formInfo.premium,"onUpdate:modelValue":e[4]||(e[4]=m=>t(a).formInfo.premium=m),label:"\u4FDD\u8D39",name:"premium",rules:[{required:!0,message:"\u8BF7\u586B\u5199"},{trigger:"onChange",validator:(...m)=>y(...m,"premium")}]},{input:D(()=>{var m,A,q,K;return[U("div",Lt,[I(r,{modelValue:t(a).formInfo.premium,"onUpdate:modelValue":e[3]||(e[3]=z=>t(a).formInfo.premium=z),step:((A=(m=n.originData)==null?void 0:m.riskCalcMethodInfoVO)==null?void 0:A.increaseDecreaseNum)||1,min:t(c).min,"input-width":"64px",max:t(c).max},null,8,["modelValue","step","min","max"]),U("span",bt,J(`\u91D1\u989D\u6700\u4F4E${t(c).min}\u5143\uFF0C\u4E3A${((K=(q=n.originData)==null?void 0:q.riskCalcMethodInfoVO)==null?void 0:K.increaseDecreaseNum)||1}\u7684\u500D\u6570`),1)])]}),_:1},8,["modelValue","rules"])):$("",!0),((_=(O=n.originData)==null?void 0:O.riskCalcMethodInfoVO)==null?void 0:_.saleMethod)===3||((B=(T=n.originData)==null?void 0:T.riskCalcMethodInfoVO)==null?void 0:B.saleMethod)===4&&(((F=(x=n.originData)==null?void 0:x.riskCalcMethodInfoVO)==null?void 0:F.minCopy)||((W=(Y=n.originData)==null?void 0:Y.riskCalcMethodInfoVO)==null?void 0:W.maxCopy))?(p(),P(f,{key:2,modelValue:t(a).formInfo.copy,"onUpdate:modelValue":e[6]||(e[6]=m=>t(a).formInfo.copy=m),label:"\u6295\u4FDD\u4EFD\u6570",name:"copy",rules:[{required:!0,message:"\u8BF7\u586B\u5199"}]},{input:D(()=>[U("div",Ft,[I(r,{modelValue:t(a).formInfo.copy,"onUpdate:modelValue":e[5]||(e[5]=m=>t(a).formInfo.copy=m),step:1,min:t(V).min,max:t(V).max},null,8,["modelValue","min","max"]),U("span",Ct,J(`${t(V).min}\u4EFD\u8D77\u8D2D\uFF0C\u6700\u591A\u8D2D\u4E70${t(V).max}\u4EFD`),1)])]),_:1},8,["modelValue"])):$("",!0),(![1].includes(((j=n.originData.riskCalcMethodInfoVO)==null?void 0:j.saleMethod)||0)||((G=n.originData)==null?void 0:G.exemptFlag)===1)&&(n.originData.riskCalcMethodInfoVO.fixedAmount||((re=t(E))==null?void 0:re[(de=n.originData)==null?void 0:de.riskCode]))?(p(),P(f,{key:3,label:"\u4FDD\u989D"},{input:D(()=>{var m,A,q,K;return[U("div",null,J(((m=n.originData.riskCalcMethodInfoVO)==null?void 0:m.fixedAmount)||((K=(q=t(E))==null?void 0:q[(A=n.originData)==null?void 0:A.riskCode])==null?void 0:K.amount)),1)]}),_:1})):$("",!0),!v((le=(ue=n.originData)==null?void 0:ue.riskInsureLimitVO)==null?void 0:le.insurancePeriodValueList)||!v((ke=(M=n.originData)==null?void 0:M.riskInsureLimitVO)==null?void 0:ke.insurancePeriodRule)?(p(),P(f,{key:4,modelValue:t(a).formInfo.coveragePeriod,"onUpdate:modelValue":e[8]||(e[8]=m=>t(a).formInfo.coveragePeriod=m),label:"\u4FDD\u969C\u671F\u95F4",name:"coveragePeriod",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4FDD\u969C\u671F\u95F4"}]},{input:D(()=>[I(N,{modelValue:t(a).formInfo.coveragePeriod,"onUpdate:modelValue":e[7]||(e[7]=m=>t(a).formInfo.coveragePeriod=m),disabled:h.value.coveragePeriod.disabled,prevent:h.value.coveragePeriod.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4FDD\u969C\u671F\u95F4":"",options:t(L),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):$("",!0),!v((Ie=(De=n.originData)==null?void 0:De.riskInsureLimitVO)==null?void 0:Ie.paymentPeriodValueList)||!v((he=(ve=n.originData)==null?void 0:ve.riskInsureLimitVO)==null?void 0:he.paymentPeriodRule)?(p(),P(f,{key:5,modelValue:t(a).formInfo.chargePeriod,"onUpdate:modelValue":e[10]||(e[10]=m=>t(a).formInfo.chargePeriod=m),label:"\u4EA4\u8D39\u671F\u95F4",name:"chargePeriod",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u671F\u95F4"}]},{input:D(()=>[I(N,{modelValue:t(a).formInfo.chargePeriod,"onUpdate:modelValue":e[9]||(e[9]=m=>t(a).formInfo.chargePeriod=m),disabled:h.value.chargePeriod.disabled,prevent:h.value.chargePeriod.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u671F\u95F4":"",options:t(s),prop:{label:"name",value:"value"}},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):$("",!0),!v((Le=n.originData.riskInsureLimitVO)==null?void 0:Le.paymentFrequencyList)||!v((be=n.originData.riskInsureLimitVO)==null?void 0:be.paymentPeriodRule)?(p(),P(f,{key:6,modelValue:t(a).formInfo.paymentFrequency,"onUpdate:modelValue":e[12]||(e[12]=m=>t(a).formInfo.paymentFrequency=m),label:"\u4EA4\u8D39\u65B9\u5F0F",name:"paymentFrequency",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA4\u8D39\u65B9\u5F0F"}]},{input:D(()=>[I(N,{modelValue:t(a).formInfo.paymentFrequency,"onUpdate:modelValue":e[11]||(e[11]=m=>t(a).formInfo.paymentFrequency=m),disabled:h.value.paymentFrequency.disabled,prevent:h.value.paymentFrequency.prevent?"\u8BF7\u5148\u9009\u62E9\u4E3B\u9669\u4EA4\u8D39\u65B9\u5F0F":"",options:t(g)},null,8,["modelValue","disabled","prevent","options"])]),_:1},8,["modelValue"])):$("",!0),v((Ce=(Fe=n.originData)==null?void 0:Fe.riskInsureLimitVO)==null?void 0:Ce.annuityDrawTypeList)?$("",!0):(p(),P(f,{key:7,modelValue:t(a).formInfo.annuityDrawDate,"onUpdate:modelValue":e[14]||(e[14]=m=>t(a).formInfo.annuityDrawDate=m),label:"\u9886\u53D6\u65F6\u95F4",name:"annuityDrawDate",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65F6\u95F4"}]},{input:D(()=>{var m;return[I(N,{modelValue:t(a).formInfo.annuityDrawDate,"onUpdate:modelValue":e[13]||(e[13]=A=>t(a).formInfo.annuityDrawDate=A),options:R(t(et),((m=n.originData.riskInsureLimitVO)==null?void 0:m.annuityDrawTypeList)||[])},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),v((Re=(_e=n.originData)==null?void 0:_e.riskInsureLimitVO)==null?void 0:Re.annuityDrawFrequencyList)?$("",!0):(p(),P(f,{key:8,modelValue:t(a).formInfo.annuityDrawType,"onUpdate:modelValue":e[16]||(e[16]=m=>t(a).formInfo.annuityDrawType=m),label:"\u9886\u53D6\u65B9\u5F0F",name:"annuityDrawType",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9886\u53D6\u65B9\u5F0F"}]},{input:D(()=>{var m;return[I(N,{modelValue:t(a).formInfo.annuityDrawType,"onUpdate:modelValue":e[15]||(e[15]=A=>t(a).formInfo.annuityDrawType=A),options:R(t(tt),((m=n.originData.riskInsureLimitVO)==null?void 0:m.annuityDrawFrequencyList)||[])},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])),(p(!0),w(me,null,fe(n.originData.riskLiabilityInfoVOList||[],(m,A)=>(p(),w("div",{key:A},[m.optionalFlag===1?(p(),P(f,{key:0,modelValue:t(a).formInfo.liabilityVOList[A].liabilityAttributeValue,"onUpdate:modelValue":q=>t(a).formInfo.liabilityVOList[A].liabilityAttributeValue=q,label:m.liabilityName,name:"liabilityAttributeValue",rules:[{required:m.liabilityAttributeValue,message:`\u8BF7\u9009\u62E9${m.liabilityName}`}]},{input:D(()=>{var q,K;return[U("div",null,[v(m.liabilityAttributeValueList)?(p(),w("span",_t,"50\u4E07")):(p(),P(N,{key:1,modelValue:t(a).formInfo.liabilityVOList[A].liabilityAttributeValue,"onUpdate:modelValue":z=>t(a).formInfo.liabilityVOList[A].liabilityAttributeValue=z,options:R(t(Te),(K=(q=n.originData.riskLiabilityInfoVOList)==null?void 0:q[A])==null?void 0:K.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label","rules"])):(p(),P(f,{key:1,modelValue:t(a).formInfo.liabilityVOList[A].liabilityAttributeValue,"onUpdate:modelValue":q=>t(a).formInfo.liabilityVOList[A].liabilityAttributeValue=q,label:m.liabilityName,name:"liabilityAttributeValue"},{input:D(()=>{var q,K;return[U("div",null,[v(m.liabilityAttributeValueList)?(p(),P(N,{key:0,modelValue:t(a).formInfo.liabilityVOList[A].liabilityAttributeValue,"onUpdate:modelValue":z=>t(a).formInfo.liabilityVOList[A].liabilityAttributeValue=z,options:t(it)},null,8,["modelValue","onUpdate:modelValue","options"])):(p(),P(N,{key:1,modelValue:t(a).formInfo.liabilityVOList[A].liabilityAttributeValue,"onUpdate:modelValue":z=>t(a).formInfo.liabilityVOList[A].liabilityAttributeValue=z,options:R(t(Te),(K=(q=n.originData.riskLiabilityInfoVOList)==null?void 0:q[A])==null?void 0:K.liabilityAttributeValueList)},null,8,["modelValue","onUpdate:modelValue","options"]))])]}),_:2},1032,["modelValue","onUpdate:modelValue","label"]))]))),128)),((Pe=n.originData)==null?void 0:Pe.relationDesc)?(p(),w("div",Rt,[I(b,{title:"\u8D23\u4EFB\u6295\u4FDD\u8BF4\u660E"},{default:D(()=>[U("div",null,J(n.originData.relationDesc),1)]),_:1})])):$("",!0)])}}});var Ot=oe(Pt,[["__scopeId","data-v-38aa4e28"]]);const At=n=>($e("data-v-d03a23e0"),n=n(),Ue(),n),Et={class:"com-risk-list-wrapper"},Tt=At(()=>U("div",{class:"popup-title"},"\u9009\u62E9\u9644\u52A0\u9669",-1)),Bt={class:"risk-list"},xt={class:"cell-title"},Nt={class:"title"},$t={class:"footer-bar"},Ut=ae("\u786E\u8BA4"),wt=te({props:{riskList:{default:()=>[]},show:{type:Boolean,default:!1},collocationList:{default:()=>[]},disabled:{default:()=>[]},modelValue:{default:()=>[]}},emits:["finished","close","update:modelValue"],setup(n,{emit:o}){const k=n,E=S([]),h=S([]),a=S([...k.disabled]),v=ie({show:k.show,currentChecked:[...k.modelValue]}),R=(d,c)=>{if(!k.collocationList.length){if(c){v.currentChecked=[];return}v.currentChecked.push(d);return}let V=v.currentChecked,y=a.value;c?(k.collocationList.forEach(i=>{d===i.riskId&&(i.collocationType===2?V=V.filter(e=>e!==i.collocationRiskId||e!==d):i.collocationType===3?(V=V.filter(e=>e!==d),y=y.filter(e=>e!==i.collocationRiskId)):V=V.filter(e=>e!==d))}),v.currentChecked=V,a.value=y):(k.collocationList.forEach(i=>{d===i.riskId&&(c||(i.collocationType===2?V.push(i.collocationRiskId):i.collocationType===3&&y.push(i.collocationRiskId),V.push(d)))}),v.currentChecked.push(...V),a.value=y)},L=d=>{var V,y,i;if(a.value.includes(d))return;const c=v.currentChecked.includes(d);R(d,c),(i=(y=(V=E==null?void 0:E.value)==null?void 0:V[d])==null?void 0:y.toggle)==null||i.call(y)},s=()=>{o("close")},g=()=>{const d=k.riskList.filter(c=>v.currentChecked.includes(c.id));o("update:modelValue",[...new Set(h.value)]),o("finished",d,a.value),o("close")};return Ke(()=>{E.value=[]}),H(()=>v.currentChecked,d=>{h.value=d},{deep:!0,immediate:!0}),H(()=>k.modelValue,d=>{h.value=d||[],a.value.push(...d||[])},{deep:!0,immediate:!0}),(d,c)=>{const V=C("van-checkbox"),y=C("VanCell"),i=C("van-cell-group"),e=C("van-checkbox-group"),u=C("VanButton"),l=C("VanPopup");return p(),w("div",Et,[I(l,{show:t(v).show,"onUpdate:show":c[1]||(c[1]=r=>t(v).show=r),title:"\u9009\u62E9\u9644\u52A0\u9669","show-footer":"",round:"",position:"bottom",closeable:"",onClose:s},{default:D(()=>[Tt,U("div",Bt,[I(e,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=r=>h.value=r)},{default:D(()=>[I(i,{inset:""},{default:D(()=>[(p(!0),w(me,null,fe(n.riskList,r=>(p(),P(y,{key:r.id,title:r.riskName,disabled:a.value.includes(r.id),onClick:f=>L(r.id)},{"right-icon":D(()=>[I(V,{ref_for:!0,ref:f=>E.value[r.id]=f,shape:"square",disabled:a.value.includes(r.id),name:r.id,onClick:He(f=>L(r.id),["stop"])},null,8,["disabled","name","onClick"])]),title:D(()=>[U("div",xt,[U("div",Nt,J(r.riskName),1)])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),U("div",$t,[I(u,{type:"primary",disabled:!t(v).currentChecked.length,block:"",onClick:g},{default:D(()=>[Ut]),_:1},8,["disabled"])])]),_:1},8,["show"])])}}});var qt=oe(wt,[["__scopeId","data-v-d03a23e0"]]);const Mt={class:"risk-list-wrapper"},St={key:0,class:"add-rider-risk"},Yt={class:"left-part"},jt=ae("+ \u9644\u52A0\u9669"),Gt=te({props:{riskInfo:{default:()=>({})},originData:{default:()=>[]},pickFactor:{type:Function,default:()=>{}},enums:{default:()=>{}},riderRiskList:{default:()=>[]}},setup(n){var L;const o=n,k=ce("source")||{},[E,h]=ge(!1);S(null),S(null);const a=ie({mainRiskInfo:o.riskInfo,riderRiskInfo:((L=o.riskInfo)==null?void 0:L.riderRiskVOList)||[],requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[],checkedList:[],relationListNum:0,disabledList:[]}),v=(s,g)=>{a.requiredRiderRiskData=a.requiredRiderRiskData.concat(s),a.disabledList=g},R=s=>{We.confirm({message:"\u786E\u5B9A\u8981\u5220\u9664\u9644\u52A0\u9669\u4E48\uFF1F"}).then(()=>{var d;const g=[s];(((d=a.mainRiskData)==null?void 0:d.collocationVOList)||[]).forEach(c=>{s===c.riskId&&(c.collocationType===2||c.collocationType===3)&&g.push(c.collocationRiskId)}),a.checkedList=a.checkedList.filter(c=>!g.includes(c)),a.requiredRiderRiskData=a.requiredRiderRiskData.filter(c=>!g.includes(c.id)),a.disabledList=a.disabledList.filter(c=>!g.includes(c)),Object.assign(a.riderRiskInfo,{[s]:void 0})}).catch(()=>{})};return Ve(()=>{}),H(()=>a.requiredRiderRiskData,s=>{const g=[a.mainRiskData,...s];let d=[],c=[];const V=[];g.forEach((y,i)=>{var u,l,r;const e=((u=y==null?void 0:y.riskCalcMethodInfoVO)==null?void 0:u.riskFactorRelationList)||[];d=d.concat(e.filter(f=>f.factorObject==="insured").map(f=>f.factorCode)),c=c.concat(e.filter(f=>f.factorObject==="holder").map(f=>f.factorCode)),V.push((l=y==null?void 0:y.riskInsureLimitVO)==null?void 0:l.minHolderAge,(r=y==null?void 0:y.riskInsureLimitVO)==null?void 0:r.maxHolderAge)}),(s||[]).forEach(y=>{var e;const i={riskType:y.riskType,riskId:y.id,riskCode:y.riskCode,riskName:y.riskName,mainRiskCode:a.mainRiskData.riskCode,mainRiskId:(e=a.mainRiskData)==null?void 0:e.id,riskCategory:y.riskCategory,liabilityVOList:(y.riskLiabilityInfoVOList||[]).map(u=>Q(X({},u),{liabilityAttributeCode:u.liabilityAttributeType,liabilityCode:u.liabilityCode,liabilityRateType:u.liabilityRateType}))};Object.assign(a.riderRiskInfo,{[y.id]:i})}),o.pickFactor({insuredFactorList:[...new Set(d)],holderFactorList:[...new Set(c)],ageRange:V})},{deep:!0,immediate:!0}),H(()=>o.originData,s=>{(s||[]).forEach(g=>{g.riskType===1&&(a.mainRiskData=g)})},{deep:!0,immediate:!0}),(s,g)=>{var c,V,y;const d=C("ProCheckButton");return p(),w("div",Mt,[(p(!0),w(me,null,fe(n.originData,(i,e)=>(p(),P(Ot,{key:i.id,"form-info":t(a).riderRiskInfo[i.id],index:e,enums:n.enums,"main-risk-data":t(a).mainRiskData,"main-risk-info":t(a).mainRiskInfo,"origin-data":i,"remove-risk":R,"remove-risk-list":t(a).checkedList},null,8,["form-info","index","enums","main-risk-data","main-risk-info","origin-data","remove-risk-list"]))),128)),((c=t(a).riderRiskList)==null?void 0:c.length)-((V=t(a).checkedList)==null?void 0:V.length)&&(t(k).origin!=="proposal"||t(k).type==="addRiderRisk")?(p(),w("div",St,[U("span",Yt,J(`\u5171\u6709${t(a).riderRiskList.length-t(a).checkedList.length}\u6B3E\u9644\u52A0\u9669\u53EF\u4EE5\u6DFB\u52A0`),1),I(d,{activated:"",onClick:g[0]||(g[0]=i=>t(h)(!0))},{default:D(()=>[jt]),_:1})])):$("",!0),t(E)?(p(),P(qt,{key:1,modelValue:t(a).checkedList,"onUpdate:modelValue":g[1]||(g[1]=i=>t(a).checkedList=i),show:t(E),disabled:t(a).disabledList,"risk-list":t(a).riderRiskList,"collocation-list":((y=t(a).mainRiskData)==null?void 0:y.collocationVOList)||[],onFinished:v,onClose:g[2]||(g[2]=i=>t(h)(!1))},null,8,["modelValue","show","disabled","risk-list","collocation-list"])):$("",!0)])}}});var Ne=oe(Gt,[["__scopeId","data-v-674305e1"]]);const Kt={key:0,class:"part-card"},Ht={key:1,class:"part-card"},Wt={class:"risk-content"},Xt={key:0,class:"risk"},Jt={key:1,class:"plan-risk"},Qt={class:"footer-bar"},zt={class:"trial-result"},Zt={class:"result-num"},ei=ae(" \u5143\u8D77 "),ti={class:"trial-operate"},ii={key:0,class:"retrial-tip"},ai=ae(" \u6761\u4EF6\u66F4\u6539\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u8BD5\u7B97 "),oi=ae("\u53BB\u8BD5\u7B97"),ni=ae("\u7ACB\u5373\u6295\u4FDD"),ri=te({setup(n){const o=Xe(),k=Je(),{productCode:E="MMBBSF",templateId:h=1,agentCode:a="test",agencyCode:v="",tenantId:R=9991000007,venderCode:L="99"}=k.query,s=S({personVO:{}}),g=S({insuredCode:"",personVO:{}}),d=S({}),c=S({}),V=S({}),y=S({}),i=S({}),e=ie({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0,retrialTip:!1,enumList:{},ageRange:[],collapseName:["1"],insuredRiskList:[],currentRiskList:[]});Ee("premium",i.value),Ee("source",""),rt().get("userInfo");const u="premiumTrial",l=()=>{e.retrialTip=!1},r=(O,_)=>{const T=[],B=x=>{x.forEach(F=>{var W,j,G;const Y={initialAmount:(W=_[F.riskCode])==null?void 0:W.amount,paymentFrequency:F.paymentFrequency,paymentPeriod:F.chargePeriod.split("_")[1],paymentPeriodType:at[F.chargePeriod.split("_")[0]],insurancePeriodType:ot[F.coveragePeriod.split("_")[0]],insurancePeriodValue:F.coveragePeriod.split("_")[1],riskCode:F.riskCode,riskType:F.riskType,initialPremium:(j=_[F.riskCode])==null?void 0:j.premium};T.push(Y),((G=F.riderRiskVOList)==null?void 0:G.length)&&B(F.riderRiskVOList)})};B(O),e.insuredRiskList=T},f=()=>{nt({agencyId:v,saleUserId:a,tenantId:R,venderCode:L,orderDataSource:1,pageCode:u,extInfo:{templateId:+(h||1),pageCode:u},tenantOrderHolder:{},tenantOrderInsuredList:[{tenantOrderProductList:[{productCode:e.riskBaseInfo.productCode||"",productName:e.riskBaseInfo.productName||"",premium:e.trialResult.premium||0,tenantOrderRiskList:e.insuredRiskList}]}]}).then(({code:O,data:_})=>{O==="10000"&&_.pageAction.pageAction==="jumpToPage"&&o.push({path:ut[_.pageAction.data.nextPageCode],query:Q(X({},k.query),{orderNo:_.pageAction.data.orderNo})})})},N=()=>{const O=JSON.parse(JSON.stringify(d.value[e.currentPlan])),_=Object.values(O.riderRiskVOList).map(B=>{const x=B;if(x.chargePeriod==="3"){const F=(d.value[e.currentPlan].chargePeriod||"").split("_");F[1]&&(F[1]-=1),x.chargePeriod=F.join("_")}return x.liabilityVOList=(x.liabilityVOList||[]).filter(F=>F.liabilityAttributeValue&&F.liabilityAttributeValue!=="-1").map(F=>{const Y=F;return Y.liabilityAttributeValue==="0"&&(Y.liabilityAttributeValue=""),Y}),x});O.liabilityVOList=O.liabilityVOList.filter(B=>!["-1"].includes(B.liabilityAttributeValue)).map(B=>{const x=B;return x.liabilityAttributeValue==="0"&&(x.liabilityAttributeValue=""),x});const T={holder:{personVO:Q(X({},s.value.personVO),{birthday:s.value.personVO.birthday?`${s.value.personVO.birthday} 00:00:00`:""})},productCode:e.riskBaseInfo.productCode,insuredVOList:[Q(X({},g.value),{personVO:Q(X({},g.value.personVO),{birthday:g.value.personVO.birthday&&`${g.value.personVO.birthday} 00:00:00`}),productPlanVOList:[{planCode:e.currentPlan||"",riskVOList:[Q(X({},O),{riderRiskVOList:_})]}]})]};st(X({},T)).then(({code:B,data:x})=>{if(B==="10000"){e.retrialTip=!1,e.trialResult=x,e.canTrial=!1;const F={},Y=(W=[])=>{W.forEach(j=>{var G;F[j.riskCode]=j,((G=j.riskPremiumDetailVOList)==null?void 0:G.length)&&Y(j.riskPremiumDetailVOList)})};Y(x.riskPremiumDetailVOList),r(T.insuredVOList[0].productPlanVOList[0].riskVOList,F),Object.assign(i.value,F)}})},b=()=>{var O,_,T,B,x;Promise.all([(_=(O=c.value)==null?void 0:O.validateForm)==null?void 0:_.call(O),(B=(T=V.value)==null?void 0:T.validateForm)==null?void 0:B.call(T),(x=y.value)==null?void 0:x.validate()]).then(()=>{N()})},ee=()=>{we({dictCodeList:["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD"]}).then(({code:_,data:T})=>{if(_==="10000"){const B={};T.forEach(x=>{B[x.dictCode]=x.dictItemList}),e.enumList=B}})},se=()=>{lt({productCode:E,source:1}).then(({code:O,data:_})=>{O==="10000"&&(e.riskBaseInfo=_.productBasicInfoVO,(_.productRelationPlanVOList||_.riskDetailVOList||[]).forEach((T,B)=>{B===0&&(e.currentPlan=T.planCode||"0"),Object.assign(d.value,{[T.planCode||B]:{liabilityVOList:[],riderRiskVOList:{}}})}),e.riskData=_.productRiskVoList[0].riskDetailVOList||[],e.currentRiskList=(_.productRiskVoList[0].riskDetailVOList||[]).filter(T=>T.riskType===1||T.collocationType===2),e.riskPlanData=_.productRelationPlanVOList||[])}).finally(()=>{})},ne=O=>{e.holderFactor=O.holderFactorList,e.insuredFactor=O.insuredFactorList,e.ageRange=O.ageRange};return H([()=>d.value,()=>s.value,()=>g.value],O=>{O&&!e.canTrial&&(e.canTrial=!0,e.retrialTip=!0)},{deep:!0}),Ve(()=>{se(),ee()}),(O,_)=>{const T=C("ProTitle"),B=C("VanForm"),x=C("ProTabButton"),F=C("VanTab"),Y=C("VanTabs"),W=C("van-collapse-item"),j=C("van-collapse"),G=C("VanButton"),de=C("ProPageWrap");return p(),P(de,{class:"page-trial-wrapper"},{default:D(()=>{var re,ue,le;return[t(e).holderFactor.length?(p(),w("div",Kt,[I(T,{title:"\u6295\u4FDD\u4EBA"}),I(xe,{ref_key:"holderRef",ref:c,"insured-code":(re=t(e).riskBaseInfo)==null?void 0:re.insurerCode,"form-info":s.value.personVO,"factor-list":t(e).holderFactor,"age-range":t(e).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):$("",!0),t(e).insuredFactor.length?(p(),w("div",Ht,[I(T,{title:"\u88AB\u4FDD\u4EBA"}),I(xe,{ref_key:"insuredRef",ref:V,"insured-code":(ue=t(e).riskBaseInfo)==null?void 0:ue.insurerCode,"form-info":g.value.personVO,"factor-list":t(e).insuredFactor,"age-range":t(e).ageRange},null,8,["insured-code","form-info","factor-list","age-range"])])):$("",!0),U("div",Wt,[I(j,{modelValue:t(e).collapseName,"onUpdate:modelValue":_[1]||(_[1]=M=>t(e).collapseName=M)},{default:D(()=>[I(W,{name:"1"},{title:D(()=>[I(T,{title:"\u6295\u4FDD\u65B9\u6848"})]),default:D(()=>[t(e).riskData.length?(p(),w("div",Xt,[I(B,{ref_key:"riskFormRef",ref:y,"input-align":"right","error-message-align":"right"},{default:D(()=>[I(Ne,{"risk-info":d.value[0],enums:t(e).enumList,"origin-data":t(e).riskData,"pick-factor":ne},null,8,["risk-info","enums","origin-data"])]),_:1},512)])):$("",!0),t(e).riskPlanData.length?(p(),w("div",Jt,[I(B,{ref_key:"riskFormRef",ref:y,"input-align":"right","error-message-align":"right"},{default:D(()=>[I(Y,{active:t(e).currentPlan,"onUpdate:active":_[0]||(_[0]=M=>t(e).currentPlan=M)},{default:D(()=>[(p(!0),w(me,null,fe(t(e).riskPlanData,M=>(p(),P(F,{key:M.planCode,name:M.planCode,title:M.planName},{title:D(()=>[I(x,{title:M.planName,active:t(e).currentPlan===M.planCode},null,8,["title","active"])]),default:D(()=>[M.planCode===t(e).currentPlan?(p(),P(Ne,{key:0,"risk-info":d.value[M.planCode],enums:t(e).enumList,"origin-data":M.riskDetailVOList,"pick-factor":ne},null,8,["risk-info","enums","origin-data"])):$("",!0)]),_:2},1032,["name","title"]))),128))]),_:1},8,["active"])]),_:1},512)])):$("",!0)]),_:1})]),_:1},8,["modelValue"])]),U("div",Qt,[U("span",zt,[U("span",Zt,J((t(e).retrialTip?"0":((le=t(e).trialResult)==null?void 0:le.premium)||"0").toLocaleString()),1),ei]),U("div",ti,[t(e).retrialTip?(p(),w("div",ii,[ai,U("span",{class:"close-icon",onClick:l},"X")])):$("",!0),t(e).canTrial?(p(),P(G,{key:1,type:"primary",onClick:b},{default:D(()=>[oi]),_:1})):(p(),P(G,{key:2,type:"primary",onClick:f},{default:D(()=>[ni]),_:1}))])])]}),_:1})}}});var pi=oe(ri,[["__scopeId","data-v-622f5547"]]);export{pi as default};
