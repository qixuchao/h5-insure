import{g as b,E as l,O as g,h as S,r as i,j as k,k as y,m as p,z as a,J as _,A,H as E,aq as w,L as P,p as N,a4 as V,a5 as O,C as T}from"./vendor-96e68f0e.js";import{b as v,_ as q,r as z}from"./index-87df9c0d.js";import{b as H}from"./format-20a55ce1.js";const M=e=>v.post("/api/app/insure/insurance/sendSmsCodeToC",{},{params:{mobile:e}}),Q=(e,s)=>v.post("/api/app/insure/insurance/checkSmsCode",{},{params:{mobile:e,smsCode:s}});const U=e=>(V("data-v-41303958"),e=e(),O(),e),W={class:"page-phone-verify"},j=U(()=>a("div",{class:"title"},"\u901A\u8FC7\u6295\u4FDD\u4EBA\u624B\u673A\u53F7\u9A8C\u8BC1\u540E\uFF0C\u53EF\u8FDB\u884C\u6295\u4FDD\u4FE1\u606F\u9884",-1)),J={class:"phone"},L={class:"input-wrapper"},R=T("\u4E0B\u4E00\u6B65"),$=b({setup(e){const s=l(""),c=l(""),t=l(0);let d;const C=g(),{saleUserId:m="D1234567-1",tenantId:h="9991000007",templateId:G=1,productCode:K="CQ75CQ76",insurerCode:X="ancheng",orderNo:f}=C.query,B=()=>{d=setInterval(()=>{t.value-=1,t.value<=0&&clearInterval(d)},1e3)},D=()=>{z({orderNo:f,saleUserId:m,tenantId:h}).then(n=>{var r;const{code:u,data:o}=n;u==="10000"&&(s.value=(r=o==null?void 0:o.tenantOrderHolder)==null?void 0:r.mobile)})},F=()=>{M(s.value).then(({code:n})=>{n==="10000"&&(t.value=60,B())})},x=()=>{Q(s.value,c.value)};return S(()=>{D()}),(n,u)=>{const o=i("van-button"),r=i("ProPageWrap");return k(),y(r,null,{default:p(()=>[a("div",W,[j,a("div",J,_(A(H)(s.value)),1),a("div",L,[E(a("input",{"onUpdate:modelValue":u[0]||(u[0]=I=>c.value=I),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",class:"input"},null,512),[[w,c.value]]),a("div",{class:P(["btn",{second:t.value}]),onClick:F},_(t.value?`${t.value}s`:"\u53D1\u9001\u9A8C\u8BC1\u7801"),3)]),N(o,{type:"primary",class:"submit-btn",onClick:x},{default:p(()=>[R]),_:1})])]),_:1})}}});var se=q($,[["__scopeId","data-v-41303958"]]);export{se as default};
