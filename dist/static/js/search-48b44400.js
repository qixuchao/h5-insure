import{v as t,K as e,C as s,br as o,d as a,i,y as n,x as l,bs as r,j as c,bt as d,A as f,O as p,z as u,Q as g,b as h,bu as v,E as w,S as A,G as m,R as x,bv as C,bw as b,D as y,r as k,bx as z,X as N,by as S,bz as I,H as L,B as M,bA as R,bB as V,bC as E}from"./index-5f0b7c0f.js";const[B,G]=t("index-bar"),O={sticky:e,zIndex:s,teleport:[String,Object],highlightColor:String,stickyOffsetTop:o(0),indexList:{type:Array,default:function(){const t="A".charCodeAt(0);return Array(26).fill("").map(((e,s)=>String.fromCharCode(t+s)))}}},P=Symbol(B);var K=a({name:B,props:O,emits:["select","change"],setup(t,{emit:e,slots:s}){const o=i(),a=i(),k=i(""),z=n(),N=l(o),{children:S,linkChildren:I}=r(P);let L;I({props:t});const M=c((()=>{if(d(t.zIndex))return{zIndex:+t.zIndex+1}})),R=c((()=>{if(t.highlightColor)return{color:t.highlightColor}})),V=(e,s)=>{for(let o=S.length-1;o>=0;o--){const a=o>0?s[o-1].height:0;if(e+(t.sticky?a+t.stickyOffsetTop:0)>=s[o].top)return o}return-1},E=t=>S.find((e=>String(e.index)===t)),B=()=>{if(A(o))return;const{sticky:e,indexList:s}=t,a=m(N.value),i=x(N),n=S.map((t=>t.getRect(N.value,i)));let l=-1;if(L){const t=E(L);if(t){const e=t.getRect(N.value,i);l=V(e.top,n)}}else l=V(a,n);k.value=s[l],e&&S.forEach(((e,s)=>{const{state:o,$el:r}=e;if(s===l||s===l-1){const t=r.getBoundingClientRect();o.left=t.left,o.width=t.width}else o.left=null,o.width=null;if(s===l)o.active=!0,o.top=Math.max(t.stickyOffsetTop,n[s].top-a)+i.top;else if(s===l-1&&""===L){const t=n[l].top-a;o.active=t>0,o.top=t+i.top-n[s].height}else o.active=!1})),L=""},O=()=>{w(B)};f("scroll",B,{target:N,passive:!0}),p(O),u((()=>t.indexList),O),u(k,(t=>{t&&e("change",t)}));const K=s=>{L=String(s);const o=E(L);if(o){const s=m(N.value),a=x(N),{offsetHeight:i}=document.documentElement;if(o.$el.scrollIntoView(),s===i-a.height)return void B();t.sticky&&t.stickyOffsetTop&&C(b()-t.stickyOffsetTop),e("select",o.index)}},T=t=>{const{index:e}=t.dataset;e&&K(e)},U=t=>{T(t.target)};let D;const j=()=>h("div",{ref:a,class:G("sidebar"),style:M.value,onClick:U,onTouchstartPassive:z.start},[t.indexList.map((t=>{const e=t===k.value;return h("span",{class:G("index",{active:e}),style:e?R.value:void 0,"data-index":t},[t])}))]);return g({scrollTo:K}),f("touchmove",(t=>{if(z.move(t),z.isVertical()){y(t);const{clientX:e,clientY:s}=t.touches[0],o=document.elementFromPoint(e,s);if(o){const{index:t}=o.dataset;t&&D!==t&&(D=t,T(o))}}}),{target:a}),()=>{var e;return h("div",{ref:o,class:G()},[t.teleport?h(v,{to:t.teleport},{default:()=>[j()]}):j(),null==(e=s.default)?void 0:e.call(s)])}}});const[T,U]=t("index-anchor");const D=L(a({name:T,props:{index:s},setup(t,{slots:e}){const s=k({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=i(),{parent:a}=z(P);if(!a)return;const n=()=>s.active&&a.props.sticky,l=c((()=>{const{zIndex:t,highlightColor:e}=a.props;if(n())return N(S(t),{left:s.left?`${s.left}px`:void 0,width:s.width?`${s.width}px`:void 0,transform:s.top?`translate3d(0, ${s.top}px, 0)`:void 0,color:e})}));return g({state:s,getRect:(t,e)=>{const a=x(o);return s.rect.height=a.height,t===window||t===document.body?s.rect.top=a.top+b():s.rect.top=a.top+m(t)-e.top,s.rect}}),()=>{const a=n();return h("div",{ref:o,style:{height:a?`${s.rect.height}px`:void 0}},[h("div",{style:l.value,class:[U({sticky:a}),{[I]:a}]},[e.default?e.default():t.index])])}}})),j=L(K),[Q,W]=t("swipe-cell");const X=L(a({name:Q,props:{name:M(""),disabled:Boolean,leftWidth:s,rightWidth:s,beforeClose:Function,stopPropagation:Boolean},emits:["open","close","click"],setup(t,{emit:e,slots:s}){let o,a,l;const r=i(),p=i(),u=i(),v=k({offset:0,dragging:!1}),w=n(),A=t=>t.value?x(t).width:0,m=c((()=>d(t.leftWidth)?+t.leftWidth:A(p))),C=c((()=>d(t.rightWidth)?+t.rightWidth:A(u))),b=s=>{v.offset="left"===s?m.value:-C.value,o||(o=!0,e("open",{name:t.name,position:s}))},z=s=>{v.offset=0,o&&(o=!1,e("close",{name:t.name,position:s}))},N=e=>{t.disabled||(l=v.offset,w.start(e))},S=()=>{v.dragging&&(v.dragging=!1,(t=>{const e=Math.abs(v.offset),s=o?.85:.15,a="left"===t?m.value:C.value;a&&e>a*s?b(t):z(t)})(v.offset>0?"left":"right"),setTimeout((()=>{a=!1}),0))},I=(s="outside")=>{e("click",s),o&&!a&&E(t.beforeClose,{args:[{name:t.name,position:s}],done:()=>z(s)})},L=(t,e)=>s=>{e&&s.stopPropagation(),I(t)},M=(t,e)=>{const o=s[t];if(o)return h("div",{ref:e,class:W(t),onClick:L(t,!0)},[o()])};return g({open:b,close:z}),R(r,(()=>I("outside")),{eventName:"touchstart"}),f("touchmove",(e=>{if(t.disabled)return;const{deltaX:s}=w;if(w.move(e),w.isHorizontal()){a=!0,v.dragging=!0;(!o||s.value*l<0)&&y(e,t.stopPropagation),v.offset=V(s.value+l,-C.value,m.value)}}),{target:r}),()=>{var t;const e={transform:`translate3d(${v.offset}px, 0, 0)`,transitionDuration:v.dragging?"0s":".6s"};return h("div",{ref:r,class:W(),onClick:L("cell",a),onTouchstartPassive:N,onTouchend:S,onTouchcancel:S},[h("div",{class:W("wrapper"),style:e},[M("left",p),null==(t=s.default)?void 0:t.call(s),M("right",u)])])}}}));var H="/static/png/female-321a465f.png",Y="/static/png/male-4ddd4d22.png",Z="/static/png/gender-76f48c97.png",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAZlBMVEUAAAC0wNC1wdO/v/+zwNC0v9C0wM+0wNG2wdLCydm0wNC0wNC1wdCzwNC0wNC0wNC1wNC1v9G2wdS0wM+0wNC0wNCzwdG0wdCzwc+1wNK4wta6xtO1wdGzwNC0wc+1v9WzwdCzv89PygQeAAAAIXRSTlMA/DQE896qhEQLjvjX0cC5iUwk7Oamb2ZbKxkVf8d7GIfl18UPAAABK0lEQVRIx+1V25aDIAwkiEVUvNXe7G3z/z+5pKeHs2fJyqav7byIwwxJBKL64DUUi9ZL8V+1ti1gALRWqzwqjwBIoKevMvJ7j6SOAOzvq9nM8NQFPIezXkmngYewrA/jeKhLfLw2f6Y1GSB5p2PADokxE693LdB6x5/csSGudazhgrSa/lUVRcULpz8bMlRJXWQwZ8Yw0IxNeUvrDIyhDPzWMaVtAbFM+RMtZBUDS6FPCb3HAM3uJs3sE7oGRKNYGESoE3YXM2Wr2yVsHwxX3nANhl4cQVyD+CuJ90G407PwLOGX+LQK74MV3jjvRHcaYZJ0DcKmkPSldceSdL4yxsj2VpL7sdhER7Z7+5rKj47c/2FyNEoceUTHTckc0CmRA3BQEsetG5x6Z3wDxtkpoVPsMuQAAAAASUVORK5CYII=";export{D as I,J as S,X as a,j as b,H as f,Z as g,Y as m};
