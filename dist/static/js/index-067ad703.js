import{g as B,L as V,v as I,af as L,M as b,r as d,h as p,j as E,k as r,n as s,z as v,a6 as N,y as n,m as f,E as w,F as A,I as y,B as l,D as R,T}from"./vendor-618b9ea5.js";import{P as S}from"./index-b84096c2.js";import{h as $,d as q}from"./proposalList-e4783f03.js";import{_ as z}from"./index-5e028fb3.js";const M={class:"proposal-content"},U={class:"title"},W={class:"premium"},Z=l(" \u4FDD\u8D39\uFF1A"),j={class:"operate-btn"},H=l("\u5220\u9664"),O=l("\u7F16\u8F91"),G=l("\u9884\u89C8"),J=B({setup(K){const F=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"riskName",width:180},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"coveragePeriod"},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"chargePeriod",width:110},{title:"\u4FDD\u8D39",dataIndex:"premium",width:120}],k=V({historyList:[],searchValue:""}),{historyList:_,searchValue:u}=I(k),m=L(),c=()=>{$({name:u.value,pageNum:1,pageSize:999,relationUserType:2}).then(t=>{const{code:a,data:o}=t;a==="10000"&&(_.value=o.datas)})},C=()=>{c()},D=t=>{R.confirm({title:"\u5220\u9664\u8BA1\u5212\u4E66",message:"\u786E\u8BA4\u5220\u9664\u8BA1\u5212\u4E66"}).then(()=>{q(t).then(a=>{const{code:o}=a;o==="10000"&&(T.success("\u5220\u9664\u6210\u529F"),c())})}).catch(()=>{})},g=t=>{m.push({path:"compositionProposal",query:{id:t}})},P=t=>{m.push({path:"/proposal/createProposal",query:{id:t}})};return b(()=>{c()}),(t,a)=>{const o=d("van-search"),i=d("van-button"),x=d("ZaPageWrap");return p(),E(x,{class:"page-history-proposal"},{default:r(()=>[s(o,{modelValue:v(u),"onUpdate:modelValue":a[0]||(a[0]=e=>N(u)?u.value=e:null),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",shape:"round",class:"search",onClickInput:C},null,8,["modelValue"]),n("div",M,[(p(!0),f(A,null,w(v(_),e=>(p(),f("div",{key:e.id,class:"proposal-item"},[n("div",U,y(e.proposalName),1),n("p",W,[Z,n("span",null,"\xA5"+y(e.totalPremium),1)]),s(S,{columns:F,class:"table","data-source":e.proposalProductRiskVOList},null,8,["data-source"]),n("div",j,[s(i,{plain:"",round:"",type:"primary",class:"del-btn",onClick:h=>D(e.id)},{default:r(()=>[H]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:h=>P(e.id)},{default:r(()=>[O]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:h=>g(e.id)},{default:r(()=>[G]),_:2},1032,["onClick"])])]))),128))])]),_:1})}}});var te=z(J,[["__scopeId","data-v-60e2d65e"]]);export{te as default};
