import{d as e,u as t,a as o,r as a,o as n,b as s,c as i,e as r,w as c,f as u,g as d,h as p,i as l,_ as m,D as f,j as q,k as I,B as j,P as y}from"./index-3300826d.js";import{q as O}from"./product-276c1373.js";import{g as b}from"./utils-a8052624.js";import{P as h}from"./index-3e34be93.js";import{n as v}from"./nextStep-576c2fe1.js";import{u as C}from"./useOrder-2c46487b.js";import{p as N}from"./pageJump-ce50f880.js";import{P as T,B as x}from"./constants-7afb7c3d.js";import"./pdfh5-008ca364.js";import"./infoCollection-aa0e608b.js";import"./trial-28355e02.js";import"./core-13a4c4c2.js";import"./constant-c3f28a3b.js";const _=1;const g={class:"long-health-notice-wrap"},Q={class:"footer-btn"},V=e({__name:"healthNotice",setup(e){const V=t(),L=o(),P=C(),{productCode:w,orderNo:E,templateId:$,tenantId:k,questionnaireId:S}=V.query,U=a({}),B=a(),D=a(),J=()=>{f.confirm({title:"",message:`${D.value}不符合当前产品投保条件，请选择其他产品`}).then((()=>{q()})).catch((()=>{}))},A=()=>{B.value?L.push({path:V.path,query:{...V.query,questionnaireId:B.value}}):v(P.value,((e,t)=>{t===y.JUMP_PAGE&&N(e.nextPageCode,V.query)}))};return n((()=>{(async()=>{const{code:e,data:t}=await I({orderNo:E,tenantId:k});"10000"===e&&Object.assign(P.value,t,{extInfo:{...t.extInfo,templateId:$,pageCode:T.QUESTION_NOTICE,buttonCode:x.QUESTION_NOTICE}})})(),(async()=>{const{code:e,data:t}=await O({productCode:w});if("10000"===e){let e=t.productQuestionnaireVOList[0];if(S){const o=t.productQuestionnaireVOList.findIndex((e=>`${e.questionnaireId}`===S));t.productQuestionnaireVOList[o]&&(e=t.productQuestionnaireVOList[o]),t.productQuestionnaireVOList[o+1]&&(B.value=t.productQuestionnaireVOList[o+1].questionnaireId)}const{questionnaireDetailResponseVO:o,questionnaireId:a,questionnaireName:n}=e,{questions:s,basicInfo:i}=o||{},{objectType:r,questionnaireType:c}=i||{};if(D.value=r,c===_){const{content:e,textType:t}=(null==s?void 0:s[0])||{};U.value={content:e,contentType:b(`${t}`,e),questionnaireId:a,questionnaireName:n}}else U.value={content:s,contentType:"question",questionnaireId:a,questionnaireName:n}}})()})),(e,t)=>{const o=j;return s(),i("div",g,[r(m,{type:l(U).contentType,content:l(U).content},{"footer-btn":c((()=>[u("div",Q,[r(o,{onClick:J},{default:c((()=>[d("部分为是")])),_:1}),r(h,{shadow:!1,onClick:A},{default:c((()=>[p(e.$slots,"default",{},(()=>[d("以上皆否")]))])),_:3})])])),_:3},8,["type","content"])])}}});export{V as default};
