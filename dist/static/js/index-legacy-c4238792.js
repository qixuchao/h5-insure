System.register(["./index-legacy-979c6e4f.js","./infoCollection-legacy-69c89634.js","./trial-legacy-05e16e63.js","./pdfh5-legacy-9f98dc45.js"],(function(e){"use strict";var t,n,a,r,c,o,d,s,u,i,l,p,f,g;return{setters:[function(e){t=e.d,n=e.u,a=e.a,r=e.r,c=e.al,o=e.c,d=e.h,s=e.at,u=e.au,i=e.j,l=e.a9},function(e){p=e.f,f=e.P},function(e){g=e.q},function(){}],execute:function(){const C={class:"page-middle-wrapper"},I=[i("h4",null,null,-1)];e("default",t({__name:"index",setup(e){const t=n(),i=a(),y=r(""),{extraInfo:h,agencyCode:m,templateId:x,pageCode:$,insurerCode:R,productCode:U,agentCode:j,saleChannelId:w}=i.query;let N={};try{N=JSON.parse(decodeURIComponent(h))}catch(M){}const{templateId:b,openId:q,tenantId:v,orderNo:E}=N,O=()=>{try{const e=q?x:b;if(e)return`/baseInsurance/${p[e]}`;switch($){case f.FREE:return`/chuangxin/baigebao/${$}`;case f.COMMON:return"/internet/productDetail";case f.UPGRADE:return"/internet/guaranteeUpgrade";case f.PACKAGE:return"/internet/productDetail/package";default:return""}}catch(e){return""}},A=e=>{s({param:e}).then((({code:n,data:a})=>{if("10000"===n&&a)if(q){const n=O();t.replace(encodeURI(`${n}?${e}`))}else(e=>{if("4"===b&&E){const e={insurerCode:R,productCode:U,tenantId:v||i.query?.tenantId,agencyCode:m,agentCode:j,orderNo:E,saleChannelId:w};return e.extraInfo=decodeURIComponent(JSON.stringify({...N,templateId:b})),void t.push(`/baseInsurance/upgrade?${l.stringify(e)}`)}let n=e;const a=O();a&&(n=a),t.replace(encodeURI(`${n}?${l.stringify(i.query)}`))})();else y.value="验证失败"}))},D=e=>u(["ext"],e);return c((()=>{q?(async()=>{const{code:e,data:t}=await g({insurerCode:R,productCode:U,tenantId:v,agencyCode:m,extraMap:{...N,templateId:x}});if("10000"===e){const e=D(t);A(e.split("?")[1])}})():A(D(window.location.search))})),(e,t)=>(o(),d("div",C,I))}}))}}}));
