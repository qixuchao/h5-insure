!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-risk-list-wrapper .popup-title[data-v-2c5209b0]{height:1.38667rem;display:flex;align-items:center;justify-content:center;padding:0 .85333rem}.com-risk-list-wrapper .risk-list[data-v-2c5209b0]{height:13.84rem;padding-bottom:2rem}.com-risk-list-wrapper .footer-bar[data-v-2c5209b0]{padding:0 .53333rem;position:absolute;width:100%;height:2rem;bottom:0;display:flex;align-items:center;justify-content:center}.risk-list-wrapper .add-rider-risk[data-v-34e09331]{display:flex;align-items:center;justify-content:space-between}@charset "UTF-8";.page-trial-wrapper[data-v-31e97d56]{padding-bottom:2rem}.page-trial-wrapper .footer-bar[data-v-31e97d56]{position:fixed;width:100%;bottom:0;left:0;background-color:#fff;height:2rem;padding:.4rem;display:flex;justify-content:space-between}\n',document.head.appendChild(e),System.register(["./vendor-legacy-034d5bc0.js","./index-legacy-d5e79a5e.js","./index-legacy-9f5c8113.js"],(function(e){"use strict";var a,l,i,o,r,t,n,d,u,s,m,p,c,f,v,y,k,V,b,I,g,h,D,L,_,O,w,C,R,x,F,q;return{setters:[function(e){a=e.g,l=e.C,i=e.$,o=e.r,r=e.k,t=e.m,n=e.n,d=e.j,u=e.V,s=e.s,m=e.N,p=e.B,c=e.a0,f=e.a1,v=e.L,y=e.h,k=e.z,V=e.d,b=e.a2,I=e.o,g=e.F,h=e.E,D=e.y,L=e.I,_=e.a3,O=e.a4,w=e.a5,C=e.a6},function(e){R=e.P,x=e._,F=e.a},function(e){q=e.b}],execute:function(){const U=[{label:"男",value:"1"},{label:"女",value:"2"}],T=[{label:"有",value:"1"},{label:"无",value:"2"}],P=[{value:1,label:"第5个保单周年日"},{value:2,label:"起始领取年龄55周岁"},{value:3,label:"起始领取年龄60周岁"},{value:4,label:"起始领取年龄65周岁"},{value:5,label:"起始领取年龄70周岁"},{value:6,label:"起始领取年龄75周岁"}],A=[{value:1,label:"年领"},{value:2,label:"月领"}],j=[{label:"趸交",value:"1"},{label:"年交",value:"2"},{label:"半年交",value:"3"},{label:"季交",value:"4"},{label:"月交",value:"5"}],Y=[{label:"趸交",value:"single"},{label:"1年交",value:"year_1"},{label:"5年交",value:"year_5"},{label:"10年交",value:"year_10"},{label:"15年交",value:"year_15"},{label:"20年交",value:"year_20"},{label:"25年交",value:"year_25"},{label:"30年交",value:"year_30"},{label:"35年交",value:"year_35"}],E=[{label:"7天",value:"day_7"},{label:"14天",value:"day_14"},{label:"30天",value:"day_30"},{label:"1年",value:"year_1"},{label:"3年",value:"year_3"},{label:"5年",value:"year_5"},{label:"10年",value:"year_10"},{label:"15年",value:"year_15"},{label:"20年",value:"year_20"},{label:"25年",value:"year_25"},{label:"30年",value:"year_30"},{label:"35年",value:"year_35"},{label:"终身",value:"to_life"}],S=[{label:"返保额",value:1},{label:"返保费",value:2}],N=[{label:"投保",value:1},{label:"不投保",value:2}];const B={class:"com-pro-popup"},M={key:0,class:"footer-bar"},$=p("确定"),G=a({props:{show:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!1}},setup(e){const a=e,p=c(),f=l(!1);return i((()=>a.show),(e=>{f.value=e,null==p||p.update()})),(a,l)=>{const i=o("VanButton"),p=o("VanPopup");return r(),t("div",B,[n(p,m({show:f.value,"onUpdate:show":l[0]||(l[0]=e=>f.value=e)},a.$attrs),{default:d((()=>[u(a.$slots,"default"),e.showFooter?(r(),t("div",M,[n(i,{type:"primary"},{default:d((()=>[$])),_:1})])):s("",!0)])),_:3},16,["show"])])}}}),K={class:"com-personal-info-wrapper"},z=a({props:{formInfo:{type:Object,required:!0,default:()=>{}},factorList:{type:Array,required:!0,default:()=>[]}},setup(e,{expose:a}){const i=e,[u,m]=f(),[p,c]=f(),I=l(),g=v({formInfo:null==i?void 0:i.formInfo}),h=()=>{};return a({validateForm:()=>new Promise(((e,a)=>{null==I||I.value.validate().then((()=>{e("")}),(()=>{a()}))}))}),(a,l)=>{const i=o("VanField"),f=o("VanForm"),v=o("van-datetime-picker"),D=o("van-popup"),L=o("van-cascader");return r(),t("div",K,[n(f,{ref_key:"formRef",ref:I,"input-align":"right","error-message-align":"right"},{default:d((()=>[e.factorList.includes("APPLICANT.AGE")||e.factorList.includes("AGE")?(r(),y(i,{key:0,modelValue:k(g).formInfo.birthday,"onUpdate:modelValue":l[0]||(l[0]=e=>k(g).formInfo.birthday=e),rules:[{required:!0,message:"请选择"}],name:"birth",label:"出生日期","is-link":"",placeholder:"请选择",onClick:l[1]||(l[1]=e=>k(m)(!0))},null,8,["modelValue"])):s("",!0),e.factorList.includes("APPLICANT.GENDER")||e.factorList.includes("GENDER")?(r(),y(i,{key:1,modelValue:k(g).formInfo.gender,"onUpdate:modelValue":l[3]||(l[3]=e=>k(g).formInfo.gender=e),name:"gender",label:"性别",rules:[{required:!0,message:"请选择"}]},{input:d((()=>[n(R,{modelValue:k(g).formInfo.gender,"onUpdate:modelValue":l[2]||(l[2]=e=>k(g).formInfo.gender=e),options:k(U)},null,8,["modelValue","options"])])),_:1},8,["modelValue"])):s("",!0),e.factorList.includes("SOCIAL_INS")?(r(),y(i,{key:2,modelValue:k(g).formInfo.socialSecurity,"onUpdate:modelValue":l[5]||(l[5]=e=>k(g).formInfo.socialSecurity=e),name:"socialSecurity",label:"社保",rules:[{required:!0,message:"请选择"}]},{input:d((()=>[n(R,{modelValue:k(g).formInfo.socialSecurity,"onUpdate:modelValue":l[4]||(l[4]=e=>k(g).formInfo.socialSecurity=e),options:k(T)},null,8,["modelValue","options"])])),_:1},8,["modelValue"])):s("",!0),e.factorList.includes("OCCUPATION_CATEGORY")?(r(),y(i,{key:3,modelValue:k(g).formInfo.occupationalClass,"onUpdate:modelValue":l[6]||(l[6]=e=>k(g).formInfo.occupationalClass=e),rules:[{required:!0,message:"请选择"}],name:"occupationalClass",label:"职业类型","is-link":"",placeholder:"请选择",onClick:l[7]||(l[7]=e=>k(c)(!0))},null,8,["modelValue"])):s("",!0)])),_:1},512),n(D,{show:k(u),"onUpdate:show":l[10]||(l[10]=e=>b(u)?u.value=e:null),position:"bottom"},{default:d((()=>[n(v,{type:"date","min-date":new Date("1900-01-01"),"max-date":new Date,onConfirm:l[8]||(l[8]=e=>{k(g).formInfo.birthday=k(V)(e).format("YYYY-MM-DD"),k(m)(!1)}),onCancel:l[9]||(l[9]=e=>k(m)(!1))},null,8,["min-date","max-date"])])),_:1},8,["show"]),n(G,{show:k(p),title:"职业选择",position:"bottom",closeable:""},{default:d((()=>[n(L,{modelValue:k(g).formInfo.occupationalClass,"onUpdate:modelValue":l[11]||(l[11]=e=>k(g).formInfo.occupationalClass=e),title:"请选择职业",options:[],onClose:l[12]||(l[12]=e=>k(c)(!1)),onFinish:h},null,8,["modelValue"])])),_:1},8,["show"])])}}}),H={class:"com-risk-card-wrapper"},W={key:0},Z={key:0},J={key:1},Q={key:7,class:"liab-desc"},X=D("div",{class:"title"},"责任投保说明",-1),ee=a({props:{originData:{type:Object,required:!0,default:()=>{}},formInfo:{type:Object,required:!0,default:()=>{}},index:{type:[Number,String],default:0,required:!0}},setup(e){const a=e,l=v({formInfo:a.formInfo}),u=e=>"boolean"!=typeof e&&!e||(!(!Array.isArray(e)||e.length)||"object Object"==={}.toString.call(e)&&Object.keys(e).length),m=(e,a)=>{let l=a;return Array.isArray(a)||(l=[l]),(e||[]).filter((e=>l.includes(`${e.value}`)))};return I((()=>{const e={riskType:a.originData.riskType,riskId:a.originData.id,riskCode:a.originData.riskCode,mainRiskCode:a.originData.riskCode,mainRiskId:a.originData.id,riskCategory:a.originData.riskCategory,liabilityVOList:a.originData.riskLiabilityInfoVOList.map((e=>({liabilityAttributeCode:e.liabilityAttribute,liabilityAttributeValue:e.liabilityAttributeValue,liabilityCode:e.liabilityCode,liabilityId:e.id,liabilityRateType:e.liabilityRateType})))};Object.assign(l.formInfo[a.index],e)})),i((()=>a.originData),(()=>{}),{immediate:!0,deep:!0}),(a,i)=>{var p,c,f,v,V,b,I,_,O,w,C,x,F,q,U,T,B;const M=o("VanStepper"),$=o("VanField");return r(),t("div",H,[1===(null===(p=e.originData)||void 0===p||null===(c=p.riskCalcMethodInfoVO)||void 0===c?void 0:c.saleMethod)?(r(),y($,{key:0,modelValue:k(l).formInfo[e.index].sumInsured,"onUpdate:modelValue":i[1]||(i[1]=a=>k(l).formInfo[e.index].sumInsured=a),label:"保额",name:"sumInsured",rules:[{required:!0,message:"请填写"}]},{input:d((()=>[n(M,{modelValue:k(l).formInfo[e.index].sumInsured,"onUpdate:modelValue":i[0]||(i[0]=a=>k(l).formInfo[e.index].sumInsured=a)},null,8,["modelValue"])])),_:1},8,["modelValue"])):s("",!0),2===(null===(f=e.originData)||void 0===f||null===(v=f.riskCalcMethodInfoVO)||void 0===v?void 0:v.saleMethod)?(r(),y($,{key:1,modelValue:k(l).formInfo[e.index].premium,"onUpdate:modelValue":i[3]||(i[3]=a=>k(l).formInfo[e.index].premium=a),label:"保费",name:"premium",rules:[{required:!0,message:"请填写"}]},{input:d((()=>[n(M,{modelValue:k(l).formInfo[e.index].premium,"onUpdate:modelValue":i[2]||(i[2]=a=>k(l).formInfo[e.index].premium=a)},null,8,["modelValue"])])),_:1},8,["modelValue"])):s("",!0),u(null===(V=e.originData)||void 0===V||null===(b=V.riskInsureLimitVO)||void 0===b?void 0:b.insurancePeriodValueList)?s("",!0):(r(),y($,{key:2,modelValue:k(l).formInfo[e.index].coverageYear,"onUpdate:modelValue":i[5]||(i[5]=a=>k(l).formInfo[e.index].coverageYear=a),label:"保障期间",name:"coverageYear",rules:[{required:!0,message:"请选择"}]},{input:d((()=>{var a,o;return[n(R,{modelValue:k(l).formInfo[e.index].coverageYear,"onUpdate:modelValue":i[4]||(i[4]=a=>k(l).formInfo[e.index].coverageYear=a),options:m(k(E),null===(a=e.originData)||void 0===a||null===(o=a.riskInsureLimitVO)||void 0===o?void 0:o.insurancePeriodValueList)},null,8,["modelValue","options"])]})),_:1},8,["modelValue"])),u(null===(I=e.originData)||void 0===I||null===(_=I.riskInsureLimitVO)||void 0===_?void 0:_.paymentPeriodValueList)?s("",!0):(r(),y($,{key:3,modelValue:k(l).formInfo[e.index].paymentYear,"onUpdate:modelValue":i[7]||(i[7]=a=>k(l).formInfo[e.index].paymentYear=a),label:"交费期间",name:"paymentYear",rules:[{required:!0,message:"请选择"}]},{input:d((()=>{var a,o;return[n(R,{modelValue:k(l).formInfo[e.index].paymentYear,"onUpdate:modelValue":i[6]||(i[6]=a=>k(l).formInfo[e.index].paymentYear=a),options:m(k(Y),null===(a=e.originData)||void 0===a||null===(o=a.riskInsureLimitVO)||void 0===o?void 0:o.paymentPeriodValueList)},null,8,["modelValue","options"])]})),_:1},8,["modelValue"])),u(null===(O=e.originData)||void 0===O||null===(w=O.riskInsureLimitVO)||void 0===w?void 0:w.paymentFrequencyList)?s("",!0):(r(),y($,{key:4,modelValue:k(l).formInfo[e.index].paymentFrequency,"onUpdate:modelValue":i[9]||(i[9]=a=>k(l).formInfo[e.index].paymentFrequency=a),label:"交费方式",name:"paymentFrequency",rules:[{required:!0,message:"请选择"}]},{input:d((()=>{var a,o;return[n(R,{modelValue:k(l).formInfo[e.index].paymentFrequency,"onUpdate:modelValue":i[8]||(i[8]=a=>k(l).formInfo[e.index].paymentFrequency=a),options:m(k(j),null===(a=e.originData)||void 0===a||null===(o=a.riskInsureLimitVO)||void 0===o?void 0:o.paymentFrequencyList)},null,8,["modelValue","options"])]})),_:1},8,["modelValue"])),u(null===(C=e.originData)||void 0===C||null===(x=C.riskInsureLimitVO)||void 0===x?void 0:x.annuityDrawTypeList)?s("",!0):(r(),y($,{key:5,modelValue:k(l).formInfo[e.index].annuityDrawDate,"onUpdate:modelValue":i[11]||(i[11]=a=>k(l).formInfo[e.index].annuityDrawDate=a),label:"领取时间",name:"annuityDrawDate",rules:[{required:!0,message:"请选择"}]},{input:d((()=>{var a,o;return[n(R,{modelValue:k(l).formInfo[e.index].annuityDrawDate,"onUpdate:modelValue":i[10]||(i[10]=a=>k(l).formInfo[e.index].annuityDrawDate=a),options:m(k(P),null===(a=e.originData)||void 0===a||null===(o=a.riskInsureLimitVO)||void 0===o?void 0:o.annuityDrawTypeList)},null,8,["modelValue","options"])]})),_:1},8,["modelValue"])),u(null===(F=e.originData)||void 0===F||null===(q=F.riskInsureLimitVO)||void 0===q?void 0:q.annuityDrawFrequencyList)?s("",!0):(r(),y($,{key:6,modelValue:k(l).formInfo[e.index].annuityDrawType,"onUpdate:modelValue":i[13]||(i[13]=a=>k(l).formInfo[e.index].annuityDrawType=a),label:"领取方式",name:"annuityDrawType",rules:[{required:!0,message:"请选择"}]},{input:d((()=>{var a,o;return[n(R,{modelValue:k(l).formInfo[e.index].annuityDrawType,"onUpdate:modelValue":i[12]||(i[12]=a=>k(l).formInfo[e.index].annuityDrawType=a),options:m(k(A),null===(a=e.originData)||void 0===a||null===(o=a.riskInsureLimitVO)||void 0===o?void 0:o.annuityDrawFrequencyList)},null,8,["modelValue","options"])]})),_:1},8,["modelValue"])),(r(!0),t(g,null,h((null===(U=e.originData)||void 0===U?void 0:U.riskLiabilityInfoVOList)||[],(a=>(r(),y($,{key:a.liabilityId,label:a.liabilityName,name:"liabilityAttributeValue",rules:[{required:1===a.optionalFlag&&a.liabilityAttributeValue,message:"请选择"}]},{input:d((()=>[1===a.optionalFlag?(r(),t("div",W,[a.liabilityAttributeValue?(r(),y(R,{key:1,modelValue:k(l).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":i[14]||(i[14]=a=>k(l).formInfo[e.index].liabilityVOList=a),options:k(S)},null,8,["modelValue","options"])):(r(),t("span",Z,"50万"))])):(r(),t("div",J,[a.liabilityAttributeValue?(r(),y(R,{key:1,modelValue:k(l).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":i[16]||(i[16]=a=>k(l).formInfo[e.index].liabilityVOList=a),options:k(S)},null,8,["modelValue","options"])):(r(),y(R,{key:0,modelValue:k(l).formInfo[e.index].liabilityVOList,"onUpdate:modelValue":i[15]||(i[15]=a=>k(l).formInfo[e.index].liabilityVOList=a),options:k(N)},null,8,["modelValue","options"]))]))])),_:2},1032,["label","rules"])))),128)),null!==(T=e.originData)&&void 0!==T&&T.relationDesc?(r(),t("div",Q,[X,D("div",null,L(null===(B=e.originData)||void 0===B?void 0:B.relationDesc),1)])):s("",!0)])}}});const ae={class:"com-risk-list-wrapper"},le=(e=>(w("data-v-2c5209b0"),e=e(),C(),e))((()=>D("div",{class:"popup-title"},"选择附加险",-1))),ie={class:"risk-list"},oe={class:"footer-bar"},re=p("确认"),te=a({props:{riskList:{type:Array,required:!0,default:()=>[]},show:{type:Boolean,required:!0,default:!1}},emits:["finished","close"],setup(e,{emit:a}){const u=e,s=l([]),m=l([]);l([]);const p=v({show:u.show,checkedItems:[]}),c=()=>{a("close")},f=()=>{a("finished",m.value),a("close")};return _((()=>{s.value=[]})),i((()=>u.show),(e=>{p.show=e}),{deep:!0,immediate:!0}),(a,l)=>{const i=o("van-checkbox"),u=o("VanCell"),v=o("van-cell-group"),V=o("van-checkbox-group"),b=o("VanButton"),I=o("VanPopup");return r(),t("div",ae,[n(I,{show:k(p).show,"onUpdate:show":l[2]||(l[2]=e=>k(p).show=e),title:"选择附加险","show-footer":"",position:"bottom",closeable:"",onClose:c},{default:d((()=>[le,D("div",ie,[n(V,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e)},{default:d((()=>[n(v,{inset:""},{default:d((()=>[(r(!0),t(g,null,h(e.riskList,(e=>(r(),y(u,{key:e.id,title:e.riskName,onClick:a=>((e,a)=>{var l,i,o;null==s||null===(l=s.value)||void 0===l||null===(i=l[e])||void 0===i||null===(o=i.toggle)||void 0===o||o.call(i)})(e.id)},{"right-icon":d((()=>[n(i,{ref_for:!0,ref:a=>s.value[e.id]=a,shape:"square",name:e.id,onClick:l[0]||(l[0]=O((()=>{}),["stop"]))},null,8,["name"])])),_:2},1032,["title","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),D("div",oe,[n(b,{type:"primary",block:"",onClick:f},{default:d((()=>[re])),_:1})])])),_:1},8,["show"])])}}});var ne=x(te,[["__scopeId","data-v-2c5209b0"]]);const de={class:"risk-list-wrapper"},ue={key:0,class:"add-rider-risk"},se={class:"left-part"},me=p("+ 附加险"),pe=a({props:{riskInfo:{type:Object,required:!0,default:()=>{}},originData:{type:Object,required:!0,default:()=>{}},pickFactor:{type:Function,required:!0,default:()=>{}}},setup(e){const a=e,[o,u]=f(!1);l(null),l(null);const m=v({mainRiskInfo:a.riskInfo,riderRiskInfo:a.riskInfo[0].riderRiskVOList,requiredRiderRiskData:[],mainRiskData:{},riderRiskList:[]}),p=e=>{m.requiredRiderRiskData.push(e)};return i((()=>m.mainRiskInfo),(()=>{}),{deep:!0,immediate:!0}),i((()=>m.riderRiskInfo),(()=>{}),{deep:!0,immediate:!0}),i((()=>m.requiredRiderRiskData),(e=>{const l=[m.mainRiskData,...e];let i=[],o=[];l.forEach((e=>{var a;const l=(null==e||null===(a=e.riskCalcMethodInfoVO)||void 0===a?void 0:a.riskFactorRelationList)||[];i=i.concat(l.filter((e=>"insured"===e.factorObject)).map((e=>e.factorCode))),o=o.concat(l.filter((e=>"holder"===e.factorObject)).map((e=>e.factorCode)))})),a.pickFactor({insuredFactorList:[...new Set(i)],holderFactorList:[...new Set(o)]})}),{deep:!0,immediate:!0}),i((()=>a.originData),(e=>{(e||[]).forEach((e=>{1===e.riskType?(m.mainRiskData=e,m.requiredRiderRiskData=(null==e?void 0:e.requiredRiderRiskVOList)||[],m.riderRiskList=null==e?void 0:e.optionalRiderRiskVOList):m.riderRiskList.push(e)}))}),{deep:!0,immediate:!0}),(e,a)=>(r(),t("div",de,[n(ee,{"form-info":k(m).mainRiskInfo,index:0,"origin-data":k(m).mainRiskData},null,8,["form-info","origin-data"]),(r(!0),t(g,null,h(k(m).requiredRiderRiskData,((e,a)=>(r(),y(ee,{key:e.id,"form-info":k(m).riderRiskInfo,index:a,"origin-data":e},null,8,["form-info","index","origin-data"])))),128)),k(m).riderRiskList.length?(r(),t("div",ue,[D("span",se,L(`共有${k(m).riderRiskList.length}款附加险可以添加`),1),n(F,{activied:"",onClick:a[0]||(a[0]=e=>k(u)(!0))},{default:d((()=>[me])),_:1})])):s("",!0),k(o)?(r(),y(ne,{key:1,show:k(o),"risk-list":k(m).riderRiskList,onFinished:p,onClose:a[1]||(a[1]=e=>k(u)(!1))},null,8,["show","risk-list"])):s("",!0)]))}});var ce=x(pe,[["__scopeId","data-v-34e09331"]]);const fe=e=>(w("data-v-31e97d56"),e=e(),C(),e),ve={key:0,class:"part-card"},ye=fe((()=>D("div",{class:"part-title"},"投保人",-1))),ke={key:1,class:"part-card"},Ve=fe((()=>D("div",{class:"part-title"},"被保人",-1))),be={class:"risk-content"},Ie={key:0,class:"risk"},ge={key:1,class:"plan-risk"},he={class:"footer-bar"},De={class:"trial-result"},Le=p("去试算"),_e=p("去投保");e("default",x(a({setup(e){const a=l({personVO:{}}),u=l({insuredCode:"",personVO:{}}),m=l([{liabilityVOList:[],riderRiskVOList:[{}]}]),p=l({}),c=l({}),f=l({}),V=v({currentPlan:"",riskBaseInfo:{},holderFactor:[],insuredFactor:[],riskData:[],riskPlanData:[],trialResult:{},canTrial:!0}),b=async()=>{var e,a,l;const i=["RISK_PAYMENT_PERIOD","RISK_INSURANCE_PERIOD","LIABILITY_ATTRIBUTE_TYPE",`${null==V||null===(e=V.riskBaseInfo)||void 0===e||null===(a=e.insurerCode)||void 0===a||null===(l=a.toLocaleUpperCase)||void 0===l?void 0:l.call(a)}_OCCUPATION`];await((e={})=>q.post("/api/app/queryDictInfo",e))({dictCodeList:i})},_=()=>{var e,l,i;((e={})=>q.post("/api/insurance/premiumCalc",e))({...{holder:{personVO:{...a.value.personVO,birthday:a.value.personVO.birthday&&`${a.value.personVO.birthday} 00:00:00`}},productCode:null==V||null===(e=V.riskBaseInfo)||void 0===e?void 0:e.productCode,insuredVOList:[{...u.value,personVO:{...u.value.personVO,birthday:u.value.personVO.birthday&&`${u.value.personVO.birthday} 00:00:00`},productPlanVOList:[{planCode:V.currentPlan||(null===(l=V.riskPlanData)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.planCode),riskVOList:m.value}]}]}}).then((({code:e,data:a})=>{"10000"===e&&(V.trialResult=a,V.canTrial=!1)}))},O=()=>{var e,a,l,i,o;Promise.all([null==p||null===(e=p.value)||void 0===e||null===(a=e.validateForm)||void 0===a?void 0:a.call(e),null==c||null===(l=c.value)||void 0===l||null===(i=l.validateForm)||void 0===i?void 0:i.call(l),null==f||null===(o=f.value)||void 0===o?void 0:o.validate()]).then((()=>{_()}))},w=()=>{((e={})=>q.get(`/api/product/insureProductDetail/${null==e?void 0:e.productId}`,e))({productId:115}).then((({code:e,data:a})=>{"10000"===e&&(V.riskBaseInfo=null==a?void 0:a.productBasicInfoVO,V.riskData=(null==a?void 0:a.riskDetailVOList)||[],V.riskPlanData=(null==a?void 0:a.productRelationPlanVOList)||[],b())})).finally((()=>{}))},C=e=>{V.holderFactor=e.insuredFactorList,V.insuredFactor=e.holderFactorList};return i([()=>m.value,()=>a.value,()=>u.value],(e=>{e&&V.canTrial&&(V.canTrial=!0)}),{deep:!0}),I((()=>{w()})),(e,l)=>{const i=o("VanForm"),v=o("VanTab"),b=o("VanTabs"),I=o("VanButton"),_=o("ZaPageWrap");return r(),y(_,{class:"page-trial-wrapper"},{default:d((()=>[k(V).holderFactor.length?(r(),t("div",ve,[ye,n(z,{ref_key:"holderRef",ref:p,"form-info":a.value.personVO,"factor-list":k(V).holderFactor},null,8,["form-info","factor-list"])])):s("",!0),k(V).insuredFactor.length?(r(),t("div",ke,[Ve,n(z,{ref_key:"insuredRef",ref:c,"form-info":u.value.personVO,"factor-list":k(V).insuredFactor},null,8,["form-info","factor-list"])])):s("",!0),D("div",be,[k(V).riskData.length?(r(),t("div",Ie,[n(i,{ref_key:"riskFormRef",ref:f,"input-align":"right","error-message-align":"right"},{default:d((()=>[n(ce,{"risk-info":m.value,"origin-data":k(V).riskData,"pick-factor":C},null,8,["risk-info","origin-data"])])),_:1},512)])):s("",!0),k(V).riskPlanData.length?(r(),t("div",ge,[n(i,{ref_key:"riskFormRef",ref:f,"input-align":"right","error-message-align":"right"},{default:d((()=>[n(b,{modelValue:k(V).currentPlan,"onUpdate:modelValue":l[0]||(l[0]=e=>k(V).currentPlan=e)},{default:d((()=>[(r(!0),t(g,null,h(k(V).riskPlanData,(e=>(r(),y(v,{key:e.planCode,name:e.planCode,title:e.planName},{default:d((()=>[n(ce,{"risk-info":m.value,"origin-data":e.riskDetailVOList,"pick-factor":C},null,8,["risk-info","origin-data"])])),_:2},1032,["name","title"])))),128))])),_:1},8,["modelValue"])])),_:1},512)])):s("",!0)]),D("div",he,[D("span",De,L(k(V).trialResult.premium),1),k(V).canTrial?(r(),y(I,{key:0,type:"primary",onClick:O},{default:d((()=>[Le])),_:1})):(r(),y(I,{key:1,type:"primary",onClick:O},{default:d((()=>[_e])),_:1}))])])),_:1})}}}),[["__scopeId","data-v-31e97d56"]]))}}}))}();
