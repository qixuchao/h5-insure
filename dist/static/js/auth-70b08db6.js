var xe=Object.defineProperty,Ve=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var we=(o,n,t)=>n in o?xe(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,q=(o,n)=>{for(var t in n||(n={}))Le.call(n,t)&&we(o,t,n[t]);if(Ie)for(var t of Ie(n))Oe.call(n,t)&&we(o,t,n[t]);return o},j=(o,n)=>Ve(o,Te(n));import{c as Ue,v as Me,L as Re,u as He,H as qe}from"./check-detail-9f866eaa.js";import{_ as M,e as ie,i as te,a as $e,a5 as Ye,H as je,V as ae,S as Ke}from"./index-2ffcb916.js";import{g as O,j as l,n as f,A as a,z as s,J as D,E as y,_ as Y,y as N,Q as de,r as w,af as Ge,p as h,m,F as U,G as H,L as z,t as V,k as E,C as x,H as ze,a4 as Q,a5 as W,Y as Qe,M as ke,T as We,ar as Xe,h as Je,d as Ee}from"./vendor-c3c577f2.js";import{C as Ze,h as et,i as tt,R as re,I as ot,a as at,j as st,S as lt,g as se}from"./infoCollection-9259d69e.js";import{P as nt}from"./index-65f7cbff.js";import{t as le}from"./theme-3c294048.js";import{A as ut}from"./bankCard-0e4ce564.js";import{c as rt,n as Pe,i as Be,m as it,d as dt,e as ct,f as pt,h as ft}from"./utils-af420bfa.js";import{s as mt,c as _t}from"./phoneVerify-f67a7386.js";import{_ as vt}from"./index-8b4452a1.js";import{c as ht}from"./close-df102554.js";import{i as Dt,g as yt,e as bt}from"./trial-24bcea63.js";import{p as Ct}from"./product-ea737108.js";const Ft=["src"],gt=["src"],It=O({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""}},setup(o){const n=o;return(t,u)=>n.isCheck?(l(),f("img",{key:0,src:a(Ue),class:"banner"},null,8,Ft)):(l(),f("img",{key:1,src:n.url,class:"banner"},null,8,gt))}});var Aa=M(It,[["__scopeId","data-v-574c4075"]]);const wt={class:"product-desc"},$t={class:"title"},Et={class:"desc"},Pt=O({props:{productName:{type:String,default:""},productDesc:{type:String,default:""}},setup(o){return(n,t)=>(l(),f("div",wt,[s("div",$t,D(o.productName),1),s("div",Et,D(o.productDesc),1)]))}});var Na=M(Pt,[["__scopeId","data-v-4bd6106c"]]);const Bt=o=>(Q("data-v-5150e01d"),o=o(),W(),o),kt={class:"guarantee-list"},St={key:0,class:"plan-list"},At=["onClick"],Nt={class:"basic"},xt={class:"feerate-view"},Vt=Bt(()=>s("span",null,"\u67E5\u770B\u4FDD\u8D39",-1)),Tt={class:"guarantee-detail"},Lt={key:0,class:"plan-list"},Ot=["onClick"],Ut={key:1},Mt={class:"extinfo-info-list"},Rt={class:"title"},Ht={class:"content"},qt=O({props:{dataSource:{type:Object,default:()=>{}},showConfig:{type:Object,default:()=>{}},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:10},activePlanCode:{type:String,default:""},isMultiplePlan:{type:Boolean,default:!1}},emits:["update-active-plan"],setup(o,{emit:n}){var $;const t=o,u=y(($=t.dataSource)==null?void 0:$.planList),d=y(t.activePlanCode);Y(()=>t.dataSource,()=>{var i;t.isMultiplePlan&&(u.value=(i=t.dataSource)==null?void 0:i.planList)},{immediate:!0});const e=y([]),_=y([]);Y([()=>t.dataSource,()=>t.activePlanCode],()=>{var i,S;if(d.value=t.activePlanCode,!t.isMultiplePlan)e.value=(i=t.dataSource)==null?void 0:i.planInsureVO.guaranteeItemVOS,_.value=(S=t.dataSource)==null?void 0:S.planInsureVO.extInfoVOList;else if(u.value&&u.value.length>0){let T=0;const K=u.value.findIndex(J=>J.planCode===d.value);K>-1&&(T=K),e.value=u.value[T].guaranteeItemVOS,_.value=u.value[T].extInfoVOList}},{immediate:!0,deep:!0}),N(()=>{var i;return((i=t.dataSource)==null?void 0:i.rateUri)||""});const[P,b]=de(!1),v=N(()=>{var i;return!e.value||!((i=e.value)==null?void 0:i.length)?!1:e.value.length>t.count?t.isShowClose?!0:!P.value:!1}),c=()=>{b()},I=N(()=>{var i;return!e.value||!((i=e.value)==null?void 0:i.length)?[]:e.value.length<=t.count||P.value?e.value:e.value.slice(0,t.count)}),g=i=>{d.value=i,n("update-active-plan",i)},F=y(!1),p=()=>{F.value=!0};return(i,S)=>{const T=w("ProCell"),K=w("ProCard"),J=w("ProPopup"),R=Ge("dompurify-html");return l(),f(U,null,[s("div",kt,[h(K,{title:"\u4FDD\u969C\u8BA1\u5212",link:"\u67E5\u770B\u8BE6\u60C5","show-divider":!0,"show-icon":!0,onLinkClick:p},{default:m(()=>{var A;return[o.isMultiplePlan?(l(),f("div",St,[(l(!0),f(U,null,H(u.value,(L,ee)=>(l(),f("div",{key:`${L.planCode}_${ee}`,class:z(`plan-list-item ${L.planCode===d.value?"plan-list-item-active":""}`),onClick:ce=>g(L.planCode)},[s("span",null,D(L.planName),1)],10,At))),128))])):V("",!0),s("div",Nt,[(l(!0),f(U,null,H(a(I),(L,ee)=>(l(),E(T,{key:ee,class:"guarantee-item",title:L.title,content:L.desc,border:!1},null,8,["title","content"]))),128))]),a(v)?(l(),f("div",{key:1,class:"show-more",onClick:c},[x(D(a(P)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),h(ie,{name:"down",class:z(["icon",{showMore:a(P)}])},null,8,["class"])])):V("",!0),s("div",xt,[s("span",null,D((A=t.showConfig)==null?void 0:A.price),1),Vt])]}),_:1})]),h(J,{show:F.value,"onUpdate:show":S[0]||(S[0]=A=>F.value=A),title:"\u4FDD\u969C\u8BE6\u60C5",class:"guarantee-popup"},{default:m(()=>[s("div",Tt,[o.isMultiplePlan?(l(),f("div",Lt,[(l(!0),f(U,null,H(u.value,(A,L)=>(l(),f("div",{key:`${A.planCode}_${L}`,class:z(`plan-list-item ${A.planCode===d.value?"plan-list-item-active":""}`),onClick:ee=>g(A.planCode)},[s("span",null,D(A.planName),1)],10,Ot))),128))])):V("",!0),_.value&&_.value.length>0?(l(),f("div",Ut,[s("div",Mt,[(l(!0),f(U,null,H(_.value,(A,L)=>(l(),f("div",{key:L,class:"extinfo-info-list-item"},[s("span",null,D(A.name),1),s("span",null,D(A.description),1)]))),128))]),h(te)])):V("",!0),(l(!0),f(U,null,H(e.value,(A,L)=>(l(),f("div",{key:L,class:"guarantee-item"},[s("div",Rt,[s("span",null,D(A.title),1),s("span",null,D(A.desc),1)]),ze(s("div",Ht,null,512),[[R,A.content]])]))),128))])]),_:1},8,["show"])],64)}}});var xa=M(qt,[["__scopeId","data-v-5150e01d"]]);const Yt=o=>(Q("data-v-32c878ed"),o=o(),W(),o),jt={class:"question"},Kt=Yt(()=>s("div",{class:"icon"},D("?"),-1)),Gt={class:"title"},zt=O({props:{name:{type:String,default:""},question:{type:String,default:""},answer:{type:String,default:""}},setup(o){return(n,t)=>{const u=w("van-collapse-item");return l(),E(u,{name:o.name,class:"com-question-item"},{title:m(()=>[s("div",jt,[Kt,s("div",Gt,D(o.question),1)])]),default:m(()=>[x(" "+D(o.answer),1)]),_:1},8,["name"])}}});var Qt=M(zt,[["__scopeId","data-v-32c878ed"]]);const Wt={class:"com-question"},Xt=O({props:{list:{type:Array,default:()=>[]}},setup(o){const n=o,[t,u]=de(!1),d=y([]),e=()=>{u()},_=N(()=>n.list.length<=4||t.value?n.list:n.list.slice(0,4));return(P,b)=>{const v=w("van-collapse");return l(),f("div",Wt,[h(v,{modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=c=>d.value=c)},{default:m(()=>[(l(!0),f(U,null,H(a(_),(c,I)=>(l(),E(Qt,{key:I,name:I.toString(),question:c.title,answer:c.desc},null,8,["name","question","answer"]))),128))]),_:1},8,["modelValue"]),o.list.length>4?(l(),f("div",{key:0,class:"show-more",onClick:e},[x(D(a(t)?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),h(ie,{name:"down",class:z(["icon",{showMore:a(t)}])},null,8,["class"])])):V("",!0)])}}});var Jt=M(Xt,[["__scopeId","data-v-3476d8ba"]]);const Zt={class:"spec"},eo=["src"],to={key:1,class:"spec"},oo=["src"],ao=O({props:{isCheck:{type:Boolean,default:!1},url:{type:String,default:""},detail:{type:Object,default:()=>{}}},setup(o,{expose:n}){const t=o,u=y(),d=y([{title:"\u4EA7\u54C1\u4EAE\u70B9",slotName:"tab1"},{title:"\u7406\u8D54\u8BF4\u660E",slotName:"tab2"},{title:"\u6211\u8981\u6295\u4FDD",slotName:"tab3"}]);return n({handleClickTab:()=>{var _;return(_=u.value)==null?void 0:_.handleClickTab}}),(_,P)=>(l(),E(Ye,{ref_key:"scrollRef",ref:u,class:"tabs",list:d.value,sticky:"",scrollspy:""},{tab1:m(()=>{var b,v;return[s("div",Zt,[(l(!0),f(U,null,H(((v=(b=t.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.spec)||[],(c,I)=>(l(),f("img",{key:I,src:c,class:"detail-img"},null,8,eo))),128)),h(te)])]}),tab2:m(()=>[h($e,{title:"\u7406\u8D54\u6D41\u7A0B"},{default:m(()=>{var b,v,c,I,g,F,p,$;return[((v=(b=t.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.settlementProcessVO.settlementProcessType)===a(Ze).WORD?(l(),E(nt,{key:0,list:(g=(I=(c=t.detail)==null?void 0:c.tenantProductInsureVO)==null?void 0:I.settlementProcessVO)==null?void 0:g.settlementProcessList},null,8,["list"])):(l(),f("div",to,[(l(!0),f(U,null,H((($=(p=(F=t.detail)==null?void 0:F.tenantProductInsureVO)==null?void 0:p.settlementProcessVO)==null?void 0:$.settlementProcessPicList)||[],(i,S)=>(l(),f("img",{key:S,src:i,class:"detail-img"},null,8,oo))),128)),h(te)]))]}),_:1}),h($e,{title:"\u5E38\u89C1\u95EE\u9898"},{default:m(()=>{var b,v;return[h(Jt,{list:(v=(b=t.detail)==null?void 0:b.tenantProductInsureVO)==null?void 0:v.questionList},null,8,["list"])]}),_:1})]),tab3:m(()=>[Qe(_.$slots,"form",{},void 0,!0)]),_:3},8,["list"]))}});var Va=M(ao,[["__scopeId","data-v-2d02091d"]]);const so=o=>(Q("data-v-7cc672ae"),o=o(),W(),o),lo={class:"refueling-package-com"},no=so(()=>s("div",{class:"title"},"\u52A0\u6CB9\u5305",-1)),uo=O({props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(o){const n=o,[t,u]=de(!1),d=N(()=>n.packageProductList.length>n.count?n.isShowClose?!0:!t.value:!1),e=()=>{u()},_=N(()=>n.packageProductList.length<=n.count||t.value?n.packageProductList:n.packageProductList.slice(0,n.count));return(P,b)=>{const v=w("ProRadioButton"),c=w("ProField"),I=w("ProForm");return l(),f("div",lo,[no,h(I,{ref:"formRef"},{default:m(()=>[(l(!0),f(U,null,H(a(_),(g,F)=>(l(),E(c,{key:`${g.value}_${F}`,modelValue:g.value,"onUpdate:modelValue":p=>g.value=p,label:g.packageName,required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:m(()=>[h(v,{modelValue:g.value,"onUpdate:modelValue":p=>g.value=p,options:a(et),disabled:g.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"]))),128)),a(d)?(l(),f("div",{key:0,class:"show-more",onClick:e},[x(D(a(t)?"\u6536\u8D77":"\u67E5\u770B\u66F4\u591A")+" ",1),h(ie,{name:"down",class:z(["icon",{showMore:a(t)}])},null,8,["class"])])):V("",!0)]),_:1},512)])}}});var ro=M(uo,[["__scopeId","data-v-7cc672ae"]]);const ne=o=>(Q("data-v-5b5f3948"),o=o(),W(),o),io={class:"holder container"},co=ne(()=>s("div",{class:"title"},"\u6295\u4FDD\u4EBA\u4FE1\u606F",-1)),po={class:"insured-relation container"},fo=ne(()=>s("div",{class:"title"},"\u4E3A\u8C01\u6295\u4FDD",-1)),mo={class:"insured container"},_o=ne(()=>s("div",{class:"title"},"\u88AB\u4FDD\u4EBA\u4FE1\u606F",-1)),vo={key:0,class:"container"},ho=ne(()=>s("div",{class:"payment container"},null,-1)),Do=O({props:{disable:{type:Boolean,default:!1},formAuth:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},payments:{type:Array,default:()=>[0,1]},paymentMethod:{type:Array,default:()=>[0,1]},productDetail:{type:Object,default:()=>{}},isShowPackage:{type:Boolean,default:!1}},emits:["onReset","onUpdate","onVerify"],setup(o,{expose:n,emit:t}){const u=o,d=y({}),e=ke({formInfo:u.formInfo}),_=y(!1),P=y(0),b=y(!1),v=60,c=y(0),I=y("\u83B7\u53D6\u9A8C\u8BC1\u7801"),g=y(!1),F=C=>Me(C)?!0:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u59D3\u540D";N(()=>tt.filter((C,r)=>u.payments.includes(r))),N(()=>ut.filter((C,r)=>u.paymentMethod.includes(r)));const p=N(()=>e.formInfo.insured.relationToHolder===re.SELF),$=N(()=>{var C,r;return(((r=(C=u.productDetail)==null?void 0:C.tenantProductInsureVO)==null?void 0:r.attachmentVOList)||[]).filter(k=>k.attachmentName==="\u8D39\u7387\u8868")}),i=N(()=>{var C,r;return(((r=(C=u.productDetail)==null?void 0:C.tenantProductInsureVO)==null?void 0:r.attachmentVOList)||[]).filter(k=>!["\u5065\u5EB7\u544A\u77E5","\u8D39\u7387\u8868"].includes(k.attachmentName))||[]}),S=N(()=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formInfo.holder.mobile)),T=()=>(b.value=!0,b),K=C=>{P.value=C,_.value=!0},J=()=>{b.value=!1},R=()=>new Promise((C,r)=>{d==null||d.value.validate().then(()=>{C("")},()=>{r()})}),A=()=>{if(c.value>0)return;c.value=v;const C=()=>{I.value=`${c.value}s`,c.value-=1};C();const r=setInterval(()=>{c.value===0?(I.value="\u83B7\u53D6\u9A8C\u8BC1\u7801",c.value=0,clearInterval(r)):C()},1e3)},L=async()=>{c.value>0||d==null||d.value.validate("mobile").then(async()=>{const C=await mt(e.formInfo.holder.mobile),{code:r,data:k}=C;r==="10000"&&(g.value=!0,We({message:"\u77ED\u4FE1\u53D1\u9001\u6210\u529F\uFF0C\u8BF7\u67E5\u6536"}),A())})},ee=()=>{const{relationToHolder:C}=e.formInfo.insured;C===re.SELF?(e.formInfo.insured={certNo:e.formInfo.holder.certNo,name:e.formInfo.holder.name,socialFlag:e.formInfo.holder.socialFlag,relationToHolder:C},t("onReset")):(e.formInfo.insured={certNo:"",name:"",socialFlag:lt.HAS,relationToHolder:C},t("onUpdate"))},ce=C=>new Promise((r,k)=>{if(!C||!dt(C)||!e.formInfo.holder.mobile){r(!1);return}_t(e.formInfo.holder.mobile,e.formInfo.holder.mobileSmsCode).then(G=>{const{data:oe}=G;r(!!oe)})});return Y([()=>e.formInfo.holder.certNo,()=>e.formInfo.insured.certNo],()=>{var C,r;e.formInfo.holder.certNo=(C=e.formInfo.holder.certNo)==null?void 0:C.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,""),e.formInfo.insured.certNo=(r=e.formInfo.insured.certNo)==null?void 0:r.replace(/[\u4e00-\u9fa5/\s+/]|[^Xx0-9\u4E00-\u9FA5]/g,"")},{deep:!0,immediate:!0}),Y(()=>e.formInfo.holder,()=>{e.formInfo.insured.relationToHolder===re.SELF&&Object.assign(e.formInfo.insured,e.formInfo.holder)},{deep:!0,immediate:!0}),Y(()=>e.formInfo.insured.certNo,()=>{var r,k;let C=!1;je(e.formInfo.insured.certNo)&&(C=!0),(k=(r=e.formInfo)==null?void 0:r.packageProductList)==null||k.forEach(G=>{C?rt(G,e.formInfo.insured.certNo)||(G.disabled=!0,G.value=ot.UN_INSURE):G.disabled=!1})}),n({validateForm:R,previewFile:K,reEditForm:J,isAgreeFile:b,onSubmit:T}),(C,r)=>{const k=w("ProField"),G=w("van-button"),oe=w("ProRadioButton"),Ae=w("ProForm"),Ne=w("van-config-provider");return l(),E(Ne,{"theme-vars":a(le)},{default:m(()=>[h(Ae,{ref_key:"formRef",ref:d},{default:m(()=>{var pe,fe,me,_e,ve,he,De,ye,be,Ce,Fe,ge;return[s("div",io,[co,((pe=u.formAuth)==null?void 0:pe.holderNameDisable)?(l(),E(k,{key:0,label:"\u59D3\u540D",class:"pro-field","is-view":!0},{input:m(()=>[x(D(a(Pe)(a(e).formInfo.holder.name)),1)]),_:1})):(l(),E(k,{key:1,modelValue:a(e).formInfo.holder.name,"onUpdate:modelValue":r[0]||(r[0]=B=>a(e).formInfo.holder.name=B),label:"\u59D3\u540D",name:"name",required:"",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",maxlength:"50",rules:[{validator:F}]},null,8,["modelValue","rules"])),((fe=u.formAuth)==null?void 0:fe.holderCertDisable)?(l(),E(k,{key:2,label:"\u8BC1\u4EF6\u53F7\u7801",class:"pro-field","is-view":!0},{input:m(()=>[x(D(a(Be)(a(e).formInfo.holder.certNo)),1)]),_:1})):(l(),E(k,{key:3,modelValue:a(e).formInfo.holder.certNo,"onUpdate:modelValue":r[1]||(r[1]=B=>a(e).formInfo.holder.certNo=B),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"18","validate-type":[a(ae).ID_CARD]},null,8,["modelValue","validate-type"])),((me=u.formAuth)==null?void 0:me.holderMobileDisable)?(l(),E(k,{key:4,label:"\u624B\u673A\u53F7",class:"pro-field","is-view":!0},{input:m(()=>[x(D(a(it)(a(e).formInfo.holder.mobile)),1)]),_:1})):(l(),E(k,{key:5,modelValue:a(e).formInfo.holder.mobile,"onUpdate:modelValue":r[2]||(r[2]=B=>a(e).formInfo.holder.mobile=B),label:"\u624B\u673A\u53F7",name:"mobile",required:"",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",type:"digit",maxlength:"11","validate-type":[a(ae).PHONE]},null,8,["modelValue","validate-type"])),((_e=u.formAuth)==null?void 0:_e.holderMobileDisable)?V("",!0):(l(),E(k,{key:6,modelValue:a(e).formInfo.holder.mobileSmsCode,"onUpdate:modelValue":r[3]||(r[3]=B=>a(e).formInfo.holder.mobileSmsCode=B),label:"\u9A8C\u8BC1\u7801",name:"mobileSmsCode",type:"digit",required:"",rules:[{validator:ce,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u9A8C\u8BC1\u7801"}],"input-align":"left",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801","error-message-align":"left",maxlength:"6","validate-type":[a(ae).SMS_CODE]},{extra:m(()=>[h(G,{class:z(["sms-code",{"count-down":c.value>0}]),size:"small",type:"primary",disabled:!a(S),onClick:L},{default:m(()=>[x(D(I.value),1)]),_:1},8,["class","disabled"])]),_:1},8,["modelValue","rules","validate-type"]))]),h(te),s("div",po,[fo,h(k,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[5]||(r[5]=B=>a(e).formInfo.insured.relationToHolder=B),class:"relation-to-Holder",label:"",name:"relationToHolder",placeholder:"\u8BF7\u9009\u62E9",onClick:ee},{input:m(()=>{var B;return[h(oe,{modelValue:a(e).formInfo.insured.relationToHolder,"onUpdate:modelValue":r[4]||(r[4]=ue=>a(e).formInfo.insured.relationToHolder=ue),disabled:(B=u.formAuth)==null?void 0:B.relationToHolderDisable,options:a(at)},null,8,["modelValue","disabled","options"])]}),_:1},8,["modelValue"])]),h(te),s("div",mo,[_o,((ve=u.formAuth)==null?void 0:ve.insuredNameDisable)?(l(),E(k,{key:0,label:"\u59D3\u540D",class:"pro-field","is-view":!0},{input:m(()=>[x(D(a(Pe)(a(e).formInfo.insured.name)),1)]),_:1})):V("",!0),!((he=u.formAuth)==null?void 0:he.insuredNameDisable)&&!a(p)?(l(),E(k,{key:1,modelValue:a(e).formInfo.insured.name,"onUpdate:modelValue":r[6]||(r[6]=B=>a(e).formInfo.insured.name=B),label:"\u59D3\u540D",name:"name",required:"",maxlength:"50",rules:[{validator:F}]},null,8,["modelValue","rules"])):V("",!0),((De=u.formAuth)==null?void 0:De.insuredCertDisable)?(l(),E(k,{key:2,label:"\u8BC1\u4EF6\u53F7\u7801",class:"pro-field","is-view":!0},{input:m(()=>[x(D(a(Be)(a(e).formInfo.insured.certNo)),1)]),_:1})):V("",!0),!((ye=u.formAuth)==null?void 0:ye.insuredCertDisable)&&!a(p)?(l(),E(k,{key:3,modelValue:a(e).formInfo.insured.certNo,"onUpdate:modelValue":r[7]||(r[7]=B=>a(e).formInfo.insured.certNo=B),label:"\u8BC1\u4EF6\u53F7\u7801",name:"certNo",required:"",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",maxlength:"20","validate-type":[a(ae).ID_CARD]},null,8,["modelValue","validate-type"])):V("",!0),h(k,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[9]||(r[9]=B=>a(e).formInfo.insured.socialFlag=B),label:"\u6709\u65E0\u793E\u4FDD",name:"name",required:"",placeholder:"\u8BF7\u9009\u62E9"},{input:m(()=>{var B;return[h(oe,{modelValue:a(e).formInfo.insured.socialFlag,"onUpdate:modelValue":r[8]||(r[8]=ue=>a(e).formInfo.insured.socialFlag=ue),disabled:(B=u.formAuth)==null?void 0:B.insuredSocialDisable,options:a(st)},null,8,["modelValue","disabled","options"])]}),_:1},8,["modelValue"])]),o.isShowPackage&&Array.isArray((be=o.formInfo)==null?void 0:be.packageProductList)&&((Fe=(Ce=o.formInfo)==null?void 0:Ce.packageProductList)==null?void 0:Fe.length)>0?(l(),f("div",vo,[h(te),h(ro,{"package-product-list":(ge=o.formInfo)==null?void 0:ge.packageProductList},null,8,["package-product-list"])])):V("",!0),ho,h(vt,{show:_.value,"onUpdate:show":r[10]||(r[10]=B=>_.value=B),"content-list":a(i).concat(a($)),"active-index":P.value,text:"\u6211\u5DF2\u9010\u9875\u9605\u8BFB\u5E76\u786E\u8BA4\u544A\u77E5\u5185\u5BB9",onSubmit:T},null,8,["show","content-list","active-index"])]}),_:1},512)]),_:1},8,["theme-vars"])}}});var Ta=M(Do,[["__scopeId","data-v-5b5f3948"]]);const yo=o=>(Q("data-v-f8de4658"),o=o(),W(),o),bo={key:0,class:"page-waiting"},Co=["src"],Fo=yo(()=>s("div",{class:"tips"},[s("p",null,"\u652F\u4ED8\u6210\u529F\uFF0C\u627F\u4FDD\u4E2D...")],-1)),go=O({props:{isShow:{type:Boolean,default:()=>{}}},setup(o){const n=o;return Y(()=>n.isShow,t=>{t?document.body.style.overflow="hidden":document.body.style.overflow="inherit"}),(t,u)=>n.isShow?(l(),f("div",bo,[s("img",{class:"loading",src:a(Re)},null,8,Co),Fo])):V("",!0)}});var La=M(go,[["__scopeId","data-v-f8de4658"]]);const Se=o=>(Q("data-v-6e6a8f5e"),o=o(),W(),o),Io={key:0,class:"pro-modal"},wo=Se(()=>s("div",{class:"pro-overlay"},null,-1)),$o={class:"pro-modal-wrapper"},Eo=["src"],Po={class:"pro-modal-body"},Bo={class:"pro-modal-content"},ko=Se(()=>s("p",{class:"tips"},"\u5347\u7EA7\u540E\u7684\u4FDD\u969C\u5C06\u4E8E\u7B2C\u4E8C\u671F\u4FDD\u8D39\u6263\u8D39/\u7F34\u8D39\u6210\u529F\u540E\u751F\u6548",-1)),So={class:"pro-modal-content"},Ao={class:"product-attachment-list"},No=x(" \u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),xo={key:0,class:"dun-hao"},Vo={class:"pro-modal-close"},To=["src"],Lo=O({props:{orderNo:{type:String,default:""},tenantId:{type:String,default:""},isShow:{type:Boolean,default:()=>{}},upgradeCode:{type:String,default:""}},emits:["on-confirm","on-close"],setup(o,{emit:n}){const t=o,u=y(),d=y(),e=y(),_=y(),P=y([]),b=y(t.upgradeCode),v=()=>{n("on-close")},c=()=>{n("on-confirm")},I=async()=>{try{const F=pt({tenantId:t.tenantId,premium:_.value,orderDetail:e.value,productDetail:u.value,insureDetail:d.value,successJumpUrl:"",iseeBizNo:""},ft),p=await bt(F),{code:$,data:i}=p;$==="10000"&&(_.value=i.installmentPremium)}catch(F){console.log(F)}},g=()=>{const F=Ct({productCode:b.value,withInsureInfo:!0,tenantId:t.tenantId}),p=Dt({productCode:b.value}),$=yt({orderNo:t.orderNo,tenantId:t.tenantId});Promise.all([F,p,$]).then(([i,S,T])=>{i.code==="10000"&&(u.value=i.data,P.value=i.data.tenantProductInsureVO.attachmentVOList),S.code==="10000"&&(d.value=S.data),T.code==="10000"&&(e.value=T.data),I()})};return Y(()=>t.isShow,F=>{b.value=t.upgradeCode,F?(document.body.style.overflow="hidden",g()):document.body.style.overflow="inherit"}),(F,p)=>{const $=w("ProPDFviewer");return t.isShow?(l(),f("div",Io,[wo,s("div",$o,[s("img",{class:"cover",src:a(He)},null,8,Eo),s("div",Po,[s("div",Bo,[s("p",null,"\u6BCF\u6708\u4FDD\u8D39\u4EC5\u9700"+D(a(ct)(_.value||0))+"\u5143\uFF0C\u65E0\u9700\u91CD\u590D\u6295\u4FDD",1),ko]),s("div",{class:"pro-modal-btn",onClick:c},"\u4E00\u952E\u5347\u7EA7"),s("div",So,[s("div",Ao,[No,(l(!0),f(U,null,H(P.value,(i,S)=>(l(),E($,{key:S,class:"file-name",title:`\u300A${i.attachmentName}\u300B`,content:i.attachmentUri,type:"pdf"},{default:m(()=>[S!==(P.value||[]).length-1?(l(),f("span",xo,"\u3001")):V("",!0)]),_:2},1032,["title","content"]))),128))])])]),s("div",Vo,[s("img",{src:a(ht),onClick:v},null,8,To)])])])):V("",!0)}}});var Oa=M(Lo,[["__scopeId","data-v-6e6a8f5e"]]);const Oo=o=>(Q("data-v-b5fc84b4"),o=o(),W(),o),Uo={class:"header"},Mo=["src"],Ro={class:"content"},Ho=Oo(()=>s("h4",null,"\u6E29\u99A8\u63D0\u793A\uFF0C\u60A8\u5DF2\u8FDB\u5165\u6295\u4FDD\u6D41\u7A0B\uFF1A",-1)),qo=x(" \u8BF7\u4ED4\u7EC6\u9605\u8BFB\u514D\u8D23\u6761\u6B3E\u3001\u6295\u4FDD\u987B\u77E5\u7B49\u4FE1\u606F\uFF0C\u8BF7\u60A8\u91CD\u70B9\u9605\u8BFB\u5E76\u77E5\u6653 "),Yo=["onClick"],jo=x(" \uFF0C\u4E3A\u7EF4\u62A4\u60A8\u7684\u5408\u6CD5\u6743\u76CA\uFF0C\u60A8\u7684\u64CD\u4F5C\u8F68\u8FF9\u5C06\u88AB\u8BB0\u5F55\u3002 "),Ko={class:"footer"},Go=x(" \u597D\u7684 "),zo={key:0},Qo=O({props:{productDetail:{type:Object,default:()=>{}}},setup(o){const n=o,t="PRENOTICE",u=new Ke({source:"sessionStorage"}),d=y(!1),e=y(!1),_=Xe({time:4e3,onFinish:()=>{u.set(`${t}-isShow`,"1"),d.value=!1}}),P=y(),b=N(()=>{var I,g;return(((g=(I=n.productDetail)==null?void 0:I.tenantProductInsureVO)==null?void 0:g.attachmentVOList)||[]).filter(F=>F.attachmentName==="\u4E2A\u4EBA\u4FE1\u606F\u4FDD\u62A4\u653F\u7B56")}),v=N(()=>_.current.value.seconds),c=I=>{e.value=!e.value,P.value=I};return Je(()=>{d.value=!0,_.start()}),(I,g)=>{const F=w("VanButton"),p=w("ProPopup"),$=w("ProFilePreview");return l(),f(U,null,[h(p,{class:"pre-notice-wrap",show:d.value,closeable:!1,height:45},{default:m(()=>[s("div",Uo,[s("img",{src:a(qe)},null,8,Mo)]),s("div",Ro,[Ho,s("p",null,[qo,(l(!0),f(U,null,H(a(b),(i,S)=>(l(),f("span",{key:S,class:"file-name",onClick:T=>c(i.attachmentUri)}," \u300A"+D(i.attachmentName)+"\u300B ",9,Yo))),128)),jo])]),s("div",Ko,[h(F,{type:"primary",block:"",round:""},{default:m(()=>[Go,a(v)?(l(),f("span",zo,D(a(v))+"s",1)):V("",!0)]),_:1})])]),_:1},8,["show"]),h(p,{show:e.value,"onUpdate:show":g[0]||(g[0]=i=>e.value=i),class:"pre-notice-wrap","close-icon":"close",position:"bottom",style:{height:"600px",paddingTop:"40px"}},{default:m(()=>[h($,{content:P.value,type:"pdf"},null,8,["content"])]),_:1},8,["show"])],64)}}});var Ua=M(Qo,[["__scopeId","data-v-b5fc84b4"]]);const Wo={class:"item"},Xo={class:"footer"},Ma=O({props:{show:{type:Boolean,default:!1},contentList:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},text:{type:String,default:""},beforeReadOverText:{type:String,default:"\u540C\u610F\uFF0C\u4E0B\u4E00\u6761"},forceReadCound:{type:Number,default:0}},emits:["update:show","submit","onCloseFilePreview"],setup(o,{emit:n}){const t=o,u=y(t.show),d=y(t.contentList.map((p,$)=>j(q({},p),{disabled:!0,readDisabled:!0}))),e=y(t.activeIndex),_=y(0),P=y(null),b=N(()=>{var p,$;return($=(p=d.value)==null?void 0:p[e.value])==null?void 0:$.attachmentUri}),v=N(()=>{var p;return(p=d.value[e.value])==null?void 0:p.readDisabled}),c=N(()=>e.value>=t.forceReadCound-1||_.value>=t.forceReadCound?!1:_.value<t.forceReadCound?e.value!==t.forceReadCound-1:!1),I=()=>{e.value+=1},g=()=>{n("update:show",!1),n("submit")};Y(()=>t,()=>{u.value=t.show,e.value=t.activeIndex},{deep:!0,immediate:!0});const F=p=>{p&&Math.floor(p.target.scrollHeight-p.target.scrollTop)===p.target.clientHeight&&d.value[e.value].readDisabled&&(d.value[e.value].disabled=!1,d.value[e.value].readDisabled=!1,d.value[e.value+1].disabled=!1,_.value+=1)};return Y(()=>e.value,()=>{t.show&&(_.value>=t.forceReadCound&&d.value.forEach(p=>{p.disabled=!1,p.readDisabled=!1}),P.value&&(P.value.scrollTop=0))},{immediate:!0}),(p,$)=>{const i=w("ProTab"),S=w("ProFilePreview"),T=w("VanButton"),K=w("van-config-provider"),J=w("ProPopup");return l(),E(J,{show:u.value,"onUpdate:show":$[1]||($[1]=R=>u.value=R),class:"file-preview-popup-wrap",closeable:!1,onClose:$[2]||($[2]=R=>n("onCloseFilePreview"))},{default:m(()=>[h(K,{"theme-vars":a(le),class:"custom-provider"},{default:m(()=>[u.value?(l(),E(i,{key:0,active:e.value,"onUpdate:active":$[0]||($[0]=R=>e.value=R),list:d.value.map((R,A)=>({title:R.attachmentName,disabled:A==e.value?!1:R.disabled||!1,slotName:`guarantee-${A}`})),class:"tab"},null,8,["active","list"])):V("",!0),s("div",{ref_key:"previewRef",ref:P,class:"list",onScroll:F},[s("div",Wo,[(l(),E(S,{key:a(b),content:a(b),type:"pdf","forbid-click":!0},null,8,["content"]))])],544),s("div",Xo,[a(c)?(l(),E(T,{key:0,disabled:a(v),type:"primary",block:"",round:"",onClick:I},{default:m(()=>[x(D(`${o.beforeReadOverText}(${e.value+1}/${o.forceReadCound})`),1)]),_:1},8,["disabled"])):(l(),E(T,{key:1,disabled:a(v),type:"primary",block:"",round:"",onClick:g},{default:m(()=>[x(D(t.text),1)]),_:1},8,["disabled"]))])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const Jo={class:"list"},Zo={class:"item"},ea={class:"footer"},ta=x("\u90E8\u5206\u4E3A\u662F"),oa=x("\u5168\u90E8\u4E3A\u5426"),Ra=O({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth","onCloseHealth"],setup(o,{emit:n}){const t=o,u=y(t.show),d=y(t.activeIndex),e=N(()=>{var v;return(v=t.contentList[d.value])==null?void 0:v.attachmentUri}),_=y(!0),P=v=>{_.value=!1,n("update:show",!1),n("onConfirmHealth",v)},b=()=>{_.value&&n("onCloseHealth")};return Y(()=>t,()=>{u.value=t.show,d.value=t.activeIndex},{deep:!0,immediate:!0}),(v,c)=>{const I=w("ProTab"),g=w("ProFilePreview"),F=w("VanButton"),p=w("van-config-provider"),$=w("ProPopup");return l(),E($,{show:u.value,"onUpdate:show":c[3]||(c[3]=i=>u.value=i),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:c[4]||(c[4]=i=>b())},{default:m(()=>[h(p,{"theme-vars":a(le),class:"custom-provider"},{default:m(()=>[u.value?(l(),E(I,{key:0,active:d.value,"onUpdate:active":c[0]||(c[0]=i=>d.value=i),list:o.contentList.map((i,S)=>({title:i.attachmentName,slotName:`guarantee-${S}`})),class:"tab"},null,8,["active","list"])):V("",!0),s("div",Jo,[s("div",Zo,[(l(),E(g,{key:a(e),content:a(e),type:"pdf"},null,8,["content"]))])]),s("div",ea,[h(F,{type:"primary",block:"",round:"",onClick:c[1]||(c[1]=i=>P("N"))},{default:m(()=>[ta]),_:1}),h(F,{type:"primary",plain:"",block:"",round:"",onClick:c[2]||(c[2]=i=>P("allFalse"))},{default:m(()=>[oa]),_:1})])]),_:1},8,["theme-vars"])]),_:1},8,["show"])}}});const Z=o=>(Q("data-v-654d2e2c"),o=o(),W(),o),aa={class:"com-payment-type"},sa=Z(()=>s("div",{class:"title"},"\u4EA4\u8D39\u65B9\u5F0F",-1)),la={class:"content"},na=Z(()=>s("div",{class:"pay-method"},[s("span",{class:"method"},D("\u6309\u6708\u4EA4\u8D39")),s("span",{class:"acount"},D("\u517112\u671F"))],-1)),ua=[na],ra=Z(()=>s("div",{class:"tip"},[s("span",null,D("\u6BD4\u6309\u6708\u652F\u4ED8\u6700\u9AD8\u7701")),x(),s("span",null,"16%")],-1)),ia=Z(()=>s("div",{class:"triangle"},null,-1)),da=Z(()=>s("div",{class:"pay-method"},[s("span",{class:"method"},D("\u4E00\u6B21\u4EA4\u6E05")),s("span",{class:"acount"},D("\u6BD4\u6708\u4EA4\u4FDD\u8D39\u7701\u6700\u9AD82014\u5143"))],-1)),ca=[ra,ia,da],pa={class:"guarantee-date"},fa=Z(()=>s("span",null,"\u4FDD\u969C\u671F\u9650",-1)),ma={class:"guarantee-date"},_a=Z(()=>s("span",null,"\u5B9E\u4ED8\u4FDD\u8D39",-1)),va={class:"fee-text"},ha=O({props:{showConfig:{type:Object,default:()=>{}},formInfo:{type:Object,default:()=>{}},productDetail:{type:Object,default:()=>{}}},emits:["onReset","onUpdate","onVerify"],setup(o,{expose:n,emit:t}){const u=o;y({}),y(!0);const d=ke({formInfo:u.formInfo}),e=N(()=>Ee(new Date).add(1,"day").format("YYYY.MM.DD")),_=N(()=>Ee(new Date).add(1,"year").format("YYYY.MM.DD")),P=b=>{d.formInfo.paymentFrequency=b};return n({}),(b,v)=>{const c=w("ProDivider"),I=w("van-config-provider");return l(),E(I,{"theme-vars":a(le)},{default:m(()=>{var g;return[s("div",aa,[sa,s("div",la,[s("div",{class:z(`com-payment-type-item ${a(d).formInfo.paymentFrequency===a(se).MONTH?"active":""}`),onClick:v[0]||(v[0]=F=>P(a(se).MONTH))},ua,2),s("div",{class:z(`com-payment-type-item ${a(d).formInfo.paymentFrequency===a(se).YEAR?"active":""}`),onClick:v[1]||(v[1]=F=>P(a(se).YEAR))},ca,2)]),s("div",pa,[fa,s("span",null,D(a(e))+" - "+D(a(_)),1)]),s("div",ma,[_a,s("span",va,D((g=u.showConfig)==null?void 0:g.price),1)])]),h(c)]}),_:1},8,["theme-vars"])}}});var Ha=M(ha,[["__scopeId","data-v-654d2e2c"]]);const X={holderNameDisable:!0,holderCertDisable:!0,holderMobileDisable:!0,holderSocialDisable:!0,relationToHolderDisable:!0,insuredNameDisable:!0,insuredCertDisable:!0,insuredSocialDisable:!0,paymentDisable:!0,renewalDKDisable:!0,paymentFrequencyDisable:!0};j(q({},X),{holderSocialDisable:!1,relationToHolderDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});j(q({},X),{holderNameDisable:!1,holderCertDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});j(q({},X),{holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});j(q({},X),{holderSocialDisable:!1,relationToHolderDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});j(q({},X),{paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});const qa=j(q({},X),{holderNameDisable:!1,holderCertDisable:!1,holderMobileDisable:!1,holderSocialDisable:!1,relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});j(q({},X),{relationToHolderDisable:!1,insuredNameDisable:!1,insuredCertDisable:!1,insuredSocialDisable:!1,paymentDisable:!1,paymentFrequencyDisable:!1,renewalDKDisable:!1});q({},X);export{Aa as B,Na as D,xa as G,Ta as H,Ha as P,Va as S,Oa as U,La as W,Ra as _,Ua as a,Ma as b,qa as c,X as d};
