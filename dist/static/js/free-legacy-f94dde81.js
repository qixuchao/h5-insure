!function(){var e=document.createElement("style");e.innerHTML=".free-crad .page-info-wrapper .com-card-wrap .header.showLine{display:none}.free-crad .page-info-wrapper .com-card-wrap .com-personal-wrapper .van-cell{background:#f6f6f6;border-radius:.21333rem;margin-bottom:.32rem;height:1.17333rem;padding:0 .42667rem;display:flex;align-items:center}.free-crad .page-info-wrapper .com-card-wrap .com-personal-wrapper .van-cell .van-field__label{width:1.62667rem;margin-top:0;margin-bottom:0}.free-crad .page-info-wrapper .com-card-wrap .com-personal-wrapper .van-cell .van-cell__value .van-field__body{width:100%}.free-crad .page-info-wrapper .com-card-wrap .com-personal-wrapper .van-cell:after{border-bottom:0}.free-crad .page-info-wrapper .com-card-wrap .van-cell:after{border-bottom:0}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-field__label{width:1.62667rem;margin-top:0;margin-bottom:0}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell__value .van-field__body{width:100%}.free-crad .page-info-wrapper .com-card-wrap .van-cell.relation-holder{padding-right:0}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell__value .van-field__body .van-field__control .com-radio-btn-wrap{width:100%}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell__value .van-field__body .van-field__control .com-radio-btn-wrap .radio-btn{display:flex;justify-content:flex-start}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell__value .van-field__body .van-field__control .com-radio-btn-wrap .radio-btn .btn-wrapper{margin:0}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell__value .van-field__body .van-field__control .com-radio-btn-wrap .radio-btn .btn-wrapper .com-check-btn{min-width:1.33333rem;border-radius:.53333rem!important;margin:0 .10667rem .13333rem 0}.free-crad .page-info-wrapper .com-card-wrap .van-cell .van-cell:after{border-bottom:0}.free-crad[data-v-a8331544]{padding:0 .42667rem;background:linear-gradient(var(--2689eaee),var(--2689eab0))}.free-crad .container[data-v-a8331544]{padding:.61333rem .53333rem .26667rem;background:#ffffff;text-align:center;border-radius:.53333rem}.free-crad .container .title[data-v-a8331544]{height:.44rem;margin-bottom:.53333rem;display:flex;align-items:center;justify-content:center}.free-crad .container .title span[data-v-a8331544]{font-size:.42667rem;font-family:PingFangSC-Semibold,PingFang SC;font-weight:600;color:#333;line-height:.42667rem;margin:0 .29333rem}.free-crad .container .title img[data-v-a8331544]{height:.4rem}.free-crad .container .holder-form[data-v-a8331544]{height:4.66667rem}.pre-notice-wrap .pre-body[data-v-9aec5e06]{padding:.66667rem .42667rem 0;height:100%}.pre-notice-wrap .pre-body .header[data-v-9aec5e06]{line-height:1;border:none}.pre-notice-wrap .pre-body .header img[data-v-9aec5e06]{height:.58667rem}.pre-notice-wrap .pre-body .header .company-name[data-v-9aec5e06]{margin-top:.26667rem;font-size:.32rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:500;color:#333;line-height:.44rem}.pre-notice-wrap .pre-body .content[data-v-9aec5e06]{margin-top:.42667rem;padding:.42667rem;background:#fcf4f0;border-radius:.26667rem;font-size:.37333rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:.56rem;border:1px solid #fff1de;border-top-color:#fee6dd}.pre-notice-wrap .pre-body .content span[data-v-9aec5e06]{color:#006afc}.pre-notice-wrap .pre-body .footer[data-v-9aec5e06]{margin-top:.66667rem}.page-free-product-detail[data-v-e1fb64e0]{background:var(--5b6eecb3);padding-bottom:3.14667rem}.page-free-product-detail .submit-btn[data-v-e1fb64e0]{margin-top:.4rem}.page-free-product-detail .product-desc img[data-v-e1fb64e0]{width:100%}.page-free-product-detail .page-free-footer[data-v-e1fb64e0]{position:fixed;width:100%;bottom:0;padding:0 .93333rem .93333rem;box-sizing:border-box}\n",document.head.appendChild(e),System.register(["./vendor-legacy-4e74e70a.js","./index-legacy-845ab825.js","./index-legacy-0f53aa0b.js","./nextStep-legacy-f0dcd0b9.js","./phoneVerify-legacy-6f04c4ab.js","./index-legacy-97a78427.js","./product-legacy-4ee64e90.js","./trial-legacy-052932c0.js","./utils-legacy-03c9eabe.js","./theme-legacy-41f77bf2.js","./infoCollection-legacy-9dff0fb7.js","./relativeTime-legacy-f75a2510.js","./useDicData-legacy-e2388d76.js","./core-legacy-ee5d6d9b.js","./index-legacy-f048602f.js","./useStorage-legacy-598b0381.js","./trial-legacy-4c219ad0.js"],(function(e){"use strict";var a,t,r,n,o,i,l,d,c,s,p,u,f,m,g,v,w,h,b,y,A,C,I,_,P,x,k,O,F,j,D,V,T,B,E,U,N,S,H,R,z,L,Z,M,G;return{setters:[function(e){a=e.i,t=e.az,r=e.r,n=e.N,o=e.$,i=e.m,l=e.s,d=e.B,c=e.C,s=e.t,p=e.Z,u=e.a5,f=e.a6,m=e.P,g=e.k,v=e.l,w=e.p,h=e.L,b=e.F,y=e.G,A=e.aa,C=e.aA,I=e.n,_=e.x,P=e.H,x=e.T},function(e){k=e.P},function(e){O=e.B,F=e.A,j=e._},function(e){D=e._,V=e.n},function(e){T=e.a,B=e.s,E=e.c},function(e){U=e._,N=e.a8},function(e){S=e.q,H=e.p,R=e.g},function(e){z=e.i,L=e.t},function(e){Z=e.v,M=e.f},function(e){G=e.u},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAeCAMAAACBgxnEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURUdwTPpkAPpkAPpkAPlkAPlkAP9fAPpkAP9jAPljAPljAPlkAPdhAP9VAPhlAPpjAPpiAPpkAPlhAPpkAKrbDd8AAAATdFJOUwCe3XX6YBgzC+yKwSIDTrE+0C9Hm6hZAAAAf0lEQVR42u2MSw6AIAxEi6CCf+j976ommvG3omxMOqv2vczQmZa3tPRMptdZndVZndXZf892/JGOxN68qUEr24/zk84jSvne93fae3Qk3scrjZeWzDcVaNUQIvRDOGkYQOU+hYMmsBJ+cTt1C0gZP7mNTvhL+Zq5xlfOW4tb6le9ZDBDk4RvXwAAAABJRU5ErkJggg==";const q={class:"free-crad"},Q={class:"container"},X={class:"title"},$=["src"],K=(e=>(u("data-v-a8331544"),e=e(),f(),e))((()=>d("span",null,"最后一步 填写信息",-1))),Y=["src"],W=a({props:{colors:{type:Array,default:()=>["#CDDFFE","#F1F7FE"]},detail:{type:Object,default:()=>{}},isFirst:{type:Boolean,default:!0},insureDetail:{type:Object,default:()=>{}}},setup(e,{expose:a}){const u=e;t((e=>({"2689eaee":u.colors[0],"2689eab0":u.colors[1]})));const f=r(),m=n({factorObj:{1:[{attributeValues:null,code:"mobile",datasource:null,defaultValue:null,displayType:null,factorId:null,factorScript:null,hasDefaultValue:1,id:8249,isDisplay:1,isHidden:1,isMustInput:2,isReadOnly:null,moduleType:1,placeholder:null,planCode:null,position:null,productCode:"lin23323",productId:null,title:"手机号"},{attributeValues:null,code:"verificationCode",datasource:null,defaultValue:null,displayType:null,factorId:null,factorScript:null,hasDefaultValue:1,id:8249,isDisplay:1,isHidden:1,isMustInput:2,isReadOnly:null,moduleType:1,placeholder:null,planCode:null,position:null,productCode:"lin23323",productId:null,title:"验证码"}],2:[],3:[]},isFirst:!0}),g=async(e,a)=>{const t=u.isFirst?T:B,r=await t(e),{code:n,data:o}=r;"10000"===n&&a?.()};return o((()=>u.isFirst),(()=>{u.isFirst||(m.factorObj=u.insureDetail?.productFactor)})),a({validateForm:()=>new Promise(((e,a)=>{f.value.validateForm().then((a=>{e(!0)})).catch((()=>{a()}))}))}),(a,t)=>(i(),l("div",q,[d("div",Q,[d("div",X,[d("img",{src:c(J)},null,8,$),K,d("img",{src:c(J)},null,8,Y)]),s(D,{ref_key:"formRef",ref:f,"send-sms-code":g,"form-info":e.detail,"factor-object":c(m).factorObj},null,8,["form-info","factor-object"]),p(a.$slots,"default",{},void 0,!0)])]))}});var ee=U(W,[["__scopeId","data-v-a8331544"]]);const ae={class:"pre-body"},te={class:"header"},re=["src"],ne={class:"company-name"},oe={class:"content"},ie=y(" 为了更好地保护您的个人信息，请在使用前点击阅读、充分理解"),le=y("相关内容，我们对您使用过程中可能出现的个人信息收集、使用、共享和保护等情况进行了详细说明。 您已进入投保流程，请仔细阅读"),de=y("、投保须知、保险条款等信息，为维护您的合法权益，您的操作轨迹将被记录。 "),ce={class:"footer"};var se=U(a({props:{productDetail:{type:Object,default:()=>{}}},setup(e){const a=e,t=m(),{tenantId:o=""}=t.query,p=r(!0),u=r(!1),f=n({insureConfig:{insureName:"",tenantName:""}}),y=r({title:"",link:""}),A=(e,a)=>{u.value=!u.value,y.value.link=f.insureConfig?.[a].link,y.value.title=e.target.innerText};return g((()=>{p.value=!1,(async()=>{const{code:e,data:t}=await S({insureCode:a.productDetail.insurerCode,tenantId:o});"10000"===e&&(f.insureConfig=t),p.value=!0})()})),(e,a)=>{const t=v("ProPopup"),r=v("ProFilePreview");return i(),l(b,null,[s(t,{class:"pre-notice-wrap","close-on-click-overlay":!1,show:p.value,closeable:!1,height:"395px"},{default:w((()=>[d("div",ae,[d("div",te,[d("img",{src:c("/static/assets/logo.65e1895e.png")},null,8,re),d("div",ne," 由"+h(c(f).insureConfig.tenantName)+"提供保险经纪服务，"+h(c(f).insureConfig.insureName)+"承保 ",1)]),d("div",oe,[ie,d("span",{onClick:a[0]||(a[0]=e=>A(e,"privacyAgreement"))},"《用户隐私协议》"),le,d("span",{onClick:a[1]||(a[1]=e=>A(e,"notification"))},"《客户告知书》"),de]),d("div",ce,[s(k,{shadow:!1,text:"我知道了",onClick:a[2]||(a[2]=e=>p.value=!1)})])])])),_:1},8,["show"]),s(t,{show:u.value,"onUpdate:show":a[3]||(a[3]=e=>u.value=e),class:"pre-notice-wrap",title:y.value?.title,position:"bottom",style:{height:"600px"}},{default:w((()=>[s(r,{content:y.value?.link,type:"link"},null,8,["content"])])),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-9aec5e06"]]);const pe={class:"page-free-product-detail"},ue={class:"product-desc"},fe={key:0,class:"page-free-footer"};e("default",U(a({setup(e){t((e=>({"5b6eecb3":c(q).colors[1]})));const a=G(),o=A(),p=m(),{productCode:u="",openId:f="",tenantId:h="",indirectCode:y="123",saleUserId:D="",saleChannelId:T="",extraInfo:B}=p.query;let U="";const S=r(),J=r(),q=n({colors:["#fff"],detail:{},order:{tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}},banner:"",productDesc:[],newAuth:!0,isValidateCode:!1,insureDetail:{},loading:!0,showBtn:!1,activeIndex:0,showFilePreview:!1,isOnlyView:!0}),Q=r();let X={};try{X=JSON.parse(decodeURIComponent(B))}catch(te){}const $=async()=>{q.loading=!0;const e=H({productCode:u,withInsureInfo:!0,tenantId:h}),a=z({productCode:u}),t=R({openId:f});await Promise.all([e,a,t]).then((([e,a,t])=>{if("10000"===e.code){q.detail=e.data,q.banner=q.detail.tenantProductInsureVO?.banner[0];const{colorEnd:a,colorStart:t}=q.detail.tenantProductInsureVO?.backgroundInsureVO||{};q.colors=[t,a],q.productDesc=q.detail.tenantProductInsureVO.spec||[],document.title=q.detail.productFullName||""}"10000"===a.code&&(q.insureDetail=a.data,q.insureDetail.productFactor[1].forEach((e=>{"verificationCode"===e.code&&1===e.isDisplay&&(q.isValidateCode=!0)})),q.insureDetail.productFactor[2]=q.insureDetail.productFactor?.[2].map((e=>("relationToHolder"===e.code&&1===e.isDisplay&&(e.title="被保人",q.order.tenantOrderInsuredList[0].relationToHolder=e.attributeValueList?.[0]?.code||""),e)))),"10000"===t.code&&(q.newAuth=!t.data),(()=>{let e={};if(e=q.detail.tenantProductInsureVO.planInsureVO.attachmentVOList||[],!e)return void(Q.value=[]);const a={2:"richText",3:"link"};Q.value=Object.keys(e).map((t=>(e[t].forEach((e=>{if("1"===e.attachmentType){const a=e.attachmentUri.split("?"),t=a[0].substr(a[0].lastIndexOf(".")+1);e.attachmentType="pdf"===t?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:t,attachmentList:e[t]})))})(),q.loading=!1}))},K=async()=>{let e={loginType:"2",openId:f,thirdUserType:"XINAO_WECHAT",indirectCode:y};try{if(q.newAuth?(e.loginName=q.order.tenantOrderHolder.mobile,e.password=q.order.tenantOrderHolder.verificationCode):e=M({order:q.order,tenantId:h,extraInfo:X,detail:q.detail,insureDetail:q.insureDetail,iseeBizNo:U,saleUserId:D,saleChannelId:T,pageCode:"infoCollection",buttonCode:"EVENT_FREE_multiIssuePolicy"}),q.newAuth){const{code:a,data:t}=await L(e);"10000"===a&&(q.newAuth=!1)}else V(e,((e,a)=>{a===N.JUMP_PAGE&&e.orderNo&&o.push(`/baseInsurance/orderDetail?from=free&tenantId=${h}&orderNo=${e.orderNo}&productCode=${u}`)}))}catch(a){}},Y=async()=>await(async()=>{await J.value.validateForm();const e=q.order.tenantOrderHolder?.verificationCode;if(q.isValidateCode&&(!e||!Z(e)))return x({message:"请输入正确的验证码"}),!1;if(q.newAuth||!q.isValidateCode)return!0;const{code:a,data:t}=await E(q.order.tenantOrderHolder.mobile,e);return!!t})()?(q.newAuth?K():(q.isOnlyView=!1,q.showFilePreview=!0),!1):null,W=()=>{q.showFilePreview=!1,q.isOnlyView=!1},ae=()=>{q.showFilePreview=!1,q.isOnlyView=!0,K()};return g((()=>{$(),setTimeout((async()=>{U=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),C(S,(([{isIntersecting:e}],a)=>{q.showBtn=!e})),(e,t)=>{const r=v("van-image"),n=v("van-config-provider");return i(),I(n,{"theme-vars":c(a)},{default:w((()=>[d("div",pe,[s(O,{url:c(q).banner},null,8,["url"]),s(ee,{ref_key:"formRef",ref:J,"is-first":c(q).newAuth,"insure-detail":c(q).insureDetail,detail:c(q).order,colors:c(q).colors},{default:w((()=>[s(k,{ref_key:"root",ref:S,class:"submit-btn","is-gradient":!1,text:c(q).newAuth?"立即领取":"激活保障",onClick:Y},null,8,["text"]),Q.value&&Q.value.length>0?(i(),I(F,{key:0,"attachement-list":Q.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:t[0]||(t[0]=e=>(e=>{q.activeIndex=e,q.showFilePreview=!0})(e))},null,8,["attachement-list"])):_("",!0)])),_:1},8,["is-first","insure-detail","detail","colors"]),d("div",ue,[(i(!0),l(b,null,P(c(q).productDesc,((e,a)=>(i(),I(r,{key:a,width:"100%","lazy-load":"",src:e,class:""},null,8,["src"])))),128))]),c(q).showBtn?(i(),l("footer",fe,[s(k,{"is-gradient":!1,text:c(q).newAuth?"立即领取":"激活保障",onClick:Y},null,8,["text"])])):_("",!0)]),c(q).showFilePreview?(i(),I(j,{key:0,show:c(q).showFilePreview,"onUpdate:show":t[1]||(t[1]=e=>c(q).showFilePreview=e),"content-list":Q.value,"is-only-view":c(q).isOnlyView,"active-index":c(q).activeIndex,text:c(q).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:ae,onOnCloseFilePreview:W},null,8,["show","content-list","is-only-view","active-index","text"])):_("",!0),c(q).loading?_("",!0):(i(),I(se,{key:1,"product-detail":c(q).detail},null,8,["product-detail"]))])),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-e1fb64e0"]]))}}}))}();
