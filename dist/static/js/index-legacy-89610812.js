!function(){var e=document.createElement("style");e.innerHTML=".page-info-wrapper{padding-bottom:2rem}.page-info-wrapper .com-card .com-card-wrap .body{padding:0}.page-info-wrapper .beneficiary-part .part-title{display:flex;align-items:center;justify-content:space-between;padding:0 var(--zaui-card-border, .4rem);background-color:#f2f5fc;height:1.2rem}.page-info-wrapper .beneficiary-part .part-title .title{font-size:.4rem;font-family:PingFangSC-Semibold,PingFang SC,self;font-weight:600;color:#393d46}.page-info-wrapper .radio-item-wrapper{padding:0}.page-info-wrapper .radio-item-wrapper p{font-size:.4rem;font-family:PingFangSC-Semibold,PingFang SC,serif;color:#393d46;margin:.06667rem 0}.page-info-wrapper .radio-item-wrapper .name{font-weight:600;margin-right:.4rem}.page-info-wrapper .radio-item-wrapper .phone{font-weight:400}\n",document.head.appendChild(e),System.register(["./vendor-legacy-82e10760.js","./index-legacy-dfe03d8e.js","./index-legacy-09d71eaf.js","./index-legacy-86dceb44.js","./useDicData-legacy-7a28a046.js","./InsuredPart-legacy-25271054.js","./trial-legacy-961024df.js"],(function(e){"use strict";var n,a,r,t,o,l,i,d,u,s,f,c,p,m,v,I,y,g,b,V,O,E,L,T,h,w,C,R,x,P,D,U,k,q,S;return{setters:[function(e){n=e.g,a=e.E,r=e.y,t=e.r,o=e.A,l=e.j,i=e.n,d=e.k,u=e.m,s=e.p,f=e.t,c=e.C,p=e.aj,m=e.Q,v=e.a5,I=e.M,y=e.o,g=e.F,b=e.G,V=e.z,O=e.J},function(e){E=e.r,L=e.P,T=e.I,h=e.H},function(e){w=e.c,C=e.n,R=e.a},function(e){x=e.b,P=e.c,D=e._,U=e.R,k=e.B},function(e){q=e.u},function(e){S=e.I},function(){}],execute:function(){const A={key:0,class:"com-beneficiary-wrapper"},N=c(" % "),_=n({props:{formInfo:{default:()=>({})},factorList:{default:()=>[]},isView:{type:Boolean,default:!1}},emits:["update:images"],setup(e,{emit:n}){const c=e,p=a({formInfo:c.formInfo}),m=q("CERT_TYPE");q("MARRIAGE_STATUS"),q("DEGREE");const v=q("NATIONALITY");q("NATIONAL_REGION_CODE");const I=r((()=>{const e={};return c.factorList.forEach((n=>{e[n.code]=n})),e}));return(n,a)=>{var r,c,y,g,b,V,O,L,T,h,w,C,R,D,U,k,q,S,_,H;const B=t("ProRadioButton"),j=t("ProField"),Y=t("ProPicker"),M=t("ProDatePicker");return Object.keys(o(I)).length?(l(),i("div",A,[null!==(r=o(I).relationToInsured)&&void 0!==r&&r.isDisplay?(l(),d(j,{key:0,modelValue:p.value.formInfo.relationToInsured,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value.formInfo.relationToInsured=e),name:"relationToInsured",required:"YES"===(null===(c=o(I).relationToInsured)||void 0===c?void 0:c.isMustInput),label:"是被保人的"},{input:u((()=>[s(B,{modelValue:p.value.formInfo.relationToInsured,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value.formInfo.relationToInsured=e),"is-view":e.isView,options:o(x)},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required"])):f("",!0),null!==(y=o(I).certType)&&void 0!==y&&y.isDisplay?(l(),d(Y,{key:1,modelValue:p.value.formInfo.certType,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value.formInfo.certType=e),label:"证件类型",name:"certType",readonly:"","data-source":o(m),mapping:{label:"name",value:"code",children:"child"},required:"YES"===(null===(g=o(I).certType)||void 0===g?void 0:g.isMustInput)},null,8,["modelValue","data-source","required"])):f("",!0),null!==(b=o(I).certNo)&&void 0!==b&&b.isDisplay?(l(),d(j,{key:2,modelValue:p.value.formInfo.certNo,"onUpdate:modelValue":a[3]||(a[3]=e=>p.value.formInfo.certNo=e),name:"certNo",required:"YES"===(null===(V=o(I).certNo)||void 0===V?void 0:V.isMustInput),label:"证件号码"},null,8,["modelValue","required"])):f("",!0),null!==(O=o(I).name)&&void 0!==O&&O.isDisplay?(l(),d(j,{key:3,modelValue:p.value.formInfo.name,"onUpdate:modelValue":a[4]||(a[4]=e=>p.value.formInfo.name=e),required:"YES"===(null===(L=o(I).name)||void 0===L?void 0:L.isMustInput),name:"name",label:"姓名"},null,8,["modelValue","required"])):f("",!0),null!==(T=o(I).gender)&&void 0!==T&&T.isDisplay?(l(),d(j,{key:4,modelValue:p.value.formInfo.gender,"onUpdate:modelValue":a[6]||(a[6]=e=>p.value.formInfo.gender=e),required:"YES"===(null===(h=o(I).gender)||void 0===h?void 0:h.isMustInput),name:"gender",label:"性别"},{input:u((()=>[s(B,{modelValue:p.value.formInfo.gender,"onUpdate:modelValue":a[5]||(a[5]=e=>p.value.formInfo.gender=e),"is-view":e.isView,options:o(E)},null,8,["modelValue","is-view","options"])])),_:1},8,["modelValue","required"])):f("",!0),null!==(w=o(I).birthday)&&void 0!==w&&w.isDisplay?(l(),d(M,{key:5,modelValue:p.value.formInfo.birthday,"onUpdate:modelValue":a[7]||(a[7]=e=>p.value.formInfo.birthday=e),label:"出生日期",name:"birthday",required:"YES"===(null===(C=o(I).birthday)||void 0===C?void 0:C.isMustInput)},null,8,["modelValue","required"])):f("",!0),null!==(R=o(I).certEndDate)&&void 0!==R&&R.isDisplay?(l(),d(M,{key:6,modelValue:p.value.formInfo.certEndDate,"onUpdate:modelValue":a[8]||(a[8]=e=>p.value.formInfo.certEndDate=e),label:"有效期至",name:"certEndDate",required:"YES"===(null===(D=o(I).certEndDate)||void 0===D?void 0:D.isMustInput)},null,8,["modelValue","required"])):f("",!0),null!==(U=o(I).country)&&void 0!==U&&U.isDisplay?(l(),d(Y,{key:7,modelValue:p.value.formInfo.extInfo.nationalityCode,"onUpdate:modelValue":a[9]||(a[9]=e=>p.value.formInfo.extInfo.nationalityCode=e),label:"国籍",name:"nationalityCode","data-source":o(v),mapping:{label:"name",value:"code",children:"child"},required:"YES"===(null===(k=o(I).country)||void 0===k?void 0:k.isMustInput)},null,8,["modelValue","data-source","required"])):f("",!0),null!==(q=o(I).beneficiaryType)&&void 0!==q&&q.isDisplay?(l(),d(Y,{key:8,modelValue:p.value.formInfo.benefitOrder,"onUpdate:modelValue":a[10]||(a[10]=e=>p.value.formInfo.benefitOrder=e),label:"受益人顺序",name:"benefitOrder","data-source":o(P),required:"YES"===(null===(S=o(I).beneficiaryType)||void 0===S?void 0:S.isMustInput)},null,8,["modelValue","data-source","required"])):f("",!0),null!==(_=o(I).benefitRate)&&void 0!==_&&_.isDisplay?(l(),d(j,{key:9,modelValue:p.value.formInfo.benefitRate,"onUpdate:modelValue":a[11]||(a[11]=e=>p.value.formInfo.benefitRate=e),required:"YES"===(null===(H=o(I).benefitRate)||void 0===H?void 0:H.isMustInput),name:"benefitRate",label:"受益比例"},{extra:u((()=>[N])),_:1},8,["modelValue","required"])):f("",!0)])):f("",!0)}}});const H={key:0,class:"beneficiary-part"},B={class:"part-title"},j={class:"title"},Y={class:"radio-item-wrapper"},M={class:"name"},F={class:"hone"},G={class:"address"},z={class:"footer-button"},J=c("下一步");e("default",n({setup(e){const n=p(),c=m(),{templateId:E=1,orderNo:x="2022072710380711215",tenantId:P="9991000007"}=c.query;v();const A="/infoPreview"===c.path?"infoPreview":"infoCollection",N=a({}),Q=q("NATIONAL_REGION_CODE"),W=a({extInfo:{pageCode:A},tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0}}),$=a(null),K=a([]),X=a([]),Z=a([]),ee=a([]),ne=I({beneficiaryId:0,addressList:[],nextPage:"",currentAddress:null,isLoading:!0}),ae=r((()=>{var e,n;return(null===(e=W.value.extInfo)||void 0===e||null===(n=e.contactInfo)||void 0===n?void 0:n[0])||{}})),re=()=>{C(W.value).then((({code:e,data:a})=>{"10000"===e&&"jumpToPage"===a.pageAction.pageAction&&n.push({path:L[a.pageAction.data.nextPageCode],query:c.query})}))};return y((()=>{R({orderNo:x,tenantId:P}).then((({code:e,data:n})=>{if("10000"===e){const e=n;e.extInfo={...e.extInfo,pageCode:A,templateId:E},e.tenantOrderHolder=e.tenantOrderHolder||{},e.tenantOrderHolder.extInfo=e.tenantOrderHolder.extInfo||{},e.tenantOrderInsuredList[0].extInfo=e.tenantOrderInsuredList[0].extInfo||{},e.tenantOrderInsuredList[0].tenantOrderBeneficiaryList=e.tenantOrderInsuredList[0].tenantOrderBeneficiaryList.map((e=>{const n=e;return n.extInfo={},n})),e.tenantOrderAttachmentList.forEach((e=>{e.category===T.OBVERSE_CERT?e.objectType===h.HOLDER?(K.value[0]=e.uri,Z.value[0]=e.id):e.objectType===h.INSURED&&(X.value[0]=e.uri,ee.value[0]=e.id):e.category===T.REVERSE_CERT&&(e.objectType===h.HOLDER?(K.value[1]=e.uri,Z.value[1]=e.id):e.objectType===h.INSURED&&(X.value[1]=e.uri,Z.value[1]=e.id))})),Object.assign(W.value,e)}})).finally((()=>{ne.isLoading=!1})),w({pageCode:"infoCollection",templateId:E}).then((({code:e,data:n})=>{if("10000"===e){const e={BENEFICIARY:[],INSURER:[],HOLDER:[]};n.productInsureFactorList.forEach((n=>{(e[n.moduleType]=e[n.moduleType]||[]).push(n)})),N.value=e}}))})),(e,n)=>{const a=t("ProCard"),r=t("ProRadioButton"),c=t("ProField"),p=t("ProCascader"),m=t("van-cell"),v=t("ProForm"),I=t("VanButton"),y=t("ProPageWrap");return l(),d(y,{class:"page-info-wrapper"},{default:u((()=>[o(ne).isLoading?f("",!0):(l(),d(v,{key:0,ref_key:"formRef",ref:$,"is-view":""},{default:u((()=>{var e;return[s(S,{"product-data":null===(e=W.value.tenantOrderInsuredList[0])||void 0===e?void 0:e.tenantOrderProductList[0]},null,8,["product-data"]),s(a,{title:"投保人"},{default:u((()=>[s(D,{images:K.value,"onUpdate:images":n[0]||(n[0]=e=>K.value=e),"form-info":W.value.tenantOrderHolder,"factor-list":N.value.HOLDER,"is-view":""},null,8,["images","form-info","factor-list"])])),_:1}),s(a,{title:"被保人"},{default:u((()=>[s(c,{modelValue:W.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":n[2]||(n[2]=e=>W.value.tenantOrderInsuredList[0].relationToHolder=e),label:"为谁保单",name:"relationToHolder",placeholder:"请选择"},{input:u((()=>[s(r,{modelValue:W.value.tenantOrderInsuredList[0].relationToHolder,"onUpdate:modelValue":n[1]||(n[1]=e=>W.value.tenantOrderInsuredList[0].relationToHolder=e),options:o(U),"is-view":""},null,8,["modelValue","options"])])),_:1},8,["modelValue"]),1!=+W.value.tenantOrderInsuredList[0].relationToHolder?(l(),d(D,{key:0,images:X.value,"onUpdate:images":n[3]||(n[3]=e=>X.value=e),"form-info":W.value.tenantOrderInsuredList[0],"factor-list":N.value.INSURER||[],"is-view":""},null,8,["images","form-info","factor-list"])):f("",!0),s(p,{modelValue:W.value.tenantOrderInsuredList[0].extInfo.insureAreaCode,"onUpdate:modelValue":n[4]||(n[4]=e=>W.value.tenantOrderInsuredList[0].extInfo.insureAreaCode=e),field1:W.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode,"onUpdate:field1":n[5]||(n[5]=e=>W.value.tenantOrderInsuredList[0].extInfo.insureProvinceCode=e),field2:W.value.tenantOrderInsuredList[0].extInfo.insureCityCode,"onUpdate:field2":n[6]||(n[6]=e=>W.value.tenantOrderInsuredList[0].extInfo.insureCityCode=e),field3:W.value.tenantOrderInsuredList[0].extInfo.insureAreaCode,"onUpdate:field3":n[7]||(n[7]=e=>W.value.tenantOrderInsuredList[0].extInfo.insureAreaCode=e),label:"投保地区",name:"insureProvinceCode",placeholder:"请选择","is-link":"",required:"","data-source":o(Q),mapping:{label:"name",value:"code",children:"children"}},null,8,["modelValue","field1","field2","field3","data-source"])])),_:1}),s(a,{title:"受益人"},{default:u((()=>[s(c,{modelValue:W.value.tenantOrderInsuredList[0].insuredBeneficiaryType,"onUpdate:modelValue":n[9]||(n[9]=e=>W.value.tenantOrderInsuredList[0].insuredBeneficiaryType=e),label:"受益人类型",name:"insuredBeneficiaryType",placeholder:"请选择"},{input:u((()=>[s(r,{modelValue:W.value.tenantOrderInsuredList[0].insuredBeneficiaryType,"onUpdate:modelValue":n[8]||(n[8]=e=>W.value.tenantOrderInsuredList[0].insuredBeneficiaryType=e),options:o(k),"is-view":""},null,8,["modelValue","options"])])),_:1},8,["modelValue"]),2==W.value.tenantOrderInsuredList[0].insuredBeneficiaryType?(l(),i("div",H,[(l(!0),i(g,null,b(W.value.tenantOrderInsuredList[0].beneficiaryReqList,((e,n)=>(l(),i("div",{key:e.beneficiaryId,class:"beneficiary-item"},[V("div",B,[V("span",j,O(`受益人${n+1}`),1)]),s(_,{"is-view":"","form-info":e,"factor-list":N.value.BENEFICIARY},null,8,["form-info","factor-list"])])))),128))])):f("",!0)])),_:1}),s(a,{title:"保单通讯信息"},{default:u((()=>[Object.keys(o(ae)).length?(l(),d(m,{key:0,title:"单元格"},{title:u((()=>[V("div",Y,[V("p",null,[V("span",M,O(o(ae).contactName),1),V("span",F,O(o(ae).contactPhoneNo),1)]),V("p",G,O(o(ae).contactAddress),1)])])),_:1})):f("",!0)])),_:1})]})),_:1},512)),V("div",z,[s(I,{block:"",type:"primary",onClick:re},{default:u((()=>[J])),_:1})])])),_:1})}}}))}}}))}();
