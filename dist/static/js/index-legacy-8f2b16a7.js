!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-daily-item .date[data-v-764003ac]{display:flex;align-items:center;font-size:.32rem;color:var(--daily-item-title-text);line-height:.44rem}.com-daily-item .date .dot[data-v-764003ac]{position:relative;width:.34667rem;height:.34667rem;border-radius:.17333rem;background:var(--daily-item-dot-background);margin-right:.34667rem}.com-daily-item .date .dot[data-v-764003ac]:after{content:" ";width:.18667rem;height:.18667rem;border-radius:.09333rem;background:var(--van-primary-color);position:absolute;top:.08rem;left:.08rem}.com-daily-item .date .arrow-icon[data-v-764003ac]{margin-left:.21333rem;margin-top:-1px;font-size:.29333rem;width:.21333rem;height:.4rem}.com-daily-item .body[data-v-764003ac]{position:relative;margin:.13333rem 0 .13333rem .17333rem;padding:.18667rem 0 .8rem .42667rem}.com-daily-item .body .dash[data-v-764003ac]{width:1px;height:100%;position:absolute;left:0;top:0;background:linear-gradient(to bottom,#dcdcdc 0%,#dcdcdc 33.33%,transparent 33.33%,transparent 100%);background-size:1px .08rem;background-repeat:repeat-y}.com-daily-item .body .content[data-v-764003ac]{font-size:.37333rem;color:#343434;line-height:.48rem;padding:.29333rem .4rem;box-shadow:0 .08rem .21333rem 0 var(--daily-item-content-shadow);border-radius:.26667rem;border:.02667rem solid var(--daily-item-content-border)}.com-team-person-item[data-v-2fb9d8cc]{margin-top:.4rem;display:flex;height:1.54667rem;line-height:1.54667rem;box-shadow:0 .08rem .21333rem 0 var(--daily-item-content-shadow);border-radius:.26667rem;border:.02667rem solid var(--daily-item-content-border);font-size:.37333rem;color:#343434;padding:0 .4rem;justify-content:space-between}.com-team-person-item .left[data-v-2fb9d8cc]{display:flex;align-items:center}.com-team-person-item .left .short-code[data-v-2fb9d8cc]{min-width:.8rem;padding:0 .16rem;height:.53333rem;line-height:.53333rem;background:var(--daily-team-item-tag-background);border-radius:.10667rem;margin-left:.26667rem;font-size:.32rem;color:var(--daily-team-item-tag-color)}.com-team-person-item .right[data-v-2fb9d8cc]{font-size:.37333rem;color:var(--daily-team-item-complete-color)}.com-team-person-item .right .days[data-v-2fb9d8cc]{color:var(--van-primary-color);font-weight:500}@charset "UTF-8";.page-daily .tab-wrapper[data-v-4c2c8aae]{position:relative}.page-daily .tab-wrapper .search[data-v-4c2c8aae]{position:absolute;right:.4rem;top:.4rem;color:#bcbcbc;z-index:9}.page-daily .tab-wrapper .personal[data-v-4c2c8aae]{height:calc(100vh - 3.09333rem);display:flex;flex-direction:column}.page-daily .tab-wrapper .personal.show-header[data-v-4c2c8aae]{height:calc(100vh - 3.68rem)}.page-daily .tab-wrapper .personal .personal-list-wrapper[data-v-4c2c8aae]{flex:1;height:0;overflow-y:auto}.page-daily .tab-wrapper .personal .personal-list-wrapper .personal-list[data-v-4c2c8aae]{padding:.4rem}.page-daily .tab-wrapper .personal .empty[data-v-4c2c8aae]{margin-top:2.4rem}.page-daily .tab-wrapper .personal .empty .empty-btn[data-v-4c2c8aae]{height:.98667rem;background:linear-gradient(90deg,#f70800 0%,#ff5003 100%);color:#fff;font-size:.32rem}.page-daily .tab-wrapper .personal .footer[data-v-4c2c8aae]{height:2rem;display:flex;width:100vw;align-items:center;justify-content:center;box-shadow:0 -.02667rem .13333rem #f6f6f6}.page-daily .tab-wrapper .personal .footer .btn[data-v-4c2c8aae]{width:calc(100vw - .8rem);height:1.17333rem;background:var(--van-button-primary-background-color);border-radius:.58667rem;font-size:.37333rem;font-weight:600;color:#fff}.page-daily .tab-wrapper .team[data-v-4c2c8aae]{height:calc(100vh - 3.09333rem);overflow-y:auto}.page-daily .tab-wrapper .team.show-header[data-v-4c2c8aae]{height:calc(100vh - 3.68rem)}.page-daily .tab-wrapper .team .view-type[data-v-4c2c8aae]{position:absolute;right:0;top:6.66667rem;z-index:99}.page-daily .tab-wrapper .team .view-type img[data-v-4c2c8aae]{width:.64rem}.page-daily .tab-wrapper .team .team-list-wrapper .team-list[data-v-4c2c8aae]{padding:.4rem}.page-daily .tab-wrapper .team .team-list-wrapper .empty[data-v-4c2c8aae]{margin-top:2.4rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-f56233fa.js","./index-legacy-9604cbf9.js","./index-legacy-5e1f56b3.js","./index-legacy-4c8de798.js","./index-legacy-b73bfc85.js","./index-legacy-750d2eff.js","./daily-legacy-7ce16ea8.js","./plugin-vue_export-helper-legacy-57eac467.js","./index-legacy-32e69765.js","./select-legacy-7de2a63e.js","./play-legacy-eb74976c.js","./record-legacy-3e0564fe.js","./jsbridge-legacy-3f935966.js"],(function(e){"use strict";var a,t,i,l,n,r,o,d,s,c,m,p,u,g,y,v,h,f,b,w,k,D,T,I,L,C,S,x,_,N,P,j,U,z,V,Z,$,Y,O,F;return{setters:[function(e){a=e.g,t=e.r,i=e.k,l=e.m,n=e.y,r=e.B,o=e.I,d=e.z,s=e.d,c=e.n,m=e.s,p=e.h,u=e.a2,g=e.a3,y=e.C,v=e.a0,h=e.ag,f=e.a4,b=e.M,w=e.j,k=e.G,D=e.H,T=e.F,I=e.E,L=e.J},function(e){C=e.S,S=e.f,x=e.b,_=e.u},function(e){N=e._},function(e){P=e._},function(e){j=e._},function(e){U=e.W,z=e.T},function(e){V=e.Z,Z=e.g,$=e.a,Y=e.b},function(e){O=e._},function(e){F=e._},function(){},function(){},function(){},function(){}],execute:function(){const M={class:"date"},A=(e=>(u("data-v-764003ac"),e=e(),g(),e))((()=>n("div",{class:"dot"},null,-1))),B={class:"body"},W={key:0,class:"dash"},E={key:1,class:"content"},H={class:"van-multi-ellipsis--l2"},J=a({props:{date:{type:String,default:""},content:{type:Array,default:()=>[]},voice:{type:Array,default:()=>[]},showDash:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:a}){const u=()=>{a("click")};return(a,g)=>{const y=t("ZaSvg");return i(),l("div",{class:"com-daily-item",onClick:u},[n("div",M,[A,r(" "+o(d(s)(e.date).format("YYYY-MM-DD"))+" ",1),c(y,{name:"right_arrow",class:"arrow-icon"})]),n("div",B,[e.showDash?(i(),l("div",W)):m("",!0),e.content&&e.content[0]?(i(),l("div",E,[n("div",H,o(e.content[0]),1)])):m("",!0),e.voice&&e.voice[0]?(i(),p(V,{key:2,url:e.voice[0].voiceUrl,duration:e.voice[0].voiceDuration},null,8,["url","duration"])):m("",!0)])])}}});var R=O(J,[["__scopeId","data-v-764003ac"]]);const q={class:"com-team-person-item"},G={class:"left"},K={class:"name"},Q={key:0,class:"short-code"},X={class:"right"},ee={class:"progress"},ae=r(" 已完成 "),te={class:"days"},ie=r(" 天 ");var le=O(a({props:{teamName:{type:String,default:""},userName:{type:String,default:""},levelUs:{type:String,default:""},nvm:{type:Number,default:0}},setup:e=>(a,t)=>(i(),l("div",q,[n("div",G,[n("div",K,o(e.userName),1),e.levelUs?(i(),l("div",Q,o(e.levelUs),1)):m("",!0)]),n("div",X,[n("div",ee,[ae,n("span",te,o(e.nvm),1),ie])])]))}),[["__scopeId","data-v-2fb9d8cc"]]);const ne=new C({source:"localStorage"}),re=S(),oe=ne.get("userInfo")||{},de=a({components:{ZaTab:N,ZaSvg:x,ZaLoading:F,ZaAgencySelect:j,WeekChange:U,PersonalDailyItem:R,TeamDailyItem:z,TeamPersonItem:le,ZaEmpty:P},beforeRouteEnter(e,a){["/addDaily","/teamDaily"].includes(a.path)||re.dailyWeekRangeReset()},setup(){const{getIconUrl:e}=_(),a=y(!1),t=y(!1),i=y([]),l=y([]),n=y([]),r=v(),o=y("daily"),{dailyWeekRange:d}=h(re),c=y(0),m=y({}),p=y(!1),u=y(!1),g=y(!1);let w=1;const k=y(!1);let D=1;const T=y(!1),I=sessionStorage.getItem("daily_week");I&&(d.value=JSON.parse(I),sessionStorage.removeItem("daily_week"));const L=y([{slotName:"1",title:"个人"},{slotName:"2",title:"团队"}]),C=e=>{1===e&&(u.value=!0),e?w=e:w+=1,Z({pageNum:w,pageSize:5,queryBean:{beginTime:d.value[0],endTime:d.value[1]}}).then((e=>{i.value=1===w?e.data.data.list:[...i.value,...e.data.data.list],g.value=i.value.length>=e.data.data.total})).finally((()=>{p.value=!1,u.value=!1}))},S=e=>{1===e&&(u.value=!0),e?D=e:D+=1,"person"===o.value?$({pageNum:D,pageSize:5,queryBean:{beginTime:d.value[0],endTime:d.value[1],agencyId:m.value.agencyId}}).then((e=>{l.value=1===D?e.data.data.list:[...l.value,...e.data.data.list],T.value=l.value.length>=e.data.data.total})).finally((()=>{p.value=!1,u.value=!1})):Y({pageNum:D,pageSize:5,queryBean:{beginTime:d.value[0],endTime:d.value[1],agencyId:m.value.agencyId}}).then((e=>{n.value=1===D?e.data.data.list:[...n.value,...e.data.data.list],k.value=n.value.length>=e.data.data.total})).finally((()=>{p.value=!1,u.value=!1}))};f((()=>d.value),(e=>{0===c.value?C(1):S(1)})),f((()=>o.value),(()=>{S(1)})),f((()=>m.value),(()=>{S(1)})),b((()=>{"I"===(null==oe?void 0:oe.userType)||"O"===(null==oe?void 0:oe.userType)&&(null==oe?void 0:oe.agentLevel)<=80?L.value.splice(0,0):L.value.splice(1,1),t.value=window.location.host.includes("localhost"),C(1)})),f((()=>c.value),(e=>{0===e?C(1):S(1)}));return{groupSelectVisible:a,showHeader:t,personalList:i,teamPersonalList:l,teamDailyList:n,teamViewType:o,week:d,activeTabIndex:c,tabList:L,loading:p,firLoading:u,personDailyFinished:g,teamDailyFinished:k,teamPersonFinished:T,handleSearchClick:()=>{a.value=!0},handleAgencySubmit:e=>{m.value={...e[0]}},handleTabClick:e=>{c.value=e.name},addDaily:()=>{r.push(`/addDaily?userId=${oe.userId}`)},handleViewTypeClick:()=>{o.value="person"===o.value?"daily":"person"},handlePersonDailyItemClick:e=>{sessionStorage.setItem("daily_week",JSON.stringify(d.value)),r.push(`/editDaily?id=${e.dailyId}&date=${s(e.workDay).format("YYYY-MM-DD")}&userId=${e.userId}&isPersonal=true`)},handleTeamDailyClick:e=>{sessionStorage.setItem("daily_week",JSON.stringify(d.value)),r.push(`/editDaily?id=${e.dailyId}&isView=1&userId=${e.userId}&userName=${e.userName}&date=${s(e.workDay).format("YYYY-MM-DD")}`)},handleTeamPersonClick:e=>{sessionStorage.setItem("daily_week",JSON.stringify(d.value)),r.push(`/teamDaily?id=${e.userId}&userName=${e.userName}&teamName=${e.teamName}&startTime=${d.value[0]}&endTime=${d.value[1]}`)},getIconUrl:e,getPersonData:C,getTeamData:S}}}),se={class:"tab-wrapper"},ce={class:"personal-list-wrapper"},me=r("填写工作日志"),pe={class:"footer"},ue=r("填写工作日志"),ge=["src"],ye={class:"team-list-wrapper"},ve={class:"team-list-wrapper"};e("default",O(de,[["render",function(e,a,r,o,d,s){const m=t("WeekChange"),u=t("ZaSvg"),g=t("ZaAgencySelect"),y=t("ZaLoading"),v=t("PersonalDailyItem"),h=t("van-list"),f=t("van-button"),b=t("ZaEmpty"),C=t("TeamDailyItem"),S=t("TeamPersonItem"),x=t("ZaTab"),_=t("ZaPageWrap");return i(),p(_,{"main-class":"page-daily","footer-class":"page-daily-footer"},{default:w((()=>[c(m,{modelValue:e.week,"onUpdate:modelValue":a[0]||(a[0]=a=>e.week=a)},null,8,["modelValue"]),n("div",se,[k(c(u,{name:"search_new",class:"search",onClick:e.handleSearchClick},null,8,["onClick"]),[[D,1===e.activeTabIndex]]),c(g,{visible:e.groupSelectVisible,"onUpdate:visible":a[1]||(a[1]=a=>e.groupSelectVisible=a),mode:"single",onOnSubmit:e.handleAgencySubmit},null,8,["visible","onOnSubmit"]),c(x,{tablist:e.tabList,shrink:"",sticky:"",animated:"",onOnTabClick:e.handleTabClick},{1:w((()=>[e.firLoading?(i(),p(y,{key:0,vertical:!0})):(i(),l("div",{key:1,class:L(["personal",{"show-header":e.showHeader}])},[n("div",ce,[k(c(h,{loading:e.loading,"onUpdate:loading":a[2]||(a[2]=a=>e.loading=a),class:"personal-list",finished:e.personDailyFinished,"immediate-check":!1,onLoad:e.getPersonData},{default:w((()=>[(i(!0),l(T,null,I(e.personalList,(a=>(i(),p(v,{key:a.dailyId,date:a.workDay,content:a.textList,voice:a.voiceDTOList,"show-dash":e.personalList.length>1,onClick:t=>e.handlePersonDailyItemClick(a)},null,8,["date","content","voice","show-dash","onClick"])))),128))])),_:1},8,["loading","finished","onLoad"]),[[D,e.personalList.length>0]]),k(c(b,{title:"暂无工作日志",desc:"想写点什么？点击填写记录下来",class:"empty"},{emptyBtn:w((()=>[c(f,{class:"empty-btn",round:"",onClick:e.addDaily},{default:w((()=>[me])),_:1},8,["onClick"])])),_:1},512),[[D,0===e.personalList.length]])]),k(n("div",pe,[c(f,{class:"btn",onClick:e.addDaily},{default:w((()=>[ue])),_:1},8,["onClick"])],512),[[D,e.personalList.length>0]])],2))])),2:w((()=>[e.firLoading?(i(),p(y,{key:0,vertical:!0})):(i(),l("div",{key:1,class:L(["team",{"show-header":e.showHeader}])},[n("div",{class:"view-type",onClick:a[3]||(a[3]=(...a)=>e.handleViewTypeClick&&e.handleViewTypeClick(...a))},[n("img",{src:"person"===e.teamViewType?e.getIconUrl("daily.viewTypeDailyImage"):e.getIconUrl("daily.viewTypePersonImage")},null,8,ge)]),k(n("div",ye,[k(c(h,{loading:e.loading,"onUpdate:loading":a[4]||(a[4]=a=>e.loading=a),class:"team-list",finished:e.teamDailyFinished,"immediate-check":!1,onLoad:e.getTeamData},{default:w((()=>[(i(!0),l(T,null,I(e.teamDailyList,(a=>(i(),p(C,{key:a.dailyId,"work-day":a.workDay,"modify-time":a.gmtModified,"user-name":a.userName,"team-name":a.teamName,content:a.textList,voice:a.voiceDTOList,"show-dash":e.teamDailyList.length>1,onClick:t=>e.handleTeamDailyClick(a)},null,8,["work-day","modify-time","user-name","team-name","content","voice","show-dash","onClick"])))),128))])),_:1},8,["loading","finished","onLoad"]),[[D,e.teamDailyList.length>0]]),k(c(b,{title:"暂无工作日志",class:"empty"},null,512),[[D,0===e.teamDailyList.length]])],512),[[D,"daily"===e.teamViewType]]),k(n("div",ve,[k(c(h,{loading:e.loading,"onUpdate:loading":a[5]||(a[5]=a=>e.loading=a),class:"team-list",finished:e.teamPersonFinished,"immediate-check":!1,onLoad:e.getTeamData},{default:w((()=>[(i(!0),l(T,null,I(e.teamPersonalList,(a=>(i(),p(S,{key:a.userId,"team-name":a.teamName,nvm:a.nvm,"user-name":a.userName,"level-us":a.levelUs,onClick:t=>e.handleTeamPersonClick(a)},null,8,["team-name","nvm","user-name","level-us","onClick"])))),128))])),_:1},8,["loading","finished","onLoad"]),[[D,e.teamPersonalList.length>0]]),k(c(b,{title:"暂无工作日志",class:"empty"},null,512),[[D,0===e.teamPersonalList.length]])],512),[[D,"person"===e.teamViewType]])],2))])),_:1},8,["tablist","onOnTabClick"])])])),_:1})}],["__scopeId","data-v-4c2c8aae"]]))}}}))}();
