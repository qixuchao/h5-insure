import{_ as e,d as a,r as l,am as t,c as i,g as s,i as n,j as o,t as u,m as d,bC as r,ac as c,bB as v,e as m,n as p,bD as f,X as b,Y as h,f as g,w as k,F as A,h as y,B as C,bE as V,bF as w,a3 as R,E as I,R as N,C as S,q as x,s as M,b3 as E,W as P,L as U,aV as j,a7 as O,a as B,u as L,S as T,G as _,ab as H,b as F,k as Z,af as Q,bG as G,T as z,bH as q}from"./index-8dcf7554.js";import{C as D}from"./index-fd19efb2.js";import{a as K,b as W,g as J}from"./proposalList-9c973bb0.js";import{q as X,p as $,c as Y,a as ee}from"./compositionProposal-1518a2fc.js";import{P as ae}from"./index-6d24d0a8.js";import{S as le,_ as te}from"./box-title-f72cc8aa.js";import{_ as ie}from"./index-e9054707.js";import{C as se}from"./index-c00014f4.js";import{S as ne}from"./index-9bb8e6e6.js";import"./pdfh5-008ca364.js";import"./echarts-798423e5.js";const oe=e=>(b("data-v-0ae855a4"),e=e(),h(),e),ue={class:"container head-cover"},de={class:"info-detail"},re={class:"name"},ce={class:"img"},ve={key:0,src:"/static/png/male-441ae760.png"},me={key:1,src:"/static/png/female-2dc8cc10.png"},pe={clase:"p1"},fe={class:"p2"},be={class:"fe"},he=p(" 首年保费： "),ge=oe((()=>n("div",{class:"line"},null,-1))),ke={class:"tp"};var Ae=e(a({props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,p=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保额",dataIndex:"amount"},{title:"保障期间",dataIndex:"coveragePeriod",width:110},{title:"缴费期间",dataIndex:"chargePeriod",width:110},{title:"保费",dataIndex:"premium",width:120}],b=l([]),h=e=>e===+f.MALE,g=e=>{const a=e.split("_");if("to_life"===e)return"保终身";switch(a[0]){case"year":return`${a[1]}年`;case"month":return`${a[1]}月`;case"day":return`${a[1]}天`;case"to":return`保至${a[1]}岁`;default:return""}},k=e=>{const a=e.split("_");switch(a[0]){case"year":return`${a[1]}年交`;case"month":return`${a[1]}月交`;case"to":return`交至${a[1]}岁`;case"single":return"趸缴";default:return""}};return t((()=>a.info),(e=>{(e=>{const a=[];null==e||e.forEach((e=>{const{riskName:l,amount:t,coveragePeriod:i,chargePeriod:s,premium:n}=e;a.push({riskName:l,amount:t,coveragePeriod:g(i),chargePeriod:k(s),premium:n})})),b.value=a})(null==e?void 0:e.proposalProductRiskVOList)}),{deep:!0,immediate:!0}),(l,t)=>{var f,g,k,A,y,C;return i(),s("div",ue,[n("div",de,[n("div",re,[n("div",ce,[h(null==(f=a.info)?void 0:f.gender)?(i(),s("img",ve)):o("",!0),h(null==(g=a.info)?void 0:g.gender)?o("",!0):(i(),s("img",me))]),n("div",null,[n("p",pe,u(null==(k=a.info)?void 0:k.name),1),n("p",fe,u(d(r)[null==(A=a.info)?void 0:A.gender])+"，"+u(d(c)().diff(null==(y=e.info)?void 0:y.birthday,"y"))+"岁",1)])]),n("div",be,[he,n("span",null,"¥"+u(d(v)(null==(C=a.info)?void 0:C.totalPremium)),1)])]),ge,n("div",ke,[b.value.length>0?(i(),m(ae,{key:0,columns:p,class:"table","data-source":b.value},null,8,["data-source"])):o("",!0)])])}}}),[["__scopeId","data-v-0ae855a4"]]);const ye=e=>(b("data-v-3beb8cde"),e=e(),h(),e),Ce={class:"container"},Ve=ye((()=>n("div",{class:"common-title"},"利益演示",-1))),we={key:0,class:"benefit"},Re=ye((()=>n("div",{class:"line"},null,-1))),Ie={key:0,class:"box-title box-title-chart"},Ne=ye((()=>n("img",{src:te,alt:""},null,-1))),Se=p(" 保单年度"),xe=p("年度，被保人"),Me=p("岁时 "),Ee=ye((()=>n("img",{src:te,alt:""},null,-1))),Pe={key:1},Ue={class:"box"},je={class:"box-title"},Oe=ye((()=>n("img",{src:te,alt:""},null,-1))),Be=p(" 保单年度"),Le=p("年度，被保人"),Te=p("岁时 "),_e=ye((()=>n("img",{src:te,alt:""},null,-1))),He={class:"box-price"},Fe={class:"text1"},Ze={class:"text2"},Qe={key:2,style:{width:"100%, minWidth: 338px"}},Ge={class:"slider"},ze=[ye((()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAASFBMVEVHcEwNbv8Mbf8TcP8Nbv8Nb/8Nb/8Nbv8qf/8Nb/8Nbv8Mb/8PcP8Nbv8Pcv8Mb/8Pb/8PcP8Ocf8Nbv8Ob/8Vf/8Nbv8Nbv+Jn3KrAAAAF3RSTlMAlLEZ0ID47wZx3WBTiDGeOUQk57UMuVjVO7sAAAHeSURBVHjarVjZkoMgEARkuURIXI///9Mtga0igkGZ6RcThXa6cTiGfIMbJ8aNFEIazqbRkR4Mmsn9BMn08IxFjdt+gW1Ut2lW/bt/wa9e70Wjc0lm8XSaqF9MLlHfiOrFM0dc1kG5zDX+aoVDU0vBrKo8tkykBvRrUDNPNHS4HE2aqPh8zfNOoUeaa6ok/U0uYEWuv+2jsKSKcQ/wijShfGw7VuOJzzS5BR1b24o/oqa75aco2s/hvpnJbcwmvPnUQ/F0t4Hy3fzT0jiiDV2FuvitfIxn4fMDx19nYZ48hj+J0+n/Yyj+oWSVMcIOBE/kmgdESRdoFpI65kMx9BEN4pgzoysjIKAYUsq5LQUECGkLvw5KRrrBjv7Dv9W2n8gGuxOjVP1ESiZF6QrTJglxRZZ1ZZwjY7wA4OIHMB0XBSFSB8MUFBoCggkuH/m7wIiWY+4IdB5G5IMoWSaa/WnAlukmiQhO5Zj2JsoOokIk20SyJKpI420iXkqrmO14k8eVZqMNP9oHiZYiaEmLNo1gTWxoUy3a5I+2HGEtkGhLNtomAmtbg7zRgm/9sDej8O0x/oYdfoTAP9TAj1nwgx/+URR+OIYf15ELCPCSBn6RBV72gRei8Etj+MU6tPLhH41GXfO43AIjAAAAAElFTkSuQmCC",alt:""},null,-1)))],qe={style:{flex:"1",margin:"0px 5px"}},De={class:"custom-button"},Ke=[ye((()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAS1BMVEVHcEwNb/8Nbv8Ocf8Mbv8Nbf8Nbv8Qcf8zmf8Nbv8Nbv8Wbv8Ocv8Nb/8Nb/8NcP8Nbf8PcP8cjf8Nbv8Nbv8NcP8OcP8Nbv8Nbv+sb0c3AAAAGHRSTlMAXpwhsunxPwX5khcy3m5xzVQJ0oh0Rrn3uGXUAAACAUlEQVR42q2YWZKFIAxFg4KAiLM+9r/SLgNdj24VFXM+tMrhmkCCJJCiYTOfrNBa2InPrIEcTMsr94+KtwYeMbKPO+HDxvsyi3AJxHJPSnWxjOVFPc91wW0s1Sm4RE7RiDTRC6qJRm2SV+bUzqP5oA5uD1w7T500quyDTF2ePlIHqb5MuBVMLwwkMEVw/dS9QftPXQZe4w3XAxzCgjkKLlHBKHZoj0M6uEXnkAObpEa/V7jJWqF3cjcZeN2WcJvS4pf/vaH6cPU+4du9ghgfhys8YvWRCRESL7XwkNZtyMixCecdHlNg3ql4LtHZY5gQDI5R/Z+IGXHdOItno53T5izGcVUZwbMkHZM4DknnlsggbfKEjP6axPwk5glB/c25z2ZQmStUbiZ90LjtQQ65QsC3++Y3qoZ8oQFjOShWKl9IVcEjf84WCpaEkGrfCLU+nBme3gg1PgDm7aTeCKntgRk9tPBGCCyO8oTHN0JoywR2n7BGxnS4UsgYs09cC2KXaEy7CzTbpZsAjSMVI9wlAmLmTZtMiMw1ssEmm36ygCRLEbKkJVtGqBY2sqWWbPEn+x1R/SDJftlkmwiqbQ3ZRotq60e/GQWZLkPSBYmk2rCTlRCERQ19mRUXfu2TMsQNVKUoVXFMVa5TNRCoWhpUTRb6tg99I4q+NUbfrAuoJ+3DH6O5cGG4augGAAAAAElFTkSuQmCC",alt:""},null,-1)))],We=ye((()=>n("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Je={class:"btn-two"},Xe=p("图表展示"),$e=p("趋势展示");var Ye=e(a({props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,r=l(0),c=l(0),p=l(0),f=l(),b=l(0),h=l(!0),R=e=>{if(!(null==e?void 0:e.benefitRiskResultVOList))return;const a=null==e?void 0:e.benefitRiskResultVOList[r.value];c.value=a.ageBegin+1,b.value=a.ageBegin+1,p.value=a.ageEnd},I=()=>{var e,l,t;const i=null==(l=null==(e=a.info)?void 0:e.benefitRiskResultVOList)?void 0:l[r.value],{a:s,year:n}=((e,a)=>{const l=[],t=[];for(let i=e,s=0;i<=a;i++,s++)l.push(i.toString()),t.push(s+1);return{a:l,year:t}})(c.value,p.value),o={index:s.indexOf(b.value.toString()),age:s,year:n,result:null==(t=null==i?void 0:i.benefitRiskItemResultVOList)?void 0:t[0]};f.value=o},N=()=>{b.value>p.value-1||(b.value+=1,I())},S=()=>{b.value>c.value&&(b.value-=1,I())},x=e=>{r.value=e.name,R(a.info),I()},M=e=>{h.value="1"===e};return t((()=>a.info),(e=>{e&&(R(e),I())}),{deep:!0,immediate:!0}),t(b,(()=>{I()})),(e,l)=>{const t=le,R=C,I=V,E=w;return i(),s("div",Ce,[Ve,g(E,{active:r.value,"title-active-color":"#0d6efe","title-inactive-color":"#393D46",shrink:"",onClickTab:x},{default:k((()=>{var e;return[(i(!0),s(A,null,y(null==(e=a.info)?void 0:e.benefitRiskResultVOList,((e,a)=>(i(),m(I,{key:a,name:a,title:e.riskName},{default:k((()=>{var e,C,V,w,I,x,E,P,U,j,O,B,L,T,_,H;return[a==r.value?(i(),s("div",we,[Re,h.value?o("",!0):(i(),s("p",Ie,[Ne,Se,n("span",null,u(null==(V=null==(e=f.value)?void 0:e.year)?void 0:V[null==(C=f.value)?void 0:C.index]),1),xe,n("span",null,u(null==(x=null==(w=f.value)?void 0:w.age)?void 0:x[null==(I=f.value)?void 0:I.index]),1),Me,Ee])),h.value?(i(),s("div",Pe,[n("div",Ue,[n("p",je,[Oe,Be,n("span",null,u(null==(U=null==(E=f.value)?void 0:E.year)?void 0:U[null==(P=f.value)?void 0:P.index]),1),Le,n("span",null,u(null==(B=null==(j=f.value)?void 0:j.age)?void 0:B[null==(O=f.value)?void 0:O.index]),1),Te,_e]),n("div",He,[(i(!0),s(A,null,y(null==(T=null==(L=f.value)?void 0:L.result)?void 0:T.headers,((e,a)=>{var l,t,o,r,c;return i(),s("div",{key:a,style:{width:"33%"}},[n("p",Fe,u(d(v)(Number(null==(c=null==(r=null==(t=null==(l=f.value)?void 0:l.result)?void 0:t.dataList)?void 0:r[null==(o=f.value)?void 0:o.index])?void 0:c[a]))),1),n("p",Ze,u(e)+"(元）",1)])})),128))])])])):o("",!0),h.value?o("",!0):(i(),s("div",Qe,[g(ie,{min:c.value,max:p.value,current:b.value,data:null==(H=null==(_=f.value)?void 0:_.result)?void 0:H.benefitRiskItemList},null,8,["min","max","current","data"])])),n("div",Ge,[n("div",{class:"add lf",onClick:S},ze),n("div",qe,[c.value?(i(),m(t,{key:0,modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),min:c.value,max:p.value,"bar-height":"8px"},{button:k((()=>[n("div",De,u(b.value)+" 岁",1)])),_:1},8,["modelValue","min","max"])):o("",!0)]),n("div",{class:"add rg",onClick:N},Ke)]),We,n("div",Je,[g(R,{round:"",plain:!h.value,type:"primary",class:"btn",onClick:l[1]||(l[1]=e=>M("1"))},{default:k((()=>[Xe])),_:1},8,["plain"]),g(R,{round:"",plain:h.value,type:"primary",class:"btn",onClick:l[2]||(l[2]=e=>M("2"))},{default:k((()=>[$e])),_:1},8,["plain"])])])):o("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-3beb8cde"]]),ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAJFBMVEVHcEwGev8Ie/8He/8QhP8Hff8Lff8ff/8Kf/8HeP8Jev8KfP88zNEzAAAADHRSTlMATTtEDx4rCBgkNDEC504AAAAAu0lEQVR42t2TzRKDMAiEV35CSN7/fTtiKOnBWz2034nZRRxYBdCJeQgKGczUz6odgSLRS2hAPxaST6XQQVm25bUUCFxlUM1c3ljeKG9m6cvzFCbs3ZXkJAN61CRIhKI3FjRtTbFzCoZ/QSlX35an2HjmORPPc0Jvs9VHsm01/kLrJcY18mMoGyAcliExCktw0t0FO+Le8WOY3QnO8RUX/RQ8T1QRVUj0cLZzefMb2UY9tmzH9iOLqiDZhBeX/QTFelEoEAAAAABJRU5ErkJggg==";const aa={class:"container"},la={class:"common-title"},ta={class:"title"},ia=(e=>(b("data-v-524d386a"),e=e(),h(),e))((()=>n("img",{src:ea,class:"ig"},null,-1))),sa={class:"product-detail"};var na=e(a({props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const o=D,d=se;return i(),s("div",aa,[(i(!0),s(A,null,y(null==(t=a.info)?void 0:t.liabilityByRiskVOList,((e,a)=>(i(),s("div",{key:a},[n("div",la,[n("div",ta,[ia,p(" "+u(e.riskName),1)])]),n("div",sa,[g(d,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:k((()=>[(i(!0),s(A,null,y(e.proposalRiskLiabilityVOList,((e,a)=>(i(),m(o,{key:a,title:e.liabilityName,name:a,"value-class":"price",value:e.liabilityIndemnityContent},{default:k((()=>[p(u(e.liabilityDesc),1)])),_:2},1032,["title","name","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])))),128))])}}}),[["__scopeId","data-v-524d386a"]]);const oa={class:"container"},ua={class:"common-title"},da={class:"title"},ra=(e=>(b("data-v-4990fe38"),e=e(),h(),e))((()=>n("img",{src:ea,class:"ig"},null,-1))),ca={class:"product-detail"};var va=e(a({props:{info:{type:Object,default:()=>{}}},setup(e){const a=e;return(e,l)=>{var t;const o=R,d=D,r=se;return i(),s("div",oa,[(i(!0),s(A,null,y(null==(t=a.info)?void 0:t.liabilityByTopTypeVOList,((e,a)=>(i(),s("div",{key:a},[n("div",null,[n("div",ua,[n("div",da,[ra,p(" "+u(e.liabilityTopTypeName),1)])]),n("div",ca,[g(r,{modelValue:e.riskName1,"onUpdate:modelValue":a=>e.riskName1=a,accordion:"","is-link":!1,border:!1,size:"middle"},{default:k((()=>[(i(!0),s(A,null,y(Object.keys(e.proposalRiskLiabilityVOMap),((a,l)=>(i(),m(d,{key:l,title:a,name:l,"value-class":"price"},{default:k((()=>[(i(!0),s(A,null,y(e.proposalRiskLiabilityVOMap[a],(e=>(i(),m(o,{key:e.liabilityId,title:e.liabilityName,content:e.liabilityIndemnityContent||""},null,8,["title","content"])))),128))])),_:2},1032,["title","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])])))),128))])}}}),[["__scopeId","data-v-4990fe38"]]);const ma=e=>(b("data-v-ca64694e"),e=e(),h(),e),pa={class:"com-insured-product-wrapper"},fa={class:"container"},ba=ma((()=>n("span",{class:"clear-all"},null,-1))),ha=ma((()=>n("span",{class:"title"}," 选择投保产品 ",-1))),ga={class:"popup-body"},ka={class:"cell-title"},Aa={class:"title"},ya={class:"error-message"},Ca={class:"footer-button"},Va=p("立即投保");var wa=e(a({props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(e,{emit:a}){const o=e,r="已通过计划书进行投保",c="产品未授权，无法进行投保",v="产品暂不支持计划书转投保",p=l(""),f=l(null),b=l({isShow:o.isShow}),h=I((()=>e=>1===e.insured?r:1!==e.authStatus?c:1!==e.insureMethod?v:"")),V=()=>{a("close")};return t((()=>o.isShow),(e=>{b.value.isShow=e})),(l,t)=>{const o=N,r=S,c=x,v=M,w=C,R=E;return i(),s("div",pa,[g(R,{show:b.value.isShow,"onUpdate:show":t[2]||(t[2]=e=>b.value.isShow=e),position:"bottom",onClose:V},{default:k((()=>[n("div",fa,[n("div",{class:"popup-header"},[ba,ha,n("span",{onClick:V},"X")]),n("div",ga,[g(v,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e)},{default:k((()=>[g(c,null,{default:k((()=>[(i(!0),s(A,null,y(e.dataSource,(e=>(i(),m(r,{key:e.productCode,onClick:a=>{return l=e,void(h.value(l)||(f.value=l,p.value=l.productCode));var l}},{"right-icon":k((()=>[g(o,{name:e.productCode,disabled:!!d(h)(e)},null,8,["name","disabled"])])),title:k((()=>[n("div",ka,[n("div",Aa,[n("p",null,u(e.productName),1),n("span",ya,u(d(h)(e)),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),n("div",Ca,[g(w,{block:"",type:"primary",disabled:!p.value,onClick:t[1]||(t[1]=e=>a("finished",f.value))},{default:k((()=>[Va])),_:1},8,["disabled"])])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-ca64694e"]]);const Ra={class:"popup-body"},Ia={class:""},Na={class:"radio-wrap"},Sa=["onClick"],xa={class:"footer"},Ma=p("确定"),Ea=a({props:{show:{type:Boolean,default:!1},themeList:{default:()=>[]}},emits:["submit","update:show"],setup(e,{emit:a}){var t,o;const r=e,{show:c,themeList:v}=d(r),p=l(null==(t=null==v?void 0:v[0])?void 0:t.id),f=l(null==(o=null==v?void 0:v[0])?void 0:o.id),b=()=>{var e;a("submit",f.value?p.value||(null==(e=null==v?void 0:v[0])?void 0:e.id):f.value)};return(e,l)=>{const t=ne,o=S,r=N,h=x,V=M,w=C,R=O;return i(),m(R,{show:d(c),"onUpdate:show":l[2]||(l[2]=e=>j(c)?c.value=e:null),class:"theme-select-wrap",title:"选择计划书封面",onClose:l[3]||(l[3]=e=>a("update:show",!1))},{default:k((()=>[n("div",Ra,[g(o,{center:"",title:"封面图"},{"right-icon":k((()=>[g(t,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=e=>f.value=e),"inactive-value":0,"active-value":d(v)[0].id,size:"24"},null,8,["modelValue","active-value"])])),_:1}),n("div",Ia,[g(V,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e)},{default:k((()=>[g(h,{inset:""},{default:k((()=>[n("div",Na,[(i(!0),s(A,null,y(d(v),(e=>(i(),s("div",{key:e.id,class:"radio-item"},[n("div",{class:"radio-img",style:P({backgroundImage:`url(${e.showConfig.thumbnailImage})`}),onClick:a=>{return l=e.id,void(p.value=l);var l}},[g(r,{name:e.id},null,8,["name"])],12,Sa),n("span",{class:U(""+(p.value===e.id?"checked":""))},u(e.name),3)])))),128))])])),_:1})])),_:1},8,["modelValue"])])]),n("div",xa,[g(w,{type:"primary",disabled:!(p.value||!f.value),block:"",onClick:b},{default:k((()=>[Ma])),_:1},8,["disabled"])])])),_:1},8,["show"])}}});const Pa=e=>(b("data-v-24e22c1b"),e=e(),h(),e),Ua={class:"page-composition-proposal"},ja={class:"head-bg"},Oa={class:"container"},Ba=Pa((()=>n("div",{class:"common-title"},"保险公司简介",-1))),La=Pa((()=>n("span",{class:"poiner"},null,-1))),Ta={key:0,class:"footer-btn"},_a=p("分享"),Ha=p("生成PDF"),Fa=p("立即投保");var Za=e(a({setup(e){const a=l(!0),r=B(),v=L(),{isShare:b,id:h,themeId:V}=r.query,w=l(),R=l(""),N=l(""),S=l({}),x=l([]);l();const[M,E]=T(),[P,U]=T(),O=l(""),ae=l([]),le=l(),te=l("share");let ie="";const ne=()=>{a.value=!a.value},oe=I((()=>!!x.value.filter((e=>1===e.authStatus&&1===e.insureMethod)).length));t((()=>w.value),(e=>{const{gender:a,name:l,birthday:t}=e,i=c().diff(t,"y");(e=>e===+f.MALE)(a)?N.value=`${l||i}岁先生的计划书`:N.value=`${l||i}岁女士的计划书`}));const ue=e=>{var a;S.value={title:`${null==(a=w.value)?void 0:a.name}的计划书`,desc:"您的贴心保险管家",link:e,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/4e9f65f5-1bfc-4062-959b-c3101cb9e763.jpg"}},de=e=>{const{productCode:a,insurerCode:l,tenantProductCode:t}=e;Y({productCode:a,proposalId:h}).then((({code:e,data:a,message:i})=>{"10000"===e&&(a?q({insurerCode:l,productCode:t,proposalId:h}).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a)})):z(i))}))},re=()=>{var e,a;1===(null==(e=x.value)?void 0:e.length)?de(null==(a=x.value)?void 0:a[0]):E(!0)},ce=e=>{te.value="pdf",h?(z.loading({message:"PDF生成中...",forbidClick:!0}),J({id:h,themeHistoryId:e}).then((e=>{const{code:a,message:l}=e;"10000"===a&&(z.clear(),l?v.push(`/pdfViewer?url=${encodeURIComponent(l)}&title=${N.value}`):z("计划书为空"))}))):z("PDF生成失败")},ve=async e=>{if(e){const{code:a,data:l}=await ee({themeId:e,proposalId:h});"10000"===a&&(U(!1),"pdf"===te.value?ce(l):(ie=`${G}/proposalCover?id=${h}&isShare=1&tenantId=${R.value}&themeId=${l}`,ue(ie),setTimeout(le.value.handleShare,100)))}else U(!1),"pdf"===te.value?ce():(ie=`${G}/proposalCover?id=${h}&isShare=1&tenantId=${R.value}`,ue(ie),setTimeout(le.value.handleShare,100))},me=()=>{te.value="pdf",ae.value.length?U(!0):ce()};return _((()=>{if(r.query.token){new H({source:"localStorage"}).set("token",r.query.token)}b||($({proposalId:h}).then((({code:e,data:a})=>{"10000"===e&&(x.value=a)})),(async()=>{const{code:e,data:a}=await X();"10000"===e&&(ae.value=a||[])})()),(async()=>{try{let e=null;e=b?await K(`${h}?tenantId=${r.query.tenantId}`):await W(h);const{code:a,data:l}=e;if("10000"===a){const e=(null==l?void 0:l.proposalInsuredVOList[0])||{};w.value=e,R.value=null==l?void 0:l.tenantId,ie=`${G}/proposalCover?id=${h}&isShare=1&tenantId=${R.value}`,ue(ie)}}catch(e){z("接口请求失败")}})()})),(e,l)=>{const t=D,r=se,c=C,v=F("ProPageWrap");return i(),m(v,null,{default:k((()=>[n("div",Ua,[n("div",ja,u(N.value),1),g(Ae,{info:w.value},null,8,["info"]),n("div",{class:"switch-btn",onClick:ne},u(a.value?"按责任显示":"按险种显示"),1),a.value?(i(),m(na,{key:0,info:w.value},null,8,["info"])):(i(),m(va,{key:1,info:w.value},null,8,["info"])),g(Ye,{info:w.value},null,8,["info"]),n("div",Oa,[Ba,g(r,{modelValue:O.value,"onUpdate:modelValue":l[0]||(l[0]=e=>O.value=e),accordion:"","is-link":!1,border:!1,size:"middle"},{default:k((()=>{var e;return[(i(!0),s(A,null,y(null==(e=w.value)?void 0:e.insurerInfoVOList,((e,a)=>(i(),m(t,{key:a,name:a,"value-class":"price"},{title:k((()=>[n("div",null,[La,p(" "+u(null==e?void 0:e.insurerName),1)])])),default:k((()=>[p(" "+u(e.insurerDesc),1)])),_:2},1032,["name"])))),128))]})),_:1},8,["modelValue"])])]),d(b)?o("",!0):(i(),s("div",Ta,[g(Q,{ref_key:"shareButtonRef",ref:le,title:S.value.title,desc:S.value.desc,link:S.value.link,"img-url":S.value.imgUrl},{default:k((()=>[g(c,{type:"primary",class:"share-btn",onClick:l[1]||(l[1]=Z((()=>(te.value="share",void(ae.value.length?U(!0):le.value.handleShare()))),["stop"]))},{default:k((()=>[_a])),_:1})])),_:1},8,["title","desc","link","img-url"]),g(c,{plain:"",type:"primary",class:"btn",onClick:me},{default:k((()=>[Ha])),_:1}),d(oe)?(i(),m(c,{key:0,type:"primary",class:"btn",onClick:re},{default:k((()=>[Fa])),_:1})):o("",!0)])),d(M)?(i(),m(wa,{key:1,"is-show":d(M),"data-source":x.value,onFinished:de,onClose:l[2]||(l[2]=e=>d(E)(!1))},null,8,["is-show","data-source"])):o("",!0),(i(),m(Ea,{key:+d(P),show:d(P),"onUpdate:show":l[3]||(l[3]=e=>j(P)?P.value=e:null),"theme-list":ae.value,onSubmit:ve},null,8,["show","theme-list"]))])),_:1})}}}),[["__scopeId","data-v-24e22c1b"]]);export{Za as default};
