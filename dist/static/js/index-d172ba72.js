var j=Object.defineProperty,M=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(t,e,o)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,c=(t,e)=>{for(var o in e||(e={}))w.call(e,o)&&A(t,o,e[o]);if(x)for(var o of x(e))z.call(e,o)&&A(t,o,e[o]);return t},E=(t,e)=>M(t,U(e));import{g as O,aj as $,Q as G,C as S,L as Q,M as W,r as l,h,j as b,k as p,n as d,m as J,E as H,z as K,F as X,y as i,a1 as Y,a2 as Z,B as y,T as P,J as ee}from"./vendor-fc34688e.js";import{_ as te,k as T,P as oe}from"./index-4605c6d6.js";import{l as ae}from"./inform-162b440b.js";import{a as se,n as ne}from"./index-38387cec.js";import{s as ue}from"./useStorage-b10145d9.js";import{s as ie}from"./verify-910b7228.js";const re=t=>(Y("data-v-6f8c09bf"),t=t(),Z(),t),ce={class:"footer-btn"},le={class:"inform-file"},pe=re(()=>i("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),i("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),de={class:"footer-button"},_e=y("\u4E0B\u4E00\u6B65"),fe=O({setup(t){const e=$(),o=G(),{productCode:me="MMBBSF",agentCode:I="65434444",tenantId:B="9991000007",agencyCode:ge="3311222",insurerCode:k="zhongan",productCategory:q="1",templateId:F="1",orderNo:v="2022080217103534947"}=o.query,_=S(null),D=S(!1),N=()=>{var a;(a=_.value)==null||a.clear()},n=Q({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),L=()=>{se({orderNo:v,saleUserId:I,tenantId:B}).then(({code:a,data:s})=>{a==="10000"&&Object.assign(n.pageData,s)})};W(()=>{L(),ae({insurerCode:k,orderNo:v,productCategory:q,tenantId:B,noticeType:9,objectType:3}).then(({code:a,data:s})=>{a==="10000"&&(n.noticeList=s)})});const R=a=>{ue.set("questionData",a),e.push({path:"/healthNotice",query:c({questionnaireType:a.questionnaireType},o.query)})},V=()=>{var f,m;if(!(n.noticeList&&n.noticeList.every(r=>r.isDone===1))){P("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((f=_.value)==null?void 0:f.isEmpty()){P("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(m=_.value)==null?void 0:m.save();ie("AGENT",s,v,B).then(r=>{r&&ne(E(c({},n.pageData),{extInfo:E(c({},n.pageData.extInfo),{templateId:F,pageCode:"salesNotice"}),venderCode:k})).then(({code:C,data:g})=>{C==="10000"&&g.pageAction.pageAction==="jumpToPage"&&e.push({path:oe[g.pageAction.data.nextPageCode],query:c({},o.query)})})})};return(a,s)=>{const f=l("van-cell"),m=l("ProSign"),r=l("van-checkbox"),C=l("van-button"),g=l("ProPageWrap");return h(),b(g,{class:"page-salesman-inform"},{default:p(()=>[d(T,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:p(()=>[(h(!0),J(X,null,H(K(n).noticeList,u=>(h(),b(f,{key:u.id,class:ee({"is-active":u.isDone===2}),title:`\u300A${u.title}\u300B`,"is-link":"",value:`${u.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>R(u)},null,8,["class","title","value","onClick"]))),128))]),_:1}),d(T,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:p(()=>[i("div",{class:"resign",onClick:N},"\u91CD\u7B7E")]),default:p(()=>[d(m,{ref_key:"agentSignRef",ref:_,selector:"sign2"},null,512)]),_:1}),i("footer",ce,[i("div",le,[d(r,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=u=>D.value=u),shape:"square"},null,8,["modelValue"]),pe]),i("div",de,[d(C,{type:"primary",block:"",onClick:V},{default:p(()=>[_e]),_:1})])])]),_:1})}}});var xe=te(fe,[["__scopeId","data-v-6f8c09bf"]]);export{xe as default};
