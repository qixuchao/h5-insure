import{ref as e,watch as t,onMounted as l,computed as u,onUnmounted as n,nextTick as a,defineAsyncComponent as o,toRefs as v}from"vue";import{_ as r,Y as c,x as i,y as s,z as d,A as m,B as p,q as f}from"./index-d66a20d8.js";import{o as k}from"./utils-57fec98c.js";import{C}from"./infoCollection-e6a8a0ee.js";const A={class:"com-video"},E=["src"],B=["src"];var g=r(vue.defineComponent({__name:"Video",props:{src:{}},setup(u){const n=u,a=e(!1),o=e("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAASAQMAAAC+UBZMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURf/////+/0xnxC0AAAArSURBVHjaFcSxEQAQEACwvFMofwylEdjsR0eRwCFS0jH+i6BoJalpEw/7u0clA1/PTeAgAAAAAElFTkSuQmCC");return t((()=>n),(e=>{o.value=`${window.location.origin}/api/app/common/file/generateLink?type=2&url=${e.src}`}),{deep:!0,immediate:!0}),l((()=>{})),(e,t)=>{const l=vue.resolveComponent("ProSvg");return vue.openBlock(),vue.createElementBlock("div",A,[vue.createElementVNode("img",{src:vue.unref(o),class:"cover-image",onClick:t[0]||(t[0]=e=>a.value=!0)},null,8,E),vue.createVNode(l,{name:"play",class:"cover-image-play",onClick:t[1]||(t[1]=e=>a.value=!0)}),vue.unref(a)?(vue.openBlock(),vue.createElementBlock("video",{key:0,src:n.src,autoplay:"",controls:"",class:"banner-video",onEnded:t[2]||(t[2]=e=>a.value=!1)},null,40,B)):vue.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-38686bfe"]]);const _={class:"guarantee-list"},y=(e=>(vue.pushScopeId("data-v-72bcb63c"),e=e(),vue.popScopeId(),e))((()=>vue.createElementVNode("span",null,"保障计划",-1))),N={key:0,class:"plan-list"},h=["onClick"],V={key:2,class:"feerate-view"},L={key:0},S={class:"extinfo-info-list"},w={class:"guarantee-detail"},x={class:"content"},b=vue.defineComponent({name:"guarantee"});var I=r(vue.defineComponent({...b,props:{dataSource:{default:()=>({})},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{default:5},planList:{default:()=>[]}},emits:["updateActivePlan"],setup(l,{emit:o}){var v,r;const f=l;vue.useCssVars((e=>({"47c8f96c":vue.unref(C)})));const C=e(""),A=e((null==(r=null==(v=f.planList)?void 0:v[0])?void 0:r.planCode)||void 0),E=e(),B=e([]),g=e([]),b=e(),I=u((()=>!!f.planList.length));t([()=>f.dataSource,()=>A.value],(()=>{var e,t;B.value=((null==(t=((null==(e=f.dataSource)?void 0:e.GUARANTEE)||[]).find((e=>e.planCode===A.value)))?void 0:t.data)||[]).filter((e=>e.isShowOn===`${c.YES}`))}),{immediate:!0,deep:!0});const F=u((()=>{var e;return(null==(e=f.dataSource)?void 0:e.rateUri)||""})),T=u((()=>!!(b.value&&b.value.paymentFrequencyValue&&b.value.premiumUnit&&F))),[P,O]=i(!1),R=u((()=>{var e;return!(!B.value||!(null==(e=B.value)?void 0:e.length))&&(B.value.length>f.count&&(!!f.isShowClose||!P.value))})),U=()=>{O()},D=u((()=>{var e;return B.value&&(null==(e=B.value)?void 0:e.length)?B.value.length<=f.count||P.value?B.value:B.value.slice(0,f.count):[]})),M=e(!1),j=e=>{const t=e||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,"A"===t.target.tagName&&t.target.href&&(m()?p("",t.target.href):window.open(t.target.href))},W=()=>{M.value=!0,a((()=>{var e,t;null==(t=null==(e=document.getElementsByClassName("guarantee-detail"))?void 0:e[0])||t.addEventListener("click",j,!1)}))};n((()=>{var e,t;null==(t=null==(e=document.getElementsByClassName("guarantee-detail"))?void 0:e[0])||t.removeEventListener("click",j,!1)}));const z=()=>{k({fileType:"pdf",fileUri:F.value})},G=e=>{A.value=f.planList[e.name].planCode};return(e,t)=>{var l,u;const n=vue.resolveComponent("ProCell"),a=vue.resolveComponent("ProTab"),v=vue.resolveComponent("ProPopup"),r=vue.resolveDirective("dompurify-html");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",_,[vue.createElementVNode("div",{class:"header"},[y,vue.createElementVNode("span",{onClick:W},"查看详情")]),vue.unref(I)?(vue.openBlock(),vue.createElementBlock("div",N,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(e.planList,((e,t)=>(vue.openBlock(),vue.createElementBlock("div",{key:`${e.planCode}_${t}`,class:vue.normalizeClass("plan-list-item "+(e.planCode===vue.unref(A)?"plan-list-item-active":"")),onClick:t=>{return l=e.planCode,A.value=l,E.value=f.planList.findIndex((e=>e.planCode===l)),void o("updateActivePlan",l);var l}},[vue.createElementVNode("span",null,vue.toDisplayString(e.planName),1)],10,h)))),128))])):vue.createCommentVNode("",!0),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(D),((e,t)=>(vue.openBlock(),vue.createBlock(n,{key:t,class:"guarantee-item",title:e.title,content:e.desc,border:!1},null,8,["title","content"])))),128)),vue.unref(R)?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:"show-more",onClick:U},[vue.createTextVNode(vue.toDisplayString(vue.unref(P)?"收起":"查看更多")+" ",1),vue.createVNode(s,{name:"arrow-down-dobule",class:vue.normalizeClass(["icon",{showMore:vue.unref(P)}])},null,8,["class"])])):vue.createCommentVNode("",!0),vue.unref(T)?(vue.openBlock(),vue.createElementBlock("div",V,[vue.createElementVNode("span",null,vue.toDisplayString(`${(null==(l=vue.unref(b))?void 0:l.paymentFrequencyValue)||""}${(null==(u=vue.unref(b))?void 0:u.premiumUnit)||""}`),1),vue.unref(F)?(vue.openBlock(),vue.createElementBlock("span",{key:0,onClick:z},"查看保费")):vue.createCommentVNode("",!0)])):vue.createCommentVNode("",!0)]),vue.createVNode(d),vue.createVNode(v,{show:vue.unref(M),"onUpdate:show":t[1]||(t[1]=e=>vue.isRef(M)?M.value=e:null),title:"保障详情",class:"guarantee-popup"},{default:vue.withCtx((()=>[vue.unref(g)&&vue.unref(g).length>0?(vue.openBlock(),vue.createElementBlock("div",L,[vue.createElementVNode("div",S,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(g),((e,t)=>(vue.openBlock(),vue.createBlock(n,{key:t,title:e.name,content:e.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),vue.createVNode(d)])):vue.createCommentVNode("",!0),vue.unref(I)?(vue.openBlock(),vue.createBlock(a,{key:1,active:vue.unref(E),"onUpdate:active":t[0]||(t[0]=e=>vue.isRef(E)?E.value=e:null),list:e.planList.map(((e,t)=>({title:e.planName}))),class:"custom-plan-tab",onClickTab:G},null,8,["active","list"])):vue.createCommentVNode("",!0),vue.createElementVNode("div",w,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(B),((e,t)=>(vue.openBlock(),vue.createElementBlock("div",{key:t,class:"guarantee-item"},[vue.createVNode(n,{title:e.title,content:e.desc,border:!1,size:"small"},null,8,["title","content"]),vue.withDirectives(vue.createElementVNode("div",x,null,512),[[r,e.tips]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-72bcb63c"]]);const F={class:"spec"},T={class:"rich-text"},P={key:1,class:"spec"},O={class:"rich-text"},R={key:1,class:"spec"},U={class:"rich-text"},D=vue.defineComponent({name:"ScrollInfo"}),M=vue.defineComponent({...D,props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(t,{expose:l}){const n=t,a=o((()=>f((()=>import("./index-d66a20d8.js").then((function(e){return e.bh}))),["static/js/index-d66a20d8.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"])));o((()=>f((()=>import("./index-45d15fce.js")),["static/js/index-45d15fce.js","static/css/index-f22f2764.css","static/js/index-d66a20d8.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"])));const r=o((()=>f((()=>import("./index-d66a20d8.js").then((function(e){return e.bf}))),["static/js/index-d66a20d8.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),c=o((()=>f((()=>import("./index-9fe1e8ca.js")),["static/js/index-9fe1e8ca.js","static/css/index-7b3feb06.css","static/js/index-d66a20d8.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),i=o((()=>f((()=>import("./index-02f7179b.js")),["static/js/index-02f7179b.js","static/css/index-194b9c66.css","static/js/index-d66a20d8.js","static/css/index-5064de6f.css","static/js/pdfh5-e588f83d.js"]))),{dataSource:s}=v(n),d=e(),m=e([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),p=u((()=>{var e,t;return null==(t=null==(e=s.value.SPECIAL_FEATURE)?void 0:e.spec)?void 0:t.length})),k=u((()=>{var e,t,l,u;const n=null==(e=s.value.CLAIM_FLOW)?void 0:e.processCaseType;return!!(n===C.WORD&&(null==(t=s.value.CLAIM_FLOW)?void 0:t.processContent)||n===C.IMAGE&&(null==(u=null==(l=s.value.CLAIM_FLOW)?void 0:l.processCasePicList)?void 0:u.length))})),A=u((()=>{var e,t,l,u,n;const a=null==(t=null==(e=s.value)?void 0:e.CLAIM_CASE)?void 0:t.claimCaseType;return!!(a===C.WORD&&(null==(l=s.value.CLAIM_CASE)?void 0:l.claimContent)||a===C.IMAGE&&(null==(n=null==(u=s.value.CLAIM_CASE)?void 0:u.claimCasePicList)?void 0:n.length))})),E=u((()=>{var e,t;return null==(t=null==(e=s.value)?void 0:e.ISSUE_NOTICE)?void 0:t.noticeContent})),B=u((()=>{var e,t;return null==(t=null==(e=s.value)?void 0:e.FAQ)?void 0:t.length})),g=u((()=>{let e=[...m.value];return p.value||(e=e.filter((e=>"tab1"!==e.slotName))),k.value||A.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return l({handleClickTab:()=>{var e;return null==(e=d.value)?void 0:e.handleClickTab}}),(e,t)=>{const l=vue.resolveComponent("van-image"),u=vue.resolveComponent("ProSvg"),n=vue.resolveDirective("dompurify-html");return vue.openBlock(),vue.createBlock(vue.unref(a),{ref_key:"scrollRef",ref:d,class:"tabs",list:vue.unref(g),sticky:"",scrollspy:""},vue.createSlots({tab3:vue.withCtx((()=>[vue.renderSlot(e.$slots,"form")])),_:2},[vue.unref(p)?{name:"tab1",fn:vue.withCtx((()=>{var e;return[vue.createElementVNode("div",F,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList((null==(e=vue.unref(s).SPECIAL_FEATURE)?void 0:e.spec)||[],((e,t)=>(vue.openBlock(),vue.createBlock(vue.Suspense,{key:t},{fallback:vue.withCtx((()=>[vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:vue.withCtx((()=>[(vue.openBlock(),vue.createBlock(l,{key:t,class:"detail-img",width:"100%",src:e},null,8,["src"]))])),_:2},1024)))),128)),vue.createVNode(vue.unref(r))])]})),key:"0"}:void 0,vue.unref(k)||vue.unref(A)||vue.unref(E)||vue.unref(B)?{name:"tab2",fn:vue.withCtx((()=>{var e,t;return[vue.unref(k)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[(null==(e=vue.unref(s).CLAIM_FLOW)?void 0:e.processCaseType)===vue.unref(C).WORD?(vue.openBlock(),vue.createBlock(vue.unref(c),{key:0,class:"tab-card",title:"理赔说明"},{default:vue.withCtx((()=>{var e;return[vue.withDirectives(vue.createElementVNode("div",T,null,512),[[n,null==(e=vue.unref(s).CLAIM_FLOW)?void 0:e.processContent]])]})),_:1})):(vue.openBlock(),vue.createElementBlock("div",P,[(vue.openBlock(),vue.createBlock(vue.Suspense,null,{fallback:vue.withCtx((()=>[vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:vue.withCtx((()=>{var e;return[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList((null==(e=vue.unref(s).CLAIM_FLOW)?void 0:e.processCasePicList)||[],((e,t)=>(vue.openBlock(),vue.createBlock(l,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),vue.createVNode(vue.unref(r))],64)):vue.createCommentVNode("",!0),vue.unref(A)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[(null==(t=vue.unref(s).CLAIM_CASE)?void 0:t.claimCaseType)===vue.unref(C).WORD?(vue.openBlock(),vue.createBlock(vue.unref(c),{key:0,class:"tab-card",title:"理赔案例"},{default:vue.withCtx((()=>{var e;return[vue.withDirectives(vue.createElementVNode("div",O,null,512),[[n,null==(e=vue.unref(s).CLAIM_CASE)?void 0:e.claimContent]])]})),_:1})):(vue.openBlock(),vue.createElementBlock("div",R,[(vue.openBlock(),vue.createBlock(vue.Suspense,null,{fallback:vue.withCtx((()=>[vue.createVNode(u,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:vue.withCtx((()=>{var e;return[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList((null==(e=vue.unref(s).CLAIM_CASE)?void 0:e.claimCasePicList)||[],((e,t)=>(vue.openBlock(),vue.createBlock(l,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),vue.createVNode(vue.unref(r))],64)):vue.createCommentVNode("",!0),vue.unref(E)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:2},[vue.createVNode(vue.unref(c),{class:"tab-card",title:"投保须知"},{default:vue.withCtx((()=>{var e;return[vue.withDirectives(vue.createElementVNode("div",U,null,512),[[n,null==(e=vue.unref(s).ISSUE_NOTICE)?void 0:e.noticeContent]])]})),_:1}),vue.createVNode(vue.unref(r))],64)):vue.createCommentVNode("",!0),vue.unref(B)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:3},[vue.createVNode(vue.unref(c),{title:"常见问题"},{default:vue.withCtx((()=>{var e,t;return[vue.createVNode(vue.unref(i),{list:null==(t=null==(e=vue.unref(s).FAQ)?void 0:e[0])?void 0:t.data},null,8,["list"])]})),_:1}),vue.createVNode(vue.unref(r))],64)):vue.createCommentVNode("",!0)]})),key:"1"}:void 0]),1032,["list"])}}});export{I as G,g as V,M as _};
