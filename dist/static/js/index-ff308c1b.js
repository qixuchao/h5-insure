import{d as e,cb as a,k as t,o as l,c as s,b as i,w as o,F as n,s as r,u as d,p as c,v as u,e as p,ao as v,n as m,f,a as g,bp as h,bo as A,dO as I,af as y,ag as b,de as k,h as x,i as _,ad as w,ap as C,j as E,r as L,dD as O,ah as S,E as P,aI as B,M as D,bH as T,dF as R,aG as j,l as V,ct as N,q as F,ck as U,aJ as M,T as q,aO as $,aN as H,ca as z,ai as G,al as Y,an as Q,bz as Z,dH as J,aQ as K,ay as W,dE as X,c5 as ee}from"./index-98f74434.js";import{_ as ae}from"./AgentInfo-16c1dde2.js";import{c as te}from"./cloneDeep-c390d45f.js";import{i as le,u as se,j as ie,s as oe,g as ne}from"./trial-cdad952b.js";import{a as re,c as de}from"./product-3d9a4aaf.js";import{n as ce}from"./nextStep-938ecb0a.js";import{e as ue,f as pe,S as ve}from"./infoCollection-724d18a1.js";import{P as me}from"./index-49c19068.js";import{v as fe,g as ge,r as he}from"./utils-d884df2a.js";import Ae from"./index-f3e6e21f.js";import Ie from"./Video-21ad2809.js";import ye from"./index-6fd267fa.js";import be from"./index-00f4268f.js";import ke from"./index-b28b3dcb.js";import{u as xe}from"./useOrder-3cd9c5f5.js";import{_ as _e}from"./TrialButton-6231cdf0.js";import{u as we}from"./useAttachment-25ebbf7c.js";import{p as Ce,t as Ee}from"./utils-46602f4f.js";import"./PolicyInfo-ebe1ca1f.js";import{P as Le}from"./constants-6c7c253a.js";import{u as Oe,q as Se,a as Pe}from"./core-ec40d73f.js";import"./questionnaire-42dcb602.js";import"./util-bee0a6b4.js";import"./trial-2819e647.js";import"./index-265c4027.js";import"./index-c05a28f2.js";import"./useThread-637a02aa.js";import"./jsbridgePromise-204cb700.js";import"./index-cf2f5ec5.js";import"./format-31cde443.js";import"./createProposal-4804d3a9.js";const Be={class:"refueling-package-com"},De=g("div",{class:"title"},"加油包",-1),Te=e({name:"package"}),Re=e({...Te,props:{packageProductList:{default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{default:3}},setup(e){const g=e,[y,b]=a(!1),k=t((()=>g.packageProductList.length>g.count&&(!!g.isShowClose||!y.value))),x=()=>{b()},_=t((()=>g.packageProductList.length<=g.count||y.value?g.packageProductList:g.packageProductList.slice(0,g.count)));return(e,a)=>{const t=h,g=A,b=I;return l(),s("div",Be,[De,i(b,{ref:"formRef"},{default:o((()=>[(l(!0),s(n,null,r(d(_),((e,a)=>(l(),c(g,{key:`${e.value}_${a}`,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.packageName,required:"",placeholder:"请选择"},{input:o((()=>[i(t,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,options:d(ue),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),d(k)?(l(),s("div",{key:0,class:"show-more",onClick:x},[u(p(d(y)?"收起":"查看更多")+" ",1),i(v,{name:"down",class:m(["icon",{showMore:d(y)}])},null,8,["class"])])):f("",!0)])),_:1},512)])}}});const je={key:0},Ve=[g("div",{class:"__skeleton_short_content__"},[g("div",{class:"van-config-provider sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[g("div",{class:"page-internet-product-detail"},[g("div",{class:"info"},[g("div",{class:"van-image banner",style:{width:"100%",height:"223px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[g("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20221222/e3719801cf6546449e18e06f3bbe8416/%E5%B0%8A%E4%BA%ABe%E7%94%9F.png?Expires=1676527379&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=tkscLe6oOZYjnRIA%2B7AiMS3bOs0%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),g("div")]),g("div",{class:"guarantee-list"},[g("div",{class:"header"},[g("span",null,[g("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"保障计划")]),g("span",null,[g("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"查看详情")])]),g("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[g("div",{class:"cell-container"},[g("div",{class:"left-part large"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"一般医疗保险金")]),g("div",{class:"divider"}),g("div",{class:"right-part"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高300万")])])]),g("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[g("div",{class:"cell-container"},[g("div",{class:"left-part large"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"重大疾病医疗保险金")]),g("div",{class:"divider"}),g("div",{class:"right-part"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),g("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[g("div",{class:"cell-container"},[g("div",{class:"left-part large"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤质子重离子医疗")]),g("div",{class:"divider"}),g("div",{class:"right-part"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),g("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[g("div",{class:"cell-container"},[g("div",{class:"left-part large"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤院外特定药品费用医疗")]),g("div",{class:"divider"}),g("div",{class:"right-part"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),g("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[g("div",{class:"cell-container"},[g("div",{class:"left-part large"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤特定器械耗材费用医疗责任 （适用于女性被保险人）")]),g("div",{class:"divider"}),g("div",{class:"right-part"},[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高100万")])])]),g("div",{class:"show-more"},[g("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"16.799999999999997px"}},"查看更多 "),g("svg",{class:"svg-icon icon-arrow-down-dobule icon icon"},[g("use",{"xlink:href":"#icon-arrow-down-dobule"})])]),g("div",{class:"feerate-view sk-border"},[g("span",null,[g("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"142.00元/年起")])])]),g("div",{class:"com-divider"}),g("div",{class:"tabs",sticky:"",scrollspy:""},[g("div",null,[g("div",{class:"van-sticky"},[g("div",{class:"van-tabs"},[g("div",{id:"tab-list",class:"tab-list"},[g("a",{class:"tab-title active",title:"产品亮点"},[g("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"产品亮点")]),g("a",{class:"tab-title",title:"理赔说明"},[g("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"理赔说明")]),g("a",{class:"tab-title",title:"我要投保"},[g("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"我要投保")])])])])]),g("div",{class:"tab-content"},[g("div",{id:"tab1"},[g("div",{class:"spec"},[g("div",{class:"van-image detail-img",style:{width:"100%"}},[g("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"van-image__img",style:{background:"rgb(238, 238, 238)"}})])])])])])])])],-1)],Ne=["theme-vars"],Fe={class:"info"},Ue={class:"custom-page-form"},Me=g("div",{id:"xinaoDialog"},null,-1),qe=e({name:"InsuranceShort"}),$e=e({...qe,setup(e){const a=y((()=>b((()=>import("./index-66e15c54.js")),["static/js/index-66e15c54.js","static/css/index-fa4edf2a.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css","static/js/theme-94cf7d00.js","static/js/index-cf2f5ec5.js","static/css/index-bbfdd7ec.css","static/js/utils-d884df2a.js","static/js/infoCollection-724d18a1.js","static/js/trial-2819e647.js"]))),r=y((()=>b((()=>import("./index-fccffb67.js")),["static/js/index-fccffb67.js","static/css/index-c1e75aab.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css"]))),v=y((()=>b((()=>import("./index-dcff56ee.js")),["static/js/index-dcff56ee.js","static/css/index-30daacf2.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css","static/js/index-98422cdb.js","static/css/index-fb4b747b.css","static/js/infoCollection-724d18a1.js","static/js/trial-2819e647.js"]))),m=y((()=>b((()=>import("./index-18a48bf3.js")),["static/js/index-18a48bf3.js","static/css/index-eabeb59f.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css"])));y((()=>b((()=>import("./index-5c8c5d83.js")),["static/js/index-5c8c5d83.js","static/css/index-793d1580.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css"])));const h=y((()=>b((()=>import("./index-0821d907.js")),["static/js/index-0821d907.js","static/css/index-90a5175b.css","static/js/index-98f74434.js","static/css/index-b7cd70b1.css","static/js/validator-6eb2e74e.js"]))),{VITE_BASE:A}={VITE_BASE:"/",VITE_API_BASEURL:"/",VITE_APP_TITLE:"投保流程",VITE_THEME_COLOR:"#C41E21",VITE_APP_DESCRIPTION:"一种互联网投保的快速落地实现方案",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},I=k(),ue=x(),Be=_();Oe();const{productCode:De="",orderNo:Te,proposalId:qe,tenantId:$e,extraInfo:He,insurerCode:ze,preview:Ge,isShare:Ye,agentCode:Qe,templateId:Ze,proposalInsuredId:Je}=Be.query,{agentCode:Ke}=w.get(`${C}_userInfo`)||{},We=E(),Xe=E(),ea=E(),aa=E(),ta=E(!1),la=E({}),sa=E({}),ia=E(!1),oa=E(!1),na=E(0),ra=E(!1);E({});const da=E(!0),ca=E(!0),ua=E(""),pa=E([]),va=E({}),ma=E({}),fa=E([]),ga=E(),ha=L({submitData:{},riskVOList:[{}],userData:{},ifPersonalInfoSuccess:!1,trialMsg:"",trialResult:{},isFirst:!0}),Aa=E(),Ia=E({}),ya=E({imgUrl:"",desc:"",title:"",link:`${window.location.href}&isShare=true`}),ba=xe({extInfo:{templateId:Ze,iseeBizNo:""},periodType:O.short,renewFlag:S.YES}),ka=E(),xa=E(),_a=E(),wa=E(!1),Ca=E(),Ea=E(!1);E(!1);const La=E({}),Oa=t((()=>!!Ge)),Sa=E([]),Pa=E(),Ba=E(!0),Da=E(!1),Ta=async()=>{re({productCode:De}).then((({data:e,code:a})=>{"10000"===a&&(la.value=e,document.title=e.BASIC_INFO.title||"",la.BASIC_INFO=e.BASIC_INFO,e.BASIC_INFO&&e.BASIC_INFO.themeType&&U(e.BASIC_INFO.themeType))})),await le({productCode:De,isTenant:!Ge}).then((({data:e,code:a})=>{var t;"10000"===a&&(ra.value=!0,sa.value=e,va.value=null==(t=e.productPlanInsureVOList)?void 0:t[0],fa.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),qe?Ce({proposalId:qe,productCode:De,tenantId:$e,proposalInsuredId:Je},(e=>{Z("计划书查询参数"),ha.userData=e,Ba.value=!1})):Ba.value=!1,ca.value=!1,de({productCode:De}).then((({code:e,data:a})=>{var t,l,s,i;if("10000"===e){const{productMaterialPlanVOList:e,productQuestionnaireVOList:o}=a;Pa.value=e||[];const{basicInfo:{questionnaireType:n},questions:r,questionnaireName:d}=(null==(t=null==o?void 0:o[0])?void 0:t.questionnaireDetailResponseVO)||{basicInfo:{}};n&&(Sa.value=2===n?[{attachmentName:d,attachmentUri:r,attachmentType:"question"}]:[{attachmentName:d,attachmentUri:null==(l=null==r?void 0:r[0])?void 0:l.content,attachmentType:ge(String(null==(s=null==r?void 0:r[0])?void 0:s.textType),null==(i=null==r?void 0:r[0])?void 0:i.content)}])}D((()=>{ha.isFirst=!1}))}))},Ra=E([]);P((()=>La.value.planCode),(e=>{va.value=(sa.value.productPlanInsureVOList||[]).find((a=>a.planCode===e))}));const ja=()=>{aa.value.handleClickTab()("tab3")},Va=E(""),Na=E(0),Fa=()=>{const e=[];return pa.value.filter((e=>e.value===pe.INSURE)).forEach((a=>{e.push(...a.productRiskVoList)})),e},Ua=()=>{var e;const{insuranceEndDate:a,insuranceStartDate:t}=La.value;Object.assign(ha.submitData,{...ha.userData,tenantId:$e,productCode:De,productName:sa.value.productName,commencementTime:t,expiryDate:a}),ha.riskList=(()=>{const{chargePeriod:e,coveragePeriod:a,paymentFrequency:t,insuranceEndDate:l,insuranceStartDate:s}=La.value;return he([...Ra.value,...Fa()]).map((l=>({...l,paymentFrequency:t,chargePeriod:e,coveragePeriod:a})))})();const l=ha.submitData;return(null==(e=l.insuredList)?void 0:e.length)&&(l.insuredList=l.insuredList.map((e=>({...e,planCode:va.value.planCode,productList:[{insurerCode:ze,productName:sa.value.productName,productCode:De,riskList:ha.riskList}]})))),l},Ma=E(),qa=async()=>{if(Oa.value)window.location.href=`${window.location.origin}${A}baseInsurance/orderDetail?orderNo=mockOrderNo&tenantId=${$e}&ISEE_BIZ=${ua}&productCode=${De}&preview=true&templateView=${Ze}`;else try{const e=Ee(Ua(),ha.trialResult,{...ba.value,extInfo:{...ba.value.extInfo,iseeBizNo:ua.value,autoRenewalInfo:ga.value,buttonCode:J.short.saveOrUpdate,pageCode:"productInfo"},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}});ce(e,(async(e,a,t)=>{a===K.JUMP_PAGE&&ue.push({path:Le[e.nextPageCode],query:Be.query})}))}catch(e){console.log(e)}},{fileList:$a,mustReadFileCount:Ha,popupFileList:za}=we(va,Pa),Ga=()=>{var e;za.value.length>0?(da.value=!1,e=0,na.value=e,oa.value=!0):Sa.value.length>0?ia.value=!0:qa()},Ya=()=>{ia.value=!1,oa.value=!1,da.value=!0},Qa=(e,a)=>{if(e){const t=["birthday","age","gender","id"];a.includes("occupationCodeList")&&t.push("occupationClass"),Object.keys(e).forEach((l=>{[...a,...t].includes(l)||(e[l]=null)}))}},Za=(e,a=(e=>!0))=>$(e)?e.filter(a).map((e=>e.code)):[],Ja=B((async(e=!1)=>{console.log(">>>>>调用试算<<<<<");const a=Ua();(ha.ifPersonalInfoSuccess||ea.value.canTrail())&&(console.log(">>>数据构建<<<",ha.submitData),await(async(e,a=!1)=>{ha.trialMsg="试算中...",ha.trialResult={};let t=!1;const{code:l}=await se(e);t="10000"===l,t&&ie(e).then((a=>{var t,l;a.data&&a.code===M?((null==(t=null==a?void 0:a.data)?void 0:t.errorInfo)&&q(`${null==(l=null==a?void 0:a.data)?void 0:l.errorInfo}`),Ma.value=e,ha.trialMsg="",ha.trialResult=a.data):ha.trialMsg=""})).finally((()=>{ha.isFirst=!1}))})(a,e))}),300),Ka=async(e,a=!1)=>{(e=>{const{holder:a,insuredList:t}=e||{};a&&(ha.submitData.holder=a),t&&t.length>0&&t.forEach(((e,a)=>{var t;ha.submitData.insuredList&&ha.submitData.insuredList.length>a?ha.submitData.insuredList[a]=e:((null==(t=ha.submitData)?void 0:t.insuredList)||(ha.submitData.insuredList=[]),ha.submitData.insuredList.push(e))}))})(e),ha.ifPersonalInfoSuccess=!0,console.log("投被保人的信息回传 ",e),Ja()},Wa=async()=>{var e;if(ha.isFirst=!1,Oa.value)Ga();else{if(!Ye)return void(()=>{const e=Ee(Ua(),ha.trialResult,{...ba.value,extInfo:{...ba.value.extInfo,iseeBizNo:ua.value,autoRenewalInfo:ga.value},operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}});oe(e).then((({code:e,data:a})=>{if("10000"===e){const e={...Be.query,isShare:1,orderNo:a,agentCode:Ke,expiryDate:W().format("YYYY-MM-DD")};Ia.value={title:"标题",desc:"描述",imageUrl:X,link:`${window.location.origin}${window.location.pathname}?${ee.stringify(e)}`,url:`${window.location.origin}${window.location.pathname}?${ee.stringify(e)}`},Aa.value.handleShare(Ia.value)}}))})();ga.value=await Xe.value.validate(),Promise.all([null==(e=ka.value)?void 0:e.validate(),ea.value.validate()]).then((async e=>{await fe(ha.userData)?Qe===xa.value.agentCode?qa():H.alert({message:"代理人工号有误，请核对后重新录入",confirmButtonText:"我知道了"}):q("验证码错误")})).catch((e=>{z(".page-internet-product-detail",".van-field--error")}))}},Xa=B((()=>{console.log("----监听事件变化，重新触发试算------",ea.value.validateTrialFields()),ea.value.validateTrialFields()&&Ka(ha.userData)}),400);P((()=>ba.value.insuredList[0].relationToHolder),((e,a)=>{e!==a&&pa.value&&pa.value.forEach((e=>{e.value=pe.UN_INSURE})),D((()=>{const{certType:e,extInfo:a}=ba.value.insuredList[0];a&&!a.hasSocialInsurance&&(ba.value.insuredList[0].extInfo.hasSocialInsurance=ve.HAS)}))}),{deep:!0,immediate:!0}),P([()=>va.value,()=>La.value,()=>pa.value],(()=>{ha.isFirst||Xa()}),{deep:!0,immediate:!0}),P((()=>va.value),((e,a)=>{var t,l;const{oilPackageProductVOList:s,planCode:i,insureProductRiskVOList:o,productFactor:n}=e||{};La.value.planCode=i,Ra.value=o,_a.value=null==(l=null==(t=T(n))?void 0:t.agent)?void 0:l.schema,ma.value=(o||[]).find((e=>e.mainRiskFlag===S.YES)),pa.value=(s||[]).map((e=>({...e,value:pe.UN_INSURE}))),i!==(null==a?void 0:a.planCode)&&(null==a?void 0:a.planCode)&&Object.assign(ha.userData,(()=>{console.log("--current plan = ",va.value),console.log("---current submit = ",ha.submitData);const e=te(ha.userData),{1:a,2:t,3:l}=va.value.productFactor||{};if(e.holder&&Qa(e.holder,Za(a)),e.insuredList){const a=["productList","beneficiaryList"],s=Za(t,(e=>"2"!==String(e.subModuleType))),i=Za(t,(e=>"2"===String(e.subModuleType))),o=$(i),n=Za(l),r=$(n);e.insuredList.forEach(((e,t)=>{var l;Qa(e,[...t>=1&&o?i:s,...a,...r?["insuredBeneficiaryType"]:[]]),(null==(l=e.beneficiaryList)?void 0:l.length)>0&&(r?e.beneficiaryList.forEach((e=>Qa(e,n))):e.beneficiaryList.length=0),e.planCode=va.value.planCode}))}return e})())}),{deep:!0,immediate:!0});const et=R(We);D((()=>{G(We,(([{isIntersecting:e}])=>{(e=>{et.bottom.value<0||et.top.value<0?ta.value=!e:ta.value=!1})(e)}))})),j((()=>{}));const at=()=>{Se({tenantId:$e,saleUserId:Qe}).then((({code:e,data:a})=>{"10000"===e&&(Ca.value=a.agentCode,xa.value={...a,agentCode:""},w.set(`${C}_userInfo`,a),ne({orderNo:Te,tenantId:$e}).then((({code:e,data:a})=>{var t,l,s,i,o,n,r,d,c;if("10000"===e){ba.value=a,(null==(t=a.extInfo)?void 0:t.openId)||(ba.value.extInfo.openId=Pe()),Ea.value=(null==(s=null==(l=a.insuredList)?void 0:l[0])?void 0:s.faceAuthFlag)===S.YES;const e=(null==(o=null==(i=ba.value.insuredList)?void 0:i[0])?void 0:o.planCode)||"";e&&(va.value=(null==(n=sa.value.productPlanInsureVOList)?void 0:n.find((a=>a.planCode===e)))||(null==(d=null==(r=va.value)?void 0:r.productPlanInsureVOList)?void 0:d[0])),wa.value=!!(null==(c=a.holder)?void 0:c.name),Object.assign(ha.userData,{...a,holder:{...a.holder,config:{name:{isView:wa.value}}}}),wa.value&&(xa.value.agentCode=Ca.value),Ba.value=!1}})))}))};return V((()=>{ca.value=!0,Qe&&at(),Ta(),setTimeout((async()=>{ua.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),N((()=>{})),(e,t)=>{var A,y,b,k,x,_,w,C,E,L,O,S,P,B,D,T,R,j;const V=ae,N=Y,U=Q;return l(),s(n,null,[d(ca)?(l(),s("div",je,Ve)):(l(),s("div",{key:1,"data-skeleton-root":"SHORT","theme-vars":d(I),class:"page-internet-product-detail"},[g("div",Fe,[1==(null==(y=null==(A=d(la))?void 0:A.BASIC_INFO)?void 0:y.bannerType)&&(null==(k=null==(b=d(la))?void 0:b.BASIC_INFO)?void 0:k.banner.length)?(l(),c(Ae,{key:0,"data-skeleton-type":"img","indicator-color":"#ddd",images:null==(x=d(la))?void 0:x.BASIC_INFO.banner},null,8,["images"])):f("",!0),2==(null==(w=null==(_=d(la))?void 0:_.BASIC_INFO)?void 0:w.bannerType)&&(null==(E=null==(C=d(la))?void 0:C.BASIC_INFO)?void 0:E.video.length)?(l(),c(Ie,{key:1,"data-skeleton-type":"img",src:null==(L=d(la))?void 0:L.BASIC_INFO.video[0]},null,8,["src"])):f("",!0),(null==(P=null==(S=null==(O=d(la))?void 0:O.BASIC_INFO)?void 0:S.bannerMove)?void 0:P.length)?(l(),c(Ae,{key:2,url:null==(T=null==(D=null==(B=d(la))?void 0:B.BASIC_INFO)?void 0:D.bannerMove)?void 0:T[0],onClick:ja},null,8,["url"])):f("",!0),g("div",{ref_key:"root",ref:We},null,512)]),(null==(R=d(la))?void 0:R.GUARANTEE)?(l(),c(ye,{key:0,"show-service-config":"","data-source":d(la),"plan-list":d(fa)},null,8,["data-source","plan-list"])):f("",!0),i(ke,{ref_key:"detailScrollRef",ref:aa,"order-detail":d(ba),"data-source":d(la)},{form:o((()=>{var e,a,s;return[g("div",Ue,[d(Ye)?(l(),c(V,{key:0,ref_key:"agentRef",ref:ka,modelValue:d(xa),"onUpdate:modelValue":t[0]||(t[0]=e=>F(xa)?xa.value=e:null),"is-view":"",config:{agentCode:{isView:d(wa)}},schema:d(_a)},null,8,["modelValue","config","schema"])):f("",!0),(l(),c(me,{key:d(va).planCode,ref_key:"personalInfoRef",ref:ea,modelValue:d(ha).userData,"onUpdate:modelValue":t[1]||(t[1]=e=>d(ha).userData=e),"is-view":d(Da),"product-factor":null==(e=d(va))?void 0:e.productFactor,"multi-insured-config":null==(a=d(va))?void 0:a.multiInsuredConfigVO,onTrailChange:Ka},null,8,["modelValue","is-view","product-factor","multi-insured-config"]))]),i(d(v),{"form-info":d(La),"risk-info":d(ma),"tenant-product-detail":d(la).PREMIUM,"plan-list":d(fa),"premium-info":{premium:d(Na),premiumLoadingText:d(Va)}},null,8,["form-info","risk-info","tenant-product-detail","plan-list","premium-info"]),d(pa).length>0?(l(),c(Re,{key:0,"package-product-list":d(pa)},null,8,["package-product-list"])):f("",!0),i(d(h),{ref_key:"autoRenewRef",ref:Xe,"ext-info":d(ba).extInfo,"product-factor":null==(s=d(va))?void 0:s.productFactor},null,8,["ext-info","product-factor"])]})),_:1},8,["order-detail","data-source"]),i(N,null,{default:o((()=>{var e,a,t;return[(null==(e=d(la).SIGNATURE)?void 0:e.inscribedContent)?(l(),c(d(m),{key:0,"inscribed-content":null==(t=null==(a=d(la))?void 0:a.SIGNATURE)?void 0:t.inscribedContent},null,8,["inscribed-content"])):f("",!0)]})),_:1}),d(ta)?(l(),c(_e,{key:1,premium:null==(j=d(ha).trialResult)?void 0:j.initialPremium,"share-info":d(ya),"loading-text":d(ha).trialMsg,"plan-code":d(La).planCode,"payment-frequency":d(La).paymentFrequency,"tenant-product-detail":d(la),onHandleClick:Wa},{default:o((()=>[u(p(d(Ye)?"立即投保":"立即分享"),1)])),_:1},8,["premium","share-info","loading-text","plan-code","payment-frequency","tenant-product-detail"])):f("",!0)],8,Ne)),i(U,{ref_key:"shareRef",ref:Aa},null,512),d(ra)?(l(),c(be,{key:2,"product-detail":d(la)},null,8,["product-detail"])):f("",!0),Me,i(d(r),{show:d(ia),"onUpdate:show":t[2]||(t[2]=e=>F(ia)?ia.value=e:null),"content-list":d(Sa),"active-index":0,onOnConfirmHealth:e.onCloseHealth,onOnCloseHealthByMask:Ya},null,8,["show","content-list","onOnConfirmHealth"]),d(oa)?(l(),c(d(a),{key:3,show:d(oa),"onUpdate:show":t[3]||(t[3]=e=>F(oa)?oa.value=e:null),"content-list":d(da)?d($a):d(za),"is-only-view":d(da),"active-index":d(na),text:d(da)?"关闭":"我已逐页阅读并确认告知内容","force-read-count":d(da)?0:d(Ha),onSubmit:e.onSubmit,onOnCloseFilePreviewByMask:Ya},null,8,["show","content-list","is-only-view","active-index","text","force-read-count","onSubmit"])):f("",!0)],64)}}});export{$e as default};
