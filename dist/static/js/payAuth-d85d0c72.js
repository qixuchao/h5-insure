import{_ as e,d as a,h as l,g as d,i as o,j as s,ah as n,O as r,o as t,c as m,a as c,b as u,e as i,u as p,l as b,w as f,bU as h,q as v,a8 as y,T as V,bZ as k,bV as g,bW as C,bX as q,an as x,at as N,au as _}from"./index-f43edcf2.js";import{g as I}from"./trial-a994f093.js";import{b as T}from"./verify-efce1e77.js";const U={class:"page-pay-auth-wrap"},j={class:"header"},w={class:"content"},W={class:"bank-card"},O={class:"card-content"},R={class:"main"},A={class:"bank-name"},B={class:"bank-no"},E={class:"bank-card-type"},L=(e=>(N("data-v-74ef486e"),e=e(),_(),e))((()=>c("p",{class:"desc"},"实时单笔限额5W 实时单日限额5W",-1))),P={class:"footer-button"},X=a({name:"payAuth"});var Z=e(a({...X,setup(e){const a=l(),N=d(),{orderNo:_,tenantId:X}=a.query,Z=o(),z=o(),D=o({}),F=s((()=>z.value.holder.certType===n.CERT?"身份证号":"证件号")),G=()=>{Z.value.validate().then((e=>{T(z.value).then((({code:e,data:a})=>{"10000"===e&&(N.back(),V("成功"))}))})).catch((e=>{console.log("e",e)}))};return r((()=>{(async()=>{await I({orderNo:_,tenantId:X}).then((({code:e,data:a})=>{"10000"===e&&(z.value=a,D.value=a.tenantOrderPayInfoList.find((e=>1===e.payInfoType)))}))})()})),(e,a)=>{const l=k,d=g,o=C,s=q,n=x;return t(),m("div",U,[c("div",j,[u(l,{type:"warning",content:"根据央行发布《关于规范支付创新业务的通知》，明确代收服务机构应当要求收款人事先与付款人签订收款协议，取得持卡人授权，并在代收交易处理中验证协议关系，银行与持卡人的直接授权。"})]),c("div",w,[c("div",W,[c("div",O,[c("div",R,[c("span",A,i(p(D).payBank||"中国工商银行"),1),c("span",B,i(p(D).bankCardNo||"**** **** **** 3941"),1)]),c("p",E,i(p(D).bankCardType||"储蓄卡"),1),L])]),p(z)?(t(),b(s,{key:0,ref_key:"formRef",ref:Z,model:p(z).holder},{default:f((()=>[u(d,{modelValue:p(z).holder.name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(z).holder.name=e),label:"姓名",name:"name",maxlength:"11",required:""},null,8,["modelValue"]),u(d,{modelValue:p(z).holder.certNo,"onUpdate:modelValue":a[1]||(a[1]=e=>p(z).holder.certNo=e),label:p(F),name:"certNo",maxlength:"18",required:""},null,8,["modelValue","label"]),u(d,{modelValue:p(z).holder.mobile,"onUpdate:modelValue":a[2]||(a[2]=e=>p(z).holder.mobile=e),label:"银行预留手机",name:"mobile",maxlength:"11",required:""},null,8,["modelValue"]),u(o,{modelValue:p(z).holder.verifyCode,"onUpdate:modelValue":a[3]||(a[3]=e=>p(z).holder.verifyCode=e),label:"验证码",maxlength:"6",name:"verifyCode","related-name":"mobile","send-s-m-s-code":p(h),required:""},null,8,["modelValue","send-s-m-s-code"])])),_:1},8,["model"])):v("",!0)]),c("div",P,[u(n,{type:"primary",onClick:G},{default:f((()=>[y("提交")])),_:1})])])}}}),[["__scopeId","data-v-74ef486e"]]);export{Z as default};
