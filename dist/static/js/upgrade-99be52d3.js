import{b5 as e,b6 as t,b7 as a,b8 as r,b9 as n,ba as o,bb as l,aP as s,bc as i,bd as c,be as u,aR as d,bf as p,bg as v,_ as f,d as b,aW as y,b4 as m,u as h,a as _,r as j,z as g,x as A,y as w,b as x,c as I,g as O,e as k,w as P,i as D,f as S,l as U,au as B,j as E,aC as F,t as C,n as V,aZ as N,T,K as L,L as R,aK as z}from"./index-a90c3162.js";import{p as M}from"./product-480d9e23.js";import{d as $,i as H,g as W,s as G,e as J,E as K}from"./trial-d799fee8.js";import{a as q,t as Q,c as Z,s as X,b as Y,d as ee}from"./utils-85e841e8.js";import{a as te}from"./order-c73fd6c1.js";import ae from"./index-3a82298f.js";import{u as re}from"./theme-65292714.js";import{B as ne}from"./index-9b0c10dc.js";import oe from"./index-cc65d664.js";import"./pdfh5-e5c0db2a.js";import"./infoCollection-3bd369ad.js";import"./useStorage-61b30760.js";import"./trial-faeaefb9.js";import"./relativeTime-190c9ccf.js";import"./validator-5a13dc82.js";import"./useDicData-f5a5424a.js";function le(t){var a=this.__data__=new e(t);this.size=a.size}le.prototype.clear=function(){this.__data__=new e,this.size=0},le.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},le.prototype.get=function(e){return this.__data__.get(e)},le.prototype.has=function(e){return this.__data__.has(e)},le.prototype.set=function(r,n){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<199)return l.push([r,n]),this.size=++o.size,this;o=this.__data__=new a(l)}return o.set(r,n),this.size=o.size,this};var se=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function ie(e,t,a){"__proto__"==t&&se?se(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var ce=Object.prototype.hasOwnProperty;function ue(e,t,a){var r=e[t];ce.call(e,t)&&n(r,a)&&(void 0!==a||t in e)||ie(e,t,a)}function de(e,t,a,r){var n=!a;a||(a={});for(var o=-1,l=t.length;++o<l;){var s=t[o],i=r?r(a[s],e[s],s,a,e):void 0;void 0===i&&(i=e[s]),n?ie(a,s,i):ue(a,s,i)}return a}function pe(e){return o(e)&&"[object Arguments]"==l(e)}var ve=Object.prototype,fe=ve.hasOwnProperty,be=ve.propertyIsEnumerable,ye=pe(function(){return arguments}())?pe:function(e){return o(e)&&fe.call(e,"callee")&&!be.call(e,"callee")};var me="object"==typeof exports&&exports&&!exports.nodeType&&exports,he=me&&"object"==typeof module&&module&&!module.nodeType&&module,_e=he&&he.exports===me?s.Buffer:void 0,je=(_e?_e.isBuffer:void 0)||function(){return!1},ge=/^(?:0|[1-9]\d*)$/;function Ae(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&ge.test(e))&&e>-1&&e%1==0&&e<t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var xe={};function Ie(e){return function(t){return e(t)}}xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Arguments]"]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object Boolean]"]=xe["[object DataView]"]=xe["[object Date]"]=xe["[object Error]"]=xe["[object Function]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object WeakMap]"]=!1;var Oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ke=Oe&&"object"==typeof module&&module&&!module.nodeType&&module,Pe=ke&&ke.exports===Oe&&i.process,De=function(){try{var e=ke&&ke.require&&ke.require("util").types;return e||Pe&&Pe.binding&&Pe.binding("util")}catch(t){}}(),Se=De&&De.isTypedArray,Ue=Se?Ie(Se):function(e){return o(e)&&we(e.length)&&!!xe[l(e)]},Be=Object.prototype.hasOwnProperty;function Ee(e,t){var a=c(e),r=!a&&ye(e),n=!a&&!r&&je(e),o=!a&&!r&&!n&&Ue(e),l=a||r||n||o,s=l?function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}(e.length,String):[],i=s.length;for(var u in e)!t&&!Be.call(e,u)||l&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ae(u,i))||s.push(u);return s}var Fe=Object.prototype;function Ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fe)}function Ve(e,t){return function(a){return e(t(a))}}var Ne=Ve(Object.keys,Object),Te=Object.prototype.hasOwnProperty;function Le(e){return null!=e&&we(e.length)&&!u(e)}function Re(e){return Le(e)?Ee(e):function(e){if(!Ce(e))return Ne(e);var t=[];for(var a in Object(e))Te.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e)}var ze=Object.prototype.hasOwnProperty;function Me(e){if(!d(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=Ce(e),a=[];for(var r in e)("constructor"!=r||!t&&ze.call(e,r))&&a.push(r);return a}function $e(e){return Le(e)?Ee(e,!0):Me(e)}var He="object"==typeof exports&&exports&&!exports.nodeType&&exports,We=He&&"object"==typeof module&&module&&!module.nodeType&&module,Ge=We&&We.exports===He?s.Buffer:void 0,Je=Ge?Ge.allocUnsafe:void 0;function Ke(){return[]}var qe=Object.prototype.propertyIsEnumerable,Qe=Object.getOwnPropertySymbols,Ze=Qe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,o=[];++a<r;){var l=e[a];t(l,a,e)&&(o[n++]=l)}return o}(Qe(e),(function(t){return qe.call(e,t)})))}:Ke;function Xe(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}var Ye=Ve(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xe(t,Ze(e)),e=Ye(e);return t}:Ke;function tt(e,t,a){var r=t(e);return c(e)?r:Xe(r,a(e))}function at(e){return tt(e,Re,Ze)}function rt(e){return tt(e,$e,et)}var nt=r(s,"DataView"),ot=r(s,"Promise"),lt=r(s,"Set"),st=r(s,"WeakMap"),it=p(nt),ct=p(t),ut=p(ot),dt=p(lt),pt=p(st),vt=l;(nt&&"[object DataView]"!=vt(new nt(new ArrayBuffer(1)))||t&&"[object Map]"!=vt(new t)||ot&&"[object Promise]"!=vt(ot.resolve())||lt&&"[object Set]"!=vt(new lt)||st&&"[object WeakMap]"!=vt(new st))&&(vt=function(e){var t=l(e),a="[object Object]"==t?e.constructor:void 0,r=a?p(a):"";if(r)switch(r){case it:return"[object DataView]";case ct:return"[object Map]";case ut:return"[object Promise]";case dt:return"[object Set]";case pt:return"[object WeakMap]"}return t});var ft=vt,bt=Object.prototype.hasOwnProperty;var yt=s.Uint8Array;function mt(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}var ht=/\w*$/;var _t=v?v.prototype:void 0,jt=_t?_t.valueOf:void 0;function gt(e,t,a){var r,n,o,l=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return function(e,t){var a=t?mt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var a=t?mt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(e,a);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(o=new(n=e).constructor(n.source,ht.exec(n))).lastIndex=n.lastIndex,o;case"[object Symbol]":return r=e,jt?Object(jt.call(r)):{}}}var At=Object.create,wt=function(){function e(){}return function(t){if(!d(t))return{};if(At)return At(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();var xt=De&&De.isMap,It=xt?Ie(xt):function(e){return o(e)&&"[object Map]"==ft(e)};var Ot=De&&De.isSet,kt=Ot?Ie(Ot):function(e){return o(e)&&"[object Set]"==ft(e)},Pt={};function Dt(e,t,a,r,n,o){var l,s=1&t,i=2&t,u=4&t;if(a&&(l=n?a(e,r,n,o):a(e)),void 0!==l)return l;if(!d(e))return e;var p=c(e);if(p){if(l=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!s)return function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}(e,l)}else{var v=ft(e),f="[object Function]"==v||"[object GeneratorFunction]"==v;if(je(e))return function(e,t){if(t)return e.slice();var a=e.length,r=Je?Je(a):new e.constructor(a);return e.copy(r),r}(e,s);if("[object Object]"==v||"[object Arguments]"==v||f&&!n){if(l=i||f?{}:function(e){return"function"!=typeof e.constructor||Ce(e)?{}:wt(Ye(e))}(e),!s)return i?function(e,t){return de(e,et(e),t)}(e,function(e,t){return e&&de(t,$e(t),e)}(l,e)):function(e,t){return de(e,Ze(e),t)}(e,function(e,t){return e&&de(t,Re(t),e)}(l,e))}else{if(!Pt[v])return n?e:{};l=gt(e,v,s)}}o||(o=new le);var b=o.get(e);if(b)return b;o.set(e,l),kt(e)?e.forEach((function(r){l.add(Dt(r,t,a,r,e,o))})):It(e)&&e.forEach((function(r,n){l.set(n,Dt(r,t,a,n,e,o))}));var y=p?void 0:(u?i?rt:at:i?$e:Re)(e);return function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););}(y||e,(function(r,n){y&&(r=e[n=r]),ue(l,n,Dt(r,t,a,n,e,o))})),l}Pt["[object Arguments]"]=Pt["[object Array]"]=Pt["[object ArrayBuffer]"]=Pt["[object DataView]"]=Pt["[object Boolean]"]=Pt["[object Date]"]=Pt["[object Float32Array]"]=Pt["[object Float64Array]"]=Pt["[object Int8Array]"]=Pt["[object Int16Array]"]=Pt["[object Int32Array]"]=Pt["[object Map]"]=Pt["[object Number]"]=Pt["[object Object]"]=Pt["[object RegExp]"]=Pt["[object Set]"]=Pt["[object String]"]=Pt["[object Symbol]"]=Pt["[object Uint8Array]"]=Pt["[object Uint8ClampedArray]"]=Pt["[object Uint16Array]"]=Pt["[object Uint32Array]"]=!0,Pt["[object Error]"]=Pt["[object Function]"]=Pt["[object WeakMap]"]=!1;const St=e=>(L("data-v-bb801746"),e=e(),R(),e),Ut={key:0},Bt=[St((()=>D("div",{class:"__skeleton_upgrade_content__"},[D("div",{class:"van-config-provider router-view sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[D("div",{class:"page-upgrade-product-detail"},[D("div",{class:"van-image banner",style:{width:"375px",height:"338px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[D("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20230131/7f6e6d1d087a4ced909e9daa18754592/%E5%8D%87%E7%BA%A7%E4%BA%A7%E5%93%81.png?Expires=1676282742&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=B0kGphaHBL5OfHyaMj1ktm9FJvM%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),D("div",{class:"page-info-wrapper"},[D("div",{class:"com-form-wrapper","show-error":"","show-error-message":"false"},[D("form",{class:"van-form"},[D("div",{class:"com-card"},[D("div",{class:"com-card-wrap"},[D("div",{class:"header"},[D("div",{class:"title-wrapper"},[D("div",{class:"title showIcon"},[D("span",{class:"sk-text",style:{"--fp":"33.33%","--sp":"66.67%","--lh":"45px"}},"投保信息")])])]),D("div",{class:"body",style:{height:"auto"}},[D("div",{class:"com-personal-wrapper"},[D("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[D("div",{class:"van-cell__title van-field__label van-field__label--left"},[D("label",{id:"van-field-2-label",for:"van-field-2-input"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"姓名")])]),D("div",{class:"van-cell__value van-field__value"},[D("div",{class:"van-field__body"},[D("input",{type:"text",id:"van-field-2-input",name:"insure_name",class:"van-field__control van-field__control--right sk-input",readonly:"",placeholder:"请输入姓名",autocomplete:"off","aria-labelledby":"van-field-2-label"}),D("div",{class:"van-field__right-icon"})])])]),D("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[D("div",{class:"van-cell__title van-field__label van-field__label--left"},[D("label",{id:"van-field-3-label",for:"van-field-3-input"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"身份证号")])]),D("div",{class:"van-cell__value van-field__value"},[D("div",{class:"van-field__body"},[D("input",{type:"text",id:"van-field-3-input",name:"insure_certNo",class:"van-field__control van-field__control--right sk-input",readonly:"",placeholder:"请输入身份证号",autocomplete:"off","aria-labelledby":"van-field-3-label"}),D("div",{class:"van-field__right-icon"})])])])]),D("div",{class:"van-cell van-field van-field--label-left com-pro-field"},[D("div",{class:"van-cell__title van-field__label van-field__label--left"},[D("label",{id:"van-field-4-label",for:"van-field-4-input"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"社保")])]),D("div",{class:"van-cell__value van-field__value"},[D("div",{class:"van-field__body"},[D("div",{class:"van-field__control van-field__control--right van-field__control--custom"},[D("div",{class:"com-radio-btn-wrap"},[D("div",{class:"radio-btn"},[D("div",{class:"btn-wrapper"},[D("div",{class:"com-check-btn activated-disabled"},[D("span",{class:"sk-text",style:{"--fp":"22.92%","--sp":"77.08%","--lh":"24px"}}," 有（含农村合作医疗）")])]),D("div",{class:"btn-wrapper"},[D("div",{class:"com-check-btn disabled sk-border"},[D("span",{class:"sk-text",style:{"--fp":"22.92%","--sp":"77.08%","--lh":"24px"}}," 无")])])])])]),D("div",{class:"van-field__right-icon"})])])])])])])])])]),D("div",{class:"van-cell van-field com-pro-field"},[D("div",{class:"van-cell__title van-field__label"},[D("label",{id:"van-field-5-label",for:"van-field-5-input"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"21px"}},"每月保费")])]),D("div",{class:"van-cell__value van-field__value"},[D("div",{class:"van-field__body"},[D("input",{type:"text",id:"van-field-5-input",name:"insuredBeneficiaryType",class:"van-field__control van-field__control--right sk-input",placeholder:"请输入每月保费",autocomplete:"off","aria-labelledby":"van-field-5-label"}),D("div",{class:"van-field__right-icon"})])])]),D("div",{class:"com-attachment-list attachment-bg"},[D("span",null,[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}},"请阅读")]),D("span",{class:"attachment-item"},[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《责任免除说明书》 ")]),D("span",{class:"attachment-item"},[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《投保须知》 ")]),D("span",{class:"attachment-item"},[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《重要提示》 ")]),D("span",{class:"attachment-item"},[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《特别约定》 ")]),D("span",{class:"attachment-item"},[D("span",{class:"sk-text",style:{"--fp":"16.67%","--sp":"83.33%","--lh":"18px"}}," 《条款》 ")])]),D("div",{class:"footer-area sk-border"},[D("div",{class:"upgrade-submit"},[D("div",{class:"price"},[D("span",{class:"num"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"18.200139999999998px"}},"49")]),D("span",{class:"unit"},[D("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"18.200139999999998px"}},"元/月")])]),D("div",{class:"pro-shadow-button right"},[D("button",{type:"button",class:"van-button van-button--primary van-button--normal van-button--block van-button--round shadow-button sk-button"},[D("div",{class:"van-button__content"},[D("span",{class:"van-button__text"},[D("span",{class:"sk-text",style:{"--fp":"8.33%","--sp":"91.67%","--lh":"19.2002px"}},"升级保障")])])])])])])])])],-1)))],Et={class:"page-upgrade-product-detail"},Ft={class:"footer-area"},Ct=St((()=>D("span",null,"分享",-1))),Vt={class:"upgrade-submit"},Nt={class:"price"},Tt={class:"num"},Lt=St((()=>D("span",{class:"unit"},"元/月",-1))),Rt=V(C("升级保障"));var zt=f(b({setup(e){const t=y((()=>N((()=>import("./index-ae837821.js")),["static/js/index-ae837821.js","static/css/index-b9ba3011.css","static/js/index-a90c3162.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js"]))),a=y((()=>N((()=>import("./index-d27c47cc.js")),["static/js/index-d27c47cc.js","static/css/index-ea588f10.css","static/js/index-a90c3162.js","static/css/index-3be7aaa8.css","static/js/pdfh5-e5c0db2a.js","static/js/theme-65292714.js","static/js/index-cc65d664.js","static/css/index-2dbcd337.css","static/js/utils-85e841e8.js","static/js/infoCollection-3bd369ad.js","static/js/useStorage-61b30760.js","static/js/trial-faeaefb9.js"]))),r=m(),n=re(),o=h(),l=_(),{productCode:s="",orderNo:i="",agencyCode:c="",tenantId:u="",saleChannelId:d="",extraInfo:p}=l.query;let v={};try{v=JSON.parse(decodeURIComponent(p))}catch(Ie){}const{openId:f,indirectCode:b="",agentCode:V}=v,L=j(!0),R=j(),le=j();j();const se=j(),ie=j(),ce=j(),ue=j(),de=j(0),pe=j();j(!1),j(!1),j(0);const ve=j(""),fe=j(!1),be=j(),ye=g({isOnlyView:!0,activeIndex:0,showFilePreview:!1}),me=j({imgUrl:"",desc:"",title:"",link:window.location.href}),he=()=>{ye.showFilePreview=!1,ye.isOnlyView=!0},_e=A((()=>`${de.value}元/月`)),je=e=>{var t;const a=null==(t=e.tenantOrderPaymentInfoList)?void 0:t.pop();return a?a.paymentMethod:3},ge=async e=>{const t=Y({tenantId:u,premium:de.value,orderDetail:ue.value,productDetail:ie.value,insureDetail:ce.value,successJumpUrl:`${z}/baseInsurance/orderDetail?tenantId=${u}&orderNo=${ve.value}`,iseeBizNo:R.value}),a=await K({orderNo:e,...t}),{code:r,data:n}=a;"10000"===r&&o.push(`/baseInsurance/orderDetail?tenantId=${u}&orderNo=${ve.value}`)},Ae=async e=>{try{T.loading({forbidClick:!0,message:"升级中",duration:0});const e=await(async()=>{var e,t,a;const r=q({tenantId:u,templateId:ue.value.tenantOrderInsuredList[0].templateId,applicationNo:ue.value.applicationNo,policyNo:ue.value.policyNo,saleUserId:V,saleChannelId:ue.value.saleChannelId,orderStatus:te.UP_PROCESSING,orderTopStatus:"-1",orderCategory:2,detail:ie.value,insureDetail:ce.value,paymentMethod:je(ue.value),renewalDK:null==(t=null==(e=ue.value.extInfo)?void 0:e.extraInfo)?void 0:t.renewalDK,iseeBizNo:R.value,expiryDate:ue.value.expiryDate,successJumpUrl:"",premium:de.value,holder:{...ue.value.tenantOrderHolder,extInfo:be.value,socialFlag:be.value.hasSocialInsurance},insured:{...ue.value.tenantOrderInsuredList[0],socialFlag:ue.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance},tenantOrderRiskList:Q({tenantId:u,riskList:Z(X(ce.value.productRiskVoList[0].riskDetailVOList),ie.value),riskPremium:{},productId:null==(a=ie.value)?void 0:a.id},!0)}),n=await G(r),{code:o,data:l}=n;return"10000"===o?l.data:""})();await $({tenantId:u,applicationNo:ue.value.applicationNo});if(ve.value=e,pe.value){const e=encodeURIComponent(encodeURIComponent(window.location.href)),t=`${pe.value}&failUrl=${e}`;window.location.href=t,T.clear()}else ge(e)}catch(t){T.clear()}},we=async e=>{Ae()},xe=()=>{const e=M({productCode:s,withInsureInfo:!0,tenantId:u}),t=H({productCode:s}),a=W({orderNo:i,tenantId:u});Promise.all([e,t,a]).then((([e,t,a])=>{var r,n,o;if("10000"===e.code){ie.value=e.data,document.title=(null==(r=e.data)?void 0:r.productFullName)||"";const{title:t,desc:a,image:l}=(null==(n=e.data)?void 0:n.showConfigVO)||{};o={title:t,desc:a,image:l},me.value={desc:o.desc||"你好，这里是描述",imgUrl:o.image,title:o.title,link:window.location.href}}"10000"===t.code&&(ce.value=t.data,ce.value.productFactor[1]=[]),"10000"===a.code&&(ue.value=a.data,be.value=Dt(ue.value.tenantOrderHolder.extInfo,5),ue.value.tenantOrderHolder.extInfo=ue.value.tenantOrderInsuredList[0].extInfo),L.value=!1,(async()=>{T.loading({forbidClick:!0,duration:0,message:"试算中"});try{const e=Y({tenantId:u,premium:de.value,orderDetail:ue.value,productDetail:ie.value,insureDetail:ce.value,successJumpUrl:""},ee),t=await J(e),{code:a,data:r,message:n}=t;"10000"===a?(de.value=r.installmentPremium,pe.value=r.signUrl):"已升级成功"===n&&(fe.value=!0)}catch(e){}finally{setTimeout((()=>{T.clear()}),2e3)}})(),(()=>{var e;let t={};if(t=(null==(e=ie.value.tenantProductInsureVO.planInsureVO)?void 0:e.attachmentVOList)||[],!t)return void(le.value=[]);const a={2:"richText",3:"link"};le.value=Object.keys(t).map((e=>(t[e].forEach((e=>{if("1"===e.attachmentType){const t=e.attachmentUri.split("?"),a=t[0].substr(t[0].lastIndexOf(".")+1);e.attachmentType="pdf"===a?"pdf":"picture"}else e.attachmentType=a[e.attachmentType]})),{attachmentName:e,attachmentList:t[e]})))||[]})()}))};return w((()=>{xe(),setTimeout((async()=>{R.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,o)=>{const l=x("ProField"),s=x("ProSvg"),i=x("ProShare"),c=x("van-config-provider");return L.value?(I(),O("div",Ut,Bt)):(I(),k(c,{key:1,"data-skeleton-root":"UPGRADE","theme-vars":U(n)},{default:P((()=>{var e,c,u;return[D("div",Et,[S(ne,{"data-skeleton-type":"img",url:null==(c=null==(e=ie.value)?void 0:e.tenantProductInsureVO)?void 0:c.banner[0]},null,8,["url"]),S(ae,{ref_key:"formRef",ref:se,"title-collection":{INSURER:"投保信息"},"need-desensitize":"","is-view":"","input-align":"right","form-info":ue.value,"factor-object":null==(u=ce.value)?void 0:u.productFactor},null,8,["form-info","factor-object"]),S(l,{modelValue:U(_e),"onUpdate:modelValue":o[0]||(o[0]=e=>B(_e)?_e.value=e:null),"input-align":"right",label:"每月保费",name:"insuredBeneficiaryType"},null,8,["modelValue"]),le.value&&le.value.length>0?(I(),k(U(t),{key:0,class:"attachment-bg","attachement-list":le.value,"has-bg-color":!1,"pre-text":"请阅读",onPreviewFile:o[1]||(o[1]=e=>(e=>{ye.isOnlyView=!0,ye.activeIndex=e,ye.showFilePreview=!0})(e))},null,8,["attachement-list"])):E("",!0),D("div",Ft,[U(r)?(I(),k(i,F({key:0},me.value,{class:"share-btn"}),{default:P((()=>[S(s,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),Ct])),_:1},16)):E("",!0),D("div",Vt,[D("div",Nt,[D("span",Tt,C(de.value),1),Lt]),S(oe,{shadow:!1,disabled:fe.value,"theme-vars":U(n),class:"right",text:"升级保障",onClick:we},{default:P((()=>[Rt])),_:1},8,["disabled","theme-vars"])])])]),U(ye).showFilePreview&&0!==le.value.length?(I(),k(U(a),{key:0,show:U(ye).showFilePreview,"onUpdate:show":o[2]||(o[2]=e=>U(ye).showFilePreview=e),"content-list":le.value,"is-only-view":U(ye).isOnlyView,"active-index":U(ye).activeIndex,text:U(ye).isOnlyView?"关闭":"我已逐页阅读上述内容并同意","force-read-cound":0,"on-close-file-preview":"",onSubmit:Ae,onOnCloseFilePreview:he},null,8,["show","content-list","is-only-view","active-index","text"])):E("",!0)]})),_:1},8,["theme-vars"]))}}}),[["__scopeId","data-v-bb801746"]]);export{zt as default};
