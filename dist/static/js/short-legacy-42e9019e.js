!function(){var e=document.createElement("style");e.innerHTML=".refueling-package-com[data-v-7e34c868]{background:#fff}.refueling-package-com .title[data-v-7e34c868]{background:#ffffff;font-size:.42667rem;font-weight:500;color:#333;line-height:.4rem;padding:.4rem .33333rem}.refueling-package-com[data-v-7e34c868] .van-cell .van-field__label{min-width:4rem!important}.refueling-package-com .show-more[data-v-7e34c868]{padding:.4rem 0;width:100%;display:flex;justify-content:center;align-items:center;font-size:.34667rem;color:var(--van-primary-color, var(--zaui-brand))}.refueling-package-com .show-more .icon[data-v-7e34c868]{margin-left:.13333rem;font-size:.26667rem;transition:transform .5s}.refueling-package-com .show-more .icon.showMore[data-v-7e34c868]{transform:rotate(180deg)}.tabs[data-v-cbff6950] .tab-title{font-size:.42667rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500}.tabs[data-v-cbff6950] .active:after{width:.64rem!important;height:.08rem!important;border-radius:.05333rem!important}.spec img[data-v-cbff6950]{width:100%;display:block}.spec .van-image__error[data-v-cbff6950]{font-size:.8rem}.sub-title[data-v-cbff6950]{font-size:.34667rem;font-weight:400;color:#99a9c0;line-height:.50667rem;margin-bottom:.13333rem}.tab-1-content[data-v-cbff6950]{font-size:.34667rem;font-weight:400;color:#393d46;line-height:.50667rem;margin-top:.33333rem;margin-bottom:.53333rem}[data-v-cbff6950] .com-time-line .item .left .num{background:var(--van-primary-background-color);border:1px solid var(--van-primary-color)}[data-v-cbff6950] .com-time-line .item .left .num:after{border-left:1px dashed var(--van-primary-background-color);border-right:1px dashed var(--van-primary-background-color)}.trial-button-wrap .footer-area{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.trial-button-wrap .footer-area .price{color:#393d46;font-size:.45333rem;font-weight:400}.trial-button-wrap .footer-area .price span{color:var(--van-primary-color);font-weight:700}.trial-button-wrap .footer-area .price span:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.trial-button-wrap .footer-area .right{width:4.26667rem!important;height:1.17333rem!important;border-radius:.58667rem}.page-internet-product-detail[data-v-2ecf641a]{padding-bottom:2rem;background:#f1f5fc}.page-internet-product-detail .custom-page-form[data-v-2ecf641a]{background:#ffffff}.page-internet-product-detail .custom-page-form .form-title[data-v-2ecf641a]{padding:.53333rem 0px .13333rem;text-align:center;font-size:.53333rem;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333}.page-internet-product-detail .custom-page-form[data-v-2ecf641a] .com-card-wrap .header{margin-left:0!important}.page-internet-product-detail .custom-page-form[data-v-2ecf641a] .com-card-wrap .header .title-wrapper .title:before{margin-right:.37333rem!important}.page-internet-product-detail .custom-page-form[data-v-2ecf641a] .com-card-wrap .relation-holder .van-cell__title{display:none}.page-internet-product-detail .custom-page-form[data-v-2ecf641a] .radio-btn{justify-content:flex-start}.page-internet-product-detail .custom-page-form[data-v-2ecf641a] .radio-btn .btn-wrapper{margin-left:0!important;margin-right:.10667rem!important}.page-internet-product-detail .footer-area[data-v-2ecf641a]{width:100%;height:2rem;position:fixed;bottom:0;left:0;display:flex;align-items:center;border-top:1px solid #EEEFF4;padding:0 .4rem;background:#ffffff;z-index:10;justify-content:space-between;border-radius:.4rem .4rem 0px 0px}.page-internet-product-detail .footer-area[data-v-2ecf641a] .com-share{width:1.02667rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.page-internet-product-detail .footer-area[data-v-2ecf641a] .com-share span{font-size:.32rem;color:var(--zaui-text, #393d46)}.page-internet-product-detail .price[data-v-2ecf641a]{color:#393d46;font-size:.45333rem;font-weight:400;width:3.6rem;margin:0 .26667rem}.page-internet-product-detail .price span[data-v-2ecf641a]{color:var(--van-primary-color);font-weight:700}.page-internet-product-detail .price span[data-v-2ecf641a]:last-child{font-size:.34667rem;font-family:PingFangSC-Regular,PingFang SC;font-weight:400}.page-internet-product-detail .right[data-v-2ecf641a]{width:4rem;height:1.17333rem;border-radius:.58667rem}\n",document.head.appendChild(e),System.register(["./index-legacy-a5e5a4bc.js","./debounce-legacy-211ba60e.js","./trial-legacy-771b1d4a.js","./product-legacy-f18b5c33.js","./nextStep-legacy-e5e24959.js","./infoCollection-legacy-63bdd2f7.js","./index-legacy-7a4ee71e.js","./utils-legacy-35770091.js","./validator-legacy-5e43cc69.js","./index-legacy-8b0e455e.js","./phoneVerify-legacy-3ddc231a.js","./index-legacy-3ac15310.js","./index-legacy-6b9c0770.js","./trial-legacy-2de42c7c.js","./pdfh5-legacy-9f98dc45.js","./isObject-legacy-83e04b6f.js","./isObjectLike-legacy-7cedb542.js","./core-legacy-4d018e1f.js","./constant-legacy-c9c30061.js","./_nodeUtil-legacy-acbb75ec.js"],(function(e,t){"use strict";var a,n,r,o,l,i,s,c,d,u,p,m,f,v,g,h,y,b,x,k,I,O,A,L,C,w,P,T,j,_,E,S,V,D,R,N,H,F,B,z,U,q,M,G,$,Q,J,W,Y,Z,K,X,ee,te,ae,ne,re,oe,le,ie,se,ce,de,ue,pe,me,fe,ve,ge,he,ye,be,xe,ke,Ie,Oe,Ae,Le;return{setters:[function(e){a=e._,n=e.d,r=e.S,o=e.E,l=e.c,i=e.h,s=e.f,c=e.w,d=e.F,u=e.i,p=e.g,m=e.e,f=e.n,v=e.t,g=e.V,h=e.L,y=e.k,b=e.m,x=e.ap,k=e.au,I=e.X,O=e.Y,A=e.j,L=e.bY,C=e.bZ,w=e.bp,P=e.r,T=e.bt,j=e.c7,_=e.bk,E=e.I,S=e.a,V=e.an,D=e.c8,R=e.b_,N=e.u,H=e.J,F=e.b3,B=e.a9,z=e.aE,U=e.H,q=e.ah,M=e.G,G=e.bR,$=e.a7,Q=e.T,J=e.aj,W=e.c0,Y=e.c9,Z=e.bT,K=e.c1},function(e){X=e.d},function(e){ee=e.i,te=e.b,ae=e.p,ne=e.g},function(e){re=e.b},function(e){oe=e.n},function(e){le=e.g,ie=e.C,se=e.I,ce=e.O,de=e.l,ue=e.S},function(e){pe=e.u,me=e.P},function(e){fe=e.v,ve=e.g,ge=e.r,he=e.t},function(e){ye=e.v},function(e){be=e.B},function(e){xe=e.s,ke=e.c},function(e){Ie=e.default},function(e){Oe=e.c,Ae=e.t,Le=e._},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const Ce={class:"refueling-package-com"},we=(e=>(I("data-v-7e34c868"),e=e(),O(),e))((()=>A("div",{class:"title"},"加油包",-1))),Pe=n({__name:"index",props:{packageProductList:{type:Array,default:()=>[]},isShowClose:{type:Boolean,default:!1},count:{type:Number,default:3}},setup(e){const t=e,[a,n]=r(!1),I=o((()=>t.packageProductList.length>t.count&&(!!t.isShowClose||!a.value))),O=()=>{n()},A=o((()=>t.packageProductList.length<=t.count||a.value?t.packageProductList:t.packageProductList.slice(0,t.count)));return(e,t)=>{const n=b,r=x,o=k;return l(),i("div",Ce,[we,s(o,{ref:"formRef"},{default:c((()=>[(l(!0),i(d,null,u(p(A),((e,t)=>(l(),m(r,{key:`${e.value}_${t}`,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:e.packageName,required:"",placeholder:"请选择"},{input:c((()=>[s(n,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,options:p(le),disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])])),_:2},1032,["modelValue","onUpdate:modelValue","label"])))),128)),p(I)?(l(),i("div",{key:0,class:"show-more",onClick:O},[f(v(p(a)?"收起":"查看更多")+" ",1),s(g,{name:"down",class:h(["icon",{showMore:p(a)}])},null,8,["class"])])):y("",!0)])),_:1},512)])}}});var Te=a(Pe,[["__scopeId","data-v-7e34c868"]]);const je={class:"spec"},_e={key:1,class:"spec"};var Ee=a(n({__name:"index",props:{dataSource:{default:()=>({spec:[],settlementProcessVO:{},questionList:[]})}},setup(e,{expose:a}){const n=e,r=L((()=>C((()=>t.import("./index-legacy-a5e5a4bc.js").then((function(e){return e.cG}))),void 0))),f=L((()=>C((()=>t.import("./index-legacy-2a5ae6cb.js")),void 0))),v=L((()=>C((()=>t.import("./index-legacy-a5e5a4bc.js").then((function(e){return e.cE}))),void 0))),h=L((()=>C((()=>t.import("./index-legacy-e0f951c0.js")),void 0))),b=L((()=>C((()=>t.import("./index-legacy-8608d4f5.js")),void 0))),{dataSource:x}=w(n),k=P(),I=P([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),O=o((()=>x.value.spec&&x.value.spec.length>0)),S=o((()=>{var e,t,a,n;const r=x.value.settlementProcessVO.settlementProcessType;return!!(r===ie.WORD&&null!==(e=x.value.settlementProcessVO)&&void 0!==e&&e.settlementProcessList&&(null===(t=x.value.settlementProcessVO)||void 0===t?void 0:t.settlementProcessList.length)>0||r===ie.IMAGE&&null!==(a=x.value.settlementProcessVO)&&void 0!==a&&a.settlementProcessPicList&&(null===(n=x.value.settlementProcessVO)||void 0===n?void 0:n.settlementProcessPicList.length)>0)})),V=o((()=>x.value.questionList&&x.value.questionList.length>0)),D=o((()=>{let e=[...I.value];return O.value||(e=e.filter((e=>"tab1"!==e.slotName))),S.value||V.value||(e=e.filter((e=>"tab2"!==e.slotName))),e}));return a({handleClickTab:()=>{var e;return null===(e=k.value)||void 0===e?void 0:e.handleClickTab}}),(e,t)=>{const a=E,n=g;return l(),m(p(r),{ref_key:"scrollRef",ref:k,class:"tabs",list:p(D),sticky:"",scrollspy:""},T({tab3:c((()=>[_(e.$slots,"form",{},void 0,!0)])),_:2},[p(O)?{name:"tab1",fn:c((()=>[A("div",je,[(l(!0),i(d,null,u(p(x).spec||[],((e,t)=>(l(),m(j,{key:t},{fallback:c((()=>[s(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:c((()=>[(l(),m(a,{key:t,class:"detail-img",width:"100%",src:e},null,8,["src"]))])),_:2},1024)))),128)),s(p(v))])])),key:"0"}:void 0,p(S)||p(V)?{name:"tab2",fn:c((()=>{var e;return[p(S)?(l(),i(d,{key:0},[(null===(e=p(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessType)===p(ie).WORD?(l(),m(p(h),{key:0,title:"理赔说明"},{default:c((()=>{var e;return[s(p(f),{list:null===(e=p(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessList},null,8,["list"])]})),_:1})):(l(),i("div",_e,[(l(),m(j,null,{fallback:c((()=>[s(n,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:c((()=>{var e;return[(l(!0),i(d,null,u((null===(e=p(x).settlementProcessVO)||void 0===e?void 0:e.settlementProcessPicList)||[],((e,t)=>(l(),m(a,{key:t,width:"100%",src:e,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),s(p(v))],64)):y("",!0),p(V)?(l(),i(d,{key:1},[s(p(h),{title:"常见问题"},{default:c((()=>[s(p(b),{list:p(x).questionList},null,8,["list"])])),_:1}),s(p(v))],64)):y("",!0)]})),key:"1"}:void 0]),1032,["list"])}}}),[["__scopeId","data-v-cbff6950"]]);const Se={class:"trial-button-wrap"},Ve={class:"footer-area"},De={class:"price"},Re={key:0},Ne=n({__name:"TrialButton",props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:""},loadingText:{default:""}},emits:["onClick"],setup(e,{emit:t}){const a=e,n=P(""),r=P("");return V([()=>a.premium,()=>a.tenantProductDetail,()=>a.planCode],(([e])=>{var t,o,l;const{tenantProductInsureVO:i}=a.tenantProductDetail||{};let s={};s=null!=i&&null!==(t=i.planList)&&void 0!==t&&t.length?((null==i?void 0:i.planList)||[]).find((e=>e.planCode===a.planCode)):null==i?void 0:i.planInsureVO;const{paymentFrequencyValue:c,premiumUnit:d,actualPremiumUnit:u}=(null===(o=s)||void 0===o||null===(l=o.productPremiumVOList)||void 0===l?void 0:l[0])||{};e?(r.value=u,n.value=e&&`${e}`):(r.value=d,n.value=c&&`${c}`)}),{deep:!0,immediate:!0}),(a,o)=>(l(),i("div",Se,[A("div",Ve,[A("div",De,[e.loadingText?(l(),i("span",Re,v(e.loadingText),1)):(l(),i(d,{key:1},[A("span",null,v(p(n)),1),A("span",null,v(p(r)),1)],64))]),s(Ie,{shadow:!1,class:"right",onClick:o[0]||(o[0]=e=>t("onClick"))},{default:c((()=>[_(a.$slots,"default",{},(()=>[f("立即投保")]))])),_:3})])]))}});const He=e=>(I("data-v-2ecf641a"),e=e(),O(),e),Fe={key:0},Be=[He((()=>A("div",{class:"__skeleton_short_content__"},[A("div",{class:"van-config-provider sk",style:{"--van-primary-color":"#0d6efe","--van-primary-color-light8":"#0d6efe80","--van-primary-color-light1":"#0d6efe10","--van-primary-color-light2":"#0d6efe20","--van-danger-color":"#FF3C10","--van-primary-background-color":"#0d6efe20","--van-button-primary-background-color":"#0d6efe","--van-button-primary-border-color":"#0d6efe","--van-checkbox-checked-bg-color":"#0d6efe10","--van-switch-on-background-color":"#0d6efe","--van-toast-default-padding":"14px","--van-linear-bg":"linear-gradient(to right, #0d6efe, rgba(13,150,254,1))","--van-popup-close-icon-margin":"20px","--van-popup-round-border-radius":"20px","--van-card-title":"#0d6efe","--van-card-cell-color":"#0d6efe80","--van-radio-checked-icon-color":"#0d6efe","--van-pro-check-radius":"40px"}},[A("div",{class:"page-internet-product-detail"},[A("div",{class:"info"},[A("div",{class:"van-image banner",style:{width:"100%",height:"223px"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[A("img",{class:"van-image__img","data-src":"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/common/20221222/e3719801cf6546449e18e06f3bbe8416/%E5%B0%8A%E4%BA%ABe%E7%94%9F.png?Expires=1676527379&OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Signature=tkscLe6oOZYjnRIA%2B7AiMS3bOs0%3D",src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lazy:"loaded",style:{background:"rgb(238, 238, 238)"}})]),A("div")]),A("div",{class:"guarantee-list"},[A("div",{class:"header"},[A("span",null,[A("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"保障计划")]),A("span",null,[A("span",{class:"sk-text",style:{"--fp":"14.86%","--sp":"85.14%","--lh":"18.4999px"}},"查看详情")])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"一般医疗保险金")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高300万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"重大疾病医疗保险金")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤质子重离子医疗")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤院外特定药品费用医疗")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高600万")])])]),A("div",{class:"common-cell-wrapper com-cell-wrapper guarantee-item"},[A("div",{class:"cell-container"},[A("div",{class:"left-part large"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"恶性肿瘤特定器械耗材费用医疗责任 （适用于女性被保险人）")]),A("div",{class:"divider"}),A("div",{class:"right-part"},[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"最高100万")])])]),A("div",{class:"show-more"},[A("span",{class:"sk-text",style:{"--fp":"14.29%","--sp":"85.71%","--lh":"16.799999999999997px"}},"查看更多 "),A("svg",{class:"svg-icon icon-arrow-down-dobule icon icon"},[A("use",{"xlink:href":"#icon-arrow-down-dobule"})])]),A("div",{class:"feerate-view sk-border"},[A("span",null,[A("span",{class:"sk-text",style:{"--fp":"15.00%","--sp":"85.00%","--lh":"19.9999px"}},"142.00元/年起")])])]),A("div",{class:"com-divider"}),A("div",{class:"tabs",sticky:"",scrollspy:""},[A("div",null,[A("div",{class:"van-sticky"},[A("div",{class:"van-tabs"},[A("div",{id:"tab-list",class:"tab-list"},[A("a",{class:"tab-title active",title:"产品亮点"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"产品亮点")]),A("a",{class:"tab-title",title:"理赔说明"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"理赔说明")]),A("a",{class:"tab-title",title:"我要投保"},[A("span",{class:"sk-text",style:{"--fp":"31.82%","--sp":"68.18%","--lh":"43.9999px"}},"我要投保")])])])])]),A("div",{class:"tab-content"},[A("div",{id:"tab1"},[A("div",{class:"spec"},[A("div",{class:"van-image detail-img",style:{width:"100%"}},[A("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"van-image__img",style:{background:"rgb(238, 238, 238)"}})])])])])])])])],-1)))],ze={class:"page-internet-product-detail"},Ue={class:"info"},qe={class:"custom-page-form"},Me=He((()=>A("div",{class:"form-title"},"请填写投保信息",-1))),Ge=He((()=>A("div",{id:"xinaoDialog"},null,-1)));e("default",a(n({__name:"short",setup(e){var a;D(),L((()=>C((()=>t.import("./index-legacy-3a62c2cc.js")),void 0)));const n=L((()=>C((()=>t.import("./index-legacy-af2f53cf.js")),void 0))),r=L((()=>C((()=>t.import("./index-legacy-5de457ee.js")),void 0)));L((()=>C((()=>t.import("./index-legacy-3ac15310.js")),void 0))),L((()=>C((()=>t.import("./index-legacy-0dd6cfe6.js")),void 0))),L((()=>C((()=>t.import("./index-legacy-d4bdb20c.js")),void 0))),L((()=>C((()=>t.import("./index-legacy-554d269b.js")),void 0))),L((()=>C((()=>t.import("./index-legacy-c09c4229.js")),void 0)));const v=R();N();const g=S(),{productCode:h="",tenantId:b,agentCode:x="",agencyCode:k,saleChannelId:I,extraInfo:O,insurerCode:w,preview:T}=g.query;let j={};try{console.log("extInfo",decodeURIComponent(O)),j=JSON.parse(decodeURIComponent(O))}catch(kt){}const{openId:_}=j;P();const E=P(),le=P(),ie=P(!1),Ie=P({}),Ce=P({}),we=P(!1),Pe=P(!1),je=P(0),_e=P(!1),Se=P({}),Ve=P({}),De=P(!0),Re=P(!0),He=P(!0),$e=P(""),Qe=P([]);P({});const Je=P({}),We=P({}),Ye=P([]),Ze=P(),Ke=P(),Xe=H({holder:{formData:{},schema:[],trialFactorCodes:[],config:{name:{},verificationCode:{sendSMSCode:async({mobile:e},t)=>{const a=await xe(e),{code:n}=a;"10000"===n&&"function"==typeof t&&t()}},certType:{},certNo:{label:"身份证号"},occupation:{dictCode:Oe(w)}}},insuredList:[{formData:{},schema:[],trialFactorCodes:[],config:{relationToHolder:{label:""},certNo:{label:"身份证号"}}}]});_&&pe({openId:_},(e=>{Ve.value=e})),P({imgUrl:"",desc:"",title:"",link:window.location.href});const et=(e=>{const{tenantId:t,agentCode:a="",agencyCode:n,saleChannelId:r,extraInfo:o,insurerCode:l}=S().query;let i={};try{i=JSON.parse(decodeURIComponent(o))}catch(kt){}const s=P({agencyId:n,commencementTime:"",expiryDate:"",extInfo:{buttonCode:"",pageCode:"",iseeBizNo:"",extraInfo:{}},orderCategory:1,saleUserId:a,saleChannelId:r,tenantId:t,venderCode:l,tenantOrderHolder:{extInfo:{occupationCodeList:[]}},tenantOrderInsuredList:[{relationToHolder:"1",extInfo:{occupationCodeList:[]},tenantOrderBeneficiaryList:[{extInfo:{}}],tenantOrderProductList:[{}]}],tenantOrderSubjectList:[{extInfo:{subjectRelatedFirm:"",subjectRelatedUserId:""},subjectName:"",subjectObjectType:"HOLDER",subjectType:"GENERAL",subjectNo:"",tenantId:t}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}});return"[object Object]"==={}.toString.call(e)&&Object.assign(s.value,e),s})({extInfo:{buttonCode:"EVENT_SHORT_saveOrder",pageCode:"productInfo",extraInfo:j,templateId:(null===(a=j)||void 0===a?void 0:a.templateId)||"1",iseeBizNo:""}}),tt=P({}),at=o((()=>!!T)),nt=P([]),rt=async()=>{await ee({productCode:h}).then((({data:e,code:t})=>{var a;"10000"===t&&(_e.value=!0,Ce.value=e,Je.value=null===(a=e.productPlanInsureVOList)||void 0===a?void 0:a[0],Ye.value=(e.productPlanInsureVOList||[]).filter((e=>e.planCode)).map((e=>({planName:e.planName,planCode:e.planCode}))))})),He.value=!1,re({productCode:h}).then((({code:e,data:t})=>{if("10000"===e){var a,n,r,o;const{productInsureMaterialVOList:e,productQuestionnaireVOList:l}=t,{basicInfo:{questionnaireType:i},questions:s,questionnaireName:c}=(null==l||null===(a=l[0])||void 0===a?void 0:a.questionnaireDetailResponseVO)||{basicInfo:{}};2===i&&(nt.value=[{attachmentName:c,attachmentUri:s,attachmentType:"question"}]),nt.value=[{attachmentName:c,attachmentUri:null==s||null===(n=s[0])||void 0===n?void 0:n.content,attachmentType:ve(String(null==s||null===(r=s[0])||void 0===r?void 0:r.textType),null==s||null===(o=s[0])||void 0===o?void 0:o.content)}]}}))},ot=o((()=>{if(Ve.value){const e=[];return Object.keys(Ve.value).forEach((t=>{e.push(...Ve.value[t])})),e}return[]})),lt=o((()=>ot.value.length>0)),it=P([]),st=e=>{Je.value=(Ce.value.productPlanInsureVOList||[]).find((t=>t.planCode===e))},ct=()=>{E.value.handleClickTab()("tab3")};P([]);const dt=P([]),ut=async()=>{try{await oe(((e={},t={},a={})=>{var n;const r={...a},o={tenantId:b,riskList:(null===(n=r.tenantOrderInsuredList[0])||void 0===n?void 0:n.tenantOrderProductList[0].riskVOList)||[],riskPremium:t,productId:e.id};return r.extInfo.iseeBizNo=$e.value,r.productCode=e.productCode,r.commencementTime=r.insuranceStartDate,r.expiryDate=r.insuranceEndDate,r.tenantOrderHolder={...r.tenantOrderHolder,certType:r.tenantOrderHolder.certType||q.CERT,certNo:(r.tenantOrderHolder.certNo||"").toLocaleUpperCase(),extInfo:{...r.tenantOrderHolder.extInfo}},r.tenantOrderInsuredList=r.tenantOrderInsuredList.map((e=>({...e,certType:e.certType||q.CERT,certNo:(e.certNo||"").toLocaleUpperCase(),planCode:Je.value.planCode,extInfo:{...e.extInfo}}))),r.tenantOrderInsuredList[0].tenantOrderProductList[0]={productCode:e.productCode,productName:e.productName,planCode:Je.value.planCode,tenantOrderRiskList:he(o)},r})(Ce.value,Se.value,et.value),(async(e,t)=>{t===K.JUMP_PAGE&&null!=e&&e.orderNo&&await(async e=>{try{const{code:t,data:a}=await ne({orderNo:e,tenantId:b});"10000"===t&&(a.extInfo={...a.extInfo,buttonCode:"EVENT_SHORT_underWrite"},await oe(a))}catch(kt){}})(null==e?void 0:e.orderNo)}))}catch(kt){}},pt=P(""),mt=P(0),ft=async(e,t,a,n=!0)=>{var r;const{chargePeriod:o,coveragePeriod:l,paymentFrequency:i,insuranceEndDate:s,insuranceStartDate:c}=tt.value;pt.value="保费试算中...";const d=ge(a).map((e=>({...e,paymentFrequency:i,chargePeriod:o,coveragePeriod:l}))),u={tenantId:b,productCode:t.productCode,insuranceStartDate:c,insuranceEndDate:s,holder:{personVO:{...e.tenantOrderHolder,socialFlag:null===(r=e.tenantOrderHolder.extInfo)||void 0===r?void 0:r.hasSocialInsurance,certType:e.tenantOrderHolder.certType||q.CERT}},insuredVOList:e.tenantOrderInsuredList.map((e=>({insuredCode:"",relationToHolder:e.relationToHolder,personVO:{...e,socialFlag:e.extInfo.hasSocialInsurance,certType:e.certType||q.CERT},productPlanVOList:[{insurerCode:w,planCode:Je.value.planCode,riskVOList:d}]})))},{code:p,message:m}=await te(u);if("10000"===p){const{code:e,data:t}=await ae(u);if("10000"===e){if(pt.value="",et.value.tenantOrderInsuredList[0].tenantOrderProductList=u.insuredVOList[0].productPlanVOList,mt.value=null==t?void 0:t.premium,et.value.premium=t.premium,et.value.orderAmount=t.premium,et.value.orderRealAmount=t.premium,!n){const e={};t.riskPremiumDetailVOList&&t.riskPremiumDetailVOList.length&&t.riskPremiumDetailVOList.forEach((t=>{e[t.riskCode]={premium:t.premium,amount:t.amount}})),Se.value=e,dt.value.length>0?(De.value=!1,f=0,je.value=f,Pe.value=!0):nt.value.length>0?we.value=!0:await ut()}}else pt.value=""}else pt.value="",Q(m);var f},vt=()=>{const e=[];return Qe.value.filter((e=>e.value===se.INSURE)).forEach((t=>{e.push(...t.productRiskVoList)})),e},gt=async()=>{if(console.log(11111111,Ke.value),mt.value)ut();else try{we.value=!1,Pe.value=!1,Ze.value&&Ze.value.validate().then((async()=>{if(lt.value)await ft(et.value,Ce.value,[...it.value,...vt()],!1);else{var e;const t=null===(e=et.value.tenantOrderHolder)||void 0===e?void 0:e.verificationCode;if(!fe(t))return void Q({message:"请输入正确的验证码"});const{code:a,data:n}=await ke(et.value.tenantOrderHolder.mobile,t);"10000"===a&&await ft(et.value,Ce.value,[...it.value,...vt()],!1)}})).catch((()=>{const e=document.querySelector(".form-title");e&&e.scrollIntoView()}))}catch(e){}},ht=e=>{"allFalse"===e?(we.value=!1,ut()):J.confirm({className:"xinao-custom-dialog",title:"提示",teleport:"#xinaoDialog",message:"被保人不符合健康要求，很抱歉暂时无法投保该产品",confirmButtonText:"选错了",cancelButtonText:"为其他人投保"}).then((()=>{})).catch((()=>{we.value=!1}))},yt=()=>{we.value=!1,Pe.value=!1,De.value=!0};V((()=>et.value.tenantOrderInsuredList[0].relationToHolder),(()=>{Qe.value&&Qe.value.forEach((e=>{e.value=se.UN_INSURE})),Re.value=!1,F((()=>{const{certType:e,extInfo:t}=et.value.tenantOrderInsuredList[0];t&&!t.hasSocialInsurance&&(et.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance=ue.HAS),Re.value=!0}))}),{deep:!0,immediate:!0}),V([()=>Xe.holder.formData,()=>Xe.insuredList],(([e,t])=>{Object.assign(et.value,(({holder:e,insuredList:t=[]})=>{const a=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured"],n=e=>{const t={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{a.includes(n)?t[n]=e[n]:t.extInfo[n]=e[n]})),t};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(t||[]).map((e=>n(e)))}})({holder:e,insuredList:t.map((e=>e.formData))}))}),{deep:!0});const bt=()=>{const{name:e,birthday:t,gender:a,certType:n,extInfo:{hasSocialInsurance:r}}=et.value.tenantOrderInsuredList[0];return!!(t&&a&&et.value.paymentFrequency&&e&&ye(e)&&r)},xt=()=>{bt()&&(pt.value="保费试算中...")};return V([()=>Je.value,()=>tt.value.paymentFrequency],(()=>{xt()}),{deep:!0,immediate:!0}),V((()=>[...Xe.holder.trialFactorCodes.map((e=>Xe.holder.formData[e])),...Xe.insuredList.reduce(((e,t,a)=>(e.push(...t.trialFactorCodes.map((e=>Xe.insuredList[a].formData[e]))),e)),[])]),((...e)=>{console.log(999999,e),console.log("%c🔥 试算因子变动了","color:#1989fa;background:#5e4;padding:3px 5px;")}),{deep:!0,immediate:!0}),V([()=>et.value.tenantOrderInsuredList[0].birthday,()=>et.value.tenantOrderInsuredList[0].name,()=>et.value.tenantOrderInsuredList[0].gender,()=>et.value.tenantOrderInsuredList[0].extInfo.hasSocialInsurance,()=>et.value.activePlanCode,()=>et.value.paymentFrequency,()=>et.value.insurancePeriodValue,()=>Qe.value],X((()=>{if(bt()){if(at.value)return;ft(et.value,Ce.value,[...it.value,...vt()])}else xt()}),500),{deep:!0}),V((()=>Xe.holder.formData),((...e)=>{console.log("%c🔥 投保人信息变动了","color:#1989fa;background:#5e4;padding:3px 5px;"),Xe.insuredList.forEach(((e,t)=>{const{formData:a,schema:n}=e||{};"1"===a.relationToHolder&&Object.assign(e.formData,Xe.holder.formData)}))}),{deep:!0,immediate:!0}),V((()=>Je.value),(()=>{let{productFactor:e}=Je.value;const{oilPackageProductVOList:t,planCode:a,insureProductRiskVOList:n}=Je.value;lt.value&&e[1]&&(e=e[1].filter((e=>"verificationCode"!==e.code))),tt.value.planCode=a,it.value=n,We.value=(n||[]).find((e=>e.mainRiskFlag===B.YES)),console.log("mainRiskInfo.value",We.value),Qe.value=(t||[]).map((e=>({...e,value:se.UN_INSURE})));const[r,o,l]=Ae(e);Xe.holder={...Xe.holder,...r},Xe.insuredList[0]={...Xe.insuredList[0],...o}}),{deep:!0,immediate:!0}),V((()=>Xe.insuredList.map(((e,t)=>Xe.insuredList[t].formData.relationToHolder))),((e,t)=>{console.log("%c🔥 与投保人关系变动了","color:#1989fa;background:#5e4;padding:3px 5px;"),Xe.insuredList.forEach(((e,t)=>{const{formData:a,schema:n,config:r}=e||{},o="1"===a.relationToHolder,l="3"===a.relationToHolder;r.certNo.label="身份证号"+(l?"(户口簿)":""),e.schema.forEach((e=>{e.relationToHolder=a.relationToHolder,e.hidden=!e.isSelfInsuredNeed&&o})),o?Object.assign(e.formData,{...Xe.insuredList[t].formData,...Xe.holder.formData}):Object.assign(e.formData,{...Object.keys(e.formData).reduce(((e,t)=>(e[t]="",e)),{}),relationToHolder:a.relationToHolder})}))}),{immediate:!0,deep:!0}),F((()=>{W(le,(([{isIntersecting:e}],t)=>{ie.value=!e}))})),z((()=>{const e=U.get(ce);if(e){const{tenantOrderHolder:a,tenantOrderInsuredList:n}=e;if(a&&(et.value.tenantOrderHolder={...a,certType:a.certType||q.CERT}),Array(n)&&n[0]){const e=n[0]||{};if(et.value.activePlanCode=e.planCode,e.tenantOrderProductListtenantOrderProductList&&e.tenantOrderProductList[0]&&e.tenantOrderProductList[0].tenantOrderRiskList){var t;const a=null===(t=e.tenantOrderProductList[0].tenantOrderRiskList)||void 0===t?void 0:t.find((e=>"1"===String(e.riskType)));a&&(et.value.paymentFrequency=null!=a&&a.paymentFrequency?String(null==a?void 0:a.paymentFrequency):de.SINGLE)}}}})),M((()=>{He.value=!0,rt(),setTimeout((async()=>{$e.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),G((()=>{U.remove(ce)})),(e,t)=>{const a=Y,o=Z;return l(),i(d,null,[p(He)?(l(),i("div",Fe,Be)):(l(),m(o,{key:1,"data-skeleton-root":"SHORT","theme-vars":p(v)},{default:c((()=>{var e,t,n,o,v,g;return[A("div",ze,[A("div",Ue,[s(be,{"data-skeleton-type":"img",url:null===(e=p(Ie))||void 0===e||null===(t=e.tenantProductInsureVO)||void 0===t?void 0:t.banner[0]},null,8,["url"]),null!==(n=p(Ie))&&void 0!==n&&null!==(o=n.tenantProductInsureVO)&&void 0!==o&&o.bannerMove?(l(),m(be,{key:0,url:null===(v=p(Ie))||void 0===v||null===(g=v.tenantProductInsureVO)||void 0===g?void 0:g.bannerMove[0],onClick:ct},null,8,["url"])):y("",!0),A("div",{ref_key:"observeRef",ref:le},null,512)]),(l(),m(Ee,{key:0,ref:"tenantProductDetailScrollRef","data-source":p(Ie).tenantProductInsureVO},{form:c((()=>[A("div",qe,[Me,s(p(Le),{ref_key:"holderFormRef",ref:Ze,title:"本人信息（投保人）",model:p(Xe).holder.formData,schema:p(Xe).holder.schema,config:p(Xe).holder.config},null,8,["model","schema","config"]),(l(!0),i(d,null,u(p(Xe).insuredList,((e,t)=>(l(),m(p(Le),{ref_for:!0,ref_key:"insuredFormRef",ref:Ke,key:t,title:"为谁投保（被保人）",model:p(Xe).insuredList[t].formData,schema:e.schema,config:e.config},null,8,["model","schema","config"])))),128))]),s(p(r),{"form-info":p(tt),"risk-info":p(We),"tenant-product-detail":p(Ie),"plan-list":p(Ye),"premium-info":{premium:p(mt),premiumLoadingText:p(pt)},onUpdateActivePlan:st},null,8,["form-info","risk-info","tenant-product-detail","plan-list","premium-info"]),p(Qe).length>0?(l(),m(Te,{key:0,"package-product-list":p(Qe)},null,8,["package-product-list"])):y("",!0)])),_:1},8,["data-source"])),s(a),s(a),p(ie)?(l(),m(Ne,{key:1,premium:p(mt),"loading-text":p(pt),"plan-code":p(Je).planCode,"tenant-product-detail":{},onClick:gt},{default:c((()=>[f("立即投保")])),_:1},8,["premium","loading-text","plan-code"])):y("",!0)]),p(_e)?(l(),m(me,{key:0,"product-detail":p(Ie)},null,8,["product-detail"])):y("",!0),Ge]})),_:1},8,["theme-vars"])),s(p(n),{show:p(we),"onUpdate:show":t[0]||(t[0]=e=>$(we)?we.value=e:null),"content-list":p(nt),"active-index":0,onOnConfirmHealth:ht,onOnCloseHealthByMask:yt},null,8,["show","content-list"])],64)}}}),[["__scopeId","data-v-2ecf641a"]]))}}}))}();
