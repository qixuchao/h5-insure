!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.doc-add[data-v-79085360] .van-cell{font-size:.37333rem;padding:.38667rem .4rem;display:flex;align-items:center}.doc-add[data-v-79085360] .van-cell__right-icon{line-height:.66667rem;height:.66667rem;color:#ddd}.doc-add[data-v-79085360] .van-cell-group--inset{margin:0}.doc-add .label[data-v-79085360]{color:#616161}.doc-add .line[data-v-79085360]{display:inline-block;width:.10667rem;height:.37333rem;background:var(--van-primary-color);vertical-align:middle;margin-right:.21333rem}.doc-add input[data-v-79085360]::placeholder{color:#bcbcbc}.doc-add .cell-val[data-v-79085360]{color:#bcbcbc}.doc-add .copy[data-v-79085360]{width:.48rem;vertical-align:sub}.doc-add .star[data-v-79085360]{color:var(--van-primary-color)}.doc-add .value[data-v-79085360]{color:#343434}.doc-add .cheack-val[data-v-79085360]{margin-left:.26667rem}.doc-add .footer[data-v-79085360]{position:absolute;bottom:.53333rem;display:flex;align-items:center;justify-content:space-around;width:100%}.doc-add .footer .btn[data-v-79085360]{width:6.26667rem;height:1.17333rem;background:var(--van-button-primary-background-color);border-radius:.58667rem;font-weight:600}.doc-add .footer .btn1[data-v-79085360]{width:2.66667rem;height:1.17333rem;background:#ffffff;border-radius:.58667rem;border:1px solid #ef4034;color:#ef4034;font-weight:600}.doc-add .footer .btn-enable[data-v-79085360]{width:9.2rem;height:1.17333rem;border:none;border-radius:.58667rem;font-size:.37333rem;font-weight:600;color:#fff}.doc-add .cbox[data-v-79085360]{padding-left:7.06667rem;padding-top:.42667rem}\n',document.head.appendChild(e),System.register(["./vendor-legacy-f56233fa.js","./customer-legacy-fdf59632.js","./useCheckBack-legacy-8b231055.js","./index-legacy-9604cbf9.js","./plugin-vue_export-helper-legacy-57eac467.js"],(function(e){"use strict";var a,l,t,n,o,r,c,i,d,u,s,v,m,f,p,y,b,g,h,k,T,x,w,C,_,Y,q,D,V;return{setters:[function(e){a=e.g,l=e.L,t=e.a0,n=e.Q,o=e.v,r=e.ab,c=e.C,i=e.m,d=e.n,u=e.j,s=e.z,v=e.G,m=e.d,f=e.T,p=e.D,y=e.r,b=e.a5,g=e.k,h=e.y,k=e.I,T=e.a6,x=e.a2,w=e.a3,C=e.B},function(e){_=e.i,Y=e.j},function(e){q=e.u},function(e){D=e.u},function(e){V=e._}],execute:function(){const j=e=>(x("data-v-79085360"),e=e(),w(),e),L={class:"doc-add"},M=j((()=>h("span",{class:"label"},"证件类型",-1))),N=C(),U=j((()=>h("span",{class:"star"},"*",-1))),K={class:"value"},$=C(" 证件号码"),z=j((()=>h("span",{class:"star"},"*",-1))),I=["src"],B={key:0,class:"value"},E={key:1,class:"cell-val"},S={class:"cheack-val"},A=C("长期有效"),F={key:0,class:"footer"},G=C("删除"),H=C("保存"),Q={key:1,class:"footer"},X=C("保存");e("default",V(a({setup(e){const{getIconUrl:a}=D(),x=l({certNo:"",effectiveTime:"",expiryTime:"",forever:"",isLongTerm:!1,name:{label:"身份证",value:"01"},primaryKey:""}),w=t(),C=n();q(x);const V=[{name:"身份证",value:"01"},{name:"护照",value:"07"},{name:"军官证",value:"04"},{name:"港澳通行证",value:"09"},{name:"台湾通行证",value:"11"},{name:"出生证",value:"12"},{name:"其他",value:"99"}],{name:j,certNo:J,effectiveTime:O,expiryTime:P,isLongTerm:R}=o(x);r((()=>{J.value=C.query.certNo,R.value="Y"===C.query.isLongTerm,O.value=C.query.effectiveTime?m(`${C.query.effectiveTime}`).format("YYYY-MM-DD"):"",P.value=C.query.expiryTime?`${C.query.expiryTime}`:"",q(x)}));const W=c(0),Z=c(!1),ee=c(!1),ae=e=>{ee.value||(W.value=e)},le=e=>{1===W.value?O.value=m(e).format("YYYY-MM-DD"):2===W.value&&(P.value=m(e).format("YYYY-MM-DD")),W.value=0},te=e=>{j.value.label=e.name,j.value.value=e.value},ne=e=>{ee.value=e,e&&(P.value="至长期有效"),R.value=e},oe=async()=>{const e=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,a=/^[0-9]*$/;if(!j.value.label||!J.value)return void f("请输入证件号码");if("01"===j.value.value){if(!e.test(J.value))return void f("证件号码有误，请重新输入")}else if(!a.test(J.value))return void f("证件号格式不正确");if(O.value>=P.value)return void f("有效止期日期需晚于有效起期");200===(await _({...C.query,certificate:{certNo:J.value,certType:j.value.value,effectiveTime:O.value,expiryTime:P.value,isLongTerm:R.value?"Y":"N",name:j.value.label,primaryKey:C.query.primaryKey}})).data.status&&(q(),f("保存成功！"),w.back())},re=async()=>{p.confirm({title:"提示",message:"您确认要删除证件信息吗?"}).then((async()=>{await Y({...C.query,certificate:{certNo:J.value,certType:j.value.value,effectiveTime:O.value,expiryTime:P.value,isLongTerm:"string",name:j.value.label,primaryKey:C.query.primaryKey}}),f("删除成功").$nextTick((()=>{q(),w.back()}))}))};return(e,l)=>{const t=y("van-cell"),n=y("van-field"),o=y("van-checkbox"),r=y("van-action-sheet"),c=y("van-datetime-picker"),m=y("van-popup"),p=y("van-cell-group"),x=y("van-button"),w=b("resize");return g(),i("div",L,[d(p,{inset:""},{default:u((()=>[d(t,{"is-link":"",onClick:l[0]||(l[0]=e=>Z.value=!0)},{title:u((()=>[M,N,U])),value:u((()=>[h("span",K,k(s(j).label),1)])),_:1}),d(n,{modelValue:s(J),"onUpdate:modelValue":l[2]||(l[2]=e=>T(J)?J.value=e:null),"label-class":"labe","input-align":"right",placeholder:"请输入证件号码"},{label:u((()=>[$,z])),"right-icon":u((()=>[h("img",{src:s(a)("customer.copy"),class:"copy",onClick:l[1]||(l[1]=e=>(e=>{const a=document.createElement("input");document.body.appendChild(a),a.setAttribute("value",e),a.select(),document.execCommand("copy")&&(document.execCommand("copy"),f("已复制")),document.body.removeChild(a)})(s(J)))},null,8,I)])),_:1},8,["modelValue"]),d(t,{"title-class":"label",title:"有效起期",onClick:l[3]||(l[3]=e=>ae(1))},{value:u((()=>[s(O)?(g(),i("span",B,k(s(O)),1)):(g(),i("span",E," 请输入有效起期"))])),_:1}),d(t,{modelValue:s(P),"onUpdate:modelValue":l[7]||(l[7]=e=>T(P)?P.value=e:null),title:"有效止期","title-class":"label"},{value:u((()=>[s(P)?(g(),i("span",{key:0,class:"value",onClick:l[4]||(l[4]=e=>ae(2))},k(s(P)),1)):(g(),i("span",{key:1,class:"cell-val",onClick:l[5]||(l[5]=e=>ae(2))},"请输入有效止期"))])),"right-icon":u((()=>[h("span",S,[d(o,{modelValue:s(R),"onUpdate:modelValue":l[6]||(l[6]=e=>T(R)?R.value=e:null),name:"1",onChange:ne},{default:u((()=>[A])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"]),d(r,{show:Z.value,"onUpdate:show":l[8]||(l[8]=e=>Z.value=e),actions:V,"close-on-click-action":"","cancel-text":"取消",onSelect:te},null,8,["show"]),d(m,{show:W.value>0,position:"bottom",style:{height:"40%"}},{default:u((()=>[d(c,{type:"date",title:"选择年月日","min-date":new Date(1900,0,1),"max-date":new Date(2050,10,1),onConfirm:le,onCancel:l[9]||(l[9]=e=>W.value=0)},null,8,["min-date","max-date"])])),_:1},8,["show"])])),_:1}),s(C).query.certNo?v((g(),i("div",F,[d(x,{plain:"",type:"primary",class:"btn1",onClick:re},{default:u((()=>[G])),_:1}),d(x,{type:"primary",class:"btn",onClick:oe},{default:u((()=>[H])),_:1})])),[[w]]):v((g(),i("div",Q,[d(x,{type:"primary",class:"btn-enable",onClick:oe},{default:u((()=>[X])),_:1})])),[[w]])])}}}),[["__scopeId","data-v-79085360"]]))}}}))}();
