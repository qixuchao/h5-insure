import{_ as e,d as a,bB as t,aJ as s,af as r,i as n,h as u,aX as o,k as l,aB as d,bY as i,j as c,l as p,o as m,c as y,a as _,u as f,e as v,b as I,w as h,v as w,p as b,q,y as g,f as N,bZ as k,b_ as C,aI as R,b$ as E,c0 as L,c1 as S,c2 as T}from"./index-6005e057.js";import{c as A}from"./order-23965c25.js";const D={class:"page-underwrite-result-wrap"},$={class:"result-content"},F=["src"],U={class:"result-status"},x={class:"result-desc"},B={key:0,class:"operate-btn"},W={key:1,class:"operate-btn"},j={class:"dialog-content"},G=a({name:"underwriteResult"});var V=e(a({...G,setup(e){var a,G;const V={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(G=s.get(`${r}_underwriteResult`))?void 0:G[t.UNDER_WRITE_FAIL]}},z=n(),Y=u(),{orderNo:J,tenantId:X,underwriteStatus:Z,productClass:H}=z.query,K=o.Component,M=l((()=>H===`${d.YES}`)),[O,P]=i(!1),Q=c(),ee=async()=>{if(M.value)return void Y.push({path:g.orderList,query:{...z.query}});const{code:e,data:a}=await k({orderNo:J,tenantId:X});"10000"===e&&a&&(delete z.query.orderNo,Y.push({path:g.orderList,query:{...z.query}}))},ae=()=>{P(!0)},te=()=>{C({messageType:T.AGENT,orderNo:J,tenantId:X}).then((({code:e})=>{"10000"===e&&Y.push({path:g.sign,query:z.query})}))},se=()=>{A({orderNo:J,tenantId:X}).then((({code:e,data:a})=>{"10000"===e&&(delete z.query.orderNo,Y.push({path:g.productList,query:z.query}))}))},re=()=>{var e;e=()=>{P(!1),Y.push({path:Q.value,query:z.query})},S({orderNo:J,tenantId:X}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},ne=()=>{P(!1),se()},ue=c();return p((()=>{setTimeout((async()=>{ue.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const s=R,r=E,n=L;return m(),y("div",D,[_("div",$,[_("img",{class:"underWrite-img",src:f("/static/png/underwriting-sign-3be7d12d.png")},null,8,F),_("p",U,v(V[`${f(Z)}`].resultStatus),1),_("p",x,v(V[`${f(Z)}`].resultDesc),1),f(Z)!==f(t).UNDER_WRITE_FAIL||f(M)?(m(),y("div",W,[I(s,{type:"primary",onClick:ee},{default:h((()=>[w("确定")])),_:1})])):(m(),y("div",B,[I(s,{type:"primary",plain:"",onClick:ae},{default:h((()=>[w("返回修改")])),_:1}),I(s,{type:"primary",onClick:te},{default:h((()=>[w("继续投保")])),_:1}),I(s,{class:"no-border",onClick:se},{default:h((()=>[w("放弃投保")])),_:1})]))]),f(O)?(m(),b(f(K),{key:0,show:f(O),"onUpdate:show":a[1]||(a[1]=e=>q(O)?O.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!f(Q),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:re,onCancel:ne},{default:h((()=>[_("div",j,[I(n,{modelValue:f(Q),"onUpdate:modelValue":a[0]||(a[0]=e=>q(Q)?Q.value=e:null)},{default:h((()=>[I(r,{name:f(g).premiumTrial},{default:h((()=>[w("保费试算页")])),_:1},8,["name"]),I(r,{name:f(g).questionNotice},{default:h((()=>[w("健康告知页")])),_:1},8,["name"]),I(r,{name:f(g).infoCollection},{default:h((()=>[w("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):N("",!0)])}}}),[["__scopeId","data-v-3cd00690"]]);export{V as default};
