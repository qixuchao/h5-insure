import{d as e,r as a,aR as t,Q as n,c as r,y as s,f as l,g as i,e as o,w as d,i as c,aw as u,h as p,z as f,R as m,k as y,j as h,a9 as v,aS as x}from"./index-000b7445.js";import{P as C}from"./index-032964ce.js";import"./infoCollection-048f5375.js";import"./trial-8fc2f293.js";const b={class:"trial-button-wrap"},g={class:"footer-area"},j=l("span",null,"分享",-1),k={class:"price"},I={key:0},T=e({name:"trialButton"}),E=e({...T,props:{premium:{default:0},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1}},emits:["handleClick"],setup(e,{emit:T}){const E=e,D=a(""),O=a(""),P=t();return n([()=>E.premium,()=>E.tenantProductDetail,()=>E.paymentFrequency,()=>E.planCode],(([e])=>{const{PREMIUM:a=[]}=E.tenantProductDetail||{};let t={};if(null==a?void 0:a.length){t=(a||[]).find((e=>e.planCode===E.planCode||!e.planCode))||{};const n=((null==t?void 0:t.data)||[]).find((e=>e.paymentFrequency===E.paymentFrequency)),{premium:r,minActualUnit:s}=n||{};e?(O.value=s,D.value=e&&`${e}`):(O.value=r,D.value="")}else e&&(O.value="",D.value=e&&`${e}`)}),{deep:!0,immediate:!0}),(a,t)=>{const n=v,E=x;return r(),s("div",b,[l("div",g,[e.isShare&&i(P)?(r(),o(E,u({key:0},e.shareInfo,{class:"share-btn"}),{default:d((()=>[c(n,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),j])),_:1},16)):p("",!0),l("div",k,[e.loadingText?(r(),s("span",I,f(e.loadingText),1)):(r(),s(m,{key:1},[l("span",null,f(i(D)),1),l("span",null,f(i(O)),1)],64))]),c(C,{shadow:!1,class:"right",onClick:t[0]||(t[0]=e=>T("handleClick"))},{default:d((()=>[y(a.$slots,"default",{},(()=>[h("立即投保")]))])),_:3})])])}}}),D=({holder:e,insuredList:a=[]})=>{const t=["birthday","certEndDate","certEndType","certNo","certStartDate","verificationCode","certType","email","gender","mobile","name","id","insuredBeneficiaryType","relationToHolder","relationToMainInsured","tenantOrderBeneficiaryList","extInfo"],n=e=>{const a={extInfo:{}};return"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((n=>{t.includes(n)?a[n]=e[n]:a.extInfo[n]=e[n]})),a};return{tenantOrderHolder:n(e),tenantOrderInsuredList:(a||[]).map((e=>n(e)))}};export{E as _,D as f};
