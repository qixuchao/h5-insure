!function(){var e=document.createElement("style");e.innerHTML=".pro-modal .pro-overlay[data-v-a6bc1804]{position:fixed;top:0;left:0;z-index:99;width:100%;height:100%;background:var(--van-overlay-background-color)}.pro-modal .pro-modal-wrapper[data-v-a6bc1804]{position:fixed;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:1.2rem;text-align:center}.pro-modal .pro-modal-wrapper .pro-modal-body[data-v-a6bc1804]{width:100%;height:60%;background:url(/static/assets/upgrade_success.7fcab77e.png) no-repeat;background-size:contain;padding:.4rem}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg[data-v-a6bc1804],.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-body-bg img[data-v-a6bc1804]{width:100%}.pro-modal .pro-modal-wrapper .pro-modal-body .pro-modal-btn[data-v-a6bc1804]{width:5.6rem;height:1.17333rem;background:var(--van-primary-color);border-radius:.58667rem;font-size:.45333rem;font-weight:700;color:#fff;line-height:1.17333rem;text-align:center;margin:auto}.pro-modal .pro-modal-wrapper .pro-modal-content[data-v-a6bc1804]{padding:4.13333rem 0 .8rem;font-size:.4rem;font-weight:500;color:#9f5012;line-height:.61333rem}.pro-modal .pro-modal-wrapper .pro-modal-close[data-v-a6bc1804]{padding:.53333rem}.pro-modal .pro-modal-wrapper .pro-modal-close img[data-v-a6bc1804]{width:.77333rem;height:.77333rem}.health-notice-preview-popup-wrap .tab{height:1.41333rem;position:absolute;top:0;width:100%}.health-notice-preview-popup-wrap .tab .van-tab{padding:0 var(--zaui-card-border, .4rem)}.health-notice-preview-popup-wrap .tab .van-tabs__line{background:var(--van-primary-color)}.health-notice-preview-popup-wrap .list{height:calc(100% - 2.82667rem)}.health-notice-preview-popup-wrap .footer{display:flex;align-items:center;justify-content:center;padding:0 var(--zaui-card-border, .4rem);position:absolute;width:100%;bottom:0;background-color:#fff;z-index:1;padding:.26667rem}.health-notice-preview-popup-wrap .footer .van-button--primary{background:var(--van-primary-color);border-color:var(--van-primary-color);font-size:.32rem}.health-notice-preview-popup-wrap .footer .van-button--plain.van-button--primary{color:var(--van-primary-color);background-color:#fff;margin-left:.4rem}.van-config-provider.router-view{background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%)}.page-activity-invite{height:100%;background:linear-gradient(180deg,#fea64a 0%,#fc7429 88%,#fc6d24 100%)}.page-activity-invite .banner{width:100%}.page-activity-invite .container{padding:.26667rem}.page-activity-invite .container .title{margin:auto;margin-top:-1.6rem;width:calc(100% - .8rem)}.page-activity-invite .container .title img{width:100%}.page-activity-invite .container .main-form{background:url(/static/assets/bg.c7f48ab0.png) no-repeat;background-size:100% 100%;position:relative;padding:1.33333rem 0 .6rem}.page-activity-invite .container .main-form .sms-code{width:2rem;text-align:center;font-size:.4rem;font-weight:500;color:var(--van-primary-color);padding:0;white-space:nowrap}.page-activity-invite .container .main-form .submit{height:1.33333rem;margin-top:.53333rem;margin-bottom:.46667rem;background:url(/static/assets/button.4c281a6e.png) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-invite .container .main-form .check-submit{height:1.33333rem;margin-top:.53333rem;margin-bottom:.46667rem;background:url(/static/assets/button1.50dc65f6.png) no-repeat;background-size:contain;background-position:center;border:none}.page-activity-invite .container .main-form .agree{padding:0 .33333rem;font-size:.37333rem;font-weight:400;color:#666;display:flex;align-items:flex-start}.page-activity-invite .container .main-form .agree .check-wrap{margin-right:.26667rem}.page-activity-invite .container .main-form .tips{padding:.4rem;font-size:.34667rem;font-weight:400;color:#666;line-height:.53333rem;background:#fff}.page-activity-invite .container .main-form .van-cell .van-field__value{align-items:flex-start}.page-activity-invite .van-field__body{width:100%}\n",document.head.appendChild(e),System.register(["./vendor-legacy-2ed1ad67.js","./infoCollection-legacy-463c6cf6.js","./phoneVerify-legacy-8036a433.js","./validator-legacy-70be20af.js","./utils-legacy-c036e98c.js","./index-legacy-80e48757.js","./trial-legacy-d824d13b.js","./product-legacy-360b6903.js","./theme-legacy-0d67cf8b.js","./close-legacy-d9c2a5df.js","./index-legacy-28ef4000.js","./trial-legacy-954d4445.js"],(function(e){"use strict";var a,t,o,n,r,l,i,c,d,s,u,m,p,v,f,h,g,b,y,w,k,I,C,x,_,V,N,z,j,O,U,L,P,S,F,B,D,H,M,E,T,R;return{setters:[function(e){a=e.g,t=e.E,o=e.M,n=e._,r=e.r,l=e.j,i=e.k,c=e.m,d=e.p,s=e.A,u=e.z,m=e.J,p=e.L,v=e.T,f=e.n,h=e.t,g=e.a4,b=e.a5,y=e.y,w=e.C,k=e.O,I=e.a9,C=e.h,x=e.G,_=e.F},function(e){V=e.R},function(e){N=e.s,z=e.c},function(e){j=e.v,O=e.a,U=e.b},function(e){L=e.F,P=e.g},function(e){S=e.G,F=e._},function(e){B=e.g,D=e.m,H=e.i},function(e){M=e.p},function(e){E=e.t},function(e){T=e.c},function(e){R=e._},function(){}],execute:function(){const q=a({props:{isCheck:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>{}}},emits:["on-verify"],setup(e,{emit:a}){var f;const h=e,g=t({}),b=t(!1),y=t(0),w=t("获取验证码"),k=o({mobile:null===(f=h.userInfo)||void 0===f?void 0:f.mobile,smsCode:""}),I=e=>!!j(e)||"请输入正确的手机号",C=async()=>{y.value>0||null==g||g.value.validate("mobile").then((async()=>{const e=await N(k.mobile),{code:a,data:t}=e;"10000"===a&&(b.value=!0,v({message:"短信发送成功，请查收"}),(()=>{if(y.value>0)return;y.value=30;const e=()=>{w.value=`${y.value}s`,y.value-=1};e();const a=setInterval((()=>{0===y.value?(w.value="获取验证码",y.value=0,clearInterval(a)):e()}),1e3)})())}))},x=async()=>{const e=await z(k.mobile,k.smsCode),{data:t}=e;t&&a("on-verify",k)},_=async()=>{null==g||g.value.validate().then((async()=>{x()}))};return n((()=>k),(()=>{j(k.mobile)&&O(k.smsCode)&&b.value&&x()}),{deep:!0,immediate:!0}),(e,a)=>{const t=r("van-field"),o=r("van-cell-group"),n=r("VanForm");return l(),i(n,{ref_key:"formRef",ref:g,"label-width":"80"},{default:c((()=>[d(o,null,{default:c((()=>[d(t,{modelValue:s(k).mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>s(k).mobile=e),name:"mobile",label:"手机号",clearable:"",placeholder:"请输入手机号",maxlength:s(L).MOBILE,rules:[{validator:I}]},null,8,["modelValue","maxlength","rules"]),d(t,{modelValue:s(k).smsCode,"onUpdate:modelValue":a[1]||(a[1]=e=>s(k).smsCode=e),type:"digit",name:"smsCode",label:"验证码",clearable:"",placeholder:"请输入验证码",maxlength:s(L).SMS_CODE},{button:c((()=>[u("div",{class:p(["sms-code",{"count-down":y.value>0}]),onClick:C},m(w.value),3)])),_:1},8,["modelValue","maxlength"])])),_:1}),u("div",{class:p([{"check-submit":h.isCheck},{submit:!h.isCheck}]),onClick:_},null,2)])),_:1},512)}}}),A=a({props:{isCheck:{type:Boolean,default:!1},userInfo:{type:Object,default:()=>{}}},emits:["on-submit"],setup(e,{emit:a}){const n=e,m=t({}),v=o({name:n.userInfo.name,certNo:n.userInfo.certNo}),f=e=>!!S(v.certNo)||"请填写正确的证件号",h=e=>!!U(e)||"请输入正确的姓名",g=()=>{null==m||m.value.validate().then((async e=>{a("on-submit",v)}))};return(e,a)=>{const t=r("van-field"),o=r("van-cell-group"),b=r("VanForm");return l(),i(b,{ref_key:"formRef",ref:m,"label-width":"80"},{default:c((()=>[d(o,null,{default:c((()=>[d(t,{modelValue:s(v).name,"onUpdate:modelValue":a[0]||(a[0]=e=>s(v).name=e),name:"name",label:"姓名",clearable:"",placeholder:"请输入姓名",maxlength:s(L).NAME,rules:[{validator:h}]},null,8,["modelValue","maxlength","rules"]),d(t,{modelValue:s(v).certNo,"onUpdate:modelValue":a[1]||(a[1]=e=>s(v).certNo=e),name:"certNo",label:"身份证",clearable:"",placeholder:"请输入身份证号",maxlength:s(L).ID_CARD,rules:[{validator:f}]},null,8,["modelValue","maxlength","rules"])])),_:1}),u("div",{class:p([{"check-submit":n.isCheck},{submit:!n.isCheck}]),onClick:g},null,2)])),_:1},512)}}});const $=e=>(g("data-v-a6bc1804"),e=e(),b(),e),G={key:0,class:"pro-modal"},J=$((()=>u("div",{class:"pro-overlay"},null,-1))),K={class:"pro-modal-wrapper"},W=$((()=>u("div",{class:"pro-modal-content"},[u("p",null,"恭喜您"),u("p",null,"领取成功")],-1))),X=["src"],Y=a({props:{bg:{type:String,default:""},btn:{type:String,default:""},isShow:{type:Boolean,default:()=>{}}},emits:["on-confirm","on-close"],setup(e,{emit:a}){const t=e,o=()=>{a("on-close")};return(e,a)=>t.isShow?(l(),f("div",G,[J,u("div",K,[u("div",{class:"pro-modal-body"},[W,u("div",{class:"pro-modal-btn",onClick:o},"我知道了")]),u("div",{class:"pro-modal-close",onClick:o},[u("img",{src:s(T)},null,8,X)])])])):h("",!0)}});var Q=F(Y,[["__scopeId","data-v-a6bc1804"]]);const Z={class:"list"},ee={class:"item"},ae={class:"footer"},te=w("部分为是"),oe=w("全部为否"),ne=a({props:{show:{type:Boolean,default:!0},activeIndex:{default:0},contentList:{default:()=>[]}},emits:["update:show","onConfirmHealth"],setup(e,{emit:a}){const o=e,m=t(o.show),p=t(o.activeIndex),v=y((()=>{var e;return null===(e=o.contentList[p.value])||void 0===e?void 0:e.attachmentUri})),f=e=>{a("update:show",!1),a("onConfirmHealth",e)};return n((()=>o),(()=>{m.value=o.show,p.value=o.activeIndex}),{deep:!0,immediate:!0}),(t,o)=>{const n=r("ProTab"),g=r("ProFilePreview"),b=r("VanButton"),y=r("van-config-provider"),w=r("ProPopup");return l(),i(w,{show:m.value,"onUpdate:show":o[3]||(o[3]=e=>m.value=e),height:80,class:"health-notice-preview-popup-wrap",closeable:!1,onClose:o[4]||(o[4]=e=>a("update:show",!1))},{default:c((()=>[d(y,{"theme-vars":s(E)},{default:c((()=>[m.value?(l(),i(n,{key:0,active:p.value,"onUpdate:active":o[0]||(o[0]=e=>p.value=e),list:e.contentList.map(((e,a)=>({title:e.attachmentName,slotName:`guarantee-${a}`}))),class:"tab"},null,8,["active","list"])):h("",!0),u("div",Z,[u("div",ee,[(l(),i(g,{key:s(v),content:s(v),type:"pdf"},null,8,["content"]))])]),u("div",ae,[d(b,{type:"primary",block:"",round:"",onClick:o[1]||(o[1]=e=>f("N"))},{default:c((()=>[te])),_:1}),d(b,{type:"primary",plain:"",block:"",round:"",onClick:o[2]||(o[2]=e=>f("allFalse"))},{default:c((()=>[oe])),_:1})])])),_:1},8,["theme-vars"])])),_:1},8,["show"])}}});const re={class:"page-activity-invite"},le=["src"],ie={class:"container"},ce={class:"main-form"},de={class:"title"},se=["src"],ue={class:"agree"},me={class:"check-wrap"},pe=w(" 我已阅读并同意 "),ve={key:2,class:"tips"},fe=[w(" 产品介绍页面仅供参考，具体责任描达以保险合同为准，众安保险最近季度偿付能力符合监管要求，详情请参见众安保险官网 ("),u("a",{href:"https://www.zhongan.com"},"www.zhongan.com",-1),w("）偿付能力信息披露，该保险产品由众安在线财产保险股份有限公司承保并负责理赔。 ")];e("default",a({setup(e){const a=k(),n=I(),{productCode:m="7X9",tenantId:p="",phoneNo:g,saleChannelId:b,agentCode:w="",paymentMethod:N,from:z}=a.query,j=t(!0),O="check"===z,U=t(!1),L=t(!1),S=t(!1),F=t(0),T=o({title:"/static/assets/title-step1.97cb9efa.png",attachmentList:[],userInfo:{mobile:g,certNo:"",name:""},agree:!1}),$=t(),G=t(),J=t(!1),K=y((()=>{var e,a;return(null===(e=$.value)||void 0===e||null===(a=e.tenantProductInsureVO)||void 0===a?void 0:a.attachmentVOList.filter((e=>"健康告知"===e.attachmentName)))||[]})),W=y((()=>{var e,a;return(null===(e=$.value)||void 0===e||null===(a=e.tenantProductInsureVO)||void 0===a?void 0:a.attachmentVOList.filter((e=>"健康告知"!==e.attachmentName)))||[]})),X=async e=>{T.userInfo.mobile=e.mobile;const a=await B({holderPhone:T.userInfo.mobile,productCode:m,tenantId:p}),{code:t,data:o}=a;var n,r;"10000"===t&&(T.userInfo.name=null===(n=o.tenantOrderHolder)||void 0===n?void 0:n.name,T.userInfo.certNo=null===(r=o.tenantOrderHolder)||void 0===r?void 0:r.certNo);T.title="/static/assets/title-step2.258af5e9.png",j.value=!1},Y=async e=>{if(null!=e&&e.certNo&&(T.userInfo.certNo=null==e?void 0:e.certNo),null!=e&&e.name&&(T.userInfo.name=null==e?void 0:e.name),!O||U.value)if(T.agree)try{v({message:"领取中...",forbidClick:!0,loadingType:"spinner"});const e=P({tenantId:p,detail:$.value,insureDetail:G.value,saleChannelId:b,saleUserId:w,holder:T.userInfo,insured:{...T.userInfo,relationToHolder:V.SELF},paymentMethod:N,renewalDK:"",successJumpUrl:"",premium:0,orderStatus:"",orderTopStatus:"",tenantOrderRiskList:[]}),t=await D(e),{code:o}=t;if("10000"===o){if(O)return v.clear(),void(J.value=!0);n.push({path:"/chuangxin/baigebao/productDetail",query:{...a.query,tenantId:p,phoneNo:T.userInfo.mobile,certNo:T.userInfo.certNo,name:T.userInfo.name,productCode:"BWYL2021",agentCode:w}})}}catch(t){v.clear()}else v("请勾选协议");else S.value=!0},Z=()=>{U.value=!0,Y()},ee=e=>{"allFalse"===e&&(L.value=!0)},ae=()=>{J.value=!1};return C((()=>{(async()=>{const e=M({productCode:m,withInsureInfo:!0,tenantId:p}),a=H({productCode:m});Promise.all([e,a]).then((([e,a])=>{"10000"===e.code&&($.value=e.data),"10000"===a.code&&(G.value=a.data)}))})()})),(e,a)=>{const t=r("van-checkbox"),o=r("ProPDFviewer"),n=r("van-config-provider");return l(),i(n,{"theme-vars":s(E)},{default:c((()=>{var e,n;return[u("div",re,[u("img",{src:null===(e=$.value)||void 0===e||null===(n=e.tenantProductInsureVO)||void 0===n?void 0:n.banner[0],class:"banner"},null,8,le),u("div",ie,[u("div",ce,[u("div",de,[u("img",{src:s(T).title},null,8,se)]),j.value?(l(),i(q,{key:0,"is-check":O,"user-info":s(T).userInfo,onOnVerify:X},null,8,["user-info"])):(l(),i(A,{key:1,"is-check":O,"user-info":s(T).userInfo,onOnSubmit:Y},null,8,["user-info"])),u("div",ue,[u("div",me,[d(t,{modelValue:s(T).agree,"onUpdate:modelValue":a[0]||(a[0]=e=>s(T).agree=e),name:"agree",shape:"square"},null,8,["modelValue"])]),u("div",null,[pe,(l(!0),f(_,null,x(s(W)||[],((e,a)=>(l(),i(o,{key:a,class:"file-name",title:`《${e.attachmentName}》`,content:e.attachmentUri,type:"pdf"},null,8,["title","content"])))),128))])]),O?(l(),f("div",ve,fe)):h("",!0)])])]),d(Q,{"is-show":J.value,onOnClose:ae},null,8,["is-show"]),d(R,{show:L.value,"onUpdate:show":a[1]||(a[1]=e=>L.value=e),"content-list":s(W),"active-index":F.value,text:"我已逐页阅读并确认告知内容",onSubmit:Z},null,8,["show","content-list","active-index"]),d(ne,{show:S.value,"onUpdate:show":a[2]||(a[2]=e=>S.value=e),"content-list":s(K),"active-index":0,onOnConfirmHealth:ee},null,8,["show","content-list"])]})),_:1},8,["theme-vars"])}}}))}}}))}();
