import{_ as e,d as a,bV as t,aJ as s,af as r,i as o,h as u,aX as l,k as n,aA as d,cd as i,j as c,l as p,o as y,c as m,a as v,b as f,e as _,u as I,w as h,v as w,p as q,q as b,y as N,f as g,ce as k,cf as C,aH as R,aI as E,cg as L,ch as A,ci as S,cj as T}from"./index-6a9cf46c.js";import{c as D}from"./order-a9175a98.js";const x={class:"page-underwrite-result-wrap"},F={class:"result-content"},U={class:"result-icon"},$={class:"result-status"},j={class:"result-desc"},V={key:0,class:"operate-btn"},z={key:1,class:"operate-btn"},G={class:"dialog-content"},W=a({name:"underwriteResult"});var B=e(a({...W,setup(e){var a,W;const B={[t.SIGN_FAIL]:{resultStatus:"人工核保中",resultDesc:null==(a=s.get(`${r}_underwriteResult`))?void 0:a[t.SIGN_FAIL]},[t.UNDER_WRITE_FAIL]:{resultStatus:"核保未通过",resultDesc:null==(W=s.get(`${r}_underwriteResult`))?void 0:W[t.UNDER_WRITE_FAIL]}},H=o(),J=u(),{orderNo:X,tenantId:Y,underwriteStatus:K,productClass:M}=H.query,O=l.Component,P=n((()=>M===`${d.YES}`)),[Q,Z]=i(!1),ee=c(),ae=c(!1),te=async()=>{if(ae.value=!0,P.value)return J.push({path:N.orderList,query:{...H.query}}),void(ae.value=!1);const{code:e,data:a}=await k({orderNo:X,tenantId:Y});"10000"===e&&a&&(delete H.query.orderNo,J.push({path:N.orderList,query:{...H.query}})),ae.value=!1},se=()=>{Z(!0)},re=()=>{C({messageType:T.AGENT,orderNo:X,tenantId:Y}).then((({code:e})=>{"10000"===e&&J.push({path:N.sign,query:H.query})}))},oe=()=>{D({orderNo:X,tenantId:Y}).then((({code:e,data:a})=>{"10000"===e&&(delete H.query.orderNo,J.push({path:N.productList,query:H.query}))}))},ue=()=>{var e;e=()=>{Z(!1),delete H.query.questionnaireId,J.push({path:ee.value,query:H.query})},S({orderNo:X,tenantId:Y}).then((({code:a})=>{"10000"===a&&(null==e||e())}))},le=()=>{Z(!1),oe()},ne=c();return p((()=>{setTimeout((async()=>{ne.value=window.getIseeBiz&&await window.getIseeBiz()}),1500)})),(e,a)=>{const s=R,r=E,o=L,u=A;return y(),m("div",x,[v("div",F,[v("div",U,[f(s,{name:"wrong","font-size":"32px",color:"var(--van-primary-color)"})]),v("p",$,_(B[`${I(K)}`].resultStatus),1),v("p",j,_(B[`${I(K)}`].resultDesc),1),I(K)!==I(t).UNDER_WRITE_FAIL||I(P)?(y(),m("div",z,[f(r,{type:"primary",disabled:I(ae),onClick:te},{default:h((()=>[w("确定")])),_:1},8,["disabled"])])):(y(),m("div",V,[f(r,{type:"primary",plain:"",onClick:se},{default:h((()=>[w("返回修改")])),_:1}),f(r,{type:"primary",onClick:re},{default:h((()=>[w("继续投保")])),_:1}),f(r,{class:"no-border",onClick:oe},{default:h((()=>[w("放弃投保")])),_:1})]))]),I(Q)?(y(),q(I(O),{key:0,show:I(Q),"onUpdate:show":a[1]||(a[1]=e=>b(Q)?Q.value=e:null),"show-cancel-button":"","confirm-button-text":"确定","confirm-button-disabled":!I(ee),"cancel-button-text":"放弃投保","close-on-click-overlay":"",title:"请选择需要修改的页面",onConfirm:ue,onCancel:le},{default:h((()=>[v("div",G,[f(u,{modelValue:I(ee),"onUpdate:modelValue":a[0]||(a[0]=e=>b(ee)?ee.value=e:null)},{default:h((()=>[f(o,{name:I(N).premiumTrial},{default:h((()=>[w("保费试算页")])),_:1},8,["name"]),f(o,{name:I(N).questionNotice},{default:h((()=>[w("健康告知页")])),_:1},8,["name"]),f(o,{name:I(N).infoCollection},{default:h((()=>[w("信息采集页")])),_:1},8,["name"])])),_:1},8,["modelValue"])])])),_:1},8,["show","confirm-button-disabled"])):g("",!0)])}}}),[["__scopeId","data-v-21c65282"]]);export{B as default};
