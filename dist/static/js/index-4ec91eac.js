import{d as e,h as t,o as a,c as l,a as s,e as n,b as o,F as i,q as d,m as c,_ as r,aC as u,aD as m,cN as p,i as v,j as f,k as b,B as y,O as g,u as h,p as _,dn as j,w as N,a9 as k,T as x}from"./index-0cb46857.js";import{P as C}from"./index-f1b5e2a7.js";import{_ as I}from"./index-ffb1065a.js";import{L as D}from"./index-3eb54516.js";import{I as O}from"./infoItem-76550835.js";import{O as S}from"./OperateBtn-7911ddb5.js";import{q}from"./order-fd640346.js";import"./empty-ae586b6c.js";import"./constants-4b08cf92.js";const w={class:"com-order-item"},U={class:"header"},V={class:"product-name"},B={class:"status"},L={class:"info"},T={class:"info-bottom"},z=(e=>(u("data-v-3afe64b6"),e=e(),m(),e))((()=>s("div",{style:{width:"25%"}},[s("img",{src:"/static/png/tree-0f48942e.png",alt:"",style:{width:"80%"}})],-1))),A={class:"footer"};var F=r(e({__name:"item",props:{detail:{type:Object,default:()=>{}}},emits:["afterDelete"],setup:(e,{emit:r})=>(t(),(t,r)=>{var u;return a(),l("div",w,[s("div",U,[s("div",V,n(e.detail.productName),1),s("div",B,n(e.detail.orderStatusDesc),1)]),s("div",L,[o(O,{label:"订单号",content:e.detail.orderNo,line:"","is-copy":""},null,8,["content"]),(a(!0),l(i,null,d(e.detail.applicationNo||[""],(e=>(a(),c(O,{key:e,label:"投保单号",content:e,line:"","is-copy":""},null,8,["content"])))),128)),o(O,{label:"保单号",content:e.detail.policyNo,line:"","is-copy":""},null,8,["content"]),s("div",T,[s("div",null,[o(O,{label:"投保人",content:e.detail.holderName,line:""},null,8,["content"]),o(O,{label:"被保人",content:null==(u=e.detail.insuredName)?void 0:u[0],line:""},null,8,["content"]),o(O,{label:"创建时间",content:e.detail.orderStartDate,line:""},null,8,["content"]),o(O,{label:"保费：",content:`${e.detail.premium}`,line:""},null,8,["content"])]),z])]),s("div",A,[o(S,{detail:e.detail},null,8,["detail"])])])})}),[["__scopeId","data-v-3afe64b6"]]);const P={class:"page-order"},R={key:1,class:"empty-box"};var $=r(e({__name:"index",setup(e){p(),t();const s=v(),{type:n,tenantId:r,agentCode:u}=s.query,m=f({"-1":1,0:2,1:3,2:4}[n]||0),O=f(1),S=f(!1),w=f(!1),U=f(!1),V=f([]);f(0),f(0),f(0);const B=[{title:"全部",status:""},{title:"待处理",status:"-1"},{title:"待支付",status:"0"},{title:"已完成",status:"1"},{title:"已失效",status:"2"}],L=b((()=>(V.value=[],B[m.value].status))),T=()=>{x.loading({message:"加载中...",forbidClick:!0}),S.value=!0,q({condition:{orderTopStatus:L.value,tenantId:r,agentCode:u},pageSize:10,pageNum:O.value}).then((e=>{const{code:t,data:a}=e;"10000"===t&&a&&(S.value=!1,w.value=!1,1===O.value?V.value=a.datas||[]:V.value=V.value.concat(a.datas||[]),a.datas.length<10&&(U.value=!0))})).then((()=>{x.clear()}))},z=()=>{O.value+=1,T()},A=()=>{O.value=1,T()};return y(L,(()=>{O.value=1,T()})),g((()=>{T()})),(e,t)=>{const s=D,n=I,p=C;return a(),l("div",P,[o(j,{active:h(m),"onUpdate:active":t[0]||(t[0]=e=>_(m)?m.value=e:null),list:B,class:"tab","title-active-color":"#c41e21"},null,8,["active"]),o(p,{modelValue:h(w),"onUpdate:modelValue":t[2]||(t[2]=e=>_(w)?w.value=e:null),onRefresh:A},{default:N((()=>[h(V).length?(a(),c(s,{key:0,loading:h(S),"onUpdate:loading":t[1]||(t[1]=e=>_(S)?S.value=e:null),class:"body",finished:h(U),onLoad:z},{default:N((()=>[(a(!0),l(i,null,d(h(V),((e,t)=>(a(),c(F,{key:t,detail:e,onClick:t=>(e=>{const{orderNo:t}=e;k("orderDetail",{orderNo:t,agentCode:u,tenantId:r})})(e),onAfterDelete:A},null,8,["detail","onClick"])))),128))])),_:1},8,["loading","finished"])):(a(),l("div",R,[o(n,{title:"暂无投保单","empty-class":"empty-select"})]))])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1163fbb2"]]);export{$ as default};
