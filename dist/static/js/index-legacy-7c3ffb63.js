System.register(["./index-legacy-9e14c636.js","./ProAddress.vue_vue_type_style_index_0_scoped_true_lang-legacy-37cd1631.js","./keysIn-legacy-e771016d.js","./isObjectLike-legacy-c9ae9091.js"],(function(e){"use strict";var t,a,l,r,i,o,n,d,u,s,c,m,f,p,v,y,h,g,b,V,_,N,C,S,$,w,D,A,O,k,P,M,E,T,x,j,F,R,I,Y,H,B,L,Z,z,U,q,W,G,X,K,J,Q,ee,te,ae,le,re,ie,oe,ne,de,ue,se,ce,me,fe,pe,ve,ye,he,ge,be,Ve,_e,Ne,Ce,Se,$e,we,De,Ae,Oe,ke,Pe,Me,Ee;return{setters:[function(e){t=e.cb,a=e.cc,l=e.cd,r=e.a9,i=e.D,o=e.b6,n=e.ah,d=e.bD,u=e._,s=e.d,c=e.bj,m=e.J,f=e.r,p=e.ba,v=e.E,y=e.an,h=e.ce,g=e.c,b=e.e,V=e.w,_=e.g,N=e.h,C=e.F,S=e.i,$=e.cf,w=e.b1,D=e.bt,A=e.bk,O=e.k,k=e.T,P=e.aW,M=e.cg,E=e.b8,T=e.G,x=e.j,j=e.t,F=e.y,R=e.bp,I=e.R,Y=e.n,H=e.aG,B=e.s,L=e.ax,Z=e.f,z=e.S,U=e.ch,q=e.a7,W=e.a8,G=e.ad,X=e.ci,K=e.cj,J=e.b9,Q=e.bW,ee=e.B,te=e.L,ae=e.P},function(e){le=e.R,re=e.M,ie=e.C,oe=e.G,ne=e.V,de=e.a,ue=e.l,se=e.I},function(e){ce=e.e,me=e.b,fe=e.i,pe=e.g,ve=e.c,ye=e.k,he=e.a,ge=e.d,be=e.f,Ve=e.h,_e=e.j,Ne=e.l,Ce=e.m,Se=e.n,$e=e.o,we=e.S,De=e.p,Ae=e.q,Oe=e.r,ke=e.s},function(e){Pe=e.i,Me=e.b,Ee=e.a}],execute:function(){var Te=Object.freeze(Object.defineProperty({__proto__:null,get ProRenderForm(){return gt},get ProFieldV2(){return Vt},get ProRadioV2(){return wt},get ProPickerV2(){return Mt},get ProCalendarV2(){return xt},get ProCascaderV2(){return jt},get ProDatePickerV2(){return Rt},get ProSMSCode(){return It},get ProAddress(){return Yt},get ProRenderFormWithCard(){return Ht}},Symbol.toStringTag,{value:"Module"}));const xe=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;function je(e){if(!xe.test(e))return!1;if(18!==e.length)return!0;const t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];let a=0;for(let i=0;i<17;i++)a+=Number(e.substring(i,i+1))*t[i];const l=a%11,r=e.substring(17);return 2===l?"X"===r||"x"===r:r===String([1,0,10,9,8,7,6,5,4,3,2][l])}const Fe={isName:e=>/^[\u4e00-\u9fa5a-z].{0,23}[\u4e00-\u9fa5a-z]/i.test(e),isExternal:e=>/^(https?:|mailto:|tel:)/.test(e),isEmail:e=>/^[A-Za-z0-9]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e),isZipCode:e=>/^[0-9]{6,6}$/.test(e),isTel:e=>/0\d{2,3}-\d{7,8}/.test(e),isPhone:e=>/^1(3|4|5|6|7|8|9)\d{9}$/.test(e),isZhCN:e=>/^[\u4e00-\u9fa5]+$/.test(e),isNotZhCN:e=>/^[^\u4e00-\u9fa5]+$/.test(e),isCommonChar:e=>/^[\w_]{6,20}$/.test(e),isNormalChar:e=>/^[\u4e00-\u9fa5a-zA-Z0-9]+$/.test(e),isAlphabetNumber:e=>/^[a-z0-9]+$/i.test(e),isAlphabetNumberOrSpecial:e=>/^[a-z0-9`~!@#$%^&*()_\-+=<>?:"{}|,./;'\\[\]·~！@#￥¥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]+$/i.test(e),isIdCardNo:e=>je(e),isHouseHold:e=>je(e),isBirthType:e=>/^[a-zA-Z]\d{9}$/.test(e),isPassword:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,20}$/.test(e),isPassportType:e=>e.length>=5&&/^[^\u4e00-\u9fa5]+$/.test(e),isMilitaryCard:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isSolider:e=>/^[\u4E00-\u9FA5](字第)([0-9a-zA-Z]{4,8})(号?)$/.test(e),isHongkongMacaoTravel:e=>/^[C]\d{8}$|^[C][a-hA-Hj-nJ-Np-zP-Z][0-9]{7}$/.test(e),isTaiwanTravel:e=>/^[L]\d{8}$/.test(e),isForeignPermanent:e=>/^[A-Z]{3}[0-9]{12}$/.test(e),isHKMacaoResidencePermit:e=>/^8[12]0000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isTaiwanResidencePermit:e=>/^830000(?:19|20)\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])\d{3}[\dX]$/.test(e),isUSCC:e=>/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/.test(e),isUSCCPolicy:e=>/^[A-Z0-9]{18}$/.test(e),isOCC:e=>/^[A-Z0-9]{8}-[A-Z0-9]{1}$/.test(e),isBusinessLicense:e=>/(^\d{15}$)|(^[A-Z0-9]{18}$)/.test(e),isBandcard:e=>/^\d{12,20}$/g.test(e),isOtherCert:e=>/^.{1,18}$/.test(e)},Re={[le.NAME]:[Fe.isName],[le.EXTERNAL]:[Fe.isExternal],[le.EMAIL]:[Fe.isEmail],[le.ZIP_CODE]:[Fe.isZipCode],[le.TEL]:[Fe.isTel],[le.MOBILE]:[Fe.isPhone],[le.ZH_CN]:[Fe.isZhCN],[le.NOT_ZH_CN]:[Fe.isNotZhCN],[le.NORMAL_CHAR]:[Fe.isNormalChar],[le.ALPHABET_NUMBER]:[Fe.isAlphabetNumber],[le.CERT]:[Fe.isIdCardNo],[le.HOUSE_HOLD]:[Fe.isHouseHold],[le.BIRTH]:[Fe.isBirthType],[le.PASSPORT]:[Fe.isPassportType],[le.MILITARY_CARD]:[Fe.isMilitaryCard],[le.SOLIDER]:[Fe.isSolider],[le.HONGKONG_MACAO]:[Fe.isHongkongMacaoTravel],[le.TAIWAN_TRAVEL]:[Fe.isTaiwanTravel],[le.FOREIGN_PERMANENT]:[Fe.isForeignPermanent],[le.HK_MACAO_RESIDENCE_PERMIT]:[Fe.isHKMacaoResidencePermit],[le.TAIWAN_RESIDENCE_PERMIT]:[Fe.isTaiwanResidencePermit],[le.SOCIAL_CREDIT_CODE]:[Fe.isUSCCPolicy],[le.OCC]:[Fe.isOCC],[le.BUSINESS_LICENSE]:[Fe.isBusinessLicense],[le.BAND_CARD]:[Fe.isBandcard],[le.OTHER_CERT]:[Fe.isOtherCert]};function Ie(e,t,a){(void 0!==a&&!ce(e[t],a)||void 0===a&&!(t in e))&&me(e,t,a)}var Ye,He=function(e,t,a){for(var l=-1,r=Object(e),i=a(e),o=i.length;o--;){var n=i[Ye?o:++l];if(!1===t(r[n],n,r))break}return e},Be=Function.prototype,Le=Object.prototype,Ze=Be.toString,ze=Le.hasOwnProperty,Ue=Ze.call(Object);function qe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function We(e,t,a,l,r,i,o){var n=qe(e,a),d=qe(t,a),u=o.get(d);if(u)Ie(e,a,u);else{var s,c=i?i(n,d,a+"",e,t,o):void 0,m=void 0===c;if(m){var f=he(d),p=!f&&ge(d),v=!f&&!p&&be(d);c=d,f||p||v?he(n)?c=n:Pe(s=n)&&fe(s)?c=Ve(n):p?(m=!1,c=_e(d,!0)):v?(m=!1,c=Ne(d,!0)):c=[]:function(e){if(!Pe(e)||"[object Object]"!=Me(e))return!1;var t=pe(e);if(null===t)return!0;var a=ze.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Ze.call(a)==Ue}(d)||Ce(d)?(c=n,Ce(n)?c=function(e){return ve(e,ye(e))}(n):Ee(n)&&!Se(n)||(c=$e(d))):m=!1}m&&(o.set(d,c),r(c,d,l,i,o),o.delete(d)),Ie(e,a,c)}}function Ge(e,t,a,l,r){e!==t&&He(t,(function(i,o){if(r||(r=new we),Ee(i))We(e,t,o,a,Ge,l,r);else{var n=l?l(qe(e,o),i,o+"",e,t,r):void 0;void 0===n&&(n=i),Ie(e,o,n)}}),ye)}function Xe(e){return e}function Ke(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}var Je,Qe,et,tt=Math.max,at=De?function(e,t){return De(e,"toString",{configurable:!0,enumerable:!1,value:(a=t,function(){return a}),writable:!0});var a}:Xe,lt=at,rt=Date.now,it=(Je=lt,Qe=0,et=0,function(){var e=rt(),t=16-(e-et);if(et=e,t>0){if(++Qe>=800)return arguments[0]}else Qe=0;return Je.apply(void 0,arguments)}),ot=it;function nt(e,t){return ot(function(e,t,a){return t=tt(void 0===t?e.length-1:t,0),function(){for(var l=arguments,r=-1,i=tt(l.length-t,0),o=Array(i);++r<i;)o[r]=l[t+r];r=-1;for(var n=Array(t+1);++r<t;)n[r]=l[r];return n[t]=a(o),Ke(e,this,n)}}(e,t,Xe),e+"")}var dt,ut=(dt=function(e,t,a){Ge(e,t,a)},nt((function(e,t){var a=-1,l=t.length,r=l>1?t[l-1]:void 0,i=l>2?t[2]:void 0;for(r=dt.length>3&&"function"==typeof r?(l--,r):void 0,i&&function(e,t,a){if(!Ee(a))return!1;var l=typeof t;return!!("number"==l?fe(a)&&Ae(t,a.length):"string"==l&&t in a)&&ce(a[t],e)}(t[0],t[1],i)&&(r=l<3?void 0:r,l=1),e=Object(e);++a<l;){var o=t[a];o&&dt(e,o,a,r)}return e})));e("c",(e=>(e?`${e.toUpperCase()}_`:"")+"OCCUPATION"));const st=["v-model","label","name","id","type","size","maxlength","placeholder","border","disabled","readonly","colon","required","center","clearable","clear-icon","clear-trigger","clickable","is-link","autofocus","show-word-limit","error","error-message","error-message-align","formatter","format-trigger","arrow-direction","label-class","label-width","label-align","input-align","autosize","left-icon","right-icon","icon-prefix","rules","autocomplete","enterkeyhint","visible"],ct=["label","input","left-icon","right-icon","button","error-message","extra"],mt={autocomplete:"off"},ft=(e,t="children")=>l(e)?e.map((({[`${t}`]:e,...a})=>{const r={};return l(e)&&(r.children=ft(e)),{...a,...r}})):[],pt=(e,t,a={})=>{const r=Object.keys(e);return l(r)?r.reduce(((a,l)=>{const r=t.includes(l);return a[Number(!r)][l]=e[l],a}),[{...a},{}]):[{...a},{}]},vt=(e("t",((e,t=!1)=>{if(!e)return[];const a=Object.keys(e)||[];if(!l(a))return[];const{holder:o,insured:n,beneficiary:d,payInfo:u}=a.reduce(((a,r)=>(a[re[r]]=l(e[r])?e[r].filter((e=>!t||1===e.isCalculationFactor)):[],a)),{}),s=l(o)?o.map((e=>e.code)):[],c=l(n)?n.map((e=>({...e,isSelfInsuredNeed:!s.includes(e.code)}))):[];return console.log("origin factors",o,n,d),[o,c,d,u].map((e=>(e=>{let t=[];const a=[];return l(e)&&(t=e.map((e=>{const{code:t,name:l,value:o,componentName:n,...d}=ie.find((t=>`${t.value}`==`${e.displayType}`))||{};e.isCalculationFactor===r.YES&&a.push(e.code);const u={},{componentName:s,...c}=oe[e.code]||{},m=s||n||"ProFieldV2";2===e.moduleType&&(u.isSelfInsuredNeed=e.isSelfInsuredNeed);const f={...d,...u,customFieldName:{text:"value",value:"code",children:"children"},label:e.title,name:e.code,componentName:m,required:1===e.isMustInput,nanoid:i(),...c};return{...f,attributeValueList:e.attributeValueList,columns:f.dictCode?[]:e.attributeValueList||[]}}))),{schema:t,trialFactorCodes:a}})(e)))})),(e,t={})=>Object.keys(e).reduce(((e,a)=>(e[t[a]||a]=a,e)),{})),yt={certNo:{onChangeEffect:(e,t)=>{Object.assign(t.formData,{certNo:"",gender:"",birthday:""}),o((()=>{const e=![n.CERT,n.HOUSE_HOLD].includes(t.formData.certType);ut(t.config,{gender:{visible:e},birthday:{visible:e}})}))}},certType:{extraAttrs:{4:{maxlength:10}},onChangeEffect:(e,t)=>{if([n.CERT,n.HOUSE_HOLD].includes(t.formData.certType)){const a=(e=>{const t={gender:"",birthday:""};if("string"==typeof e&&e&&je(e)){const a={15:[6,12],18:[6,14]};t.birthday=e.slice(...a[e.length]).replace(/(.{4})(.{2})/,"$1-$2-"),t.gender=[d.FEMALE,d.MALE][Number(e.slice(-2,-1))%2]}return t})(e);Object.assign(t.formData,a)}}}},ht=s({__name:"ProRenderForm",props:{validateMethod:{default:"show-error"},model:{default:()=>({})},isView:{type:Boolean,default:!1},schema:{default:()=>[]},config:{default:()=>({})},markRequired:{type:Boolean,default:!1}},emits:["failed"],setup(e,{expose:r,emit:i}){const o=e,n=c(),d=m({config:{},formData:{},schema:[],nameList:[],isView:o.isView}),u=f({});p(ne,{formState:d,formRef:u,markRequired:o.markRequired});const s=v((()=>Object.keys(n).filter((e=>"default"!==e)))),M=v((()=>l(o.schema))),E=v((()=>{const[e,t]={toast:[!1,!1],"show-error":[!1,!0],"show-error-message":[!0,!1]}[o.validateMethod];return{"show-error-message":e,"show-error":t}})),T=({values:e,errors:t})=>{if("toast"===o.validateMethod){const e=t.reduce(((e,t)=>(e[t.name]=t,e)),{}),a=Object.keys(e);if(a.length){const t=d.nameList.reduce(((e,t)=>(a.includes(t)&&e.push(t),e)),[]),{message:l}=e[t[0]]||{};k({message:l})}}console.log("failed errors",t),i("failed",{values:e,errors:t})};y([()=>o.schema,()=>d.config],(([e,t])=>{M.value&&(d.schema=e.map((e=>({...e,modelValue:o.model[e.name],componentName:Te[e.componentName]?h(Te[e.componentName]):e.componentName,...t[e.name]}))).filter((e=>!e.hidden)))}),{immediate:!0,deep:!0}),y((()=>o.config),(e=>{d.config=e}),{immediate:!0,deep:!0});const x=v((()=>[...new Set(d.schema.reduce(((e,t)=>(t.dictCode&&e.push(t.dictCode),e)),[]))]));return y(x,(e=>{e&&(async e=>{const l=t(),{dictMap:r}=a(l);"string"==typeof e?(await l.getDict([e]),r.value[e]):(await l.getDict(e),e.map((e=>r.value[e])))})(e)}),{immediate:!0,deep:!0}),y((()=>o.model),(e=>{e&&(d.formData=e)}),{immediate:!0,deep:!0}),r({...["submit","getValues","validate","resetValidation","getValidationStatus","scrollToField"].reduce(((e,t)=>(e[t]=(...e)=>{var a;return null===(a=u.value)||void 0===a?void 0:a[t](...e)},e)),{})}),(e,t)=>{const a=P;return g(),b(a,w({ref_key:"formRef",ref:u,class:"com-van-form"},{..._(E),...e.$attrs},{onFailed:T}),{default:V((()=>[_(M)?(g(!0),N(C,{key:0},S(d.schema,((t,a)=>(g(),b($(t.componentName),w({key:`${t.nanoid}_${a}`},t),D({_:2},[S(_(s),(t=>({name:t,fn:V((()=>[A(e.$slots,t,{},void 0,!0)]))})))]),1040)))),128)):O("",!0),A(e.$slots,"default",{},void 0,!0)])),_:3},16)}}});var gt=e("g",u(ht,[["__scopeId","data-v-148feac6"]]));const bt={class:"com-van-field-unit"},Vt=e("a",s({inheritAttrs:!1,__name:"ProFieldV2",props:{ruleType:{type:String,default:""},modelValue:{type:[String,Number,Object,Array,Boolean],default:""},isView:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rules:{type:Array,default:()=>[]},relatedName:{type:String,default:""},precision:{type:Number,default:0},isPrecisionCompleted:{type:Boolean,default:!1},unit:{type:String,default:""}},emits:["update:model-value","blur"],setup(e,{emit:t}){const a=e,r=M(),i=c(),{formState:o,markRequired:n}=E(ne)||{},d=m({modelValue:""}),u=v((()=>{const e=vt(i,r.slots),{extra:t,...l}=e;return a.unit?l:e})),s=v((()=>r.placeholder||`请输入${r.label||""}`)),f=v((()=>{if(a.ruleType)return a.ruleType;if(a.relatedName){var e;const l=null==o||null===(e=o.formData)||void 0===e?void 0:e[a.relatedName];var t;if(l)return null===(t=de[a.relatedName])||void 0===t?void 0:t[l]}return""})),p=v((()=>l(a.rules)?a.rules:[{required:a.required,validator:e=>{if(ue.exports.isNil(e)||""===e)return a.required?r.placeholder:"";if(f.value){const[t]=Re[f.value]||[];if("function"!=typeof t)return console.warn(`%c 字段 ${r.label} 的规则 ${f} 校验函数不存在，请先确认～`,"color: #3e7;"),"";if(!t(e))return`请输入正确的${r.label}`}return""}}])),h=v((()=>"number"===r.type&&a.precision)),N=e=>h.value&&e?e.replace(/^(0)\d+$/g,"$1").replace(new RegExp(`^(\\d+\\.\\d{${a.precision}})\\d+$`,"g"),"$1"):e,C=v((()=>{if(a.relatedName){var e;const{extraAttrs:t}=yt[a.relatedName]||{},l=null==o||null===(e=o.formData)||void 0===e?void 0:e[a.relatedName];if(t&&!ue.exports.isNil(l)&&""!==l)return t[l]||{}}return{}})),$=(e,t)=>{if(a.relatedName&&e){const l=(yt[a.relatedName]||{})[`${e}Effect`];"function"==typeof l&&l(t,o)}},O=e=>{$("onChange",e),o.formData&&r.name&&(o.formData[r.name]=e),d.modelValue=e,t("update:model-value",e)},k=e=>{let l=d.modelValue;h.value&&l&&a.isPrecisionCompleted&&(l=Number(l).toFixed(a.precision),O(l)),$("onBlur",l),t("blur",e)};return y((()=>a.modelValue),(e=>{d.modelValue=e}),{immediate:!0,deep:!0}),y((()=>{var e;return null==o||null===(e=o.formData)||void 0===e?void 0:e[r.name]}),(e=>{d.modelValue=e}),{immediate:!0,deep:!0}),T((()=>{r.name&&o.nameList&&o.nameList.push(r.name)})),(t,a)=>{const l=F;return g(),b(l,w({"model-value":_(d).modelValue,class:`com-van-field ${_(n)?"":"field-mark_hidden"} ${!1===_(r).visible?"com-van-field--hidden":""}`,autocomplete:"off",formatter:N},{...t.$attrs,placeholder:_(s),required:e.required,rules:_(p),..._(C)},{onBlur:k,"onUpdate:modelValue":O}),D({_:2},[S(Object.keys(_(u)),(e=>({name:e,fn:V((()=>[A(t.$slots,_(u)[e])]))}))),e.unit?{name:"extra",fn:V((()=>[x("div",bt,j(e.unit),1)])),key:"0"}:void 0]),1040,["model-value","class"])}}}));function _t(e){return null==e}const Nt={input:"请输入",select:"请选择"};function Ct({placeholderType:e}={placeholderType:"select"}){const t=M(),a=c(),l=m({filedAttrs:{},filedSlots:{},attrs:{},slots:{}});return y((()=>t),(()=>{const[a,r]=(e=>pt(e,st,mt))(t);l.filedAttrs={...a,placeholder:t.placeholder||`${Nt[e]}${t.label||""}`},l.attrs={title:a.label,...r}}),{deep:!0,immediate:!0}),y([()=>a,()=>t.slots],(e=>{const[r,i]=(e=>pt(e,ct))(vt(a,t.slots));l.filedSlots=r||{},l.slots=i||{}}),{deep:!0,immediate:!0}),l}const St={key:0},$t=s({inheritAttrs:!1,__name:"ProRadioV2",props:{type:{type:String,default:"button"},modelValue:{type:[String,Number],default:""},columns:{type:Array,default:()=>[]},isDefaultSelected:{type:Boolean,default:!0},isView:{type:Boolean,default:!1},customFieldName:{type:Object,default:()=>({text:"label",value:"value",children:"children"})}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{filedAttrs:r,attrs:i}=R(Ct()),{formState:o}=E(ne)||{},n=m({modelValue:"",columns:[]}),d=v((()=>"button"===a.type)),u=v((()=>(n.columns.find((e=>e.value===n.modelValue))||{}).label||"")),s=e=>{null!=o&&o.formData&&r.value.name&&(o.formData[r.value.name]=e),n.modelValue=e,t("update:modelValue",e)};return y((()=>a.modelValue),(e=>{n.modelValue=e}),{immediate:!0}),y((()=>{var e;return null===(e=o.formData)||void 0===e?void 0:e[r.value.name]}),(e=>{n.modelValue=e}),{immediate:!0,deep:!0}),y((()=>a.columns),((e=[])=>{if(l(e)){n.columns=e.map((e=>({...e,text:e[a.customFieldName.text],value:e[a.customFieldName.value]})));const[{disabled:t,value:l}]=n.columns;!a.isDefaultSelected||t||!_t(a.modelValue)&&""!==a.modelValue||s(l)}}),{deep:!0,immediate:!0}),(t,a)=>{const l=H,o=I,c=B;return g(),b(Vt,w({class:"com-van-radio-wrap"},_(r),{"model-value":_(n).modelValue}),{input:V((()=>[e.isView?(g(),N("div",St,j(_(u)),1)):(g(),N(C,{key:1},[_(d)?(g(!0),N(C,{key:0},S(_(n).columns,(e=>(g(),b(l,{key:e.value,label:e.text,disabled:e.disabled,activated:_(n).modelValue==e.value,"icon-name":e.iconName,onClick:t=>(({disabled:e,value:t})=>{i.value.disabled||e||s(t)})(e)},null,8,["label","disabled","activated","icon-name","onClick"])))),128)):(g(),b(c,w({key:1,modelValue:_(n).modelValue,"onUpdate:modelValue":a[0]||(a[0]=e=>_(n).modelValue=e)},_(i)),{default:V((()=>[(g(!0),N(C,null,S(_(n).columns,(e=>(g(),b(o,w({key:e.value,name:e.value},e),{default:V((()=>[Y(j(e.label),1)])),_:2},1040,["name"])))),128))])),_:1},16,["modelValue"]))],64))])),_:1},16,["model-value"])}}});var wt=e("b",u($t,[["__scopeId","data-v-54be3898"]]));const Dt={style:{width:"100%"},class:"input"},At={key:0,class:"displayValue"},Ot={key:1,class:"placeholder"},kt=s({inheritAttrs:!1,__name:"CustomInput",props:{fieldValueView:{type:String,default:""},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup(e){const t=e,a=M(),{formState:l}=E(ne)||{};return L((()=>(null!=l&&l.formData&&a.name&&(l.formData[a.name]=t.modelValue),t.modelValue))),(t,a)=>(g(),N("div",Dt,[e.fieldValueView?(g(),N("span",At,j(e.fieldValueView),1)):(g(),N("span",Ot,j(t.$attrs.placeholder),1))]))}}),Pt=s({__name:"ProFormItem",props:{fieldValueView:{type:String,default:""},isView:{type:Boolean,default:!1},modelValue:{type:[String,Boolean,Object,Number],default:""}},setup:e=>(t,a)=>(g(),b(Vt,{class:"com-form-item","is-link":!e.isView},D({input:V((()=>[Z(kt,{name:t.$attrs.name,"model-value":e.modelValue,"field-value-view":e.fieldValueView,placeholder:t.$attrs.placeholder},null,8,["name","model-value","field-value-view","placeholder"])])),_:2},[S(Object.keys(t.$slots),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1032,["is-link"]))}),Mt=e("f",s({inheritAttrs:!1,__name:"ProPickerV2",props:{relatedName:{type:String,default:""},columns:{type:Array,default:()=>[]},dictCode:{type:String,default:""},modelValue:{type:[String,Number],default:""},isDefaultSelected:{type:Boolean,default:!0},isView:{type:Boolean,default:!1},customFieldName:{type:Object,default:()=>({text:"label",value:"value",children:"children"})}},emits:["update:show","confirm","cancel","update:modelValue"],setup(e,{emit:r}){const i=e,o=t(),{dictMap:n}=a(o),{filedAttrs:d,filedSlots:u,attrs:s,slots:c}=R(Ct()),{formState:f}=E(ne)||{},[p,h]=z(!1),b=m({fieldValue:"",columns:[]}),$=e=>{((e,t)=>{if(i.relatedName&&e){const a=(yt[i.relatedName]||{})[`${e}Effect`];"function"==typeof a&&a(t,f)}})("onChange",e),b.fieldValue=e,r("update:modelValue",e)},O=e=>{const{value:t}=e||{};let a="";_t(t)||(a=t),h(!1),$(a),r("confirm",e)},k=()=>{h(!1)},P=v((()=>{let e=[];l(i.columns)&&(e=i.columns);const t=n.value[i.dictCode];return i.dictCode&&l(t)&&(e=t),ft(l(a=e)?a.map((e=>({...e,text:e[i.customFieldName.text],value:e[i.customFieldName.value]}))):[]);var a})),M=v((()=>i.modelValue?i.columns.findIndex((e=>{var t;return e[null===(t=i.customFieldName)||void 0===t?void 0:t.values]===i.modelValue})):"")),T=v((()=>{if(l(P.value)){const e=P.value.find((e=>String(e.value)===String(b.fieldValue)))||{};return(null==e?void 0:e.text)||b.fieldValue}return b.fieldValue}));return y((()=>i.modelValue),(e=>{b.fieldValue=e}),{deep:!0,immediate:!0}),y((()=>{var e;return null==f||null===(e=f.formData)||void 0===e?void 0:e[d.value.name]}),(e=>{b.fieldValue=e}),{immediate:!0,deep:!0}),y(P,((e=[])=>{if(l(e)&&1===e.length){const[{disabled:e,value:t}]=P.value;!i.isDefaultSelected||e||!_t(i.modelValue)&&""!==i.modelValue||$(t)}}),{deep:!0,immediate:!0}),(t,a)=>{const l=U,r=W;return g(),N(C,null,[Z(Pt,w({"model-value":_(b).fieldValue,class:!1===_(d).visible?"com-van-field--hidden":""},_(d),{"field-value-view":_(T),onClick:a[0]||(a[0]=t=>!e.isView&&(p.value=!0))}),D({_:2},[S(Object.keys(_(u)),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040,["model-value","class","field-value-view"]),Z(r,{show:_(p),"onUpdate:show":a[1]||(a[1]=e=>q(p)?p.value=e:null),height:40,closeable:!1},{default:V((()=>[Z(l,w({columns:_(P),"default-index":_(M),title:_(d).label},_(s),{onCancel:k,onConfirm:O}),D({_:2},[S(Object.keys(t.$slots),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040,["columns","default-index","title"])])),_:3},8,["show"])],64)}}}));var Et=Oe&&Oe.isDate,Tt=Et?ke(Et):function(e){return Pe(e)&&"[object Date]"==Me(e)};const xt=s({inheritAttrs:!1,__name:"ProCalendarV2",props:{type:{type:String,default:"single"},valueType:{type:String,default:"date"},modelValue:{type:[String,Date],default:""},isView:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{filedAttrs:r,filedSlots:i,attrs:o,slots:n}=R(Ct()),d=m({fieldValue:"",defaultDate:null}),[u,s]=z(!1),c={date:"YYYY-MM-DD",datehour:"YYYY-MM-DD HH",datetime:"YYYY-MM-DD HH:mm"},f=v((()=>c[a.valueType]||"YYYY-MM-DD")),p=v((()=>l(d.fieldValue)?d.fieldValue.join("range"===a.type?"~":","):"string"==typeof d.fieldValue?d.fieldValue:"")),h=e=>{let r;r="single"===a.type?G(e).format(f.value):l(e)?e.map((e=>G(e).format(f.value))):[],d.fieldValue=r,t("update:modelValue",r),s(!1)};return y((()=>a.modelValue),(e=>{"single"===a.type?"string"==typeof e&&e&&(d.defaultDate=G(e).toDate()):d.defaultDate=l(e)?e.map((e=>G(e).toDate())):null,d.fieldValue=(e=>"single"===a.type?Tt(e)?G(e).format(f.value):e||"":l(e)?e:[])(e)}),{immediate:!0,deep:!0}),(t,a)=>{const l=X;return g(),N(C,null,[Z(Pt,w({"model-value":_(d).fieldValue},_(r),{"field-value-view":_(p),onClick:a[0]||(a[0]=t=>!e.isView&&(u.value=!0))}),D({_:2},[S(Object.keys(_(i)),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040,["model-value","field-value-view"]),Z(l,w({show:_(u),"onUpdate:show":a[1]||(a[1]=e=>q(u)?u.value=e:null),type:e.type,"default-date":_(d).defaultDate},_(o),{onConfirm:h}),D({_:2},[S(Object.keys(_(n)),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040,["show","type","default-date"])],64)}}}),jt=e("d",s({inheritAttrs:!1,__name:"ProCascaderV2",props:{showFullValue:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object],default:""},columns:{type:Array,default:()=>[]},dictCode:{type:String,default:""},customFieldName:{type:Object,default:()=>({text:"name",value:"code",children:"children"})},level:{type:Number,default:0}},emits:["update:modelValue","update:fullValue"],setup(e,{emit:r}){const i=e,o=t(),{dictMap:n}=a(o),{filedAttrs:d,filedSlots:u,attrs:s,slots:c}=R(Ct()),[f,p]=z(!1),h=m({columns:[],modelValue:"",fieldValue:""}),b=()=>{p(!0)},$=()=>{p(!1)},O=v((()=>{let e=[];l(i.columns)&&(e=i.columns);const t=n.value[i.dictCode];return i.dictCode&&l(t)&&(e=t),((e,t=0,a="children")=>{const r=(e,i=1)=>l(e)?e.map((({[`${a}`]:e,...o})=>{const n={};return(!t||t&&t>i)&&l(e)&&(n.children=r(e,i+1)),{...o,...n}})):[];return r(e)})(e,i.level)})),k=v((()=>((e,t)=>{const a=[],{value:r,children:o}=i.customFieldName,n=(e,i=0)=>!!l(e)&&e.some(((e,d)=>{const{[o]:u,...s}=e;return a[i]=s,e[r]===t||!!l(u)&&n(u,i+1)}));return l(e)&&!n(e)?[]:a})(O.value,h.modelValue))),P=v((()=>{if(l(k.value)){const e=k.value.map((e=>e[i.customFieldName.text]));return i.showFullValue?e.join("/"):e[e.length-1]}return""})),M=({value:e,selectedOptions:t})=>{h.modelValue=e,h.fieldValue=e,r("update:modelValue",e),$()};return y((()=>i.modelValue),(e=>{h.modelValue=e}),{immediate:!0,deep:!0}),y((()=>k.value),(e=>{r("update:fullValue",e)}),{deep:!0,immediate:!0}),(t,a)=>{const l=K,r=W;return g(),N(C,null,[Z(Pt,w({"model-value":_(h).fieldValue},_(d),{"field-value-view":_(P),onClick:b}),D({_:2},[S(Object.keys(_(u)),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040,["model-value","field-value-view"]),Z(r,{show:_(f),"onUpdate:show":a[0]||(a[0]=e=>q(f)?f.value=e:null),height:60,closeable:!1,class:"com-cascader-popup"},{default:V((()=>[Z(l,w({options:_(O),"field-names":e.customFieldName,"model-value":_(h).modelValue},_(s),{onClose:$,onFinish:M}),null,16,["options","field-names","model-value"])])),_:1},8,["show"])],64)}}})),Ft=s({inheritAttrs:!1,__name:"ProDatePickerV2",props:{type:{type:String,default:"date"},modelValue:{type:[String,Date],default:""},isView:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:modelValue","cancel"],setup(e,{emit:t}){const a=e,{filedAttrs:l,filedSlots:r,attrs:i,slots:o}=R(Ct()),{formState:n}=E(ne)||{},[d,u]=z(!1),s=v((()=>!["time","month-day"].includes(a.type))),c=m({fieldValue:"",date:s.value?new Date:null}),f={datetime:"YYYY-MM-DD HH:mm",date:"YYYY-MM-DD","year-month":"YYYY-MM","month-day":"MM-DD",datehour:"YYYY-MM-DD HH",time:"mm:ss"},p=v((()=>({minDate:new Date(1900,0,1),maxDate:new Date}))),h=v((()=>f[a.type]||"YYYY-MM-DD HH:mm")),b=e=>{c.fieldValue=Tt(e)?G(e).format(h.value):e,t("update:modelValue",c.fieldValue),u(!1)},$=()=>{u(!1),t("cancel")},O=e=>{Tt(e)?(c.date=e,c.fieldValue=G(e).format(h.value)):"string"==typeof e&&(c.fieldValue=e,s.value?c.date=G(e,h.value).isValid()?G(e,h.value).toDate():null:c.date=e)};return y((()=>a.modelValue),(e=>{O(e)}),{immediate:!0,deep:!0}),y((()=>{var e;return null===(e=n.formData)||void 0===e?void 0:e[l.value.name]}),(e=>{O(e)}),{immediate:!0,deep:!0}),(t,a)=>{const n=J,u=W;return g(),N(C,null,[Z(Pt,w({"model-value":_(c).fieldValue},_(l),{"field-value-view":_(c).fieldValue,onClick:a[0]||(a[0]=t=>!e.isView&&(d.value=!0))}),D({_:2},[S(Object.keys(_(r)),(e=>({name:e,fn:V((()=>[A(t.$slots,e,{},void 0,!0)]))})))]),1040,["model-value","field-value-view"]),Z(u,{show:_(d),"onUpdate:show":a[1]||(a[1]=e=>q(d)?d.value=e:null),height:40,closeable:!1},{default:V((()=>[Z(n,w({type:e.type,"model-value":_(c).date,title:_(l).label},{..._(p),..._(i)},{onConfirm:b,onCancel:$}),D({_:2},[S(Object.keys(_(o)),(e=>({name:e,fn:V((()=>[A(t.$slots,e,{},void 0,!0)]))})))]),1040,["type","model-value","title"])])),_:3},8,["show"])],64)}}});var Rt=e("h",u(Ft,[["__scopeId","data-v-eecd8ea6"]])),It=e("P",u(s({__name:"ProSMSCode",props:{time:{type:Number,default:60},smsText:{type:String,default:"验证码"},relatedName:{type:String,default:"mobile"},sendSMSCode:{type:Function,default:e=>{"function"==typeof e&&e()}}},setup(e){const t=e,{formState:a,formRef:l}=E(ne)||{},r=m({iscountdowning:!1}),{current:i,start:o,reset:n}=Q({time:1e3*t.time,onFinish(){r.iscountdowning=!1}}),d=()=>{r.iscountdowning||l.value.validate(t.relatedName).then((()=>{t.sendSMSCode({mobile:a.formData[t.relatedName]},(()=>{r.iscountdowning=!0,k({message:"短信发送成功，请查收"}),n(),o()}))})).catch((()=>{}))},u=v((()=>{const{seconds:e}=i.value||{};return 0===e?t.smsText:r.iscountdowning?`${e}s`:t.smsText}));return(e,t)=>{const a=ee;return e.$attrs.isView?O("",!0):(g(),b(Vt,w({key:0,class:"com-pro-sms-code",type:"digit",maxlength:_(se).SMS_CODE},e.$attrs),{extra:V((()=>[Z(a,{class:"extra-button",size:"small",plain:"",type:"primary",onClick:d},{default:V((()=>[Y(j(_(u)),1)])),_:1})])),_:1},16,["maxlength"]))}}}),[["__scopeId","data-v-b4ef4f7e"]])),Yt=e("e",u(s({inheritAttrs:!1,__name:"ProAddress",props:{name:{type:String,default:""},customFieldName:{type:Object,default:()=>({text:"name",value:"code",children:"children"})},valuePrefix:{type:String,default:""},attributeValueList:{type:Array,default:()=>[]}},setup(e){const t=e,a=m({address:{detail:""}}),r=v((()=>t.valuePrefix?Object.keys(a.address).reduce(((e,l)=>(e[(e=>{return"string"==typeof e&&e?t.valuePrefix?`${t.valuePrefix}${a=e,"string"==typeof a&&a?`${a[0].toUpperCase()}${a.substring(1)}`:""}`:e:"";var a})(l)]=a.address[l],e)),{}):a.address)),i=v((()=>{if(l(t.attributeValueList)){let e=0,a=!1;return t.attributeValueList.forEach((t=>{Number(t.code)>e&&"4"!==String(t.code)&&(e=Number(t.code)),"4"!==String(t.code)&&(a=!0)})),{level:e&&e+1,showDetail:a}}return{level:0,showDetail:!0}})),o=(e=[])=>{let r={};if(l(e)){const{text:a,value:l}=t.customFieldName;r=["province","city","area"].slice(0,Number(i.value.level||3)).reduce(((t,r,i)=>{const o=e[i+1]||{};return t[`${r}Code`]=o[l],t[`${r}Name`]=o[a],t}),{})}a.address={...a.address,...r}};return(t,l)=>{const n=Vt;return g(),N(C,null,[Z(Pt,{class:"com-van-field-hidden",name:e.name,"model-value":_(r)},null,8,["name","model-value"]),Z(jt,w({"show-full-value":"","custom-field-name":e.customFieldName},t.$attrs,{name:`${e.name}-origin`,level:_(i).level,"onUpdate:fullValue":o}),null,16,["custom-field-name","name","level"]),_(i).showDetail?(g(),b(n,{key:0,modelValue:_(a).address.detail,"onUpdate:modelValue":l[0]||(l[0]=e=>_(a).address.detail=e),label:`${t.$attrs.label}详细地址`,required:t.$attrs.required,maxlength:50},null,8,["modelValue","label","required"])):O("",!0)],64)}}}),[["__scopeId","data-v-33a818c5"]]));const Ht=e("_",s({inheritAttrs:!1,__name:"ProRenderFormWithCard",props:{title:{type:String,default:""},class:{type:String,default:""}},setup(e,{expose:t}){const a=e,l=f(null);return t({...["submit","getValues","validate","resetValidation","getValidationStatus","scrollToField"].reduce(((e,t)=>(e[t]=(...e)=>{var a;return null===(a=l.value)||void 0===a?void 0:a[t](...e)},e)),{})}),(t,r)=>{var i;const o=ae;return null!==(i=t.$attrs.schema)&&void 0!==i&&i.length?(g(),b(o,{key:0,class:te(`com-pro-form-with-card com-card-body-no-padding ${a.class}`),"show-line":!1,"show-divider":!1,title:e.title},{default:V((()=>[Z(gt,w({ref_key:"renderFormRef",ref:l},t.$attrs),D({_:2},[S(Object.keys(t.$slots),(e=>({name:e,fn:V((()=>[A(t.$slots,e)]))})))]),1040)])),_:3},8,["class","title"])):O("",!0)}}}))}}}));
