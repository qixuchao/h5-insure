import{g as C,a8 as u,a9 as P,aa as N,E as _,r as v,j as f,n as V,z as h,J as B,p as D,m,k as E,t as S,A as b,C as T}from"./vendor-83047d1f.js";import{_ as z}from"./index-e01a306c.js";const A={class:"pdf-viewer"},F=T("\u52A0\u8F7D\u4E2D..."),I=["id","isee_pdf"],U=C({props:{title:{type:String,default:""},url:{type:String,default:""}},setup(c){const g=c;u.exports.GlobalWorkerOptions.workerSrc=P;const d=N(),a=_(!1),n=_(!0),w=()=>{const o=document.getElementById(d);if(o.hasChildNodes()){n.value=!1;return}u.exports.getDocument({url:g.url}).promise.then(s=>{const l=s.numPages;for(let e=1;e<=l;e++)s.getPage(e).then(p=>{const i=p.getViewport({scale:1}),t=document.createElement("canvas"),y=t.getContext("2d");t.width=i.width,t.height=i.height,t.style.width="100%",o.append(t);const k={canvasContext:y,viewport:i};p.render(k),n.value=!1})})},x=async()=>{a.value=!0,setTimeout(()=>{w()},0)};return(o,r)=>{const s=v("van-loading"),l=v("van-popup");return f(),V("span",A,[h("span",{class:"title",onClick:x},B(c.title),1),D(l,{show:a.value,"onUpdate:show":r[0]||(r[0]=e=>a.value=e),closeable:"","close-icon":"close",position:"bottom",style:{height:"600px"}},{default:m(()=>[n.value?(f(),E(s,{key:0,type:"spinner",vertical:"",class:"loading",size:"30px"},{default:m(()=>[F]),_:1})):S("",!0),h("div",{id:b(d),isee_pdf:o.pdfUrl,style:{height:"600px",width:"100%",overflow:"auto"}},null,8,I)]),_:1},8,["show"])])}}});var J=z(U,[["__scopeId","data-v-61756b88"]]);export{J as P};
