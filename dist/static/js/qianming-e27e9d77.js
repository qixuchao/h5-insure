import{d as e,aV as l,aW as a,j as s,k as i,b9 as n,E as t,o,c as d,b as c,w as u,a as r,e as p,u as A,n as g,aY as m,f as v,v as f,p as C,q as w,ah as h,b2 as y,ar as E,g as S,cr as Y}from"./index-c3cf1687.js";import{S as b}from"./index-37849be1.js";const O={class:"com-sign-part"},P={class:"people"},W={class:"name"},x={key:0,class:"verify-item"},D=r("div",{class:"label"},"证件号码",-1),I={class:"no"},T={class:"sign-status"},U=["src"],V={key:1,class:"sign-desc"},k={class:"sign-body"},F={class:"date"},j={class:"file"},B=e({name:"signPart"}),L=e({...B,props:{signString:{default:()=>[]},personalInfo:{default:()=>({})},fileList:{},title:{default:""},showSign:{type:Boolean,default:!1},showVerify:{type:Boolean,default:!1},showShareSign:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},compositionSign:{default:""}},emits:["handleVerify","handleSign"],setup(e,{expose:S,emit:Y}){const B=e,L=l((()=>a((()=>import("./index-7b6f7202.js")),["static/js/index-7b6f7202.js","static/css/index-4822eb94.css","static/js/index-c3cf1687.js","static/css/index-dbb15c91.css"]))),M=l((()=>a((()=>import("./index-9f261cc3.js")),["static/js/index-9f261cc3.js","static/css/index-fa4edf2a.css","static/js/index-c3cf1687.js","static/css/index-dbb15c91.css","static/js/theme-94cf7d00.js","static/js/index-ca5fa9a2.js","static/css/index-bbfdd7ec.css","static/js/utils-2209ca51.js","static/js/infoCollection-e9e6e95d.js","static/js/trial-7cc2dfd6.js"]))),G=s({}),N=s([]);s([]),s({}),s(!0);const K=s(!1),z=s(0),Z=e=>`${e}`===h.CERT,Q=i((()=>n().format("YYYY-MM-DD"))),q=()=>{var e,l;Y("handleVerify",null==(e=G.value)?void 0:e.name,null==(l=G.value)?void 0:l.certNo)},H=()=>{K.value=!1},R=s(),X=()=>{R.value&&R.value.openSign(!0)},J=()=>{B.disabled||R.value&&R.value.openSign()},_=e=>{Y("handleSign",e)};return S({validateSign:()=>new Promise(((e,l)=>{var a;(null==(a=N.value)?void 0:a.length)?e(!0):l(new Error(`请先完成${B.title}签名`))})),validateVerify:()=>new Promise(((e,l)=>{var a;(null==(a=B.personalInfo)?void 0:a.isCert)!==m.YES?l(new Error(`请${B.title}完成认证`)):e(!0)}))}),t((()=>B.signString),(()=>{N.value=B.signString}),{immediate:!0,deep:!0}),t((()=>B.personalInfo),(()=>{G.value=B.personalInfo}),{deep:!0,immediate:!0}),(e,l)=>{const a=y,s=E;return o(),d("div",O,[c(s,{title:e.title,class:"card"},{extra:u((()=>{var l,a,s,i;return[r("div",P,[r("div",W,p(null==(l=A(G))?void 0:l.name),1),e.showVerify&&Z(null==(a=A(G))?void 0:a.certType)?(o(),d("div",{key:0,class:g(["status",{verified:(null==(s=A(G))?void 0:s.isCert)===A(m).YES}])},p((null==(i=A(G))?void 0:i.isCert)===A(m).YES?"已认证":"待认证"),3)):v("",!0)])]})),default:u((()=>{var l,s,i,n;return[e.showVerify&&(null==(l=A(G))?void 0:l.certNo)?(o(),d("div",x,[D,r("div",I,p(null==(s=A(G))?void 0:s.certNo),1),(null==(i=A(G))?void 0:i.isCert)!==A(m).YES&&Z(null==(n=A(G))?void 0:n.certType)?(o(),d("div",{key:0,class:"action",onClick:q},[f(" 去认证 "),c(a,{name:"right_arrow",class:"icon"})])):v("",!0)])):v("",!0)]})),_:1},8,["title"]),e.showSign?(o(),C(s,{key:0,title:`${e.title}签名`,"show-icon":!1,class:"sign-card","show-line":!1},{extra:u((()=>[r("div",T,[e.disabled?v("",!0):(o(),d("div",{key:0,class:"resign",onClick:X},"重签"))])])),default:u((()=>{var a,s;return[c(b,{ref_key:"signRef",ref:R,modelValue:A(N),"onUpdate:modelValue":l[0]||(l[0]=e=>w(N)?N.value=e:null),"sign-string":(null==(a=A(G))?void 0:a.name)||"",class:"sign",onSubmitSign:_},{signImg:u((({data:l})=>[r("div",{class:"sign-board",onClick:J},[e.compositionSign?(o(),d("img",{key:0,src:e.compositionSign,class:"sign-img",alt:""},null,8,U)):(o(),d("span",V,"请签名"))])])),_:1},8,["modelValue","sign-string"]),r("div",k,[r("div",F,"签名日期： "+p(A(Q)),1),r("div",j,[(null==(s=e.fileList)?void 0:s.length)?(o(),C(A(L),{key:0,"attachment-list":e.fileList,"pre-text":"签名将被用于以下文件：",onPreviewFile:l[1]||(l[1]=e=>(e=>{z.value=e,K.value=!0})(e))},null,8,["attachment-list"])):v("",!0)])])]})),_:1},8,["title"])):v("",!0),A(K)?(o(),C(A(M),{key:1,show:A(K),"onUpdate:show":l[2]||(l[2]=e=>w(K)?K.value=e:null),"content-list":e.fileList,"is-only-view":"","active-index":A(z),text:"关闭",onOnCloseFilePreviewByMask:H},null,8,["show","content-list","active-index"])):v("",!0)])}}});const M={class:"content-wrap"},G={class:"content"},N={class:"footer"},K=["src"],z=e({name:"messagePopup"}),Z=e({...z,props:{modelValue:{type:Boolean,default:!1}},emits:["close","update:modelValue"],setup(e,{emit:l}){const a=e,s=i((()=>a.modelValue)),n=()=>{l("update:modelValue",!1)};return(e,l)=>{const a=Y;return o(),C(a,{show:A(s),"onUpdate:show":l[0]||(l[0]=e=>w(s)?s.value=e:null),class:"message-popup"},{default:u((()=>[r("div",M,[r("div",G,[S(e.$slots,"default")]),r("div",N,[r("img",{src:A("data:image/png;base64,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"),alt:"",onClick:n},null,8,K)])])])),_:3},8,["show"])}}});var Q="/h5insure/static/jpg/qianming-c0092beb.jpg";export{L as _,Z as a,Q as q};
