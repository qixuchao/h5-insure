import{g as B,L as V,_ as b,K as L,p as A,A as d,o as p,E,B as r,t as s,k as _,U as I,j as n,i as f,F as N,G as w,J as y,H as l,D as R,T}from"./vendor-efd23fdb.js";import{_ as S,t as U}from"./index-4efca34e.js";import{P as $}from"./index-df8a49b5.js";import{h as q,d as H}from"./proposalList-e3583776.js";const W={class:"proposal-content"},j={class:"title"},z={class:"premium"},G=l(" \u4FDD\u8D39\uFF1A"),J={class:"operate-btn"},K=l("\u5220\u9664"),M=l("\u7F16\u8F91"),O=l("\u9884\u89C8"),Q=B({setup(X){const F=[{title:"\u9669\u79CD\u540D\u79F0",dataIndex:"riskName",width:180},{title:"\u4FDD\u969C\u671F\u95F4",dataIndex:"coveragePeriod"},{title:"\u7F34\u8D39\u671F\u95F4",dataIndex:"chargePeriod",width:110},{title:"\u4FDD\u8D39",dataIndex:"premium",width:120}],k=V({historyList:[],searchValue:""}),{historyList:m,searchValue:u}=b(k),h=L(),c=()=>{q({name:u.value,pageNum:1,pageSize:999,relationUserType:2}).then(t=>{const{code:o,data:a}=t;o==="10000"&&(m.value=a.datas)})},P=()=>{c()},C=t=>{R.confirm({title:"\u5220\u9664\u8BA1\u5212\u4E66",message:"\u786E\u8BA4\u5220\u9664\u8BA1\u5212\u4E66"}).then(()=>{H(t).then(o=>{const{code:a}=o;a==="10000"&&(T.success("\u5220\u9664\u6210\u529F"),c())})}).catch(()=>{})},D=t=>{h.push({path:"compositionProposal",query:{id:t}})},g=t=>{h.push({path:"/proposal/createProposal",query:{id:t}})};return A(()=>{c()}),(t,o)=>{const a=d("van-search"),i=d("van-button"),x=d("ProPageWrap");return p(),E(x,{class:"page-history-proposal"},{default:r(()=>[s(a,{modelValue:_(u),"onUpdate:modelValue":o[0]||(o[0]=e=>I(u)?u.value=e:null),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",shape:"round",class:"search",onClickInput:P},null,8,["modelValue"]),n("div",W,[(p(!0),f(w,null,N(_(m),e=>(p(),f("div",{key:e.id,class:"proposal-item"},[n("div",j,y(e.proposalName),1),n("p",z,[G,n("span",null,"\xA5"+y(_(U)(e.totalPremium)),1)]),s($,{columns:F,class:"table","data-source":e.proposalProductRiskVOList},null,8,["data-source"]),n("div",J,[s(i,{plain:"",round:"",type:"primary",class:"del-btn",onClick:v=>C(e.id)},{default:r(()=>[K]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:v=>g(e.id)},{default:r(()=>[M]),_:2},1032,["onClick"]),s(i,{plain:"",round:"",type:"primary",onClick:v=>D(e.id)},{default:r(()=>[O]),_:2},1032,["onClick"])])]))),128))])]),_:1})}}});var oe=S(Q,[["__scopeId","data-v-38b0cb63"]]);export{oe as default};
