import{d as t,i as e,z as a,o as n,c as i,a as s,e as o,b as l,w as r,F as d,n as c,l as u,bS as m,q as p,u as f,m as v,_ as h,cx as y,h as I,g as j,r as L,j as b,O as g,dA as O,b7 as V,cY as k,a8 as _,al as w,b9 as A,V as N,a9 as q,bT as x,bk as D,ae as T,at as C,au as P}from"./index-498c0d29.js";import{C as R}from"./index-0d8eb6fa.js";import{_ as Y}from"./index-ed61e696.js";import{m as Q}from"./trial-9e1d90c3.js";import"./infoCollection-52253c27.js";import"./core-5d06ea69.js";import{I as U}from"./infoItem-e5eb89f3.js";import{C as M}from"./index-fa9eafc8.js";import{_ as E}from"./PayInfo-5cf7f500.js";import{l as H,c as S}from"./product-5f87ee35.js";import{Q as F}from"./questionnaire-3d9ee089.js";import{P as B}from"./index-668a7f3a.js";import{Q as G}from"./notice-33e6eedd.js";import{g as z}from"./utils-88caec7c.js";import{O as X}from"./OperateBtn-fb5f78e6.js";import"./index-ae6e97ae.js";import"./empth-c0adfdba.js";import"./cloneDeep-37ae572b.js";import"./lodash-7378ef0f.js";import"./index-3af9244f.js";import"./search-32da14cf.js";import"./trial-362bea3d.js";import"./constants-0be71446.js";const $={class:"insurance-notification-information"},J={class:"insurance-notification-information-title"},K={class:"insurance-notification-information-collapse"},W={class:"insurance-notification-information-content"};var Z=h(t({__name:"insuranceNotificationInformation",props:{title:{default:""},data:{default:()=>[]}},setup(t){const h=t,y=e([]);return e([]),a((()=>h.data),(()=>{}),{immediate:!0,deep:!0}),(t,e)=>{const a=R,h=M;return n(),i("div",$,[s("div",J,o(t.title),1),s("div",K,[l(h,{modelValue:f(y),"onUpdate:modelValue":e[0]||(e[0]=t=>v(y)?y.value=t:null)},{default:r((()=>[(n(!0),i(d,null,c(t.data,((t,e)=>(n(),u(a,{key:e,title:t.questionnaireName||e,name:e},{default:r((()=>[s("div",W,[t?(n(),u(m,{key:0,type:t.contentType,"is-view":"",content:t,params:{}},null,8,["type","content"])):p("",!0)])])),_:2},1032,["title","name"])))),128))])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-4eb30ed0"]]);const tt=t=>(C("data-v-fd800c36"),t=t(),P(),t),et={class:"page-order-detail"},at=tt((()=>s("div",{class:"card-item-name"},"订单进度",-1))),nt={class:"card-item-icon"},it={class:"card card-list"},st=tt((()=>s("p",{class:"card-list-title"},"健利保倍享版",-1))),ot={class:"card card-list"},lt={class:"card-list-head"},rt=tt((()=>s("div",{class:"card-list-title"},"险种信息",-1))),dt={class:"card-list-premium"},ct={class:"card"},ut=tt((()=>s("div",{class:"policy-options"},[_("保单选项 "),s("span",{class:"policy-options-content"},"纸质保单和电子保单")],-1))),mt={class:"card"},pt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"投保人资料",-1))),ft={class:"tenantOrderAttachmentList-img"},vt=["src"],ht=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"被保人资料",-1))),yt={class:"tenantOrderAttachmentList-img"},It=["src"],jt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"受益人资料",-1))),Lt={class:"tenantOrderAttachmentList-img"},bt=["src"],gt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"监护人资料",-1))),Ot={class:"tenantOrderAttachmentList-img"},Vt=["src"],kt=tt((()=>s("div",{class:"tenantOrderAttachmentList-title"},"银行卡信息",-1))),_t={class:"tenantOrderAttachmentList-img"},wt=["src"],At={class:"insurance-notification-information card"},Nt={class:"footer-button"};var qt=h(t({__name:"index",setup(t){const a=y(),m=I();j();const h=e(),C=e([]),P=e([]),$=[{title:"险种名称",dataIndex:"riskName",width:200},{title:"保险金额/份数",dataIndex:"regularPremium",width:180,render:(t,e)=>t.regularPremium/t.copy},{title:"保障期间",dataIndex:"coveragePeriodDesc",width:180},{title:"交费期间",dataIndex:"chargePeriodDesc",width:180},{title:"首期保费",dataIndex:"initialPremium",width:180,render:(t,e)=>t.initialPremium}],J=L({customerQuestions:[],payInfo:{schema:[],config:[],formData:[]}}),{query:{orderNo:K,agentCode:W,tenantId:tt}}=m,qt=()=>{q("orderTrajectory",{orderNo:K,orderId:h.value.id,tenantId:tt})},xt=e(!1),Dt=e(),Tt=e([]),Ct=b((()=>t=>{const{tenantOrderAttachmentList:e}=h.value;return(null==e?void 0:e.length)?e.filter((e=>e.objectType===t)):[]})),Pt=e();return g((()=>{O({orderNo:K,agentCode:W,tenantId:tt}).then((({code:t,data:e})=>{if("10000"===t){h.value=e,Pt.value=e,h.value.tenantOrderPayInfoList=e.tenantOrderPayInfoList||[];const t=Object.keys(h.value.productCodeList).map((t=>({productCode:t,mergeRiskReqList:h.value.productCodeList[t]})));S(a={productList:t}).then((({data:t,code:e})=>{var a,n;"10000"===e&&(Tt.value=null==(n=null==(a=t.riskMaterialList)?void 0:a[0])?void 0:n.productMaterialList)})),Q(a).then((({data:t,code:e})=>{if("10000"===e){const{productDetailResList:e,productFactor:a}=t;Dt.value=a;const{payInfo:n}=D(a);J.payInfo={...J.payInfo,...n}}})),(async t=>{let e=[];const{code:a,data:n}=await x({orderNo:K,tenantId:tt});"10000"===a&&(e=n.productQuestionnaireVOList);const{code:i,data:s}=await H(t);if("10000"===i){const{productQuestionnaireVOList:t}=s||{},a=t.filter((t=>t.businessType!==G.VISIT));J.customerQuestions=a.map((t=>{const{questionnaireDetailResponseVO:a,questionnaireId:n,questionnaireName:i}=t||{},{questions:s,basicInfo:o}=a||{},{objectType:l,questionnaireType:r}=o||{};if(r===F.TEXT){const{content:t,textType:e}=(null==s?void 0:s[0])||{};return{content:t,contentType:z(`${e}`,t),questionnaireId:n,questionnaireName:i}}const d=(e||[]).find((t=>t.questionnaireId===n));return{...a,contentType:"question",...null==d?void 0:d.questionnaireDetailResponseVO,questionnaireId:n,questionnaireName:i}}))}})({productCodeList:Object.keys(h.value.productCodeList)})}var a}))})),(t,e)=>{const m=T,y=Y,I=R,j=M,L=V,b=k("loading");return n(),u(L,{"theme-vars":f(a)},{default:r((()=>{var a,L,g,O,V,k,q,x,D,T,R;return[s("div",et,[s("div",{class:"card card-head",onClick:qt},[at,s("div",nt,[_(o(null==(a=f(h))?void 0:a.orderStepDesc)+" ",1),l(m,{name:"arrow-right"})])]),s("div",it,[st,l(U,{label:"订单号",content:null==(L=f(h))?void 0:L.orderNo,line:"","is-copy":"","min-width":"other"},null,8,["content"]),(n(!0),i(d,null,c(null==(g=f(h))?void 0:g.applicationNo,(e=>(n(),u(U,{key:e,label:"投保单号",content:t.applicationNo,line:"","is-copy":"","min-width":"other"},null,8,["content"])))),128)),l(U,{label:"创建时间",content:f(w)(null==(O=f(h))?void 0:O.gmtCreated).format("YYYY-MM-DD HH:mm:ss"),line:"","min-width":"other"},null,8,["content"]),l(U,{label:"投保时间",content:f(w)(null==(V=f(h))?void 0:V.orderDate).format("YYYY-MM-DD HH:mm:ss"),line:"","min-width":"other"},null,8,["content"]),l(U,{label:"投保保费",content:null==(k=f(h))?void 0:k.orderAmount,line:"","min-width":"other"},null,8,["content"]),l(U,{label:"承保保费",content:null==(q=f(h))?void 0:q.orderAmount,line:"","min-width":"other"},null,8,["content"])]),s("div",ot,[s("div",lt,[rt,s("div",dt,[_(" 首年保费："),s("span",null,o(null==(x=f(h))?void 0:x.orderAmount),1)])]),(null==(T=null==(D=f(h))?void 0:D.riskList)?void 0:T.length)>0?(n(),u(y,{key:0,columns:$,class:"table","data-source":null==(R=f(h))?void 0:R.riskList},null,8,["data-source"])):p("",!0)]),s("div",ct,[l(j,{modelValue:f(C),"onUpdate:modelValue":e[0]||(e[0]=t=>v(C)?C.value=t:null)},{default:r((()=>[l(I,{title:"投保告知信息",name:"1"},{default:r((()=>[ut])),_:1})])),_:1},8,["modelValue"])]),s("div",mt,[l(j,{modelValue:f(P),"onUpdate:modelValue":e[1]||(e[1]=t=>v(P)?P.value=t:null)},{default:r((()=>[l(I,{title:"影像信息",name:"1"},{default:r((()=>[pt,s("div",ft,[(n(!0),i(d,null,c(f(Ct)(f(A).HOLDER),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,vt)])))),128))]),ht,s("div",yt,[(n(!0),i(d,null,c(f(Ct)(f(A).INSURED),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,It)])))),128))]),jt,s("div",Lt,[(n(!0),i(d,null,c(f(Ct)(f(A).BENEFICIARY),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,bt)])))),128))]),gt,s("div",Ot,[(n(!0),i(d,null,c(f(Ct)(f(A).GUARDIAN),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,Vt)])))),128))]),kt,s("div",_t,[(n(!0),i(d,null,c(f(Ct)(f(A).INIT_SIGN),((t,e)=>(n(),i("div",{key:e,class:"attachment-item"},[s("img",{src:t.uri,alt:""},null,8,wt)])))),128))])])),_:1})])),_:1},8,["modelValue"])]),s("div",At,[l(Z,{title:"投保告知信息",data:f(J).customerQuestions||[]},null,8,["data"])]),f(Dt)?(n(),u(B,{key:0,ref:"personalInfoRef",modelValue:f(Pt),"onUpdate:modelValue":e[2]||(e[2]=t=>v(Pt)?Pt.value=t:null),"product-factor":f(Dt),"is-view":""},null,8,["modelValue","product-factor"])):p("",!0),f(J).payInfo.schema.length?(n(),u(f(E),{key:1,ref:"payInfoRef",modelValue:f(h).tenantOrderPayInfoList,"onUpdate:modelValue":e[3]||(e[3]=t=>f(h).tenantOrderPayInfoList=t),schema:f(J).payInfo.schema,"is-view":""},null,8,["modelValue","schema"])):p("",!0),N((n(),i("div",Nt,[l(X,{detail:f(h)},null,8,["detail"])])),[[b,f(xt)]])])]})),_:1},8,["theme-vars"])}}}),[["__scopeId","data-v-fd800c36"]]);export{qt as default};
