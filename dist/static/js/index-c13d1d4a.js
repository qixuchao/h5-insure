import{u as e,E as t,F as n,_ as o}from"./index-d66a20d8.js";import{reactive as u,ref as r,computed as a,onMounted as l,nextTick as i}from"vue";import{b as s}from"./product-d1af8bd8.js";const v={class:"header"},c=["src"],d={class:"content"},p=(e=>(vue.pushScopeId("data-v-6209abe6"),e=e(),vue.popScopeId(),e))((()=>vue.createElementVNode("h4",null,"温馨提示，您已进入投保流程：",-1))),m={class:"statement"},f={class:"footer"},N={key:0},g={class:"review-pdf"},C=vue.defineComponent({name:"preNotice"});var V=o(vue.defineComponent({...C,props:{productDetail:{default:()=>({})}},setup(o){const C=o,V=e(),{tenantId:h="",preview:w}=V.query,k=u({insureConfig:{insureName:"",tenantName:"",privacyAgreement:{title:""}},statement:""}),y=r(!1),E=r(!1),b=new t({source:"sessionStorage"}),x=n({time:4e3,onFinish:()=>{b.set("PRENOTICE-isShow","1")}}),I=r({title:"",link:""}),S=a((()=>x.current.value.seconds)),P=a((()=>{if(I.value.link){const e=(I.value.link||"").split("?"),t=(e[0]||"").substr(e[0].lastIndexOf(".")+1);return console.log("urlList",t),"pdf"===t?"pdf":"picture"}return"link"})),_=()=>{y.value=!1};return l((()=>{!w&&(async()=>{const{code:e,data:t}=await s({insureCode:C.productDetail.insurerCode,tenantId:h});"10000"===e&&(k.insureConfig=t,k.statement=`本产品由${t.tenantName}销售本页面仅做产品展示，具体承保方案以实际保单约定为准`,i((()=>{x.start()}))),y.value=!0})()})),(e,t)=>{var n;const o=vue.resolveComponent("VanButton"),u=vue.resolveComponent("ProPopup"),r=vue.resolveComponent("ProFilePreview");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(u,{class:"pre-notice-wrap",show:vue.unref(y),closeable:!1,height:"auto",style:{"padding-bottom":"30px"}},{default:vue.withCtx((()=>{var e;return[vue.createElementVNode("div",v,[vue.createElementVNode("img",{src:vue.unref("/static/png/header-logo-f6f405b0.png")},null,8,c)]),vue.createElementVNode("div",d,[p,vue.createElementVNode("p",null,[vue.createTextVNode(" 请仔细阅读免责条款、投保须知等信息，请您重点阅读并知晓 "),vue.createElementVNode("span",{class:"file-name",onClick:t[0]||(t[0]=e=>((e,t)=>{var n;E.value=!E.value,I.value.link=null==(n=k.insureConfig)?void 0:n[t].link,I.value.title=e.target.innerText})(e,"privacyAgreement"))}," 《"+vue.toDisplayString((null==(e=vue.unref(k).insureConfig.privacyAgreement)?void 0:e.title)||"用户隐私协议")+"》 ",1),vue.createTextVNode(" ，为维护您的合法权益，您的操作轨迹将被记录。 ")])]),vue.createElementVNode("abbr",m,vue.toDisplayString(vue.unref(k).statement),1),vue.createElementVNode("div",f,[vue.createVNode(o,{type:"primary",block:"",round:"",onClick:_},{default:vue.withCtx((()=>[vue.createTextVNode(" 好的 "),vue.unref(S)?(vue.openBlock(),vue.createElementBlock("span",N,vue.toDisplayString(vue.unref(S))+"s",1)):vue.createCommentVNode("",!0)])),_:1})])]})),_:1},8,["show"]),vue.createVNode(u,{show:vue.unref(E),"onUpdate:show":t[1]||(t[1]=e=>vue.isRef(E)?E.value=e:null),class:"pre-notice-wrap",title:null==(n=vue.unref(I))?void 0:n.title,position:"bottom",style:{overflow:"hidden"}},{default:vue.withCtx((()=>{var e;return[vue.createElementVNode("div",g,[vue.createVNode(r,{content:null==(e=vue.unref(I))?void 0:e.link,type:vue.unref(P)},null,8,["content","type"])])]})),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-6209abe6"]]);export{V as P};
