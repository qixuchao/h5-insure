import{h as F,at as v,G as E,N as V,$ as N,k as m,p as _,A as s,B as t,s as u,Z as O,a5 as x,a6 as S,aa as T,P,j as K,r as U,m as Y,n as w,H as q,F as M}from"./vendor-4d9de129.js";import{P as y}from"./index-14ac9a1f.js";import{B as Q}from"./index-a685aa68.js";import{_ as W}from"./index-bfb6fc8d.js";import{a as H,s as L}from"./phoneVerify-d25668d4.js";import{_ as D}from"./index-b853de44.js";import{p as j,g as k}from"./product-2df3faac.js";import{i as z,t as G}from"./trial-f92eac15.js";import{u as J}from"./theme-775c7ab9.js";import"./check-detail-60b0cbde.js";import"./infoCollection-6ac2fee7.js";import"./relativeTime-4ed25667.js";import"./useDicData-51d348cd.js";var C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAeCAYAAAC2Xen2AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAVqADAAQAAAABAAAAHgAAAABxFx1vAAABtUlEQVRoBe2ZP06EUBDGv2eWdTtbay9goZ2FlYmVra0a9AbrIfQGuqK9nTeQxE6LvcDWtnSrCDhDsgQR2LcbpuBlSDYM84bv2/ll+JNgsGT79rFHJe+Vsv3hBB+VnMhhX/03RGioKBSs0BAoWAUrREBIVidWwQoREJLViVWwQgSEZHViFawQASFZnVgFK0RASFYnVsEKERCS1YlVsEIEhGR1YoXAmi8fNwYYd6mfAbebE1zbaLrqT0wB+vwR0O7cBoRFzSN9trmwqCtKXPTPbwVehEuT4aXodM2ANVhr1dNd9M/BmmckgwSnBCRcFUqpPmQN1irlrEIX/fNbwaL77ApbcYZXZNhd5Kz2BlPP4NDcIbKqbyhyyf8PWO43O8N2PMAbhTsN/VfTM+8HB+YJn9WFdY5d8c9vBWUADChNcURP9qWguIZru4LK/8MV/39gublRgJlJcUxh26UdcQ3X8jldbi7414JlSMMAU3rKn1A4r4E25zWuqVnrJNV3/0awTMd7QJia/G2h/KRPOMdrnRBsEemzfytY7nl0T++3Bn7RP8V5rkjIBs77xz7G/JPF2KzeN/9fBin2izf9UfQAAAAASUVORK5CYII=";const X=r=>(x("data-v-dcd9ca58"),r=r(),S(),r),Z={class:"free-crad"},$={class:"container"},ee={class:"title"},te=["src"],oe=X(()=>s("span",null,"\u6700\u540E\u4E00\u6B65 \u586B\u5199\u4FE1\u606F",-1)),se=["src"],re=F({props:{colors:{type:Array,default:()=>["#CDDFFE","#F1F7FE"]},detail:{type:Object,default:()=>{}},isFirst:{type:Boolean,default:!0},insureDetail:{type:Object,default:()=>{}}},setup(r){const o=r;v(e=>({"06237d6f":o.colors[0],"06237d8e":o.colors[1]}));const d=E(),i=V({factorObj:{1:[{attributeValues:null,code:"mobile",datasource:null,defaultValue:null,displayType:null,factorId:null,factorScript:null,hasDefaultValue:1,id:8249,isDisplay:1,isHidden:1,isMustInput:2,isReadOnly:null,moduleType:1,placeholder:null,planCode:null,position:null,productCode:"lin23323",productId:null,title:"\u624B\u673A\u53F7"},{attributeValues:null,code:"verificationCode",datasource:null,defaultValue:null,displayType:null,factorId:null,factorScript:null,hasDefaultValue:1,id:8249,isDisplay:1,isHidden:1,isMustInput:2,isReadOnly:null,moduleType:1,placeholder:null,planCode:null,position:null,productCode:"lin23323",productId:null,title:"\u9A8C\u8BC1\u7801"}],2:[],3:[]},isFirst:!0}),A=()=>{var e;i.factorObj=(e=o.insureDetail)==null?void 0:e.productFactor,console.log(o.insureDetail,"detail====")},h=async(e,l)=>{const a=await(o.isFirst?H:L)(e),{code:n,data:c}=a;console.log(d.value.validateForm(),"slslslw=="),n==="10000"&&(l==null||l())};return N(()=>o.isFirst,()=>{o.isFirst||A()}),(e,l)=>(m(),_("div",Z,[s("div",$,[s("div",ee,[s("img",{src:t(C)},null,8,te),oe,s("img",{src:t(C)},null,8,se)]),u(W,{ref_key:"formRef",ref:d,"send-sms-code":h,"form-info":r.detail,"factor-object":t(i).factorObj},null,8,["form-info","factor-object"]),O(e.$slots,"default",{},void 0,!0)])]))}});var ae=D(re,[["__scopeId","data-v-dcd9ca58"]]);const ne={class:"page-free-product-detail"},le={class:"product-desc"},ie=["src"],ce={class:"page-free-footer"},ue=F({setup(r){v(a=>({"67dc7c5e":t(e).colors[1]}));const o=J();T();const d=P(),{productCode:i="BWYL2021",openId:A="oKugN52glZx_hhg7liu0WpWcmD5o",tenantId:h}=d.query;console.log("-----themeVars",o);const e=V({colors:["#fff"],detail:{},order:{tenantOrderHolder:{extInfo:{}},tenantOrderInsuredList:[{relationToHolder:"0",extInfo:{occupationCodeList:[]},insuredBeneficiaryType:"1",tenantOrderBeneficiaryList:[{beneficiaryId:0,extInfo:{occupationCodeList:[]}}]}],operateOption:{withBeneficiaryInfo:!0,withHolderInfo:!0,withInsuredInfo:!0,withAttachmentInfo:!0,withProductInfo:!0}},banner:"",productDesc:[],newAuth:!0,insureDetail:{}}),l=async()=>{const a=j({productCode:i,withInsureInfo:!0,tenantId:0}),n=z({productCode:i}),c=k({openId:A});await Promise.all([a,n,c]).then(([p,f,g])=>{var I;if(p.code==="10000"){e.detail=p.data,e.banner=(I=e.detail.tenantProductInsureVO)==null?void 0:I.banner[0];const{colorEnd:b,colorStart:R}=e.detail.tenantProductInsureVO.backgroundInsureVO;e.colors=[R,b],e.productDesc=e.detail.tenantProductInsureVO.spec||[],document.title=e.detail.productFullName||""}f.code==="10000"&&(e.insureDetail=f.data),g.code==="10000"&&(e.newAuth=!!g.data)})},B=async()=>{console.log(e.detail,"ssslsl");const a=e.newAuth?G:"";try{const{code:n,data:c}=await a({loginName:"15317327379",loginType:"2",openId:A,thirdUserType:"XINAO_WECHAT",indirectCode:"123",password:"123456"});n==="10000"&&(e.newAuth=!1)}catch{console.log("e")}};return K(()=>{l(),setTimeout(async()=>{window.getIseeBiz&&await window.getIseeBiz()},1500)}),(a,n)=>{const c=U("van-config-provider");return m(),Y(c,{"theme-vars":t(o)},{default:w(()=>[s("div",ne,[u(Q,{url:t(e).banner},null,8,["url"]),u(ae,{"is-first":t(e).newAuth,"insure-detail":t(e).insureDetail,detail:t(e).order,colors:t(e).colors},{default:w(()=>[u(y,{text:t(e).newAuth?"\u7ACB\u5373\u9886\u53D6":"\u6FC0\u6D3B\u4FDD\u969C",onClick:B},null,8,["text"])]),_:1},8,["is-first","insure-detail","detail","colors"]),s("div",le,[(m(!0),_(M,null,q(t(e).productDesc,(p,f)=>(m(),_("img",{key:f,src:p},null,8,ie))),128))]),s("footer",ce,[u(y,{text:t(e).newAuth?"\u7ACB\u5373\u9886\u53D6":"\u6FC0\u6D3B\u4FDD\u969C"},null,8,["text"])])])]),_:1},8,["theme-vars"])}}});var Fe=D(ue,[["__scopeId","data-v-557a3859"]]);export{Fe as default};
