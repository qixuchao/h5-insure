import{d as a,j as e,am as l,E as n,o as t,c as s,a as o,g as d,u as i,b as r,f as u,e as c,F as p,w as m,v as f,a8 as h,an as v,ao as y}from"./index-04d078a6.js";import{P as k}from"./index-a6f2dacc.js";import{t as C}from"./format-31cde443.js";const g={class:"trial-button-wrap","safe-area-inset-bottom":""},x={class:"footer-area"},S=o("span",null,"分享",-1),E={class:"price"},F=o("div",{class:"label"},"首期总保费",-1),P={key:0},$={key:2},b=a({name:"trialButton"}),j=a({...b,props:{premium:{default:null},tenantProductDetail:{default:()=>({})},planCode:{default:void 0},loadingText:{default:""},paymentFrequency:{default:""},shareInfo:{default:()=>({})},isShare:{type:Boolean,default:!1},handleShare:{}},emits:["handleClick"],setup(a,{emit:b}){const j=a,q=e(""),A=e(""),w=l(),D=e(),I=e(),T=()=>{j.handleShare?j.handleShare((()=>I.value.handleShare(D.value))):I.value.handleShare(D.value)};return n([()=>j.premium,()=>j.tenantProductDetail,()=>j.paymentFrequency,()=>j.planCode],(([a])=>{const{PREMIUM:e=[]}=j.tenantProductDetail||{};let l={};if(null==e?void 0:e.length){l=(e||[]).find((a=>a.planCode===j.planCode||!a.planCode))||{};const n=((null==l?void 0:l.data)||[]).find((a=>a.paymentFrequency===j.paymentFrequency)),{premium:t,minActualUnit:s}=n||{};a?(A.value=s,q.value=a&&`${a}`):(A.value=t,q.value="")}else q.value=null,a&&(A.value="",q.value=a&&`${a}`)}),{deep:!0,immediate:!0}),n((()=>j.shareInfo),(a=>{D.value=a}),{deep:!0,immediate:!0}),(a,e)=>{const l=y;return t(),s("div",g,[o("div",x,[d(a.$slots,"right",{},(()=>[a.isShare&&i(w)?(t(),s("div",{key:0,class:"com-share",onClick:T},[r(l,{name:"share-icon","font-size":"24px",color:"#AEAEAE"}),S])):u("",!0)])),o("div",E,[F,a.loadingText?(t(),s("span",P,c(a.loadingText),1)):i(q)?(t(),s(p,{key:1},[o("span",null,c(i(C)(i(q),void 0," ")),1),o("span",null,c(i(A)),1)],64)):(t(),s("span",$,c(i(A)),1))]),r(k,h(a.$attrs,{shadow:!1,class:"right",onClick:e[0]||(e[0]=a=>b("handleClick"))}),{default:m((()=>[d(a.$slots,"default",{},(()=>[f("立即投保")]))])),_:3},16)]),r(v,h({ref_key:"shareRef",ref:I},i(D)),null,16)])}}});export{j as _};
