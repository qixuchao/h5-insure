import{g as B,Q as z,C as U,L as J,v as Z,ag as ee,r as i,h as t,j as d,k as s,n as _,m as x,E as R,y as $,I as W,z as a,a6 as M,F as O,s as P,ah as te,B as D,ak as ne,G as oe,x as q,M as Y,af as ue}from"./vendor-07b5d0eb.js";import{_ as F,h as se,j as re}from"./index-8b5dd55b.js";import{w as ae,n as ie}from"./pdf.worker.entry-39b91661.js";import{p as G}from"./pdf_viewer-c2116725.js";import{g as ce,s as le}from"./inform-a81b29cd.js";import{s as de}from"./useStorage-c6c3b5c8.js";const pe={class:"problem"},_e={class:"footer-button"},me=D("\u63D0\u4EA4"),ve=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:m}){const c=S,y=z(),n=U([]),{questionnaireType:p}=y.query,E={"1":"\u6295\u4FDD\u4EBA","2":"\u88AB\u4FDD\u4EBA","3":"\u4EE3\u7406\u4EBA"},Q=J({radioCheckedProblem:"",checked:[],modelValue:"",inputValue:""}),{radioCheckedProblem:v,checked:r,modelValue:k,inputValue:o}=Z(Q),I=f=>{n.value[f].toggle()},b=f=>f?JSON.parse(f).map(e=>({title:e.value,value:e.uid})):[],T=()=>{m("onSubmitCurrentStatus",1)};return ee(()=>{console.log(6666),n.value=[]}),(f,e)=>{const u=i("van-radio"),h=i("van-cell"),g=i("van-cell-group"),C=i("van-radio-group"),w=i("van-checkbox"),N=i("van-checkbox-group"),H=i("van-field"),K=i("van-button"),X=i("ProPageWrap");return t(),d(X,{class:"com-quersion"},{default:s(()=>[_(re,{title:`${E[a(p)]}\u5065\u5EB7\u544A\u77E5\u4E66`},{default:s(()=>[(t(!0),x(O,null,R(c.currentPageInfo,(V,L)=>(t(),x("div",{key:L,class:"question-item"},[$("div",pe,W(L+1)+". "+W(V.title),1),V.questionType===1?(t(),d(C,{key:0,modelValue:a(v),"onUpdate:modelValue":e[0]||(e[0]=l=>M(v)?v.value=l:null)},{default:s(()=>[_(g,{inset:""},{default:s(()=>[(t(!0),x(O,null,R(b(V.options),(l,A)=>(t(),d(h,{key:A,title:l.title,clickable:"",onClick:j=>v.value=l.value},{"right-icon":s(()=>[_(u,{name:l.value},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):P("",!0),V.questionType===2?(t(),d(N,{key:1,modelValue:a(r),"onUpdate:modelValue":e[2]||(e[2]=l=>M(r)?r.value=l:null)},{default:s(()=>[_(g,{inset:""},{default:s(()=>[(t(!0),x(O,null,R(b(V.options),(l,A)=>(t(),d(h,{key:l.uid,clickable:"",title:l.title,onClick:j=>I(A)},{"right-icon":s(()=>[_(w,{ref_for:!0,ref:j=>n.value[A]=j,shape:"square",name:l,onClick:e[1]||(e[1]=te(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:2},1024)]),_:2},1032,["modelValue"])):P("",!0),V.questionType===3?(t(),d(se,{key:2,"model-value":a(k),options:[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}]},null,8,["model-value"])):P("",!0),V.questionType===4?(t(),d(g,{key:3,inset:""},{default:s(()=>[_(H,{modelValue:a(o),"onUpdate:modelValue":e[3]||(e[3]=l=>M(o)?o.value=l:null),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1})):P("",!0)]))),128))]),_:1},8,["title"]),$("div",_e,[_(K,{type:"primary",block:"",onClick:T},{default:s(()=>[me]),_:1})])]),_:1})}}});var fe=F(ve,[["__scopeId","data-v-563e8bf8"]]);const ge={class:"title"},ye={class:"content"},ke={class:"footer-button"},be=D("\u4E86\u89E3\u5E76\u7EE7\u7EED"),he=B({props:{currentPageInfo:{default:()=>[]}},emits:["onSubmitCurrentStatus"],setup(S,{emit:m}){const c=S;return(y,n)=>{const p=i("van-button"),E=i("ProPageWrap"),Q=ne("dompurify-html");return t(),d(E,{class:"com-document"},{default:s(()=>{var v,r;return[$("div",ge,W((v=c.currentPageInfo[0])==null?void 0:v.title),1),oe($("div",ye,null,512),[[Q,(r=c.currentPageInfo[0])==null?void 0:r.content]]),$("div",ke,[_(p,{type:"primary",onClick:n[0]||(n[0]=k=>m("onSubmitCurrentStatus",1))},{default:s(()=>[be]),_:1})])]}),_:1})}}});var Ce=F(he,[["__scopeId","data-v-27a7d770"]]);const Se={class:"com-pdf-viewer"},Ee=["id","isee_pdf"],Ie={class:"footer-button"},xe=D("\u90E8\u5206\u4E3A\u662F"),Pe=D("\u4EE5\u4E0A\u7686\u5426"),$e=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:m}){const c=S;G.exports.GlobalWorkerOptions.workerSrc=ae;const y=ie(),n=U(!1),p=U(!0),E=q(()=>["png","jpg","jpeg"].some(r=>c.url.includes(r))),Q=()=>{const r=document.getElementById(y);if(r.hasChildNodes()){p.value=!1;return}G.exports.getDocument({url:c.url}).promise.then(o=>{const I=o.numPages;for(let b=1;b<=I;b++)o.getPage(b).then(T=>{const f=T.getViewport({scale:1}),e=document.createElement("canvas"),u=e.getContext("2d");e.width=f.width,e.height=f.height,e.style.width="100%",r.append(e);const h={canvasContext:u,viewport:f};T.render(h),p.value=!1})})},v=async()=>{n.value=!0,setTimeout(()=>{Q()},0)};return Y(()=>{v()}),(r,k)=>{const o=i("van-image"),I=i("van-button");return t(),x("div",Se,[a(E)?(t(),d(o,{key:0,width:"100%",height:"80vh",fit:"contain",src:c.url},null,8,["src"])):(t(),x("div",{key:1,id:a(y),isee_pdf:r.pdfUrl,class:"pdf-wapper"},null,8,Ee)),$("div",Ie,[_(I,{plain:"",type:"primary",onClick:k[0]||(k[0]=b=>m("onSubmitCurrentStatus",2))},{default:s(()=>[xe]),_:1}),_(I,{type:"primary",onClick:k[1]||(k[1]=b=>m("onSubmitCurrentStatus",1))},{default:s(()=>[Pe]),_:1})])])}}});var Ve=F($e,[["__scopeId","data-v-4c70488e"]]);const Qe={class:"iframe-wrap"},Te=["src"],we={class:"footer-button"},De=D("\u90E8\u5206\u4E3A\u662F"),qe=D("\u4EE5\u4E0A\u7686\u5426"),Be=B({props:{url:{type:String,default:""}},emits:["onSubmitCurrentStatus"],setup(S,{emit:m}){const c=S;return(y,n)=>{const p=i("van-button");return t(),x("div",Qe,[$("iframe",{src:c.url,frameborder:"0"},null,8,Te),$("div",we,[_(p,{plain:"",type:"primary",onClick:n[0]||(n[0]=E=>m("onSubmitCurrentStatus",2))},{default:s(()=>[De]),_:1}),_(p,{type:"primary",onClick:n[1]||(n[1]=E=>m("onSubmitCurrentStatus",1))},{default:s(()=>[qe]),_:1})])])}}});var Ne=F(Be,[["__scopeId","data-v-1ac7e729"]]);const Ae={class:"com-health-notice"},We=B({setup(S){const m=ue(),c=z(),y=de.get("questionData"),{questionnaireType:n}=c.query,{orderNo:p="2022021815432987130620",productCode:E="CQ75CQ76",templateId:Q=1,orderId:v=13005,tenantId:r=9991000007}=c.query,k={1:4,2:5,3:9},o=J({pageData:{},currentQuestionInfo:[]}),I=q(()=>n==="2"),b=q(()=>{var u;return n==="1"&&[1].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),T=q(()=>{var u;return n==="1"&&[2].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),f=q(()=>{var u;return n==="1"&&[3].includes((u=o.currentQuestionInfo[0])==null?void 0:u.textType)}),e=u=>{var C;const{id:h,objectType:g}=y;le({content:(C=o.currentQuestionInfo[0])==null?void 0:C.content,contentType:n,isDone:u,noticeType:k[g],objectId:h,objectType:g,orderId:v,orderNo:p,tenantId:9991000007}).then(({code:w,data:N})=>{console.log(w),w==="10000"&&m.go(-1)})};return Y(()=>{console.log(y);const{insurerCode:u,id:h,objectType:g,productCategory:C}=y;ce({insurerCode:u,id:h,objectType:g,productCategory:C,orderNo:p,tenantId:r}).then(({code:w,data:N})=>{w==="10000"&&(o.currentQuestionInfo=N)})}),(u,h)=>{var g,C;return t(),x("div",Ae,[a(I)?(t(),d(fe,{key:0,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):P("",!0),a(T)?(t(),d(Ce,{key:1,"current-page-info":a(o).currentQuestionInfo,onOnSubmitCurrentStatus:e},null,8,["current-page-info"])):P("",!0),a(b)?(t(),d(Ve,{key:2,url:(g=a(o).currentQuestionInfo[0])==null?void 0:g.content,onOnSubmitCurrentStatus:e},null,8,["url"])):P("",!0),a(f)?(t(),d(Ne,{key:3,url:(C=a(o).currentQuestionInfo[0])==null?void 0:C.content},null,8,["url"])):P("",!0)])}}});export{We as default};
