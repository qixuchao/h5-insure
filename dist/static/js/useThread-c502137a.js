var t=Object.defineProperty,i=(i,s,e)=>(((i,s,e)=>{s in i?t(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e})(i,"symbol"!=typeof s?s+"":s,e),e);const s=()=>{};class e{constructor(t){i(this,"params"),i(this,"time",1e3),i(this,"total",0),i(this,"timer"),this.params=this.init(t)}init(t){const i={start:t.start||s,stop:t.stop||s,number:t.number?Math.abs(t.number):0,time:t.time?Math.abs(t.time):300};return this.time=t.time,i}run(){this.timer=setTimeout(this.runTime.bind(this),this.time)}stop(){clearTimeout(this.timer),this.params.stop()}runTime(){try{this.params.start()}finally{if(this.params.number>0){if(this.total>=this.params.number)return this.params.stop(),void clearTimeout(this.timer);this.total||(this.total=1),this.total+=1}clearTimeout(this.timer)}this.timer=setTimeout(this.runTime.bind(this),this.time)}}var r=t=>new e(t);export{r as u};
