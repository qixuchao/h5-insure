import{d as e,h as a,i as t,k as o,ag as r,o as s,c as n,u as l,m as d,w as i,a8 as c,cA as p,f as u,_ as m,aI as h,cl as y,cm as f,cn as I}from"./index-d99b6822.js";import{P as g}from"./constants-7e2ba334.js";const C={class:"operate-wrap"},k=e({name:"operateBtn"});var S=m(e({...k,props:{detail:{default:()=>({})}},emits:["handleCancel"],setup(e,{emit:m}){const k=e,S=a(),N=t(),{tenantId:$,nextPageCode:v,isShare:x}=N.query,_=o((()=>{const{orderTopStatus:e}=k.detail;return"-1"===e&&g.orderList===N.path})),b=o((()=>{const{policyNo:e,applicationNo:a,orderStatus:t}=k.detail;return!e&&a&&"cancel"!==t})),P=o((()=>{const{orderStatus:e}=k.detail;return"offlinePayment"===e})),w=()=>{const{orderStatus:e,orderNo:a}=k.detail;let t=g.sign;"collectInfo"===e&&(t=g.infoCollection),S.push({path:t,query:{tenantId:$,orderNo:a}})},z=()=>{k.detail,x?h.confirm({message:"撤单后将无法恢复，请您确认是否撤销本次投保"}).then((()=>{m("handleCancel")})):h.confirm({message:"确认取消当前订单？"}).then((()=>{(e=>{const{holderName:a,holderGender:t,orderId:o,orderNo:r}=k.detail||{},s=a,n=`${y[t]}士`;f({shareType:0,title:`${I.cancel.title}`,desc:I.cancel.desc.replace("{name}",`${s}${n},`),url:`${window.location.href}&objectType=${e}&isShare=1&orderNo=${r}&orderId=${o}&nextPageCode=orderDetail`.replace(/\/orderDetail|\/order/,"/baseInsurance/long/phoneVerify"),imageUrl:"https://zatech-aquarius-v2-private-test.oss-cn-hangzhou.aliyuncs.com/lian_logo.png?OSSAccessKeyId=LTAI5t9uBW78vZ4sm5i3oQ5C&Expires=1697288114&Signature=S87PMeDRxltLovmmHVTeiHoew1c%3D"})})("holder")}))},D=()=>{const{orderNo:e,orderId:a}=k.detail;S.push({path:g.updateBankInfo,query:{tenantId:$,orderNo:e,orderId:a,nextPageCode:"orderDetail"}})};return(e,a)=>{const t=r;return s(),n("div",C,[l(_)?(s(),d(t,{key:0,type:"primary",size:"small",onClick:p(w,["stop"])},{default:i((()=>[c("去处理")])),_:1},8,["onClick"])):u("",!0),l(b)?(s(),d(t,{key:1,type:"primary",plain:"",size:"small",onClick:p(z,["stop"])},{default:i((()=>[c("撤单")])),_:1},8,["onClick"])):u("",!0),l(P)?(s(),d(t,{key:2,size:"small",onClick:p(D,["stop"])},{default:i((()=>[c("银行卡修改")])),_:1},8,["onClick"])):u("",!0)])}}}),[["__scopeId","data-v-b30b3d82"]]);export{S as O};
