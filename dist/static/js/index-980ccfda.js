import{d as l,a5 as a,r as e,K as t,Q as n,Y as s,a6 as i,a7 as u,a8 as o,c as r,y as d,f as c,g as v,R as p,U as m,A as f,z as C,h as _,e as y,j as k,i as A,a9 as E,aa as L,w as g,a1 as h,ab as b,E as I,ac as S,ad as w,Z as O,V as T,ae as x,af as M,ag as F,ah as P,W as R,X as N,ai as U,a4 as D,aj as W,ak as j,k as V}from"./index-bfcfa076.js";import{o as z}from"./utils-2fab0a73.js";import{C as $}from"./infoCollection-26a90f0b.js";const B={class:"guarantee-list"},G=(l=>(F("data-v-0d8cdcd6"),l=l(),P(),l))((()=>c("span",null,"保障计划",-1))),Q={key:0,class:"plan-list"},q=["onClick"],Y={key:2,class:"feerate-view"},K={key:0},X={class:"extinfo-info-list"},Z={class:"guarantee-detail"},H={class:"content"},J=l({name:"guarantee"});var ll=I(l({...J,props:{dataSource:{default:()=>({})},showServiceConfig:{type:Boolean,default:!1},isShowClose:{type:Boolean,default:!1},count:{default:5},planList:{default:()=>[]}},emits:["updateActivePlan"],setup(l,{emit:I}){var F,P;const R=l;a((l=>({"3f16335a":v(N)})));const N=e(""),U=e((null==(P=null==(F=R.planList)?void 0:F[0])?void 0:P.planCode)||void 0),D=e(),W=e([]),j=e([]),V=e(),$=t((()=>!!R.planList.length));n([()=>R.dataSource,()=>U.value],(()=>{var l,a;W.value=((null==(a=((null==(l=R.dataSource)?void 0:l.GUARANTEE)||[]).find((l=>l.planCode===U.value)))?void 0:a.data)||[]).filter((l=>l.isShowOn===`${s.YES}`))}),{immediate:!0,deep:!0});const J=t((()=>{var l;return(null==(l=R.dataSource)?void 0:l.rateUri)||""})),ll=t((()=>!!(V.value&&V.value.paymentFrequencyValue&&V.value.premiumUnit&&J))),[al,el]=i(!1),tl=t((()=>{var l;return!(!W.value||!(null==(l=W.value)?void 0:l.length))&&(W.value.length>R.count&&(!!R.isShowClose||!al.value))})),nl=()=>{el()},sl=t((()=>{var l;return W.value&&(null==(l=W.value)?void 0:l.length)?W.value.length<=R.count||al.value?W.value:W.value.slice(0,R.count):[]})),il=e(!1),ul=l=>{const a=l||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,"A"===a.target.tagName&&a.target.href&&(S()?w("",a.target.href):window.open(a.target.href))},ol=()=>{il.value=!0,O((()=>{var l,a;null==(a=null==(l=document.getElementsByClassName("guarantee-detail"))?void 0:l[0])||a.addEventListener("click",ul,!1)}))};u((()=>{var l,a;null==(a=null==(l=document.getElementsByClassName("guarantee-detail"))?void 0:l[0])||a.removeEventListener("click",ul,!1)}));const rl=()=>{z({fileType:"pdf",fileUri:J.value})},dl=l=>{U.value=R.planList[l.name].planCode};return(a,e)=>{var t,n;const s=T,i=x,u=M,S=o("dompurify-html");return r(),d(p,null,[c("div",B,[c("div",{class:"header"},[G,c("span",{onClick:ol},"查看详情")]),v($)?(r(),d("div",Q,[(r(!0),d(p,null,m(l.planList,((l,a)=>(r(),d("div",{key:`${l.planCode}_${a}`,class:f("plan-list-item "+(l.planCode===v(U)?"plan-list-item-active":"")),onClick:a=>{return e=l.planCode,U.value=e,D.value=R.planList.findIndex((l=>l.planCode===e)),void I("updateActivePlan",e);var e}},[c("span",null,C(l.planName),1)],10,q)))),128))])):_("",!0),(r(!0),d(p,null,m(v(sl),((l,a)=>(r(),y(s,{key:a,class:"guarantee-item",title:l.title,content:l.desc,border:!1},null,8,["title","content"])))),128)),v(tl)?(r(),d("div",{key:1,class:"show-more",onClick:nl},[k(C(v(al)?"收起":"查看更多")+" ",1),A(E,{name:"arrow-down-dobule",class:f(["icon",{showMore:v(al)}])},null,8,["class"])])):_("",!0),v(ll)?(r(),d("div",Y,[c("span",null,C(`${(null==(t=v(V))?void 0:t.paymentFrequencyValue)||""}${(null==(n=v(V))?void 0:n.premiumUnit)||""}`),1),v(J)?(r(),d("span",{key:0,onClick:rl},"查看保费")):_("",!0)])):_("",!0)]),A(L),A(u,{show:v(il),"onUpdate:show":e[1]||(e[1]=l=>h(il)?il.value=l:null),title:"保障详情",class:"guarantee-popup"},{default:g((()=>[v(j)&&v(j).length>0?(r(),d("div",K,[c("div",X,[(r(!0),d(p,null,m(v(j),((l,a)=>(r(),y(s,{key:a,title:l.name,content:l.description,border:!1,size:"small"},null,8,["title","content"])))),128))]),A(L)])):_("",!0),v($)?(r(),y(i,{key:1,active:v(D),"onUpdate:active":e[0]||(e[0]=l=>h(D)?D.value=l:null),list:l.planList.map(((l,a)=>({title:l.planName}))),class:"custom-plan-tab",onClickTab:dl},null,8,["active","list"])):_("",!0),c("div",Z,[(r(!0),d(p,null,m(v(W),((l,a)=>(r(),d("div",{key:a,class:"guarantee-item"},[A(s,{title:l.title,content:l.desc,border:!1,size:"small"},null,8,["title","content"]),b(c("div",H,null,512),[[S,l.tips]])])))),128))])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d8cdcd6"]]);const al={class:"spec"},el={class:"rich-text"},tl={key:1,class:"spec"},nl={class:"rich-text"},sl={key:1,class:"spec"},il={class:"rich-text"},ul=l({name:"ScrollInfo"}),ol=l({...ul,props:{dataSource:{default:()=>({SPECIAL_FEATURE:[],CLAIM_CASE:{},CLAIM_FLOW:[],ISSUE_NOTICE:[],FAQ:[]})}},setup(l,{expose:a}){const n=l,s=R((()=>N((()=>import("./index-bfcfa076.js").then((function(l){return l.cF}))),["static/js/index-bfcfa076.js","static/css/index-3be92ec8.css","static/js/pdfh5-008ca364.js"])));R((()=>N((()=>import("./index-d2a0523f.js")),["static/js/index-d2a0523f.js","static/css/index-f22f2764.css","static/js/index-bfcfa076.js","static/css/index-3be92ec8.css","static/js/pdfh5-008ca364.js"])));const i=R((()=>N((()=>import("./index-bfcfa076.js").then((function(l){return l.cD}))),["static/js/index-bfcfa076.js","static/css/index-3be92ec8.css","static/js/pdfh5-008ca364.js"]))),u=R((()=>N((()=>import("./index-64a889f1.js")),["static/js/index-64a889f1.js","static/css/index-7b3feb06.css","static/js/index-bfcfa076.js","static/css/index-3be92ec8.css","static/js/pdfh5-008ca364.js"]))),f=R((()=>N((()=>import("./index-f865f3da.js")),["static/js/index-f865f3da.js","static/css/index-194b9c66.css","static/js/index-bfcfa076.js","static/css/index-3be92ec8.css","static/js/pdfh5-008ca364.js","static/js/index-390a4622.js"]))),{dataSource:C}=U(n),k=e(),L=e([{title:"产品亮点",slotName:"tab1"},{title:"理赔说明",slotName:"tab2"},{title:"我要投保",slotName:"tab3"}]),h=t((()=>{var l,a;return null==(a=null==(l=C.value.SPECIAL_FEATURE)?void 0:l.spec)?void 0:a.length})),I=t((()=>{var l,a,e,t;const n=null==(l=C.value.CLAIM_FLOW)?void 0:l.processCaseType;return!!(n===$.WORD&&(null==(a=C.value.CLAIM_FLOW)?void 0:a.processContent)||n===$.IMAGE&&(null==(t=null==(e=C.value.CLAIM_FLOW)?void 0:e.processCasePicList)?void 0:t.length))})),S=t((()=>{var l,a,e,t,n;const s=null==(a=null==(l=C.value)?void 0:l.CLAIM_CASE)?void 0:a.claimCaseType;return!!(s===$.WORD&&(null==(e=C.value.CLAIM_CASE)?void 0:e.claimContent)||s===$.IMAGE&&(null==(n=null==(t=C.value.CLAIM_CASE)?void 0:t.claimCasePicList)?void 0:n.length))})),w=t((()=>{var l,a;return null==(a=null==(l=C.value)?void 0:l.ISSUE_NOTICE)?void 0:a.noticeContent})),O=t((()=>{var l,a;return null==(a=null==(l=C.value)?void 0:l.FAQ)?void 0:a.length})),T=t((()=>{let l=[...L.value];return h.value||(l=l.filter((l=>"tab1"!==l.slotName))),I.value||S.value||(l=l.filter((l=>"tab2"!==l.slotName))),l}));return a({handleClickTab:()=>{var l;return null==(l=k.value)?void 0:l.handleClickTab}}),(l,a)=>{const e=D,t=E,n=o("dompurify-html");return r(),y(v(s),{ref_key:"scrollRef",ref:k,class:"tabs",list:v(T),sticky:"",scrollspy:""},W({tab3:g((()=>[V(l.$slots,"form")])),_:2},[v(h)?{name:"tab1",fn:g((()=>{var l;return[c("div",al,[(r(!0),d(p,null,m((null==(l=v(C).SPECIAL_FEATURE)?void 0:l.spec)||[],((l,a)=>(r(),y(j,{key:a},{fallback:g((()=>[A(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>[(r(),y(e,{key:a,class:"detail-img",width:"100%",src:l},null,8,["src"]))])),_:2},1024)))),128)),A(v(i))])]})),key:"0"}:void 0,v(I)||v(S)||v(w)||v(O)?{name:"tab2",fn:g((()=>{var l,a;return[v(I)?(r(),d(p,{key:0},[(null==(l=v(C).CLAIM_FLOW)?void 0:l.processCaseType)===v($).WORD?(r(),y(v(u),{key:0,class:"tab-card",title:"理赔说明"},{default:g((()=>{var l;return[b(c("div",el,null,512),[[n,null==(l=v(C).CLAIM_FLOW)?void 0:l.processContent]])]})),_:1})):(r(),d("div",tl,[(r(),y(j,null,{fallback:g((()=>[A(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>{var l;return[(r(!0),d(p,null,m((null==(l=v(C).CLAIM_FLOW)?void 0:l.processCasePicList)||[],((l,a)=>(r(),y(e,{key:a,width:"100%",src:l,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),A(v(i))],64)):_("",!0),v(S)?(r(),d(p,{key:1},[(null==(a=v(C).CLAIM_CASE)?void 0:a.claimCaseType)===v($).WORD?(r(),y(v(u),{key:0,class:"tab-card",title:"理赔案例"},{default:g((()=>{var l;return[b(c("div",nl,null,512),[[n,null==(l=v(C).CLAIM_CASE)?void 0:l.claimContent]])]})),_:1})):(r(),d("div",sl,[(r(),y(j,null,{fallback:g((()=>[A(t,{name:"img",style:{"font-size":"40px",margin:"10px auto",display:"block"}})])),default:g((()=>{var l;return[(r(!0),d(p,null,m((null==(l=v(C).CLAIM_CASE)?void 0:l.claimCasePicList)||[],((l,a)=>(r(),y(e,{key:a,width:"100%",src:l,class:"detail-img"},null,8,["src"])))),128))]})),_:1}))])),A(v(i))],64)):_("",!0),v(w)?(r(),d(p,{key:2},[A(v(u),{class:"tab-card",title:"投保须知"},{default:g((()=>{var l;return[b(c("div",il,null,512),[[n,null==(l=v(C).ISSUE_NOTICE)?void 0:l.noticeContent]])]})),_:1}),A(v(i))],64)):_("",!0),v(O)?(r(),d(p,{key:3},[A(v(u),{title:"常见问题"},{default:g((()=>{var l,a;return[A(v(f),{list:null==(a=null==(l=v(C).FAQ)?void 0:l[0])?void 0:a.data},null,8,["list"])]})),_:1}),A(v(i))],64)):_("",!0)]})),key:"1"}:void 0]),1032,["list"])}}});export{ll as G,ol as _};
