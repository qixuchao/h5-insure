import{g as M,v as O,L as z,r as _,h as c,m as y,y as e,n as u,z as t,I as $,F as w,E as U,V as _e,C as x,M as K,J as V,s as E,k as h,a6 as D,A as me,a1 as j,a2 as W,B,X as Y,j as F,af as he,a5 as H,ad as ve,Q as fe}from"./vendor-4dbfa310.js";import{_ as A,u as ge,t as Ce,v as ye,g as Ie}from"./index-e3074f98.js";import{q as Le}from"./index-43962f28.js";import{u as ke,P as Te}from"./index-01cc03ba.js";import{a as be,P as Se}from"./da-59825001.js";import{q as Ne}from"./proposalList-bcecc452.js";import"./trial-ef6a620a.js";const Pe={class:"com-product-item"},De={class:"content-wrap"},$e={class:"product-image"},we={class:"insure-name"},Be={class:"product-info"},Ve={class:"title"},xe={class:"description"},Ee={class:"tags"},Fe=M({props:{productInfo:{default:()=>({})}},setup(o){const I=o,{productInfo:i}=O(I),m=z({checked:!1});return O(m),(g,C)=>{const L=_("van-image");return c(),y("div",Pe,[e("div",De,[e("div",$e,[u(L,{src:t(i).fileUrl},null,8,["src"]),e("p",we,$(t(i).insurerName),1)]),e("div",Be,[e("p",Ve,$(t(i).title),1),e("p",xe,$(t(i).text),1),e("p",Ee,[(c(!0),y(w,null,U(t(i).tags,(d,l)=>(c(),y("span",{key:l,class:"tag"},$(d),1))),128))])]),_e(g.$slots,"checkedProduct",{},void 0,!0)])])}}});var Oe=A(Fe,[["__scopeId","data-v-ecb0026c"]]);const X=o=>(j("data-v-06a1a284"),o=o(),W(),o),Me={class:"com-tab-filter"},Ue={class:"article-mid"},Ae={class:"article-tag"},Re=["onClick"],qe={class:"trianele-out"},ze=X(()=>e("span",null,null,-1)),je=X(()=>e("div",{class:"text"},"\u7B5B\u9009",-1)),We={class:"popup-inner"},Xe=X(()=>e("div",{class:"popup-title"},"\u4FDD\u9669\u516C\u53F8",-1)),Ze={class:"footer-button"},Ge=B("\u91CD\u7F6E"),Je=B("\u786E\u5B9A"),Qe=M({props:{tagList:{type:Array,default:()=>[]},filter:{type:Boolean,default:!1},popupStyle:{type:Object,default:()=>{}}},emits:["onSelectInsure"],setup(o,{emit:I}){const{isPopShow:i,openPop:m,closePop:g}=ge(!1),C=z({insureList:[],checkedInsure:[]}),{insureList:L,checkedInsure:d}=O(C),l=x(""),r=(S,v)=>{l.value=v,I("onSelectInsure",{selectInsureCode:d.value,selectCategory:l.value})},k=()=>{d.value=[]},T=()=>{I("onSelectInsure",{selectInsureCode:d.value,selectCategory:l.value}),g()};return K(()=>{Le().then(S=>{const{code:v,data:f}=S;v==="10000"&&(L.value=f==null?void 0:f.map(n=>({label:n.abbreviation,value:n.insurerCode})))})}),(S,v)=>{const f=_("van-button"),n=_("van-popup");return c(),y("div",Me,[e("div",Ue,[e("div",Ae,[(c(!0),y(w,null,U(t(Ce),(p,N)=>(c(),y("div",{key:N,class:V(["tag-item",{checked:l.value==N}]),onClick:Z=>r(p==null?void 0:p.value,N)},[e("div",{class:V(["tag-out",{checked:l.value==N}])},[e("div",{class:V(["tag-item-text",{checked:l.value==N}])},$(p.label),3)],2),e("div",qe,[e("div",{class:V({triangle:l.value==N})},null,2)])],10,Re))),128))]),o.filter?(c(),y("div",{key:0,class:"filter",onClick:v[0]||(v[0]=(...p)=>t(m)&&t(m)(...p))},[ze,je,u(ye,{name:"filter"})])):E("",!0),u(n,{show:t(i),position:"right","close-on-click-overlay":"",style:me(o.popupStyle||{width:"322px",height:"100%",padding:"0 15px"}),onClickOverlay:t(g)},{default:h(()=>[e("div",We,[Xe,u(Ie,{modelValue:t(d),"onUpdate:modelValue":v[1]||(v[1]=p=>D(d)?d.value=p:null),options:t(L)},null,8,["modelValue","options"])]),e("div",Ze,[u(f,{plain:"",type:"primary",onClick:k},{default:h(()=>[Ge]),_:1}),u(f,{type:"primary",onClick:T},{default:h(()=>[Je]),_:1})])]),_:1},8,["show","style","onClickOverlay"])])])}}});var Ye=A(Qe,[["__scopeId","data-v-06a1a284"]]);const He={data:[{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1013001,code:"code1013001",labelCategoryName:"\u91CD\u75BE",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-06-29T23:49:26.000+08:00",gmtModified:"2022-06-30T17:34:38.000+08:00",modifier:"\u5434\u8D85"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1013004,code:"code1013004",labelCategoryName:"\u610F\u5916",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-06-29T23:49:50.000+08:00",gmtModified:"2022-06-29T23:49:50.000+08:00",modifier:"52041001002174"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1013007,code:"code1013007",labelCategoryName:"\u533B\u7597",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-06-29T23:53:28.000+08:00",gmtModified:"2022-06-29T23:53:28.000+08:00",modifier:"52041001002174"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1013010,code:"code1013010",labelCategoryName:"edward08",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-06-29T23:55:28.000+08:00",gmtModified:"2022-06-30T17:05:19.000+08:00",modifier:"\u5434\u8D85"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1018001,code:"code1018001",labelCategoryName:"\u5065\u5EB7",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-07-08T17:14:44.000+08:00",gmtModified:"2022-07-08T17:16:59.000+08:00",modifier:"\u5510\u6B22\u4E13\u7528\u8D26\u53F7"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1019001,code:"code1019001",labelCategoryName:"\u6807\u7B7E\u5206\u7C7B22",authStatus:"1",authStatusName:null,sort:1,infoLabelDTOList:null,gmtCreated:"2022-07-13T17:49:54.000+08:00",gmtModified:"2022-07-13T17:50:01.000+08:00",modifier:"\u5C0F\u90ED"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1012001,code:"code1012001",labelCategoryName:"\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D",authStatus:"1",authStatusName:null,sort:3,infoLabelDTOList:null,gmtCreated:"2022-06-29T20:55:07.000+08:00",gmtModified:"2022-07-02T20:05:45.000+08:00",modifier:"\u5C0F\u90ED"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1005001,code:"code1005001",labelCategoryName:"rrr",authStatus:"1",authStatusName:null,sort:4,infoLabelDTOList:null,gmtCreated:"2022-06-23T17:06:25.000+08:00",gmtModified:"2022-06-24T09:40:48.000+08:00",modifier:"52041001002366"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1009001,code:"code1009001",labelCategoryName:"\u6807\u7B7E\u5206\u7C7B01",authStatus:"1",authStatusName:null,sort:10,infoLabelDTOList:null,gmtCreated:"2022-06-28T10:10:59.000+08:00",gmtModified:"2022-06-28T10:12:35.000+08:00",modifier:"107"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1017002,code:"code1017002",labelCategoryName:"\u6D4B\u8BD52222",authStatus:"1",authStatusName:null,sort:22,infoLabelDTOList:null,gmtCreated:"2022-07-02T19:59:03.000+08:00",gmtModified:"2022-07-08T14:48:33.000+08:00",modifier:"\u6C88\u666F\u6587"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1017004,code:"code1017004",labelCategoryName:"\u6D4B\u8BD522",authStatus:"1",authStatusName:null,sort:22,infoLabelDTOList:null,gmtCreated:"2022-07-02T20:00:27.000+08:00",gmtModified:"2022-07-08T14:48:26.000+08:00",modifier:"\u6C88\u666F\u6587"},{tenantId:9991000007,userId:null,userName:null,channelId:null,userType:null,systemChannel:null,id:1017003,code:"code1017003",labelCategoryName:"\u6D4B\u8BD53333",authStatus:"1",authStatusName:null,sort:33,infoLabelDTOList:null,gmtCreated:"2022-07-02T19:59:14.000+08:00",gmtModified:"2022-07-08T14:48:30.000+08:00",modifier:"\u6C88\u666F\u6587"}]};const ee=o=>(j("data-v-22a1b275"),o=o(),W(),o),Ke={class:"com-trial-product-wrapper"},et={class:"container"},tt=ee(()=>e("span",{class:"clear-all"}," \u6E05\u7A7A\u9009\u9879 ",-1)),st=ee(()=>e("span",{class:"title"}," \u5DF2\u9009\u4EA7\u54C1 ",-1)),lt={class:"popup-body"},ot={class:"cell-title"},at={class:"title"},ut=M({props:{isShow:{type:Boolean,default:!1},proposalList:{default:()=>[]},modalValue:{default:()=>[]}},emits:["close"],setup(o,{emit:I}){const i=o,m=x([]),g=x([]),C=x({isShow:i.isShow}),L=()=>{I("close")},d=l=>{var r,k,T;(T=(k=(r=m==null?void 0:m.value)==null?void 0:r[l])==null?void 0:k.toggle)==null||T.call(k)};return Y(()=>i.isShow,l=>{C.value.isShow=l}),Y(()=>i.modalValue,(l=[])=>{g.value=l},{deep:!0,immediate:!0}),(l,r)=>{const k=_("van-checkbox"),T=_("VanCell"),S=_("van-cell-group"),v=_("van-checkbox-group"),f=_("VanPopup");return c(),y("div",Ke,[u(f,{show:C.value.isShow,"onUpdate:show":r[1]||(r[1]=n=>C.value.isShow=n),position:"bottom",onClose:L},{default:h(()=>[e("div",et,[e("div",{class:"popup-header"},[tt,st,e("span",{onClick:L},"X")]),e("div",lt,[u(v,{modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=n=>g.value=n)},{default:h(()=>[u(S,{inset:""},{default:h(()=>[(c(!0),y(w,null,U(o.proposalList,n=>(c(),F(T,{key:n.proposalInsuredList[0].proposalInsuredProductList[0].productId,title:n.proposalInsuredList[0].proposalInsuredProductList[0].productName,onClick:p=>d(n.proposalInsuredList[0].proposalInsuredProductList[0].productId)},{"right-icon":h(()=>[u(k,{ref_for:!0,ref:p=>m.value[n.proposalInsuredList[0].proposalInsuredProductList[0].productId]=p,shape:"square",name:n.proposalInsuredList[0].proposalInsuredProductList[0].productId,onClick:he(p=>d(n.proposalInsuredList[0].proposalInsuredProductList[0].productId),["stop"])},null,8,["name","onClick"])]),title:h(()=>[e("div",ot,[e("div",at,$(n.proposalInsuredList[0].proposalInsuredProductList[0].productName),1)])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),_:1},8,["show"])])}}});var nt=A(ut,[["__scopeId","data-v-22a1b275"]]);const dt=o=>(j("data-v-efbdd04e"),o=o(),W(),o),rt={class:"search-wrap"},it={class:"page-proposal-list"},ct={class:"check-button"},pt={key:0,class:"van-sticky"},_t={class:"add-plan"},mt=B(" \u5DF2\u9009"),ht={class:"has-select-product"},vt=B("\u6B3E\u4EA7\u54C1 "),ft=dt(()=>e("span",{class:"icon"},null,-1)),gt=B("\u6DFB\u52A0\u8BA1\u5212\u4E66"),Ct=M({props:{isCreateProposal:{type:Boolean,default:!0}},setup(o){const I=z({searchValue:"",tagLists:[],isOpen:!0,loading:!1,finished:!1,refreshing:!1,productList:[],selectProduct:[],insurerCodeList:[],showCategory:"",productTotal:0,checked:"",productId:void 0,proposalList:[]}),{searchValue:i,tagLists:m,isOpen:g,loading:C,finished:L,refreshing:d,productList:l,selectProduct:r,insurerCodeList:k,showCategory:T,productTotal:S}=O(I),[v,f]=H(),[n,p]=H(),N=ke(),Z=ve(),te=fe(),{isCreateProposal:R}=te.query,G=()=>{Ne({title:i.value,insurerCodeList:k.value,showCategory:T.value,excludeProductIdList:[],pageNum:1,pageSize:999}).then(b=>{const{code:s,data:P,total:q}=b;s==="10000"&&(console.log(P),l.value=P==null?void 0:P.datas,S.value=q)})},se=()=>{},le=b=>{const{selectInsureCode:s,selectCategory:P}=b;k.value=s,T.value=P,G()},J=()=>{d.value&&(l.value=[],d.value=!1),G(),C.value=!1,S.value===l.value.length&&(L.value=!0)},oe=b=>{I.productId=b.productId,f(!0)},ae=()=>{f(!1)},ue=b=>{if(R){I.proposalList.push(b),f(!1);return}N.setTrialData([b]),f(!1),Z.push({path:"/proposal/createProposal"})},ne=()=>{L.value=!0,C.value=!0,J()};return K(()=>{m.value=[{labelCategoryName:"\u5168\u90E8",id:""},...He.data]}),(b,s)=>{const P=_("van-search"),q=_("van-checkbox"),de=_("van-checkbox-group"),re=_("van-list"),ie=_("van-pull-refresh"),ce=_("van-button"),pe=_("ZaPageWrap");return c(),y(w,null,[u(pe,{class:"page-proposal"},{default:h(()=>[e("div",rt,[u(P,{modelValue:t(i),"onUpdate:modelValue":s[0]||(s[0]=a=>D(i)?i.value=a:null),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",shape:"round",class:"search",onClickInput:se},null,8,["modelValue"]),u(Ye,{tagList:t(m),"onUpdate:tagList":s[1]||(s[1]=a=>D(m)?m.value=a:null),filter:t(g),"onUpdate:filter":s[2]||(s[2]=a=>D(g)?g.value=a:null),"filter-class":"filter-area",onOnSelectInsure:le},null,8,["tagList","filter"])]),e("div",it,[u(ie,{modelValue:t(d),"onUpdate:modelValue":s[5]||(s[5]=a=>D(d)?d.value=a:null),onRefresh:ne},{default:h(()=>[u(re,{loading:t(C),"onUpdate:loading":s[4]||(s[4]=a=>D(C)?C.value=a:null),finished:t(L),"finished-text":"\u5DF2\u7ECF\u5230\u5E95\u4E86\u54E6",onLoad:J},{default:h(()=>[(c(!0),y(w,null,U(t(l),a=>(c(),F(Oe,{key:a.id,"product-info":a==null?void 0:a.showConfig,onClick:Q=>oe(a)},{checkedProduct:h(()=>[e("div",ct,[u(de,{modelValue:t(r),"onUpdate:modelValue":s[3]||(s[3]=Q=>D(r)?r.value=Q:null)},{default:h(()=>[u(q,{name:a.productId,shape:"square"},null,8,["name"])]),_:2},1032,["modelValue"])])]),_:2},1032,["product-info","onClick"]))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])]),t(R)?(c(),y("div",pt,[e("div",_t,[e("p",{class:"has-select",onClick:s[6]||(s[6]=a=>t(p)(!0))},[mt,e("span",ht,$(t(r).length),1),vt,ft]),u(ce,{type:"primary"},{default:h(()=>[gt]),_:1})])])):E("",!0),u(nt,{modelValue:t(r),"onUpdate:modelValue":s[7]||(s[7]=a=>D(r)?r.value=a:null),"proposal-list":[],"is-show":t(n),onClose:s[8]||(s[8]=a=>t(p)(!1))},null,8,["modelValue","is-show"]),t(v)?(c(),F(Te,{key:1,"is-show":t(v),type:"add","product-id":t(I).productId,onClose:ae,onFinished:ue},null,8,["is-show","product-id"])):E("",!0)]),_:1}),t(R)?E("",!0):(c(),F(Se,{key:0,"button-image":t(be)},null,8,["button-image"]))],64)}}});var Nt=A(Ct,[["__scopeId","data-v-efbdd04e"]]);export{Nt as default};
