import{a6 as e,d as a,r as l,L as i,b as t,c as s,i as n,M as o,h as d,Q as u,f as r,c8 as c,y as v,j as m,a$ as p,g as f,S as b,aj as h,ak as g,e as A,w as k,N as y,Z as C,B as w,b0 as V,b1 as R,O as I,G as S,T as N,b9 as x,aT as M,bN as P,bb as O,bE as U,aZ as j,ac as E,ai as _,bQ as L,u as B,a as T,a9 as H,X as Z,aq as Q,bz as z,aW as F,bA as D,c9 as G,a7 as q,aU as K}from"./index-779cecf9.js";import{C as W}from"./index-5f885d01.js";import{b as J,c as $,g as X}from"./proposalList-032c4f08.js";import{q as Y,p as ee,c as ae,a as le}from"./compositionProposal-9ee9cfbe.js";import{P as ie}from"./index-314b101f.js";import{S as te,_ as se}from"./box-title-3772f8f7.js";import{_ as ne}from"./index-ca0d6e73.js";import{C as oe}from"./index-43e09264.js";import{d as de}from"./trial-27028c91.js";/* empty css              */import{S as ue}from"./index-daed9497.js";import"./pdfh5-008ca364.js";import"./echarts-ac920fed.js";const re={class:"container head-cover"},ce={class:"info-detail"},ve={class:"name"},me={class:"img"},pe={key:0,src:"/static/png/male-441ae760.png"},fe={key:1,src:"/static/png/female-2dc8cc10.png"},be={clase:"p1"},he={class:"p2"},ge={class:"fe"},Ae=(e=>(h("data-v-1cd52dd5"),e=e(),g(),e))((()=>n("div",{class:"line"},null,-1))),ke={class:"tp"};var ye=e(a({__name:"InsuranceList",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,h=[{title:"险种名称",dataIndex:"riskName",width:180},{title:"保额",dataIndex:"initialAmount"},{title:"保障期间",dataIndex:"coveragePeriod",width:110},{title:"交费期间",dataIndex:"chargePeriod",width:110},{title:"保费",dataIndex:"initialPremium",width:120}],g=l([]),A=e=>{const a=e.split("_");if("to_life"===e)return"保终身";switch(a[0]){case"year":return`${a[1]}年`;case"month":return`${a[1]}月`;case"day":return`${a[1]}天`;case"to":return`保至${a[1]}岁`;default:return""}},k=e=>{const a=e.split("_");switch(a[0]){case"year":return`${a[1]}年交`;case"month":return`${a[1]}月交`;case"to":return`交至${a[1]}岁`;case"single":return"趸缴";default:return""}};return i((()=>a.info),(e=>{(e=>{const a=[];null==e||e.forEach((e=>{const{riskName:l,initialAmount:i,coveragePeriod:t,chargePeriod:s,initialPremium:n}=e;a.push({riskName:l,initialAmount:i,coveragePeriod:A(t),chargePeriod:k(s),initialPremium:n})})),g.value=a})(null==e?void 0:e.proposalProductRiskVOList)}),{deep:!0,immediate:!0}),(l,i)=>{var A,k,y,C,w,V,R;return t(),s("div",re,[n("div",ce,[n("div",ve,[n("div",me,[(null==(A=a.info)?void 0:A.gender)?(t(),s(o,{key:0},[(R=null==(k=a.info)?void 0:k.gender,R===+b.MALE?(t(),s("img",pe)):(t(),s("img",fe)))],64)):d("",!0)]),n("div",null,[n("p",be,u(null==(y=a.info)?void 0:y.name),1),n("p",he,u(r(c)[null==(C=a.info)?void 0:C.gender])+"，"+u(r(v)().diff(null==(w=e.info)?void 0:w.birthday,"y"))+"岁",1)])]),n("div",ge,[m(" 首年保费： "),n("span",null,"¥"+u(r(p)(null==(V=a.info)?void 0:V.totalPremium)),1)])]),Ae,n("div",ke,[r(g).length>0?(t(),f(ie,{key:0,columns:h,class:"table","data-source":r(g)},null,8,["data-source"])):d("",!0)])])}}}),[["__scopeId","data-v-1cd52dd5"]]);const Ce=e=>(h("data-v-f8272ed6"),e=e(),g(),e),we={class:"container"},Ve=Ce((()=>n("div",{class:"common-title"},"利益演示",-1))),Re={key:0,class:"benefit"},Ie={key:0,class:"box-title box-title-chart"},Se=Ce((()=>n("img",{src:se,alt:""},null,-1))),Ne=Ce((()=>n("img",{src:se,alt:""},null,-1))),xe={key:1},Me={class:"box"},Pe={class:"box-title"},Oe=Ce((()=>n("img",{src:se,alt:""},null,-1))),Ue=Ce((()=>n("img",{src:se,alt:""},null,-1))),je={class:"box-price"},Ee={class:"text1"},_e={class:"text2"},Le={key:2,style:{width:"100%, minWidth: 338px"}},Be={class:"slider"},Te=[Ce((()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAASFBMVEVHcEwNbv8Mbf8TcP8Nbv8Nb/8Nb/8Nbv8qf/8Nb/8Nbv8Mb/8PcP8Nbv8Pcv8Mb/8Pb/8PcP8Ocf8Nbv8Ob/8Vf/8Nbv8Nbv+Jn3KrAAAAF3RSTlMAlLEZ0ID47wZx3WBTiDGeOUQk57UMuVjVO7sAAAHeSURBVHjarVjZkoMgEARkuURIXI///9Mtga0igkGZ6RcThXa6cTiGfIMbJ8aNFEIazqbRkR4Mmsn9BMn08IxFjdt+gW1Ut2lW/bt/wa9e70Wjc0lm8XSaqF9MLlHfiOrFM0dc1kG5zDX+aoVDU0vBrKo8tkykBvRrUDNPNHS4HE2aqPh8zfNOoUeaa6ok/U0uYEWuv+2jsKSKcQ/wijShfGw7VuOJzzS5BR1b24o/oqa75aco2s/hvpnJbcwmvPnUQ/F0t4Hy3fzT0jiiDV2FuvitfIxn4fMDx19nYZ48hj+J0+n/Yyj+oWSVMcIOBE/kmgdESRdoFpI65kMx9BEN4pgzoysjIKAYUsq5LQUECGkLvw5KRrrBjv7Dv9W2n8gGuxOjVP1ESiZF6QrTJglxRZZ1ZZwjY7wA4OIHMB0XBSFSB8MUFBoCggkuH/m7wIiWY+4IdB5G5IMoWSaa/WnAlukmiQhO5Zj2JsoOokIk20SyJKpI420iXkqrmO14k8eVZqMNP9oHiZYiaEmLNo1gTWxoUy3a5I+2HGEtkGhLNtomAmtbg7zRgm/9sDej8O0x/oYdfoTAP9TAj1nwgx/+URR+OIYf15ELCPCSBn6RBV72gRei8Etj+MU6tPLhH41GXfO43AIjAAAAAElFTkSuQmCC",alt:""},null,-1)))],He={style:{flex:"1",margin:"0px 5px"}},Ze={class:"custom-button"},Qe=[Ce((()=>n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAS1BMVEVHcEwNb/8Nbv8Ocf8Mbv8Nbf8Nbv8Qcf8zmf8Nbv8Nbv8Wbv8Ocv8Nb/8Nb/8NcP8Nbf8PcP8cjf8Nbv8Nbv8NcP8OcP8Nbv8Nbv+sb0c3AAAAGHRSTlMAXpwhsunxPwX5khcy3m5xzVQJ0oh0Rrn3uGXUAAACAUlEQVR42q2YWZKFIAxFg4KAiLM+9r/SLgNdj24VFXM+tMrhmkCCJJCiYTOfrNBa2InPrIEcTMsr94+KtwYeMbKPO+HDxvsyi3AJxHJPSnWxjOVFPc91wW0s1Sm4RE7RiDTRC6qJRm2SV+bUzqP5oA5uD1w7T500quyDTF2ePlIHqb5MuBVMLwwkMEVw/dS9QftPXQZe4w3XAxzCgjkKLlHBKHZoj0M6uEXnkAObpEa/V7jJWqF3cjcZeN2WcJvS4pf/vaH6cPU+4du9ghgfhys8YvWRCRESL7XwkNZtyMixCecdHlNg3ql4LtHZY5gQDI5R/Z+IGXHdOItno53T5izGcVUZwbMkHZM4DknnlsggbfKEjP6axPwk5glB/c25z2ZQmStUbiZ90LjtQQ65QsC3++Y3qoZ8oQFjOShWKl9IVcEjf84WCpaEkGrfCLU+nBme3gg1PgDm7aTeCKntgRk9tPBGCCyO8oTHN0JoywR2n7BGxnS4UsgYs09cC2KXaEy7CzTbpZsAjSMVI9wlAmLmTZtMiMw1ssEmm36ygCRLEbKkJVtGqBY2sqWWbPEn+x1R/SDJftlkmwiqbQ3ZRotq60e/GQWZLkPSBYmk2rCTlRCERQ19mRUXfu2TMsQNVKUoVXFMVa5TNRCoWhpUTRb6tg99I4q+NUbfrAuoJ+3DH6O5cGG4augGAAAAAElFTkSuQmCC",alt:""},null,-1)))],ze=Ce((()=>n("p",{class:"slider-dec"},"拖动按钮查看不同年龄保障",-1))),Fe={class:"btn-two"};var De=e(a({__name:"Benefit",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,c=l(0),v=l(0),b=l(0),h=l(),g=l(0),I=l(!0),S=e=>{if(!(null==e?void 0:e.benefitRiskResultVOList))return;const a=(null==e?void 0:e.benefitRiskResultVOList[c.value])||{};v.value=a.ageBegin+1,g.value=a.ageBegin+1,b.value=a.ageEnd},N=()=>{var e,l,i;const t=null==(l=null==(e=a.info)?void 0:e.benefitRiskResultVOList)?void 0:l[c.value],{a:s,year:n}=((e,a)=>{const l=[],i=[];for(let t=e,s=0;t<=a;t++,s++)l.push(t.toString()),i.push(s+1);return{a:l,year:i}})(v.value,b.value),o={index:s.indexOf(g.value.toString()),age:s,year:n,result:null==(i=null==t?void 0:t.benefitRiskItemResultVOList)?void 0:i[0]};h.value=o},x=()=>{g.value>b.value-1||(g.value+=1,N())},M=()=>{g.value>v.value&&(g.value-=1,N())},P=e=>{c.value=e.name,S(a.info),N()},O=e=>{I.value="1"===e};return i((()=>a.info),(e=>{e&&(S(e),N())}),{deep:!0,immediate:!0}),i(g,(()=>{N()})),(e,l)=>{const i=te,S=w,N=V,U=R;return t(),s("div",we,[Ve,A(U,{active:r(c),"title-active-color":"#0d6efe","title-inactive-color":"#393D46",shrink:"",onClickTab:P},{default:k((()=>{var e;return[(t(!0),s(o,null,y(null==(e=a.info)?void 0:e.benefitRiskResultVOList,((e,a)=>(t(),f(N,{key:a,name:a,title:e.productName},{default:k((()=>{var e,w,V,R,N,P,U,j,E,_,L,B,T,H,Z,Q;return[a==r(c)?(t(),s("div",Re,[r(I)?d("",!0):(t(),s("div",Ie,[Se,n("div",null,[m(" 保单年度"),n("span",null,u(null==(V=null==(e=r(h))?void 0:e.year)?void 0:V[null==(w=r(h))?void 0:w.index]),1),m("年度，被保人"),n("span",null,u(null==(P=null==(R=r(h))?void 0:R.age)?void 0:P[null==(N=r(h))?void 0:N.index]),1),m("岁时 ")]),Ne])),r(I)?(t(),s("div",xe,[n("div",Me,[n("div",Pe,[Oe,n("div",null,[m(" 保单年度"),n("span",null,"  "+u(null==(E=null==(U=r(h))?void 0:U.year)?void 0:E[null==(j=r(h))?void 0:j.index])+"  ",1),m("年度，被保人"),n("span",null,"  "+u(null==(B=null==(_=r(h))?void 0:_.age)?void 0:B[null==(L=r(h))?void 0:L.index])+"  ",1),m("岁时 ")]),Ue]),n("div",je,[(t(!0),s(o,null,y(null==(H=null==(T=r(h))?void 0:T.result)?void 0:H.headers,((e,a)=>{var l,i,o,d,c;return t(),s("div",{key:a,style:{width:"33%"}},[n("p",Ee,u(r(p)(Number(null==(c=null==(d=null==(i=null==(l=r(h))?void 0:l.result)?void 0:i.dataList)?void 0:d[null==(o=r(h))?void 0:o.index])?void 0:c[a]))||"--"),1),n("p",_e,u(e)+"(元）",1)])})),128))])])])):d("",!0),r(I)?d("",!0):(t(),s("div",Le,[A(ne,{min:r(v),max:r(b),current:r(g),data:null==(Q=null==(Z=r(h))?void 0:Z.result)?void 0:Q.benefitRiskItemList},null,8,["min","max","current","data"])])),n("div",Be,[n("div",{class:"add lf",onClick:M},Te),n("div",He,[r(v)?(t(),f(i,{key:0,modelValue:r(g),"onUpdate:modelValue":l[0]||(l[0]=e=>C(g)?g.value=e:null),min:r(v),max:r(b),"bar-height":"8px"},{button:k((()=>[n("div",Ze,u(r(g))+" 岁",1)])),_:1},8,["modelValue","min","max"])):d("",!0)]),n("div",{class:"add rg",onClick:x},Qe)]),ze,n("div",Fe,[A(S,{round:"",plain:!r(I),type:"primary",class:"btn",onClick:l[1]||(l[1]=e=>O("1"))},{default:k((()=>[m("图表展示")])),_:1},8,["plain"]),A(S,{round:"",plain:r(I),type:"primary",class:"btn",onClick:l[2]||(l[2]=e=>O("2"))},{default:k((()=>[m("趋势展示")])),_:1},8,["plain"])])])):d("",!0)]})),_:2},1032,["name","title"])))),128))]})),_:1},8,["active"])])}}}),[["__scopeId","data-v-f8272ed6"]]),Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAsCAMAAACjdTNyAAAAJFBMVEVHcEwGev8Ie/8He/8QhP8Hff8Lff8ff/8Kf/8HeP8Jev8KfP88zNEzAAAADHRSTlMATTtEDx4rCBgkNDEC504AAAAAu0lEQVR42t2TzRKDMAiEV35CSN7/fTtiKOnBWz2034nZRRxYBdCJeQgKGczUz6odgSLRS2hAPxaST6XQQVm25bUUCFxlUM1c3ljeKG9m6cvzFCbs3ZXkJAN61CRIhKI3FjRtTbFzCoZ/QSlX35an2HjmORPPc0Jvs9VHsm01/kLrJcY18mMoGyAcliExCktw0t0FO+Le8WOY3QnO8RUX/RQ8T1QRVUj0cLZzefMb2UY9tmzH9iOLqiDZhBeX/QTFelEoEAAAAABJRU5ErkJggg==";const qe={class:"container"},Ke={class:"common-title"},We={class:"title"},Je=(e=>(h("data-v-ca3ad352"),e=e(),g(),e))((()=>n("img",{src:Ge,class:"ig"},null,-1))),$e={class:"product-detail"},Xe=["innerHTML"];var Ye=e(a({__name:"LiabilityByRisk",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,i=l([]);return(e,l)=>{var d;const c=W,v=oe;return t(),s("div",qe,[(t(!0),s(o,null,y(null==(d=a.info)?void 0:d.liabilityByRiskVOList,((e,a)=>(t(),s("div",{key:a},[n("div",Ke,[n("div",We,[Je,m(" "+u(e.riskName),1)])]),n("div",$e,[A(v,{modelValue:r(i),"onUpdate:modelValue":l[0]||(l[0]=e=>C(i)?i.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:k((()=>[(t(!0),s(o,null,y(e.proposalRiskLiabilityVOList,((e,l)=>(t(),f(c,{key:l,title:e.liabilityName,border:!1,name:`${l}-${a}`,"value-class":"price",value:e.liabilityIndemnityContent},{default:k((()=>[n("div",{innerHTML:e.liabilityDesc},null,8,Xe)])),_:2},1032,["title","name","value"])))),128))])),_:2},1032,["modelValue"])])])))),128))])}}}),[["__scopeId","data-v-ca3ad352"]]);const ea={class:"container"},aa={class:"common-title"},la={class:"title"},ia=(e=>(h("data-v-c1e16a54"),e=e(),g(),e))((()=>n("img",{src:Ge,class:"ig"},null,-1))),ta={class:"product-detail"};var sa=e(a({__name:"LiabilityByRes",props:{info:{type:Object,default:()=>{}}},setup(e){const a=e,i=l([]);return(e,l)=>{var d;const c=I,v=W,p=oe;return t(),s("div",ea,[(t(!0),s(o,null,y(null==(d=a.info)?void 0:d.liabilityByTopTypeVOList,((e,a)=>(t(),s("div",{key:a},[n("div",null,[n("div",aa,[n("div",la,[ia,m(" "+u(e.liabilityTopTypeName),1)])]),n("div",ta,[A(p,{modelValue:r(i),"onUpdate:modelValue":l[0]||(l[0]=e=>C(i)?i.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:k((()=>[(t(!0),s(o,null,y(Object.keys(e.proposalRiskLiabilityVOMap),((l,i)=>(t(),f(v,{key:i+a,title:l,name:i+a,border:!1,"value-class":"price"},{default:k((()=>[(t(!0),s(o,null,y(e.proposalRiskLiabilityVOMap[l],(e=>(t(),f(c,{key:e.liabilityId,title:e.liabilityName,content:e.liabilityIndemnityContent||"",border:!1},null,8,["title","content"])))),128))])),_:2},1032,["title","name"])))),128))])),_:2},1032,["modelValue"])])])])))),128))])}}}),[["__scopeId","data-v-c1e16a54"]]);const na=e=>(h("data-v-654d11f6"),e=e(),g(),e),oa={class:"com-insured-product-wrapper"},da={class:"container"},ua=na((()=>n("span",{class:"clear-all"},null,-1))),ra=na((()=>n("span",{class:"title"}," 选择投保产品 ",-1))),ca={class:"popup-body"},va={class:"cell-title"},ma={class:"title"},pa={class:"error-message"},fa={class:"footer-button"};var ba=e(a({__name:"index",props:{isShow:{type:Boolean,default:!0},dataSource:{default:()=>[]}},emits:["close","finished"],setup(e,{emit:a}){const d=e,c="已通过计划书进行投保",v="产品未授权，无法进行投保",p="产品暂不支持计划书转投保",b=l(""),h=l(null),g=l({isShow:d.isShow}),V=S((()=>e=>1===e.insured?c:1!==e.authStatus?v:1!==e.insureMethod?p:"")),R=()=>{a("close")},I=()=>{if(!b.value)return N("请选择投保产品");a("finished",h.value)};return i((()=>d.isShow),(e=>{g.value.isShow=e})),(a,l)=>{const i=x,d=M,c=P,v=O,p=w,S=U;return t(),s("div",oa,[A(S,{show:r(g).isShow,"onUpdate:show":l[1]||(l[1]=e=>r(g).isShow=e),position:"bottom",onClose:R},{default:k((()=>[n("div",da,[n("div",{class:"popup-header"},[ua,ra,n("span",{onClick:R},"X")]),n("div",ca,[A(v,{modelValue:r(b),"onUpdate:modelValue":l[0]||(l[0]=e=>C(b)?b.value=e:null)},{default:k((()=>[A(c,null,{default:k((()=>[(t(!0),s(o,null,y(e.dataSource,(e=>(t(),f(d,{key:e.productCode,onClick:a=>{return l=e,void(V.value(l)||(h.value=l,b.value=l.productCode));var l}},{"right-icon":k((()=>[A(i,{name:e.productCode,disabled:!!r(V)(e)},null,8,["name","disabled"])])),title:k((()=>[n("div",va,[n("div",ma,[n("p",null,u(e.productName),1),n("span",pa,u(r(V)(e)),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])]),n("div",fa,[A(p,{block:"",type:"primary",onClick:I},{default:k((()=>[m("立即投保")])),_:1})])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-654d11f6"]]);const ha={class:"popup-body"},ga={class:""},Aa={class:"radio-wrap"},ka=["onClick"],ya={class:"footer"},Ca=a({name:"themeSelect"}),wa=a({...Ca,props:{show:{type:Boolean,default:!1},themeList:{default:()=>[]}},emits:["submit","update:show"],setup(e,{emit:a}){var i,d;const c=e,{show:v,themeList:p}=r(c),b=l(null==(i=null==p?void 0:p[0])?void 0:i.id),h=l(null==(d=null==p?void 0:p[0])?void 0:d.id),g=()=>{var e;a("submit",h.value?b.value||(null==(e=null==p?void 0:p[0])?void 0:e.id):h.value)};return(e,l)=>{const i=ue,d=M,c=x,V=P,R=O,I=w,S=_;return t(),f(S,{show:r(v),"onUpdate:show":l[2]||(l[2]=e=>C(v)?v.value=e:null),class:"theme-select-wrap",title:"选择计划书封面",onClose:l[3]||(l[3]=e=>a("update:show",!1))},{default:k((()=>[n("div",ha,[A(d,{center:"",title:"封面图"},{"right-icon":k((()=>[A(i,{modelValue:r(h),"onUpdate:modelValue":l[0]||(l[0]=e=>C(h)?h.value=e:null),"inactive-value":0,"active-value":r(p)[0].id,size:"0.7rem"},null,8,["modelValue","active-value"])])),_:1}),n("div",ga,[A(R,{modelValue:r(b),"onUpdate:modelValue":l[1]||(l[1]=e=>C(b)?b.value=e:null)},{default:k((()=>[A(V,{inset:""},{default:k((()=>[n("div",Aa,[(t(!0),s(o,null,y(r(p),(e=>(t(),s("div",{key:e.id,class:"radio-item"},[n("div",{class:"radio-img",style:j({backgroundImage:`url(${e.showConfig.thumbnailImage})`}),onClick:a=>{return l=e.id,void(0!==h.value&&(b.value=l));var l}},[A(c,{name:e.id,disabled:0===r(h)},null,8,["name","disabled"])],12,ka),n("span",{class:E(""+(r(b)===e.id?"checked":""))},u(e.name),3)])))),128))])])),_:1})])),_:1},8,["modelValue"])])]),n("div",ya,[A(I,{type:"primary",disabled:!(r(b)||!r(h)),block:"",onClick:g},{default:k((()=>[m("确定")])),_:1},8,["disabled"])])])),_:1},8,["show"])}}});const Va=e=>(h("data-v-a9e3a71a"),e=e(),g(),e),Ra={class:"head-bg"},Ia={key:3,class:"container"},Sa=Va((()=>n("div",{class:"common-title"},"保险公司简介",-1))),Na=Va((()=>n("span",{class:"poiner"},null,-1))),xa={class:"insure-desc"},Ma={key:0,class:"footer-btn"},Pa=Va((()=>n("span",null,"分享计划书",-1)));var Oa=e(a({__name:"index",setup(e){const a=L(),c=l(!0),p=B(),h=T(),{isShare:g,id:V,themeId:R,preview:I}=p.query,x=l(),M=l(""),P=l(""),O=l({}),U=l([]);l();const[j,_]=H(),[ie,te]=H(),se=l([]),ne=l([]),ue=l(),re=l("share");let ce="";const ve=()=>{c.value=!c.value},me=S((()=>{var e,a;if(!(null==(a=null==(e=x.value)?void 0:e.insurerInfoVOList)?void 0:a.length))return!1;return(x.value.insurerInfoVOList||[]).find((e=>e.insurerDesc))})),pe=S((()=>!!U.value.filter((e=>1===e.authStatus&&1===e.insureMethod)).length)),fe=S((()=>"1"==`${I}`));i((()=>x.value),(e=>{if(P.value)return;const{gender:a,name:l,birthday:i}=e;v().diff(i,"y"),(e=>e===+b.MALE)(a)?P.value=`${l}先生的计划书`:P.value=`${l}女士的计划书`}));const be=e=>{O.value={title:P,desc:"您的贴心保险管家",link:e,imgUrl:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/MyPicture/asdad.png",img:"https://aquarius-v100-test.oss-cn-hangzhou.aliyuncs.com/MyPicture/asdad.png"}},he=e=>{const{productCode:a,insurerCode:l,tenantProductCode:i}=e;ae({productCode:a,proposalId:V}).then((({code:e,data:a,message:t})=>{"10000"===e&&(a?de({insurerCode:l,productCode:i,proposalId:V}).then((({code:e,data:a})=>{"10000"===e&&(window.location.href=a)})):N(t))}))},ge=()=>{var e,a;1===(null==(e=U.value)?void 0:e.length)?he(null==(a=U.value)?void 0:a[0]):_(!0)},Ae=e=>{re.value="pdf",V?(N.loading({message:"PDF生成中...",forbidClick:!0}),X({id:V,themeHistoryId:e}).then((e=>{const{code:a,message:l}=e;"10000"===a&&(N.clear(),l?h.push(`/pdfViewer?url=${encodeURIComponent(l)}&title=${encodeURIComponent(P.value)}`):N("计划书为空"))}))):N("PDF生成失败")},ke=async e=>{if(e){const{code:a,data:l}=await le({themeId:e,proposalId:V});"10000"===a&&(te(!1),"pdf"===re.value?Ae(l):(ce=`${G}/proposalCover?id=${V}&isShare=1&tenantId=${M.value}&themeId=${l}`,be(ce),setTimeout(ue.value.handleShare,100)))}else te(!1),"pdf"===re.value?Ae():(ce=`${G}/proposalCover?id=${V}&isShare=1&tenantId=${M.value}`,be(ce),setTimeout(ue.value.handleShare,100))},Ce=()=>{re.value="pdf",ne.value.length?te(!0):Ae()};return Z((()=>{if(p.query.token){new Q({source:"localStorage"}).set("token",p.query.token)}g||(ee({proposalId:V}).then((({code:e,data:a})=>{"10000"===e&&(U.value=a)})),(async()=>{const{code:e,data:a}=await Y();"10000"===e&&(ne.value=a||[])})()),(async()=>{try{let e=null;e=g?await J(`${V}?tenantId=${p.query.tenantId}`):await $(V);const{code:a,data:l}=e;if("10000"===a){const e=(null==l?void 0:l.proposalInsuredVOList[0])||{};x.value=e,P.value=l.proposalName,M.value=null==l?void 0:l.tenantId,ce=`${G}/proposalCover?id=${V}&isShare=1&tenantId=${M.value}`,be(ce)}}catch(e){N("接口请求失败")}})()})),(e,l)=>{const i=W,v=oe,p=q,b=w,h=K,V=z("ProPageWrap");return t(),f(V,null,{default:k((()=>[A(h,{"theme-vars":r(a)},{default:k((()=>{var e;return[n("div",{class:E(["page-composition-proposal",{"page-proposal-bottom":!r(g)}])},[n("div",Ra,u(r(P)),1),A(ye,{info:r(x)},null,8,["info"]),n("div",{class:"switch-btn",onClick:ve},u(r(c)?"按责任显示":"按险种显示"),1),r(c)?(t(),f(Ye,{key:0,info:r(x)},null,8,["info"])):(t(),f(sa,{key:1,info:r(x)},null,8,["info"])),(null==(e=r(x))?void 0:e.benefitRiskResultVOList)?(t(),f(De,{key:2,info:r(x)},null,8,["info"])):d("",!0),r(me)?(t(),s("div",Ia,[Sa,A(v,{modelValue:r(se),"onUpdate:modelValue":l[0]||(l[0]=e=>C(se)?se.value=e:null),"is-link":!1,border:!1,size:"middle"},{default:k((()=>{var e;return[(t(!0),s(o,null,y(null==(e=r(x))?void 0:e.insurerInfoVOList,((e,a)=>(t(),s(o,{key:a},[e.insurerDesc?(t(),f(i,{key:0,name:a,"value-class":"price"},{title:k((()=>[n("div",null,[Na,m(u(null==e?void 0:e.insurerName),1)])])),default:k((()=>[n("div",xa,u(e.insurerDesc),1)])),_:2},1032,["name"])):d("",!0)],64)))),128))]})),_:1},8,["modelValue"])])):d("",!0)],2),r(g)||r(fe)?d("",!0):(t(),s("div",Ma,[A(F,{ref_key:"shareButtonRef",ref:ue,title:r(O).title,desc:r(O).desc,link:r(O).link,"img-url":r(O).imgUrl},{default:k((()=>[n("div",{class:"share-btn",onClick:l[1]||(l[1]=D((()=>(re.value="share",void(ne.value.length?te(!0):ue.value.handleShare(O.value)))),["stop"]))},[A(p,{name:"share-icon","font-size":"24px",color:"var(--van-primary-color)"}),Pa])])),_:1},8,["title","desc","link","img-url"]),A(b,{plain:"",type:"primary",class:"btn",onClick:Ce},{default:k((()=>[m("生成PDF")])),_:1}),r(pe)?(t(),f(b,{key:0,type:"primary",class:"btn",onClick:ge},{default:k((()=>[m("立即投保")])),_:1})):d("",!0)])),r(j)?(t(),f(ba,{key:1,"is-show":r(j),"data-source":r(U),onFinished:he,onClose:l[2]||(l[2]=e=>r(_)(!1))},null,8,["is-show","data-source"])):d("",!0),(t(),f(wa,{key:+r(ie),show:r(ie),"onUpdate:show":l[3]||(l[3]=e=>C(ie)?ie.value=e:null),"theme-list":r(ne),onSubmit:ke},null,8,["show","theme-list"]))]})),_:1},8,["theme-vars"])])),_:1})}}}),[["__scopeId","data-v-a9e3a71a"]]);export{Oa as default};
