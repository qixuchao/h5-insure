var V=Object.defineProperty,j=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var x=(t,e,a)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,g=(t,e)=>{for(var a in e||(e={}))U.call(e,a)&&x(t,a,e[a]);if(D)for(var a of D(e))w.call(e,a)&&x(t,a,e[a]);return t},E=(t,e)=>j(t,M(e));import{g as z,af as O,Q as $,C as A,L as G,M as Q,r as l,h,j as S,k as c,n as p,m as W,E as J,z as H,F as K,y as i,a1 as X,a2 as Y,B as y,T as b,J as Z}from"./vendor-d47732e4.js";import{_ as ee,j as I,P as te}from"./index-c52e51e2.js";import{l as ae}from"./inform-a19543b4.js";import{a as oe,n as se}from"./index-f0b18e0c.js";import{s as ne}from"./useStorage-5eaf0d93.js";import{s as ue}from"./verify-266f9a61.js";const ie=t=>(X("data-v-48eaa6b2"),t=t(),Y(),t),re={class:"footer-btn"},le={class:"inform-file"},ce=ie(()=>i("p",{class:"tips"},[y("\u60A8\u7684\u7B7E\u540D\u5C06\u88AB\u7528\u4E8E"),i("span",null,"\u300A\u8425\u9500\u5458\u544A\u77E5\u4E66\u300B"),y("\u6587\u4EF6")],-1)),pe={class:"footer-button"},de=y("\u4E0B\u4E00\u6B65"),_e=z({setup(t){const e=O(),a=$(),{productCode:P="MMBBSF",agentCode:T="65434444",tenantId:B="9991000007",agencyCode:fe="3311222",insurerCode:me="zhongan",productCategory:F="1",templateId:ge="1",orderNo:v="2022080217103534947"}=a.query,d=A(null),k=A(!1),N=()=>{var o;(o=d.value)==null||o.clear()},u=G({noticeType:"",materialSource:"",noticeList:[],pageData:{}}),q=()=>{oe({orderNo:v,saleUserId:T,tenantId:B}).then(({code:o,data:s})=>{o==="10000"&&Object.assign(u.pageData,s)})};Q(()=>{q(),ae({insurerCode:P,orderNo:v,productCategory:F,tenantId:B,noticeType:9,objectType:3}).then(({code:o,data:s})=>{o==="10000"&&(u.noticeList=s)})});const R=o=>{ne.set("questionData",o),e.push({path:"/healthNotice",query:{questionnaireType:o.questionnaireType}})},L=()=>{var _,f;if(!u.noticeList.every(r=>r.isDone===1)){b("\u8BF7\u5B8C\u6210\u6240\u6709\u544A\u77E5\u8FDB\u884C\u4E0B\u4E00\u6B65");return}if((_=d.value)==null?void 0:_.isEmpty()){b("\u8BF7\u5B8C\u6210\u4EE3\u7406\u4EBA\u7B7E\u5B57\u8FDB\u884C\u4E0B\u4E00\u6B65");return}const s=(f=d.value)==null?void 0:f.save();ue("AGENT",s,v,B).then(r=>{r&&se(E(g({},u.pageData),{extInfo:E(g({},u.pageData.extInfo),{templateId:"1",pageCode:"salesNotice"})})).then((C,m)=>{C==="10000"&&m.pageAction.pageAction==="jumpToPage"&&e.push({path:te[m.pageAction.data.nextPageCode],query:g({},a.query)})})})};return(o,s)=>{const _=l("van-cell"),f=l("ProSign"),r=l("van-checkbox"),C=l("van-button"),m=l("ProPageWrap");return h(),S(m,{class:"page-salesman-inform"},{default:c(()=>[p(I,{title:"\u8425\u9500\u5458\u544A\u77E5\u4E66"},{default:c(()=>[(h(!0),W(K,null,J(H(u).noticeList,n=>(h(),S(_,{key:n.id,class:Z({"is-active":n.isDone===2}),title:`\u300A${n.title}\u300B`,"is-link":"",value:`${n.isDone===1?"\u5DF2\u5B8C\u6210":"\u53BB\u5B8C\u6210"}`,onClick:Be=>R(n)},null,8,["class","title","value","onClick"]))),128))]),_:1}),p(I,{title:"\u8425\u9500\u5458\u7B7E\u5B57","show-divider":!1,"show-line":!1},{extra:c(()=>[i("div",{class:"resign",onClick:N},"\u91CD\u7B7E")]),default:c(()=>[p(f,{ref_key:"agentSignRef",ref:d,selector:"sign2"},null,512)]),_:1}),i("footer",re,[i("div",le,[p(r,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=n=>k.value=n),shape:"square"},null,8,["modelValue"]),ce]),i("div",pe,[p(C,{type:"primary",block:"",onClick:L},{default:c(()=>[de]),_:1})])])]),_:1})}}});var xe=ee(_e,[["__scopeId","data-v-48eaa6b2"]]);export{xe as default};
