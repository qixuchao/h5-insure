import{g,v as h,p as k,T as r,o as w,i as x,k as _}from"./vendor-8d9a202a.js";import{w as v,n as C}from"./pdf.worker.entry-a3c24419.js";import{p as d}from"./pdf_viewer-2447d48a.js";const E=["id"],b=g({setup(T){d.exports.GlobalWorkerOptions.workerSrc=v;const u=h(),a=C(),l=e=>{r.loading({forbidClick:!0});const o=document.getElementById(a);if(o.hasChildNodes())return;d.exports.getDocument({url:e}).promise.then(c=>{const p=c.numPages;for(let n=1;n<=p;n++)c.getPage(n).then(i=>{const s=i.getViewport({scale:1}),t=document.createElement("canvas"),m=t.getContext("2d");t.width=s.width,t.height=s.height,t.style.width="100%",o.append(t);const f={canvasContext:m,viewport:s};i.render(f)});r.clear()})};return k(()=>{const{url:e}=u.query;if(!e){r("pdf\u6587\u4EF6\u4E3A\u7A7A");return}l(e)}),(e,o)=>(w(),x("div",{id:_(a)},null,8,E))}});export{b as default};
