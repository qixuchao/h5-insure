!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.com-pop-select .empty-select{margin-top:2.77333rem}.com-pop-select .van-checkbox__label{width:100%}.com-pop-select .area-wrap{display:flex;align-items:center;justify-content:space-between;font-size:.4rem}.com-pop-select .van-search__content{background:#f3f3f3}.com-pop-select .title{text-align:center;padding:.34667rem 0;font-size:.42667rem;line-height:.66667rem;font-weight:500;color:#343434;border-bottom:1px solid #f4f5f7;position:relative}.com-pop-select .title .back-icon{position:absolute;left:.4rem;line-height:.66667rem;top:.4rem;display:flex}.com-pop-select .title .back-icon .back-icon-left{display:flex;align-items:center}.com-pop-select .title .back-icon .back-icon-left img{width:.32rem;height:.37333rem}.com-pop-select .title .back-icon .back-icon-left span{color:#616161}.com-pop-select .title .back-icon .back-icon-right{color:#616161;margin-left:.26667rem}.com-pop-select .van-cell-group--inset{margin:0;margin-bottom:2.66667rem}.com-pop-select .search{margin-top:.13333rem}.com-pop-select .cell-list{height:calc(70vh - 5.46667rem);max-height:calc(70vh - 5.46667rem);overflow:scroll}.com-pop-select .van-cell:after{display:none}.com-pop-select .cell{--van-checkbox-border-color: #e1e1e1;padding:.4rem;padding-left:0;margin-left:.4rem;border-bottom:.02667rem solid #f4f5f7!important}.com-pop-select .cell .van-radio__label{flex:1}.com-pop-select .cell .van-checkbox__icon .van-icon{border-radius:.10667rem}.com-pop-select .half .van-checkbox__icon .van-icon{display:flex;align-items:center;justify-content:center}.com-pop-select .half .van-icon-success:before{content:"-"}.com-pop-select .footer{width:100%;position:relative;height:2rem;padding:.4rem;background:#ffffff;box-shadow:0 -.02667rem .13333rem #f6f6f6}.com-pop-select .footer .btn{width:100%;height:1.17333rem;background:var(--van-button-primary-background-color);border-radius:.6rem;display:block;margin:0 auto;color:#fff}.com-pop-select .empty{display:none;text-align:center;color:#969696}.com-pop-select .empty .img{width:2.66667rem;height:2.66667rem;margin:2.66667rem 0 .53333rem}\n',document.head.appendChild(e),System.register(["./select-legacy-7de2a63e.js","./index-legacy-4c8de798.js","./index-legacy-9604cbf9.js","./vendor-legacy-f56233fa.js"],(function(e){"use strict";var l,o,a,t,c,n,i,r,s,m,p,d,u,v,b,f,h,g,y,k,C,_;return{setters:[function(e){l=e.a,o=e.b,a=e.e,t=e.q},function(e){c=e._},function(e){n=e.u},function(e){i=e.g,r=e.C,s=e.a4,m=e.r,p=e.k,d=e.h,u=e.j,v=e.y,b=e.m,f=e.z,h=e.s,g=e.n,y=e.E,k=e.I,C=e.F,_=e.B}],execute:function(){const x={class:"com-pop-select"},w={class:"title"},T=_(" 搜索 "),$={class:"back-icon"},I=["src"],V={class:"search"},j={class:"cell-list"},D=["onClick"],L={class:"footer"};e("_",i({props:{visible:{type:Boolean,default:!1},selectValue:{type:Array,default:()=>[]}},emits:["on-submit","update:visible"],setup(e,{emit:i}){const E=e,{getIconUrl:U}=n(),z=r([]),S=r([]),q=r([]),A=r([]),B=r(""),F=r(!1),H=r(0),M=()=>{F.value=!0;const{memberType:e="",memberCode:l=""}=z.value[z.value.length-1]||{};t({memberType:e,directLevel:1,memberCode:l}).then((e=>{const{status:l}=e;if(200===l){const l=[],o=e.data.data.map((e=>(l.push(`${e.agencyId}_${e.memberType}`),{unionCode:`${e.agencyId}_${e.memberType}`,...e})));q.value=o,S.value=S.value.concat(o)}})).finally((()=>{F.value=!1}))};s((()=>E.visible),(e=>{e&&(A.value=E.selectValue.map((e=>`${e.agencyId}_${e.memberType}`))||[],M())})),s(A,(async e=>{const o=[];e.forEach((e=>{const l=S.value.find((l=>l.unionCode===e));l&&o.push({memberType:l.memberType,memberCode:l.memberCode})}));const{data:{data:a}}=await l({codeList:o});H.value=a||0}));const N=e=>{var l;z.value=[],F.value=!0,t({keyword:e,directLevel:1,memberType:e?"ALL":"",memberCode:null===(l=z.value[z.value.length-1])||void 0===l?void 0:l.memberCode}).then((e=>{const{status:l}=e;if(200===l){const l=e.data.data.map((e=>({unionCode:`${e.agencyId}_${e.memberType}`,...e})));q.value=l,S.value=S.value.concat(l)}})).finally((()=>{F.value=!1}))},R=()=>{M()},G=()=>{B.value="",i("update:visible",!1)},J=()=>{A.value=[]},K=()=>{z.value.length>0&&(z.value.pop(),M())},O=()=>{const e=[];A.value.forEach((l=>{const o=S.value.find((e=>e.unionCode===l));e.push(o)})),B.value="",i("on-submit",e),i("update:visible",!1)};return(l,t)=>{const n=m("van-search"),i=m("van-icon"),r=m("van-checkbox"),s=m("van-cell"),E=m("van-cell-group"),S=m("van-checkbox-group"),P=m("van-button"),Q=m("van-popup");return p(),d(Q,{show:e.visible,round:"",position:"bottom",style:{height:"70%"},closeable:"",onClickCloseIcon:G},{default:u((()=>[v("div",x,[v("div",w,[T,v("div",$,[z.value.length>0?(p(),b("div",{key:0,class:"back-icon-left",onClick:K},[v("img",{src:f(o),alt:""},null,8,I)])):h("",!0),A.value.length>0?(p(),b("div",{key:1,class:"back-icon-right",onClick:J},"清空")):h("",!0)])]),v("div",V,[g(n,{modelValue:B.value,"onUpdate:modelValue":t[0]||(t[0]=e=>B.value=e),shape:"round","left-icon":f(U)("target.searchImg"),clearable:"",placeholder:"请输入搜索关键词",onSearch:N,onClear:R},null,8,["modelValue","left-icon"])]),v("div",j,[q.value.length>0?(p(),d(S,{key:0,modelValue:A.value,"onUpdate:modelValue":t[1]||(t[1]=e=>A.value=e)},{default:u((()=>[g(E,{inset:""},{default:u((()=>[(p(!0),b(C,null,y(q.value,((e,l)=>(p(),d(s,{key:l,class:"cell",clickable:!1},{title:u((()=>[g(r,{name:e.unionCode,shape:"square","label-disabled":!0},{default:u((()=>[v("div",{class:"area-wrap",onClick:l=>e.hasChild&&(e=>{if(e.hasSubordinate){const{memberType:l,memberCode:o}=e;z.value.push({memberType:l,memberCode:o,unionCode:`${o}_${l}`}),M()}})(e)},[v("div",null,k(e.agencyName),1),e.hasChild?(p(),d(i,{key:0,name:"arrow",color:"#DDDDDD",style:{marginRight:"15px"}})):h("",!0)],8,D)])),_:2},1032,["name"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])):h("",!0),F.value||0!==q.value.length?h("",!0):(p(),d(c,{key:1,"empty-img":f(a),title:"没有找到相关信息~","empty-class":"empty-select"},null,8,["empty-img"]))]),v("div",L,[g(P,{type:"primary",class:"btn",onClick:O},{default:u((()=>[_("确定·已选"+k(H.value)+"人",1)])),_:1})])])])),_:1},8,["show"])}}}))}}}))}();
